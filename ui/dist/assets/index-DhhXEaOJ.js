function O7(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Mi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bv={exports:{}},fu={};var xN;function k7(){if(xN)return fu;xN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:a}}return fu.Fragment=e,fu.jsx=n,fu.jsxs=n,fu}var wN;function A7(){return wN||(wN=1,bv.exports=k7()),bv.exports}var v=A7(),xv={exports:{}},Ee={};var SN;function N7(){if(SN)return Ee;SN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function y(R){return R===null||typeof R!="object"?null:(R=g&&R[g]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function k(R,K,ce){this.props=R,this.context=K,this.refs=S,this.updater=ce||w}k.prototype.isReactComponent={},k.prototype.setState=function(R,K){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,K,"setState")},k.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function j(){}j.prototype=k.prototype;function N(R,K,ce){this.props=R,this.context=K,this.refs=S,this.updater=ce||w}var M=N.prototype=new j;M.constructor=N,C(M,k.prototype),M.isPureReactComponent=!0;var D=Array.isArray;function T(){}var E={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function _(R,K,ce){var Q=ce.ref;return{$$typeof:t,type:R,key:K,ref:Q!==void 0?Q:null,props:ce}}function z(R,K){return _(R.type,K,R.props)}function q(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function B(R){var K={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ce){return K[ce]})}var re=/\/+/g;function se(R,K){return typeof R=="object"&&R!==null&&R.key!=null?B(""+R.key):K.toString(36)}function ee(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(T,T):(R.status="pending",R.then(function(K){R.status==="pending"&&(R.status="fulfilled",R.value=K)},function(K){R.status==="pending"&&(R.status="rejected",R.reason=K)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function H(R,K,ce,Q,de){var fe=typeof R;(fe==="undefined"||fe==="boolean")&&(R=null);var be=!1;if(R===null)be=!0;else switch(fe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(R.$$typeof){case t:case e:be=!0;break;case d:return be=R._init,H(be(R._payload),K,ce,Q,de)}}if(be)return de=de(R),be=Q===""?"."+se(R,0):Q,D(de)?(ce="",be!=null&&(ce=be.replace(re,"$&/")+"/"),H(de,K,ce,"",function(je){return je})):de!=null&&(q(de)&&(de=z(de,ce+(de.key==null||R&&R.key===de.key?"":(""+de.key).replace(re,"$&/")+"/")+be)),K.push(de)),1;be=0;var yt=Q===""?".":Q+":";if(D(R))for(var te=0;te<R.length;te++)Q=R[te],fe=yt+se(Q,te),be+=H(Q,K,ce,fe,de);else if(te=y(R),typeof te=="function")for(R=te.call(R),te=0;!(Q=R.next()).done;)Q=Q.value,fe=yt+se(Q,te++),be+=H(Q,K,ce,fe,de);else if(fe==="object"){if(typeof R.then=="function")return H(ee(R),K,ce,Q,de);throw K=String(R),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return be}function Y(R,K,ce){if(R==null)return R;var Q=[],de=0;return H(R,Q,"","",function(fe){return K.call(ce,fe,de++)}),Q}function le(R){if(R._status===-1){var K=R._result;K=K(),K.then(function(ce){(R._status===0||R._status===-1)&&(R._status=1,R._result=ce)},function(ce){(R._status===0||R._status===-1)&&(R._status=2,R._result=ce)}),R._status===-1&&(R._status=0,R._result=K)}if(R._status===1)return R._result.default;throw R._result}var oe=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},he={map:Y,forEach:function(R,K,ce){Y(R,function(){K.apply(this,arguments)},ce)},count:function(R){var K=0;return Y(R,function(){K++}),K},toArray:function(R){return Y(R,function(K){return K})||[]},only:function(R){if(!q(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Ee.Activity=p,Ee.Children=he,Ee.Component=k,Ee.Fragment=n,Ee.Profiler=i,Ee.PureComponent=N,Ee.StrictMode=r,Ee.Suspense=u,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(R){return E.H.useMemoCache(R)}},Ee.cache=function(R){return function(){return R.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(R,K,ce){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var Q=C({},R.props),de=R.key;if(K!=null)for(fe in K.key!==void 0&&(de=""+K.key),K)!I.call(K,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&K.ref===void 0||(Q[fe]=K[fe]);var fe=arguments.length-2;if(fe===1)Q.children=ce;else if(1<fe){for(var be=Array(fe),yt=0;yt<fe;yt++)be[yt]=arguments[yt+2];Q.children=be}return _(R.type,de,Q)},Ee.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:a,_context:R},R},Ee.createElement=function(R,K,ce){var Q,de={},fe=null;if(K!=null)for(Q in K.key!==void 0&&(fe=""+K.key),K)I.call(K,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(de[Q]=K[Q]);var be=arguments.length-2;if(be===1)de.children=ce;else if(1<be){for(var yt=Array(be),te=0;te<be;te++)yt[te]=arguments[te+2];de.children=yt}if(R&&R.defaultProps)for(Q in be=R.defaultProps,be)de[Q]===void 0&&(de[Q]=be[Q]);return _(R,fe,de)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(R){return{$$typeof:o,render:R}},Ee.isValidElement=q,Ee.lazy=function(R){return{$$typeof:d,_payload:{_status:-1,_result:R},_init:le}},Ee.memo=function(R,K){return{$$typeof:h,type:R,compare:K===void 0?null:K}},Ee.startTransition=function(R){var K=E.T,ce={};E.T=ce;try{var Q=R(),de=E.S;de!==null&&de(ce,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(T,oe)}catch(fe){oe(fe)}finally{K!==null&&ce.types!==null&&(K.types=ce.types),E.T=K}},Ee.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},Ee.use=function(R){return E.H.use(R)},Ee.useActionState=function(R,K,ce){return E.H.useActionState(R,K,ce)},Ee.useCallback=function(R,K){return E.H.useCallback(R,K)},Ee.useContext=function(R){return E.H.useContext(R)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(R,K){return E.H.useDeferredValue(R,K)},Ee.useEffect=function(R,K){return E.H.useEffect(R,K)},Ee.useEffectEvent=function(R){return E.H.useEffectEvent(R)},Ee.useId=function(){return E.H.useId()},Ee.useImperativeHandle=function(R,K,ce){return E.H.useImperativeHandle(R,K,ce)},Ee.useInsertionEffect=function(R,K){return E.H.useInsertionEffect(R,K)},Ee.useLayoutEffect=function(R,K){return E.H.useLayoutEffect(R,K)},Ee.useMemo=function(R,K){return E.H.useMemo(R,K)},Ee.useOptimistic=function(R,K){return E.H.useOptimistic(R,K)},Ee.useReducer=function(R,K,ce){return E.H.useReducer(R,K,ce)},Ee.useRef=function(R){return E.H.useRef(R)},Ee.useState=function(R){return E.H.useState(R)},Ee.useSyncExternalStore=function(R,K,ce){return E.H.useSyncExternalStore(R,K,ce)},Ee.useTransition=function(){return E.H.useTransition()},Ee.version="19.2.4",Ee}var CN;function Jo(){return CN||(CN=1,xv.exports=N7()),xv.exports}var O=Jo();const U3=Mi(O),H3=O7({__proto__:null,default:U3},[O]);var wv={exports:{}},hu={},Sv={exports:{}},Cv={};var ON;function j7(){return ON||(ON=1,(function(t){function e(H,Y){var le=H.length;H.push(Y);e:for(;0<le;){var oe=le-1>>>1,he=H[oe];if(0<i(he,Y))H[oe]=Y,H[le]=he,le=oe;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Y=H[0],le=H.pop();if(le!==Y){H[0]=le;e:for(var oe=0,he=H.length,R=he>>>1;oe<R;){var K=2*(oe+1)-1,ce=H[K],Q=K+1,de=H[Q];if(0>i(ce,le))Q<he&&0>i(de,ce)?(H[oe]=de,H[Q]=le,oe=Q):(H[oe]=ce,H[K]=le,oe=K);else if(Q<he&&0>i(de,le))H[oe]=de,H[Q]=le,oe=Q;else break e}}return Y}function i(H,Y){var le=H.sortIndex-Y.sortIndex;return le!==0?le:H.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var u=[],h=[],d=1,p=null,g=3,y=!1,w=!1,C=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function M(H){for(var Y=n(h);Y!==null;){if(Y.callback===null)r(h);else if(Y.startTime<=H)r(h),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=n(h)}}function D(H){if(C=!1,M(H),!w)if(n(u)!==null)w=!0,T||(T=!0,B());else{var Y=n(h);Y!==null&&ee(D,Y.startTime-H)}}var T=!1,E=-1,I=5,_=-1;function z(){return S?!0:!(t.unstable_now()-_<I)}function q(){if(S=!1,T){var H=t.unstable_now();_=H;var Y=!0;try{e:{w=!1,C&&(C=!1,j(E),E=-1),y=!0;var le=g;try{t:{for(M(H),p=n(u);p!==null&&!(p.expirationTime>H&&z());){var oe=p.callback;if(typeof oe=="function"){p.callback=null,g=p.priorityLevel;var he=oe(p.expirationTime<=H);if(H=t.unstable_now(),typeof he=="function"){p.callback=he,M(H),Y=!0;break t}p===n(u)&&r(u),M(H)}else r(u);p=n(u)}if(p!==null)Y=!0;else{var R=n(h);R!==null&&ee(D,R.startTime-H),Y=!1}}break e}finally{p=null,g=le,y=!1}Y=void 0}}finally{Y?B():T=!1}}}var B;if(typeof N=="function")B=function(){N(q)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,se=re.port2;re.port1.onmessage=q,B=function(){se.postMessage(null)}}else B=function(){k(q,0)};function ee(H,Y){E=k(function(){H(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(H){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var le=g;g=Y;try{return H()}finally{g=le}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var le=g;g=H;try{return Y()}finally{g=le}},t.unstable_scheduleCallback=function(H,Y,le){var oe=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?oe+le:oe):le=oe,H){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=le+he,H={id:d++,callback:Y,priorityLevel:H,startTime:le,expirationTime:he,sortIndex:-1},le>oe?(H.sortIndex=le,e(h,H),n(u)===null&&H===n(h)&&(C?(j(E),E=-1):C=!0,ee(D,le-oe))):(H.sortIndex=he,e(u,H),w||y||(w=!0,T||(T=!0,B()))),H},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(H){var Y=g;return function(){var le=g;g=Y;try{return H.apply(this,arguments)}finally{g=le}}}})(Cv)),Cv}var kN;function E7(){return kN||(kN=1,Sv.exports=j7()),Sv.exports}var Ov={exports:{}},bn={};var AN;function T7(){if(AN)return bn;AN=1;var t=Jo();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)h+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,h,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:h,implementation:d}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,bn.createPortal=function(u,h){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(u,h,null,d)},bn.flushSync=function(u){var h=l.T,d=r.p;try{if(l.T=null,r.p=2,u)return u()}finally{l.T=h,r.p=d,r.d.f()}},bn.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(u,h))},bn.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},bn.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var d=h.as,p=o(d,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;d==="style"?r.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:y}):d==="script"&&r.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},bn.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var d=o(h.as,h.crossOrigin);r.d.M(u,{crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(u)},bn.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var d=h.as,p=o(d,h.crossOrigin);r.d.L(u,d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},bn.preloadModule=function(u,h){if(typeof u=="string")if(h){var d=o(h.as,h.crossOrigin);r.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(u)},bn.requestFormReset=function(u){r.d.r(u)},bn.unstable_batchedUpdates=function(u,h){return u(h)},bn.useFormState=function(u,h,d){return l.H.useFormState(u,h,d)},bn.useFormStatus=function(){return l.H.useHostTransitionStatus()},bn.version="19.2.4",bn}var NN;function q3(){if(NN)return Ov.exports;NN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ov.exports=T7(),Ov.exports}var jN;function M7(){if(jN)return hu;jN=1;var t=E7(),e=Jo(),n=q3();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,f=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(f=c.return),s=c.return;while(s)}return c.tag===3?f:null}function l(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function o(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function h(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(r(188));return c!==s?null:s}for(var f=s,m=c;;){var b=f.return;if(b===null)break;var x=b.alternate;if(x===null){if(m=b.return,m!==null){f=m;continue}break}if(b.child===x.child){for(x=b.child;x;){if(x===f)return u(b),s;if(x===m)return u(b),c;x=x.sibling}throw Error(r(188))}if(f.return!==m.return)f=b,m=x;else{for(var A=!1,P=b.child;P;){if(P===f){A=!0,f=b,m=x;break}if(P===m){A=!0,m=b,f=x;break}P=P.sibling}if(!A){for(P=x.child;P;){if(P===f){A=!0,f=x,m=b;break}if(P===m){A=!0,m=x,f=b;break}P=P.sibling}if(!A)throw Error(r(189))}}if(f.alternate!==m)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?s:c}function d(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=d(s),c!==null)return c;s=s.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),N=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var re=Symbol.for("react.client.reference");function se(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===re?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case k:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case T:return"SuspenseList";case _:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case N:return s.displayName||"Context";case j:return(s._context.displayName||"Context")+".Consumer";case M:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case E:return c=s.displayName||null,c!==null?c:se(s.type)||"Memo";case I:c=s._payload,s=s._init;try{return se(s(c))}catch{}}return null}var ee=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},oe=[],he=-1;function R(s){return{current:s}}function K(s){0>he||(s.current=oe[he],oe[he]=null,he--)}function ce(s,c){he++,oe[he]=s.current,s.current=c}var Q=R(null),de=R(null),fe=R(null),be=R(null);function yt(s,c){switch(ce(fe,c),ce(de,s),ce(Q,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?$A(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=$A(c),s=VA(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}K(Q),ce(Q,s)}function te(){K(Q),K(de),K(fe)}function je(s){s.memoizedState!==null&&ce(be,s);var c=Q.current,f=VA(c,s.type);c!==f&&(ce(de,s),ce(Q,f))}function _e(s){de.current===s&&(K(Q),K(de)),be.current===s&&(K(be),lu._currentValue=le)}var ue,xt;function $e(s){if(ue===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);ue=c&&c[1]||"",xt=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+s+xt}var tn=!1;function nn(s,c){if(!s||tn)return"";tn=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var F=X}Reflect.construct(s,[],ie)}else{try{ie.call()}catch(X){F=X}s.call(ie.prototype)}}else{try{throw Error()}catch(X){F=X}(ie=s())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&F&&typeof X.stack=="string")return[X.stack,F.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=m.DetermineComponentFrameRoot(),A=x[0],P=x[1];if(A&&P){var L=A.split(`
`),W=P.split(`
`);for(b=m=0;m<L.length&&!L[m].includes("DetermineComponentFrameRoot");)m++;for(;b<W.length&&!W[b].includes("DetermineComponentFrameRoot");)b++;if(m===L.length||b===W.length)for(m=L.length-1,b=W.length-1;1<=m&&0<=b&&L[m]!==W[b];)b--;for(;1<=m&&0<=b;m--,b--)if(L[m]!==W[b]){if(m!==1||b!==1)do if(m--,b--,0>b||L[m]!==W[b]){var J=`
`+L[m].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=m&&0<=b);break}}}finally{tn=!1,Error.prepareStackTrace=f}return(f=s?s.displayName||s.name:"")?$e(f):""}function Ri(s,c){switch(s.tag){case 26:case 27:case 5:return $e(s.type);case 16:return $e("Lazy");case 13:return s.child!==c&&c!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return nn(s.type,!1);case 11:return nn(s.type.render,!1);case 1:return nn(s.type,!0);case 31:return $e("Activity");default:return""}}function vc(s){try{var c="",f=null;do c+=Ri(s,f),f=s,s=s.return;while(s);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var i0=Object.prototype.hasOwnProperty,a0=t.unstable_scheduleCallback,s0=t.unstable_cancelCallback,n6=t.unstable_shouldYield,r6=t.unstable_requestPaint,Zn=t.unstable_now,i6=t.unstable_getCurrentPriorityLevel,wC=t.unstable_ImmediatePriority,SC=t.unstable_UserBlockingPriority,th=t.unstable_NormalPriority,a6=t.unstable_LowPriority,CC=t.unstable_IdlePriority,s6=t.log,l6=t.unstable_setDisableYieldValue,bc=null,Jn=null;function Na(s){if(typeof s6=="function"&&l6(s),Jn&&typeof Jn.setStrictMode=="function")try{Jn.setStrictMode(bc,s)}catch{}}var er=Math.clz32?Math.clz32:u6,o6=Math.log,c6=Math.LN2;function u6(s){return s>>>=0,s===0?32:31-(o6(s)/c6|0)|0}var nh=256,rh=262144,ih=4194304;function js(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ah(s,c,f){var m=s.pendingLanes;if(m===0)return 0;var b=0,x=s.suspendedLanes,A=s.pingedLanes;s=s.warmLanes;var P=m&134217727;return P!==0?(m=P&~x,m!==0?b=js(m):(A&=P,A!==0?b=js(A):f||(f=P&~s,f!==0&&(b=js(f))))):(P=m&~x,P!==0?b=js(P):A!==0?b=js(A):f||(f=m&~s,f!==0&&(b=js(f)))),b===0?0:c!==0&&c!==b&&(c&x)===0&&(x=b&-b,f=c&-c,x>=f||x===32&&(f&4194048)!==0)?c:b}function xc(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function f6(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OC(){var s=ih;return ih<<=1,(ih&62914560)===0&&(ih=4194304),s}function l0(s){for(var c=[],f=0;31>f;f++)c.push(s);return c}function wc(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function h6(s,c,f,m,b,x){var A=s.pendingLanes;s.pendingLanes=f,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=f,s.entangledLanes&=f,s.errorRecoveryDisabledLanes&=f,s.shellSuspendCounter=0;var P=s.entanglements,L=s.expirationTimes,W=s.hiddenUpdates;for(f=A&~f;0<f;){var J=31-er(f),ie=1<<J;P[J]=0,L[J]=-1;var F=W[J];if(F!==null)for(W[J]=null,J=0;J<F.length;J++){var X=F[J];X!==null&&(X.lane&=-536870913)}f&=~ie}m!==0&&kC(s,m,0),x!==0&&b===0&&s.tag!==0&&(s.suspendedLanes|=x&~(A&~c))}function kC(s,c,f){s.pendingLanes|=c,s.suspendedLanes&=~c;var m=31-er(c);s.entangledLanes|=c,s.entanglements[m]=s.entanglements[m]|1073741824|f&261930}function AC(s,c){var f=s.entangledLanes|=c;for(s=s.entanglements;f;){var m=31-er(f),b=1<<m;b&c|s[m]&c&&(s[m]|=c),f&=~b}}function NC(s,c){var f=c&-c;return f=(f&42)!==0?1:o0(f),(f&(s.suspendedLanes|c))!==0?0:f}function o0(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function c0(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function jC(){var s=Y.p;return s!==0?s:(s=window.event,s===void 0?32:dN(s.type))}function EC(s,c){var f=Y.p;try{return Y.p=s,c()}finally{Y.p=f}}var ja=Math.random().toString(36).slice(2),rn="__reactFiber$"+ja,_n="__reactProps$"+ja,jl="__reactContainer$"+ja,u0="__reactEvents$"+ja,d6="__reactListeners$"+ja,m6="__reactHandles$"+ja,TC="__reactResources$"+ja,Sc="__reactMarker$"+ja;function f0(s){delete s[rn],delete s[_n],delete s[u0],delete s[d6],delete s[m6]}function El(s){var c=s[rn];if(c)return c;for(var f=s.parentNode;f;){if(c=f[jl]||f[rn]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(s=XA(s);s!==null;){if(f=s[rn])return f;s=XA(s)}return c}s=f,f=s.parentNode}return null}function Tl(s){if(s=s[rn]||s[jl]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function Cc(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function Ml(s){var c=s[TC];return c||(c=s[TC]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Vt(s){s[Sc]=!0}var MC=new Set,DC={};function Es(s,c){Dl(s,c),Dl(s+"Capture",c)}function Dl(s,c){for(DC[s]=c,s=0;s<c.length;s++)MC.add(c[s])}var p6=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),PC={},_C={};function g6(s){return i0.call(_C,s)?!0:i0.call(PC,s)?!1:p6.test(s)?_C[s]=!0:(PC[s]=!0,!1)}function sh(s,c,f){if(g6(c))if(f===null)s.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+f)}}function lh(s,c,f){if(f===null)s.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+f)}}function Li(s,c,f,m){if(m===null)s.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(f);return}s.setAttributeNS(c,f,""+m)}}function gr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function RC(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function y6(s,c,f){var m=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var b=m.get,x=m.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return b.call(this)},set:function(A){f=""+A,x.call(this,A)}}),Object.defineProperty(s,c,{enumerable:m.enumerable}),{getValue:function(){return f},setValue:function(A){f=""+A},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function h0(s){if(!s._valueTracker){var c=RC(s)?"checked":"value";s._valueTracker=y6(s,c,""+s[c])}}function LC(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var f=c.getValue(),m="";return s&&(m=RC(s)?s.checked?"true":"false":s.value),s=m,s!==f?(c.setValue(s),!0):!1}function oh(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var v6=/[\n"\\]/g;function yr(s){return s.replace(v6,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function d0(s,c,f,m,b,x,A,P){s.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.type=A:s.removeAttribute("type"),c!=null?A==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+gr(c)):s.value!==""+gr(c)&&(s.value=""+gr(c)):A!=="submit"&&A!=="reset"||s.removeAttribute("value"),c!=null?m0(s,A,gr(c)):f!=null?m0(s,A,gr(f)):m!=null&&s.removeAttribute("value"),b==null&&x!=null&&(s.defaultChecked=!!x),b!=null&&(s.checked=b&&typeof b!="function"&&typeof b!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?s.name=""+gr(P):s.removeAttribute("name")}function BC(s,c,f,m,b,x,A,P){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.type=x),c!=null||f!=null){if(!(x!=="submit"&&x!=="reset"||c!=null)){h0(s);return}f=f!=null?""+gr(f):"",c=c!=null?""+gr(c):f,P||c===s.value||(s.value=c),s.defaultValue=c}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=P?s.checked:!!m,s.defaultChecked=!!m,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.name=A),h0(s)}function m0(s,c,f){c==="number"&&oh(s.ownerDocument)===s||s.defaultValue===""+f||(s.defaultValue=""+f)}function Pl(s,c,f,m){if(s=s.options,c){c={};for(var b=0;b<f.length;b++)c["$"+f[b]]=!0;for(f=0;f<s.length;f++)b=c.hasOwnProperty("$"+s[f].value),s[f].selected!==b&&(s[f].selected=b),b&&m&&(s[f].defaultSelected=!0)}else{for(f=""+gr(f),c=null,b=0;b<s.length;b++){if(s[b].value===f){s[b].selected=!0,m&&(s[b].defaultSelected=!0);return}c!==null||s[b].disabled||(c=s[b])}c!==null&&(c.selected=!0)}}function zC(s,c,f){if(c!=null&&(c=""+gr(c),c!==s.value&&(s.value=c),f==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=f!=null?""+gr(f):""}function IC(s,c,f,m){if(c==null){if(m!=null){if(f!=null)throw Error(r(92));if(ee(m)){if(1<m.length)throw Error(r(93));m=m[0]}f=m}f==null&&(f=""),c=f}f=gr(c),s.defaultValue=f,m=s.textContent,m===f&&m!==""&&m!==null&&(s.value=m),h0(s)}function _l(s,c){if(c){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=c;return}}s.textContent=c}var b6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function UC(s,c,f){var m=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":m?s.setProperty(c,f):typeof f!="number"||f===0||b6.has(c)?c==="float"?s.cssFloat=f:s[c]=(""+f).trim():s[c]=f+"px"}function HC(s,c,f){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var b in c)m=c[b],c.hasOwnProperty(b)&&f[b]!==m&&UC(s,b,m)}else for(var x in c)c.hasOwnProperty(x)&&UC(s,x,c[x])}function p0(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),w6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ch(s){return w6.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Bi(){}var g0=null;function y0(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Rl=null,Ll=null;function qC(s){var c=Tl(s);if(c&&(s=c.stateNode)){var f=s[_n]||null;e:switch(s=c.stateNode,c.type){case"input":if(d0(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+yr(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var m=f[c];if(m!==s&&m.form===s.form){var b=m[_n]||null;if(!b)throw Error(r(90));d0(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(c=0;c<f.length;c++)m=f[c],m.form===s.form&&LC(m)}break e;case"textarea":zC(s,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&Pl(s,!!f.multiple,c,!1)}}}var v0=!1;function $C(s,c,f){if(v0)return s(c,f);v0=!0;try{var m=s(c);return m}finally{if(v0=!1,(Rl!==null||Ll!==null)&&(Qh(),Rl&&(c=Rl,s=Ll,Ll=Rl=null,qC(c),s)))for(c=0;c<s.length;c++)qC(s[c])}}function Oc(s,c){var f=s.stateNode;if(f===null)return null;var m=f[_n]||null;if(m===null)return null;f=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(r(231,c,typeof f));return f}var zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b0=!1;if(zi)try{var kc={};Object.defineProperty(kc,"passive",{get:function(){b0=!0}}),window.addEventListener("test",kc,kc),window.removeEventListener("test",kc,kc)}catch{b0=!1}var Ea=null,x0=null,uh=null;function VC(){if(uh)return uh;var s,c=x0,f=c.length,m,b="value"in Ea?Ea.value:Ea.textContent,x=b.length;for(s=0;s<f&&c[s]===b[s];s++);var A=f-s;for(m=1;m<=A&&c[f-m]===b[x-m];m++);return uh=b.slice(s,1<m?1-m:void 0)}function fh(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function hh(){return!0}function WC(){return!1}function Rn(s){function c(f,m,b,x,A){this._reactName=f,this._targetInst=b,this.type=m,this.nativeEvent=x,this.target=A,this.currentTarget=null;for(var P in s)s.hasOwnProperty(P)&&(f=s[P],this[P]=f?f(x):x[P]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?hh:WC,this.isPropagationStopped=WC,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=hh)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=hh)},persist:function(){},isPersistent:hh}),c}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dh=Rn(Ts),Ac=p({},Ts,{view:0,detail:0}),S6=Rn(Ac),w0,S0,Nc,mh=p({},Ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O0,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Nc&&(Nc&&s.type==="mousemove"?(w0=s.screenX-Nc.screenX,S0=s.screenY-Nc.screenY):S0=w0=0,Nc=s),w0)},movementY:function(s){return"movementY"in s?s.movementY:S0}}),FC=Rn(mh),C6=p({},mh,{dataTransfer:0}),O6=Rn(C6),k6=p({},Ac,{relatedTarget:0}),C0=Rn(k6),A6=p({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),N6=Rn(A6),j6=p({},Ts,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),E6=Rn(j6),T6=p({},Ts,{data:0}),KC=Rn(T6),M6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},P6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _6(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=P6[s])?!!c[s]:!1}function O0(){return _6}var R6=p({},Ac,{key:function(s){if(s.key){var c=M6[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=fh(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?D6[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O0,charCode:function(s){return s.type==="keypress"?fh(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?fh(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),L6=Rn(R6),B6=p({},mh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GC=Rn(B6),z6=p({},Ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O0}),I6=Rn(z6),U6=p({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),H6=Rn(U6),q6=p({},mh,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),$6=Rn(q6),V6=p({},Ts,{newState:0,oldState:0}),W6=Rn(V6),F6=[9,13,27,32],k0=zi&&"CompositionEvent"in window,jc=null;zi&&"documentMode"in document&&(jc=document.documentMode);var K6=zi&&"TextEvent"in window&&!jc,YC=zi&&(!k0||jc&&8<jc&&11>=jc),QC=" ",XC=!1;function ZC(s,c){switch(s){case"keyup":return F6.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JC(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Bl=!1;function G6(s,c){switch(s){case"compositionend":return JC(c);case"keypress":return c.which!==32?null:(XC=!0,QC);case"textInput":return s=c.data,s===QC&&XC?null:s;default:return null}}function Y6(s,c){if(Bl)return s==="compositionend"||!k0&&ZC(s,c)?(s=VC(),uh=x0=Ea=null,Bl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return YC&&c.locale!=="ko"?null:c.data;default:return null}}var Q6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eO(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!Q6[s.type]:c==="textarea"}function tO(s,c,f,m){Rl?Ll?Ll.push(m):Ll=[m]:Rl=m,c=rd(c,"onChange"),0<c.length&&(f=new dh("onChange","change",null,f,m),s.push({event:f,listeners:c}))}var Ec=null,Tc=null;function X6(s){BA(s,0)}function ph(s){var c=Cc(s);if(LC(c))return s}function nO(s,c){if(s==="change")return c}var rO=!1;if(zi){var A0;if(zi){var N0="oninput"in document;if(!N0){var iO=document.createElement("div");iO.setAttribute("oninput","return;"),N0=typeof iO.oninput=="function"}A0=N0}else A0=!1;rO=A0&&(!document.documentMode||9<document.documentMode)}function aO(){Ec&&(Ec.detachEvent("onpropertychange",sO),Tc=Ec=null)}function sO(s){if(s.propertyName==="value"&&ph(Tc)){var c=[];tO(c,Tc,s,y0(s)),$C(X6,c)}}function Z6(s,c,f){s==="focusin"?(aO(),Ec=c,Tc=f,Ec.attachEvent("onpropertychange",sO)):s==="focusout"&&aO()}function J6(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ph(Tc)}function eI(s,c){if(s==="click")return ph(c)}function tI(s,c){if(s==="input"||s==="change")return ph(c)}function nI(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var tr=typeof Object.is=="function"?Object.is:nI;function Mc(s,c){if(tr(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var f=Object.keys(s),m=Object.keys(c);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var b=f[m];if(!i0.call(c,b)||!tr(s[b],c[b]))return!1}return!0}function lO(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function oO(s,c){var f=lO(s);s=0;for(var m;f;){if(f.nodeType===3){if(m=s+f.textContent.length,s<=c&&m>=c)return{node:f,offset:c-s};s=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=lO(f)}}function cO(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?cO(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function uO(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=oh(s.document);c instanceof s.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)s=c.contentWindow;else break;c=oh(s.document)}return c}function j0(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var rI=zi&&"documentMode"in document&&11>=document.documentMode,zl=null,E0=null,Dc=null,T0=!1;function fO(s,c,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;T0||zl==null||zl!==oh(m)||(m=zl,"selectionStart"in m&&j0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Dc&&Mc(Dc,m)||(Dc=m,m=rd(E0,"onSelect"),0<m.length&&(c=new dh("onSelect","select",null,c,f),s.push({event:c,listeners:m}),c.target=zl)))}function Ms(s,c){var f={};return f[s.toLowerCase()]=c.toLowerCase(),f["Webkit"+s]="webkit"+c,f["Moz"+s]="moz"+c,f}var Il={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},M0={},hO={};zi&&(hO=document.createElement("div").style,"AnimationEvent"in window||(delete Il.animationend.animation,delete Il.animationiteration.animation,delete Il.animationstart.animation),"TransitionEvent"in window||delete Il.transitionend.transition);function Ds(s){if(M0[s])return M0[s];if(!Il[s])return s;var c=Il[s],f;for(f in c)if(c.hasOwnProperty(f)&&f in hO)return M0[s]=c[f];return s}var dO=Ds("animationend"),mO=Ds("animationiteration"),pO=Ds("animationstart"),iI=Ds("transitionrun"),aI=Ds("transitionstart"),sI=Ds("transitioncancel"),gO=Ds("transitionend"),yO=new Map,D0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");D0.push("scrollEnd");function qr(s,c){yO.set(s,c),Es(c,[s])}var gh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},vr=[],Ul=0,P0=0;function yh(){for(var s=Ul,c=P0=Ul=0;c<s;){var f=vr[c];vr[c++]=null;var m=vr[c];vr[c++]=null;var b=vr[c];vr[c++]=null;var x=vr[c];if(vr[c++]=null,m!==null&&b!==null){var A=m.pending;A===null?b.next=b:(b.next=A.next,A.next=b),m.pending=b}x!==0&&vO(f,b,x)}}function vh(s,c,f,m){vr[Ul++]=s,vr[Ul++]=c,vr[Ul++]=f,vr[Ul++]=m,P0|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function _0(s,c,f,m){return vh(s,c,f,m),bh(s)}function Ps(s,c){return vh(s,null,null,c),bh(s)}function vO(s,c,f){s.lanes|=f;var m=s.alternate;m!==null&&(m.lanes|=f);for(var b=!1,x=s.return;x!==null;)x.childLanes|=f,m=x.alternate,m!==null&&(m.childLanes|=f),x.tag===22&&(s=x.stateNode,s===null||s._visibility&1||(b=!0)),s=x,x=x.return;return s.tag===3?(x=s.stateNode,b&&c!==null&&(b=31-er(f),s=x.hiddenUpdates,m=s[b],m===null?s[b]=[c]:m.push(c),c.lane=f|536870912),x):null}function bh(s){if(50<eu)throw eu=0,$y=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var Hl={};function lI(s,c,f,m){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(s,c,f,m){return new lI(s,c,f,m)}function R0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ii(s,c){var f=s.alternate;return f===null?(f=nr(s.tag,c,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=c,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&65011712,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,c=s.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f.refCleanup=s.refCleanup,f}function bO(s,c){s.flags&=65011714;var f=s.alternate;return f===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=f.childLanes,s.lanes=f.lanes,s.child=f.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=f.memoizedProps,s.memoizedState=f.memoizedState,s.updateQueue=f.updateQueue,s.type=f.type,c=f.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function xh(s,c,f,m,b,x){var A=0;if(m=s,typeof s=="function")R0(s)&&(A=1);else if(typeof s=="string")A=h7(s,f,Q.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case _:return s=nr(31,f,c,b),s.elementType=_,s.lanes=x,s;case C:return _s(f.children,b,x,c);case S:A=8,b|=24;break;case k:return s=nr(12,f,c,b|2),s.elementType=k,s.lanes=x,s;case D:return s=nr(13,f,c,b),s.elementType=D,s.lanes=x,s;case T:return s=nr(19,f,c,b),s.elementType=T,s.lanes=x,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:A=10;break e;case j:A=9;break e;case M:A=11;break e;case E:A=14;break e;case I:A=16,m=null;break e}A=29,f=Error(r(130,s===null?"null":typeof s,"")),m=null}return c=nr(A,f,c,b),c.elementType=s,c.type=m,c.lanes=x,c}function _s(s,c,f,m){return s=nr(7,s,m,c),s.lanes=f,s}function L0(s,c,f){return s=nr(6,s,null,c),s.lanes=f,s}function xO(s){var c=nr(18,null,null,0);return c.stateNode=s,c}function B0(s,c,f){return c=nr(4,s.children!==null?s.children:[],s.key,c),c.lanes=f,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var wO=new WeakMap;function br(s,c){if(typeof s=="object"&&s!==null){var f=wO.get(s);return f!==void 0?f:(c={value:s,source:c,stack:vc(c)},wO.set(s,c),c)}return{value:s,source:c,stack:vc(c)}}var ql=[],$l=0,wh=null,Pc=0,xr=[],wr=0,Ta=null,ii=1,ai="";function Ui(s,c){ql[$l++]=Pc,ql[$l++]=wh,wh=s,Pc=c}function SO(s,c,f){xr[wr++]=ii,xr[wr++]=ai,xr[wr++]=Ta,Ta=s;var m=ii;s=ai;var b=32-er(m)-1;m&=~(1<<b),f+=1;var x=32-er(c)+b;if(30<x){var A=b-b%5;x=(m&(1<<A)-1).toString(32),m>>=A,b-=A,ii=1<<32-er(c)+b|f<<b|m,ai=x+s}else ii=1<<x|f<<b|m,ai=s}function z0(s){s.return!==null&&(Ui(s,1),SO(s,1,0))}function I0(s){for(;s===wh;)wh=ql[--$l],ql[$l]=null,Pc=ql[--$l],ql[$l]=null;for(;s===Ta;)Ta=xr[--wr],xr[wr]=null,ai=xr[--wr],xr[wr]=null,ii=xr[--wr],xr[wr]=null}function CO(s,c){xr[wr++]=ii,xr[wr++]=ai,xr[wr++]=Ta,ii=c.id,ai=c.overflow,Ta=s}var an=null,ut=null,He=!1,Ma=null,Sr=!1,U0=Error(r(519));function Da(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _c(br(c,s)),U0}function OO(s){var c=s.stateNode,f=s.type,m=s.memoizedProps;switch(c[rn]=s,c[_n]=m,f){case"dialog":Be("cancel",c),Be("close",c);break;case"iframe":case"object":case"embed":Be("load",c);break;case"video":case"audio":for(f=0;f<nu.length;f++)Be(nu[f],c);break;case"source":Be("error",c);break;case"img":case"image":case"link":Be("error",c),Be("load",c);break;case"details":Be("toggle",c);break;case"input":Be("invalid",c),BC(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Be("invalid",c);break;case"textarea":Be("invalid",c),IC(c,m.value,m.defaultValue,m.children)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||m.suppressHydrationWarning===!0||HA(c.textContent,f)?(m.popover!=null&&(Be("beforetoggle",c),Be("toggle",c)),m.onScroll!=null&&Be("scroll",c),m.onScrollEnd!=null&&Be("scrollend",c),m.onClick!=null&&(c.onclick=Bi),c=!0):c=!1,c||Da(s,!0)}function kO(s){for(an=s.return;an;)switch(an.tag){case 5:case 31:case 13:Sr=!1;return;case 27:case 3:Sr=!0;return;default:an=an.return}}function Vl(s){if(s!==an)return!1;if(!He)return kO(s),He=!0,!1;var c=s.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=s.type,f=!(f!=="form"&&f!=="button")||iv(s.type,s.memoizedProps)),f=!f),f&&ut&&Da(s),kO(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));ut=QA(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));ut=QA(s)}else c===27?(c=ut,Fa(s.type)?(s=cv,cv=null,ut=s):ut=c):ut=an?Or(s.stateNode.nextSibling):null;return!0}function Rs(){ut=an=null,He=!1}function H0(){var s=Ma;return s!==null&&(In===null?In=s:In.push.apply(In,s),Ma=null),s}function _c(s){Ma===null?Ma=[s]:Ma.push(s)}var q0=R(null),Ls=null,Hi=null;function Pa(s,c,f){ce(q0,c._currentValue),c._currentValue=f}function qi(s){s._currentValue=q0.current,K(q0)}function $0(s,c,f){for(;s!==null;){var m=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),s===f)break;s=s.return}}function V0(s,c,f,m){var b=s.child;for(b!==null&&(b.return=s);b!==null;){var x=b.dependencies;if(x!==null){var A=b.child;x=x.firstContext;e:for(;x!==null;){var P=x;x=b;for(var L=0;L<c.length;L++)if(P.context===c[L]){x.lanes|=f,P=x.alternate,P!==null&&(P.lanes|=f),$0(x.return,f,s),m||(A=null);break e}x=P.next}}else if(b.tag===18){if(A=b.return,A===null)throw Error(r(341));A.lanes|=f,x=A.alternate,x!==null&&(x.lanes|=f),$0(A,f,s),A=null}else A=b.child;if(A!==null)A.return=b;else for(A=b;A!==null;){if(A===s){A=null;break}if(b=A.sibling,b!==null){b.return=A.return,A=b;break}A=A.return}b=A}}function Wl(s,c,f,m){s=null;for(var b=c,x=!1;b!==null;){if(!x){if((b.flags&524288)!==0)x=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var A=b.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var P=b.type;tr(b.pendingProps.value,A.value)||(s!==null?s.push(P):s=[P])}}else if(b===be.current){if(A=b.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(s!==null?s.push(lu):s=[lu])}b=b.return}s!==null&&V0(c,s,f,m),c.flags|=262144}function Sh(s){for(s=s.firstContext;s!==null;){if(!tr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Bs(s){Ls=s,Hi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function sn(s){return AO(Ls,s)}function Ch(s,c){return Ls===null&&Bs(s),AO(s,c)}function AO(s,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},Hi===null){if(s===null)throw Error(r(308));Hi=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else Hi=Hi.next=c;return f}var oI=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(f,m){s.push(m)}};this.abort=function(){c.aborted=!0,s.forEach(function(f){return f()})}},cI=t.unstable_scheduleCallback,uI=t.unstable_NormalPriority,Mt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function W0(){return{controller:new oI,data:new Map,refCount:0}}function Rc(s){s.refCount--,s.refCount===0&&cI(uI,function(){s.controller.abort()})}var Lc=null,F0=0,Fl=0,Kl=null;function fI(s,c){if(Lc===null){var f=Lc=[];F0=0,Fl=Yy(),Kl={status:"pending",value:void 0,then:function(m){f.push(m)}}}return F0++,c.then(NO,NO),c}function NO(){if(--F0===0&&Lc!==null){Kl!==null&&(Kl.status="fulfilled");var s=Lc;Lc=null,Fl=0,Kl=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function hI(s,c){var f=[],m={status:"pending",value:null,reason:null,then:function(b){f.push(b)}};return s.then(function(){m.status="fulfilled",m.value=c;for(var b=0;b<f.length;b++)(0,f[b])(c)},function(b){for(m.status="rejected",m.reason=b,b=0;b<f.length;b++)(0,f[b])(void 0)}),m}var jO=H.S;H.S=function(s,c){fA=Zn(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&fI(s,c),jO!==null&&jO(s,c)};var zs=R(null);function K0(){var s=zs.current;return s!==null?s:it.pooledCache}function Oh(s,c){c===null?ce(zs,zs.current):ce(zs,c.pool)}function EO(){var s=K0();return s===null?null:{parent:Mt._currentValue,pool:s}}var Gl=Error(r(460)),G0=Error(r(474)),kh=Error(r(542)),Ah={then:function(){}};function TO(s){return s=s.status,s==="fulfilled"||s==="rejected"}function MO(s,c,f){switch(f=s[f],f===void 0?s.push(c):f!==c&&(c.then(Bi,Bi),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,PO(s),s;default:if(typeof c.status=="string")c.then(Bi,Bi);else{if(s=it,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(m){if(c.status==="pending"){var b=c;b.status="fulfilled",b.value=m}},function(m){if(c.status==="pending"){var b=c;b.status="rejected",b.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,PO(s),s}throw Us=c,Gl}}function Is(s){try{var c=s._init;return c(s._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(Us=f,Gl):f}}var Us=null;function DO(){if(Us===null)throw Error(r(459));var s=Us;return Us=null,s}function PO(s){if(s===Gl||s===kh)throw Error(r(483))}var Yl=null,Bc=0;function Nh(s){var c=Bc;return Bc+=1,Yl===null&&(Yl=[]),MO(Yl,s,c)}function zc(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function jh(s,c){throw c.$$typeof===g?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function _O(s){function c($,U){if(s){var V=$.deletions;V===null?($.deletions=[U],$.flags|=16):V.push(U)}}function f($,U){if(!s)return null;for(;U!==null;)c($,U),U=U.sibling;return null}function m($){for(var U=new Map;$!==null;)$.key!==null?U.set($.key,$):U.set($.index,$),$=$.sibling;return U}function b($,U){return $=Ii($,U),$.index=0,$.sibling=null,$}function x($,U,V){return $.index=V,s?(V=$.alternate,V!==null?(V=V.index,V<U?($.flags|=67108866,U):V):($.flags|=67108866,U)):($.flags|=1048576,U)}function A($){return s&&$.alternate===null&&($.flags|=67108866),$}function P($,U,V,ne){return U===null||U.tag!==6?(U=L0(V,$.mode,ne),U.return=$,U):(U=b(U,V),U.return=$,U)}function L($,U,V,ne){var Oe=V.type;return Oe===C?J($,U,V.props.children,ne,V.key):U!==null&&(U.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===I&&Is(Oe)===U.type)?(U=b(U,V.props),zc(U,V),U.return=$,U):(U=xh(V.type,V.key,V.props,null,$.mode,ne),zc(U,V),U.return=$,U)}function W($,U,V,ne){return U===null||U.tag!==4||U.stateNode.containerInfo!==V.containerInfo||U.stateNode.implementation!==V.implementation?(U=B0(V,$.mode,ne),U.return=$,U):(U=b(U,V.children||[]),U.return=$,U)}function J($,U,V,ne,Oe){return U===null||U.tag!==7?(U=_s(V,$.mode,ne,Oe),U.return=$,U):(U=b(U,V),U.return=$,U)}function ie($,U,V){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=L0(""+U,$.mode,V),U.return=$,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case y:return V=xh(U.type,U.key,U.props,null,$.mode,V),zc(V,U),V.return=$,V;case w:return U=B0(U,$.mode,V),U.return=$,U;case I:return U=Is(U),ie($,U,V)}if(ee(U)||B(U))return U=_s(U,$.mode,V,null),U.return=$,U;if(typeof U.then=="function")return ie($,Nh(U),V);if(U.$$typeof===N)return ie($,Ch($,U),V);jh($,U)}return null}function F($,U,V,ne){var Oe=U!==null?U.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return Oe!==null?null:P($,U,""+V,ne);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case y:return V.key===Oe?L($,U,V,ne):null;case w:return V.key===Oe?W($,U,V,ne):null;case I:return V=Is(V),F($,U,V,ne)}if(ee(V)||B(V))return Oe!==null?null:J($,U,V,ne,null);if(typeof V.then=="function")return F($,U,Nh(V),ne);if(V.$$typeof===N)return F($,U,Ch($,V),ne);jh($,V)}return null}function X($,U,V,ne,Oe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return $=$.get(V)||null,P(U,$,""+ne,Oe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case y:return $=$.get(ne.key===null?V:ne.key)||null,L(U,$,ne,Oe);case w:return $=$.get(ne.key===null?V:ne.key)||null,W(U,$,ne,Oe);case I:return ne=Is(ne),X($,U,V,ne,Oe)}if(ee(ne)||B(ne))return $=$.get(V)||null,J(U,$,ne,Oe,null);if(typeof ne.then=="function")return X($,U,V,Nh(ne),Oe);if(ne.$$typeof===N)return X($,U,V,Ch(U,ne),Oe);jh(U,ne)}return null}function xe($,U,V,ne){for(var Oe=null,Ve=null,we=U,De=U=0,Ue=null;we!==null&&De<V.length;De++){we.index>De?(Ue=we,we=null):Ue=we.sibling;var We=F($,we,V[De],ne);if(We===null){we===null&&(we=Ue);break}s&&we&&We.alternate===null&&c($,we),U=x(We,U,De),Ve===null?Oe=We:Ve.sibling=We,Ve=We,we=Ue}if(De===V.length)return f($,we),He&&Ui($,De),Oe;if(we===null){for(;De<V.length;De++)we=ie($,V[De],ne),we!==null&&(U=x(we,U,De),Ve===null?Oe=we:Ve.sibling=we,Ve=we);return He&&Ui($,De),Oe}for(we=m(we);De<V.length;De++)Ue=X(we,$,De,V[De],ne),Ue!==null&&(s&&Ue.alternate!==null&&we.delete(Ue.key===null?De:Ue.key),U=x(Ue,U,De),Ve===null?Oe=Ue:Ve.sibling=Ue,Ve=Ue);return s&&we.forEach(function(Xa){return c($,Xa)}),He&&Ui($,De),Oe}function Ne($,U,V,ne){if(V==null)throw Error(r(151));for(var Oe=null,Ve=null,we=U,De=U=0,Ue=null,We=V.next();we!==null&&!We.done;De++,We=V.next()){we.index>De?(Ue=we,we=null):Ue=we.sibling;var Xa=F($,we,We.value,ne);if(Xa===null){we===null&&(we=Ue);break}s&&we&&Xa.alternate===null&&c($,we),U=x(Xa,U,De),Ve===null?Oe=Xa:Ve.sibling=Xa,Ve=Xa,we=Ue}if(We.done)return f($,we),He&&Ui($,De),Oe;if(we===null){for(;!We.done;De++,We=V.next())We=ie($,We.value,ne),We!==null&&(U=x(We,U,De),Ve===null?Oe=We:Ve.sibling=We,Ve=We);return He&&Ui($,De),Oe}for(we=m(we);!We.done;De++,We=V.next())We=X(we,$,De,We.value,ne),We!==null&&(s&&We.alternate!==null&&we.delete(We.key===null?De:We.key),U=x(We,U,De),Ve===null?Oe=We:Ve.sibling=We,Ve=We);return s&&we.forEach(function(C7){return c($,C7)}),He&&Ui($,De),Oe}function tt($,U,V,ne){if(typeof V=="object"&&V!==null&&V.type===C&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case y:e:{for(var Oe=V.key;U!==null;){if(U.key===Oe){if(Oe=V.type,Oe===C){if(U.tag===7){f($,U.sibling),ne=b(U,V.props.children),ne.return=$,$=ne;break e}}else if(U.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===I&&Is(Oe)===U.type){f($,U.sibling),ne=b(U,V.props),zc(ne,V),ne.return=$,$=ne;break e}f($,U);break}else c($,U);U=U.sibling}V.type===C?(ne=_s(V.props.children,$.mode,ne,V.key),ne.return=$,$=ne):(ne=xh(V.type,V.key,V.props,null,$.mode,ne),zc(ne,V),ne.return=$,$=ne)}return A($);case w:e:{for(Oe=V.key;U!==null;){if(U.key===Oe)if(U.tag===4&&U.stateNode.containerInfo===V.containerInfo&&U.stateNode.implementation===V.implementation){f($,U.sibling),ne=b(U,V.children||[]),ne.return=$,$=ne;break e}else{f($,U);break}else c($,U);U=U.sibling}ne=B0(V,$.mode,ne),ne.return=$,$=ne}return A($);case I:return V=Is(V),tt($,U,V,ne)}if(ee(V))return xe($,U,V,ne);if(B(V)){if(Oe=B(V),typeof Oe!="function")throw Error(r(150));return V=Oe.call(V),Ne($,U,V,ne)}if(typeof V.then=="function")return tt($,U,Nh(V),ne);if(V.$$typeof===N)return tt($,U,Ch($,V),ne);jh($,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,U!==null&&U.tag===6?(f($,U.sibling),ne=b(U,V),ne.return=$,$=ne):(f($,U),ne=L0(V,$.mode,ne),ne.return=$,$=ne),A($)):f($,U)}return function($,U,V,ne){try{Bc=0;var Oe=tt($,U,V,ne);return Yl=null,Oe}catch(we){if(we===Gl||we===kh)throw we;var Ve=nr(29,we,null,$.mode);return Ve.lanes=ne,Ve.return=$,Ve}}}var Hs=_O(!0),RO=_O(!1),_a=!1;function Y0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Q0(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ra(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function La(s,c,f){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(Ge&2)!==0){var b=m.pending;return b===null?c.next=c:(c.next=b.next,b.next=c),m.pending=c,c=bh(s),vO(s,null,f),c}return vh(s,m,c,f),bh(s)}function Ic(s,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var m=c.lanes;m&=s.pendingLanes,f|=m,c.lanes=f,AC(s,f)}}function X0(s,c){var f=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var b=null,x=null;if(f=f.firstBaseUpdate,f!==null){do{var A={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};x===null?b=x=A:x=x.next=A,f=f.next}while(f!==null);x===null?b=x=c:x=x.next=c}else b=x=c;f={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:x,shared:m.shared,callbacks:m.callbacks},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=c}var Z0=!1;function Uc(){if(Z0){var s=Kl;if(s!==null)throw s}}function Hc(s,c,f,m){Z0=!1;var b=s.updateQueue;_a=!1;var x=b.firstBaseUpdate,A=b.lastBaseUpdate,P=b.shared.pending;if(P!==null){b.shared.pending=null;var L=P,W=L.next;L.next=null,A===null?x=W:A.next=W,A=L;var J=s.alternate;J!==null&&(J=J.updateQueue,P=J.lastBaseUpdate,P!==A&&(P===null?J.firstBaseUpdate=W:P.next=W,J.lastBaseUpdate=L))}if(x!==null){var ie=b.baseState;A=0,J=W=L=null,P=x;do{var F=P.lane&-536870913,X=F!==P.lane;if(X?(Ie&F)===F:(m&F)===F){F!==0&&F===Fl&&(Z0=!0),J!==null&&(J=J.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var xe=s,Ne=P;F=c;var tt=f;switch(Ne.tag){case 1:if(xe=Ne.payload,typeof xe=="function"){ie=xe.call(tt,ie,F);break e}ie=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ne.payload,F=typeof xe=="function"?xe.call(tt,ie,F):xe,F==null)break e;ie=p({},ie,F);break e;case 2:_a=!0}}F=P.callback,F!==null&&(s.flags|=64,X&&(s.flags|=8192),X=b.callbacks,X===null?b.callbacks=[F]:X.push(F))}else X={lane:F,tag:P.tag,payload:P.payload,callback:P.callback,next:null},J===null?(W=J=X,L=ie):J=J.next=X,A|=F;if(P=P.next,P===null){if(P=b.shared.pending,P===null)break;X=P,P=X.next,X.next=null,b.lastBaseUpdate=X,b.shared.pending=null}}while(!0);J===null&&(L=ie),b.baseState=L,b.firstBaseUpdate=W,b.lastBaseUpdate=J,x===null&&(b.shared.lanes=0),Ha|=A,s.lanes=A,s.memoizedState=ie}}function LO(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function BO(s,c){var f=s.callbacks;if(f!==null)for(s.callbacks=null,s=0;s<f.length;s++)LO(f[s],c)}var Ql=R(null),Eh=R(0);function zO(s,c){s=Xi,ce(Eh,s),ce(Ql,c),Xi=s|c.baseLanes}function J0(){ce(Eh,Xi),ce(Ql,Ql.current)}function ey(){Xi=Eh.current,K(Ql),K(Eh)}var rr=R(null),Cr=null;function Ba(s){var c=s.alternate;ce(At,At.current&1),ce(rr,s),Cr===null&&(c===null||Ql.current!==null||c.memoizedState!==null)&&(Cr=s)}function ty(s){ce(At,At.current),ce(rr,s),Cr===null&&(Cr=s)}function IO(s){s.tag===22?(ce(At,At.current),ce(rr,s),Cr===null&&(Cr=s)):za()}function za(){ce(At,At.current),ce(rr,rr.current)}function ir(s){K(rr),Cr===s&&(Cr=null),K(At)}var At=R(0);function Th(s){for(var c=s;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||lv(f)||ov(f)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var $i=0,Me=null,Je=null,Dt=null,Mh=!1,Xl=!1,qs=!1,Dh=0,qc=0,Zl=null,dI=0;function wt(){throw Error(r(321))}function ny(s,c){if(c===null)return!1;for(var f=0;f<c.length&&f<s.length;f++)if(!tr(s[f],c[f]))return!1;return!0}function ry(s,c,f,m,b,x){return $i=x,Me=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,H.H=s===null||s.memoizedState===null?Sk:vy,qs=!1,x=f(m,b),qs=!1,Xl&&(x=HO(c,f,m,b)),UO(s),x}function UO(s){H.H=Wc;var c=Je!==null&&Je.next!==null;if($i=0,Dt=Je=Me=null,Mh=!1,qc=0,Zl=null,c)throw Error(r(300));s===null||Pt||(s=s.dependencies,s!==null&&Sh(s)&&(Pt=!0))}function HO(s,c,f,m){Me=s;var b=0;do{if(Xl&&(Zl=null),qc=0,Xl=!1,25<=b)throw Error(r(301));if(b+=1,Dt=Je=null,s.updateQueue!=null){var x=s.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}H.H=Ck,x=c(f,m)}while(Xl);return x}function mI(){var s=H.H,c=s.useState()[0];return c=typeof c.then=="function"?$c(c):c,s=s.useState()[0],(Je!==null?Je.memoizedState:null)!==s&&(Me.flags|=1024),c}function iy(){var s=Dh!==0;return Dh=0,s}function ay(s,c,f){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~f}function sy(s){if(Mh){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}Mh=!1}$i=0,Dt=Je=Me=null,Xl=!1,qc=Dh=0,Zl=null}function kn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Me.memoizedState=Dt=s:Dt=Dt.next=s,Dt}function Nt(){if(Je===null){var s=Me.alternate;s=s!==null?s.memoizedState:null}else s=Je.next;var c=Dt===null?Me.memoizedState:Dt.next;if(c!==null)Dt=c,Je=s;else{if(s===null)throw Me.alternate===null?Error(r(467)):Error(r(310));Je=s,s={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Dt===null?Me.memoizedState=Dt=s:Dt=Dt.next=s}return Dt}function Ph(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $c(s){var c=qc;return qc+=1,Zl===null&&(Zl=[]),s=MO(Zl,s,c),c=Me,(Dt===null?c.memoizedState:Dt.next)===null&&(c=c.alternate,H.H=c===null||c.memoizedState===null?Sk:vy),s}function _h(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return $c(s);if(s.$$typeof===N)return sn(s)}throw Error(r(438,String(s)))}function ly(s){var c=null,f=Me.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var m=Me.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(b){return b.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=Ph(),Me.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(s),m=0;m<s;m++)f[m]=z;return c.index++,f}function Vi(s,c){return typeof c=="function"?c(s):c}function Rh(s){var c=Nt();return oy(c,Je,s)}function oy(s,c,f){var m=s.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=f;var b=s.baseQueue,x=m.pending;if(x!==null){if(b!==null){var A=b.next;b.next=x.next,x.next=A}c.baseQueue=b=x,m.pending=null}if(x=s.baseState,b===null)s.memoizedState=x;else{c=b.next;var P=A=null,L=null,W=c,J=!1;do{var ie=W.lane&-536870913;if(ie!==W.lane?(Ie&ie)===ie:($i&ie)===ie){var F=W.revertLane;if(F===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ie===Fl&&(J=!0);else if(($i&F)===F){W=W.next,F===Fl&&(J=!0);continue}else ie={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(P=L=ie,A=x):L=L.next=ie,Me.lanes|=F,Ha|=F;ie=W.action,qs&&f(x,ie),x=W.hasEagerState?W.eagerState:f(x,ie)}else F={lane:ie,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(P=L=F,A=x):L=L.next=F,Me.lanes|=ie,Ha|=ie;W=W.next}while(W!==null&&W!==c);if(L===null?A=x:L.next=P,!tr(x,s.memoizedState)&&(Pt=!0,J&&(f=Kl,f!==null)))throw f;s.memoizedState=x,s.baseState=A,s.baseQueue=L,m.lastRenderedState=x}return b===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function cy(s){var c=Nt(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var m=f.dispatch,b=f.pending,x=c.memoizedState;if(b!==null){f.pending=null;var A=b=b.next;do x=s(x,A.action),A=A.next;while(A!==b);tr(x,c.memoizedState)||(Pt=!0),c.memoizedState=x,c.baseQueue===null&&(c.baseState=x),f.lastRenderedState=x}return[x,m]}function qO(s,c,f){var m=Me,b=Nt(),x=He;if(x){if(f===void 0)throw Error(r(407));f=f()}else f=c();var A=!tr((Je||b).memoizedState,f);if(A&&(b.memoizedState=f,Pt=!0),b=b.queue,hy(WO.bind(null,m,b,s),[s]),b.getSnapshot!==c||A||Dt!==null&&Dt.memoizedState.tag&1){if(m.flags|=2048,Jl(9,{destroy:void 0},VO.bind(null,m,b,f,c),null),it===null)throw Error(r(349));x||($i&127)!==0||$O(m,c,f)}return f}function $O(s,c,f){s.flags|=16384,s={getSnapshot:c,value:f},c=Me.updateQueue,c===null?(c=Ph(),Me.updateQueue=c,c.stores=[s]):(f=c.stores,f===null?c.stores=[s]:f.push(s))}function VO(s,c,f,m){c.value=f,c.getSnapshot=m,FO(c)&&KO(s)}function WO(s,c,f){return f(function(){FO(c)&&KO(s)})}function FO(s){var c=s.getSnapshot;s=s.value;try{var f=c();return!tr(s,f)}catch{return!0}}function KO(s){var c=Ps(s,2);c!==null&&Un(c,s,2)}function uy(s){var c=kn();if(typeof s=="function"){var f=s;if(s=f(),qs){Na(!0);try{f()}finally{Na(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:s},c}function GO(s,c,f,m){return s.baseState=f,oy(s,Je,typeof m=="function"?m:Vi)}function pI(s,c,f,m,b){if(zh(s))throw Error(r(485));if(s=c.action,s!==null){var x={payload:b,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){x.listeners.push(A)}};H.T!==null?f(!0):x.isTransition=!1,m(x),f=c.pending,f===null?(x.next=c.pending=x,YO(c,x)):(x.next=f.next,c.pending=f.next=x)}}function YO(s,c){var f=c.action,m=c.payload,b=s.state;if(c.isTransition){var x=H.T,A={};H.T=A;try{var P=f(b,m),L=H.S;L!==null&&L(A,P),QO(s,c,P)}catch(W){fy(s,c,W)}finally{x!==null&&A.types!==null&&(x.types=A.types),H.T=x}}else try{x=f(b,m),QO(s,c,x)}catch(W){fy(s,c,W)}}function QO(s,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){XO(s,c,m)},function(m){return fy(s,c,m)}):XO(s,c,f)}function XO(s,c,f){c.status="fulfilled",c.value=f,ZO(c),s.state=f,c=s.pending,c!==null&&(f=c.next,f===c?s.pending=null:(f=f.next,c.next=f,YO(s,f)))}function fy(s,c,f){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=f,ZO(c),c=c.next;while(c!==m)}s.action=null}function ZO(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function JO(s,c){return c}function ek(s,c){if(He){var f=it.formState;if(f!==null){e:{var m=Me;if(He){if(ut){t:{for(var b=ut,x=Sr;b.nodeType!==8;){if(!x){b=null;break t}if(b=Or(b.nextSibling),b===null){b=null;break t}}x=b.data,b=x==="F!"||x==="F"?b:null}if(b){ut=Or(b.nextSibling),m=b.data==="F!";break e}}Da(m)}m=!1}m&&(c=f[0])}}return f=kn(),f.memoizedState=f.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:JO,lastRenderedState:c},f.queue=m,f=bk.bind(null,Me,m),m.dispatch=f,m=uy(!1),x=yy.bind(null,Me,!1,m.queue),m=kn(),b={state:c,dispatch:null,action:s,pending:null},m.queue=b,f=pI.bind(null,Me,b,x,f),b.dispatch=f,m.memoizedState=s,[c,f,!1]}function tk(s){var c=Nt();return nk(c,Je,s)}function nk(s,c,f){if(c=oy(s,c,JO)[0],s=Rh(Vi)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=$c(c)}catch(A){throw A===Gl?kh:A}else m=c;c=Nt();var b=c.queue,x=b.dispatch;return f!==c.memoizedState&&(Me.flags|=2048,Jl(9,{destroy:void 0},gI.bind(null,b,f),null)),[m,x,s]}function gI(s,c){s.action=c}function rk(s){var c=Nt(),f=Je;if(f!==null)return nk(c,f,s);Nt(),c=c.memoizedState,f=Nt();var m=f.queue.dispatch;return f.memoizedState=s,[c,m,!1]}function Jl(s,c,f,m){return s={tag:s,create:f,deps:m,inst:c,next:null},c=Me.updateQueue,c===null&&(c=Ph(),Me.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=s.next=s:(m=f.next,f.next=s,s.next=m,c.lastEffect=s),s}function ik(){return Nt().memoizedState}function Lh(s,c,f,m){var b=kn();Me.flags|=s,b.memoizedState=Jl(1|c,{destroy:void 0},f,m===void 0?null:m)}function Bh(s,c,f,m){var b=Nt();m=m===void 0?null:m;var x=b.memoizedState.inst;Je!==null&&m!==null&&ny(m,Je.memoizedState.deps)?b.memoizedState=Jl(c,x,f,m):(Me.flags|=s,b.memoizedState=Jl(1|c,x,f,m))}function ak(s,c){Lh(8390656,8,s,c)}function hy(s,c){Bh(2048,8,s,c)}function yI(s){Me.flags|=4;var c=Me.updateQueue;if(c===null)c=Ph(),Me.updateQueue=c,c.events=[s];else{var f=c.events;f===null?c.events=[s]:f.push(s)}}function sk(s){var c=Nt().memoizedState;return yI({ref:c,nextImpl:s}),function(){if((Ge&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function lk(s,c){return Bh(4,2,s,c)}function ok(s,c){return Bh(4,4,s,c)}function ck(s,c){if(typeof c=="function"){s=s();var f=c(s);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function uk(s,c,f){f=f!=null?f.concat([s]):null,Bh(4,4,ck.bind(null,c,s),f)}function dy(){}function fk(s,c){var f=Nt();c=c===void 0?null:c;var m=f.memoizedState;return c!==null&&ny(c,m[1])?m[0]:(f.memoizedState=[s,c],s)}function hk(s,c){var f=Nt();c=c===void 0?null:c;var m=f.memoizedState;if(c!==null&&ny(c,m[1]))return m[0];if(m=s(),qs){Na(!0);try{s()}finally{Na(!1)}}return f.memoizedState=[m,c],m}function my(s,c,f){return f===void 0||($i&1073741824)!==0&&(Ie&261930)===0?s.memoizedState=c:(s.memoizedState=f,s=dA(),Me.lanes|=s,Ha|=s,f)}function dk(s,c,f,m){return tr(f,c)?f:Ql.current!==null?(s=my(s,f,m),tr(s,c)||(Pt=!0),s):($i&42)===0||($i&1073741824)!==0&&(Ie&261930)===0?(Pt=!0,s.memoizedState=f):(s=dA(),Me.lanes|=s,Ha|=s,c)}function mk(s,c,f,m,b){var x=Y.p;Y.p=x!==0&&8>x?x:8;var A=H.T,P={};H.T=P,yy(s,!1,c,f);try{var L=b(),W=H.S;if(W!==null&&W(P,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var J=hI(L,m);Vc(s,c,J,lr(s))}else Vc(s,c,m,lr(s))}catch(ie){Vc(s,c,{then:function(){},status:"rejected",reason:ie},lr())}finally{Y.p=x,A!==null&&P.types!==null&&(A.types=P.types),H.T=A}}function vI(){}function py(s,c,f,m){if(s.tag!==5)throw Error(r(476));var b=pk(s).queue;mk(s,b,c,le,f===null?vI:function(){return gk(s),f(m)})}function pk(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:le},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:f},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function gk(s){var c=pk(s);c.next===null&&(c=s.alternate.memoizedState),Vc(s,c.next.queue,{},lr())}function gy(){return sn(lu)}function yk(){return Nt().memoizedState}function vk(){return Nt().memoizedState}function bI(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var f=lr();s=Ra(f);var m=La(c,s,f);m!==null&&(Un(m,c,f),Ic(m,c,f)),c={cache:W0()},s.payload=c;return}c=c.return}}function xI(s,c,f){var m=lr();f={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},zh(s)?xk(c,f):(f=_0(s,c,f,m),f!==null&&(Un(f,s,m),wk(f,c,m)))}function bk(s,c,f){var m=lr();Vc(s,c,f,m)}function Vc(s,c,f,m){var b={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(zh(s))xk(c,b);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=c.lastRenderedReducer,x!==null))try{var A=c.lastRenderedState,P=x(A,f);if(b.hasEagerState=!0,b.eagerState=P,tr(P,A))return vh(s,c,b,0),it===null&&yh(),!1}catch{}if(f=_0(s,c,b,m),f!==null)return Un(f,s,m),wk(f,c,m),!0}return!1}function yy(s,c,f,m){if(m={lane:2,revertLane:Yy(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},zh(s)){if(c)throw Error(r(479))}else c=_0(s,f,m,2),c!==null&&Un(c,s,2)}function zh(s){var c=s.alternate;return s===Me||c!==null&&c===Me}function xk(s,c){Xl=Mh=!0;var f=s.pending;f===null?c.next=c:(c.next=f.next,f.next=c),s.pending=c}function wk(s,c,f){if((f&4194048)!==0){var m=c.lanes;m&=s.pendingLanes,f|=m,c.lanes=f,AC(s,f)}}var Wc={readContext:sn,use:_h,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};Wc.useEffectEvent=wt;var Sk={readContext:sn,use:_h,useCallback:function(s,c){return kn().memoizedState=[s,c===void 0?null:c],s},useContext:sn,useEffect:ak,useImperativeHandle:function(s,c,f){f=f!=null?f.concat([s]):null,Lh(4194308,4,ck.bind(null,c,s),f)},useLayoutEffect:function(s,c){return Lh(4194308,4,s,c)},useInsertionEffect:function(s,c){Lh(4,2,s,c)},useMemo:function(s,c){var f=kn();c=c===void 0?null:c;var m=s();if(qs){Na(!0);try{s()}finally{Na(!1)}}return f.memoizedState=[m,c],m},useReducer:function(s,c,f){var m=kn();if(f!==void 0){var b=f(c);if(qs){Na(!0);try{f(c)}finally{Na(!1)}}}else b=c;return m.memoizedState=m.baseState=b,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:b},m.queue=s,s=s.dispatch=xI.bind(null,Me,s),[m.memoizedState,s]},useRef:function(s){var c=kn();return s={current:s},c.memoizedState=s},useState:function(s){s=uy(s);var c=s.queue,f=bk.bind(null,Me,c);return c.dispatch=f,[s.memoizedState,f]},useDebugValue:dy,useDeferredValue:function(s,c){var f=kn();return my(f,s,c)},useTransition:function(){var s=uy(!1);return s=mk.bind(null,Me,s.queue,!0,!1),kn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,f){var m=Me,b=kn();if(He){if(f===void 0)throw Error(r(407));f=f()}else{if(f=c(),it===null)throw Error(r(349));(Ie&127)!==0||$O(m,c,f)}b.memoizedState=f;var x={value:f,getSnapshot:c};return b.queue=x,ak(WO.bind(null,m,x,s),[s]),m.flags|=2048,Jl(9,{destroy:void 0},VO.bind(null,m,x,f,c),null),f},useId:function(){var s=kn(),c=it.identifierPrefix;if(He){var f=ai,m=ii;f=(m&~(1<<32-er(m)-1)).toString(32)+f,c="_"+c+"R_"+f,f=Dh++,0<f&&(c+="H"+f.toString(32)),c+="_"}else f=dI++,c="_"+c+"r_"+f.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:gy,useFormState:ek,useActionState:ek,useOptimistic:function(s){var c=kn();c.memoizedState=c.baseState=s;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=yy.bind(null,Me,!0,f),f.dispatch=c,[s,c]},useMemoCache:ly,useCacheRefresh:function(){return kn().memoizedState=bI.bind(null,Me)},useEffectEvent:function(s){var c=kn(),f={impl:s};return c.memoizedState=f,function(){if((Ge&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},vy={readContext:sn,use:_h,useCallback:fk,useContext:sn,useEffect:hy,useImperativeHandle:uk,useInsertionEffect:lk,useLayoutEffect:ok,useMemo:hk,useReducer:Rh,useRef:ik,useState:function(){return Rh(Vi)},useDebugValue:dy,useDeferredValue:function(s,c){var f=Nt();return dk(f,Je.memoizedState,s,c)},useTransition:function(){var s=Rh(Vi)[0],c=Nt().memoizedState;return[typeof s=="boolean"?s:$c(s),c]},useSyncExternalStore:qO,useId:yk,useHostTransitionStatus:gy,useFormState:tk,useActionState:tk,useOptimistic:function(s,c){var f=Nt();return GO(f,Je,s,c)},useMemoCache:ly,useCacheRefresh:vk};vy.useEffectEvent=sk;var Ck={readContext:sn,use:_h,useCallback:fk,useContext:sn,useEffect:hy,useImperativeHandle:uk,useInsertionEffect:lk,useLayoutEffect:ok,useMemo:hk,useReducer:cy,useRef:ik,useState:function(){return cy(Vi)},useDebugValue:dy,useDeferredValue:function(s,c){var f=Nt();return Je===null?my(f,s,c):dk(f,Je.memoizedState,s,c)},useTransition:function(){var s=cy(Vi)[0],c=Nt().memoizedState;return[typeof s=="boolean"?s:$c(s),c]},useSyncExternalStore:qO,useId:yk,useHostTransitionStatus:gy,useFormState:rk,useActionState:rk,useOptimistic:function(s,c){var f=Nt();return Je!==null?GO(f,Je,s,c):(f.baseState=s,[s,f.queue.dispatch])},useMemoCache:ly,useCacheRefresh:vk};Ck.useEffectEvent=sk;function by(s,c,f,m){c=s.memoizedState,f=f(m,c),f=f==null?c:p({},c,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var xy={enqueueSetState:function(s,c,f){s=s._reactInternals;var m=lr(),b=Ra(m);b.payload=c,f!=null&&(b.callback=f),c=La(s,b,m),c!==null&&(Un(c,s,m),Ic(c,s,m))},enqueueReplaceState:function(s,c,f){s=s._reactInternals;var m=lr(),b=Ra(m);b.tag=1,b.payload=c,f!=null&&(b.callback=f),c=La(s,b,m),c!==null&&(Un(c,s,m),Ic(c,s,m))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var f=lr(),m=Ra(f);m.tag=2,c!=null&&(m.callback=c),c=La(s,m,f),c!==null&&(Un(c,s,f),Ic(c,s,f))}};function Ok(s,c,f,m,b,x,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,x,A):c.prototype&&c.prototype.isPureReactComponent?!Mc(f,m)||!Mc(b,x):!0}function kk(s,c,f,m){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,m),c.state!==s&&xy.enqueueReplaceState(c,c.state,null)}function $s(s,c){var f=c;if("ref"in c){f={};for(var m in c)m!=="ref"&&(f[m]=c[m])}if(s=s.defaultProps){f===c&&(f=p({},f));for(var b in s)f[b]===void 0&&(f[b]=s[b])}return f}function Ak(s){gh(s)}function Nk(s){console.error(s)}function jk(s){gh(s)}function Ih(s,c){try{var f=s.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function Ek(s,c,f){try{var m=s.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function wy(s,c,f){return f=Ra(f),f.tag=3,f.payload={element:null},f.callback=function(){Ih(s,c)},f}function Tk(s){return s=Ra(s),s.tag=3,s}function Mk(s,c,f,m){var b=f.type.getDerivedStateFromError;if(typeof b=="function"){var x=m.value;s.payload=function(){return b(x)},s.callback=function(){Ek(c,f,m)}}var A=f.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(s.callback=function(){Ek(c,f,m),typeof b!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var P=m.stack;this.componentDidCatch(m.value,{componentStack:P!==null?P:""})})}function wI(s,c,f,m,b){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=f.alternate,c!==null&&Wl(c,f,b,!0),f=rr.current,f!==null){switch(f.tag){case 31:case 13:return Cr===null?Xh():f.alternate===null&&St===0&&(St=3),f.flags&=-257,f.flags|=65536,f.lanes=b,m===Ah?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([m]):c.add(m),Fy(s,m,b)),!1;case 22:return f.flags|=65536,m===Ah?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([m]):f.add(m)),Fy(s,m,b)),!1}throw Error(r(435,f.tag))}return Fy(s,m,b),Xh(),!1}if(He)return c=rr.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=b,m!==U0&&(s=Error(r(422),{cause:m}),_c(br(s,f)))):(m!==U0&&(c=Error(r(423),{cause:m}),_c(br(c,f))),s=s.current.alternate,s.flags|=65536,b&=-b,s.lanes|=b,m=br(m,f),b=wy(s.stateNode,m,b),X0(s,b),St!==4&&(St=2)),!1;var x=Error(r(520),{cause:m});if(x=br(x,f),Jc===null?Jc=[x]:Jc.push(x),St!==4&&(St=2),c===null)return!0;m=br(m,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,s=b&-b,f.lanes|=s,s=wy(f.stateNode,m,s),X0(f,s),!1;case 1:if(c=f.type,x=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(qa===null||!qa.has(x))))return f.flags|=65536,b&=-b,f.lanes|=b,b=Tk(b),Mk(b,s,f,m),X0(f,b),!1}f=f.return}while(f!==null);return!1}var Sy=Error(r(461)),Pt=!1;function ln(s,c,f,m){c.child=s===null?RO(c,null,f,m):Hs(c,s.child,f,m)}function Dk(s,c,f,m,b){f=f.render;var x=c.ref;if("ref"in m){var A={};for(var P in m)P!=="ref"&&(A[P]=m[P])}else A=m;return Bs(c),m=ry(s,c,f,A,x,b),P=iy(),s!==null&&!Pt?(ay(s,c,b),Wi(s,c,b)):(He&&P&&z0(c),c.flags|=1,ln(s,c,m,b),c.child)}function Pk(s,c,f,m,b){if(s===null){var x=f.type;return typeof x=="function"&&!R0(x)&&x.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=x,_k(s,c,x,m,b)):(s=xh(f.type,null,m,c,c.mode,b),s.ref=c.ref,s.return=c,c.child=s)}if(x=s.child,!Ty(s,b)){var A=x.memoizedProps;if(f=f.compare,f=f!==null?f:Mc,f(A,m)&&s.ref===c.ref)return Wi(s,c,b)}return c.flags|=1,s=Ii(x,m),s.ref=c.ref,s.return=c,c.child=s}function _k(s,c,f,m,b){if(s!==null){var x=s.memoizedProps;if(Mc(x,m)&&s.ref===c.ref)if(Pt=!1,c.pendingProps=m=x,Ty(s,b))(s.flags&131072)!==0&&(Pt=!0);else return c.lanes=s.lanes,Wi(s,c,b)}return Cy(s,c,f,m,b)}function Rk(s,c,f,m){var b=m.children,x=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((c.flags&128)!==0){if(x=x!==null?x.baseLanes|f:f,s!==null){for(m=c.child=s.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;m=b&~x}else m=0,c.child=null;return Lk(s,c,x,f,m)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&Oh(c,x!==null?x.cachePool:null),x!==null?zO(c,x):J0(),IO(c);else return m=c.lanes=536870912,Lk(s,c,x!==null?x.baseLanes|f:f,f,m)}else x!==null?(Oh(c,x.cachePool),zO(c,x),za(),c.memoizedState=null):(s!==null&&Oh(c,null),J0(),za());return ln(s,c,b,f),c.child}function Fc(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function Lk(s,c,f,m,b){var x=K0();return x=x===null?null:{parent:Mt._currentValue,pool:x},c.memoizedState={baseLanes:f,cachePool:x},s!==null&&Oh(c,null),J0(),IO(c),s!==null&&Wl(s,c,m,!0),c.childLanes=b,null}function Uh(s,c){return c=qh({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function Bk(s,c,f){return Hs(c,s.child,null,f),s=Uh(c,c.pendingProps),s.flags|=2,ir(c),c.memoizedState=null,s}function SI(s,c,f){var m=c.pendingProps,b=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(He){if(m.mode==="hidden")return s=Uh(c,m),c.lanes=536870912,Fc(null,s);if(ty(c),(s=ut)?(s=YA(s,Sr),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:Ta!==null?{id:ii,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},f=xO(s),f.return=c,c.child=f,an=c,ut=null)):s=null,s===null)throw Da(c);return c.lanes=536870912,null}return Uh(c,m)}var x=s.memoizedState;if(x!==null){var A=x.dehydrated;if(ty(c),b)if(c.flags&256)c.flags&=-257,c=Bk(s,c,f);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if(Pt||Wl(s,c,f,!1),b=(f&s.childLanes)!==0,Pt||b){if(m=it,m!==null&&(A=NC(m,f),A!==0&&A!==x.retryLane))throw x.retryLane=A,Ps(s,A),Un(m,s,A),Sy;Xh(),c=Bk(s,c,f)}else s=x.treeContext,ut=Or(A.nextSibling),an=c,He=!0,Ma=null,Sr=!1,s!==null&&CO(c,s),c=Uh(c,m),c.flags|=4096;return c}return s=Ii(s.child,{mode:m.mode,children:m.children}),s.ref=c.ref,c.child=s,s.return=c,s}function Hh(s,c){var f=c.ref;if(f===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(s===null||s.ref!==f)&&(c.flags|=4194816)}}function Cy(s,c,f,m,b){return Bs(c),f=ry(s,c,f,m,void 0,b),m=iy(),s!==null&&!Pt?(ay(s,c,b),Wi(s,c,b)):(He&&m&&z0(c),c.flags|=1,ln(s,c,f,b),c.child)}function zk(s,c,f,m,b,x){return Bs(c),c.updateQueue=null,f=HO(c,m,f,b),UO(s),m=iy(),s!==null&&!Pt?(ay(s,c,x),Wi(s,c,x)):(He&&m&&z0(c),c.flags|=1,ln(s,c,f,x),c.child)}function Ik(s,c,f,m,b){if(Bs(c),c.stateNode===null){var x=Hl,A=f.contextType;typeof A=="object"&&A!==null&&(x=sn(A)),x=new f(m,x),c.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=xy,c.stateNode=x,x._reactInternals=c,x=c.stateNode,x.props=m,x.state=c.memoizedState,x.refs={},Y0(c),A=f.contextType,x.context=typeof A=="object"&&A!==null?sn(A):Hl,x.state=c.memoizedState,A=f.getDerivedStateFromProps,typeof A=="function"&&(by(c,f,A,m),x.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(A=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),A!==x.state&&xy.enqueueReplaceState(x,x.state,null),Hc(c,m,x,b),Uc(),x.state=c.memoizedState),typeof x.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(s===null){x=c.stateNode;var P=c.memoizedProps,L=$s(f,P);x.props=L;var W=x.context,J=f.contextType;A=Hl,typeof J=="object"&&J!==null&&(A=sn(J));var ie=f.getDerivedStateFromProps;J=typeof ie=="function"||typeof x.getSnapshotBeforeUpdate=="function",P=c.pendingProps!==P,J||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(P||W!==A)&&kk(c,x,m,A),_a=!1;var F=c.memoizedState;x.state=F,Hc(c,m,x,b),Uc(),W=c.memoizedState,P||F!==W||_a?(typeof ie=="function"&&(by(c,f,ie,m),W=c.memoizedState),(L=_a||Ok(c,f,L,m,F,W,A))?(J||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(c.flags|=4194308)):(typeof x.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=W),x.props=m,x.state=W,x.context=A,m=L):(typeof x.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{x=c.stateNode,Q0(s,c),A=c.memoizedProps,J=$s(f,A),x.props=J,ie=c.pendingProps,F=x.context,W=f.contextType,L=Hl,typeof W=="object"&&W!==null&&(L=sn(W)),P=f.getDerivedStateFromProps,(W=typeof P=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(A!==ie||F!==L)&&kk(c,x,m,L),_a=!1,F=c.memoizedState,x.state=F,Hc(c,m,x,b),Uc();var X=c.memoizedState;A!==ie||F!==X||_a||s!==null&&s.dependencies!==null&&Sh(s.dependencies)?(typeof P=="function"&&(by(c,f,P,m),X=c.memoizedState),(J=_a||Ok(c,f,J,m,F,X,L)||s!==null&&s.dependencies!==null&&Sh(s.dependencies))?(W||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(m,X,L),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(m,X,L)),typeof x.componentDidUpdate=="function"&&(c.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof x.componentDidUpdate!="function"||A===s.memoizedProps&&F===s.memoizedState||(c.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&F===s.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=X),x.props=m,x.state=X,x.context=L,m=J):(typeof x.componentDidUpdate!="function"||A===s.memoizedProps&&F===s.memoizedState||(c.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&F===s.memoizedState||(c.flags|=1024),m=!1)}return x=m,Hh(s,c),m=(c.flags&128)!==0,x||m?(x=c.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:x.render(),c.flags|=1,s!==null&&m?(c.child=Hs(c,s.child,null,b),c.child=Hs(c,null,f,b)):ln(s,c,f,b),c.memoizedState=x.state,s=c.child):s=Wi(s,c,b),s}function Uk(s,c,f,m){return Rs(),c.flags|=256,ln(s,c,f,m),c.child}var Oy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ky(s){return{baseLanes:s,cachePool:EO()}}function Ay(s,c,f){return s=s!==null?s.childLanes&~f:0,c&&(s|=sr),s}function Hk(s,c,f){var m=c.pendingProps,b=!1,x=(c.flags&128)!==0,A;if((A=x)||(A=s!==null&&s.memoizedState===null?!1:(At.current&2)!==0),A&&(b=!0,c.flags&=-129),A=(c.flags&32)!==0,c.flags&=-33,s===null){if(He){if(b?Ba(c):za(),(s=ut)?(s=YA(s,Sr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:Ta!==null?{id:ii,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},f=xO(s),f.return=c,c.child=f,an=c,ut=null)):s=null,s===null)throw Da(c);return ov(s)?c.lanes=32:c.lanes=536870912,null}var P=m.children;return m=m.fallback,b?(za(),b=c.mode,P=qh({mode:"hidden",children:P},b),m=_s(m,b,f,null),P.return=c,m.return=c,P.sibling=m,c.child=P,m=c.child,m.memoizedState=ky(f),m.childLanes=Ay(s,A,f),c.memoizedState=Oy,Fc(null,m)):(Ba(c),Ny(c,P))}var L=s.memoizedState;if(L!==null&&(P=L.dehydrated,P!==null)){if(x)c.flags&256?(Ba(c),c.flags&=-257,c=jy(s,c,f)):c.memoizedState!==null?(za(),c.child=s.child,c.flags|=128,c=null):(za(),P=m.fallback,b=c.mode,m=qh({mode:"visible",children:m.children},b),P=_s(P,b,f,null),P.flags|=2,m.return=c,P.return=c,m.sibling=P,c.child=m,Hs(c,s.child,null,f),m=c.child,m.memoizedState=ky(f),m.childLanes=Ay(s,A,f),c.memoizedState=Oy,c=Fc(null,m));else if(Ba(c),ov(P)){if(A=P.nextSibling&&P.nextSibling.dataset,A)var W=A.dgst;A=W,m=Error(r(419)),m.stack="",m.digest=A,_c({value:m,source:null,stack:null}),c=jy(s,c,f)}else if(Pt||Wl(s,c,f,!1),A=(f&s.childLanes)!==0,Pt||A){if(A=it,A!==null&&(m=NC(A,f),m!==0&&m!==L.retryLane))throw L.retryLane=m,Ps(s,m),Un(A,s,m),Sy;lv(P)||Xh(),c=jy(s,c,f)}else lv(P)?(c.flags|=192,c.child=s.child,c=null):(s=L.treeContext,ut=Or(P.nextSibling),an=c,He=!0,Ma=null,Sr=!1,s!==null&&CO(c,s),c=Ny(c,m.children),c.flags|=4096);return c}return b?(za(),P=m.fallback,b=c.mode,L=s.child,W=L.sibling,m=Ii(L,{mode:"hidden",children:m.children}),m.subtreeFlags=L.subtreeFlags&65011712,W!==null?P=Ii(W,P):(P=_s(P,b,f,null),P.flags|=2),P.return=c,m.return=c,m.sibling=P,c.child=m,Fc(null,m),m=c.child,P=s.child.memoizedState,P===null?P=ky(f):(b=P.cachePool,b!==null?(L=Mt._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=EO(),P={baseLanes:P.baseLanes|f,cachePool:b}),m.memoizedState=P,m.childLanes=Ay(s,A,f),c.memoizedState=Oy,Fc(s.child,m)):(Ba(c),f=s.child,s=f.sibling,f=Ii(f,{mode:"visible",children:m.children}),f.return=c,f.sibling=null,s!==null&&(A=c.deletions,A===null?(c.deletions=[s],c.flags|=16):A.push(s)),c.child=f,c.memoizedState=null,f)}function Ny(s,c){return c=qh({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function qh(s,c){return s=nr(22,s,null,c),s.lanes=0,s}function jy(s,c,f){return Hs(c,s.child,null,f),s=Ny(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function qk(s,c,f){s.lanes|=c;var m=s.alternate;m!==null&&(m.lanes|=c),$0(s.return,c,f)}function Ey(s,c,f,m,b,x){var A=s.memoizedState;A===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:b,treeForkCount:x}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=m,A.tail=f,A.tailMode=b,A.treeForkCount=x)}function $k(s,c,f){var m=c.pendingProps,b=m.revealOrder,x=m.tail;m=m.children;var A=At.current,P=(A&2)!==0;if(P?(A=A&1|2,c.flags|=128):A&=1,ce(At,A),ln(s,c,m,f),m=He?Pc:0,!P&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&qk(s,f,c);else if(s.tag===19)qk(s,f,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(b){case"forwards":for(f=c.child,b=null;f!==null;)s=f.alternate,s!==null&&Th(s)===null&&(b=f),f=f.sibling;f=b,f===null?(b=c.child,c.child=null):(b=f.sibling,f.sibling=null),Ey(c,!1,b,f,x,m);break;case"backwards":case"unstable_legacy-backwards":for(f=null,b=c.child,c.child=null;b!==null;){if(s=b.alternate,s!==null&&Th(s)===null){c.child=b;break}s=b.sibling,b.sibling=f,f=b,b=s}Ey(c,!0,f,null,x,m);break;case"together":Ey(c,!1,null,null,void 0,m);break;default:c.memoizedState=null}return c.child}function Wi(s,c,f){if(s!==null&&(c.dependencies=s.dependencies),Ha|=c.lanes,(f&c.childLanes)===0)if(s!==null){if(Wl(s,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,f=Ii(s,s.pendingProps),c.child=f,f.return=c;s.sibling!==null;)s=s.sibling,f=f.sibling=Ii(s,s.pendingProps),f.return=c;f.sibling=null}return c.child}function Ty(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&Sh(s)))}function CI(s,c,f){switch(c.tag){case 3:yt(c,c.stateNode.containerInfo),Pa(c,Mt,s.memoizedState.cache),Rs();break;case 27:case 5:je(c);break;case 4:yt(c,c.stateNode.containerInfo);break;case 10:Pa(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,ty(c),null;break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(Ba(c),c.flags|=128,null):(f&c.child.childLanes)!==0?Hk(s,c,f):(Ba(c),s=Wi(s,c,f),s!==null?s.sibling:null);Ba(c);break;case 19:var b=(s.flags&128)!==0;if(m=(f&c.childLanes)!==0,m||(Wl(s,c,f,!1),m=(f&c.childLanes)!==0),b){if(m)return $k(s,c,f);c.flags|=128}if(b=c.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ce(At,At.current),m)break;return null;case 22:return c.lanes=0,Rk(s,c,f,c.pendingProps);case 24:Pa(c,Mt,s.memoizedState.cache)}return Wi(s,c,f)}function Vk(s,c,f){if(s!==null)if(s.memoizedProps!==c.pendingProps)Pt=!0;else{if(!Ty(s,f)&&(c.flags&128)===0)return Pt=!1,CI(s,c,f);Pt=(s.flags&131072)!==0}else Pt=!1,He&&(c.flags&1048576)!==0&&SO(c,Pc,c.index);switch(c.lanes=0,c.tag){case 16:e:{var m=c.pendingProps;if(s=Is(c.elementType),c.type=s,typeof s=="function")R0(s)?(m=$s(s,m),c.tag=1,c=Ik(null,c,s,m,f)):(c.tag=0,c=Cy(null,c,s,m,f));else{if(s!=null){var b=s.$$typeof;if(b===M){c.tag=11,c=Dk(null,c,s,m,f);break e}else if(b===E){c.tag=14,c=Pk(null,c,s,m,f);break e}}throw c=se(s)||s,Error(r(306,c,""))}}return c;case 0:return Cy(s,c,c.type,c.pendingProps,f);case 1:return m=c.type,b=$s(m,c.pendingProps),Ik(s,c,m,b,f);case 3:e:{if(yt(c,c.stateNode.containerInfo),s===null)throw Error(r(387));m=c.pendingProps;var x=c.memoizedState;b=x.element,Q0(s,c),Hc(c,m,null,f);var A=c.memoizedState;if(m=A.cache,Pa(c,Mt,m),m!==x.cache&&V0(c,[Mt],f,!0),Uc(),m=A.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:A.cache},c.updateQueue.baseState=x,c.memoizedState=x,c.flags&256){c=Uk(s,c,m,f);break e}else if(m!==b){b=br(Error(r(424)),c),_c(b),c=Uk(s,c,m,f);break e}else for(s=c.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ut=Or(s.firstChild),an=c,He=!0,Ma=null,Sr=!0,f=RO(c,null,m,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Rs(),m===b){c=Wi(s,c,f);break e}ln(s,c,m,f)}c=c.child}return c;case 26:return Hh(s,c),s===null?(f=tN(c.type,null,c.pendingProps,null))?c.memoizedState=f:He||(f=c.type,s=c.pendingProps,m=id(fe.current).createElement(f),m[rn]=c,m[_n]=s,on(m,f,s),Vt(m),c.stateNode=m):c.memoizedState=tN(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return je(c),s===null&&He&&(m=c.stateNode=ZA(c.type,c.pendingProps,fe.current),an=c,Sr=!0,b=ut,Fa(c.type)?(cv=b,ut=Or(m.firstChild)):ut=b),ln(s,c,c.pendingProps.children,f),Hh(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&He&&((b=m=ut)&&(m=JI(m,c.type,c.pendingProps,Sr),m!==null?(c.stateNode=m,an=c,ut=Or(m.firstChild),Sr=!1,b=!0):b=!1),b||Da(c)),je(c),b=c.type,x=c.pendingProps,A=s!==null?s.memoizedProps:null,m=x.children,iv(b,x)?m=null:A!==null&&iv(b,A)&&(c.flags|=32),c.memoizedState!==null&&(b=ry(s,c,mI,null,null,f),lu._currentValue=b),Hh(s,c),ln(s,c,m,f),c.child;case 6:return s===null&&He&&((s=f=ut)&&(f=e7(f,c.pendingProps,Sr),f!==null?(c.stateNode=f,an=c,ut=null,s=!0):s=!1),s||Da(c)),null;case 13:return Hk(s,c,f);case 4:return yt(c,c.stateNode.containerInfo),m=c.pendingProps,s===null?c.child=Hs(c,null,m,f):ln(s,c,m,f),c.child;case 11:return Dk(s,c,c.type,c.pendingProps,f);case 7:return ln(s,c,c.pendingProps,f),c.child;case 8:return ln(s,c,c.pendingProps.children,f),c.child;case 12:return ln(s,c,c.pendingProps.children,f),c.child;case 10:return m=c.pendingProps,Pa(c,c.type,m.value),ln(s,c,m.children,f),c.child;case 9:return b=c.type._context,m=c.pendingProps.children,Bs(c),b=sn(b),m=m(b),c.flags|=1,ln(s,c,m,f),c.child;case 14:return Pk(s,c,c.type,c.pendingProps,f);case 15:return _k(s,c,c.type,c.pendingProps,f);case 19:return $k(s,c,f);case 31:return SI(s,c,f);case 22:return Rk(s,c,f,c.pendingProps);case 24:return Bs(c),m=sn(Mt),s===null?(b=K0(),b===null&&(b=it,x=W0(),b.pooledCache=x,x.refCount++,x!==null&&(b.pooledCacheLanes|=f),b=x),c.memoizedState={parent:m,cache:b},Y0(c),Pa(c,Mt,b)):((s.lanes&f)!==0&&(Q0(s,c),Hc(c,null,null,f),Uc()),b=s.memoizedState,x=c.memoizedState,b.parent!==m?(b={parent:m,cache:m},c.memoizedState=b,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=b),Pa(c,Mt,m)):(m=x.cache,Pa(c,Mt,m),m!==b.cache&&V0(c,[Mt],f,!0))),ln(s,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Fi(s){s.flags|=4}function My(s,c,f,m,b){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(b&335544128)===b)if(s.stateNode.complete)s.flags|=8192;else if(yA())s.flags|=8192;else throw Us=Ah,G0}else s.flags&=-16777217}function Wk(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!sN(c))if(yA())s.flags|=8192;else throw Us=Ah,G0}function $h(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?OC():536870912,s.lanes|=c,ro|=c)}function Kc(s,c){if(!He)switch(s.tailMode){case"hidden":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function ft(s){var c=s.alternate!==null&&s.alternate.child===s.child,f=0,m=0;if(c)for(var b=s.child;b!==null;)f|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)f|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=m,s.childLanes=f,c}function OI(s,c,f){var m=c.pendingProps;switch(I0(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(c),null;case 1:return ft(c),null;case 3:return f=c.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),qi(Mt),te(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Vl(c)?Fi(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,H0())),ft(c),null;case 26:var b=c.type,x=c.memoizedState;return s===null?(Fi(c),x!==null?(ft(c),Wk(c,x)):(ft(c),My(c,b,null,m,f))):x?x!==s.memoizedState?(Fi(c),ft(c),Wk(c,x)):(ft(c),c.flags&=-16777217):(s=s.memoizedProps,s!==m&&Fi(c),ft(c),My(c,b,s,m,f)),null;case 27:if(_e(c),f=fe.current,b=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==m&&Fi(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return ft(c),null}s=Q.current,Vl(c)?OO(c):(s=ZA(b,m,f),c.stateNode=s,Fi(c))}return ft(c),null;case 5:if(_e(c),b=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==m&&Fi(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return ft(c),null}if(x=Q.current,Vl(c))OO(c);else{var A=id(fe.current);switch(x){case 1:x=A.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:x=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":x=A.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":x=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":x=A.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof m.is=="string"?A.createElement("select",{is:m.is}):A.createElement("select"),m.multiple?x.multiple=!0:m.size&&(x.size=m.size);break;default:x=typeof m.is=="string"?A.createElement(b,{is:m.is}):A.createElement(b)}}x[rn]=c,x[_n]=m;e:for(A=c.child;A!==null;){if(A.tag===5||A.tag===6)x.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===c)break e;for(;A.sibling===null;){if(A.return===null||A.return===c)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}c.stateNode=x;e:switch(on(x,b,m),b){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Fi(c)}}return ft(c),My(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,f),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==m&&Fi(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(r(166));if(s=fe.current,Vl(c)){if(s=c.stateNode,f=c.memoizedProps,m=null,b=an,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}s[rn]=c,s=!!(s.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||HA(s.nodeValue,f)),s||Da(c,!0)}else s=id(s).createTextNode(m),s[rn]=c,c.stateNode=s}return ft(c),null;case 31:if(f=c.memoizedState,s===null||s.memoizedState!==null){if(m=Vl(c),f!==null){if(s===null){if(!m)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[rn]=c}else Rs(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ft(c),s=!1}else f=H0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),s=!0;if(!s)return c.flags&256?(ir(c),c):(ir(c),null);if((c.flags&128)!==0)throw Error(r(558))}return ft(c),null;case 13:if(m=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(b=Vl(c),m!==null&&m.dehydrated!==null){if(s===null){if(!b)throw Error(r(318));if(b=c.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[rn]=c}else Rs(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ft(c),b=!1}else b=H0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=b),b=!0;if(!b)return c.flags&256?(ir(c),c):(ir(c),null)}return ir(c),(c.flags&128)!==0?(c.lanes=f,c):(f=m!==null,s=s!==null&&s.memoizedState!==null,f&&(m=c.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool),x=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),x!==b&&(m.flags|=2048)),f!==s&&f&&(c.child.flags|=8192),$h(c,c.updateQueue),ft(c),null);case 4:return te(),s===null&&Jy(c.stateNode.containerInfo),ft(c),null;case 10:return qi(c.type),ft(c),null;case 19:if(K(At),m=c.memoizedState,m===null)return ft(c),null;if(b=(c.flags&128)!==0,x=m.rendering,x===null)if(b)Kc(m,!1);else{if(St!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(x=Th(s),x!==null){for(c.flags|=128,Kc(m,!1),s=x.updateQueue,c.updateQueue=s,$h(c,s),c.subtreeFlags=0,s=f,f=c.child;f!==null;)bO(f,s),f=f.sibling;return ce(At,At.current&1|2),He&&Ui(c,m.treeForkCount),c.child}s=s.sibling}m.tail!==null&&Zn()>Gh&&(c.flags|=128,b=!0,Kc(m,!1),c.lanes=4194304)}else{if(!b)if(s=Th(x),s!==null){if(c.flags|=128,b=!0,s=s.updateQueue,c.updateQueue=s,$h(c,s),Kc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!He)return ft(c),null}else 2*Zn()-m.renderingStartTime>Gh&&f!==536870912&&(c.flags|=128,b=!0,Kc(m,!1),c.lanes=4194304);m.isBackwards?(x.sibling=c.child,c.child=x):(s=m.last,s!==null?s.sibling=x:c.child=x,m.last=x)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Zn(),s.sibling=null,f=At.current,ce(At,b?f&1|2:f&1),He&&Ui(c,m.treeForkCount),s):(ft(c),null);case 22:case 23:return ir(c),ey(),m=c.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(f&536870912)!==0&&(c.flags&128)===0&&(ft(c),c.subtreeFlags&6&&(c.flags|=8192)):ft(c),f=c.updateQueue,f!==null&&$h(c,f.retryQueue),f=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048),s!==null&&K(zs),null;case 24:return f=null,s!==null&&(f=s.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),qi(Mt),ft(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function kI(s,c){switch(I0(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return qi(Mt),te(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return _e(c),null;case 31:if(c.memoizedState!==null){if(ir(c),c.alternate===null)throw Error(r(340));Rs()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(ir(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Rs()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return K(At),null;case 4:return te(),null;case 10:return qi(c.type),null;case 22:case 23:return ir(c),ey(),s!==null&&K(zs),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return qi(Mt),null;case 25:return null;default:return null}}function Fk(s,c){switch(I0(c),c.tag){case 3:qi(Mt),te();break;case 26:case 27:case 5:_e(c);break;case 4:te();break;case 31:c.memoizedState!==null&&ir(c);break;case 13:ir(c);break;case 19:K(At);break;case 10:qi(c.type);break;case 22:case 23:ir(c),ey(),s!==null&&K(zs);break;case 24:qi(Mt)}}function Gc(s,c){try{var f=c.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var b=m.next;f=b;do{if((f.tag&s)===s){m=void 0;var x=f.create,A=f.inst;m=x(),A.destroy=m}f=f.next}while(f!==b)}}catch(P){Xe(c,c.return,P)}}function Ia(s,c,f){try{var m=c.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var x=b.next;m=x;do{if((m.tag&s)===s){var A=m.inst,P=A.destroy;if(P!==void 0){A.destroy=void 0,b=c;var L=f,W=P;try{W()}catch(J){Xe(b,L,J)}}}m=m.next}while(m!==x)}}catch(J){Xe(c,c.return,J)}}function Kk(s){var c=s.updateQueue;if(c!==null){var f=s.stateNode;try{BO(c,f)}catch(m){Xe(s,s.return,m)}}}function Gk(s,c,f){f.props=$s(s.type,s.memoizedProps),f.state=s.memoizedState;try{f.componentWillUnmount()}catch(m){Xe(s,c,m)}}function Yc(s,c){try{var f=s.ref;if(f!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof f=="function"?s.refCleanup=f(m):f.current=m}}catch(b){Xe(s,c,b)}}function si(s,c){var f=s.ref,m=s.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(b){Xe(s,c,b)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(b){Xe(s,c,b)}else f.current=null}function Yk(s){var c=s.type,f=s.memoizedProps,m=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(b){Xe(s,s.return,b)}}function Dy(s,c,f){try{var m=s.stateNode;KI(m,s.type,f,c),m[_n]=c}catch(b){Xe(s,s.return,b)}}function Qk(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Fa(s.type)||s.tag===4}function Py(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Qk(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Fa(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function _y(s,c,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(s,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(s),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Bi));else if(m!==4&&(m===27&&Fa(s.type)&&(f=s.stateNode,c=null),s=s.child,s!==null))for(_y(s,c,f),s=s.sibling;s!==null;)_y(s,c,f),s=s.sibling}function Vh(s,c,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,c?f.insertBefore(s,c):f.appendChild(s);else if(m!==4&&(m===27&&Fa(s.type)&&(f=s.stateNode),s=s.child,s!==null))for(Vh(s,c,f),s=s.sibling;s!==null;)Vh(s,c,f),s=s.sibling}function Xk(s){var c=s.stateNode,f=s.memoizedProps;try{for(var m=s.type,b=c.attributes;b.length;)c.removeAttributeNode(b[0]);on(c,m,f),c[rn]=s,c[_n]=f}catch(x){Xe(s,s.return,x)}}var Ki=!1,_t=!1,Ry=!1,Zk=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function AI(s,c){if(s=s.containerInfo,nv=fd,s=uO(s),j0(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var b=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{f.nodeType,x.nodeType}catch{f=null;break e}var A=0,P=-1,L=-1,W=0,J=0,ie=s,F=null;t:for(;;){for(var X;ie!==f||b!==0&&ie.nodeType!==3||(P=A+b),ie!==x||m!==0&&ie.nodeType!==3||(L=A+m),ie.nodeType===3&&(A+=ie.nodeValue.length),(X=ie.firstChild)!==null;)F=ie,ie=X;for(;;){if(ie===s)break t;if(F===f&&++W===b&&(P=A),F===x&&++J===m&&(L=A),(X=ie.nextSibling)!==null)break;ie=F,F=ie.parentNode}ie=X}f=P===-1||L===-1?null:{start:P,end:L}}else f=null}f=f||{start:0,end:0}}else f=null;for(rv={focusedElem:s,selectionRange:f},fd=!1,Wt=c;Wt!==null;)if(c=Wt,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,Wt=s;else for(;Wt!==null;){switch(c=Wt,x=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(f=0;f<s.length;f++)b=s[f],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&x!==null){s=void 0,f=c,b=x.memoizedProps,x=x.memoizedState,m=f.stateNode;try{var xe=$s(f.type,b);s=m.getSnapshotBeforeUpdate(xe,x),m.__reactInternalSnapshotBeforeUpdate=s}catch(Ne){Xe(f,f.return,Ne)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,f=s.nodeType,f===9)sv(s);else if(f===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":sv(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,Wt=s;break}Wt=c.return}}function Jk(s,c,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:Yi(s,f),m&4&&Gc(5,f);break;case 1:if(Yi(s,f),m&4)if(s=f.stateNode,c===null)try{s.componentDidMount()}catch(A){Xe(f,f.return,A)}else{var b=$s(f.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(b,c,s.__reactInternalSnapshotBeforeUpdate)}catch(A){Xe(f,f.return,A)}}m&64&&Kk(f),m&512&&Yc(f,f.return);break;case 3:if(Yi(s,f),m&64&&(s=f.updateQueue,s!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{BO(s,c)}catch(A){Xe(f,f.return,A)}}break;case 27:c===null&&m&4&&Xk(f);case 26:case 5:Yi(s,f),c===null&&m&4&&Yk(f),m&512&&Yc(f,f.return);break;case 12:Yi(s,f);break;case 31:Yi(s,f),m&4&&nA(s,f);break;case 13:Yi(s,f),m&4&&rA(s,f),m&64&&(s=f.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(f=RI.bind(null,f),t7(s,f))));break;case 22:if(m=f.memoizedState!==null||Ki,!m){c=c!==null&&c.memoizedState!==null||_t,b=Ki;var x=_t;Ki=m,(_t=c)&&!x?Qi(s,f,(f.subtreeFlags&8772)!==0):Yi(s,f),Ki=b,_t=x}break;case 30:break;default:Yi(s,f)}}function eA(s){var c=s.alternate;c!==null&&(s.alternate=null,eA(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&f0(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var dt=null,Ln=!1;function Gi(s,c,f){for(f=f.child;f!==null;)tA(s,c,f),f=f.sibling}function tA(s,c,f){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(bc,f)}catch{}switch(f.tag){case 26:_t||si(f,c),Gi(s,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:_t||si(f,c);var m=dt,b=Ln;Fa(f.type)&&(dt=f.stateNode,Ln=!1),Gi(s,c,f),iu(f.stateNode),dt=m,Ln=b;break;case 5:_t||si(f,c);case 6:if(m=dt,b=Ln,dt=null,Gi(s,c,f),dt=m,Ln=b,dt!==null)if(Ln)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(f.stateNode)}catch(x){Xe(f,c,x)}else try{dt.removeChild(f.stateNode)}catch(x){Xe(f,c,x)}break;case 18:dt!==null&&(Ln?(s=dt,KA(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,f.stateNode),fo(s)):KA(dt,f.stateNode));break;case 4:m=dt,b=Ln,dt=f.stateNode.containerInfo,Ln=!0,Gi(s,c,f),dt=m,Ln=b;break;case 0:case 11:case 14:case 15:Ia(2,f,c),_t||Ia(4,f,c),Gi(s,c,f);break;case 1:_t||(si(f,c),m=f.stateNode,typeof m.componentWillUnmount=="function"&&Gk(f,c,m)),Gi(s,c,f);break;case 21:Gi(s,c,f);break;case 22:_t=(m=_t)||f.memoizedState!==null,Gi(s,c,f),_t=m;break;default:Gi(s,c,f)}}function nA(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{fo(s)}catch(f){Xe(c,c.return,f)}}}function rA(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{fo(s)}catch(f){Xe(c,c.return,f)}}function NI(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new Zk),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new Zk),c;default:throw Error(r(435,s.tag))}}function Wh(s,c){var f=NI(s);c.forEach(function(m){if(!f.has(m)){f.add(m);var b=LI.bind(null,s,m);m.then(b,b)}})}function Bn(s,c){var f=c.deletions;if(f!==null)for(var m=0;m<f.length;m++){var b=f[m],x=s,A=c,P=A;e:for(;P!==null;){switch(P.tag){case 27:if(Fa(P.type)){dt=P.stateNode,Ln=!1;break e}break;case 5:dt=P.stateNode,Ln=!1;break e;case 3:case 4:dt=P.stateNode.containerInfo,Ln=!0;break e}P=P.return}if(dt===null)throw Error(r(160));tA(x,A,b),dt=null,Ln=!1,x=b.alternate,x!==null&&(x.return=null),b.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)iA(c,s),c=c.sibling}var $r=null;function iA(s,c){var f=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Bn(c,s),zn(s),m&4&&(Ia(3,s,s.return),Gc(3,s),Ia(5,s,s.return));break;case 1:Bn(c,s),zn(s),m&512&&(_t||f===null||si(f,f.return)),m&64&&Ki&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(f=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var b=$r;if(Bn(c,s),zn(s),m&512&&(_t||f===null||si(f,f.return)),m&4){var x=f!==null?f.memoizedState:null;if(m=s.memoizedState,f===null)if(m===null)if(s.stateNode===null){e:{m=s.type,f=s.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":x=b.getElementsByTagName("title")[0],(!x||x[Sc]||x[rn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=b.createElement(m),b.head.insertBefore(x,b.querySelector("head > title"))),on(x,m,f),x[rn]=s,Vt(x),m=x;break e;case"link":var A=iN("link","href",b).get(m+(f.href||""));if(A){for(var P=0;P<A.length;P++)if(x=A[P],x.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&x.getAttribute("rel")===(f.rel==null?null:f.rel)&&x.getAttribute("title")===(f.title==null?null:f.title)&&x.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){A.splice(P,1);break t}}x=b.createElement(m),on(x,m,f),b.head.appendChild(x);break;case"meta":if(A=iN("meta","content",b).get(m+(f.content||""))){for(P=0;P<A.length;P++)if(x=A[P],x.getAttribute("content")===(f.content==null?null:""+f.content)&&x.getAttribute("name")===(f.name==null?null:f.name)&&x.getAttribute("property")===(f.property==null?null:f.property)&&x.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&x.getAttribute("charset")===(f.charSet==null?null:f.charSet)){A.splice(P,1);break t}}x=b.createElement(m),on(x,m,f),b.head.appendChild(x);break;default:throw Error(r(468,m))}x[rn]=s,Vt(x),m=x}s.stateNode=m}else aN(b,s.type,s.stateNode);else s.stateNode=rN(b,m,s.memoizedProps);else x!==m?(x===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):x.count--,m===null?aN(b,s.type,s.stateNode):rN(b,m,s.memoizedProps)):m===null&&s.stateNode!==null&&Dy(s,s.memoizedProps,f.memoizedProps)}break;case 27:Bn(c,s),zn(s),m&512&&(_t||f===null||si(f,f.return)),f!==null&&m&4&&Dy(s,s.memoizedProps,f.memoizedProps);break;case 5:if(Bn(c,s),zn(s),m&512&&(_t||f===null||si(f,f.return)),s.flags&32){b=s.stateNode;try{_l(b,"")}catch(xe){Xe(s,s.return,xe)}}m&4&&s.stateNode!=null&&(b=s.memoizedProps,Dy(s,b,f!==null?f.memoizedProps:b)),m&1024&&(Ry=!0);break;case 6:if(Bn(c,s),zn(s),m&4){if(s.stateNode===null)throw Error(r(162));m=s.memoizedProps,f=s.stateNode;try{f.nodeValue=m}catch(xe){Xe(s,s.return,xe)}}break;case 3:if(ld=null,b=$r,$r=ad(c.containerInfo),Bn(c,s),$r=b,zn(s),m&4&&f!==null&&f.memoizedState.isDehydrated)try{fo(c.containerInfo)}catch(xe){Xe(s,s.return,xe)}Ry&&(Ry=!1,aA(s));break;case 4:m=$r,$r=ad(s.stateNode.containerInfo),Bn(c,s),zn(s),$r=m;break;case 12:Bn(c,s),zn(s);break;case 31:Bn(c,s),zn(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Wh(s,m)));break;case 13:Bn(c,s),zn(s),s.child.flags&8192&&s.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Kh=Zn()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Wh(s,m)));break;case 22:b=s.memoizedState!==null;var L=f!==null&&f.memoizedState!==null,W=Ki,J=_t;if(Ki=W||b,_t=J||L,Bn(c,s),_t=J,Ki=W,zn(s),m&8192)e:for(c=s.stateNode,c._visibility=b?c._visibility&-2:c._visibility|1,b&&(f===null||L||Ki||_t||Vs(s)),f=null,c=s;;){if(c.tag===5||c.tag===26){if(f===null){L=f=c;try{if(x=L.stateNode,b)A=x.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{P=L.stateNode;var ie=L.memoizedProps.style,F=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;P.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(xe){Xe(L,L.return,xe)}}}else if(c.tag===6){if(f===null){L=c;try{L.stateNode.nodeValue=b?"":L.memoizedProps}catch(xe){Xe(L,L.return,xe)}}}else if(c.tag===18){if(f===null){L=c;try{var X=L.stateNode;b?GA(X,!0):GA(L.stateNode,!1)}catch(xe){Xe(L,L.return,xe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=s.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,Wh(s,f))));break;case 19:Bn(c,s),zn(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Wh(s,m)));break;case 30:break;case 21:break;default:Bn(c,s),zn(s)}}function zn(s){var c=s.flags;if(c&2){try{for(var f,m=s.return;m!==null;){if(Qk(m)){f=m;break}m=m.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var b=f.stateNode,x=Py(s);Vh(s,x,b);break;case 5:var A=f.stateNode;f.flags&32&&(_l(A,""),f.flags&=-33);var P=Py(s);Vh(s,P,A);break;case 3:case 4:var L=f.stateNode.containerInfo,W=Py(s);_y(s,W,L);break;default:throw Error(r(161))}}catch(J){Xe(s,s.return,J)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function aA(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;aA(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function Yi(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Jk(s,c.alternate,c),c=c.sibling}function Vs(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:Ia(4,c,c.return),Vs(c);break;case 1:si(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&Gk(c,c.return,f),Vs(c);break;case 27:iu(c.stateNode);case 26:case 5:si(c,c.return),Vs(c);break;case 22:c.memoizedState===null&&Vs(c);break;case 30:Vs(c);break;default:Vs(c)}s=s.sibling}}function Qi(s,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,b=s,x=c,A=x.flags;switch(x.tag){case 0:case 11:case 15:Qi(b,x,f),Gc(4,x);break;case 1:if(Qi(b,x,f),m=x,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(W){Xe(m,m.return,W)}if(m=x,b=m.updateQueue,b!==null){var P=m.stateNode;try{var L=b.shared.hiddenCallbacks;if(L!==null)for(b.shared.hiddenCallbacks=null,b=0;b<L.length;b++)LO(L[b],P)}catch(W){Xe(m,m.return,W)}}f&&A&64&&Kk(x),Yc(x,x.return);break;case 27:Xk(x);case 26:case 5:Qi(b,x,f),f&&m===null&&A&4&&Yk(x),Yc(x,x.return);break;case 12:Qi(b,x,f);break;case 31:Qi(b,x,f),f&&A&4&&nA(b,x);break;case 13:Qi(b,x,f),f&&A&4&&rA(b,x);break;case 22:x.memoizedState===null&&Qi(b,x,f),Yc(x,x.return);break;case 30:break;default:Qi(b,x,f)}c=c.sibling}}function Ly(s,c){var f=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==f&&(s!=null&&s.refCount++,f!=null&&Rc(f))}function By(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Rc(s))}function Vr(s,c,f,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)sA(s,c,f,m),c=c.sibling}function sA(s,c,f,m){var b=c.flags;switch(c.tag){case 0:case 11:case 15:Vr(s,c,f,m),b&2048&&Gc(9,c);break;case 1:Vr(s,c,f,m);break;case 3:Vr(s,c,f,m),b&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Rc(s)));break;case 12:if(b&2048){Vr(s,c,f,m),s=c.stateNode;try{var x=c.memoizedProps,A=x.id,P=x.onPostCommit;typeof P=="function"&&P(A,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){Xe(c,c.return,L)}}else Vr(s,c,f,m);break;case 31:Vr(s,c,f,m);break;case 13:Vr(s,c,f,m);break;case 23:break;case 22:x=c.stateNode,A=c.alternate,c.memoizedState!==null?x._visibility&2?Vr(s,c,f,m):Qc(s,c):x._visibility&2?Vr(s,c,f,m):(x._visibility|=2,eo(s,c,f,m,(c.subtreeFlags&10256)!==0||!1)),b&2048&&Ly(A,c);break;case 24:Vr(s,c,f,m),b&2048&&By(c.alternate,c);break;default:Vr(s,c,f,m)}}function eo(s,c,f,m,b){for(b=b&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var x=s,A=c,P=f,L=m,W=A.flags;switch(A.tag){case 0:case 11:case 15:eo(x,A,P,L,b),Gc(8,A);break;case 23:break;case 22:var J=A.stateNode;A.memoizedState!==null?J._visibility&2?eo(x,A,P,L,b):Qc(x,A):(J._visibility|=2,eo(x,A,P,L,b)),b&&W&2048&&Ly(A.alternate,A);break;case 24:eo(x,A,P,L,b),b&&W&2048&&By(A.alternate,A);break;default:eo(x,A,P,L,b)}c=c.sibling}}function Qc(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=s,m=c,b=m.flags;switch(m.tag){case 22:Qc(f,m),b&2048&&Ly(m.alternate,m);break;case 24:Qc(f,m),b&2048&&By(m.alternate,m);break;default:Qc(f,m)}c=c.sibling}}var Xc=8192;function to(s,c,f){if(s.subtreeFlags&Xc)for(s=s.child;s!==null;)lA(s,c,f),s=s.sibling}function lA(s,c,f){switch(s.tag){case 26:to(s,c,f),s.flags&Xc&&s.memoizedState!==null&&d7(f,$r,s.memoizedState,s.memoizedProps);break;case 5:to(s,c,f);break;case 3:case 4:var m=$r;$r=ad(s.stateNode.containerInfo),to(s,c,f),$r=m;break;case 22:s.memoizedState===null&&(m=s.alternate,m!==null&&m.memoizedState!==null?(m=Xc,Xc=16777216,to(s,c,f),Xc=m):to(s,c,f));break;default:to(s,c,f)}}function oA(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function Zc(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var m=c[f];Wt=m,uA(m,s)}oA(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)cA(s),s=s.sibling}function cA(s){switch(s.tag){case 0:case 11:case 15:Zc(s),s.flags&2048&&Ia(9,s,s.return);break;case 3:Zc(s);break;case 12:Zc(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,Fh(s)):Zc(s);break;default:Zc(s)}}function Fh(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var m=c[f];Wt=m,uA(m,s)}oA(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:Ia(8,c,c.return),Fh(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,Fh(c));break;default:Fh(c)}s=s.sibling}}function uA(s,c){for(;Wt!==null;){var f=Wt;switch(f.tag){case 0:case 11:case 15:Ia(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Rc(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,Wt=m;else e:for(f=s;Wt!==null;){m=Wt;var b=m.sibling,x=m.return;if(eA(m),m===f){Wt=null;break e}if(b!==null){b.return=x,Wt=b;break e}Wt=x}}}var jI={getCacheForType:function(s){var c=sn(Mt),f=c.data.get(s);return f===void 0&&(f=s(),c.data.set(s,f)),f},cacheSignal:function(){return sn(Mt).controller.signal}},EI=typeof WeakMap=="function"?WeakMap:Map,Ge=0,it=null,Le=null,Ie=0,Qe=0,ar=null,Ua=!1,no=!1,zy=!1,Xi=0,St=0,Ha=0,Ws=0,Iy=0,sr=0,ro=0,Jc=null,In=null,Uy=!1,Kh=0,fA=0,Gh=1/0,Yh=null,qa=null,zt=0,$a=null,io=null,Zi=0,Hy=0,qy=null,hA=null,eu=0,$y=null;function lr(){return(Ge&2)!==0&&Ie!==0?Ie&-Ie:H.T!==null?Yy():jC()}function dA(){if(sr===0)if((Ie&536870912)===0||He){var s=rh;rh<<=1,(rh&3932160)===0&&(rh=262144),sr=s}else sr=536870912;return s=rr.current,s!==null&&(s.flags|=32),sr}function Un(s,c,f){(s===it&&(Qe===2||Qe===9)||s.cancelPendingCommit!==null)&&(ao(s,0),Va(s,Ie,sr,!1)),wc(s,f),((Ge&2)===0||s!==it)&&(s===it&&((Ge&2)===0&&(Ws|=f),St===4&&Va(s,Ie,sr,!1)),li(s))}function mA(s,c,f){if((Ge&6)!==0)throw Error(r(327));var m=!f&&(c&127)===0&&(c&s.expiredLanes)===0||xc(s,c),b=m?DI(s,c):Wy(s,c,!0),x=m;do{if(b===0){no&&!m&&Va(s,c,0,!1);break}else{if(f=s.current.alternate,x&&!TI(f)){b=Wy(s,c,!1),x=!1;continue}if(b===2){if(x=c,s.errorRecoveryDisabledLanes&x)var A=0;else A=s.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){c=A;e:{var P=s;b=Jc;var L=P.current.memoizedState.isDehydrated;if(L&&(ao(P,A).flags|=256),A=Wy(P,A,!1),A!==2){if(zy&&!L){P.errorRecoveryDisabledLanes|=x,Ws|=x,b=4;break e}x=In,In=b,x!==null&&(In===null?In=x:In.push.apply(In,x))}b=A}if(x=!1,b!==2)continue}}if(b===1){ao(s,0),Va(s,c,0,!0);break}e:{switch(m=s,x=b,x){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Va(m,c,sr,!Ua);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(b=Kh+300-Zn(),10<b)){if(Va(m,c,sr,!Ua),ah(m,0,!0)!==0)break e;Zi=c,m.timeoutHandle=WA(pA.bind(null,m,f,In,Yh,Uy,c,sr,Ws,ro,Ua,x,"Throttled",-0,0),b);break e}pA(m,f,In,Yh,Uy,c,sr,Ws,ro,Ua,x,null,-0,0)}}break}while(!0);li(s)}function pA(s,c,f,m,b,x,A,P,L,W,J,ie,F,X){if(s.timeoutHandle=-1,ie=c.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bi},lA(c,x,ie);var xe=(x&62914560)===x?Kh-Zn():(x&4194048)===x?fA-Zn():0;if(xe=m7(ie,xe),xe!==null){Zi=x,s.cancelPendingCommit=xe(CA.bind(null,s,c,x,f,m,b,A,P,L,J,ie,null,F,X)),Va(s,x,A,!W);return}}CA(s,c,x,f,m,b,A,P,L)}function TI(s){for(var c=s;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var b=f[m],x=b.getSnapshot;b=b.value;try{if(!tr(x(),b))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Va(s,c,f,m){c&=~Iy,c&=~Ws,s.suspendedLanes|=c,s.pingedLanes&=~c,m&&(s.warmLanes|=c),m=s.expirationTimes;for(var b=c;0<b;){var x=31-er(b),A=1<<x;m[x]=-1,b&=~A}f!==0&&kC(s,f,c)}function Qh(){return(Ge&6)===0?(tu(0),!1):!0}function Vy(){if(Le!==null){if(Qe===0)var s=Le.return;else s=Le,Hi=Ls=null,sy(s),Yl=null,Bc=0,s=Le;for(;s!==null;)Fk(s.alternate,s),s=s.return;Le=null}}function ao(s,c){var f=s.timeoutHandle;f!==-1&&(s.timeoutHandle=-1,QI(f)),f=s.cancelPendingCommit,f!==null&&(s.cancelPendingCommit=null,f()),Zi=0,Vy(),it=s,Le=f=Ii(s.current,null),Ie=c,Qe=0,ar=null,Ua=!1,no=xc(s,c),zy=!1,ro=sr=Iy=Ws=Ha=St=0,In=Jc=null,Uy=!1,(c&8)!==0&&(c|=c&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=c;0<m;){var b=31-er(m),x=1<<b;c|=s[b],m&=~x}return Xi=c,yh(),f}function gA(s,c){Me=null,H.H=Wc,c===Gl||c===kh?(c=DO(),Qe=3):c===G0?(c=DO(),Qe=4):Qe=c===Sy?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,ar=c,Le===null&&(St=1,Ih(s,br(c,s.current)))}function yA(){var s=rr.current;return s===null?!0:(Ie&4194048)===Ie?Cr===null:(Ie&62914560)===Ie||(Ie&536870912)!==0?s===Cr:!1}function vA(){var s=H.H;return H.H=Wc,s===null?Wc:s}function bA(){var s=H.A;return H.A=jI,s}function Xh(){St=4,Ua||(Ie&4194048)!==Ie&&rr.current!==null||(no=!0),(Ha&134217727)===0&&(Ws&134217727)===0||it===null||Va(it,Ie,sr,!1)}function Wy(s,c,f){var m=Ge;Ge|=2;var b=vA(),x=bA();(it!==s||Ie!==c)&&(Yh=null,ao(s,c)),c=!1;var A=St;e:do try{if(Qe!==0&&Le!==null){var P=Le,L=ar;switch(Qe){case 8:Vy(),A=6;break e;case 3:case 2:case 9:case 6:rr.current===null&&(c=!0);var W=Qe;if(Qe=0,ar=null,so(s,P,L,W),f&&no){A=0;break e}break;default:W=Qe,Qe=0,ar=null,so(s,P,L,W)}}MI(),A=St;break}catch(J){gA(s,J)}while(!0);return c&&s.shellSuspendCounter++,Hi=Ls=null,Ge=m,H.H=b,H.A=x,Le===null&&(it=null,Ie=0,yh()),A}function MI(){for(;Le!==null;)xA(Le)}function DI(s,c){var f=Ge;Ge|=2;var m=vA(),b=bA();it!==s||Ie!==c?(Yh=null,Gh=Zn()+500,ao(s,c)):no=xc(s,c);e:do try{if(Qe!==0&&Le!==null){c=Le;var x=ar;t:switch(Qe){case 1:Qe=0,ar=null,so(s,c,x,1);break;case 2:case 9:if(TO(x)){Qe=0,ar=null,wA(c);break}c=function(){Qe!==2&&Qe!==9||it!==s||(Qe=7),li(s)},x.then(c,c);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:TO(x)?(Qe=0,ar=null,wA(c)):(Qe=0,ar=null,so(s,c,x,7));break;case 5:var A=null;switch(Le.tag){case 26:A=Le.memoizedState;case 5:case 27:var P=Le;if(A?sN(A):P.stateNode.complete){Qe=0,ar=null;var L=P.sibling;if(L!==null)Le=L;else{var W=P.return;W!==null?(Le=W,Zh(W)):Le=null}break t}}Qe=0,ar=null,so(s,c,x,5);break;case 6:Qe=0,ar=null,so(s,c,x,6);break;case 8:Vy(),St=6;break e;default:throw Error(r(462))}}PI();break}catch(J){gA(s,J)}while(!0);return Hi=Ls=null,H.H=m,H.A=b,Ge=f,Le!==null?0:(it=null,Ie=0,yh(),St)}function PI(){for(;Le!==null&&!n6();)xA(Le)}function xA(s){var c=Vk(s.alternate,s,Xi);s.memoizedProps=s.pendingProps,c===null?Zh(s):Le=c}function wA(s){var c=s,f=c.alternate;switch(c.tag){case 15:case 0:c=zk(f,c,c.pendingProps,c.type,void 0,Ie);break;case 11:c=zk(f,c,c.pendingProps,c.type.render,c.ref,Ie);break;case 5:sy(c);default:Fk(f,c),c=Le=bO(c,Xi),c=Vk(f,c,Xi)}s.memoizedProps=s.pendingProps,c===null?Zh(s):Le=c}function so(s,c,f,m){Hi=Ls=null,sy(c),Yl=null,Bc=0;var b=c.return;try{if(wI(s,b,c,f,Ie)){St=1,Ih(s,br(f,s.current)),Le=null;return}}catch(x){if(b!==null)throw Le=b,x;St=1,Ih(s,br(f,s.current)),Le=null;return}c.flags&32768?(He||m===1?s=!0:no||(Ie&536870912)!==0?s=!1:(Ua=s=!0,(m===2||m===9||m===3||m===6)&&(m=rr.current,m!==null&&m.tag===13&&(m.flags|=16384))),SA(c,s)):Zh(c)}function Zh(s){var c=s;do{if((c.flags&32768)!==0){SA(c,Ua);return}s=c.return;var f=OI(c.alternate,c,Xi);if(f!==null){Le=f;return}if(c=c.sibling,c!==null){Le=c;return}Le=c=s}while(c!==null);St===0&&(St=5)}function SA(s,c){do{var f=kI(s.alternate,s);if(f!==null){f.flags&=32767,Le=f;return}if(f=s.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(s=s.sibling,s!==null)){Le=s;return}Le=s=f}while(s!==null);St=6,Le=null}function CA(s,c,f,m,b,x,A,P,L){s.cancelPendingCommit=null;do Jh();while(zt!==0);if((Ge&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(x=c.lanes|c.childLanes,x|=P0,h6(s,f,x,A,P,L),s===it&&(Le=it=null,Ie=0),io=c,$a=s,Zi=f,Hy=x,qy=b,hA=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,BI(th,function(){return jA(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=H.T,H.T=null,b=Y.p,Y.p=2,A=Ge,Ge|=4;try{AI(s,c,f)}finally{Ge=A,Y.p=b,H.T=m}}zt=1,OA(),kA(),AA()}}function OA(){if(zt===1){zt=0;var s=$a,c=io,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=H.T,H.T=null;var m=Y.p;Y.p=2;var b=Ge;Ge|=4;try{iA(c,s);var x=rv,A=uO(s.containerInfo),P=x.focusedElem,L=x.selectionRange;if(A!==P&&P&&P.ownerDocument&&cO(P.ownerDocument.documentElement,P)){if(L!==null&&j0(P)){var W=L.start,J=L.end;if(J===void 0&&(J=W),"selectionStart"in P)P.selectionStart=W,P.selectionEnd=Math.min(J,P.value.length);else{var ie=P.ownerDocument||document,F=ie&&ie.defaultView||window;if(F.getSelection){var X=F.getSelection(),xe=P.textContent.length,Ne=Math.min(L.start,xe),tt=L.end===void 0?Ne:Math.min(L.end,xe);!X.extend&&Ne>tt&&(A=tt,tt=Ne,Ne=A);var $=oO(P,Ne),U=oO(P,tt);if($&&U&&(X.rangeCount!==1||X.anchorNode!==$.node||X.anchorOffset!==$.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var V=ie.createRange();V.setStart($.node,$.offset),X.removeAllRanges(),Ne>tt?(X.addRange(V),X.extend(U.node,U.offset)):(V.setEnd(U.node,U.offset),X.addRange(V))}}}}for(ie=[],X=P;X=X.parentNode;)X.nodeType===1&&ie.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ie.length;P++){var ne=ie[P];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}fd=!!nv,rv=nv=null}finally{Ge=b,Y.p=m,H.T=f}}s.current=c,zt=2}}function kA(){if(zt===2){zt=0;var s=$a,c=io,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=H.T,H.T=null;var m=Y.p;Y.p=2;var b=Ge;Ge|=4;try{Jk(s,c.alternate,c)}finally{Ge=b,Y.p=m,H.T=f}}zt=3}}function AA(){if(zt===4||zt===3){zt=0,r6();var s=$a,c=io,f=Zi,m=hA;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?zt=5:(zt=0,io=$a=null,NA(s,s.pendingLanes));var b=s.pendingLanes;if(b===0&&(qa=null),c0(f),c=c.stateNode,Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(bc,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=H.T,b=Y.p,Y.p=2,H.T=null;try{for(var x=s.onRecoverableError,A=0;A<m.length;A++){var P=m[A];x(P.value,{componentStack:P.stack})}}finally{H.T=c,Y.p=b}}(Zi&3)!==0&&Jh(),li(s),b=s.pendingLanes,(f&261930)!==0&&(b&42)!==0?s===$y?eu++:(eu=0,$y=s):eu=0,tu(0)}}function NA(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,Rc(c)))}function Jh(){return OA(),kA(),AA(),jA()}function jA(){if(zt!==5)return!1;var s=$a,c=Hy;Hy=0;var f=c0(Zi),m=H.T,b=Y.p;try{Y.p=32>f?32:f,H.T=null,f=qy,qy=null;var x=$a,A=Zi;if(zt=0,io=$a=null,Zi=0,(Ge&6)!==0)throw Error(r(331));var P=Ge;if(Ge|=4,cA(x.current),sA(x,x.current,A,f),Ge=P,tu(0,!1),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(bc,x)}catch{}return!0}finally{Y.p=b,H.T=m,NA(s,c)}}function EA(s,c,f){c=br(f,c),c=wy(s.stateNode,c,2),s=La(s,c,2),s!==null&&(wc(s,2),li(s))}function Xe(s,c,f){if(s.tag===3)EA(s,s,f);else for(;c!==null;){if(c.tag===3){EA(c,s,f);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(qa===null||!qa.has(m))){s=br(f,s),f=Tk(2),m=La(c,f,2),m!==null&&(Mk(f,m,c,s),wc(m,2),li(m));break}}c=c.return}}function Fy(s,c,f){var m=s.pingCache;if(m===null){m=s.pingCache=new EI;var b=new Set;m.set(c,b)}else b=m.get(c),b===void 0&&(b=new Set,m.set(c,b));b.has(f)||(zy=!0,b.add(f),s=_I.bind(null,s,c,f),c.then(s,s))}function _I(s,c,f){var m=s.pingCache;m!==null&&m.delete(c),s.pingedLanes|=s.suspendedLanes&f,s.warmLanes&=~f,it===s&&(Ie&f)===f&&(St===4||St===3&&(Ie&62914560)===Ie&&300>Zn()-Kh?(Ge&2)===0&&ao(s,0):Iy|=f,ro===Ie&&(ro=0)),li(s)}function TA(s,c){c===0&&(c=OC()),s=Ps(s,c),s!==null&&(wc(s,c),li(s))}function RI(s){var c=s.memoizedState,f=0;c!==null&&(f=c.retryLane),TA(s,f)}function LI(s,c){var f=0;switch(s.tag){case 31:case 13:var m=s.stateNode,b=s.memoizedState;b!==null&&(f=b.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(c),TA(s,f)}function BI(s,c){return a0(s,c)}var ed=null,lo=null,Ky=!1,td=!1,Gy=!1,Wa=0;function li(s){s!==lo&&s.next===null&&(lo===null?ed=lo=s:lo=lo.next=s),td=!0,Ky||(Ky=!0,II())}function tu(s,c){if(!Gy&&td){Gy=!0;do for(var f=!1,m=ed;m!==null;){if(s!==0){var b=m.pendingLanes;if(b===0)var x=0;else{var A=m.suspendedLanes,P=m.pingedLanes;x=(1<<31-er(42|s)+1)-1,x&=b&~(A&~P),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(f=!0,_A(m,x))}else x=Ie,x=ah(m,m===it?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(x&3)===0||xc(m,x)||(f=!0,_A(m,x));m=m.next}while(f);Gy=!1}}function zI(){MA()}function MA(){td=Ky=!1;var s=0;Wa!==0&&YI()&&(s=Wa);for(var c=Zn(),f=null,m=ed;m!==null;){var b=m.next,x=DA(m,c);x===0?(m.next=null,f===null?ed=b:f.next=b,b===null&&(lo=f)):(f=m,(s!==0||(x&3)!==0)&&(td=!0)),m=b}zt!==0&&zt!==5||tu(s),Wa!==0&&(Wa=0)}function DA(s,c){for(var f=s.suspendedLanes,m=s.pingedLanes,b=s.expirationTimes,x=s.pendingLanes&-62914561;0<x;){var A=31-er(x),P=1<<A,L=b[A];L===-1?((P&f)===0||(P&m)!==0)&&(b[A]=f6(P,c)):L<=c&&(s.expiredLanes|=P),x&=~P}if(c=it,f=Ie,f=ah(s,s===c?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,f===0||s===c&&(Qe===2||Qe===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&s0(m),s.callbackNode=null,s.callbackPriority=0;if((f&3)===0||xc(s,f)){if(c=f&-f,c===s.callbackPriority)return c;switch(m!==null&&s0(m),c0(f)){case 2:case 8:f=SC;break;case 32:f=th;break;case 268435456:f=CC;break;default:f=th}return m=PA.bind(null,s),f=a0(f,m),s.callbackPriority=c,s.callbackNode=f,c}return m!==null&&m!==null&&s0(m),s.callbackPriority=2,s.callbackNode=null,2}function PA(s,c){if(zt!==0&&zt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var f=s.callbackNode;if(Jh()&&s.callbackNode!==f)return null;var m=Ie;return m=ah(s,s===it?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(mA(s,m,c),DA(s,Zn()),s.callbackNode!=null&&s.callbackNode===f?PA.bind(null,s):null)}function _A(s,c){if(Jh())return null;mA(s,c,!0)}function II(){XI(function(){(Ge&6)!==0?a0(wC,zI):MA()})}function Yy(){if(Wa===0){var s=Fl;s===0&&(s=nh,nh<<=1,(nh&261888)===0&&(nh=256)),Wa=s}return Wa}function RA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ch(""+s)}function LA(s,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,s.id&&f.setAttribute("form",s.id),c.parentNode.insertBefore(f,c),s=new FormData(s),f.parentNode.removeChild(f),s}function UI(s,c,f,m,b){if(c==="submit"&&f&&f.stateNode===b){var x=RA((b[_n]||null).action),A=m.submitter;A&&(c=(c=A[_n]||null)?RA(c.formAction):A.getAttribute("formAction"),c!==null&&(x=c,A=null));var P=new dh("action","action",null,m,b);s.push({event:P,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Wa!==0){var L=A?LA(b,A):new FormData(b);py(f,{pending:!0,data:L,method:b.method,action:x},null,L)}}else typeof x=="function"&&(P.preventDefault(),L=A?LA(b,A):new FormData(b),py(f,{pending:!0,data:L,method:b.method,action:x},x,L))},currentTarget:b}]})}}for(var Qy=0;Qy<D0.length;Qy++){var Xy=D0[Qy],HI=Xy.toLowerCase(),qI=Xy[0].toUpperCase()+Xy.slice(1);qr(HI,"on"+qI)}qr(dO,"onAnimationEnd"),qr(mO,"onAnimationIteration"),qr(pO,"onAnimationStart"),qr("dblclick","onDoubleClick"),qr("focusin","onFocus"),qr("focusout","onBlur"),qr(iI,"onTransitionRun"),qr(aI,"onTransitionStart"),qr(sI,"onTransitionCancel"),qr(gO,"onTransitionEnd"),Dl("onMouseEnter",["mouseout","mouseover"]),Dl("onMouseLeave",["mouseout","mouseover"]),Dl("onPointerEnter",["pointerout","pointerover"]),Dl("onPointerLeave",["pointerout","pointerover"]),Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Es("onBeforeInput",["compositionend","keypress","textInput","paste"]),Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$I=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nu));function BA(s,c){c=(c&4)!==0;for(var f=0;f<s.length;f++){var m=s[f],b=m.event;m=m.listeners;e:{var x=void 0;if(c)for(var A=m.length-1;0<=A;A--){var P=m[A],L=P.instance,W=P.currentTarget;if(P=P.listener,L!==x&&b.isPropagationStopped())break e;x=P,b.currentTarget=W;try{x(b)}catch(J){gh(J)}b.currentTarget=null,x=L}else for(A=0;A<m.length;A++){if(P=m[A],L=P.instance,W=P.currentTarget,P=P.listener,L!==x&&b.isPropagationStopped())break e;x=P,b.currentTarget=W;try{x(b)}catch(J){gh(J)}b.currentTarget=null,x=L}}}}function Be(s,c){var f=c[u0];f===void 0&&(f=c[u0]=new Set);var m=s+"__bubble";f.has(m)||(zA(c,s,2,!1),f.add(m))}function Zy(s,c,f){var m=0;c&&(m|=4),zA(f,s,m,c)}var nd="_reactListening"+Math.random().toString(36).slice(2);function Jy(s){if(!s[nd]){s[nd]=!0,MC.forEach(function(f){f!=="selectionchange"&&($I.has(f)||Zy(f,!1,s),Zy(f,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[nd]||(c[nd]=!0,Zy("selectionchange",!1,c))}}function zA(s,c,f,m){switch(dN(c)){case 2:var b=y7;break;case 8:b=v7;break;default:b=mv}f=b.bind(null,c,f,s),b=void 0,!b0||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(b=!0),m?b!==void 0?s.addEventListener(c,f,{capture:!0,passive:b}):s.addEventListener(c,f,!0):b!==void 0?s.addEventListener(c,f,{passive:b}):s.addEventListener(c,f,!1)}function ev(s,c,f,m,b){var x=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var A=m.tag;if(A===3||A===4){var P=m.stateNode.containerInfo;if(P===b)break;if(A===4)for(A=m.return;A!==null;){var L=A.tag;if((L===3||L===4)&&A.stateNode.containerInfo===b)return;A=A.return}for(;P!==null;){if(A=El(P),A===null)return;if(L=A.tag,L===5||L===6||L===26||L===27){m=x=A;continue e}P=P.parentNode}}m=m.return}$C(function(){var W=x,J=y0(f),ie=[];e:{var F=yO.get(s);if(F!==void 0){var X=dh,xe=s;switch(s){case"keypress":if(fh(f)===0)break e;case"keydown":case"keyup":X=L6;break;case"focusin":xe="focus",X=C0;break;case"focusout":xe="blur",X=C0;break;case"beforeblur":case"afterblur":X=C0;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=FC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=O6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=I6;break;case dO:case mO:case pO:X=N6;break;case gO:X=H6;break;case"scroll":case"scrollend":X=S6;break;case"wheel":X=$6;break;case"copy":case"cut":case"paste":X=E6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=GC;break;case"toggle":case"beforetoggle":X=W6}var Ne=(c&4)!==0,tt=!Ne&&(s==="scroll"||s==="scrollend"),$=Ne?F!==null?F+"Capture":null:F;Ne=[];for(var U=W,V;U!==null;){var ne=U;if(V=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||V===null||$===null||(ne=Oc(U,$),ne!=null&&Ne.push(ru(U,ne,V))),tt)break;U=U.return}0<Ne.length&&(F=new X(F,xe,null,f,J),ie.push({event:F,listeners:Ne}))}}if((c&7)===0){e:{if(F=s==="mouseover"||s==="pointerover",X=s==="mouseout"||s==="pointerout",F&&f!==g0&&(xe=f.relatedTarget||f.fromElement)&&(El(xe)||xe[jl]))break e;if((X||F)&&(F=J.window===J?J:(F=J.ownerDocument)?F.defaultView||F.parentWindow:window,X?(xe=f.relatedTarget||f.toElement,X=W,xe=xe?El(xe):null,xe!==null&&(tt=a(xe),Ne=xe.tag,xe!==tt||Ne!==5&&Ne!==27&&Ne!==6)&&(xe=null)):(X=null,xe=W),X!==xe)){if(Ne=FC,ne="onMouseLeave",$="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(Ne=GC,ne="onPointerLeave",$="onPointerEnter",U="pointer"),tt=X==null?F:Cc(X),V=xe==null?F:Cc(xe),F=new Ne(ne,U+"leave",X,f,J),F.target=tt,F.relatedTarget=V,ne=null,El(J)===W&&(Ne=new Ne($,U+"enter",xe,f,J),Ne.target=V,Ne.relatedTarget=tt,ne=Ne),tt=ne,X&&xe)t:{for(Ne=VI,$=X,U=xe,V=0,ne=$;ne;ne=Ne(ne))V++;ne=0;for(var Oe=U;Oe;Oe=Ne(Oe))ne++;for(;0<V-ne;)$=Ne($),V--;for(;0<ne-V;)U=Ne(U),ne--;for(;V--;){if($===U||U!==null&&$===U.alternate){Ne=$;break t}$=Ne($),U=Ne(U)}Ne=null}else Ne=null;X!==null&&IA(ie,F,X,Ne,!1),xe!==null&&tt!==null&&IA(ie,tt,xe,Ne,!0)}}e:{if(F=W?Cc(W):window,X=F.nodeName&&F.nodeName.toLowerCase(),X==="select"||X==="input"&&F.type==="file")var Ve=nO;else if(eO(F))if(rO)Ve=tI;else{Ve=J6;var we=Z6}else X=F.nodeName,!X||X.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?W&&p0(W.elementType)&&(Ve=nO):Ve=eI;if(Ve&&(Ve=Ve(s,W))){tO(ie,Ve,f,J);break e}we&&we(s,F,W),s==="focusout"&&W&&F.type==="number"&&W.memoizedProps.value!=null&&m0(F,"number",F.value)}switch(we=W?Cc(W):window,s){case"focusin":(eO(we)||we.contentEditable==="true")&&(zl=we,E0=W,Dc=null);break;case"focusout":Dc=E0=zl=null;break;case"mousedown":T0=!0;break;case"contextmenu":case"mouseup":case"dragend":T0=!1,fO(ie,f,J);break;case"selectionchange":if(rI)break;case"keydown":case"keyup":fO(ie,f,J)}var De;if(k0)e:{switch(s){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Bl?ZC(s,f)&&(Ue="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(Ue="onCompositionStart");Ue&&(YC&&f.locale!=="ko"&&(Bl||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Bl&&(De=VC()):(Ea=J,x0="value"in Ea?Ea.value:Ea.textContent,Bl=!0)),we=rd(W,Ue),0<we.length&&(Ue=new KC(Ue,s,null,f,J),ie.push({event:Ue,listeners:we}),De?Ue.data=De:(De=JC(f),De!==null&&(Ue.data=De)))),(De=K6?G6(s,f):Y6(s,f))&&(Ue=rd(W,"onBeforeInput"),0<Ue.length&&(we=new KC("onBeforeInput","beforeinput",null,f,J),ie.push({event:we,listeners:Ue}),we.data=De)),UI(ie,s,W,f,J)}BA(ie,c)})}function ru(s,c,f){return{instance:s,listener:c,currentTarget:f}}function rd(s,c){for(var f=c+"Capture",m=[];s!==null;){var b=s,x=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||x===null||(b=Oc(s,f),b!=null&&m.unshift(ru(s,b,x)),b=Oc(s,c),b!=null&&m.push(ru(s,b,x))),s.tag===3)return m;s=s.return}return[]}function VI(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function IA(s,c,f,m,b){for(var x=c._reactName,A=[];f!==null&&f!==m;){var P=f,L=P.alternate,W=P.stateNode;if(P=P.tag,L!==null&&L===m)break;P!==5&&P!==26&&P!==27||W===null||(L=W,b?(W=Oc(f,x),W!=null&&A.unshift(ru(f,W,L))):b||(W=Oc(f,x),W!=null&&A.push(ru(f,W,L)))),f=f.return}A.length!==0&&s.push({event:c,listeners:A})}var WI=/\r\n?/g,FI=/\u0000|\uFFFD/g;function UA(s){return(typeof s=="string"?s:""+s).replace(WI,`
`).replace(FI,"")}function HA(s,c){return c=UA(c),UA(s)===c}function et(s,c,f,m,b,x){switch(f){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||_l(s,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&_l(s,""+m);break;case"className":lh(s,"class",m);break;case"tabIndex":lh(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":lh(s,f,m);break;case"style":HC(s,m,x);break;case"data":if(c!=="object"){lh(s,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||f!=="href")){s.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(f);break}m=ch(""+m),s.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(f==="formAction"?(c!=="input"&&et(s,c,"name",b.name,b,null),et(s,c,"formEncType",b.formEncType,b,null),et(s,c,"formMethod",b.formMethod,b,null),et(s,c,"formTarget",b.formTarget,b,null)):(et(s,c,"encType",b.encType,b,null),et(s,c,"method",b.method,b,null),et(s,c,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(f);break}m=ch(""+m),s.setAttribute(f,m);break;case"onClick":m!=null&&(s.onclick=Bi);break;case"onScroll":m!=null&&Be("scroll",s);break;case"onScrollEnd":m!=null&&Be("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(b.children!=null)throw Error(r(60));s.innerHTML=f}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}f=ch(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(f,""+m):s.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(f,""):s.removeAttribute(f);break;case"capture":case"download":m===!0?s.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(f,m):s.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(f,m):s.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(f):s.setAttribute(f,m);break;case"popover":Be("beforetoggle",s),Be("toggle",s),sh(s,"popover",m);break;case"xlinkActuate":Li(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Li(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Li(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Li(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Li(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Li(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Li(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Li(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Li(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":sh(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=x6.get(f)||f,sh(s,f,m))}}function tv(s,c,f,m,b,x){switch(f){case"style":HC(s,m,x);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(b.children!=null)throw Error(r(60));s.innerHTML=f}}break;case"children":typeof m=="string"?_l(s,m):(typeof m=="number"||typeof m=="bigint")&&_l(s,""+m);break;case"onScroll":m!=null&&Be("scroll",s);break;case"onScrollEnd":m!=null&&Be("scrollend",s);break;case"onClick":m!=null&&(s.onclick=Bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!DC.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(b=f.endsWith("Capture"),c=f.slice(2,b?f.length-7:void 0),x=s[_n]||null,x=x!=null?x[f]:null,typeof x=="function"&&s.removeEventListener(c,x,b),typeof m=="function")){typeof x!="function"&&x!==null&&(f in s?s[f]=null:s.hasAttribute(f)&&s.removeAttribute(f)),s.addEventListener(c,m,b);break e}f in s?s[f]=m:m===!0?s.setAttribute(f,""):sh(s,f,m)}}}function on(s,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",s),Be("load",s);var m=!1,b=!1,x;for(x in f)if(f.hasOwnProperty(x)){var A=f[x];if(A!=null)switch(x){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:et(s,c,x,A,f,null)}}b&&et(s,c,"srcSet",f.srcSet,f,null),m&&et(s,c,"src",f.src,f,null);return;case"input":Be("invalid",s);var P=x=A=b=null,L=null,W=null;for(m in f)if(f.hasOwnProperty(m)){var J=f[m];if(J!=null)switch(m){case"name":b=J;break;case"type":A=J;break;case"checked":L=J;break;case"defaultChecked":W=J;break;case"value":x=J;break;case"defaultValue":P=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,c));break;default:et(s,c,m,J,f,null)}}BC(s,x,P,L,W,A,b,!1);return;case"select":Be("invalid",s),m=A=x=null;for(b in f)if(f.hasOwnProperty(b)&&(P=f[b],P!=null))switch(b){case"value":x=P;break;case"defaultValue":A=P;break;case"multiple":m=P;default:et(s,c,b,P,f,null)}c=x,f=A,s.multiple=!!m,c!=null?Pl(s,!!m,c,!1):f!=null&&Pl(s,!!m,f,!0);return;case"textarea":Be("invalid",s),x=b=m=null;for(A in f)if(f.hasOwnProperty(A)&&(P=f[A],P!=null))switch(A){case"value":m=P;break;case"defaultValue":b=P;break;case"children":x=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:et(s,c,A,P,f,null)}IC(s,m,b,x);return;case"option":for(L in f)f.hasOwnProperty(L)&&(m=f[L],m!=null)&&(L==="selected"?s.selected=m&&typeof m!="function"&&typeof m!="symbol":et(s,c,L,m,f,null));return;case"dialog":Be("beforetoggle",s),Be("toggle",s),Be("cancel",s),Be("close",s);break;case"iframe":case"object":Be("load",s);break;case"video":case"audio":for(m=0;m<nu.length;m++)Be(nu[m],s);break;case"image":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"embed":case"source":case"link":Be("error",s),Be("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in f)if(f.hasOwnProperty(W)&&(m=f[W],m!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:et(s,c,W,m,f,null)}return;default:if(p0(c)){for(J in f)f.hasOwnProperty(J)&&(m=f[J],m!==void 0&&tv(s,c,J,m,f,void 0));return}}for(P in f)f.hasOwnProperty(P)&&(m=f[P],m!=null&&et(s,c,P,m,f,null))}function KI(s,c,f,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,x=null,A=null,P=null,L=null,W=null,J=null;for(X in f){var ie=f[X];if(f.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":L=ie;default:m.hasOwnProperty(X)||et(s,c,X,null,m,ie)}}for(var F in m){var X=m[F];if(ie=f[F],m.hasOwnProperty(F)&&(X!=null||ie!=null))switch(F){case"type":x=X;break;case"name":b=X;break;case"checked":W=X;break;case"defaultChecked":J=X;break;case"value":A=X;break;case"defaultValue":P=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,c));break;default:X!==ie&&et(s,c,F,X,m,ie)}}d0(s,A,P,L,W,J,x,b);return;case"select":X=A=P=F=null;for(x in f)if(L=f[x],f.hasOwnProperty(x)&&L!=null)switch(x){case"value":break;case"multiple":X=L;default:m.hasOwnProperty(x)||et(s,c,x,null,m,L)}for(b in m)if(x=m[b],L=f[b],m.hasOwnProperty(b)&&(x!=null||L!=null))switch(b){case"value":F=x;break;case"defaultValue":P=x;break;case"multiple":A=x;default:x!==L&&et(s,c,b,x,m,L)}c=P,f=A,m=X,F!=null?Pl(s,!!f,F,!1):!!m!=!!f&&(c!=null?Pl(s,!!f,c,!0):Pl(s,!!f,f?[]:"",!1));return;case"textarea":X=F=null;for(P in f)if(b=f[P],f.hasOwnProperty(P)&&b!=null&&!m.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:et(s,c,P,null,m,b)}for(A in m)if(b=m[A],x=f[A],m.hasOwnProperty(A)&&(b!=null||x!=null))switch(A){case"value":F=b;break;case"defaultValue":X=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==x&&et(s,c,A,b,m,x)}zC(s,F,X);return;case"option":for(var xe in f)F=f[xe],f.hasOwnProperty(xe)&&F!=null&&!m.hasOwnProperty(xe)&&(xe==="selected"?s.selected=!1:et(s,c,xe,null,m,F));for(L in m)F=m[L],X=f[L],m.hasOwnProperty(L)&&F!==X&&(F!=null||X!=null)&&(L==="selected"?s.selected=F&&typeof F!="function"&&typeof F!="symbol":et(s,c,L,F,m,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in f)F=f[Ne],f.hasOwnProperty(Ne)&&F!=null&&!m.hasOwnProperty(Ne)&&et(s,c,Ne,null,m,F);for(W in m)if(F=m[W],X=f[W],m.hasOwnProperty(W)&&F!==X&&(F!=null||X!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,c));break;default:et(s,c,W,F,m,X)}return;default:if(p0(c)){for(var tt in f)F=f[tt],f.hasOwnProperty(tt)&&F!==void 0&&!m.hasOwnProperty(tt)&&tv(s,c,tt,void 0,m,F);for(J in m)F=m[J],X=f[J],!m.hasOwnProperty(J)||F===X||F===void 0&&X===void 0||tv(s,c,J,F,m,X);return}}for(var $ in f)F=f[$],f.hasOwnProperty($)&&F!=null&&!m.hasOwnProperty($)&&et(s,c,$,null,m,F);for(ie in m)F=m[ie],X=f[ie],!m.hasOwnProperty(ie)||F===X||F==null&&X==null||et(s,c,ie,F,m,X)}function qA(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GI(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,f=performance.getEntriesByType("resource"),m=0;m<f.length;m++){var b=f[m],x=b.transferSize,A=b.initiatorType,P=b.duration;if(x&&P&&qA(A)){for(A=0,P=b.responseEnd,m+=1;m<f.length;m++){var L=f[m],W=L.startTime;if(W>P)break;var J=L.transferSize,ie=L.initiatorType;J&&qA(ie)&&(L=L.responseEnd,A+=J*(L<P?1:(P-W)/(L-W)))}if(--m,c+=8*(x+A)/(b.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var nv=null,rv=null;function id(s){return s.nodeType===9?s:s.ownerDocument}function $A(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VA(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function iv(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var av=null;function YI(){var s=window.event;return s&&s.type==="popstate"?s===av?!1:(av=s,!0):(av=null,!1)}var WA=typeof setTimeout=="function"?setTimeout:void 0,QI=typeof clearTimeout=="function"?clearTimeout:void 0,FA=typeof Promise=="function"?Promise:void 0,XI=typeof queueMicrotask=="function"?queueMicrotask:typeof FA<"u"?function(s){return FA.resolve(null).then(s).catch(ZI)}:WA;function ZI(s){setTimeout(function(){throw s})}function Fa(s){return s==="head"}function KA(s,c){var f=c,m=0;do{var b=f.nextSibling;if(s.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"||f==="/&"){if(m===0){s.removeChild(b),fo(c);return}m--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")m++;else if(f==="html")iu(s.ownerDocument.documentElement);else if(f==="head"){f=s.ownerDocument.head,iu(f);for(var x=f.firstChild;x;){var A=x.nextSibling,P=x.nodeName;x[Sc]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&x.rel.toLowerCase()==="stylesheet"||f.removeChild(x),x=A}}else f==="body"&&iu(s.ownerDocument.body);f=b}while(f);fo(c)}function GA(s,c){var f=s;s=0;do{var m=f.nextSibling;if(f.nodeType===1?c?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(c?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),m&&m.nodeType===8)if(f=m.data,f==="/$"){if(s===0)break;s--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||s++;f=m}while(f)}function sv(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":sv(f),f0(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}s.removeChild(f)}}function JI(s,c,f,m){for(;s.nodeType===1;){var b=f;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[Sc])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(x=s.getAttribute("rel"),x==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(x!==b.rel||s.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||s.getAttribute("title")!==(b.title==null?null:b.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(x=s.getAttribute("src"),(x!==(b.src==null?null:b.src)||s.getAttribute("type")!==(b.type==null?null:b.type)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&x&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var x=b.name==null?null:""+b.name;if(b.type==="hidden"&&s.getAttribute("name")===x)return s}else return s;if(s=Or(s.nextSibling),s===null)break}return null}function e7(s,c,f){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!f||(s=Or(s.nextSibling),s===null))return null;return s}function YA(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Or(s.nextSibling),s===null))return null;return s}function lv(s){return s.data==="$?"||s.data==="$~"}function ov(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function t7(s,c){var f=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||f.readyState!=="loading")c();else{var m=function(){c(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function Or(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var cv=null;function QA(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"||f==="/&"){if(c===0)return Or(s.nextSibling);c--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||c++}s=s.nextSibling}return null}function XA(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(c===0)return s;c--}else f!=="/$"&&f!=="/&"||c++}s=s.previousSibling}return null}function ZA(s,c,f){switch(c=id(f),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function iu(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);f0(s)}var kr=new Map,JA=new Set;function ad(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ji=Y.d;Y.d={f:n7,r:r7,D:i7,C:a7,L:s7,m:l7,X:c7,S:o7,M:u7};function n7(){var s=Ji.f(),c=Qh();return s||c}function r7(s){var c=Tl(s);c!==null&&c.tag===5&&c.type==="form"?gk(c):Ji.r(s)}var oo=typeof document>"u"?null:document;function eN(s,c,f){var m=oo;if(m&&typeof c=="string"&&c){var b=yr(c);b='link[rel="'+s+'"][href="'+b+'"]',typeof f=="string"&&(b+='[crossorigin="'+f+'"]'),JA.has(b)||(JA.add(b),s={rel:s,crossOrigin:f,href:c},m.querySelector(b)===null&&(c=m.createElement("link"),on(c,"link",s),Vt(c),m.head.appendChild(c)))}}function i7(s){Ji.D(s),eN("dns-prefetch",s,null)}function a7(s,c){Ji.C(s,c),eN("preconnect",s,c)}function s7(s,c,f){Ji.L(s,c,f);var m=oo;if(m&&s&&c){var b='link[rel="preload"][as="'+yr(c)+'"]';c==="image"&&f&&f.imageSrcSet?(b+='[imagesrcset="'+yr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(b+='[imagesizes="'+yr(f.imageSizes)+'"]')):b+='[href="'+yr(s)+'"]';var x=b;switch(c){case"style":x=co(s);break;case"script":x=uo(s)}kr.has(x)||(s=p({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:s,as:c},f),kr.set(x,s),m.querySelector(b)!==null||c==="style"&&m.querySelector(au(x))||c==="script"&&m.querySelector(su(x))||(c=m.createElement("link"),on(c,"link",s),Vt(c),m.head.appendChild(c)))}}function l7(s,c){Ji.m(s,c);var f=oo;if(f&&s){var m=c&&typeof c.as=="string"?c.as:"script",b='link[rel="modulepreload"][as="'+yr(m)+'"][href="'+yr(s)+'"]',x=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=uo(s)}if(!kr.has(x)&&(s=p({rel:"modulepreload",href:s},c),kr.set(x,s),f.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(su(x)))return}m=f.createElement("link"),on(m,"link",s),Vt(m),f.head.appendChild(m)}}}function o7(s,c,f){Ji.S(s,c,f);var m=oo;if(m&&s){var b=Ml(m).hoistableStyles,x=co(s);c=c||"default";var A=b.get(x);if(!A){var P={loading:0,preload:null};if(A=m.querySelector(au(x)))P.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":c},f),(f=kr.get(x))&&uv(s,f);var L=A=m.createElement("link");Vt(L),on(L,"link",s),L._p=new Promise(function(W,J){L.onload=W,L.onerror=J}),L.addEventListener("load",function(){P.loading|=1}),L.addEventListener("error",function(){P.loading|=2}),P.loading|=4,sd(A,c,m)}A={type:"stylesheet",instance:A,count:1,state:P},b.set(x,A)}}}function c7(s,c){Ji.X(s,c);var f=oo;if(f&&s){var m=Ml(f).hoistableScripts,b=uo(s),x=m.get(b);x||(x=f.querySelector(su(b)),x||(s=p({src:s,async:!0},c),(c=kr.get(b))&&fv(s,c),x=f.createElement("script"),Vt(x),on(x,"link",s),f.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(b,x))}}function u7(s,c){Ji.M(s,c);var f=oo;if(f&&s){var m=Ml(f).hoistableScripts,b=uo(s),x=m.get(b);x||(x=f.querySelector(su(b)),x||(s=p({src:s,async:!0,type:"module"},c),(c=kr.get(b))&&fv(s,c),x=f.createElement("script"),Vt(x),on(x,"link",s),f.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(b,x))}}function tN(s,c,f,m){var b=(b=fe.current)?ad(b):null;if(!b)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=co(f.href),f=Ml(b).hoistableStyles,m=f.get(c),m||(m={type:"style",instance:null,count:0,state:null},f.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){s=co(f.href);var x=Ml(b).hoistableStyles,A=x.get(s);if(A||(b=b.ownerDocument||b,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(s,A),(x=b.querySelector(au(s)))&&!x._p&&(A.instance=x,A.state.loading=5),kr.has(s)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},kr.set(s,f),x||f7(b,s,f,A.state))),c&&m===null)throw Error(r(528,""));return A}if(c&&m!==null)throw Error(r(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=uo(f),f=Ml(b).hoistableScripts,m=f.get(c),m||(m={type:"script",instance:null,count:0,state:null},f.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function co(s){return'href="'+yr(s)+'"'}function au(s){return'link[rel="stylesheet"]['+s+"]"}function nN(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function f7(s,c,f,m){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=s.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),on(c,"link",f),Vt(c),s.head.appendChild(c))}function uo(s){return'[src="'+yr(s)+'"]'}function su(s){return"script[async]"+s}function rN(s,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var m=s.querySelector('style[data-href~="'+yr(f.href)+'"]');if(m)return c.instance=m,Vt(m),m;var b=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),Vt(m),on(m,"style",b),sd(m,f.precedence,s),c.instance=m;case"stylesheet":b=co(f.href);var x=s.querySelector(au(b));if(x)return c.state.loading|=4,c.instance=x,Vt(x),x;m=nN(f),(b=kr.get(b))&&uv(m,b),x=(s.ownerDocument||s).createElement("link"),Vt(x);var A=x;return A._p=new Promise(function(P,L){A.onload=P,A.onerror=L}),on(x,"link",m),c.state.loading|=4,sd(x,f.precedence,s),c.instance=x;case"script":return x=uo(f.src),(b=s.querySelector(su(x)))?(c.instance=b,Vt(b),b):(m=f,(b=kr.get(x))&&(m=p({},f),fv(m,b)),s=s.ownerDocument||s,b=s.createElement("script"),Vt(b),on(b,"link",m),s.head.appendChild(b),c.instance=b);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,sd(m,f.precedence,s));return c.instance}function sd(s,c,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,x=b,A=0;A<m.length;A++){var P=m[A];if(P.dataset.precedence===c)x=P;else if(x!==b)break}x?x.parentNode.insertBefore(s,x.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(s,c.firstChild))}function uv(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function fv(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var ld=null;function iN(s,c,f){if(ld===null){var m=new Map,b=ld=new Map;b.set(f,m)}else b=ld,m=b.get(f),m||(m=new Map,b.set(f,m));if(m.has(s))return m;for(m.set(s,null),f=f.getElementsByTagName(s),b=0;b<f.length;b++){var x=f[b];if(!(x[Sc]||x[rn]||s==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var A=x.getAttribute(c)||"";A=s+A;var P=m.get(A);P?P.push(x):m.set(A,[x])}}return m}function aN(s,c,f){s=s.ownerDocument||s,s.head.insertBefore(f,c==="title"?s.querySelector("head > title"):null)}function h7(s,c,f){if(f===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;return c.rel==="stylesheet"?(s=c.disabled,typeof c.precedence=="string"&&s==null):!0;case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function sN(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function d7(s,c,f,m){if(f.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var b=co(m.href),x=c.querySelector(au(b));if(x){c=x._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=od.bind(s),c.then(s,s)),f.state.loading|=4,f.instance=x,Vt(x);return}x=c.ownerDocument||c,m=nN(m),(b=kr.get(b))&&uv(m,b),x=x.createElement("link"),Vt(x);var A=x;A._p=new Promise(function(P,L){A.onload=P,A.onerror=L}),on(x,"link",m),f.instance=x}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(s.count++,f=od.bind(s),c.addEventListener("load",f),c.addEventListener("error",f))}}var hv=0;function m7(s,c){return s.stylesheets&&s.count===0&&ud(s,s.stylesheets),0<s.count||0<s.imgCount?function(f){var m=setTimeout(function(){if(s.stylesheets&&ud(s,s.stylesheets),s.unsuspend){var x=s.unsuspend;s.unsuspend=null,x()}},6e4+c);0<s.imgBytes&&hv===0&&(hv=62500*GI());var b=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&ud(s,s.stylesheets),s.unsuspend)){var x=s.unsuspend;s.unsuspend=null,x()}},(s.imgBytes>hv?50:800)+c);return s.unsuspend=f,function(){s.unsuspend=null,clearTimeout(m),clearTimeout(b)}}:null}function od(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ud(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var cd=null;function ud(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,cd=new Map,c.forEach(p7,s),cd=null,od.call(s))}function p7(s,c){if(!(c.state.loading&4)){var f=cd.get(s);if(f)var m=f.get(null);else{f=new Map,cd.set(s,f);for(var b=s.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<b.length;x++){var A=b[x];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(f.set(A.dataset.precedence,A),m=A)}m&&f.set(null,m)}b=c.instance,A=b.getAttribute("data-precedence"),x=f.get(A)||m,x===m&&f.set(null,b),f.set(A,b),this.count++,m=od.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),x?x.parentNode.insertBefore(b,x.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(b,s.firstChild)),c.state.loading|=4}}var lu={$$typeof:N,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function g7(s,c,f,m,b,x,A,P,L){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=l0(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=l0(0),this.hiddenUpdates=l0(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=x,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function lN(s,c,f,m,b,x,A,P,L,W,J,ie){return s=new g7(s,c,f,A,L,W,J,ie,P),c=1,x===!0&&(c|=24),x=nr(3,null,null,c),s.current=x,x.stateNode=s,c=W0(),c.refCount++,s.pooledCache=c,c.refCount++,x.memoizedState={element:m,isDehydrated:f,cache:c},Y0(x),s}function oN(s){return s?(s=Hl,s):Hl}function cN(s,c,f,m,b,x){b=oN(b),m.context===null?m.context=b:m.pendingContext=b,m=Ra(c),m.payload={element:f},x=x===void 0?null:x,x!==null&&(m.callback=x),f=La(s,m,c),f!==null&&(Un(f,s,c),Ic(f,s,c))}function uN(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<c?f:c}}function dv(s,c){uN(s,c),(s=s.alternate)&&uN(s,c)}function fN(s){if(s.tag===13||s.tag===31){var c=Ps(s,67108864);c!==null&&Un(c,s,67108864),dv(s,67108864)}}function hN(s){if(s.tag===13||s.tag===31){var c=lr();c=o0(c);var f=Ps(s,c);f!==null&&Un(f,s,c),dv(s,c)}}var fd=!0;function y7(s,c,f,m){var b=H.T;H.T=null;var x=Y.p;try{Y.p=2,mv(s,c,f,m)}finally{Y.p=x,H.T=b}}function v7(s,c,f,m){var b=H.T;H.T=null;var x=Y.p;try{Y.p=8,mv(s,c,f,m)}finally{Y.p=x,H.T=b}}function mv(s,c,f,m){if(fd){var b=pv(m);if(b===null)ev(s,c,m,hd,f),mN(s,m);else if(x7(b,s,c,f,m))m.stopPropagation();else if(mN(s,m),c&4&&-1<b7.indexOf(s)){for(;b!==null;){var x=Tl(b);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var A=js(x.pendingLanes);if(A!==0){var P=x;for(P.pendingLanes|=2,P.entangledLanes|=2;A;){var L=1<<31-er(A);P.entanglements[1]|=L,A&=~L}li(x),(Ge&6)===0&&(Gh=Zn()+500,tu(0))}}break;case 31:case 13:P=Ps(x,2),P!==null&&Un(P,x,2),Qh(),dv(x,2)}if(x=pv(m),x===null&&ev(s,c,m,hd,f),x===b)break;b=x}b!==null&&m.stopPropagation()}else ev(s,c,m,null,f)}}function pv(s){return s=y0(s),gv(s)}var hd=null;function gv(s){if(hd=null,s=El(s),s!==null){var c=a(s);if(c===null)s=null;else{var f=c.tag;if(f===13){if(s=l(c),s!==null)return s;s=null}else if(f===31){if(s=o(c),s!==null)return s;s=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return hd=s,null}function dN(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(i6()){case wC:return 2;case SC:return 8;case th:case a6:return 32;case CC:return 268435456;default:return 32}default:return 32}}var yv=!1,Ka=null,Ga=null,Ya=null,ou=new Map,cu=new Map,Qa=[],b7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mN(s,c){switch(s){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":ou.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(c.pointerId)}}function uu(s,c,f,m,b,x){return s===null||s.nativeEvent!==x?(s={blockedOn:c,domEventName:f,eventSystemFlags:m,nativeEvent:x,targetContainers:[b]},c!==null&&(c=Tl(c),c!==null&&fN(c)),s):(s.eventSystemFlags|=m,c=s.targetContainers,b!==null&&c.indexOf(b)===-1&&c.push(b),s)}function x7(s,c,f,m,b){switch(c){case"focusin":return Ka=uu(Ka,s,c,f,m,b),!0;case"dragenter":return Ga=uu(Ga,s,c,f,m,b),!0;case"mouseover":return Ya=uu(Ya,s,c,f,m,b),!0;case"pointerover":var x=b.pointerId;return ou.set(x,uu(ou.get(x)||null,s,c,f,m,b)),!0;case"gotpointercapture":return x=b.pointerId,cu.set(x,uu(cu.get(x)||null,s,c,f,m,b)),!0}return!1}function pN(s){var c=El(s.target);if(c!==null){var f=a(c);if(f!==null){if(c=f.tag,c===13){if(c=l(f),c!==null){s.blockedOn=c,EC(s.priority,function(){hN(f)});return}}else if(c===31){if(c=o(f),c!==null){s.blockedOn=c,EC(s.priority,function(){hN(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function dd(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var f=pv(s.nativeEvent);if(f===null){f=s.nativeEvent;var m=new f.constructor(f.type,f);g0=m,f.target.dispatchEvent(m),g0=null}else return c=Tl(f),c!==null&&fN(c),s.blockedOn=f,!1;c.shift()}return!0}function gN(s,c,f){dd(s)&&f.delete(c)}function w7(){yv=!1,Ka!==null&&dd(Ka)&&(Ka=null),Ga!==null&&dd(Ga)&&(Ga=null),Ya!==null&&dd(Ya)&&(Ya=null),ou.forEach(gN),cu.forEach(gN)}function md(s,c){s.blockedOn===c&&(s.blockedOn=null,yv||(yv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,w7)))}var pd=null;function yN(s){pd!==s&&(pd=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){pd===s&&(pd=null);for(var c=0;c<s.length;c+=3){var f=s[c],m=s[c+1],b=s[c+2];if(typeof m!="function"){if(gv(m||f)===null)continue;break}var x=Tl(f);x!==null&&(s.splice(c,3),c-=3,py(x,{pending:!0,data:b,method:f.method,action:m},m,b))}}))}function fo(s){function c(L){return md(L,s)}Ka!==null&&md(Ka,s),Ga!==null&&md(Ga,s),Ya!==null&&md(Ya,s),ou.forEach(c),cu.forEach(c);for(var f=0;f<Qa.length;f++){var m=Qa[f];m.blockedOn===s&&(m.blockedOn=null)}for(;0<Qa.length&&(f=Qa[0],f.blockedOn===null);)pN(f),f.blockedOn===null&&Qa.shift();if(f=(s.ownerDocument||s).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var b=f[m],x=f[m+1],A=b[_n]||null;if(typeof x=="function")A||yN(f);else if(A){var P=null;if(x&&x.hasAttribute("formAction")){if(b=x,A=x[_n]||null)P=A.formAction;else if(gv(b)!==null)continue}else P=A.action;typeof P=="function"?f[m+1]=P:(f.splice(m,3),m-=3),yN(f)}}}function vN(){function s(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(A){return b=A})},focusReset:"manual",scroll:"manual"})}function c(){b!==null&&(b(),b=null),m||setTimeout(f,20)}function f(){if(!m&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,b=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(f,100),function(){m=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),b!==null&&(b(),b=null)}}}function vv(s){this._internalRoot=s}gd.prototype.render=vv.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var f=c.current,m=lr();cN(f,m,s,c,null,null)},gd.prototype.unmount=vv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;cN(s.current,2,null,s,null,null),Qh(),c[jl]=null}};function gd(s){this._internalRoot=s}gd.prototype.unstable_scheduleHydration=function(s){if(s){var c=jC();s={blockedOn:null,target:s,priority:c};for(var f=0;f<Qa.length&&c!==0&&c<Qa[f].priority;f++);Qa.splice(f,0,s),f===0&&pN(s)}};var bN=e.version;if(bN!=="19.2.4")throw Error(r(527,bN,"19.2.4"));Y.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=h(c),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var S7={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yd.isDisabled&&yd.supportsFiber)try{bc=yd.inject(S7),Jn=yd}catch{}}return hu.createRoot=function(s,c){if(!i(s))throw Error(r(299));var f=!1,m="",b=Ak,x=Nk,A=jk;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),c=lN(s,1,!1,null,null,f,m,null,b,x,A,vN),s[jl]=c.current,Jy(s),new vv(c)},hu.hydrateRoot=function(s,c,f){if(!i(s))throw Error(r(299));var m=!1,b="",x=Ak,A=Nk,P=jk,L=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onUncaughtError!==void 0&&(x=f.onUncaughtError),f.onCaughtError!==void 0&&(A=f.onCaughtError),f.onRecoverableError!==void 0&&(P=f.onRecoverableError),f.formState!==void 0&&(L=f.formState)),c=lN(s,1,!0,c,f??null,m,b,L,x,A,P,vN),c.context=oN(null),f=c.current,m=lr(),m=o0(m),b=Ra(m),b.callback=null,La(f,b,m),f=m,c.current.lanes=f,wc(c,f),li(c),s[jl]=c.current,Jy(s),new gd(c)},hu.version="19.2.4",hu}var EN;function D7(){if(EN)return wv.exports;EN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wv.exports=M7(),wv.exports}var P7=D7();const _7=Mi(P7);var Yw=q3();function Fu(){return Fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fu.apply(this,arguments)}var is;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(is||(is={}));const TN="popstate";function R7(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:l,hash:o}=r.location;return qx("",{pathname:a,search:l,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:wm(i)}return B7(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L7(){return Math.random().toString(36).substr(2,8)}function MN(t,e){return{usr:t.state,key:t.key,idx:e}}function qx(t,e,n,r){return n===void 0&&(n=null),Fu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ec(e):e,{state:n,key:e&&e.key||r||L7()})}function wm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ec(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function B7(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,o=is.Pop,u=null,h=d();h==null&&(h=0,l.replaceState(Fu({},l.state,{idx:h}),""));function d(){return(l.state||{idx:null}).idx}function p(){o=is.Pop;let S=d(),k=S==null?null:S-h;h=S,u&&u({action:o,location:C.location,delta:k})}function g(S,k){o=is.Push;let j=qx(C.location,S,k);h=d()+1;let N=MN(j,h),M=C.createHref(j);try{l.pushState(N,"",M)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(M)}a&&u&&u({action:o,location:C.location,delta:1})}function y(S,k){o=is.Replace;let j=qx(C.location,S,k);h=d();let N=MN(j,h),M=C.createHref(j);l.replaceState(N,"",M),a&&u&&u({action:o,location:C.location,delta:0})}function w(S){let k=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof S=="string"?S:wm(S);return j=j.replace(/ $/,"%20"),vt(k,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,k)}let C={get action(){return o},get location(){return t(i,l)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(TN,p),u=S,()=>{i.removeEventListener(TN,p),u=null}},createHref(S){return e(i,S)},createURL:w,encodeLocation(S){let k=w(S);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:g,replace:y,go(S){return l.go(S)}};return C}var DN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(DN||(DN={}));function z7(t,e,n){return n===void 0&&(n="/"),I7(t,e,n)}function I7(t,e,n,r){let i=typeof e=="string"?ec(e):e,a=zo(i.pathname||"/",n);if(a==null)return null;let l=$3(t);U7(l);let o=null;for(let u=0;o==null&&u<l.length;++u){let h=X7(a);o=Y7(l[u],h)}return o}function $3(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,l,o)=>{let u={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};u.relativePath.startsWith("/")&&(vt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=os([r,u.relativePath]),d=n.concat(u);a.children&&a.children.length>0&&(vt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),$3(a.children,e,d,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:K7(h,a.index),routesMeta:d})};return t.forEach((a,l)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,l);else for(let u of V3(a.path))i(a,l,u)}),e}function V3(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=V3(r.join("/")),o=[];return o.push(...l.map(u=>u===""?a:[a,u].join("/"))),i&&o.push(...l),o.map(u=>t.startsWith("/")&&u===""?"/":u)}function U7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:G7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const H7=/^:[\w-]+$/,q7=3,$7=2,V7=1,W7=10,F7=-2,PN=t=>t==="*";function K7(t,e){let n=t.split("/"),r=n.length;return n.some(PN)&&(r+=F7),e&&(r+=$7),n.filter(i=>!PN(i)).reduce((i,a)=>i+(H7.test(a)?q7:a===""?V7:W7),r)}function G7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Y7(t,e,n){let{routesMeta:r}=t,i={},a="/",l=[];for(let o=0;o<r.length;++o){let u=r[o],h=o===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",p=$x({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},d),g=u.route;if(!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:os([a,p.pathname]),pathnameBase:nU(os([a,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(a=os([a,p.pathnameBase]))}return l}function $x(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Q7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((h,d,p)=>{let{paramName:g,isOptional:y}=d;if(g==="*"){let C=o[p]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const w=o[p];return y&&!w?h[g]=void 0:h[g]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function Q7(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Qw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function X7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Z7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,J7=t=>Z7.test(t);function eU(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ec(t):t,a;if(n)if(J7(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Qw(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?a=_N(n.substring(1),"/"):a=_N(n,e)}else a=e;return{pathname:a,search:rU(r),hash:iU(i)}}function _N(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function kv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xw(t,e){let n=tU(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Zw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ec(t):(i=Fu({},t),vt(!i.pathname||!i.pathname.includes("?"),kv("?","pathname","search",i)),vt(!i.pathname||!i.pathname.includes("#"),kv("#","pathname","hash",i)),vt(!i.search||!i.search.includes("#"),kv("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,o;if(l==null)o=n;else{let p=e.length-1;if(!r&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}o=p>=0?e[p]:"/"}let u=eU(i,o),h=l&&l!=="/"&&l.endsWith("/"),d=(a||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||d)&&(u.pathname+="/"),u}const os=t=>t.join("/").replace(/\/\/+/g,"/"),nU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function aU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const W3=["post","put","patch","delete"];new Set(W3);const sU=["get",...W3];new Set(sU);function Ku(){return Ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ku.apply(this,arguments)}const Xp=O.createContext(null),F3=O.createContext(null),va=O.createContext(null),Zp=O.createContext(null),Cs=O.createContext({outlet:null,matches:[],isDataRoute:!1}),K3=O.createContext(null);function lU(t,e){let{relative:n}=e===void 0?{}:e;tc()||vt(!1);let{basename:r,navigator:i}=O.useContext(va),{hash:a,pathname:l,search:o}=Jp(t,{relative:n}),u=l;return r!=="/"&&(u=l==="/"?r:os([r,l])),i.createHref({pathname:u,search:o,hash:a})}function tc(){return O.useContext(Zp)!=null}function nc(){return tc()||vt(!1),O.useContext(Zp).location}function G3(t){O.useContext(va).static||O.useLayoutEffect(t)}function Y3(){let{isDataRoute:t}=O.useContext(Cs);return t?xU():oU()}function oU(){tc()||vt(!1);let t=O.useContext(Xp),{basename:e,future:n,navigator:r}=O.useContext(va),{matches:i}=O.useContext(Cs),{pathname:a}=nc(),l=JSON.stringify(Xw(i,n.v7_relativeSplatPath)),o=O.useRef(!1);return G3(()=>{o.current=!0}),O.useCallback(function(h,d){if(d===void 0&&(d={}),!o.current)return;if(typeof h=="number"){r.go(h);return}let p=Zw(h,JSON.parse(l),a,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:os([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,l,a,t])}function Jp(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=O.useContext(va),{matches:i}=O.useContext(Cs),{pathname:a}=nc(),l=JSON.stringify(Xw(i,r.v7_relativeSplatPath));return O.useMemo(()=>Zw(t,JSON.parse(l),a,n==="path"),[t,l,a,n])}function cU(t,e){return uU(t,e)}function uU(t,e,n,r){tc()||vt(!1);let{navigator:i}=O.useContext(va),{matches:a}=O.useContext(Cs),l=a[a.length-1],o=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let h=nc(),d;if(e){var p;let S=typeof e=="string"?ec(e):e;u==="/"||(p=S.pathname)!=null&&p.startsWith(u)||vt(!1),d=S}else d=h;let g=d.pathname||"/",y=g;if(u!=="/"){let S=u.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=z7(t,{pathname:y}),C=pU(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:os([u,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:os([u,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,n,r);return e&&C?O.createElement(Zp.Provider,{value:{location:Ku({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:is.Pop}},C):C}function fU(){let t=bU(),e=aU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:i},n):null,null)}const hU=O.createElement(fU,null);class dU extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(Cs.Provider,{value:this.props.routeContext},O.createElement(K3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mU(t){let{routeContext:e,match:n,children:r}=t,i=O.useContext(Xp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Cs.Provider,{value:e},r)}function pU(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=l.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);d>=0||vt(!1),l=l.slice(0,Math.min(l.length,d+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<l.length;d++){let p=l[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:g,errors:y}=n,w=p.route.loader&&g[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||w){u=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((d,p,g)=>{let y,w=!1,C=null,S=null;n&&(y=o&&p.route.id?o[p.route.id]:void 0,C=p.route.errorElement||hU,u&&(h<0&&g===0?(wU("route-fallback"),w=!0,S=null):h===g&&(w=!0,S=p.route.hydrateFallbackElement||null)));let k=e.concat(l.slice(0,g+1)),j=()=>{let N;return y?N=C:w?N=S:p.route.Component?N=O.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=d,O.createElement(mU,{match:p,routeContext:{outlet:d,matches:k,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?O.createElement(dU,{location:n.location,revalidation:n.revalidation,component:C,error:y,children:j(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):j()},null)}var Q3=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Q3||{}),X3=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(X3||{});function gU(t){let e=O.useContext(Xp);return e||vt(!1),e}function yU(t){let e=O.useContext(F3);return e||vt(!1),e}function vU(t){let e=O.useContext(Cs);return e||vt(!1),e}function Z3(t){let e=vU(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function bU(){var t;let e=O.useContext(K3),n=yU(),r=Z3();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function xU(){let{router:t}=gU(Q3.UseNavigateStable),e=Z3(X3.UseNavigateStable),n=O.useRef(!1);return G3(()=>{n.current=!0}),O.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ku({fromRouteId:e},a)))},[t,e])}const RN={};function wU(t,e,n){RN[t]||(RN[t]=!0)}function SU(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function CU(t){let{to:e,replace:n,state:r,relative:i}=t;tc()||vt(!1);let{future:a,static:l}=O.useContext(va),{matches:o}=O.useContext(Cs),{pathname:u}=nc(),h=Y3(),d=Zw(e,Xw(o,a.v7_relativeSplatPath),u,i==="path"),p=JSON.stringify(d);return O.useEffect(()=>h(JSON.parse(p),{replace:n,state:r,relative:i}),[h,p,i,n,r]),null}function vo(t){vt(!1)}function OU(t){let{basename:e="/",children:n=null,location:r,navigationType:i=is.Pop,navigator:a,static:l=!1,future:o}=t;tc()&&vt(!1);let u=e.replace(/^\/*/,"/"),h=O.useMemo(()=>({basename:u,navigator:a,static:l,future:Ku({v7_relativeSplatPath:!1},o)}),[u,o,a,l]);typeof r=="string"&&(r=ec(r));let{pathname:d="/",search:p="",hash:g="",state:y=null,key:w="default"}=r,C=O.useMemo(()=>{let S=zo(d,u);return S==null?null:{location:{pathname:S,search:p,hash:g,state:y,key:w},navigationType:i}},[u,d,p,g,y,w,i]);return C==null?null:O.createElement(va.Provider,{value:h},O.createElement(Zp.Provider,{children:n,value:C}))}function kU(t){let{children:e,location:n}=t;return cU(Vx(e),n)}new Promise(()=>{});function Vx(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(r,i)=>{if(!O.isValidElement(r))return;let a=[...e,i];if(r.type===O.Fragment){n.push.apply(n,Vx(r.props.children,a));return}r.type!==vo&&vt(!1),!r.props.index||!r.props.children||vt(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Vx(r.props.children,a)),n.push(l)}),n}function Sm(){return Sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sm.apply(this,arguments)}function J3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function AU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function NU(t,e){return t.button===0&&(!e||e==="_self")&&!AU(t)}const jU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],EU=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],TU="6";try{window.__reactRouterVersion=TU}catch{}const MU=O.createContext({isTransitioning:!1}),DU="startTransition",LN=H3[DU];function PU(t){let{basename:e,children:n,future:r,window:i}=t,a=O.useRef();a.current==null&&(a.current=R7({window:i,v5Compat:!0}));let l=a.current,[o,u]=O.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},d=O.useCallback(p=>{h&&LN?LN(()=>u(p)):u(p)},[u,h]);return O.useLayoutEffect(()=>l.listen(d),[l,d]),O.useEffect(()=>SU(r),[r]),O.createElement(OU,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:l,future:r})}const _U=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LU=O.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:o,target:u,to:h,preventScrollReset:d,viewTransition:p}=e,g=J3(e,jU),{basename:y}=O.useContext(va),w,C=!1;if(typeof h=="string"&&RU.test(h)&&(w=h,_U))try{let N=new URL(window.location.href),M=h.startsWith("//")?new URL(N.protocol+h):new URL(h),D=zo(M.pathname,y);M.origin===N.origin&&D!=null?h=D+M.search+M.hash:C=!0}catch{}let S=lU(h,{relative:i}),k=IU(h,{replace:l,state:o,target:u,preventScrollReset:d,relative:i,viewTransition:p});function j(N){r&&r(N),N.defaultPrevented||k(N)}return O.createElement("a",Sm({},g,{href:w||S,onClick:C||a?r:j,ref:n,target:u}))}),BU=O.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:l=!1,style:o,to:u,viewTransition:h,children:d}=e,p=J3(e,EU),g=Jp(u,{relative:p.relative}),y=nc(),w=O.useContext(F3),{navigator:C,basename:S}=O.useContext(va),k=w!=null&&UU(g)&&h===!0,j=C.encodeLocation?C.encodeLocation(g).pathname:g.pathname,N=y.pathname,M=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(N=N.toLowerCase(),M=M?M.toLowerCase():null,j=j.toLowerCase()),M&&S&&(M=zo(M,S)||M);const D=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let T=N===j||!l&&N.startsWith(j)&&N.charAt(D)==="/",E=M!=null&&(M===j||!l&&M.startsWith(j)&&M.charAt(j.length)==="/"),I={isActive:T,isPending:E,isTransitioning:k},_=T?r:void 0,z;typeof a=="function"?z=a(I):z=[a,T?"active":null,E?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let q=typeof o=="function"?o(I):o;return O.createElement(LU,Sm({},p,{"aria-current":_,className:z,ref:n,style:q,to:u,viewTransition:h}),typeof d=="function"?d(I):d)});var Wx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Wx||(Wx={}));var BN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(BN||(BN={}));function zU(t){let e=O.useContext(Xp);return e||vt(!1),e}function IU(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:o}=e===void 0?{}:e,u=Y3(),h=nc(),d=Jp(t,{relative:l});return O.useCallback(p=>{if(NU(p,n)){p.preventDefault();let g=r!==void 0?r:wm(h)===wm(d);u(t,{replace:g,state:i,preventScrollReset:a,relative:l,viewTransition:o})}},[h,u,d,r,i,n,t,a,l,o])}function UU(t,e){e===void 0&&(e={});let n=O.useContext(MU);n==null&&vt(!1);let{basename:r}=zU(Wx.useViewTransitionState),i=Jp(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=zo(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=zo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $x(i.pathname,l)!=null||$x(i.pathname,a)!=null}const e4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const HU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const qU=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const zN=t=>{const e=qU(t);return e.charAt(0).toUpperCase()+e.slice(1)};var $U={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const VU=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const WU=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...o},u)=>O.createElement("svg",{ref:u,...$U,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:e4("lucide",i),...!a&&!VU(o)&&{"aria-hidden":"true"},...o},[...l.map(([h,d])=>O.createElement(h,d)),...Array.isArray(a)?a:[a]]));const Pe=(t,e)=>{const n=O.forwardRef(({className:r,...i},a)=>O.createElement(WU,{ref:a,iconNode:e,className:e4(`lucide-${HU(zN(t))}`,`lucide-${t}`,r),...i}));return n.displayName=zN(t),n};const FU=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],bo=Pe("activity",FU);const KU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],GU=Pe("arrow-right",KU);const YU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Lu=Pe("chart-column",YU);const QU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],XU=Pe("check",QU);const ZU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rc=Pe("chevron-down",ZU);const JU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],e9=Pe("chevron-left",JU);const t9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],t4=Pe("chevron-right",t9);const n9=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],eg=Pe("chevron-up",n9);const r9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],i9=Pe("circle-check-big",r9);const a9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],n4=Pe("circle-x",a9);const s9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],l9=Pe("circle",s9);const o9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],Jw=Pe("clock",o9);const c9=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],u9=Pe("cpu",c9);const f9=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Oi=Pe("database",f9);const h9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Fx=Pe("download",h9);const d9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],m9=Pe("eye",d9);const p9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],g9=Pe("file-braces",p9);const y9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],v9=Pe("file-spreadsheet",y9);const b9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],x9=Pe("file-text",b9);const w9=[["path",{d:"M10 16h.01",key:"1bzywj"}],["path",{d:"M2.212 11.577a2 2 0 0 0-.212.896V18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5.527a2 2 0 0 0-.212-.896L18.55 5.11A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"18tbho"}],["path",{d:"M21.946 12.013H2.054",key:"zqlbp7"}],["path",{d:"M6 16h.01",key:"1pmjb7"}]],Av=Pe("hard-drive",w9);const S9=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],r4=Pe("key",S9);const C9=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Nv=Pe("link",C9);const O9=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],k9=Pe("menu",O9);const A9=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],N9=Pe("pen-line",A9);const j9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],eS=Pe("pencil",j9);const E9=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],IN=Pe("play",E9);const T9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ds=Pe("plus",T9);const M9=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Xr=Pe("refresh-cw",M9);const D9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],P9=Pe("search",D9);const _9=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],R9=Pe("send",_9);const L9=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Kx=Pe("server",L9);const B9=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Io=Pe("shield",B9);const z9=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],I9=Pe("table-2",z9);const U9=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],H9=Pe("terminal",U9);const q9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Uo=Pe("trash-2",q9);const $9=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],V9=Pe("triangle-alert",$9);const W9=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],i4=Pe("upload",W9);const F9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],UN=Pe("users",F9);const K9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],a4=Pe("x",K9);const G9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Y9=Pe("zap",G9);class Q9{baseUrl;credentials={};_standaloneMode=!1;_remoteConnection=null;constructor(){this.baseUrl=""}get standaloneMode(){return this._standaloneMode}setStandaloneMode(e){this._standaloneMode=e}setRemoteConnection(e){this._remoteConnection=e}getRemoteConnection(){return this._remoteConnection}setCredentials(e,n){this.credentials={username:e,password:n}}getAuthParams(){if(this._standaloneMode&&this._remoteConnection)return"";const e=new URLSearchParams;return this.credentials.username&&e.set("u",this.credentials.username),this.credentials.password&&e.set("p",this.credentials.password),e.toString()}getProxyHeaders(){const e={};return this._standaloneMode&&this._remoteConnection&&(e["X-Influxdb-Url"]=this._remoteConnection.url,this._remoteConnection.username&&(e["X-Influxdb-Username"]=this._remoteConnection.username),this._remoteConnection.password&&(e["X-Influxdb-Password"]=this._remoteConnection.password)),e}async ping(){try{const e=await fetch(`${this.baseUrl}/ping`,{headers:this.getProxyHeaders()});return{version:e.headers.get("X-Tidedb-Version")||e.headers.get("X-Influxdb-Version")||"unknown",ok:e.status===204}}catch{return{version:"unknown",ok:!1}}}async query(e,n,r){const i=new URLSearchParams;i.set("q",e),n&&i.set("db",n),r&&i.set("epoch",r);const a=this.getAuthParams();a&&new URLSearchParams(a).forEach((u,h)=>i.set(h,u));const l=await fetch(`${this.baseUrl}/query?${i.toString()}`,{method:"POST",headers:{Accept:"application/json",...this.getProxyHeaders()}});if(!l.ok){const o=await l.text();throw new Error(`Query failed (${l.status}): ${o}`)}return l.json()}async write(e,n,r="ns",i){const a=new URLSearchParams;a.set("db",e),a.set("precision",r),i&&a.set("rp",i);const l=this.getAuthParams();l&&new URLSearchParams(l).forEach((h,d)=>a.set(d,h));const o=await fetch(`${this.baseUrl}/write?${a.toString()}`,{method:"POST",body:n,headers:this.getProxyHeaders()});if(!o.ok&&o.status!==204){const u=await o.text();throw new Error(`Write failed (${o.status}): ${u}`)}}async getDiagnostics(){return this.query("SHOW DIAGNOSTICS")}async getStats(){return this.query("SHOW STATS")}async getDatabases(){const n=(await this.query("SHOW DATABASES")).results?.[0]?.series?.[0];return n?n.values.map(r=>r[0]):[]}async getRetentionPolicies(e){const r=(await this.query(`SHOW RETENTION POLICIES ON "${e}"`)).results?.[0]?.series?.[0];return r?r.values.map(i=>{const a={};return r.columns.forEach((l,o)=>{a[l]=i[o]}),a}):[]}async getMeasurements(e){const r=(await this.query("SHOW MEASUREMENTS",e)).results?.[0]?.series?.[0];return r?r.values.map(i=>i[0]):[]}async getTagKeys(e,n){const i=(await this.query(`SHOW TAG KEYS FROM "${n}"`,e)).results?.[0]?.series?.[0];return i?i.values.map(a=>a[0]):[]}async getFieldKeys(e,n){const i=(await this.query(`SHOW FIELD KEYS FROM "${n}"`,e)).results?.[0]?.series?.[0];return i?i.values.map(a=>({key:a[0],type:a[1]})):[]}async getSeriesCardinality(e){const r=(await this.query("SHOW SERIES CARDINALITY",e)).results?.[0]?.series?.[0];return r?r.values[0][0]:0}async getRunningQueries(){const n=(await this.query("SHOW QUERIES")).results?.[0]?.series?.[0];return n?n.values.map(r=>{const i={};return n.columns.forEach((a,l)=>{i[a]=r[l]}),i}):[]}async killQuery(e){await this.query(`KILL QUERY ${e}`)}async getDebugVars(){return(await fetch(`${this.baseUrl}/debug/vars`,{headers:this.getProxyHeaders()})).json()}async getContinuousQueries(e){return(await this.query("SHOW CONTINUOUS QUERIES",e)).results?.[0]?.series||[]}async getShardGroups(){const n=(await this.query("SHOW SHARD GROUPS")).results?.[0]?.series?.[0];return n?n.values.map(r=>{const i={};return n.columns.forEach((a,l)=>{i[a]=r[l]}),i}):[]}async getUsers(){const n=(await this.query("SHOW USERS")).results?.[0]?.series?.[0];return!n||!Array.isArray(n.values)?[]:n.values.map(r=>({user:r[0],admin:r[1]}))}async getUserGrants(e){const r=(await this.query(`SHOW GRANTS FOR "${e}"`)).results?.[0]?.series?.[0];return r?r.values.map(i=>{const a={};return r.columns.forEach((l,o)=>{a[l]=i[o]}),a}):[]}async getSubscriptions(){return(await this.query("SHOW SUBSCRIPTIONS")).results?.[0]?.series||[]}async getTagValues(e,n,r){const a=(await this.query(`SHOW TAG VALUES FROM "${n}" WITH KEY = "${r}"`,e)).results?.[0]?.series?.[0];if(!a)return[];const l=a.columns.indexOf("value");return a.values.map(o=>o[l>=0?l:1])}async backup(){const e=await fetch(`${this.baseUrl}/debug/backup`,{method:"GET",headers:this.getProxyHeaders()});if(!e.ok)throw new Error(`Backup failed (${e.status}): ${await e.text()}`);return e.blob()}}const Se=new Q9,s4="tidedb-connections",Gx="tidedb-active-connection";function X9(){try{return JSON.parse(localStorage.getItem(s4)||"[]")}catch{return[]}}function vd(t){localStorage.setItem(s4,JSON.stringify(t))}function Z9(){return localStorage.getItem(Gx)}function bd(t){t?localStorage.setItem(Gx,t):localStorage.removeItem(Gx)}function HN(){return Date.now().toString(36)+Math.random().toString(36).slice(2,7)}function J9({onConnectionChange:t,defaultUrl:e}){const[n,r]=O.useState(X9),[i,a]=O.useState(Z9),[l,o]=O.useState(!1),[u,h]=O.useState(null),[d,p]=O.useState(""),[g,y]=O.useState(""),[w,C]=O.useState(""),[S,k]=O.useState("");O.useEffect(()=>{if(e&&n.length===0){const z={id:HN(),name:"Default",url:e,username:"",password:""},q=[z];r(q),vd(q),a(z.id),bd(z.id)}},[]);const j=O.useCallback((z,q)=>{const B=z.find(re=>re.id===q)||null;B?Se.setRemoteConnection({url:B.url,username:B.username,password:B.password}):Se.setRemoteConnection(null),t()},[t]);O.useEffect(()=>{j(n,i)},[]);const N=z=>{a(z),bd(z),j(n,z)},M=()=>{p(""),y(""),C(""),k(""),h(null)},D=()=>{p(""),y(""),C(""),k(""),h("new")},T=z=>{p(z.name),y(z.url),C(z.username),k(z.password),h(z.id)},E=()=>{const z=d.trim()||"Untitled",q=g.trim();if(q){if(u==="new"){const B={id:HN(),name:z,url:q,username:w,password:S},re=[...n,B];r(re),vd(re),(re.length===1||!i)&&(a(B.id),bd(B.id),j(re,B.id))}else{const B=n.map(re=>re.id===u?{...re,name:z,url:q,username:w,password:S}:re);r(B),vd(B),i===u&&j(B,i)}M()}},I=z=>{const q=n.filter(B=>B.id!==z);if(r(q),vd(q),i===z){const B=q.length>0?q[0].id:null;a(B),bd(B),j(q,B)}u===z&&M()},_=n.find(z=>z.id===i);return v.jsxs("div",{children:[v.jsxs("button",{onClick:()=>o(z=>!z),className:"flex items-center justify-between w-full px-3 py-2 text-xs font-medium text-gray-400 hover:text-white hover:bg-gray-800 rounded-md transition-colors duration-150",children:[v.jsxs("span",{className:"flex items-center gap-1.5 truncate",children:[v.jsx(Kx,{size:12,className:"flex-shrink-0"}),_?_.name:"Connections"]}),l?v.jsx(eg,{size:14}):v.jsx(rc,{size:14})]}),l&&v.jsxs("div",{className:"mt-1 px-1 space-y-1",children:[n.map(z=>v.jsxs("div",{className:`flex items-center justify-between gap-1 px-2 py-1.5 rounded text-xs transition-colors duration-100 ${z.id===i?"bg-blue-600/20 border border-blue-600/40":"bg-gray-800 border border-gray-700 hover:border-gray-600"}`,children:[v.jsxs("button",{onClick:()=>N(z.id),className:"flex-1 text-left truncate text-gray-200",title:z.url,children:[v.jsx("span",{className:"font-medium",children:z.name}),v.jsx("span",{className:"block text-gray-500 truncate text-[10px]",children:z.url})]}),v.jsxs("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:[v.jsx("button",{onClick:()=>T(z),className:"p-1 text-gray-500 hover:text-gray-200 transition-colors",title:"Edit",children:v.jsx(eS,{size:10})}),v.jsx("button",{onClick:()=>I(z.id),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",title:"Remove",children:v.jsx(Uo,{size:10})})]})]},z.id)),u?v.jsxs("div",{className:"space-y-1.5 pt-1 border-t border-gray-700 mt-1",children:[v.jsx("input",{type:"text",placeholder:"Name (e.g. Production)",value:d,onChange:z=>p(z.target.value),autoFocus:!0,className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors"}),v.jsx("input",{type:"text",placeholder:"URL (e.g. http://localhost:8086)",value:g,onChange:z=>y(z.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors"}),v.jsx("input",{type:"text",placeholder:"Username (optional)",value:w,onChange:z=>C(z.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors"}),v.jsx("input",{type:"password",placeholder:"Password (optional)",value:S,onChange:z=>k(z.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors"}),v.jsxs("div",{className:"flex gap-1.5",children:[v.jsxs("button",{onClick:E,disabled:!g.trim(),className:"flex-1 flex items-center justify-center gap-1 py-1.5 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium transition-colors duration-150 disabled:opacity-40",children:[v.jsx(XU,{size:12}),u==="new"?"Add":"Save"]}),v.jsx("button",{onClick:M,className:"flex items-center justify-center gap-1 px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-gray-300 text-xs transition-colors duration-150",children:v.jsx(a4,{size:12})})]})]}):v.jsxs("button",{onClick:D,className:"flex items-center gap-1.5 w-full px-2 py-1.5 text-xs text-blue-400 hover:text-blue-300 hover:bg-gray-800 rounded transition-colors duration-150",children:[v.jsx(ds,{size:12}),"Add Connection"]})]})]})}const eH=[{to:"/explore",label:"Explore",icon:H9},{to:"/admin",label:"Admin",icon:Oi},{to:"/write",label:"Write",icon:N9},{to:"/health",label:"Health",icon:bo}];function tH({children:t}){const[e,n]=O.useState(!1),[r,i]=O.useState(null),[a,l]=O.useState(!1),[o,u]=O.useState(!1),[h,d]=O.useState({username:"",password:""}),[p,g]=O.useState(!1),[y,w]=O.useState(void 0),[C,S]=O.useState(!1);O.useEffect(()=>{(async()=>{try{const T=await fetch("/api/mode");if(T.ok){const E=await T.json();E.mode==="standalone"&&(g(!0),Se.setStandaloneMode(!0),E.defaultUrl&&w(E.defaultUrl))}}catch{}S(!0)})()},[]);const k=O.useCallback(async()=>{try{const T=await Se.ping();i(T.version),l(T.ok)}catch{l(!1)}},[]);O.useEffect(()=>{if(!C)return;k();const T=setInterval(k,1e4);return()=>clearInterval(T)},[C,k]);const j=O.useCallback(()=>{k()},[k]);function N(T){const{name:E,value:I}=T.target;d(_=>({..._,[E]:I}))}function M(T){T.preventDefault(),Se.setCredentials(h.username,h.password),k()}const D=v.jsxs("div",{className:"flex flex-col h-full",children:[v.jsx("div",{className:"px-5 py-5 border-b border-gray-800",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-7 h-7 rounded bg-blue-600 flex items-center justify-center flex-shrink-0",children:v.jsx(Oi,{size:15,className:"text-white"})}),v.jsxs("div",{children:[v.jsx("span",{className:"text-white font-semibold text-base leading-tight block",children:"TideDB"}),r&&r!=="unknown"&&v.jsxs("span",{className:"text-gray-500 text-xs leading-tight block",children:["v",r]})]})]})}),v.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1",children:eH.map(({to:T,label:E,icon:I})=>v.jsxs(BU,{to:T,onClick:()=>n(!1),className:({isActive:_})=>["flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150",_?"bg-gray-800 text-white border-l-2 border-blue-500 pl-[10px]":"text-gray-400 hover:text-white hover:bg-gray-800 border-l-2 border-transparent pl-[10px]"].join(" "),children:[v.jsx(I,{size:16,className:"flex-shrink-0"}),E]},T))}),v.jsxs("div",{className:"border-t border-gray-800 px-3 py-4 space-y-3",children:[p?v.jsx(J9,{onConnectionChange:j,defaultUrl:y}):v.jsxs("div",{children:[v.jsxs("button",{onClick:()=>u(T=>!T),className:"flex items-center justify-between w-full px-3 py-2 text-xs font-medium text-gray-400 hover:text-white hover:bg-gray-800 rounded-md transition-colors duration-150",children:[v.jsx("span",{children:"Credentials"}),o?v.jsx(eg,{size:14}):v.jsx(rc,{size:14})]}),o&&v.jsxs("form",{onSubmit:M,className:"mt-2 px-1 space-y-2",children:[v.jsx("input",{type:"text",name:"username",placeholder:"Username",value:h.username,onChange:N,autoComplete:"username",className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors"}),v.jsx("input",{type:"password",name:"password",placeholder:"Password",value:h.password,onChange:N,autoComplete:"current-password",className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors"}),v.jsx("button",{type:"submit",className:"w-full py-1.5 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium transition-colors duration-150",children:"Apply"})]})]}),v.jsxs("div",{className:"flex items-center gap-2 px-3 py-2",children:[v.jsx(l9,{size:8,className:a?"fill-green-500 text-green-500":"fill-red-500 text-red-500"}),v.jsx("span",{className:"text-xs text-gray-400",children:a?"Connected":"Disconnected"})]})]})]});return v.jsxs("div",{className:"flex h-screen bg-gray-950 text-white overflow-hidden",children:[e&&v.jsx("div",{className:"fixed inset-0 z-20 bg-black/60 lg:hidden",onClick:()=>n(!1)}),v.jsx("aside",{className:["fixed inset-y-0 left-0 z-30 w-60 bg-gray-900 flex flex-col transition-transform duration-200 ease-in-out","lg:static lg:translate-x-0 lg:flex-shrink-0",e?"translate-x-0":"-translate-x-full"].join(" "),children:D}),v.jsxs("div",{className:"flex flex-col flex-1 min-w-0 overflow-hidden",children:[v.jsxs("header",{className:"lg:hidden flex items-center gap-3 px-4 py-3 bg-gray-900 border-b border-gray-800 flex-shrink-0",children:[v.jsx("button",{onClick:()=>n(T=>!T),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Toggle sidebar",children:e?v.jsx(a4,{size:20}):v.jsx(k9,{size:20})}),v.jsx("span",{className:"text-white font-semibold text-sm",children:"TideDB"})]}),v.jsx("main",{className:"flex-1 overflow-auto bg-gray-950",children:t})]})]})}function Yx(){return Yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yx.apply(null,arguments)}function nH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}let Qx=[],l4=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?l4:Qx).push(n=n+t[e])})();function rH(t){if(t<768)return!1;for(let e=0,n=Qx.length;;){let r=e+n>>1;if(t<Qx[r])n=r;else if(t>=l4[r])e=r+1;else return!0;if(e==n)return!1}}function qN(t){return t>=127462&&t<=127487}const $N=8205;function iH(t,e,n=!0,r=!0){return(n?o4:aH)(t,e,r)}function o4(t,e,n){if(e==t.length)return e;e&&c4(t.charCodeAt(e))&&u4(t.charCodeAt(e-1))&&e--;let r=jv(t,e);for(e+=VN(r);e<t.length;){let i=jv(t,e);if(r==$N||i==$N||n&&rH(i))e+=VN(i),r=i;else if(qN(i)){let a=0,l=e-2;for(;l>=0&&qN(jv(t,l));)a++,l-=2;if(a%2==0)break;e+=2}else break}return e}function aH(t,e,n){for(;e>0;){let r=o4(t,e-2,n);if(r<e)return r;e--}return 0}function jv(t,e){let n=t.charCodeAt(e);if(!u4(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return c4(r)?(n-55296<<10)+(r-56320)+65536:n}function c4(t){return t>=56320&&t<57344}function u4(t){return t>=55296&&t<56320}function VN(t){return t<65536?1:2}let Ye=class f4{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=Ho(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),gi.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=Ho(this,e,n);let r=[];return this.decompose(e,n,r,0),gi.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Bu(this),a=new Bu(e);for(let l=n,o=n;;){if(i.next(l),a.next(l),l=0,i.lineBreak!=a.lineBreak||i.done!=a.done||i.value!=a.value)return!1;if(o+=i.value.length,i.done||o>=r)return!0}}iter(e=1){return new Bu(this,e)}iterRange(e,n=this.length){return new h4(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new d4(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?f4.empty:e.length<=32?new jt(e):gi.from(jt.split(e,[]))}};class jt extends Ye{constructor(e,n=sH(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let a=0;;a++){let l=this.text[a],o=i+l.length;if((n?r:o)>=e)return new lH(i,o,r,l);i=o+1,r++}}decompose(e,n,r,i){let a=e<=0&&n>=this.length?this:new jt(WN(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let l=r.pop(),o=sm(a.text,l.text.slice(),0,a.length);if(o.length<=32)r.push(new jt(o,l.length+a.length));else{let u=o.length>>1;r.push(new jt(o.slice(0,u)),new jt(o.slice(u)))}}else r.push(a)}replace(e,n,r){if(!(r instanceof jt))return super.replace(e,n,r);[e,n]=Ho(this,e,n);let i=sm(this.text,sm(r.text,WN(this.text,0,e)),n),a=this.length+r.length-(n-e);return i.length<=32?new jt(i,a):gi.from(jt.split(i,[]),a)}sliceString(e,n=this.length,r=`
`){[e,n]=Ho(this,e,n);let i="";for(let a=0,l=0;a<=n&&l<this.text.length;l++){let o=this.text[l],u=a+o.length;a>e&&l&&(i+=r),e<u&&n>a&&(i+=o.slice(Math.max(0,e-a),n-a)),a=u+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let a of e)r.push(a),i+=a.length+1,r.length==32&&(n.push(new jt(r,i)),r=[],i=-1);return i>-1&&n.push(new jt(r,i)),n}}class gi extends Ye{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let a=0;;a++){let l=this.children[a],o=i+l.length,u=r+l.lines-1;if((n?u:o)>=e)return l.lineInner(e,n,r,i);i=o+1,r=u+1}}decompose(e,n,r,i){for(let a=0,l=0;l<=n&&a<this.children.length;a++){let o=this.children[a],u=l+o.length;if(e<=u&&n>=l){let h=i&((l<=e?1:0)|(u>=n?2:0));l>=e&&u<=n&&!h?r.push(o):o.decompose(e-l,n-l,r,h)}l=u+1}}replace(e,n,r){if([e,n]=Ho(this,e,n),r.lines<this.lines)for(let i=0,a=0;i<this.children.length;i++){let l=this.children[i],o=a+l.length;if(e>=a&&n<=o){let u=l.replace(e-a,n-a,r),h=this.lines-l.lines+u.lines;if(u.lines<h>>4&&u.lines>h>>6){let d=this.children.slice();return d[i]=u,new gi(d,this.length-(n-e)+r.length)}return super.replace(a,o,u)}a=o+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=Ho(this,e,n);let i="";for(let a=0,l=0;a<this.children.length&&l<=n;a++){let o=this.children[a],u=l+o.length;l>e&&a&&(i+=r),e<u&&n>l&&(i+=o.sliceString(e-l,n-l,r)),l=u+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof gi))return 0;let r=0,[i,a,l,o]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,a+=n){if(i==l||a==o)return r;let u=this.children[i],h=e.children[a];if(u!=h)return r+u.scanIdentical(h,n);r+=u.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let y of e)r+=y.lines;if(r<32){let y=[];for(let w of e)w.flatten(y);return new jt(y,n)}let i=Math.max(32,r>>5),a=i<<1,l=i>>1,o=[],u=0,h=-1,d=[];function p(y){let w;if(y.lines>a&&y instanceof gi)for(let C of y.children)p(C);else y.lines>l&&(u>l||!u)?(g(),o.push(y)):y instanceof jt&&u&&(w=d[d.length-1])instanceof jt&&y.lines+w.lines<=32?(u+=y.lines,h+=y.length+1,d[d.length-1]=new jt(w.text.concat(y.text),w.length+1+y.length)):(u+y.lines>i&&g(),u+=y.lines,h+=y.length+1,d.push(y))}function g(){u!=0&&(o.push(d.length==1?d[0]:gi.from(d,h)),h=-1,u=d.length=0)}for(let y of e)p(y);return g(),o.length==1?o[0]:new gi(o,n)}}Ye.empty=new jt([""],0);function sH(t){let e=-1;for(let n of t)e+=n.length+1;return e}function sm(t,e,n=0,r=1e9){for(let i=0,a=0,l=!0;a<t.length&&i<=r;a++){let o=t[a],u=i+o.length;u>=n&&(u>r&&(o=o.slice(0,r-i)),i<n&&(o=o.slice(n-i)),l?(e[e.length-1]+=o,l=!1):e.push(o)),i=u+1}return e}function WN(t,e,n){return sm(t,[""],e,n)}class Bu{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof jt?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],a=this.offsets[r],l=a>>1,o=i instanceof jt?i.text.length:i.children.length;if(l==(n>0?o:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((a&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof jt){let u=i.text[l+(n<0?-1:0)];if(this.offsets[r]+=n,u.length>Math.max(0,e))return this.value=e==0?u:n>0?u.slice(e):u.slice(0,u.length-e),this;e-=u.length}else{let u=i.children[l+(n<0?-1:0)];e>u.length?(e-=u.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(u),this.offsets.push(n>0?1:(u instanceof jt?u.text.length:u.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class h4{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new Bu(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class d4{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Ye.prototype[Symbol.iterator]=function(){return this.iter()},Bu.prototype[Symbol.iterator]=h4.prototype[Symbol.iterator]=d4.prototype[Symbol.iterator]=function(){return this});let lH=class{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}};function Ho(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function Qt(t,e,n=!0,r=!0){return iH(t,e,n,r)}function oH(t){return t>=56320&&t<57344}function cH(t){return t>=55296&&t<56320}function Hn(t,e){let n=t.charCodeAt(e);if(!cH(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return oH(r)?(n-55296<<10)+(r-56320)+65536:n}function tS(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function yi(t){return t<65536?1:2}const Xx=/\r\n?|\n/;var Nn=(function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t})(Nn||(Nn={}));class ki{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let a=this.sections[n++],l=this.sections[n++];l<0?(e(r,i,a),i+=a):i+=l,r+=a}}iterChangedRanges(e,n=!1){Zx(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new ki(e)}composeDesc(e){return this.empty?e:e.empty?this:m4(this,e)}mapDesc(e,n=!1){return e.empty?this:Jx(this,e,n)}mapPos(e,n=-1,r=Nn.Simple){let i=0,a=0;for(let l=0;l<this.sections.length;){let o=this.sections[l++],u=this.sections[l++],h=i+o;if(u<0){if(h>e)return a+(e-i);a+=o}else{if(r!=Nn.Simple&&h>=e&&(r==Nn.TrackDel&&i<e&&h>e||r==Nn.TrackBefore&&i<e||r==Nn.TrackAfter&&h>e))return null;if(h>e||h==e&&n<0&&!o)return e==i||n<0?a:a+u;a+=u}i=h}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return a}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let a=this.sections[r++],l=this.sections[r++],o=i+a;if(l>=0&&i<=n&&o>=e)return i<e&&o>n?"cover":!0;i=o}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ki(e)}static create(e){return new ki(e)}}class Ut extends ki{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Zx(this,(n,r,i,a,l)=>e=e.replace(i,i+(r-n),l),!1),e}mapDesc(e,n=!1){return Jx(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,a=0;i<n.length;i+=2){let l=n[i],o=n[i+1];if(o>=0){n[i]=o,n[i+1]=l;let u=i>>1;for(;r.length<u;)r.push(Ye.empty);r.push(l?e.slice(a,a+l):Ye.empty)}a+=l}return new Ut(n,r)}compose(e){return this.empty?e:e.empty?this:m4(this,e,!0)}map(e,n=!1){return e.empty?this:Jx(this,e,n,!0)}iterChanges(e,n=!1){Zx(this,e,n)}get desc(){return ki.create(this.sections)}filter(e){let n=[],r=[],i=[],a=new Gu(this);e:for(let l=0,o=0;;){let u=l==e.length?1e9:e[l++];for(;o<u||o==u&&a.len==0;){if(a.done)break e;let d=Math.min(a.len,u-o);wn(i,d,-1);let p=a.ins==-1?-1:a.off==0?a.ins:0;wn(n,d,p),p>0&&as(r,n,a.text),a.forward(d),o+=d}let h=e[l++];for(;o<h;){if(a.done)break e;let d=Math.min(a.len,h-o);wn(n,d,-1),wn(i,d,a.ins==-1?-1:a.off==0?a.ins:0),a.forward(d),o+=d}}return{changes:new Ut(n,r),filtered:ki.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],a=[],l=0,o=null;function u(d=!1){if(!d&&!i.length)return;l<n&&wn(i,n-l,-1);let p=new Ut(i,a);o=o?o.compose(p.map(o)):p,i=[],a=[],l=0}function h(d){if(Array.isArray(d))for(let p of d)h(p);else if(d instanceof Ut){if(d.length!=n)throw new RangeError(`Mismatched change set length (got ${d.length}, expected ${n})`);u(),o=o?o.compose(d.map(o)):d}else{let{from:p,to:g=p,insert:y}=d;if(p>g||p<0||g>n)throw new RangeError(`Invalid change range ${p} to ${g} (in doc of length ${n})`);let w=y?typeof y=="string"?Ye.of(y.split(r||Xx)):y:Ye.empty,C=w.length;if(p==g&&C==0)return;p<l&&u(),p>l&&wn(i,p-l,-1),wn(i,g-p,C),as(a,i,w),l=g}}return h(e),u(!o),o}static empty(e){return new Ut(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let a=e[i];if(typeof a=="number")n.push(a,-1);else{if(!Array.isArray(a)||typeof a[0]!="number"||a.some((l,o)=>o&&typeof l!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(a.length==1)n.push(a[0],0);else{for(;r.length<i;)r.push(Ye.empty);r[i]=Ye.of(a.slice(1)),n.push(a[0],r[i].length)}}}return new Ut(n,r)}static createSet(e,n){return new Ut(e,n)}}function wn(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function as(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Ye.empty);t.push(n)}}function Zx(t,e,n){let r=t.inserted;for(let i=0,a=0,l=0;l<t.sections.length;){let o=t.sections[l++],u=t.sections[l++];if(u<0)i+=o,a+=o;else{let h=i,d=a,p=Ye.empty;for(;h+=o,d+=u,u&&r&&(p=p.append(r[l-2>>1])),!(n||l==t.sections.length||t.sections[l+1]<0);)o=t.sections[l++],u=t.sections[l++];e(i,h,a,d,p),i=h,a=d}}}function Jx(t,e,n,r=!1){let i=[],a=r?[]:null,l=new Gu(t),o=new Gu(e);for(let u=-1;;){if(l.done&&o.len||o.done&&l.len)throw new Error("Mismatched change set lengths");if(l.ins==-1&&o.ins==-1){let h=Math.min(l.len,o.len);wn(i,h,-1),l.forward(h),o.forward(h)}else if(o.ins>=0&&(l.ins<0||u==l.i||l.off==0&&(o.len<l.len||o.len==l.len&&!n))){let h=o.len;for(wn(i,o.ins,-1);h;){let d=Math.min(l.len,h);l.ins>=0&&u<l.i&&l.len<=d&&(wn(i,0,l.ins),a&&as(a,i,l.text),u=l.i),l.forward(d),h-=d}o.next()}else if(l.ins>=0){let h=0,d=l.len;for(;d;)if(o.ins==-1){let p=Math.min(d,o.len);h+=p,d-=p,o.forward(p)}else if(o.ins==0&&o.len<d)d-=o.len,o.next();else break;wn(i,h,u<l.i?l.ins:0),a&&u<l.i&&as(a,i,l.text),u=l.i,l.forward(l.len-d)}else{if(l.done&&o.done)return a?Ut.createSet(i,a):ki.create(i);throw new Error("Mismatched change set lengths")}}}function m4(t,e,n=!1){let r=[],i=n?[]:null,a=new Gu(t),l=new Gu(e);for(let o=!1;;){if(a.done&&l.done)return i?Ut.createSet(r,i):ki.create(r);if(a.ins==0)wn(r,a.len,0,o),a.next();else if(l.len==0&&!l.done)wn(r,0,l.ins,o),i&&as(i,r,l.text),l.next();else{if(a.done||l.done)throw new Error("Mismatched change set lengths");{let u=Math.min(a.len2,l.len),h=r.length;if(a.ins==-1){let d=l.ins==-1?-1:l.off?0:l.ins;wn(r,u,d,o),i&&d&&as(i,r,l.text)}else l.ins==-1?(wn(r,a.off?0:a.len,u,o),i&&as(i,r,a.textBit(u))):(wn(r,a.off?0:a.len,l.off?0:l.ins,o),i&&!l.off&&as(i,r,l.text));o=(a.ins>u||l.ins>=0&&l.len>u)&&(o||r.length>h),a.forward2(u),l.forward(u)}}}}class Gu{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Ye.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Ye.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class nl{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new nl(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return ae.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return ae.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&this.goalColumn==e.goalColumn&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return ae.range(e.anchor,e.head)}static create(e,n,r){return new nl(e,n,r)}}class ae{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:ae.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new ae([this.main],0)}addRange(e,n=!0){return ae.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,ae.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new ae(e.ranges.map(n=>nl.fromJSON(n)),e.main)}static single(e,n=e){return new ae([ae.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let a=e[i];if(a.empty?a.from<=r:a.from<r)return ae.normalized(e.slice(),n);r=a.to}return new ae(e,n)}static cursor(e,n=0,r,i){return nl.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let a=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?nl.create(n,e,48|a):nl.create(e,n,(n>e?8:0)|a)}static normalized(e,n=0){let r=e[n];e.sort((i,a)=>i.from-a.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let a=e[i],l=e[i-1];if(a.empty?a.from<=l.to:a.from<l.to){let o=l.from,u=Math.max(a.to,l.to);i<=n&&n--,e.splice(--i,2,a.anchor>a.head?ae.range(u,o):ae.range(o,u))}}return new ae(e,n)}}function p4(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let nS=0;class ye{constructor(e,n,r,i,a){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=nS++,this.default=e([]),this.extensions=typeof a=="function"?a(this):a}get reader(){return this}static define(e={}){return new ye(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:rS),!!e.static,e.enables)}of(e){return new lm([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new lm(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new lm(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function rS(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class lm{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=nS++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,a=this.id,l=e[a]>>1,o=this.type==2,u=!1,h=!1,d=[];for(let p of this.dependencies)p=="doc"?u=!0:p=="selection"?h=!0:(((n=e[p.id])!==null&&n!==void 0?n:1)&1)==0&&d.push(e[p.id]);return{create(p){return p.values[l]=r(p),1},update(p,g){if(u&&g.docChanged||h&&(g.docChanged||g.selection)||e1(p,d)){let y=r(p);if(o?!FN(y,p.values[l],i):!i(y,p.values[l]))return p.values[l]=y,1}return 0},reconfigure:(p,g)=>{let y,w=g.config.address[a];if(w!=null){let C=Om(g,w);if(this.dependencies.every(S=>S instanceof ye?g.facet(S)===p.facet(S):S instanceof yn?g.field(S,!1)==p.field(S,!1):!0)||(o?FN(y=r(p),C,i):i(y=r(p),C)))return p.values[l]=C,0}else y=r(p);return p.values[l]=y,1}}}}function FN(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function e1(t,e){let n=!1;for(let r of e)zu(t,r)&1&&(n=!0);return n}function uH(t,e,n){let r=n.map(u=>t[u.id]),i=n.map(u=>u.type),a=r.filter(u=>!(u&1)),l=t[e.id]>>1;function o(u){let h=[];for(let d=0;d<r.length;d++){let p=Om(u,r[d]);if(i[d]==2)for(let g of p)h.push(g);else h.push(p)}return e.combine(h)}return{create(u){for(let h of r)zu(u,h);return u.values[l]=o(u),1},update(u,h){if(!e1(u,a))return 0;let d=o(u);return e.compare(d,u.values[l])?0:(u.values[l]=d,1)},reconfigure(u,h){let d=e1(u,r),p=h.config.facets[e.id],g=h.facet(e);if(p&&!d&&rS(n,p))return u.values[l]=g,0;let y=o(u);return e.compare(y,g)?(u.values[l]=g,0):(u.values[l]=y,1)}}}const xd=ye.define({static:!0});class yn{constructor(e,n,r,i,a){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=a,this.provides=void 0}static define(e){let n=new yn(nS++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(xd).find(r=>r.field==this);return(n?.create||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let a=r.values[n],l=this.updateF(a,i);return this.compareF(a,l)?0:(r.values[n]=l,1)},reconfigure:(r,i)=>{let a=r.facet(xd),l=i.facet(xd),o;return(o=a.find(u=>u.field==this))&&o!=l.find(u=>u.field==this)?(r.values[n]=o.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,xd.of({field:this,create:e})]}get extension(){return this}}const el={lowest:4,low:3,default:2,high:1,highest:0};function du(t){return e=>new g4(e,t)}const kl={highest:du(el.highest),high:du(el.high),default:du(el.default),low:du(el.low),lowest:du(el.lowest)};class g4{constructor(e,n){this.inner=e,this.prec=n}}class tg{of(e){return new t1(this,e)}reconfigure(e){return tg.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class t1{constructor(e,n){this.compartment=e,this.inner=n}}class Cm{constructor(e,n,r,i,a,l){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=a,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],a=Object.create(null),l=new Map;for(let g of fH(e,n,l))g instanceof yn?i.push(g):(a[g.facet.id]||(a[g.facet.id]=[])).push(g);let o=Object.create(null),u=[],h=[];for(let g of i)o[g.id]=h.length<<1,h.push(y=>g.slot(y));let d=r?.config.facets;for(let g in a){let y=a[g],w=y[0].facet,C=d&&d[g]||[];if(y.every(S=>S.type==0))if(o[w.id]=u.length<<1|1,rS(C,y))u.push(r.facet(w));else{let S=w.combine(y.map(k=>k.value));u.push(r&&w.compare(S,r.facet(w))?r.facet(w):S)}else{for(let S of y)S.type==0?(o[S.id]=u.length<<1|1,u.push(S.value)):(o[S.id]=h.length<<1,h.push(k=>S.dynamicSlot(k)));o[w.id]=h.length<<1,h.push(S=>uH(S,w,y))}}let p=h.map(g=>g(o));return new Cm(e,l,p,o,u,a)}}function fH(t,e,n){let r=[[],[],[],[],[]],i=new Map;function a(l,o){let u=i.get(l);if(u!=null){if(u<=o)return;let h=r[u].indexOf(l);h>-1&&r[u].splice(h,1),l instanceof t1&&n.delete(l.compartment)}if(i.set(l,o),Array.isArray(l))for(let h of l)a(h,o);else if(l instanceof t1){if(n.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(l.compartment)||l.inner;n.set(l.compartment,h),a(h,o)}else if(l instanceof g4)a(l.inner,l.prec);else if(l instanceof yn)r[o].push(l),l.provides&&a(l.provides,o);else if(l instanceof lm)r[o].push(l),l.facet.extensions&&a(l.facet.extensions,el.default);else{let h=l.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);a(h,o)}}return a(t,el.default),r.reduce((l,o)=>l.concat(o))}function zu(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function Om(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const y4=ye.define(),n1=ye.define({combine:t=>t.some(e=>e),static:!0}),v4=ye.define({combine:t=>t.length?t[0]:void 0,static:!0}),b4=ye.define(),x4=ye.define(),w4=ye.define(),S4=ye.define({combine:t=>t.length?t[0]:!1});class Di{constructor(e,n){this.type=e,this.value=n}static define(){return new hH}}class hH{of(e){return new Di(this,e)}}class dH{constructor(e){this.map=e}of(e){return new Te(this,e)}}class Te{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Te(this.type,n)}is(e){return this.type==e}static define(e={}){return new dH(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let a=i.map(n);a&&r.push(a)}return r}}Te.reconfigure=Te.define();Te.appendConfig=Te.define();class Ht{constructor(e,n,r,i,a,l){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=a,this.scrollIntoView=l,this._doc=null,this._state=null,r&&p4(r,n.newLength),a.some(o=>o.type==Ht.time)||(this.annotations=a.concat(Ht.time.of(Date.now())))}static create(e,n,r,i,a,l){return new Ht(e,n,r,i,a,l)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Ht.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Ht.time=Di.define();Ht.userEvent=Di.define();Ht.addToHistory=Di.define();Ht.remote=Di.define();function mH(t,e){let n=[];for(let r=0,i=0;;){let a,l;if(r<t.length&&(i==e.length||e[i]>=t[r]))a=t[r++],l=t[r++];else if(i<e.length)a=e[i++],l=e[i++];else return n;!n.length||n[n.length-1]<a?n.push(a,l):n[n.length-1]<l&&(n[n.length-1]=l)}}function C4(t,e,n){var r;let i,a,l;return n?(i=e.changes,a=Ut.empty(e.changes.length),l=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),a=t.changes.mapDesc(e.changes,!0),l=t.changes.compose(i)),{changes:l,selection:e.selection?e.selection.map(a):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:Te.mapEffects(t.effects,i).concat(Te.mapEffects(e.effects,a)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function r1(t,e,n){let r=e.selection,i=Eo(e.annotations);return e.userEvent&&(i=i.concat(Ht.userEvent.of(e.userEvent))),{changes:e.changes instanceof Ut?e.changes:Ut.of(e.changes||[],n,t.facet(v4)),selection:r&&(r instanceof ae?r:ae.single(r.anchor,r.head)),effects:Eo(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function O4(t,e,n){let r=r1(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let a=1;a<e.length;a++){e[a].filter===!1&&(n=!1);let l=!!e[a].sequential;r=C4(r,r1(t,e[a],l?r.changes.newLength:t.doc.length),l)}let i=Ht.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return gH(n?pH(i):i)}function pH(t){let e=t.startState,n=!0;for(let i of e.facet(b4)){let a=i(t);if(a===!1){n=!1;break}Array.isArray(a)&&(n=n===!0?a:mH(n,a))}if(n!==!0){let i,a;if(n===!1)a=t.changes.invertedDesc,i=Ut.empty(e.doc.length);else{let l=t.changes.filter(n);i=l.changes,a=l.filtered.mapDesc(l.changes).invertedDesc}t=Ht.create(e,i,t.selection&&t.selection.map(a),Te.mapEffects(t.effects,a),t.annotations,t.scrollIntoView)}let r=e.facet(x4);for(let i=r.length-1;i>=0;i--){let a=r[i](t);a instanceof Ht?t=a:Array.isArray(a)&&a.length==1&&a[0]instanceof Ht?t=a[0]:t=O4(e,Eo(a),!1)}return t}function gH(t){let e=t.startState,n=e.facet(w4),r=t;for(let i=n.length-1;i>=0;i--){let a=n[i](t);a&&Object.keys(a).length&&(r=C4(r,r1(e,a,t.changes.newLength),!0))}return r==t?t:Ht.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const yH=[];function Eo(t){return t==null?yH:Array.isArray(t)?t:[t]}var pt=(function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t})(pt||(pt={}));const vH=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let i1;try{i1=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function bH(t){if(i1)return i1.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||vH.test(n)))return!0}return!1}function xH(t){return e=>{if(!/\S/.test(e))return pt.Space;if(bH(e))return pt.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return pt.Word;return pt.Other}}class qe{constructor(e,n,r,i,a,l){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=a,l&&(l._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)zu(this,o<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return zu(this,r),Om(this,r)}update(...e){return O4(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let o of e.effects)o.is(tg.reconfigure)?(n&&(i=new Map,n.compartments.forEach((u,h)=>i.set(h,u)),n=null),i.set(o.value.compartment,o.value.extension)):o.is(Te.reconfigure)?(n=null,r=o.value):o.is(Te.appendConfig)&&(n=null,r=Eo(r).concat(o.value));let a;n?a=e.startState.values.slice():(n=Cm.resolve(r,i,this),a=new qe(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(u,h)=>h.reconfigure(u,this),null).values);let l=e.startState.facet(n1)?e.newSelection:e.newSelection.asSingle();new qe(n,e.newDoc,l,a,(o,u)=>u.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:ae.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),a=[r.range],l=Eo(r.effects);for(let o=1;o<n.ranges.length;o++){let u=e(n.ranges[o]),h=this.changes(u.changes),d=h.map(i);for(let g=0;g<o;g++)a[g]=a[g].map(d);let p=i.mapDesc(h,!0);a.push(u.range.map(p)),i=i.compose(d),l=Te.mapEffects(l,d).concat(Te.mapEffects(Eo(u.effects),p))}return{changes:i,selection:ae.create(a,n.mainIndex),effects:l}}changes(e=[]){return e instanceof Ut?e:Ut.of(e,this.doc.length,this.facet(qe.lineSeparator))}toText(e){return Ye.of(e.split(this.facet(qe.lineSeparator)||Xx))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(zu(this,n),Om(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof yn&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let a in r)if(Object.prototype.hasOwnProperty.call(e,a)){let l=r[a],o=e[a];i.push(l.init(u=>l.spec.fromJSON(o,u)))}}return qe.create({doc:e.doc,selection:ae.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=Cm.resolve(e.extensions||[],new Map),r=e.doc instanceof Ye?e.doc:Ye.of((e.doc||"").split(n.staticFacet(qe.lineSeparator)||Xx)),i=e.selection?e.selection instanceof ae?e.selection:ae.single(e.selection.anchor,e.selection.head):ae.single(0);return p4(i,r.length),n.staticFacet(n1)||(i=i.asSingle()),new qe(n,r,i,n.dynamicSlots.map(()=>null),(a,l)=>l.create(a),null)}get tabSize(){return this.facet(qe.tabSize)}get lineBreak(){return this.facet(qe.lineSeparator)||`
`}get readOnly(){return this.facet(S4)}phrase(e,...n){for(let r of this.facet(qe.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let a=+(i||1);return!a||a>n.length?r:n[a-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let a of this.facet(y4))for(let l of a(this,n,r))Object.prototype.hasOwnProperty.call(l,e)&&i.push(l[e]);return i}charCategorizer(e){let n=this.languageDataAt("wordChars",e);return xH(n.length?n[0]:"")}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),a=this.charCategorizer(e),l=e-r,o=e-r;for(;l>0;){let u=Qt(n,l,!1);if(a(n.slice(u,l))!=pt.Word)break;l=u}for(;o<i;){let u=Qt(n,o);if(a(n.slice(o,u))!=pt.Word)break;o=u}return l==o?null:ae.range(l+r,o+r)}}qe.allowMultipleSelections=n1;qe.tabSize=ye.define({combine:t=>t.length?t[0]:4});qe.lineSeparator=v4;qe.readOnly=S4;qe.phrases=ye.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});qe.languageData=y4;qe.changeFilter=b4;qe.transactionFilter=x4;qe.transactionExtender=w4;tg.reconfigure=Te.define();function Pi(t,e,n={}){let r={};for(let i of t)for(let a of Object.keys(i)){let l=i[a],o=r[a];if(o===void 0)r[a]=l;else if(!(o===l||l===void 0))if(Object.hasOwnProperty.call(n,a))r[a]=n[a](o,l);else throw new Error("Config merge conflict for field "+a)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class ms{eq(e){return this==e}range(e,n=e){return a1.create(e,n,this)}}ms.prototype.startSide=ms.prototype.endSide=0;ms.prototype.point=!1;ms.prototype.mapMode=Nn.TrackDel;function iS(t,e){return t==e||t.constructor==e.constructor&&t.eq(e)}let a1=class k4{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new k4(e,n,r)}};function s1(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class aS{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let a=r?this.to:this.from;for(let l=i,o=a.length;;){if(l==o)return l;let u=l+o>>1,h=a[u]-e||(r?this.value[u].endSide:this.value[u].startSide)-n;if(u==l)return h>=0?l:o;h>=0?o=u:l=u+1}}between(e,n,r,i){for(let a=this.findIndex(n,-1e9,!0),l=this.findIndex(r,1e9,!1,a);a<l;a++)if(i(this.from[a]+e,this.to[a]+e,this.value[a])===!1)return!1}map(e,n){let r=[],i=[],a=[],l=-1,o=-1;for(let u=0;u<this.value.length;u++){let h=this.value[u],d=this.from[u]+e,p=this.to[u]+e,g,y;if(d==p){let w=n.mapPos(d,h.startSide,h.mapMode);if(w==null||(g=y=w,h.startSide!=h.endSide&&(y=n.mapPos(d,h.endSide),y<g)))continue}else if(g=n.mapPos(d,h.startSide),y=n.mapPos(p,h.endSide),g>y||g==y&&h.startSide>0&&h.endSide<=0)continue;(y-g||h.endSide-h.startSide)<0||(l<0&&(l=g),h.point&&(o=Math.max(o,y-g)),r.push(h),i.push(g-l),a.push(y-l))}return{mapped:r.length?new aS(i,a,r,o):null,pos:l}}}class ze{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new ze(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:a=this.length}=e,l=e.filter;if(n.length==0&&!l)return this;if(r&&(n=n.slice().sort(s1)),this.isEmpty)return n.length?ze.of(n):this;let o=new A4(this,null,-1).goto(0),u=0,h=[],d=new oa;for(;o.value||u<n.length;)if(u<n.length&&(o.from-n[u].from||o.startSide-n[u].value.startSide)>=0){let p=n[u++];d.addInner(p.from,p.to,p.value)||h.push(p)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(u==n.length||this.chunkEnd(o.chunkIndex)<n[u].from)&&(!l||i>this.chunkEnd(o.chunkIndex)||a<this.chunkPos[o.chunkIndex])&&d.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!l||i>o.to||a<o.from||l(o.from,o.to,o.value))&&(d.addInner(o.from,o.to,o.value)||h.push(a1.create(o.from,o.to,o.value))),o.next());return d.finishInner(this.nextLayer.isEmpty&&!h.length?ze.empty:this.nextLayer.update({add:h,filter:l,filterFrom:i,filterTo:a}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let l=0;l<this.chunk.length;l++){let o=this.chunkPos[l],u=this.chunk[l],h=e.touchesRange(o,o+u.length);if(h===!1)i=Math.max(i,u.maxPoint),n.push(u),r.push(e.mapPos(o));else if(h===!0){let{mapped:d,pos:p}=u.map(o,e);d&&(i=Math.max(i,d.maxPoint),n.push(d),r.push(p))}}let a=this.nextLayer.map(e);return n.length==0?a:new ze(r,n,a||ze.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let a=this.chunkPos[i],l=this.chunk[i];if(n>=a&&e<=a+l.length&&l.between(a,e-a,n-a,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return Yu.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return Yu.from(e).goto(n)}static compare(e,n,r,i,a=-1){let l=e.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=a),o=n.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=a),u=KN(l,o,r),h=new mu(l,u,a),d=new mu(o,u,a);r.iterGaps((p,g,y)=>GN(h,p,d,g,y,i)),r.empty&&r.length==0&&GN(h,0,d,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let a=e.filter(d=>!d.isEmpty&&n.indexOf(d)<0),l=n.filter(d=>!d.isEmpty&&e.indexOf(d)<0);if(a.length!=l.length)return!1;if(!a.length)return!0;let o=KN(a,l),u=new mu(a,o,0).goto(r),h=new mu(l,o,0).goto(r);for(;;){if(u.to!=h.to||!l1(u.active,h.active)||u.point&&(!h.point||!iS(u.point,h.point)))return!1;if(u.to>i)return!0;u.next(),h.next()}}static spans(e,n,r,i,a=-1){let l=new mu(e,null,a).goto(n),o=n,u=l.openStart;for(;;){let h=Math.min(l.to,r);if(l.point){let d=l.activeForPoint(l.to),p=l.pointFrom<n?d.length+1:l.point.startSide<0?d.length:Math.min(d.length,u);i.point(o,h,l.point,d,p,l.pointRank),u=Math.min(l.openEnd(h),d.length)}else h>o&&(i.span(o,h,l.active,u),u=l.openEnd(h));if(l.to>r)return u+(l.point&&l.to>r?1:0);o=l.to,l.next()}}static of(e,n=!1){let r=new oa;for(let i of e instanceof a1?[e]:n?wH(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return ze.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=ze.empty;i=i.nextLayer)n=new ze(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}ze.empty=new ze([],[],null,-1);function wH(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(s1(e,r)>0)return t.slice().sort(s1);e=r}return t}ze.empty.nextLayer=ze.empty;class oa{finishChunk(e){this.chunks.push(new aS(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new oa)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(ze.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=ze.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function KN(t,e,n){let r=new Map;for(let a of t)for(let l=0;l<a.chunk.length;l++)a.chunk[l].maxPoint<=0&&r.set(a.chunk[l],a.chunkPos[l]);let i=new Set;for(let a of e)for(let l=0;l<a.chunk.length;l++){let o=r.get(a.chunk[l]);o!=null&&(n?n.mapPos(o):o)==a.chunkPos[l]&&!n?.touchesRange(o,o+a.chunk[l].length)&&i.add(a.chunk[l])}return i}class A4{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Yu{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let a=0;a<e.length;a++)for(let l=e[a];!l.isEmpty;l=l.nextLayer)l.maxPoint>=r&&i.push(new A4(l,n,r,a));return i.length==1?i[0]:new Yu(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)Ev(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)Ev(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Ev(this.heap,0)}}}function Ev(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class mu{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Yu.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){wd(this.active,e),wd(this.activeTo,e),wd(this.activeRank,e),this.minActive=YN(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:a}=this.cursor;for(;n<this.activeRank.length&&(a-this.activeRank[n]||i-this.activeTo[n])>0;)n++;Sd(this.active,n,r),Sd(this.activeTo,n,i),Sd(this.activeRank,n,a),e&&Sd(e,n,this.cursor.from),this.minActive=YN(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&wd(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let a=this.cursor.value;if(!a.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=a,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=a.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function GN(t,e,n,r,i,a){t.goto(e),n.goto(r);let l=r+i,o=r,u=r-e,h=!!a.boundChange;for(let d=!1;;){let p=t.to+u-n.to,g=p||t.endSide-n.endSide,y=g<0?t.to+u:n.to,w=Math.min(y,l);if(t.point||n.point?(t.point&&n.point&&iS(t.point,n.point)&&l1(t.activeForPoint(t.to),n.activeForPoint(n.to))||a.comparePoint(o,w,t.point,n.point),d=!1):(d&&a.boundChange(o),w>o&&!l1(t.active,n.active)&&a.compareRange(o,w,t.active,n.active),h&&w<l&&(p||t.openEnd(y)!=n.openEnd(y))&&(d=!0)),y>l)break;o=y,g<=0&&t.next(),g>=0&&n.next()}}function l1(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!iS(t[n],e[n]))return!1;return!0}function wd(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function Sd(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function YN(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function ic(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Qt(t,i));return r}function o1(t,e,n,r){for(let i=0,a=0;;){if(a>=e)return i;if(i==t.length)break;a+=t.charCodeAt(i)==9?n-a%n:1,i=Qt(t,i)}return r===!0?-1:t.length}const c1="",QN=typeof Symbol>"u"?"__"+c1:Symbol.for(c1),u1=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),XN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class ps{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(l){return/^@/.test(l)?[l]:l.split(/,\s*/)}function a(l,o,u,h){let d=[],p=/^@(\w+)\b/.exec(l[0]),g=p&&p[1]=="keyframes";if(p&&o==null)return u.push(l[0]+";");for(let y in o){let w=o[y];if(/&/.test(y))a(y.split(/,\s*/).map(C=>l.map(S=>C.replace(/&/,S))).reduce((C,S)=>C.concat(S)),w,u);else if(w&&typeof w=="object"){if(!p)throw new RangeError("The value of a property ("+y+") should be a primitive value.");a(i(y),w,d,g)}else w!=null&&d.push(y.replace(/_.*/,"").replace(/[A-Z]/g,C=>"-"+C.toLowerCase())+": "+w+";")}(d.length||g)&&u.push((r&&!p&&!h?l.map(r):l).join(", ")+" {"+d.join(" ")+"}")}for(let l in e)a(i(l),e[l],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=XN[QN]||1;return XN[QN]=e+1,c1+e.toString(36)}static mount(e,n,r){let i=e[u1],a=r&&r.nonce;i?a&&i.setNonce(a):i=new SH(e,a),i.mount(Array.isArray(n)?n:[n],e)}}let ZN=new Map;class SH{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let a=ZN.get(r);if(a)return e[u1]=a;this.sheet=new i.CSSStyleSheet,ZN.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[u1]=this}mount(e,n){let r=this.sheet,i=0,a=0;for(let l=0;l<e.length;l++){let o=e[l],u=this.modules.indexOf(o);if(u<a&&u>-1&&(this.modules.splice(u,1),a--,u=-1),u==-1){if(this.modules.splice(a++,0,o),r)for(let h=0;h<o.rules.length;h++)r.insertRule(o.rules[h],i++)}else{for(;a<u;)i+=this.modules[a++].rules.length;i+=o.rules.length,a++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let l="";for(let u=0;u<this.modules.length;u++)l+=this.modules[u].getRules()+`
`;this.styleTag.textContent=l;let o=n.head||n;this.styleTag.parentNode!=o&&o.insertBefore(this.styleTag,o.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var gs={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Qu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},CH=typeof navigator<"u"&&/Mac/.test(navigator.platform),OH=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var hn=0;hn<10;hn++)gs[48+hn]=gs[96+hn]=String(hn);for(var hn=1;hn<=24;hn++)gs[hn+111]="F"+hn;for(var hn=65;hn<=90;hn++)gs[hn]=String.fromCharCode(hn+32),Qu[hn]=String.fromCharCode(hn);for(var Tv in gs)Qu.hasOwnProperty(Tv)||(Qu[Tv]=gs[Tv]);function kH(t){var e=CH&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||OH&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Qu:gs)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function nt(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)N4(t,arguments[e]);return t}function N4(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)N4(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}let An=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},f1=typeof document<"u"?document:{documentElement:{style:{}}};const h1=/Edge\/(\d+)/.exec(An.userAgent),j4=/MSIE \d/.test(An.userAgent),d1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(An.userAgent),ng=!!(j4||d1||h1),JN=!ng&&/gecko\/(\d+)/i.test(An.userAgent),Mv=!ng&&/Chrome\/(\d+)/.exec(An.userAgent),AH="webkitFontSmoothing"in f1.documentElement.style,m1=!ng&&/Apple Computer/.test(An.vendor),ej=m1&&(/Mobile\/\w+/.test(An.userAgent)||An.maxTouchPoints>2);var ge={mac:ej||/Mac/.test(An.platform),windows:/Win/.test(An.platform),linux:/Linux|X11/.test(An.platform),ie:ng,ie_version:j4?f1.documentMode||6:d1?+d1[1]:h1?+h1[1]:0,gecko:JN,gecko_version:JN?+(/Firefox\/(\d+)/.exec(An.userAgent)||[0,0])[1]:0,chrome:!!Mv,chrome_version:Mv?+Mv[1]:0,ios:ej,android:/Android\b/.test(An.userAgent),webkit_version:AH?+(/\bAppleWebKit\/(\d+)/.exec(An.userAgent)||[0,0])[1]:0,safari:m1,safari_version:m1?+(/\bVersion\/(\d+(\.\d+)?)/.exec(An.userAgent)||[0,0])[1]:0,tabSize:f1.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function sS(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const km=Object.create(null);function lS(t,e,n){if(t==e)return!0;t||(t=km),e||(e=km);let r=Object.keys(t),i=Object.keys(e);if(r.length-0!=i.length-0)return!1;for(let a of r)if(a!=n&&(i.indexOf(a)==-1||t[a]!==e[a]))return!1;return!0}function NH(t,e){for(let n=t.attributes.length-1;n>=0;n--){let r=t.attributes[n].name;e[r]==null&&t.removeAttribute(r)}for(let n in e){let r=e[n];n=="style"?t.style.cssText=r:t.getAttribute(n)!=r&&t.setAttribute(n,r)}}function tj(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function jH(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class _i{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var mn=(function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t})(mn||(mn={}));class ke extends ms{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Mf(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new ml(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:a,end:l}=E4(e,n);r=(a?n?-3e8:-1:5e8)-1,i=(l?n?2e8:1:-6e8)+1}return new ml(e,r,i,n,e.widget||null,!0)}static line(e){return new Df(e)}static set(e,n=!1){return ze.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ke.none=ze.empty;class Mf extends ke{constructor(e){let{start:n,end:r}=E4(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?sS(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||km}eq(e){return this==e||e instanceof Mf&&this.tagName==e.tagName&&lS(this.attrs,e.attrs)}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}Mf.prototype.point=!1;class Df extends ke{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Df&&this.spec.class==e.spec.class&&lS(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}Df.prototype.mapMode=Nn.TrackBefore;Df.prototype.point=!0;class ml extends ke{constructor(e,n,r,i,a,l){super(n,r,a,e),this.block=i,this.isReplace=l,this.mapMode=i?n<=0?Nn.TrackBefore:Nn.TrackAfter:Nn.TrackDel}get type(){return this.startSide!=this.endSide?mn.WidgetRange:this.startSide<=0?mn.WidgetBefore:mn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof ml&&EH(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}ml.prototype.point=!0;function E4(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function EH(t,e){return t==e||!!(t&&e&&t.compare(e))}function To(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class Xu extends ms{constructor(e,n){super(),this.tagName=e,this.attributes=n}eq(e){return e==this||e instanceof Xu&&this.tagName==e.tagName&&lS(this.attributes,e.attributes)}static create(e){return new Xu(e.tagName,e.attributes||km)}static set(e,n=!1){return ze.of(e,n)}}Xu.prototype.startSide=Xu.prototype.endSide=-1;function Zu(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function p1(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function Iu(t,e){if(!e.anchorNode)return!1;try{return p1(t,e.anchorNode)}catch{return!1}}function Uu(t){return t.nodeType==3?ef(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Hu(t,e,n,r){return n?nj(t,e,n,r,-1)||nj(t,e,n,r,1):!1}function ys(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Am(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function nj(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:ca(t))){if(t.nodeName=="DIV")return!1;let a=t.parentNode;if(!a||a.nodeType!=1)return!1;e=ys(t)+(i<0?0:1),t=a}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?ca(t):0}else return!1}}function ca(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ju(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function TH(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function T4(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function MH(t,e,n,r,i,a,l,o){let u=t.ownerDocument,h=u.defaultView||window;for(let d=t,p=!1;d&&!p;)if(d.nodeType==1){let g,y=d==u.body,w=1,C=1;if(y)g=TH(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(d).position)&&(p=!0),d.scrollHeight<=d.clientHeight&&d.scrollWidth<=d.clientWidth){d=d.assignedSlot||d.parentNode;continue}let j=d.getBoundingClientRect();({scaleX:w,scaleY:C}=T4(d,j)),g={left:j.left,right:j.left+d.clientWidth*w,top:j.top,bottom:j.top+d.clientHeight*C}}let S=0,k=0;if(i=="nearest")e.top<g.top?(k=e.top-(g.top+l),n>0&&e.bottom>g.bottom+k&&(k=e.bottom-g.bottom+l)):e.bottom>g.bottom&&(k=e.bottom-g.bottom+l,n<0&&e.top-k<g.top&&(k=e.top-(g.top+l)));else{let j=e.bottom-e.top,N=g.bottom-g.top;k=(i=="center"&&j<=N?e.top+j/2-N/2:i=="start"||i=="center"&&n<0?e.top-l:e.bottom-N+l)-g.top}if(r=="nearest"?e.left<g.left?(S=e.left-(g.left+a),n>0&&e.right>g.right+S&&(S=e.right-g.right+a)):e.right>g.right&&(S=e.right-g.right+a,n<0&&e.left<g.left+S&&(S=e.left-(g.left+a))):S=(r=="center"?e.left+(e.right-e.left)/2-(g.right-g.left)/2:r=="start"==o?e.left-a:e.right-(g.right-g.left)+a)-g.left,S||k)if(y)h.scrollBy(S,k);else{let j=0,N=0;if(k){let M=d.scrollTop;d.scrollTop+=k/C,N=(d.scrollTop-M)*C}if(S){let M=d.scrollLeft;d.scrollLeft+=S/w,j=(d.scrollLeft-M)*w}e={left:e.left-j,top:e.top-N,right:e.right-j,bottom:e.bottom-N},j&&Math.abs(j-S)<1&&(r="nearest"),N&&Math.abs(N-k)<1&&(i="nearest")}if(y)break;(e.top<g.top||e.bottom>g.bottom||e.left<g.left||e.right>g.right)&&(e={left:Math.max(e.left,g.left),right:Math.min(e.right,g.right),top:Math.max(e.top,g.top),bottom:Math.min(e.bottom,g.bottom)}),d=d.assignedSlot||d.parentNode}else if(d.nodeType==11)d=d.host;else break}function DH(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class PH{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?ca(n):0),r,Math.min(e.focusOffset,r?ca(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let Ys=null;ge.safari&&ge.safari_version>=26&&(Ys=!1);function M4(t){if(t.setActive)return t.setActive();if(Ys)return t.focus(Ys);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(Ys==null?{get preventScroll(){return Ys={preventScroll:!0},!0}}:void 0),!Ys){Ys=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],a=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=a&&(r.scrollLeft=a)}}}let rj;function ef(t,e,n=e){let r=rj||(rj=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Mo(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let a=new KeyboardEvent("keydown",i);a.synthetic=!0,t.dispatchEvent(a);let l=new KeyboardEvent("keyup",i);return l.synthetic=!0,t.dispatchEvent(l),a.defaultPrevented||l.defaultPrevented}function _H(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function RH(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,ca(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=ca(n))}else{if(n==t)return!0;r=ys(n),n=n.parentNode}}function D4(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function P4(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=ca(n)}else if(n.parentNode&&!Am(n))r=ys(n),n=n.parentNode;else return null}}function _4(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!Am(n))r=ys(n)+1,n=n.parentNode;else return null}}class Yr{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Yr(e.parentNode,ys(e),n)}static after(e,n){return new Yr(e.parentNode,ys(e)+1,n)}}var st=(function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t})(st||(st={}));const pl=st.LTR,oS=st.RTL;function R4(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const LH=R4("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),BH=R4("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),g1=Object.create(null),oi=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);g1[e]=n,g1[n]=-e}function L4(t){return t<=247?LH[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?BH[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const zH=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class bi{get dir(){return this.level%2?oS:pl}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let a=-1;for(let l=0;l<e.length;l++){let o=e[l];if(o.from<=n&&o.to>=n){if(o.level==r)return l;(a<0||(i!=0?i<0?o.from<n:o.to>n:e[a].level>o.level))&&(a=l)}}if(a<0)throw new RangeError("Index out of range");return a}}function B4(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!B4(r.inner,i.inner))return!1}return!0}const at=[];function IH(t,e,n,r,i){for(let a=0;a<=r.length;a++){let l=a?r[a-1].to:e,o=a<r.length?r[a].from:n,u=a?256:i;for(let h=l,d=u,p=u;h<o;h++){let g=L4(t.charCodeAt(h));g==512?g=d:g==8&&p==4&&(g=16),at[h]=g==4?2:g,g&7&&(p=g),d=g}for(let h=l,d=u,p=u;h<o;h++){let g=at[h];if(g==128)h<o-1&&d==at[h+1]&&d&24?g=at[h]=d:at[h]=256;else if(g==64){let y=h+1;for(;y<o&&at[y]==64;)y++;let w=h&&d==8||y<n&&at[y]==8?p==1?1:8:256;for(let C=h;C<y;C++)at[C]=w;h=y-1}else g==8&&p==1&&(at[h]=1);d=g,g&7&&(p=g)}}}function UH(t,e,n,r,i){let a=i==1?2:1;for(let l=0,o=0,u=0;l<=r.length;l++){let h=l?r[l-1].to:e,d=l<r.length?r[l].from:n;for(let p=h,g,y,w;p<d;p++)if(y=g1[g=t.charCodeAt(p)])if(y<0){for(let C=o-3;C>=0;C-=3)if(oi[C+1]==-y){let S=oi[C+2],k=S&2?i:S&4?S&1?a:i:0;k&&(at[p]=at[oi[C]]=k),o=C;break}}else{if(oi.length==189)break;oi[o++]=p,oi[o++]=g,oi[o++]=u}else if((w=at[p])==2||w==1){let C=w==i;u=C?0:1;for(let S=o-3;S>=0;S-=3){let k=oi[S+2];if(k&2)break;if(C)oi[S+2]|=2;else{if(k&4)break;oi[S+2]|=4}}}}}function HH(t,e,n,r){for(let i=0,a=r;i<=n.length;i++){let l=i?n[i-1].to:t,o=i<n.length?n[i].from:e;for(let u=l;u<o;){let h=at[u];if(h==256){let d=u+1;for(;;)if(d==o){if(i==n.length)break;d=n[i++].to,o=i<n.length?n[i].from:e}else if(at[d]==256)d++;else break;let p=a==1,g=(d<e?at[d]:r)==1,y=p==g?p?1:2:r;for(let w=d,C=i,S=C?n[C-1].to:t;w>u;)w==S&&(w=n[--C].from,S=C?n[C-1].to:t),at[--w]=y;u=d}else a=h,u++}}}function y1(t,e,n,r,i,a,l){let o=r%2?2:1;if(r%2==i%2)for(let u=e,h=0;u<n;){let d=!0,p=!1;if(h==a.length||u<a[h].from){let C=at[u];C!=o&&(d=!1,p=C==16)}let g=!d&&o==1?[]:null,y=d?r:r+1,w=u;e:for(;;)if(h<a.length&&w==a[h].from){if(p)break e;let C=a[h];if(!d)for(let S=C.to,k=h+1;;){if(S==n)break e;if(k<a.length&&a[k].from==S)S=a[k++].to;else{if(at[S]==o)break e;break}}if(h++,g)g.push(C);else{C.from>u&&l.push(new bi(u,C.from,y));let S=C.direction==pl!=!(y%2);v1(t,S?r+1:r,i,C.inner,C.from,C.to,l),u=C.to}w=C.to}else{if(w==n||(d?at[w]!=o:at[w]==o))break;w++}g?y1(t,u,w,r+1,i,g,l):u<w&&l.push(new bi(u,w,y)),u=w}else for(let u=n,h=a.length;u>e;){let d=!0,p=!1;if(!h||u>a[h-1].to){let C=at[u-1];C!=o&&(d=!1,p=C==16)}let g=!d&&o==1?[]:null,y=d?r:r+1,w=u;e:for(;;)if(h&&w==a[h-1].to){if(p)break e;let C=a[--h];if(!d)for(let S=C.from,k=h;;){if(S==e)break e;if(k&&a[k-1].to==S)S=a[--k].from;else{if(at[S-1]==o)break e;break}}if(g)g.push(C);else{C.to<u&&l.push(new bi(C.to,u,y));let S=C.direction==pl!=!(y%2);v1(t,S?r+1:r,i,C.inner,C.from,C.to,l),u=C.from}w=C.from}else{if(w==e||(d?at[w-1]!=o:at[w-1]==o))break;w--}g?y1(t,w,u,r+1,i,g,l):w<u&&l.push(new bi(w,u,y)),u=w}}function v1(t,e,n,r,i,a,l){let o=e%2?2:1;IH(t,i,a,r,o),UH(t,i,a,r,o),HH(i,a,r,o),y1(t,i,a,e,n,r,l)}function qH(t,e,n){if(!t)return[new bi(0,0,e==oS?1:0)];if(e==pl&&!n.length&&!zH.test(t))return z4(t.length);if(n.length)for(;t.length>at.length;)at[at.length]=256;let r=[],i=e==pl?0:1;return v1(t,i,i,n,0,t.length,r),r}function z4(t){return[new bi(0,t,0)]}let I4="";function $H(t,e,n,r,i){var a;let l=r.head-t.from,o=bi.find(e,l,(a=r.bidiLevel)!==null&&a!==void 0?a:-1,r.assoc),u=e[o],h=u.side(i,n);if(l==h){let g=o+=i?1:-1;if(g<0||g>=e.length)return null;u=e[o=g],l=u.side(!i,n),h=u.side(i,n)}let d=Qt(t.text,l,u.forward(i,n));(d<u.from||d>u.to)&&(d=h),I4=t.text.slice(Math.min(l,d),Math.max(l,d));let p=o==(i?e.length-1:0)?null:e[o+(i?1:-1)];return p&&d==h&&p.level+(i?0:1)<u.level?ae.cursor(p.side(!i,n)+t.from,p.forward(i,n)?1:-1,p.level):ae.cursor(d+t.from,u.forward(i,n)?-1:1,u.level)}function VH(t,e,n){for(let r=e;r<n;r++){let i=L4(t.charCodeAt(r));if(i==1)return pl;if(i==2||i==4)return oS}return pl}const U4=ye.define(),H4=ye.define(),q4=ye.define(),$4=ye.define(),b1=ye.define(),V4=ye.define(),W4=ye.define(),cS=ye.define(),uS=ye.define(),F4=ye.define({combine:t=>t.some(e=>e)}),K4=ye.define({combine:t=>t.some(e=>e)}),G4=ye.define();class Do{constructor(e,n="nearest",r="nearest",i=5,a=5,l=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=a,this.isSnapshot=l}map(e){return e.empty?this:new Do(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Do(ae.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Cd=Te.define({map:(t,e)=>t.map(e)}),Y4=Te.define();function Wn(t,e,n){let r=t.facet($4);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const na=ye.define({combine:t=>t.length?t[0]:!0});let WH=0;const Co=ye.define({combine(t){return t.filter((e,n)=>{for(let r=0;r<n;r++)if(t[r].plugin==e.plugin)return!1;return!0})}});class Tt{constructor(e,n,r,i,a){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=a(this),this.extension=this.baseExtensions.concat(Co.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Co.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:a,decorations:l}=n||{};return new Tt(WH++,e,r,i,o=>{let u=[];return l&&u.push(rg.of(h=>{let d=h.plugin(o);return d?l(d):ke.none})),a&&u.push(a(o)),u})}static fromClass(e,n){return Tt.define((r,i)=>new e(r,i),n)}}class Dv{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(Wn(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){Wn(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){Wn(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Q4=ye.define(),fS=ye.define(),rg=ye.define(),X4=ye.define(),hS=ye.define(),Pf=ye.define(),Z4=ye.define();function ij(t,e){let n=t.state.facet(Z4);if(!n.length)return n;let r=n.map(a=>a instanceof Function?a(t):a),i=[];return ze.spans(r,e.from,e.to,{point(){},span(a,l,o,u){let h=a-e.from,d=l-e.from,p=i;for(let g=o.length-1;g>=0;g--,u--){let y=o[g].spec.bidiIsolate,w;if(y==null&&(y=VH(e.text,h,d)),u>0&&p.length&&(w=p[p.length-1]).to==h&&w.direction==y)w.to=d,p=w.inner;else{let C={from:h,to:d,direction:y,inner:[]};p.push(C),p=C.inner}}}}),i}const J4=ye.define();function dS(t){let e=0,n=0,r=0,i=0;for(let a of t.state.facet(J4)){let l=a(t);l&&(l.left!=null&&(e=Math.max(e,l.left)),l.right!=null&&(n=Math.max(n,l.right)),l.top!=null&&(r=Math.max(r,l.top)),l.bottom!=null&&(i=Math.max(i,l.bottom)))}return{left:e,right:n,top:r,bottom:i}}const Eu=ye.define();class Mr{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new Mr(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,a=0,l=0;;){let o=i<e.length?e[i].fromB:1e9,u=a<n.length?n[a]:1e9,h=Math.min(o,u);if(h==1e9)break;let d=h+l,p=h,g=d;for(;;)if(a<n.length&&n[a]<=p){let y=n[a+1];a+=2,p=Math.max(p,y);for(let w=i;w<e.length&&e[w].fromB<=p;w++)l=e[w].toA-e[w].toB;g=Math.max(g,y+l)}else if(i<e.length&&e[i].fromB<=p){let y=e[i++];p=Math.max(p,y.toB),g=Math.max(g,y.toA),l=y.toA-y.toB}else break;r.push(new Mr(d,g,h,p))}return r}}class Nm{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Ut.empty(this.startState.doc.length);for(let a of r)this.changes=this.changes.compose(a.changes);let i=[];this.changes.iterChangedRanges((a,l,o,u)=>i.push(new Mr(a,l,o,u))),this.changedRanges=i}static create(e,n,r){return new Nm(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const FH=[];class Rt{constructor(e,n,r=0){this.dom=e,this.length=n,this.flags=r,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return FH}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let n=this.domAttrs;n&&NH(this.dom,n)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,n=this.posAtStart){let r=n;for(let i of this.children){if(i==e)return r;r+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,n){return null}domPosFor(e,n){let r=ys(this.dom),i=this.length?e>0:n>0;return new Yr(this.parent.dom,r+(i?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof ag)return e;return null}static get(e){return e.cmTile}}class ig extends Rt{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let n=this.dom,r=null,i,a=e?.node==n?e:null,l=0;for(let o of this.children){if(o.sync(e),l+=o.length+o.breakAfter,i=r?r.nextSibling:n.firstChild,a&&i!=o.dom&&(a.written=!0),o.dom.parentNode==n)for(;i&&i!=o.dom;)i=aj(i);else n.insertBefore(o.dom,i);r=o.dom}for(i=r?r.nextSibling:n.firstChild,a&&i&&(a.written=!0);i;)i=aj(i);this.length=l}}function aj(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class ag extends ig{constructor(e,n){super(n),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let n=Rt.get(e);if(n&&this.owns(n))return n;e=e.parentNode}}blockTiles(e){for(let n=[],r=this,i=0,a=0;;)if(i==r.children.length){if(!n.length)return;r=r.parent,r.breakAfter&&a++,i=n.pop()}else{let l=r.children[i++];if(l instanceof cs)n.push(i),r=l,i=0;else{let o=a+l.length,u=e(l,a);if(u!==void 0)return u;a=o+l.breakAfter}}}resolveBlock(e,n){let r,i=-1,a,l=-1;if(this.blockTiles((o,u)=>{let h=u+o.length;if(e>=u&&e<=h){if(o.isWidget()&&n>=-1&&n<=1){if(o.flags&32)return!0;o.flags&16&&(r=void 0)}(u<e||e==h&&(n<-1?o.length:o.covers(1)))&&(!r||!o.isWidget()&&r.isWidget())&&(r=o,i=e-u),(h>e||e==u&&(n>1?o.length:o.covers(-1)))&&(!a||!o.isWidget()&&a.isWidget())&&(a=o,l=e-u)}}),!r&&!a)throw new Error("No tile at position "+e);return r&&n<0||!a?{tile:r,offset:i}:{tile:a,offset:l}}}class cs extends ig{constructor(e,n){super(e),this.wrapper=n}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,n){let r=new cs(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class qo extends ig{constructor(e,n){super(e),this.attrs=n}isLine(){return!0}static start(e,n,r){let i=new qo(n||document.createElement("div"),e);return(!n||!r)&&(i.flags|=4),i}get domAttrs(){return this.attrs}resolveInline(e,n,r){let i=null,a=-1,l=null,o=-1;function u(d,p){for(let g=0,y=0;g<d.children.length&&y<=p;g++){let w=d.children[g],C=y+w.length;C>=p&&(w.isComposite()?u(w,p-y):(!l||l.isHidden&&(n>0||r&&GH(l,w)))&&(C>p||w.flags&32)?(l=w,o=p-y):(y<p||w.flags&16&&!w.isHidden)&&(i=w,a=p-y)),y=C}}u(this,e);let h=(n<0?i:l)||i||l;return h?{tile:h,offset:h==i?a:o}:null}coordsIn(e,n){let r=this.resolveInline(e,n,!0);return r?r.tile.coordsIn(Math.max(0,r.offset),n):KH(this)}domIn(e,n){let r=this.resolveInline(e,n);if(r){let{tile:i,offset:a}=r;if(this.dom.contains(i.dom))return i.isText()?new Yr(i.dom,Math.min(i.dom.nodeValue.length,a)):i.domPosFor(a,i.flags&16?1:i.flags&32?-1:n);let l=r.tile.parent,o=!1;for(let u of l.children){if(o)return new Yr(u.dom,0);u==r.tile&&(o=!0)}}return new Yr(this.dom,0)}}function KH(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=Uu(e);return n[n.length-1]||null}function GH(t,e){let n=t.coordsIn(0,1),r=e.coordsIn(0,1);return n&&r&&r.top<n.bottom}class $n extends ig{constructor(e,n){super(e),this.mark=n}get domAttrs(){return this.mark.attrs}static of(e,n){let r=new $n(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class rl extends Rt{constructor(e,n){super(e,n.length),this.text=n}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,n){let r=this.dom.nodeValue.length;e>r&&(e=r);let i=e,a=e,l=0;e==0&&n<0||e==r&&n>=0?ge.chrome||ge.gecko||(e?(i--,l=1):a<r&&(a++,l=-1)):n<0?i--:a<r&&a++;let o=ef(this.dom,i,a).getClientRects();if(!o.length)return null;let u=o[(l?l<0:n>=0)?0:o.length-1];return ge.safari&&!l&&u.width==0&&(u=Array.prototype.find.call(o,h=>h.width)||u),l?Ju(u,l<0):u||null}static of(e,n){let r=new rl(n||document.createTextNode(e),e);return n||(r.flags|=2),r}}class gl extends Rt{constructor(e,n,r,i){super(e,n,i),this.widget=r}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,n){return this.coordsInWidget(e,n,!1)}coordsInWidget(e,n,r){let i=this.widget.coordsAt(this.dom,e,n);if(i)return i;if(r)return Ju(this.dom.getBoundingClientRect(),this.length?e==0:n<=0);{let a=this.dom.getClientRects(),l=null;if(!a.length)return null;let o=this.flags&16?!0:this.flags&32?!1:e>0;for(let u=o?a.length-1:0;l=a[u],!(e>0?u==0:u==a.length-1||l.top<l.bottom);u+=o?-1:1);return Ju(l,!o)}}get overrideDOMText(){if(!this.length)return Ye.empty;let{root:e}=this;if(!e)return Ye.empty;let n=this.posAtStart;return e.view.state.doc.slice(n,n+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,n,r,i,a){return a||(a=e.toDOM(n),e.editable||(a.contentEditable="false")),new gl(a,r,e,i)}}class jm extends Rt{constructor(e){let n=document.createElement("img");n.className="cm-widgetBuffer",n.setAttribute("aria-hidden","true"),super(n,0,e)}get isHidden(){return!0}get overrideDOMText(){return Ye.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class YH{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,n,r){let{tile:i,index:a,beforeBreak:l,parents:o}=this;for(;e||n>0;)if(i.isComposite())if(l){if(!e)break;r&&r.break(),e--,l=!1}else if(a==i.children.length){if(!e&&!o.length)break;r&&r.leave(i),l=!!i.breakAfter,{tile:i,index:a}=o.pop(),a++}else{let u=i.children[a],h=u.breakAfter;(n>0?u.length<=e:u.length<e)&&(!r||r.skip(u,0,u.length)!==!1||!u.isComposite)?(l=!!h,a++,e-=u.length):(o.push({tile:i,index:a}),i=u,a=0,r&&u.isComposite()&&r.enter(u))}else if(a==i.length)l=!!i.breakAfter,{tile:i,index:a}=o.pop(),a++;else if(e){let u=Math.min(e,i.length-a);r&&r.skip(i,a,a+u),e-=u,a+=u}else break;return this.tile=i,this.index=a,this.beforeBreak=l,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class QH{constructor(e,n,r,i){this.from=e,this.to=n,this.wrapper=r,this.rank=i}}class XH{constructor(e,n,r){this.cache=e,this.root=n,this.blockWrappers=r,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,n,r,i){var a;this.flushBuffer();let l=this.ensureMarks(n,r),o=l.lastChild;if(o&&o.isText()&&!(o.flags&8)&&o.length+e.length<512){this.cache.reused.set(o,2);let u=l.children[l.children.length-1]=new rl(o.dom,o.text+e);u.parent=l}else l.append(i||rl.of(e,(a=this.cache.find(rl))===null||a===void 0?void 0:a.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,n){let r=this.curLine;r.dom!=n.line.dom&&(r.setDOM(this.cache.reused.has(n.line)?Pv(n.line.dom):n.line.dom),this.cache.reused.set(n.line,2));let i=r;for(let o=n.marks.length-1;o>=0;o--){let u=n.marks[o],h=i.lastChild;if(h instanceof $n&&h.mark.eq(u.mark))h.dom!=u.dom&&h.setDOM(Pv(u.dom)),i=h;else{if(this.cache.reused.get(u)){let p=Rt.get(u.dom);p&&p.setDOM(Pv(u.dom))}let d=$n.of(u.mark,u.dom);i.append(d),i=d}this.cache.reused.set(u,2)}let a=Rt.get(e.text);a&&this.cache.reused.set(a,2);let l=new rl(e.text,e.text.nodeValue);l.flags|=8,i.append(l)}addInlineWidget(e,n,r){let i=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);i||this.flushBuffer();let a=this.ensureMarks(n,r);!i&&!(e.flags&16)&&a.append(this.getBuffer(1)),a.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,n,r){this.flushBuffer(),this.ensureMarks(n,r).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let n=this.afterWidget||this.lastBlock;n.length+=e,this.pos+=e}addLineStart(e,n){var r;e||(e=e_);let i=qo.start(e,n||((r=this.cache.find(qo))===null||r===void 0?void 0:r.dom),!!n);this.getBlockPos().append(this.lastBlock=this.curLine=i)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,n){var r;let i=this.curLine;for(let a=e.length-1;a>=0;a--){let l=e[a],o;if(n>0&&(o=i.lastChild)&&o instanceof $n&&o.mark.eq(l))i=o,n--;else{let u=$n.of(l,(r=this.cache.find($n,h=>h.mark.eq(l)))===null||r===void 0?void 0:r.dom);i.append(u),i=u,n=0}}return i}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!sj(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(ge.ios&&sj(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(_v,0,32)||new gl(_v.toDOM(),0,_v,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let n=new QH(e.from,e.to,e.value,e.rank),r=this.wrappers.length;for(;r>0&&(this.wrappers[r-1].rank-n.rank||this.wrappers[r-1].to-n.to)<0;)r--;this.wrappers.splice(r,0,n)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let n=this.root;for(let r of this.wrappers){let i=n.lastChild;if(r.from<this.pos&&i instanceof cs&&i.wrapper.eq(r.wrapper))n=i;else{let a=cs.of(r.wrapper,(e=this.cache.find(cs,l=>l.wrapper.eq(r.wrapper)))===null||e===void 0?void 0:e.dom);n.append(a),n=a}}return n}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let n=2|(e<0?16:32),r=this.cache.find(jm,void 0,1);return r&&(r.flags=n),r||new jm(n)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class ZH{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:i,lineBreak:a,done:l}=this.cursor.next(this.skipCount);if(this.skipCount=0,l)throw new Error("Ran out of text content when drawing inline views");this.text=i;let o=this.textOff=Math.min(e,i.length);return a?null:i.slice(0,o)}let n=Math.min(this.text.length,this.textOff+e),r=this.text.slice(this.textOff,n);return this.textOff=n,r}}const Em=[gl,qo,rl,$n,jm,cs,ag];for(let t=0;t<Em.length;t++)Em[t].bucket=t;class JH{constructor(e){this.view=e,this.buckets=Em.map(()=>[]),this.index=Em.map(()=>0),this.reused=new Map}add(e){let n=e.constructor.bucket,r=this.buckets[n];r.length<6?r.push(e):r[this.index[n]=(this.index[n]+1)%6]=e}find(e,n,r=2){let i=e.bucket,a=this.buckets[i],l=this.index[i];for(let o=a.length-1;o>=0;o--){let u=(o+l)%a.length,h=a[u];if((!n||n(h))&&!this.reused.has(h))return a.splice(u,1),u<l&&this.index[i]--,this.reused.set(h,r),h}return null}findWidget(e,n,r){let i=this.buckets[0];if(i.length)for(let a=0,l=0;;a++){if(a==i.length){if(l)return null;l=1,a=0}let o=i[a];if(!this.reused.has(o)&&(l==0?o.widget.compare(e):o.widget.constructor==e.constructor&&e.updateDOM(o.dom,this.view)))return i.splice(a,1),a<this.index[0]&&this.index[0]--,o.widget==e&&o.length==n&&(o.flags&497)==r?(this.reused.set(o,1),o):(this.reused.set(o,2),new gl(o.dom,n,e,o.flags&-498|r))}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,n=2){if(!this.reused.has(e))return this.reused.set(e,n),e.dom}clear(){for(let e=0;e<this.buckets.length;e++)this.buckets[e].length=this.index[e]=0}}class eq{constructor(e,n,r,i,a){this.view=e,this.decorations=i,this.disallowBlockEffectsFor=a,this.openWidget=!1,this.openMarks=0,this.cache=new JH(e),this.text=new ZH(e.state.doc),this.builder=new XH(this.cache,new ag(e,e.contentDOM),ze.iter(r)),this.cache.reused.set(n,2),this.old=new YH(n),this.reuseWalker={skip:(l,o,u)=>{if(this.cache.add(l),l.isComposite())return!1},enter:l=>this.cache.add(l),leave:()=>{},break:()=>{}}}run(e,n){let r=n&&this.getCompositionContext(n.text);for(let i=0,a=0,l=0;;){let o=l<e.length?e[l++]:null,u=o?o.fromA:this.old.root.length;if(u>i){let h=u-i;this.preserve(h,!l,!o),i=u,a+=h}if(!o)break;n&&o.fromA<=n.range.fromA&&o.toA>=n.range.toA?(this.forward(o.fromA,n.range.fromA,n.range.fromA<n.range.toA?1:-1),this.emit(a,n.range.fromB),this.cache.clear(),this.builder.addComposition(n,r),this.text.skip(n.range.toB-n.range.fromB),this.forward(n.range.fromA,o.toA),this.emit(n.range.toB,o.toB)):(this.forward(o.fromA,o.toA),this.emit(a,o.toB)),a=o.toB,i=o.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,n,r){let i=rq(this.old),a=this.openMarks;this.old.advance(e,r?1:-1,{skip:(l,o,u)=>{if(l.isWidget())if(this.openWidget)this.builder.continueWidget(u-o);else{let h=u>0||o<l.length?gl.of(l.widget,this.view,u-o,l.flags&496,this.cache.maybeReuse(l)):this.cache.reuse(l);h.flags&256?(h.flags&=-2,this.builder.addBlockWidget(h)):(this.builder.ensureLine(null),this.builder.addInlineWidget(h,i,a),a=i.length)}else if(l.isText())this.builder.ensureLine(null),!o&&u==l.length?this.builder.addText(l.text,i,a,this.cache.reuse(l)):(this.cache.add(l),this.builder.addText(l.text.slice(o,u),i,a)),a=i.length;else if(l.isLine())l.flags&=-2,this.cache.reused.set(l,1),this.builder.addLine(l);else if(l instanceof jm)this.cache.add(l);else if(l instanceof $n)this.builder.ensureLine(null),this.builder.addMark(l,i,a),this.cache.reused.set(l,1),a=i.length;else return!1;this.openWidget=!1},enter:l=>{l.isLine()?this.builder.addLineStart(l.attrs,this.cache.maybeReuse(l)):(this.cache.add(l),l instanceof $n&&i.unshift(l.mark)),this.openWidget=!1},leave:l=>{l.isLine()?i.length&&(i.length=a=0):l instanceof $n&&(i.shift(),a=Math.min(a,i.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,n){let r=null,i=this.builder,a=0,l=ze.spans(this.decorations,e,n,{point:(o,u,h,d,p,g)=>{if(h instanceof ml){if(this.disallowBlockEffectsFor[g]){if(h.block)throw new RangeError("Block decorations may not be specified via plugins");if(u>this.view.state.doc.lineAt(o).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(a=d.length,p>d.length)i.continueWidget(u-o);else{let y=h.widget||(h.block?$o.block:$o.inline),w=tq(h),C=this.cache.findWidget(y,u-o,w)||gl.of(y,this.view,u-o,w);h.block?(h.startSide>0&&i.addLineStartIfNotCovered(r),i.addBlockWidget(C)):(i.ensureLine(r),i.addInlineWidget(C,d,p))}r=null}else r=nq(r,h);u>o&&this.text.skip(u-o)},span:(o,u,h,d)=>{for(let p=o;p<u;){let g=this.text.next(Math.min(512,u-p));g==null?(i.addLineStartIfNotCovered(r),i.addBreak(),p++):(i.ensureLine(r),i.addText(g,h,p==o?d:h.length),p+=g.length),r=null}}});i.addLineStartIfNotCovered(r),this.openWidget=l>a,this.openMarks=l}forward(e,n,r=1){n-e<=10?this.old.advance(n-e,r,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(n-e-10,-1),this.old.advance(5,r,this.reuseWalker))}getCompositionContext(e){let n=[],r=null;for(let i=e.parentNode;;i=i.parentNode){let a=Rt.get(i);if(i==this.view.contentDOM)break;a instanceof $n?n.push(a):a?.isLine()?r=a:i.nodeName=="DIV"&&!r&&i!=this.view.contentDOM?r=new qo(i,e_):n.push($n.of(new Mf({tagName:i.nodeName.toLowerCase(),attributes:jH(i)}),i))}return{line:r,marks:n}}}function sj(t,e){let n=r=>{for(let i of r.children)if((e?i.isText():i.length)||n(i))return!0;return!1};return n(t)}function tq(t){let e=t.isReplace?(t.startSide<0?64:0)|(t.endSide>0?128:0):t.startSide>0?32:16;return t.block&&(e|=256),e}const e_={class:"cm-line"};function nq(t,e){let n=e.spec.attributes,r=e.spec.class;return!n&&!r||(t||(t={class:"cm-line"}),n&&sS(n,t),r&&(t.class+=" "+r)),t}function rq(t){let e=[];for(let n=t.parents.length;n>1;n--){let r=n==t.parents.length?t.tile:t.parents[n].tile;r instanceof $n&&e.push(r.mark)}return e}function Pv(t){let e=Rt.get(t);return e&&e.setDOM(t.cloneNode()),t}class $o extends _i{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}$o.inline=new $o("span");$o.block=new $o("div");const _v=new class extends _i{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class lj{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=ke.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new ag(e,e.contentDOM),this.updateInner([new Mr(0,0,0,e.state.doc.length)],null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:d,toA:p})=>p<this.minWidthFrom||d>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!hq(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let a=i>-1?aq(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){let{from:d,to:p}=this.hasComposition;r=new Mr(d,p,e.changes.mapPos(d,-1),e.changes.mapPos(p,1)).addToSet(r.slice())}this.hasComposition=a?{from:a.range.fromB,to:a.range.toB}:null,(ge.ie||ge.chrome)&&!a&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let l=this.decorations,o=this.blockWrappers;this.updateDeco();let u=oq(l,this.decorations,e.changes);u.length&&(r=Mr.extendWithRanges(r,u));let h=uq(o,this.blockWrappers,e.changes);return h.length&&(r=Mr.extendWithRanges(r,h)),a&&!r.some(d=>d.fromA<=a.range.fromA&&d.toA>=a.range.toA)&&(r=a.range.addToSet(r.slice())),this.tile.flags&2&&r.length==0?!1:(this.updateInner(r,a),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n){this.view.viewState.mustMeasureContent=!0;let{observer:r}=this.view;r.ignore(()=>{if(n||e.length){let l=this.tile,o=new eq(this.view,l,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=o.run(e,n),x1(l,o.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=ge.chrome||ge.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(a),a&&(a.written||r.selectionRange.focusNode!=a.node||!this.tile.dom.contains(a.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.tile.children)a.isWidget()&&a.widget instanceof Rv&&i.push(a.dom);r.updateGaps(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(Y4)&&(this.editContextFormatting=r.value)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:r}=this.tile,i=this.view.root.activeElement,a=i==r,l=!a&&!(this.view.state.facet(na)||r.tabIndex>-1)&&Iu(r,this.view.observer.selectionRange)&&!(i&&r.contains(i));if(!(a||n||l))return;let o=this.forceSelection;this.forceSelection=!1;let u=this.view.state.selection.main,h,d;if(u.empty?d=h=this.inlineDOMNearPos(u.anchor,u.assoc||1):(d=this.inlineDOMNearPos(u.head,u.head==u.from?1:-1),h=this.inlineDOMNearPos(u.anchor,u.anchor==u.from?1:-1)),ge.gecko&&u.empty&&!this.hasComposition&&iq(h)){let g=document.createTextNode("");this.view.observer.ignore(()=>h.node.insertBefore(g,h.node.childNodes[h.offset]||null)),h=d=new Yr(g,0),o=!0}let p=this.view.observer.selectionRange;(o||!p.focusNode||(!Hu(h.node,h.offset,p.anchorNode,p.anchorOffset)||!Hu(d.node,d.offset,p.focusNode,p.focusOffset))&&!this.suppressWidgetCursorChange(p,u))&&(this.view.observer.ignore(()=>{ge.android&&ge.chrome&&r.contains(p.focusNode)&&fq(p.focusNode,r)&&(r.blur(),r.focus({preventScroll:!0}));let g=Zu(this.view.root);if(g)if(u.empty){if(ge.gecko){let y=sq(h.node,h.offset);if(y&&y!=3){let w=(y==1?P4:_4)(h.node,h.offset);w&&(h=new Yr(w.node,w.offset))}}g.collapse(h.node,h.offset),u.bidiLevel!=null&&g.caretBidiLevel!==void 0&&(g.caretBidiLevel=u.bidiLevel)}else if(g.extend){g.collapse(h.node,h.offset);try{g.extend(d.node,d.offset)}catch{}}else{let y=document.createRange();u.anchor>u.head&&([h,d]=[d,h]),y.setEnd(d.node,d.offset),y.setStart(h.node,h.offset),g.removeAllRanges(),g.addRange(y)}l&&this.view.root.activeElement==r&&(r.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(h,d)),this.impreciseAnchor=h.precise?null:new Yr(p.anchorNode,p.anchorOffset),this.impreciseHead=d.precise?null:new Yr(p.focusNode,p.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&Hu(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=Zu(e.root),{anchorNode:i,anchorOffset:a}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let l=this.lineAt(n.head,n.assoc);if(!l)return;let o=l.posAtStart;if(n.head==o||n.head==o+l.length)return;let u=this.coordsAt(n.head,-1),h=this.coordsAt(n.head,1);if(!u||!h||u.bottom>h.top)return;let d=this.domAtPos(n.head+n.assoc,n.assoc);r.collapse(d.node,d.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let p=e.observer.selectionRange;e.docView.posFromDOM(p.anchorNode,p.anchorOffset)!=n.from&&r.collapse(i,a)}posFromDOM(e,n){let r=this.tile.nearest(e);if(!r)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let i=r.posAtStart;if(r.isComposite()){let a;if(e==r.dom)a=r.dom.childNodes[n];else{let l=ca(e)==0?0:n==0?-1:1;for(;;){let o=e.parentNode;if(o==r.dom)break;l==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?l=-1:l=1),e=o}l<0?a=e:a=e.nextSibling}if(a==r.dom.firstChild)return i;for(;a&&!Rt.get(a);)a=a.nextSibling;if(!a)return i+r.length;for(let l=0,o=i;;l++){let u=r.children[l];if(u.dom==a)return o;o+=u.length+u.breakAfter}}else return r.isText()?e==r.dom?i+n:i+(n?r.length:0):i}domAtPos(e,n){let{tile:r,offset:i}=this.tile.resolveBlock(e,n);return r.isWidget()?r.domPosFor(e,n):r.domIn(i,n)}inlineDOMNearPos(e,n){let r,i=-1,a=!1,l,o=-1,u=!1;return this.tile.blockTiles((h,d)=>{if(h.isWidget()){if(h.flags&32&&d>=e)return!0;h.flags&16&&(a=!0)}else{let p=d+h.length;if(d<=e&&(r=h,i=e-d,a=p<e),p>=e&&!l&&(l=h,o=e-d,u=d>e),d>e&&l)return!0}}),!r&&!l?this.domAtPos(e,n):(a&&l?r=null:u&&r&&(l=null),r&&n<0||!l?r.domIn(i,n):l.domIn(o,n))}coordsAt(e,n){let{tile:r,offset:i}=this.tile.resolveBlock(e,n);return r.isWidget()?r.widget instanceof Rv?null:r.coordsInWidget(i,n,!0):r.coordsIn(i,n)}lineAt(e,n){let{tile:r}=this.tile.resolveBlock(e,n);return r.isLine()?r:null}coordsForChar(e){let{tile:n,offset:r}=this.tile.resolveBlock(e,1);if(!n.isLine())return null;function i(a,l){if(a.isComposite())for(let o of a.children){if(o.length>=l){let u=i(o,l);if(u)return u}if(l-=o.length,l<0)break}else if(a.isText()&&l<a.length){let o=Qt(a.text,l);if(o==l)return null;let u=ef(a.dom,l,o).getClientRects();for(let h=0;h<u.length;h++){let d=u[h];if(h==u.length-1||d.top<d.bottom&&d.left<d.right)return d}}return null}return i(n,r)}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,a=this.view.contentDOM.clientWidth,l=a>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,u=this.view.textDirection==st.LTR,h=0,d=(p,g,y)=>{for(let w=0;w<p.children.length&&!(g>i);w++){let C=p.children[w],S=g+C.length,k=C.dom.getBoundingClientRect(),{height:j}=k;if(y&&!w&&(h+=k.top-y.top),C instanceof cs)S>r&&d(C,g,k);else if(g>=r&&(h>0&&n.push(-h),n.push(j+h),h=0,l)){let N=C.dom.lastChild,M=N?Uu(N):[];if(M.length){let D=M[M.length-1],T=u?D.right-k.left:k.right-D.left;T>o&&(o=T,this.minWidth=a,this.minWidthFrom=g,this.minWidthTo=S)}}y&&w==p.children.length-1&&(h+=y.bottom-k.bottom),g=S+C.breakAfter}};return d(this.tile,0,null),n}textDirectionAt(e){let{tile:n}=this.tile.resolveBlock(e,1);return getComputedStyle(n.dom).direction=="rtl"?st.RTL:st.LTR}measureTextSize(){let e=this.tile.blockTiles(l=>{if(l.isLine()&&l.children.length&&l.length<=20){let o=0,u;for(let h of l.children){if(!h.isText()||/[^ -~]/.test(h.text))return;let d=Uu(h.dom);if(d.length!=1)return;o+=d[0].width,u=d[0].height}if(o)return{lineHeight:l.dom.getBoundingClientRect().height,charWidth:o/l.length,textHeight:u}}});if(e)return e;let n=document.createElement("div"),r,i,a;return n.className="cm-line",n.style.width="99999px",n.style.position="absolute",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(n);let l=Uu(n.firstChild)[0];r=n.getBoundingClientRect().height,i=l&&l.width?l.width/27:7,a=l&&l.height?l.height:r,n.remove()}),{lineHeight:r,charWidth:i,textHeight:a}}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let a=i==n.viewports.length?null:n.viewports[i],l=a?a.from-1:this.view.state.doc.length;if(l>r){let o=(n.lineBlockAt(l).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(ke.replace({widget:new Rv(o),block:!0,inclusive:!0,isBlockGap:!0}).range(r,l))}if(!a)break;r=a.to+1}return ke.set(e)}updateDeco(){let e=1,n=this.view.state.facet(rg).map(a=>(this.dynamicDecorationMap[e++]=typeof a=="function")?a(this.view):a),r=!1,i=this.view.state.facet(hS).map((a,l)=>{let o=typeof a=="function";return o&&(r=!0),o?a(this.view):a});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(ze.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(X4).map(a=>typeof a=="function"?a(this.view):a)}scrollIntoView(e){if(e.isSnapshot){let h=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=h.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let h of this.view.state.facet(G4))try{if(h(this.view,e.range,e))return!0}catch(d){Wn(this.view.state,d,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let a=dS(this.view),l={left:r.left-a.left,top:r.top-a.top,right:r.right+a.right,bottom:r.bottom+a.bottom},{offsetWidth:o,offsetHeight:u}=this.view.scrollDOM;MH(this.view.scrollDOM,l,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,o),-o),Math.max(Math.min(e.yMargin,u),-u),this.view.textDirection==st.LTR)}lineHasWidget(e){let n=r=>r.isWidget()||r.children.some(n);return n(this.tile.resolveBlock(e,1).tile)}destroy(){x1(this.tile)}}function x1(t,e){let n=e?.get(t);if(n!=1){n==null&&t.destroy();for(let r of t.children)x1(r,e)}}function iq(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function t_(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=P4(n.focusNode,n.focusOffset),i=_4(n.focusNode,n.focusOffset),a=r||i;if(i&&r&&i.node!=r.node){let o=Rt.get(i.node);if(!o||o.isText()&&o.text!=i.node.nodeValue)a=i;else if(t.docView.lastCompositionAfterCursor){let u=Rt.get(r.node);!u||u.isText()&&u.text!=r.node.nodeValue||(a=i)}}if(t.docView.lastCompositionAfterCursor=a!=r,!a)return null;let l=e-a.offset;return{from:l,to:l+a.node.nodeValue.length,node:a.node}}function aq(t,e,n){let r=t_(t,n);if(!r)return null;let{node:i,from:a,to:l}=r,o=i.nodeValue;if(/[\n\r]/.test(o)||t.state.doc.sliceString(r.from,r.to)!=o)return null;let u=e.invertedDesc;return{range:new Mr(u.mapPos(a),u.mapPos(l),a,l),text:i}}function sq(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let lq=class{constructor(){this.changes=[]}compareRange(e,n){To(e,n,this.changes)}comparePoint(e,n){To(e,n,this.changes)}boundChange(e){To(e,e,this.changes)}};function oq(t,e,n){let r=new lq;return ze.compare(t,e,n,r),r.changes}class cq{constructor(){this.changes=[]}compareRange(e,n){To(e,n,this.changes)}comparePoint(){}boundChange(e){To(e,e,this.changes)}}function uq(t,e,n){let r=new cq;return ze.compare(t,e,n,r),r.changes}function fq(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function hq(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}class Rv extends _i{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function dq(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),a=e-i.from;if(i.length==0)return ae.cursor(e);a==0?n=1:a==i.length&&(n=-1);let l=a,o=a;n<0?l=Qt(i.text,a,!1):o=Qt(i.text,a);let u=r(i.text.slice(l,o));for(;l>0;){let h=Qt(i.text,l,!1);if(r(i.text.slice(h,l))!=u)break;l=h}for(;o<i.length;){let h=Qt(i.text,o);if(r(i.text.slice(o,h))!=u)break;o=h}return ae.range(l+i.from,o+i.from)}function mq(t,e,n,r,i){let a=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let o=t.viewState.heightOracle.textHeight,u=Math.floor((i-n.top-(t.defaultLineHeight-o)*.5)/o);a+=u*t.viewState.heightOracle.lineLength}let l=t.state.sliceDoc(n.from,n.to);return n.from+o1(l,a,t.state.tabSize)}function w1(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let a of r.type){if(a.from>e)break;if(!(a.to<e)){if(a.from<e&&a.to>e)return a;(!i||a.type==mn.Text&&(i.type!=a.type||(n<0?a.from<e:a.to>e)))&&(i=a)}}return i||r}return r}function pq(t,e,n,r){let i=w1(t,e.head,e.assoc||-1),a=!r||i.type!=mn.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(a){let l=t.dom.getBoundingClientRect(),o=t.textDirectionAt(i.from),u=t.posAtCoords({x:n==(o==st.LTR)?l.right-1:l.left+1,y:(a.top+a.bottom)/2});if(u!=null)return ae.cursor(u,n?-1:1)}return ae.cursor(n?i.to:i.from,n?-1:1)}function oj(t,e,n,r){let i=t.state.doc.lineAt(e.head),a=t.bidiSpans(i),l=t.textDirectionAt(i.from);for(let o=e,u=null;;){let h=$H(i,a,l,o,n),d=I4;if(!h){if(i.number==(n?t.state.doc.lines:1))return o;d=`
`,i=t.state.doc.line(i.number+(n?1:-1)),a=t.bidiSpans(i),h=t.visualLineSide(i,!n)}if(u){if(!u(d))return o}else{if(!r)return h;u=r(d)}o=h}}function gq(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return a=>{let l=r(a);return i==pt.Space&&(i=l),i==l}}function yq(t,e,n,r){let i=e.head,a=n?1:-1;if(i==(n?t.state.doc.length:0))return ae.cursor(i,e.assoc);let l=e.goalColumn,o,u=t.contentDOM.getBoundingClientRect(),h=t.coordsAtPos(i,(e.empty?e.assoc:0)||(n?1:-1)),d=t.documentTop;if(h)l==null&&(l=h.left-u.left),o=a<0?h.top:h.bottom;else{let w=t.viewState.lineBlockAt(i);l==null&&(l=Math.min(u.right-u.left,t.defaultCharacterWidth*(i-w.from))),o=(a<0?w.top:w.bottom)+d}let p=u.left+l,g=r??t.viewState.heightOracle.textHeight>>1,y=S1(t,{x:p,y:o+g*a},!1,a);return ae.cursor(y.pos,y.assoc,void 0,l)}function qu(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(a,l,o)=>{if(e>a&&e<l){let u=r||n||(e-a<l-e?-1:1);e=u<0?a:l,r=u}});if(!r)return e}}function n_(t,e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],a=null;if(i.empty){let l=qu(t,i.from,0);l!=i.from&&(a=ae.cursor(l,-1))}else{let l=qu(t,i.from,-1),o=qu(t,i.to,1);(l!=i.from||o!=i.to)&&(a=ae.range(i.from==i.anchor?l:o,i.from==i.head?l:o))}a&&(n||(n=e.ranges.slice()),n[r]=a)}return n?ae.create(n,e.mainIndex):e}function Lv(t,e,n){let r=qu(t.state.facet(Pf).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:ae.cursor(r,r<n.from?1:-1)}class vi{constructor(e,n){this.pos=e,this.assoc=n}}function S1(t,e,n,r){let i=t.contentDOM.getBoundingClientRect(),a=i.top+t.viewState.paddingTop,{x:l,y:o}=e,u=o-a,h;for(;;){if(u<0)return new vi(0,1);if(u>t.viewState.docHeight)return new vi(t.state.doc.length,-1);if(h=t.elementAtHeight(u),r==null)break;if(h.type==mn.Text){if(r<0?h.to<t.viewport.from:h.from>t.viewport.to)break;let g=t.docView.coordsAt(r<0?h.from:h.to,r>0?-1:1);if(g&&(r<0?g.top<=u+a:g.bottom>=u+a))break}let p=t.viewState.heightOracle.textHeight/2;u=r>0?h.bottom+p:h.top-p}if(t.viewport.from>=h.to||t.viewport.to<=h.from){if(n)return null;if(h.type==mn.Text){let p=mq(t,i,h,l,o);return new vi(p,p==h.from?1:-1)}}if(h.type!=mn.Text)return u<(h.top+h.bottom)/2?new vi(h.from,1):new vi(h.to,-1);let d=t.docView.lineAt(h.from,2);return(!d||d.length!=h.length)&&(d=t.docView.lineAt(h.from,-2)),new vq(t,l,o,t.textDirectionAt(h.from)).scanTile(d,h.from)}class vq{constructor(e,n,r,i){this.view=e,this.x=n,this.y=r,this.baseDir=i,this.line=null,this.spans=null}bidiSpansAt(e){return(!this.line||this.line.from>e||this.line.to<e)&&(this.line=this.view.state.doc.lineAt(e),this.spans=this.view.bidiSpans(this.line)),this}baseDirAt(e,n){let{line:r,spans:i}=this.bidiSpansAt(e);return i[bi.find(i,e-r.from,-1,n)].level==this.baseDir}dirAt(e,n){let{line:r,spans:i}=this.bidiSpansAt(e);return i[bi.find(i,e-r.from,-1,n)].dir}bidiIn(e,n){let{spans:r,line:i}=this.bidiSpansAt(e);return r.length>1||r.length&&(r[0].level!=this.baseDir||r[0].to+i.from<n)}scan(e,n){let r=0,i=e.length-1,a=new Set,l=this.bidiIn(e[0],e[i]),o,u,h=-1,d=1e9,p;e:for(;r<i;){let y=i-r,w=r+i>>1;t:if(a.has(w)){let S=r+Math.floor(Math.random()*y);for(let k=0;k<y;k++){if(!a.has(S)){w=S;break t}S++,S==i&&(S=r)}break e}a.add(w);let C=n(w);if(C)for(let S=0;S<C.length;S++){let k=C[S],j=0;if(k.bottom<this.y)(!o||o.bottom<k.bottom)&&(o=k),j=1;else if(k.top>this.y)(!u||u.top>k.top)&&(u=k),j=-1;else{let N=k.left>this.x?this.x-k.left:k.right<this.x?this.x-k.right:0,M=Math.abs(N);M<d&&(h=w,d=M,p=k),N&&(j=N<0==(this.baseDir==st.LTR)?-1:1)}j==-1&&(!l||this.baseDirAt(e[w],1))?i=w:j==1&&(!l||this.baseDirAt(e[w+1],-1))&&(r=w+1)}}if(!p){let y=o&&(!u||this.y-o.bottom<u.top-this.y)?o:u;return this.y=(y.top+y.bottom)/2,this.scan(e,n)}let g=(l?this.dirAt(e[h],1):this.baseDir)==st.LTR;return{i:h,after:this.x>(p.left+p.right)/2==g}}scanText(e,n){let r=[];for(let a=0;a<e.length;a=Qt(e.text,a))r.push(n+a);r.push(n+e.length);let i=this.scan(r,a=>{let l=r[a]-n,o=r[a+1]-n;return ef(e.dom,l,o).getClientRects()});return i.after?new vi(r[i.i+1],-1):new vi(r[i.i],1)}scanTile(e,n){if(!e.length)return new vi(n,1);if(e.children.length==1){let o=e.children[0];if(o.isText())return this.scanText(o,n);if(o.isComposite())return this.scanTile(o,n)}let r=[n];for(let o=0,u=n;o<e.children.length;o++)r.push(u+=e.children[o].length);let i=this.scan(r,o=>{let u=e.children[o];return u.flags&48?null:(u.dom.nodeType==1?u.dom:ef(u.dom,0,u.length)).getClientRects()}),a=e.children[i.i],l=r[i.i];return a.isText()?this.scanText(a,l):a.isComposite()?this.scanTile(a,l):i.after?new vi(r[i.i+1],-1):new vi(l,1)}}const Tu="";class bq{constructor(e,n){this.points=e,this.view=n,this.text="",this.lineSeparator=n.state.facet(qe.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Tu}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let a=this.text.length;this.readNode(i);let l=Rt.get(i),o=i.nextSibling;if(o==n){l?.breakAfter&&!o&&r!=this.view.contentDOM&&this.lineBreak();break}let u=Rt.get(o);(l&&u?l.breakAfter:(l?l.breakAfter:Am(i))||Am(o)&&(i.nodeName!="BR"||l?.isWidget())&&this.text.length>a)&&!wq(o,n)&&this.lineBreak(),i=o}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let a=-1,l=1,o;if(this.lineSeparator?(a=n.indexOf(this.lineSeparator,r),l=this.lineSeparator.length):(o=i.exec(n))&&(a=o.index,l=o[0].length),this.append(n.slice(r,a<0?n.length:a)),a<0)break;if(this.lineBreak(),l>1)for(let u of this.points)u.node==e&&u.pos>this.text.length&&(u.pos-=l-1);r=a+l}}readNode(e){let n=Rt.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(xq(e,r.node,r.offset)?n:0))}}function xq(t,e,n){for(;;){if(!e||n<ca(e))return!1;if(e==t)return!0;n=ys(e)+1,e=e.parentNode}}function wq(t,e){let n;for(;!(t==e||!t);t=t.nextSibling){let r=Rt.get(t);if(!r?.isWidget())return!1;r&&(n||(n=[])).push(r)}if(n)for(let r of n){let i=r.overrideDOMText;if(i?.length)return!1}return!0}class cj{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class Sq{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:a,impreciseAnchor:l}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=r_(e.docView.tile,n,r,0))){let o=a||l?[]:Oq(e),u=new bq(o,e);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=kq(o,this.bounds.from)}else{let o=e.observer.selectionRange,u=a&&a.node==o.focusNode&&a.offset==o.focusOffset||!p1(e.contentDOM,o.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(o.focusNode,o.focusOffset),h=l&&l.node==o.anchorNode&&l.offset==o.anchorOffset||!p1(e.contentDOM,o.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(o.anchorNode,o.anchorOffset),d=e.viewport;if((ge.ios||ge.chrome)&&e.state.selection.main.empty&&u!=h&&(d.from>0||d.to<e.state.doc.length)){let p=Math.min(u,h),g=Math.max(u,h),y=d.from-p,w=d.to-g;(y==0||y==1||p==0)&&(w==0||w==-1||g==e.state.doc.length)&&(u=0,h=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(ae.range(h,u)):this.newSel=ae.single(h,u)}}}function r_(t,e,n,r){if(t.isComposite()){let i=-1,a=-1,l=-1,o=-1;for(let u=0,h=r,d=r;u<t.children.length;u++){let p=t.children[u],g=h+p.length;if(h<e&&g>n)return r_(p,e,n,h);if(g>=e&&i==-1&&(i=u,a=h),h>n&&p.dom.parentNode==t.dom){l=u,o=d;break}d=g,h=g+p.breakAfter}return{from:a,to:o<0?r+t.length:o,startDOM:(i?t.children[i-1].dom.nextSibling:null)||t.dom.firstChild,endDOM:l<t.children.length&&l>=0?t.children[l].dom:null}}else return t.isText()?{from:r,to:r+t.length,startDOM:t.dom,endDOM:t.dom.nextSibling}:null}function i_(t,e){let n,{newSel:r}=e,i=t.state.selection.main,a=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:l,to:o}=e.bounds,u=i.from,h=null;(a===8||ge.android&&e.text.length<o-l)&&(u=i.to,h="end");let d=a_(t.state.doc.sliceString(l,o,Tu),e.text,u-l,h);d&&(ge.chrome&&a==13&&d.toB==d.from+2&&e.text.slice(d.from,d.toB)==Tu+Tu&&d.toB--,n={from:l+d.from,to:l+d.toA,insert:Ye.of(e.text.slice(d.from,d.toB).split(Tu))})}else r&&(!t.hasFocus&&t.state.facet(na)||Tm(r,i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(ge.mac||ge.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=ae.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:Ye.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:t.state.doc.lineAt(i.from).to<i.to&&t.docView.lineHasWidget(i.to)&&t.inputState.insertingTextAt>Date.now()-50?n={from:i.from,to:i.to,insert:t.state.toText(t.inputState.insertingText)}:ge.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=ae.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Ye.of([" "])}),n)return mS(t,n,r,a);if(r&&!Tm(r,i)){let l=!1,o="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(l=!0),o=t.inputState.lastSelectionOrigin,o=="select.pointer"&&(r=n_(t.state.facet(Pf).map(u=>u(t)),r))),t.dispatch({selection:r,scrollIntoView:l,userEvent:o}),!0}else return!1}function mS(t,e,n,r=-1){if(ge.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(ge.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Mo(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&Mo(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&Mo(t.contentDOM,"Delete",46)))return!0;let a=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let l,o=()=>l||(l=Cq(t,e,n));return t.state.facet(V4).some(u=>u(t,e.from,e.to,a,o))||t.dispatch(o()),!0}function Cq(t,e,n){let r,i=t.state,a=i.selection.main,l=-1;if(e.from==e.to&&e.from<a.from||e.from>a.to){let u=e.from<a.from?-1:1,h=u<0?a.from:a.to,d=qu(i.facet(Pf).map(p=>p(t)),h,u);e.from==d&&(l=d)}if(l>-1)r={changes:e,selection:ae.cursor(e.from+e.insert.length,-1)};else if(e.from>=a.from&&e.to<=a.to&&e.to-e.from>=(a.to-a.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let u=a.from<e.from?i.sliceDoc(a.from,e.from):"",h=a.to>e.to?i.sliceDoc(e.to,a.to):"";r=i.replaceSelection(t.state.toText(u+e.insert.sliceString(0,void 0,t.state.lineBreak)+h))}else{let u=i.changes(e),h=n&&n.main.to<=u.newLength?n.main:void 0;if(i.selection.ranges.length>1&&(t.inputState.composing>=0||t.inputState.compositionPendingChange)&&e.to<=a.to+10&&e.to>=a.to-10){let d=t.state.sliceDoc(e.from,e.to),p,g=n&&t_(t,n.main.head);if(g){let w=e.insert.length-(e.to-e.from);p={from:g.from,to:g.to-w}}else p=t.state.doc.lineAt(a.head);let y=a.to-e.to;r=i.changeByRange(w=>{if(w.from==a.from&&w.to==a.to)return{changes:u,range:h||w.map(u)};let C=w.to-y,S=C-d.length;if(t.state.sliceDoc(S,C)!=d||C>=p.from&&S<=p.to)return{range:w};let k=i.changes({from:S,to:C,insert:e.insert}),j=w.to-a.to;return{changes:k,range:h?ae.range(Math.max(0,h.anchor+j),Math.max(0,h.head+j)):w.map(k)}})}else r={changes:u,selection:h&&i.selection.replaceRange(h)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:o,scrollIntoView:!0})}function a_(t,e,n,r){let i=Math.min(t.length,e.length),a=0;for(;a<i&&t.charCodeAt(a)==e.charCodeAt(a);)a++;if(a==i&&t.length==e.length)return null;let l=t.length,o=e.length;for(;l>0&&o>0&&t.charCodeAt(l-1)==e.charCodeAt(o-1);)l--,o--;if(r=="end"){let u=Math.max(0,a-Math.min(l,o));n-=l+u-a}if(l<a&&t.length<e.length){let u=n<=a&&n>=l?a-n:0;a-=u,o=a+(o-l),l=a}else if(o<a){let u=n<=a&&n>=o?a-n:0;a-=u,l=a+(l-o),o=a}return{from:a,toA:l,toB:o}}function Oq(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a}=t.observer.selectionRange;return n&&(e.push(new cj(n,r)),(i!=n||a!=r)&&e.push(new cj(i,a))),e}function kq(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?ae.single(n+e,r+e):null}function Tm(t,e){return e.head==t.main.head&&e.anchor==t.main.anchor}class Aq{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ge.safari&&e.contentDOM.addEventListener("input",()=>null),ge.gecko&&Hq(e.contentDOM.ownerDocument)}handleEvent(e){!_q(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=Nq(e),r=this.handlers,i=this.view.contentDOM;for(let a in n)if(a!="scroll"){let l=!n[a].handlers.length,o=r[a];o&&l!=!o.handlers.length&&(i.removeEventListener(a,this.handleEvent),o=null),o||i.addEventListener(a,this.handleEvent,{passive:l})}for(let a in r)a!="scroll"&&!n[a]&&i.removeEventListener(a,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&l_.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ge.android&&ge.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return ge.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=s_.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||jq.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Mo(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:ge.safari&&!ge.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function uj(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){Wn(n.state,i)}}}function Nq(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec,a=i&&i.plugin.domEventHandlers,l=i&&i.plugin.domEventObservers;if(a)for(let o in a){let u=a[o];u&&n(o).handlers.push(uj(r.value,u))}if(l)for(let o in l){let u=l[o];u&&n(o).observers.push(uj(r.value,u))}}for(let r in Jr)n(r).handlers.push(Jr[r]);for(let r in Br)n(r).observers.push(Br[r]);return e}const s_=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],jq="dthko",l_=[16,17,18,20,91,92,224,225],Od=6;function kd(t){return Math.max(0,t)*.7+8}function Eq(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class Tq{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=DH(e.contentDOM),this.atoms=e.state.facet(Pf).map(l=>l(e));let a=e.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this)),a.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(qe.allowMultipleSelections)&&Mq(e,n),this.dragging=Pq(e,n)&&u_(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Eq(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,a=0,l=this.view.win.innerWidth,o=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:l}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:a,bottom:o}=this.scrollParents.y.getBoundingClientRect());let u=dS(this.view);e.clientX-u.left<=i+Od?n=-kd(i-e.clientX):e.clientX+u.right>=l-Od&&(n=kd(e.clientX-l)),e.clientY-u.top<=a+Od?r=-kd(a-e.clientY):e.clientY+u.bottom>=o-Od&&(r=kd(e.clientY-o)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:n}=this,r=n_(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Mq(t,e){let n=t.state.facet(U4);return n.length?n[0](e):ge.mac?e.metaKey:e.ctrlKey}function Dq(t,e){let n=t.state.facet(H4);return n.length?n[0](e):ge.mac?!e.altKey:!e.ctrlKey}function Pq(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=Zu(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let a=0;a<i.length;a++){let l=i[a];if(l.left<=e.clientX&&l.right>=e.clientX&&l.top<=e.clientY&&l.bottom>=e.clientY)return!0}return!1}function _q(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=Rt.get(n))&&r.isWidget()&&!r.isHidden&&r.widget.ignoreEvent(e))return!1;return!0}const Jr=Object.create(null),Br=Object.create(null),o_=ge.ie&&ge.ie_version<15||ge.ios&&ge.webkit_version<604;function Rq(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),c_(t,n.value)},50)}function sg(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function c_(t,e){e=sg(t.state,cS,e);let{state:n}=t,r,i=1,a=n.toText(e),l=a.lines==n.selection.ranges.length;if(C1!=null&&n.selection.ranges.every(u=>u.empty)&&C1==a.toString()){let u=-1;r=n.changeByRange(h=>{let d=n.doc.lineAt(h.from);if(d.from==u)return{range:h};u=d.from;let p=n.toText((l?a.line(i++).text:e)+n.lineBreak);return{changes:{from:d.from,insert:p},range:ae.cursor(h.from+p.length)}})}else l?r=n.changeByRange(u=>{let h=a.line(i++);return{changes:{from:u.from,to:u.to,insert:h.text},range:ae.cursor(u.from+h.length)}}):r=n.replaceSelection(a);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Br.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};Jr.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);Br.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Br.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Jr.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(q4))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=Bq(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new Tq(t,e,n,r)),r&&t.observer.ignore(()=>{M4(t.contentDOM);let a=t.root.activeElement;a&&!a.contains(t.contentDOM)&&a.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function fj(t,e,n,r){if(r==1)return ae.cursor(e,n);if(r==2)return dq(t.state,e,n);{let i=t.docView.lineAt(e,n),a=t.state.doc.lineAt(i?i.posAtEnd:e),l=i?i.posAtStart:a.from,o=i?i.posAtEnd:a.to;return o<t.state.doc.length&&o==a.to&&o++,ae.range(l,o)}}const Lq=ge.ie&&ge.ie_version<=11;let hj=null,dj=0,mj=0;function u_(t){if(!Lq)return t.detail;let e=hj,n=mj;return hj=t,mj=Date.now(),dj=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(dj+1)%3:1}function Bq(t,e){let n=t.posAndSideAtCoords({x:e.clientX,y:e.clientY},!1),r=u_(e),i=t.state.selection;return{update(a){a.docChanged&&(n.pos=a.changes.mapPos(n.pos),i=i.map(a.changes))},get(a,l,o){let u=t.posAndSideAtCoords({x:a.clientX,y:a.clientY},!1),h,d=fj(t,u.pos,u.assoc,r);if(n.pos!=u.pos&&!l){let p=fj(t,n.pos,n.assoc,r),g=Math.min(p.from,d.from),y=Math.max(p.to,d.to);d=g<d.from?ae.range(g,y):ae.range(y,g)}return l?i.replaceRange(i.main.extend(d.from,d.to)):o&&r==1&&i.ranges.length>1&&(h=zq(i,u.pos))?h:o?i.addRange(d):ae.create([d])}}}function zq(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return ae.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}Jr.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.tile.nearest(e.target);if(i&&i.isWidget()){let a=i.posAtStart,l=a+i.length;(a>=n.to||l<=n.from)&&(n=ae.range(a,l))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",sg(t.state,uS,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Jr.dragend=t=>(t.inputState.draggedContent=null,!1);function pj(t,e,n,r){if(n=sg(t.state,cS,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:a}=t.inputState,l=r&&a&&Dq(t,e)?{from:a.from,to:a.to}:null,o={from:i,insert:n},u=t.state.changes(l?[l,o]:o);t.focus(),t.dispatch({changes:u,selection:{anchor:u.mapPos(i,-1),head:u.mapPos(i,1)},userEvent:l?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Jr.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,a=()=>{++i==n.length&&pj(t,e,r.filter(l=>l!=null).join(t.state.lineBreak),!1)};for(let l=0;l<n.length;l++){let o=new FileReader;o.onerror=a,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(r[l]=o.result),a()},o.readAsText(n[l])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return pj(t,e,r,!0),!0}return!1};Jr.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=o_?null:e.clipboardData;return n?(c_(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(Rq(t),!1)};function Iq(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function Uq(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:a}of t.selection.ranges){let l=t.doc.lineAt(a);l.number>i&&(e.push(l.text),n.push({from:l.from,to:Math.min(t.doc.length,l.to+1)})),i=l.number}r=!0}return{text:sg(t,uS,e.join(t.lineBreak)),ranges:n,linewise:r}}let C1=null;Jr.copy=Jr.cut=(t,e)=>{if(!Iu(t.contentDOM,t.observer.selectionRange))return!1;let{text:n,ranges:r,linewise:i}=Uq(t.state);if(!n&&!i)return!1;C1=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let a=o_?null:e.clipboardData;return a?(a.clearData(),a.setData("text/plain",n),!0):(Iq(t,n),!1)};const f_=Di.define();function h_(t,e){let n=[];for(let r of t.facet(W4)){let i=r(t,e);i&&n.push(i)}return n.length?t.update({effects:n,annotations:f_.of(!0)}):null}function d_(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=h_(t.state,e);n?t.dispatch(n):t.update([])}},10)}Br.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),d_(t)};Br.blur=t=>{t.observer.clearSelectionRange(),d_(t)};Br.compositionstart=Br.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};Br.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,ge.chrome&&ge.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};Br.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Jr.beforeinput=(t,e)=>{var n,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(t.inputState.insertingText=e.data,t.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&t.observer.editContext){let a=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),l=e.getTargetRanges();if(a&&l.length){let o=l[0],u=t.posAtDOM(o.startContainer,o.startOffset),h=t.posAtDOM(o.endContainer,o.endOffset);return mS(t,{from:u,to:h,insert:t.state.toText(a)},null),!0}}let i;if(ge.chrome&&ge.android&&(i=s_.find(a=>a.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let a=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var l;(((l=window.visualViewport)===null||l===void 0?void 0:l.height)||0)>a+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return ge.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),ge.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>Br.compositionend(t,e),20),!1};const gj=new Set;function Hq(t){gj.has(t)||(gj.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const yj=["pre-wrap","normal","pre-line","break-spaces"];let Vo=!1;function vj(){Vo=!1}class qq{constructor(e){this.lineWrapping=e,this.doc=Ye.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return yj.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,a,l){let o=yj.indexOf(e)>-1,u=Math.abs(n-this.lineHeight)>.3||this.lineWrapping!=o||Math.abs(r-this.charWidth)>.1;if(this.lineWrapping=o,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=a,u){this.heightSamples={};for(let h=0;h<l.length;h++){let d=l[h];d<0?h++:this.heightSamples[Math.floor(d*10)]=!0}}return u}}class $q{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Wr{constructor(e,n,r,i,a){this.from=e,this.length=n,this.top=r,this.height=i,this._content=a}get type(){return typeof this._content=="number"?mn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof ml?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Wr(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var ct=(function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t})(ct||(ct={}));const om=.001;class Tn{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>om&&(Vo=!0),this.height=e)}replace(e,n,r){return Tn.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let a=this,l=r.doc;for(let o=i.length-1;o>=0;o--){let{fromA:u,toA:h,fromB:d,toB:p}=i[o],g=a.lineAt(u,ct.ByPosNoHeight,r.setDoc(n),0,0),y=g.to>=h?g:a.lineAt(h,ct.ByPosNoHeight,r,0,0);for(p+=y.to-h,h=y.to;o>0&&g.from<=i[o-1].toA;)u=i[o-1].fromA,d=i[o-1].fromB,o--,u<g.from&&(g=a.lineAt(u,ct.ByPosNoHeight,r,0,0));d+=g.from-u,u=g.from;let w=pS.build(r.setDoc(l),e,d,p);a=Mm(a,a.replace(u,h,w))}return a.updateHeight(r,0)}static empty(){return new ur(0,0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,a=0;for(;;)if(n==r)if(i>a*2){let o=e[n-1];o.break?e.splice(--n,1,o.left,null,o.right):e.splice(--n,1,o.left,o.right),r+=1+o.break,i-=o.size}else if(a>i*2){let o=e[r];o.break?e.splice(r,1,o.left,null,o.right):e.splice(r,1,o.left,o.right),r+=2+o.break,a-=o.size}else break;else if(i<a){let o=e[n++];o&&(i+=o.size)}else{let o=e[--r];o&&(a+=o.size)}let l=0;return e[n-1]==null?(l=1,n--):e[n]==null&&(l=1,r++),new Wq(Tn.of(e.slice(0,n)),l,Tn.of(e.slice(r)))}}function Mm(t,e){return t==e?t:(t.constructor!=e.constructor&&(Vo=!0),e)}Tn.prototype.size=1;const Vq=ke.replace({});class m_ extends Tn{constructor(e,n,r){super(e,n),this.deco=r,this.spaceAbove=0}mainBlock(e,n){return new Wr(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,n,r,i){return this.spaceAbove&&e<r+this.spaceAbove?new Wr(i,0,r,this.spaceAbove,Vq):this.mainBlock(r,i)}lineAt(e,n,r,i,a){let l=this.mainBlock(i,a);return this.spaceAbove?this.blockAt(0,r,i,a).join(l):l}forEachLine(e,n,r,i,a,l){e<=a+this.length&&n>=a&&l(this.lineAt(0,ct.ByPos,r,i,a))}setMeasuredHeight(e){let n=e.heights[e.index++];n<0?(this.spaceAbove=-n,n=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(n)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setMeasuredHeight(i),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ur extends m_{constructor(e,n,r){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=r}mainBlock(e,n){return new Wr(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof ur||i instanceof un&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof un?i=new ur(i.length,this.height,this.spaceAbove):i.height=this.height,this.outdated||(i.outdated=!1),i):Tn.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setMeasuredHeight(i):(r||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class un extends Tn{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,a=i-r+1,l,o=0;if(e.lineWrapping){let u=Math.min(this.height,e.lineHeight*a);l=u/a,this.length>a+1&&(o=(this.height-u)/(this.length-a-1))}else l=this.height/a;return{firstLine:r,lastLine:i,perLine:l,perChar:o}}blockAt(e,n,r,i){let{firstLine:a,lastLine:l,perLine:o,perChar:u}=this.heightMetrics(n,i);if(n.lineWrapping){let h=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),d=n.doc.lineAt(h),p=o+d.length*u,g=Math.max(r,e-p/2);return new Wr(d.from,d.length,g,p,0)}else{let h=Math.max(0,Math.min(l-a,Math.floor((e-r)/o))),{from:d,length:p}=n.doc.line(a+h);return new Wr(d,p,r+o*h,o,0)}}lineAt(e,n,r,i,a){if(n==ct.ByHeight)return this.blockAt(e,r,i,a);if(n==ct.ByPosNoHeight){let{from:y,to:w}=r.doc.lineAt(e);return new Wr(y,w-y,0,0,0)}let{firstLine:l,perLine:o,perChar:u}=this.heightMetrics(r,a),h=r.doc.lineAt(e),d=o+h.length*u,p=h.number-l,g=i+o*p+u*(h.from-a-p);return new Wr(h.from,h.length,Math.max(i,Math.min(g,i+this.height-d)),d,0)}forEachLine(e,n,r,i,a,l){e=Math.max(e,a),n=Math.min(n,a+this.length);let{firstLine:o,perLine:u,perChar:h}=this.heightMetrics(r,a);for(let d=e,p=i;d<=n;){let g=r.doc.lineAt(d);if(d==e){let w=g.number-o;p+=u*w+h*(e-a-w)}let y=u+h*g.length;l(new Wr(g.from,g.length,p,y,0)),p+=y,d=g.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let a=r[r.length-1];a instanceof un?r[r.length-1]=new un(a.length+i):r.push(null,new un(i-1))}if(e>0){let a=r[0];a instanceof un?r[0]=new un(e+a.length):r.unshift(new un(e-1),null)}return Tn.of(r)}decomposeLeft(e,n){n.push(new un(e-1),null)}decomposeRight(e,n){n.push(null,new un(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let a=n+this.length;if(i&&i.from<=n+this.length&&i.more){let l=[],o=Math.max(n,i.from),u=-1;for(i.from>n&&l.push(new un(i.from-n-1).updateHeight(e,n));o<=a&&i.more;){let d=e.doc.lineAt(o).length;l.length&&l.push(null);let p=i.heights[i.index++],g=0;p<0&&(g=-p,p=i.heights[i.index++]),u==-1?u=p:Math.abs(p-u)>=om&&(u=-2);let y=new ur(d,p,g);y.outdated=!1,l.push(y),o+=d+1}o<=a&&l.push(null,new un(a-o).updateHeight(e,o));let h=Tn.of(l);return(u<0||Math.abs(h.height-this.height)>=om||Math.abs(u-this.heightMetrics(e,n).perLine)>=om)&&(Vo=!0),Mm(this,h)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Wq extends Tn{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let a=r+this.left.height;return e<a?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,a,i+this.left.length+this.break)}lineAt(e,n,r,i,a){let l=i+this.left.height,o=a+this.left.length+this.break,u=n==ct.ByHeight?e<l:e<o,h=u?this.left.lineAt(e,n,r,i,a):this.right.lineAt(e,n,r,l,o);if(this.break||(u?h.to<o:h.from>o))return h;let d=n==ct.ByPosNoHeight?ct.ByPosNoHeight:ct.ByPos;return u?h.join(this.right.lineAt(o,d,r,l,o)):this.left.lineAt(o,d,r,i,a).join(h)}forEachLine(e,n,r,i,a,l){let o=i+this.left.height,u=a+this.left.length+this.break;if(this.break)e<u&&this.left.forEachLine(e,n,r,i,a,l),n>=u&&this.right.forEachLine(e,n,r,o,u,l);else{let h=this.lineAt(u,ct.ByPos,r,i,a);e<h.from&&this.left.forEachLine(e,h.from-1,r,i,a,l),h.to>=e&&h.from<=n&&l(h),n>h.to&&this.right.forEachLine(h.to+1,n,r,o,u,l)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let a=[];e>0&&this.decomposeLeft(e,a);let l=a.length;for(let o of r)a.push(o);if(e>0&&bj(a,l-1),n<this.length){let o=a.length;this.decomposeRight(n,a),bj(a,o)}return Tn.of(a)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?Tn.of(this.break?[e,null,n]:[e,n]):(this.left=Mm(this.left,e),this.right=Mm(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:a,right:l}=this,o=n+a.length+this.break,u=null;return i&&i.from<=n+a.length&&i.more?u=a=a.updateHeight(e,n,r,i):a.updateHeight(e,n,r),i&&i.from<=o+l.length&&i.more?u=l=l.updateHeight(e,o,r,i):l.updateHeight(e,o,r),u?this.balanced(a,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function bj(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof un&&(r=t[e+1])instanceof un&&t.splice(e-1,3,new un(n.length+1+r.length))}const Fq=5;class pS{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof ur?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new ur(r-this.pos,-1,0)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,a=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let l=n-e;r.block?this.addBlock(new m_(l,i,r)):(l||a||i>=Fq)&&this.addLineDeco(i,a,l)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ur(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,n){let r=new un(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ur)return e;let n=new ur(0,-1,0);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof ur)&&!this.isCovered?this.nodes.push(new ur(0,-1,0)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof ur&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let a=new pS(r,e);return ze.spans(n,r,i,a,0),a.finish(r)}}function Kq(t,e,n){let r=new Gq;return ze.compare(t,e,n,r,0),r.changes}class Gq{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&To(e,n,this.changes,5)}}function Yq(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,a=Math.max(0,n.left),l=Math.min(i.innerWidth,n.right),o=Math.max(0,n.top),u=Math.min(i.innerHeight,n.bottom);for(let h=t.parentNode;h&&h!=r.body;)if(h.nodeType==1){let d=h,p=window.getComputedStyle(d);if((d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&p.overflow!="visible"){let g=d.getBoundingClientRect();a=Math.max(a,g.left),l=Math.min(l,g.right),o=Math.max(o,g.top),u=Math.min(h==t.parentNode?i.innerHeight:u,g.bottom)}h=p.position=="absolute"||p.position=="fixed"?d.offsetParent:d.parentNode}else if(h.nodeType==11)h=h.host;else break;return{left:a-n.left,right:Math.max(a,l)-n.left,top:o-(n.top+e),bottom:Math.max(o,u)-(n.top+e)}}function Qq(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function Xq(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class Bv{constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],a=n[r];if(i.from!=a.from||i.to!=a.to||i.size!=a.size)return!1}return!0}draw(e,n){return ke.replace({widget:new Zq(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class Zq extends _i{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class xj{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=wj,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=st.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(fS).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new qq(n),this.stateDeco=Sj(e),this.heightMap=Tn.empty().applyChanges(this.stateDeco,Ye.empty,this.heightOracle.setDoc(e.doc),[new Mr(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ke.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:a,to:l})=>i>=a&&i<=l)){let{from:a,to:l}=this.lineBlockAt(i);e.push(new Ad(a,l))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?wj:new gS(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Mu(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=Sj(this.state);let i=e.changedRanges,a=Mr.extendWithRanges(i,Kq(r,this.stateDeco,e?e.changes:Ut.empty(this.state.doc.length))),l=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);vj(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),a),(this.heightMap.height!=l||Vo)&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=l);let u=a.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<u.from||n.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,n));let h=u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,e.flags|=this.updateForViewport(),(h||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&(e.selectionSet||e.focusChanged)&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(K4)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,a=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?st.RTL:st.LTR;let l=this.heightOracle.mustRefreshForWrapping(a)||this.mustMeasureContent,o=n.getBoundingClientRect(),u=l||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let h=0,d=0;if(o.width&&o.height){let{scaleX:M,scaleY:D}=T4(n,o);(M>.005&&Math.abs(this.scaleX-M)>.005||D>.005&&Math.abs(this.scaleY-D)>.005)&&(this.scaleX=M,this.scaleY=D,h|=16,l=u=!0)}let p=(parseInt(r.paddingTop)||0)*this.scaleY,g=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=p||this.paddingBottom!=g)&&(this.paddingTop=p,this.paddingBottom=g,h|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(u=!0),this.editorWidth=e.scrollDOM.clientWidth,h|=16);let y=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=y&&(this.scrollAnchorHeight=-1,this.scrollTop=y),this.scrolledToBottom=D4(e.scrollDOM);let w=(this.printing?Xq:Yq)(n,this.paddingTop),C=w.top-this.pixelViewport.top,S=w.bottom-this.pixelViewport.bottom;this.pixelViewport=w;let k=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(k!=this.inView&&(this.inView=k,k&&(u=!0)),!this.inView&&!this.scrollTarget&&!Qq(e.dom))return 0;let j=o.width;if((this.contentDOMWidth!=j||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,h|=16),u){let M=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(M)&&(l=!0),l||i.lineWrapping&&Math.abs(j-this.contentDOMWidth)>i.charWidth){let{lineHeight:D,charWidth:T,textHeight:E}=e.docView.measureTextSize();l=D>0&&i.refresh(a,D,T,E,Math.max(5,j/T),M),l&&(e.docView.minWidth=0,h|=16)}C>0&&S>0?d=Math.max(C,S):C<0&&S<0&&(d=Math.min(C,S)),vj();for(let D of this.viewports){let T=D.from==this.viewport.from?M:e.docView.measureVisibleLineHeights(D);this.heightMap=(l?Tn.empty().applyChanges(this.stateDeco,Ye.empty,this.heightOracle,[new Mr(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,l,new $q(D.from,T))}Vo&&(h|=2)}let N=!this.viewportIsAppropriate(this.viewport,d)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return N&&(h&2&&(h|=this.updateScaler()),this.viewport=this.getViewport(d,this.scrollTarget),h|=this.updateForViewport()),(h&2||N)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps,e)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,a=this.heightOracle,{visibleTop:l,visibleBottom:o}=this,u=new Ad(i.lineAt(l-r*1e3,ct.ByHeight,a,0,0).from,i.lineAt(o+(1-r)*1e3,ct.ByHeight,a,0,0).to);if(n){let{head:h}=n.range;if(h<u.from||h>u.to){let d=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),p=i.lineAt(h,ct.ByPos,a,0,0),g;n.y=="center"?g=(p.top+p.bottom)/2-d/2:n.y=="start"||n.y=="nearest"&&h<u.from?g=p.top:g=p.bottom-d,u=new Ad(i.lineAt(g-1e3/2,ct.ByHeight,a,0,0).from,i.lineAt(g+d+1e3/2,ct.ByHeight,a,0,0).to)}}return u}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new Ad(this.heightMap.lineAt(r,ct.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,ct.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,ct.ByPos,this.heightOracle,0,0),{bottom:a}=this.heightMap.lineAt(n,ct.ByPos,this.heightOracle,0,0),{visibleTop:l,visibleBottom:o}=this;return(e==0||i<=l-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||a>=o+Math.max(10,Math.min(r,250)))&&i>l-2*1e3&&a<o+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new Bv(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,a=i>>1,l=i<<1;if(this.defaultTextDirection!=st.LTR&&!r)return[];let o=[],u=(d,p,g,y)=>{if(p-d<a)return;let w=this.state.selection.main,C=[w.from];w.empty||C.push(w.to);for(let k of C)if(k>d&&k<p){u(d,k-10,g,y),u(k+10,p,g,y);return}let S=e$(e,k=>k.from>=g.from&&k.to<=g.to&&Math.abs(k.from-d)<a&&Math.abs(k.to-p)<a&&!C.some(j=>k.from<j&&k.to>j));if(!S){if(p<g.to&&n&&r&&n.visibleRanges.some(N=>N.from<=p&&N.to>=p)){let N=n.moveToLineBoundary(ae.cursor(p),!1,!0).head;N>d&&(p=N)}let k=this.gapSize(g,d,p,y),j=r||k<2e6?k:2e6;S=new Bv(d,p,k,j)}o.push(S)},h=d=>{if(d.length<l||d.type!=mn.Text)return;let p=Jq(d.from,d.to,this.stateDeco);if(p.total<l)return;let g=this.scrollTarget?this.scrollTarget.range.head:null,y,w;if(r){let C=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,S,k;if(g!=null){let j=jd(p,g),N=((this.visibleBottom-this.visibleTop)/2+C)/d.height;S=j-N,k=j+N}else S=(this.visibleTop-d.top-C)/d.height,k=(this.visibleBottom-d.top+C)/d.height;y=Nd(p,S),w=Nd(p,k)}else{let C=p.total*this.heightOracle.charWidth,S=i*this.heightOracle.charWidth,k=0;if(C>2e6)for(let T of e)T.from>=d.from&&T.from<d.to&&T.size!=T.displaySize&&T.from*this.heightOracle.charWidth+k<this.pixelViewport.left&&(k=T.size-T.displaySize);let j=this.pixelViewport.left+k,N=this.pixelViewport.right+k,M,D;if(g!=null){let T=jd(p,g),E=((N-j)/2+S)/C;M=T-E,D=T+E}else M=(j-S)/C,D=(N+S)/C;y=Nd(p,M),w=Nd(p,D)}y>d.from&&u(d.from,y,d,p),w<d.to&&u(w,d.to,d,p)};for(let d of this.viewportLines)Array.isArray(d.type)?d.type.forEach(h):h(d);return o}gapSize(e,n,r,i){let a=jd(i,r)-jd(i,n);return this.heightOracle.lineWrapping?e.height*a:i.total*this.heightOracle.charWidth*a}updateLineGaps(e){Bv.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ke.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];ze.spans(n,this.viewport.from,this.viewport.to,{span(a,l){r.push({from:a,to:l})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let a=0;a<r.length&&!(i&8);a++){let l=this.visibleRanges[a],o=r[a];(l.from!=o.from||l.to!=o.to)&&(i|=4,e&&e.mapPos(l.from,-1)==o.from&&e.mapPos(l.to,1)==o.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||Mu(this.heightMap.lineAt(e,ct.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||Mu(this.heightMap.lineAt(this.scaler.fromDOM(e),ct.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return Mu(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Ad{constructor(e,n){this.from=e,this.to=n}}function Jq(t,e,n){let r=[],i=t,a=0;return ze.spans(n,t,e,{span(){},point(l,o){l>i&&(r.push({from:i,to:l}),a+=l-i),i=o}},20),i<e&&(r.push({from:i,to:e}),a+=e-i),{total:a,ranges:r}}function Nd({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:a,to:l}=e[i],o=l-a;if(r<=o)return a+r;r-=o}}function jd(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function e$(t,e){for(let n of t)if(e(n))return n}const wj={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};function Sj(t){let e=t.facet(rg).filter(r=>typeof r!="function"),n=t.facet(hS).filter(r=>typeof r!="function");return n.length&&e.push(ze.join(n)),e}class gS{constructor(e,n,r){let i=0,a=0,l=0;this.viewports=r.map(({from:o,to:u})=>{let h=n.lineAt(o,ct.ByPos,e,0,0).top,d=n.lineAt(u,ct.ByPos,e,0,0).bottom;return i+=d-h,{from:o,to:u,top:h,bottom:d,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let o of this.viewports)o.domTop=l+(o.top-a)*this.scale,l=o.domBottom=o.domTop+(o.bottom-o.top),a=o.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let a=n<this.viewports.length?this.viewports[n]:null;if(!a||e<a.top)return i+(e-r)*this.scale;if(e<=a.bottom)return a.domTop+(e-a.top);r=a.bottom,i=a.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let a=n<this.viewports.length?this.viewports[n]:null;if(!a||e<a.domTop)return r+(e-i)/this.scale;if(e<=a.domBottom)return a.top+(e-a.domTop);r=a.bottom,i=a.domBottom}}eq(e){return e instanceof gS?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function Mu(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Wr(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>Mu(i,e)):t._content)}const Ed=ye.define({combine:t=>t.join(" ")}),O1=ye.define({combine:t=>t.indexOf(!0)>-1}),k1=ps.newName(),p_=ps.newName(),g_=ps.newName(),y_={"&light":"."+p_,"&dark":"."+g_};function A1(t,e,n){return new ps(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const t$=A1("."+k1,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},y_),n$={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},zv=ge.ie&&ge.ie_version<=11;class r${constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new PH,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(ge.ie&&ge.ie_version<=11||ge.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&ge.android&&e.constructor.EDIT_CONTEXT!==!1&&!(ge.chrome&&ge.chrome_version<126)&&(this.editContext=new a$(e),e.state.facet(na)&&(e.contentDOM.editContext=this.editContext.editContext)),zv&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(na)?r.root.activeElement!=this.dom:!Iu(this.dom,i))return;let a=i.anchorNode&&r.docView.tile.nearest(i.anchorNode);if(a&&a.isWidget()&&a.widget.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(ge.ie&&ge.ie_version<=11||ge.android&&ge.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Hu(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=Zu(e.root);if(!n)return!1;let r=ge.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&i$(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=Iu(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&RH(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,n$),zv&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),zv&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let a=this.delayedAndroidKey;a&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=a.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&a.force&&Mo(this.dom,a.key,a.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let a of e){let l=this.readMutation(a);l&&(l.typeOver&&(i=!0),n==-1?{from:n,to:r}=l:(n=Math.min(l.from,n),r=Math.max(l.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Iu(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let a=new Sq(this.view,e,n,r);return this.view.docView.domChanged={newSel:a.newSel?a.newSel.main:null},a}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=i_(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!Tm(this.view.state.selection,n.newSel.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.tile.nearest(e.target);if(!n||n.isWidget())return null;if(n.markDirty(e.type=="attributes"),e.type=="childList"){let r=Cj(n,e.previousSibling||e.target.previousSibling,-1),i=Cj(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(na)!=e.state.facet(na)&&(e.view.contentDOM.editContext=e.state.facet(na)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function Cj(t,e,n){for(;e;){let r=Rt.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function Oj(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,a=e.endOffset,l=t.docView.domAtPos(t.state.selection.main.anchor,1);return Hu(l.node,l.offset,i,a)&&([n,r,i,a]=[i,a,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a}}function i$(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return Oj(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?Oj(t,n):null}class a${constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:a,head:l}=i,o=this.toEditorPos(r.updateRangeStart),u=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:o,drifted:!1});let h=u-o>r.text.length;o==this.from&&a<this.from?o=a:u==this.to&&a>this.to&&(u=a);let d=a_(e.state.sliceDoc(o,u),r.text,(h?i.from:i.to)-o,h?"end":null);if(!d){let g=ae.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));Tm(g,i)||e.dispatch({selection:g,userEvent:"select"});return}let p={from:d.from+o,to:d.toA+o,insert:Ye.of(r.text.slice(d.from,d.toB).split(`
`))};if((ge.mac||ge.android)&&p.from==l-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(p={from:o,to:u,insert:Ye.of([r.text.replace("."," ")])}),this.pendingContextChange=p,!e.state.readOnly){let g=this.to-this.from+(p.to-p.from+p.insert.length);mS(e,p,ae.single(this.toEditorPos(r.selectionStart,g),this.toEditorPos(r.selectionEnd,g)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),p.from<p.to&&!p.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(n.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(n.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],a=null;for(let l=this.toEditorPos(r.rangeStart),o=this.toEditorPos(r.rangeEnd);l<o;l++){let u=e.coordsForChar(l);a=u&&new DOMRect(u.left,u.top,u.right-u.left,u.bottom-u.top)||a||new DOMRect,i.push(a)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let a of r.getTextFormats()){let l=a.underlineStyle,o=a.underlineThickness;if(!/none/i.test(l)&&!/none/i.test(o)){let u=this.toEditorPos(a.rangeStart),h=this.toEditorPos(a.rangeEnd);if(u<h){let d=`text-decoration: underline ${/^[a-z]/.test(l)?l+" ":l=="Dashed"?"dashed ":l=="Squiggle"?"wavy ":""}${/thin/i.test(o)?1:2}px`;i.push(ke.mark({attributes:{style:d}}).range(u,h))}}}e.dispatch({effects:Y4.of(ke.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=Zu(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((a,l,o,u,h)=>{if(r)return;let d=h.length-(l-a);if(i&&l>=i.to)if(i.from==a&&i.to==l&&i.insert.eq(h)){i=this.pendingContextChange=null,n+=d,this.to+=d;return}else i=null,this.revertPending(e.state);if(a+=n,l+=n,l<=this.from)this.from+=d,this.to+=d;else if(a<this.to){if(a<this.from||l>this.to||this.to-this.from+h.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(a),this.toContextPos(l),h.toString()),this.to+=d}n+=d}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class pe{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(a=>r(a,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||_H(e.parent)||document,this.viewState=new xj(e.state||qe.create(e)),e.scrollTo&&e.scrollTo.is(Cd)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Co).map(i=>new Dv(i));for(let i of this.plugins)i.update(this);this.observer=new r$(this),this.inputState=new Aq(this),this.inputState.ensureHandlers(this.plugins),this.docView=new lj(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>{this.viewState.mustMeasureContent=!0,this.requestMeasure()})}dispatch(...e){let n=e.length==1&&e[0]instanceof Ht?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,a=this.state;for(let g of e){if(g.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=g.state}if(this.destroyed){this.viewState.state=a;return}let l=this.hasFocus,o=0,u=null;e.some(g=>g.annotation(f_))?(this.inputState.notifiedFocused=l,o=1):l!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=l,u=h_(a,l),u||(o=1));let h=this.observer.delayedAndroidKey,d=null;if(h?(this.observer.clearDelayedAndroidKey(),d=this.observer.readChange(),(d&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(d=null)):this.observer.clear(),a.facet(qe.phrases)!=this.state.facet(qe.phrases))return this.setState(a);i=Nm.create(this,a,e),i.flags|=o;let p=this.viewState.scrollTarget;try{this.updateState=2;for(let g of e){if(p&&(p=p.map(g.changes)),g.scrollIntoView){let{main:y}=g.state.selection;p=new Do(y.empty?y:ae.cursor(y.head,y.head>y.anchor?-1:1))}for(let y of g.effects)y.is(Cd)&&(p=y.value.clip(this.state))}this.viewState.update(i,p),this.bidiCache=Dm.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(Eu)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(g=>g.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Ed)!=i.state.facet(Ed)&&(this.viewState.mustMeasureContent=!0),(n||r||p||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let g of this.state.facet(b1))try{g(i)}catch(y){Wn(this.state,y,"update listener")}(u||d)&&Promise.resolve().then(()=>{u&&this.state==u.startState&&this.dispatch(u),d&&!i_(this,d)&&h.force&&Mo(this.contentDOM,h.key,h.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new xj(e),this.plugins=e.facet(Co).map(r=>new Dv(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new lj(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Co),r=e.state.facet(Co);if(n!=r){let i=[];for(let a of r){let l=n.indexOf(a);if(l<0)i.push(new Dv(a));else{let o=this.plugins[l];o.mustUpdate=e,i.push(o)}}for(let a of this.plugins)a.mustUpdate!=e&&a.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){Wn(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:a,scrollAnchorHeight:l}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(l=-1),this.viewState.scrollAnchorHeight=-1;try{for(let o=0;;o++){if(l<0)if(D4(r))a=-1,l=this.viewState.heightMap.height;else{let y=this.viewState.scrollAnchorAt(i);a=y.from,l=y.top}this.updateState=1;let u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];u&4||([this.measureRequests,h]=[h,this.measureRequests]);let d=h.map(y=>{try{return y.read(this)}catch(w){return Wn(this.state,w),kj}}),p=Nm.create(this,this.state,[]),g=!1;p.flags|=u,n?n.flags|=u:n=p,this.updateState=2,p.empty||(this.updatePlugins(p),this.inputState.update(p),this.updateAttrs(),g=this.docView.update(p),g&&this.docViewUpdate());for(let y=0;y<h.length;y++)if(d[y]!=kj)try{let w=h[y];w.write&&w.write(d[y],this)}catch(w){Wn(this.state,w)}if(g&&this.docView.updateSelection(!0),!p.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=-1;continue}else{let w=(a<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(a).top)-l;if(w>1||w<-1){i=i+w,r.scrollTop=i/this.scaleY,l=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let o of this.state.facet(b1))o(n)}get themeClasses(){return k1+" "+(this.state.facet(O1)?g_:p_)+" "+this.state.facet(Ed)}updateAttrs(){let e=Aj(this,Q4,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(na)?"true":"false",class:"cm-content",style:`${ge.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),Aj(this,fS,n);let r=this.observer.ignore(()=>{let i=tj(this.contentDOM,this.contentAttrs,n),a=tj(this.dom,this.editorAttrs,e);return i||a});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(pe.announce)){n&&(this.announceDOM.textContent=""),n=!1;let a=this.announceDOM.appendChild(document.createElement("div"));a.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Eu);let e=this.state.facet(pe.cspNonce);ps.mount(this.root,this.styleModules.concat(t$).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return Lv(this,e,oj(this,e,n,r))}moveByGroup(e,n){return Lv(this,e,oj(this,e,n,r=>gq(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),a=r[n?r.length-1:0];return ae.cursor(a.side(n,i)+e.from,a.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return pq(this,e,n,r)}moveVertically(e,n,r){return Lv(this,e,yq(this,e,n,r))}domAtPos(e,n=1){return this.docView.domAtPos(e,n)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){this.readMeasured();let r=S1(this,e,n);return r&&r.pos}posAndSideAtCoords(e,n=!0){return this.readMeasured(),S1(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),a=this.bidiSpans(i),l=a[bi.find(a,e-i.from,-1,n)];return Ju(r,l.dir==st.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(F4)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>s$)return z4(e.length);let n=this.textDirectionAt(e.from),r;for(let a of this.bidiCache)if(a.from==e.from&&a.dir==n&&(a.fresh||B4(a.isolates,r=ij(this,e))))return a.order;r||(r=ij(this,e));let i=qH(e.text,n,r);return this.bidiCache.push(new Dm(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ge.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{M4(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return Cd.of(new Do(typeof e=="number"?ae.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return Cd.of(new Do(ae.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Tt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Tt.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=ps.newName(),i=[Ed.of(r),Eu.of(A1(`.${r}`,e))];return n&&n.dark&&i.push(O1.of(!0)),i}static baseTheme(e){return kl.lowest(Eu.of(A1("."+k1,e,y_)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&Rt.get(r)||Rt.get(e);return((n=i?.root)===null||n===void 0?void 0:n.view)||null}}pe.styleModule=Eu;pe.inputHandler=V4;pe.clipboardInputFilter=cS;pe.clipboardOutputFilter=uS;pe.scrollHandler=G4;pe.focusChangeEffect=W4;pe.perLineTextDirection=F4;pe.exceptionSink=$4;pe.updateListener=b1;pe.editable=na;pe.mouseSelectionStyle=q4;pe.dragMovesSelection=H4;pe.clickAddsSelectionRange=U4;pe.decorations=rg;pe.blockWrappers=X4;pe.outerDecorations=hS;pe.atomicRanges=Pf;pe.bidiIsolatedRanges=Z4;pe.scrollMargins=J4;pe.darkTheme=O1;pe.cspNonce=ye.define({combine:t=>t.length?t[0]:""});pe.contentAttributes=fS;pe.editorAttributes=Q4;pe.lineWrapping=pe.contentAttributes.of({class:"cm-lineWrapping"});pe.announce=Te.define();const s$=4096,kj={};class Dm{constructor(e,n,r,i,a,l){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=a,this.order=l}static update(e,n){if(n.empty&&!e.some(a=>a.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:st.LTR;for(let a=Math.max(0,e.length-10);a<e.length;a++){let l=e[a];l.dir==i&&!n.touchesRange(l.from,l.to)&&r.push(new Dm(n.mapPos(l.from,1),n.mapPos(l.to,-1),l.dir,l.isolates,!1,l.order))}return r}}function Aj(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let a=r[i],l=typeof a=="function"?a(t):a;l&&sS(l,n)}return n}const l$=ge.mac?"mac":ge.windows?"win":ge.linux?"linux":"key";function o$(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,a,l,o;for(let u=0;u<n.length-1;++u){const h=n[u];if(/^(cmd|meta|m)$/i.test(h))o=!0;else if(/^a(lt)?$/i.test(h))i=!0;else if(/^(c|ctrl|control)$/i.test(h))a=!0;else if(/^s(hift)?$/i.test(h))l=!0;else if(/^mod$/i.test(h))e=="mac"?o=!0:a=!0;else throw new Error("Unrecognized modifier name: "+h)}return i&&(r="Alt-"+r),a&&(r="Ctrl-"+r),o&&(r="Meta-"+r),l&&(r="Shift-"+r),r}function Td(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const c$=kl.default(pe.domEventHandlers({keydown(t,e){return b_(v_(e.state),t,e,"editor")}})),lg=ye.define({enables:c$}),Nj=new WeakMap;function v_(t){let e=t.facet(lg),n=Nj.get(e);return n||Nj.set(e,n=h$(e.reduce((r,i)=>r.concat(i),[]))),n}function u$(t,e,n){return b_(v_(t.state),e,t,n)}let ns=null;const f$=4e3;function h$(t,e=l$){let n=Object.create(null),r=Object.create(null),i=(l,o)=>{let u=r[l];if(u==null)r[l]=o;else if(u!=o)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},a=(l,o,u,h,d)=>{var p,g;let y=n[l]||(n[l]=Object.create(null)),w=o.split(/ (?!$)/).map(k=>o$(k,e));for(let k=1;k<w.length;k++){let j=w.slice(0,k).join(" ");i(j,!0),y[j]||(y[j]={preventDefault:!0,stopPropagation:!1,run:[N=>{let M=ns={view:N,prefix:j,scope:l};return setTimeout(()=>{ns==M&&(ns=null)},f$),!0}]})}let C=w.join(" ");i(C,!1);let S=y[C]||(y[C]={preventDefault:!1,stopPropagation:!1,run:((g=(p=y._any)===null||p===void 0?void 0:p.run)===null||g===void 0?void 0:g.slice())||[]});u&&S.run.push(u),h&&(S.preventDefault=!0),d&&(S.stopPropagation=!0)};for(let l of t){let o=l.scope?l.scope.split(" "):["editor"];if(l.any)for(let h of o){let d=n[h]||(n[h]=Object.create(null));d._any||(d._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:p}=l;for(let g in d)d[g].run.push(y=>p(y,N1))}let u=l[e]||l.key;if(u)for(let h of o)a(h,u,l.run,l.preventDefault,l.stopPropagation),l.shift&&a(h,"Shift-"+u,l.shift,l.preventDefault,l.stopPropagation)}return n}let N1=null;function b_(t,e,n,r){N1=e;let i=kH(e),a=Hn(i,0),l=yi(a)==i.length&&i!=" ",o="",u=!1,h=!1,d=!1;ns&&ns.view==n&&ns.scope==r&&(o=ns.prefix+" ",l_.indexOf(e.keyCode)<0&&(h=!0,ns=null));let p=new Set,g=S=>{if(S){for(let k of S.run)if(!p.has(k)&&(p.add(k),k(n)))return S.stopPropagation&&(d=!0),!0;S.preventDefault&&(S.stopPropagation&&(d=!0),h=!0)}return!1},y=t[r],w,C;return y&&(g(y[o+Td(i,e,!l)])?u=!0:l&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ge.windows&&e.ctrlKey&&e.altKey)&&!(ge.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(w=gs[e.keyCode])&&w!=i?(g(y[o+Td(w,e,!0)])||e.shiftKey&&(C=Qu[e.keyCode])!=i&&C!=w&&g(y[o+Td(C,e,!1)]))&&(u=!0):l&&e.shiftKey&&g(y[o+Td(i,e,!0)])&&(u=!0),!u&&g(y._any)&&(u=!0)),h&&(u=!0),u&&d&&e.stopPropagation(),N1=null,u}class _f{constructor(e,n,r,i,a){this.className=e,this.left=n,this.top=r,this.width=i,this.height=a}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let a=x_(e);return[new _f(n,i.left-a.left,i.top-a.top,null,i.bottom-i.top)]}else return d$(e,n,r)}}function x_(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==st.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function jj(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let a=t.dom.getBoundingClientRect(),l=(i.top+i.bottom)/2,o=t.posAtCoords({x:a.left+1,y:l}),u=t.posAtCoords({x:a.right-1,y:l});return o==null||u==null?r:{from:Math.max(r.from,Math.min(o,u)),to:Math.min(r.to,Math.max(o,u))}}function d$(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),a=t.textDirection==st.LTR,l=t.contentDOM,o=l.getBoundingClientRect(),u=x_(t),h=l.querySelector(".cm-line"),d=h&&window.getComputedStyle(h),p=o.left+(d?parseInt(d.paddingLeft)+Math.min(0,parseInt(d.textIndent)):0),g=o.right-(d?parseInt(d.paddingRight):0),y=w1(t,r,1),w=w1(t,i,-1),C=y.type==mn.Text?y:null,S=w.type==mn.Text?w:null;if(C&&(t.lineWrapping||y.widgetLineBreaks)&&(C=jj(t,r,1,C)),S&&(t.lineWrapping||w.widgetLineBreaks)&&(S=jj(t,i,-1,S)),C&&S&&C.from==S.from&&C.to==S.to)return j(N(n.from,n.to,C));{let D=C?N(n.from,null,C):M(y,!1),T=S?N(null,n.to,S):M(w,!0),E=[];return(C||y).to<(S||w).from-(C&&S?1:0)||y.widgetLineBreaks>1&&D.bottom+t.defaultLineHeight/2<T.top?E.push(k(p,D.bottom,g,T.top)):D.bottom<T.top&&t.elementAtHeight((D.bottom+T.top)/2).type==mn.Text&&(D.bottom=T.top=(D.bottom+T.top)/2),j(D).concat(E).concat(j(T))}function k(D,T,E,I){return new _f(e,D-u.left,T-u.top,Math.max(0,E-D),I-T)}function j({top:D,bottom:T,horizontal:E}){let I=[];for(let _=0;_<E.length;_+=2)I.push(k(E[_],D,E[_+1],T));return I}function N(D,T,E){let I=1e9,_=-1e9,z=[];function q(se,ee,H,Y,le){let oe=t.coordsAtPos(se,se==E.to?-2:2),he=t.coordsAtPos(H,H==E.from?2:-2);!oe||!he||(I=Math.min(oe.top,he.top,I),_=Math.max(oe.bottom,he.bottom,_),le==st.LTR?z.push(a&&ee?p:oe.left,a&&Y?g:he.right):z.push(!a&&Y?p:he.left,!a&&ee?g:oe.right))}let B=D??E.from,re=T??E.to;for(let se of t.visibleRanges)if(se.to>B&&se.from<re)for(let ee=Math.max(se.from,B),H=Math.min(se.to,re);;){let Y=t.state.doc.lineAt(ee);for(let le of t.bidiSpans(Y)){let oe=le.from+Y.from,he=le.to+Y.from;if(oe>=H)break;he>ee&&q(Math.max(oe,ee),D==null&&oe<=B,Math.min(he,H),T==null&&he>=re,le.dir)}if(ee=Y.to+1,ee>=H)break}return z.length==0&&q(B,D==null,re,T==null,t.textDirection),{top:I,bottom:_,horizontal:z}}function M(D,T){let E=o.top+(T?D.top:D.bottom);return{top:E,bottom:E,horizontal:[]}}}function m$(t,e){return t.constructor==e.constructor&&t.eq(e)}class p${constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(cm)!=e.state.facet(cm)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(cm);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!m$(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e,ge.safari&&ge.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const cm=ye.define();function w_(t){return[Tt.define(e=>new p$(e,t)),cm.of(t)]}const tf=ye.define({combine(t){return Pi(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function g$(t={}){return[tf.of(t),y$,v$,b$,K4.of(!0)]}function S_(t){return t.startState.facet(tf)!=t.state.facet(tf)}const y$=w_({above:!0,markers(t){let{state:e}=t,n=e.facet(tf),r=[];for(let i of e.selection.ranges){let a=i==e.selection.main;if(i.empty||n.drawRangeCursor){let l=a?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",o=i.empty?i:ae.cursor(i.head,i.head>i.anchor?-1:1);for(let u of _f.forRange(t,l,o))r.push(u)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=S_(t);return n&&Ej(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){Ej(e.state,t)},class:"cm-cursorLayer"});function Ej(t,e){e.style.animationDuration=t.facet(tf).cursorBlinkRate+"ms"}const v$=w_({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:_f.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||S_(t)},class:"cm-selectionLayer"}),b$=kl.highest(pe.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),C_=Te.define({map(t,e){return t==null?null:e.mapPos(t)}}),Du=yn.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(C_)?r.value:n,t)}}),x$=Tt.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(Du);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Du)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(Du),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Du)!=t&&this.view.dispatch({effects:C_.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function w$(){return[Du,x$]}function Tj(t,e,n,r,i){e.lastIndex=0;for(let a=t.iterRange(n,r),l=n,o;!a.next().done;l+=a.value.length)if(!a.lineBreak)for(;o=e.exec(a.value);)i(l+o.index,o)}function S$(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:a}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),a=Math.min(t.state.doc.lineAt(a).to,a+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=a:r.push({from:i,to:a});return r}class C${constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:a,maxLength:l=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(o,u,h,d)=>i(d,h,h+o[0].length,o,u);else if(typeof r=="function")this.addMatch=(o,u,h,d)=>{let p=r(o,u,h);p&&d(h,h+o[0].length,p)};else if(r)this.addMatch=(o,u,h,d)=>d(h,h+o[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=a,this.maxLength=l}createDeco(e){let n=new oa,r=n.add.bind(n);for(let{from:i,to:a}of S$(e,this.maxLength))Tj(e.state.doc,this.regexp,i,a,(l,o)=>this.addMatch(o,e,l,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((a,l,o,u)=>{u>=e.view.viewport.from&&o<=e.view.viewport.to&&(r=Math.min(o,r),i=Math.max(u,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let a of e.visibleRanges){let l=Math.max(a.from,r),o=Math.min(a.to,i);if(o>=l){let u=e.state.doc.lineAt(l),h=u.to<o?e.state.doc.lineAt(o):u,d=Math.max(a.from,u.from),p=Math.min(a.to,h.to);if(this.boundary){for(;l>u.from;l--)if(this.boundary.test(u.text[l-1-u.from])){d=l;break}for(;o<h.to;o++)if(this.boundary.test(h.text[o-h.from])){p=o;break}}let g=[],y,w=(C,S,k)=>g.push(k.range(C,S));if(u==h)for(this.regexp.lastIndex=d-u.from;(y=this.regexp.exec(u.text))&&y.index<p-u.from;)this.addMatch(y,e,y.index+u.from,w);else Tj(e.state.doc,this.regexp,d,p,(C,S)=>this.addMatch(S,e,C,w));n=n.update({filterFrom:d,filterTo:p,filter:(C,S)=>C<d||S>p,add:g})}}return n}}const j1=/x/.unicode!=null?"gu":"g",O$=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,j1),k$={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Iv=null;function A$(){var t;if(Iv==null&&typeof document<"u"&&document.body){let e=document.body.style;Iv=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return Iv||!1}const um=ye.define({combine(t){let e=Pi(t,{render:null,specialChars:O$,addSpecialChars:null});return(e.replaceTabs=!A$())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,j1)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,j1)),e}});function N$(t={}){return[um.of(t),j$()]}let Mj=null;function j$(){return Mj||(Mj=Tt.fromClass(class{constructor(t){this.view=t,this.decorations=ke.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(um)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new C$({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,a=Hn(e[0],0);if(a==9){let l=i.lineAt(r),o=n.state.tabSize,u=ic(l.text,o,r-l.from);return ke.replace({widget:new D$((o-u%o)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[a]||(this.decorationCache[a]=ke.replace({widget:new M$(t,a)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(um);t.startState.facet(um)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const E$="";function T$(t){return t>=32?E$:t==10?"":String.fromCharCode(9216+t)}class M$ extends _i{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=T$(this.code),r=e.state.phrase("Control character")+" "+(k$[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let a=document.createElement("span");return a.textContent=n,a.title=r,a.setAttribute("aria-label",r),a.className="cm-specialChar",a}ignoreEvent(){return!1}}class D$ extends _i{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function P$(){return R$}const _$=ke.line({class:"cm-activeLine"}),R$=Tt.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(_$.range(i.from)),e=i.from)}return ke.set(n)}},{decorations:t=>t.decorations});class L$ extends _i{constructor(e){super(),this.content=e}toDOM(e){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),n.setAttribute("aria-hidden","true"),n}coordsAt(e){let n=e.firstChild?Uu(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=Ju(n[0],r.direction!="rtl"),a=parseInt(r.lineHeight);return i.bottom-i.top>a*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+a}:i}ignoreEvent(){return!1}}function B$(t){let e=Tt.fromClass(class{constructor(n){this.view=n,this.placeholder=t?ke.set([ke.widget({widget:new L$(t),side:1}).range(0)]):ke.none}get decorations(){return this.view.state.doc.length?ke.none:this.placeholder}},{decorations:n=>n.decorations});return typeof t=="string"?[e,pe.contentAttributes.of({"aria-placeholder":t})]:e}const E1=2e3;function z$(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),a=[];if(e.off>E1||n.off>E1||e.col<0||n.col<0){let l=Math.min(e.off,n.off),o=Math.max(e.off,n.off);for(let u=r;u<=i;u++){let h=t.doc.line(u);h.length<=o&&a.push(ae.range(h.from+l,h.to+o))}}else{let l=Math.min(e.col,n.col),o=Math.max(e.col,n.col);for(let u=r;u<=i;u++){let h=t.doc.line(u),d=o1(h.text,l,t.tabSize,!0);if(d<0)a.push(ae.cursor(h.to));else{let p=o1(h.text,o,t.tabSize);a.push(ae.range(h.from+d,h.from+p))}}}return a}function I$(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function Dj(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,a=i>E1?-1:i==r.length?I$(t,e.clientX):ic(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:a,off:i}}function U$(t,e){let n=Dj(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let a=i.changes.mapPos(i.startState.doc.line(n.line).from),l=i.state.doc.lineAt(a);n={line:l.number,col:n.col,off:Math.min(n.off,l.length)},r=r.map(i.changes)}},get(i,a,l){let o=Dj(t,i);if(!o)return r;let u=z$(t.state,n,o);return u.length?l?ae.create(u.concat(r.ranges)):ae.create(u):r}}:null}function H$(t){let e=(n=>n.altKey&&n.button==0);return pe.mouseSelectionStyle.of((n,r)=>e(r)?U$(n,r):null)}const q$={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},$$={style:"cursor: crosshair"};function V$(t={}){let[e,n]=q$[t.key||"Alt"],r=Tt.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,pe.contentAttributes.of(i=>{var a;return!((a=i.plugin(r))===null||a===void 0)&&a.isDown?$$:null})]}const Md="-10000px";class O_{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(l=>l);let a=null;this.tooltipViews=this.tooltips.map(l=>a=r(l,a))}update(e,n){var r;let i=e.state.facet(this.facet),a=i.filter(u=>u);if(i===this.input){for(let u of this.tooltipViews)u.update&&u.update(e);return!1}let l=[],o=n?[]:null;for(let u=0;u<a.length;u++){let h=a[u],d=-1;if(h){for(let p=0;p<this.tooltips.length;p++){let g=this.tooltips[p];g&&g.create==h.create&&(d=p)}if(d<0)l[u]=this.createTooltipView(h,u?l[u-1]:null),o&&(o[u]=!!h.above);else{let p=l[u]=this.tooltipViews[d];o&&(o[u]=n[d]),p.update&&p.update(e)}}}for(let u of this.tooltipViews)l.indexOf(u)<0&&(this.removeTooltipView(u),(r=u.destroy)===null||r===void 0||r.call(u));return n&&(o.forEach((u,h)=>n[h]=u),n.length=o.length),this.input=i,this.tooltips=a,this.tooltipViews=l,!0}}function W$(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const Uv=ye.define({combine:t=>{var e,n,r;return{position:ge.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||W$}}}),Pj=new WeakMap,yS=Tt.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(Uv);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new O_(t,vS,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(Uv);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=Md,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:a}=this.manager.tooltipViews[0];if(ge.safari){let l=a.getBoundingClientRect();n=Math.abs(l.top+1e4)>1||Math.abs(l.left)>1}else n=!!a.offsetParent&&a.offsetParent!=this.container.ownerDocument.body}if(n||this.position=="absolute")if(this.parent){let a=this.parent.getBoundingClientRect();a.width&&a.height&&(t=a.width/this.parent.offsetWidth,e=a.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=dS(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((a,l)=>{let o=this.manager.tooltipViews[l];return o.getCoords?o.getCoords(a.pos):this.view.coordsAtPos(a.pos)}),size:this.manager.tooltipViews.map(({dom:a})=>a.getBoundingClientRect()),space:this.view.state.facet(Uv).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let o of this.manager.tooltipViews)o.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:a}=t,l=[];for(let o=0;o<this.manager.tooltips.length;o++){let u=this.manager.tooltips[o],h=this.manager.tooltipViews[o],{dom:d}=h,p=t.pos[o],g=t.size[o];if(!p||u.clip!==!1&&(p.bottom<=Math.max(n.top,r.top)||p.top>=Math.min(n.bottom,r.bottom)||p.right<Math.max(n.left,r.left)-.1||p.left>Math.min(n.right,r.right)+.1)){d.style.top=Md;continue}let y=u.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,w=y?7:0,C=g.right-g.left,S=(e=Pj.get(h))!==null&&e!==void 0?e:g.bottom-g.top,k=h.offset||K$,j=this.view.textDirection==st.LTR,N=g.width>r.right-r.left?j?r.left:r.right-g.width:j?Math.max(r.left,Math.min(p.left-(y?14:0)+k.x,r.right-C)):Math.min(Math.max(r.left,p.left-C+(y?14:0)-k.x),r.right-C),M=this.above[o];!u.strictSide&&(M?p.top-S-w-k.y<r.top:p.bottom+S+w+k.y>r.bottom)&&M==r.bottom-p.bottom>p.top-r.top&&(M=this.above[o]=!M);let D=(M?p.top-r.top:r.bottom-p.bottom)-w;if(D<S&&h.resize!==!1){if(D<this.view.defaultLineHeight){d.style.top=Md;continue}Pj.set(h,S),d.style.height=(S=D)/a+"px"}else d.style.height&&(d.style.height="");let T=M?p.top-S-w-k.y:p.bottom+w+k.y,E=N+C;if(h.overlap!==!0)for(let I of l)I.left<E&&I.right>N&&I.top<T+S&&I.bottom>T&&(T=M?I.top-S-2-w:I.bottom+w+2);if(this.position=="absolute"?(d.style.top=(T-t.parent.top)/a+"px",_j(d,(N-t.parent.left)/i)):(d.style.top=T/a+"px",_j(d,N/i)),y){let I=p.left+(j?k.x:-k.x)-(N+14-7);y.style.left=I/i+"px"}h.overlap!==!0&&l.push({left:N,top:T,right:E,bottom:T+S}),d.classList.toggle("cm-tooltip-above",M),d.classList.toggle("cm-tooltip-below",!M),h.positioned&&h.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Md}},{eventObservers:{scroll(){this.maybeMeasure()}}});function _j(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const F$=pe.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),K$={x:0,y:0},vS=ye.define({enables:[yS,F$]}),Pm=ye.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class og{static create(e){return new og(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new O_(e,Pm,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const G$=vS.compute([Pm],t=>{let e=t.facet(Pm);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:og.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class Y${constructor(e,n,r,i,a){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=a,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.tile.nearest(n.target);if(!r)return;let i,a=1;if(r.isWidget())i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let o=e.coordsAtPos(i);if(!o||n.y<o.top||n.y>o.bottom||n.x<o.left-e.defaultCharacterWidth||n.x>o.right+e.defaultCharacterWidth)return;let u=e.bidiSpans(e.state.doc.lineAt(i)).find(d=>d.from<=i&&d.to>=i),h=u&&u.dir==st.RTL?-1:1;a=n.x<o.left?-h:h}let l=this.source(e,i,a);if(l?.then){let o=this.pending={pos:i};l.then(u=>{this.pending==o&&(this.pending=null,u&&!(Array.isArray(u)&&!u.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(u)?u:[u])}))},u=>Wn(e.state,u,"hover tooltip"))}else l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])})}get tooltip(){let e=this.view.plugin(yS),n=e?e.manager.tooltips.findIndex(r=>r.create==og.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:a}=this;if(i.length&&a&&!Q$(a.dom,e)||this.pending){let{pos:l}=i[0]||this.pending,o=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:l;(l==o?this.view.posAtCoords(this.lastMove)!=l:!X$(this.view,l,o,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),clearTimeout(this.restartTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Dd=4;function Q$(t,e){let{left:n,right:r,top:i,bottom:a}=t.getBoundingClientRect(),l;if(l=t.querySelector(".cm-tooltip-arrow")){let o=l.getBoundingClientRect();i=Math.min(o.top,i),a=Math.max(o.bottom,a)}return e.clientX>=n-Dd&&e.clientX<=r+Dd&&e.clientY>=i-Dd&&e.clientY<=a+Dd}function X$(t,e,n,r,i,a){let l=t.scrollDOM.getBoundingClientRect(),o=t.documentTop+t.documentPadding.top+t.contentHeight;if(l.left>r||l.right<r||l.top>i||Math.min(l.bottom,o)<i)return!1;let u=t.posAtCoords({x:r,y:i},!1);return u>=e&&u<=n}function Z$(t,e={}){let n=Te.define(),r=yn.define({create(){return[]},update(i,a){if(i.length&&(e.hideOnChange&&(a.docChanged||a.selection)?i=[]:e.hideOn&&(i=i.filter(l=>!e.hideOn(a,l))),a.docChanged)){let l=[];for(let o of i){let u=a.changes.mapPos(o.pos,-1,Nn.TrackDel);if(u!=null){let h=Object.assign(Object.create(null),o);h.pos=u,h.end!=null&&(h.end=a.changes.mapPos(h.end)),l.push(h)}}i=l}for(let l of a.effects)l.is(n)&&(i=l.value),l.is(J$)&&(i=[]);return i},provide:i=>Pm.from(i)});return{active:r,extension:[r,Tt.define(i=>new Y$(i,t,r,n,e.hoverTime||300)),G$]}}function k_(t,e){let n=t.plugin(yS);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const J$=Te.define(),Rj=ye.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function bS(t,e){let n=t.plugin(A_),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const A_=Tt.fromClass(class{constructor(t){this.input=t.state.facet(nf),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(Rj);this.top=new Pd(t,!0,e.topContainer),this.bottom=new Pd(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(Rj);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Pd(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Pd(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(nf);if(n!=this.input){let r=n.filter(u=>u),i=[],a=[],l=[],o=[];for(let u of r){let h=this.specs.indexOf(u),d;h<0?(d=u(t.view),o.push(d)):(d=this.panels[h],d.update&&d.update(t)),i.push(d),(d.top?a:l).push(d)}this.specs=r,this.panels=i,this.top.sync(a),this.bottom.sync(l);for(let u of o)u.dom.classList.add("cm-panel"),u.mount&&u.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>pe.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class Pd{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=Lj(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=Lj(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Lj(t){let e=t.nextSibling;return t.remove(),e}const nf=ye.define({enables:A_});function eV(t,e){let n,r=new Promise(l=>n=l),i=l=>tV(l,e,n);t.state.field(Hv,!1)?t.dispatch({effects:N_.of(i)}):t.dispatch({effects:Te.appendConfig.of(Hv.init(()=>[i]))});let a=j_.of(i);return{close:a,result:r.then(l=>((t.win.queueMicrotask||(u=>t.win.setTimeout(u,10)))(()=>{t.state.field(Hv).indexOf(i)>-1&&t.dispatch({effects:a})}),l))}}const Hv=yn.define({create(){return[]},update(t,e){for(let n of e.effects)n.is(N_)?t=[n.value].concat(t):n.is(j_)&&(t=t.filter(r=>r!=n.value));return t},provide:t=>nf.computeN([t],e=>e.field(t))}),N_=Te.define(),j_=Te.define();function tV(t,e,n){let r=e.content?e.content(t,()=>l(null)):null;if(!r){if(r=nt("form"),e.input){let o=nt("input",e.input);/^(text|password|number|email|tel|url)$/.test(o.type)&&o.classList.add("cm-textfield"),o.name||(o.name="input"),r.appendChild(nt("label",(e.label||"")+": ",o))}else r.appendChild(document.createTextNode(e.label||""));r.appendChild(document.createTextNode(" ")),r.appendChild(nt("button",{class:"cm-button",type:"submit"},e.submitLabel||"OK"))}let i=r.nodeName=="FORM"?[r]:r.querySelectorAll("form");for(let o=0;o<i.length;o++){let u=i[o];u.addEventListener("keydown",h=>{h.keyCode==27?(h.preventDefault(),l(null)):h.keyCode==13&&(h.preventDefault(),l(u))}),u.addEventListener("submit",h=>{h.preventDefault(),l(u)})}let a=nt("div",r,nt("button",{onclick:()=>l(null),"aria-label":t.state.phrase("close"),class:"cm-dialog-close",type:"button"},[""]));e.class&&(a.className=e.class),a.classList.add("cm-dialog");function l(o){a.contains(a.ownerDocument.activeElement)&&t.focus(),n(o)}return{dom:a,top:e.top,mount:()=>{if(e.focus){let o;typeof e.focus=="string"?o=r.querySelector(e.focus):o=r.querySelector("input")||r.querySelector("button"),o&&"select"in o?o.select():o&&"focus"in o&&o.focus()}}}}class ua extends ms{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ua.prototype.elementClass="";ua.prototype.toDOM=void 0;ua.prototype.mapMode=Nn.TrackBefore;ua.prototype.startSide=ua.prototype.endSide=-1;ua.prototype.point=!0;const fm=ye.define(),nV=ye.define(),rV={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>ze.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},$u=ye.define();function iV(t){return[E_(),$u.of({...rV,...t})]}const Bj=ye.define({combine:t=>t.some(e=>e)});function E_(t){return[aV]}const aV=Tt.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet($u).map(e=>new Ij(t,e)),this.fixed=!t.state.facet(Bj);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(t.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(Bj)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=ze.iter(this.view.state.facet(fm),this.view.viewport.from),r=[],i=this.gutters.map(a=>new sV(a,this.view.viewport,-this.view.documentPadding.top));for(let a of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(a.type)){let l=!0;for(let o of a.type)if(o.type==mn.Text&&l){T1(n,r,o.from);for(let u of i)u.line(this.view,o,r);l=!1}else if(o.widget)for(let u of i)u.widget(this.view,o)}else if(a.type==mn.Text){T1(n,r,a.from);for(let l of i)l.line(this.view,a,r)}else if(a.widget)for(let l of i)l.widget(this.view,a);for(let a of i)a.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet($u),n=t.state.facet($u),r=t.docChanged||t.heightChanged||t.viewportChanged||!ze.eq(t.startState.facet(fm),t.state.facet(fm),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let a of n){let l=e.indexOf(a);l<0?i.push(new Ij(this.view,a)):(this.gutters[l].update(t),i.push(this.gutters[l]))}for(let a of this.gutters)a.dom.remove(),i.indexOf(a)<0&&a.destroy();for(let a of i)a.config.side=="after"?this.getDOMAfter().appendChild(a.dom):this.dom.appendChild(a.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>pe.scrollMargins.of(e=>{let n=e.plugin(t);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*e.scaleX,i=n.domAfter?n.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==st.LTR?{left:r,right:i}:{right:r,left:i}})});function zj(t){return Array.isArray(t)?t:[t]}function T1(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class sV{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=ze.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,a=(n.top-this.height)/e.scaleY,l=n.height/e.scaleY;if(this.i==i.elements.length){let o=new T_(e,l,a,r);i.elements.push(o),i.dom.appendChild(o.dom)}else i.elements[this.i].update(e,l,a,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];T1(this.cursor,i,n.from),r.length&&(i=i.concat(r));let a=this.gutter.config.lineMarker(e,n,i);a&&i.unshift(a);let l=this.gutter;i.length==0&&!l.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let a of e.state.facet(nV)){let l=a(e,n.widget,n);l&&(i||(i=[])).push(l)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class Ij{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let a=i.target,l;if(a!=this.dom&&this.dom.contains(a)){for(;a.parentNode!=this.dom;)a=a.parentNode;let u=a.getBoundingClientRect();l=(u.top+u.bottom)/2}else l=i.clientY;let o=e.lineBlockAtHeight(l-e.documentTop);n.domEventHandlers[r](e,o,i)&&i.preventDefault()});this.markers=zj(n.markers(e)),n.initialSpacer&&(this.spacer=new T_(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=zj(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!ze.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class T_{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),lV(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let a=0,l=0;;){let o=l,u=a<n.length?n[a++]:null,h=!1;if(u){let d=u.elementClass;d&&(r+=" "+d);for(let p=l;p<this.markers.length;p++)if(this.markers[p].compare(u)){o=p,h=!0;break}}else o=this.markers.length;for(;l<o;){let d=this.markers[l++];if(d.toDOM){d.destroy(i);let p=i.nextSibling;i.remove(),i=p}}if(!u)break;u.toDOM&&(h?i=i.nextSibling:this.dom.insertBefore(u.toDOM(e),i)),h&&l++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function lV(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const oV=ye.define(),cV=ye.define(),Oo=ye.define({combine(t){return Pi(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let a=r[i],l=n[i];r[i]=a?(o,u,h)=>a(o,u,h)||l(o,u,h):l}return r}})}});class qv extends ua{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function $v(t,e){return t.state.facet(Oo).formatNumber(e,t.state)}const uV=$u.compute([Oo],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(oV)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new qv($v(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(cV)){let a=i(e,n,r);if(a)return a}return null},lineMarkerChange:e=>e.startState.facet(Oo)!=e.state.facet(Oo),initialSpacer(e){return new qv($v(e,Uj(e.state.doc.lines)))},updateSpacer(e,n){let r=$v(n.view,Uj(n.view.state.doc.lines));return r==e.number?e:new qv(r)},domEventHandlers:t.facet(Oo).domEventHandlers,side:"before"}));function fV(t={}){return[Oo.of(t),E_(),uV]}function Uj(t){let e=9;for(;e<t;)e=e*10+9;return e}const hV=new class extends ua{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},dV=fm.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(hV.range(i)))}return ze.of(e)});function mV(){return dV}const M_=1024;let pV=0;class Vv{constructor(e,n){this.from=e,this.to=n}}class Re{constructor(e={}){this.id=pV++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Yn.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}Re.closedBy=new Re({deserialize:t=>t.split(" ")});Re.openedBy=new Re({deserialize:t=>t.split(" ")});Re.group=new Re({deserialize:t=>t.split(" ")});Re.isolate=new Re({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});Re.contextHash=new Re({perNode:!0});Re.lookAhead=new Re({perNode:!0});Re.mounted=new Re({perNode:!0});class Vu{constructor(e,n,r,i=!1){this.tree=e,this.overlay=n,this.parser=r,this.bracketed=i}static get(e){return e&&e.props&&e.props[Re.mounted.id]}}const gV=Object.create(null);class Yn{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):gV,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Yn(e.name||"",n,e.id,r);if(e.props){for(let a of e.props)if(Array.isArray(a)||(a=a(i)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[a[0].id]=a[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(Re.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(Re.group),a=-1;a<(i?i.length:0);a++){let l=n[a<0?r.name:i[a]];if(l)return l}}}}Yn.none=new Yn("",Object.create(null),0,8);class xS{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let a of e){let l=a(r);if(l){i||(i=Object.assign({},r.props));let o=l[1],u=l[0];u.combine&&u.id in i&&(o=u.combine(i[u.id],o)),i[u.id]=o}}n.push(i?new Yn(r.name,i,r.id,r.flags):r)}return new xS(n)}}const _d=new WeakMap,Hj=new WeakMap;var kt;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays",t[t.EnterBracketed=16]="EnterBracketed"})(kt||(kt={}));class Et{constructor(e,n,r,i,a){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,a&&a.length){this.props=Object.create(null);for(let[l,o]of a)this.props[typeof l=="number"?l:l.id]=o}}toString(){let e=Vu.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new D1(this.topNode,e)}cursorAt(e,n=0,r=0){let i=_d.get(this)||this.topNode,a=new D1(i);return a.moveTo(e,n),_d.set(this,a._tree),a}get topNode(){return new Lr(this,0,0,null)}resolve(e,n=0){let r=rf(_d.get(this)||this.topNode,e,n,!1);return _d.set(this,r),r}resolveInner(e,n=0){let r=rf(Hj.get(this)||this.topNode,e,n,!0);return Hj.set(this,r),r}resolveStack(e,n=0){return bV(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:a=this.length}=e,l=e.mode||0,o=(l&kt.IncludeAnonymous)>0;for(let u=this.cursor(l|kt.IncludeAnonymous);;){let h=!1;if(u.from<=a&&u.to>=i&&(!o&&u.type.isAnonymous||n(u)!==!1)){if(u.firstChild())continue;h=!0}for(;h&&r&&(o||!u.type.isAnonymous)&&r(u),!u.nextSibling();){if(!u.parent())return;h=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:CS(Yn.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new Et(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new Et(Yn.none,n,r,i)))}static build(e){return xV(e)}}Et.empty=new Et(Yn.none,[],[],0);class wS{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new wS(this.buffer,this.index)}}class vs{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return Yn.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],a=i.name;if(/\W/.test(a)&&!i.isError&&(a=JSON.stringify(a)),e+=4,r==e)return a;let l=[];for(;e<r;)l.push(this.childString(e)),e=this.buffer[e+3];return a+"("+l.join(",")+")"}findChild(e,n,r,i,a){let{buffer:l}=this,o=-1;for(let u=e;u!=n&&!(D_(a,i,l[u+1],l[u+2])&&(o=u,r>0));u=l[u+3]);return o}slice(e,n,r){let i=this.buffer,a=new Uint16Array(n-e),l=0;for(let o=e,u=0;o<n;){a[u++]=i[o++],a[u++]=i[o++]-r;let h=a[u++]=i[o++]-r;a[u++]=i[o++]-e,l=Math.max(l,h)}return new vs(a,l,this.set)}}function D_(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function rf(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let l=!r&&t instanceof Lr&&t.index<0?null:t.parent;if(!l)return t;t=l}let a=r?0:kt.IgnoreOverlays;if(r)for(let l=t,o=l.parent;o;l=o,o=l.parent)l instanceof Lr&&l.index<0&&((i=o.enter(e,n,a))===null||i===void 0?void 0:i.from)!=l.from&&(t=o);for(;;){let l=t.enter(e,n,a);if(!l)return t;t=l}}class P_{cursor(e=0){return new D1(this,e)}getChild(e,n=null,r=null){let i=qj(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return qj(this,e,n,r)}resolve(e,n=0){return rf(this,e,n,!1)}resolveInner(e,n=0){return rf(this,e,n,!0)}matchContext(e){return M1(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class Lr extends P_{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,a=0){for(let l=this;;){for(let{children:o,positions:u}=l._tree,h=n>0?o.length:-1;e!=h;e+=n){let d=o[e],p=u[e]+l.from,g;if(!(!(a&kt.EnterBracketed&&d instanceof Et&&(g=Vu.get(d))&&!g.overlay&&g.bracketed&&r>=p&&r<=p+d.length)&&!D_(i,r,p,p+d.length))){if(d instanceof vs){if(a&kt.ExcludeBuffers)continue;let y=d.findChild(0,d.buffer.length,n,r-p,i);if(y>-1)return new ss(new yV(l,d,e,p),null,y)}else if(a&kt.IncludeAnonymous||!d.type.isAnonymous||SS(d)){let y;if(!(a&kt.IgnoreMounts)&&(y=Vu.get(d))&&!y.overlay)return new Lr(y.tree,p,e,l);let w=new Lr(d,p,e,l);return a&kt.IncludeAnonymous||!w.type.isAnonymous?w:w.nextChild(n<0?d.children.length-1:0,n,r,i,a)}}}if(a&kt.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?e=l.index+n:e=n<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,n,r=0){let i;if(!(r&kt.IgnoreOverlays)&&(i=Vu.get(this._tree))&&i.overlay){let a=e-this.from,l=r&kt.EnterBracketed&&i.bracketed;for(let{from:o,to:u}of i.overlay)if((n>0||l?o<=a:o<a)&&(n<0||l?u>=a:u>a))return new Lr(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function qj(t,e,n,r){let i=t.cursor(),a=[];if(!i.firstChild())return a;if(n!=null){for(let l=!1;!l;)if(l=i.type.is(n),!i.nextSibling())return a}for(;;){if(r!=null&&i.type.is(r))return a;if(i.type.is(e)&&a.push(i.node),!i.nextSibling())return r==null?a:[]}}function M1(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class yV{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class ss extends P_{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return a<0?null:new ss(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,n,r=0){if(r&kt.ExcludeBuffers)return null;let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return a<0?null:new ss(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new ss(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new ss(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,a=r.buffer[this.index+3];if(a>i){let l=r.buffer[this.index+1];e.push(r.slice(i,a,l)),n.push(0)}return new Et(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function __(t){if(!t.length)return null;let e=0,n=t[0];for(let a=1;a<t.length;a++){let l=t[a];(l.from>n.from||l.to<n.to)&&(n=l,e=a)}let r=n instanceof Lr&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new vV(i,n)}class vV{constructor(e,n){this.heads=e,this.node=n}get next(){return __(this.heads)}}function bV(t,e,n){let r=t.resolveInner(e,n),i=null;for(let a=r instanceof Lr?r:r.context.parent;a;a=a.parent)if(a.index<0){let l=a.parent;(i||(i=[r])).push(l.resolve(e,n)),a=l}else{let l=Vu.get(a.tree);if(l&&l.overlay&&l.overlay[0].from<=e&&l.overlay[l.overlay.length-1].to>=e){let o=new Lr(l.tree,l.overlay[0].from+a.from,-1,a);(i||(i=[r])).push(rf(o,e,n,!1))}}return i?__(i):r}class D1{get name(){return this.type.name}constructor(e,n=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=n&~kt.EnterBracketed,e instanceof Lr)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Lr?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,a=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return a<0?!1:(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&kt.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&kt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&kt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(i.buffer.buffer[a+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let a=n+e,l=e<0?-1:r._tree.children.length;a!=l;a+=e){let o=r._tree.children[a];if(this.mode&kt.IncludeAnonymous||o instanceof vs||!o.type.isAnonymous||SS(o))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,a=this.stack.length;a>=0;){for(let l=e;l;l=l._parent)if(l.index==i){if(i==this.index)return l;n=l,r=a+1;break e}i=this.stack[--a]}for(let i=r;i<this.stack.length;i++)n=new ss(this.buffer,n,this.stack[i]);return this.bufferNode=new ss(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return M1(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,a=this.stack.length-1;i>=0;a--){if(a<0)return M1(this._tree,e,i);let l=r[n.buffer[this.stack[a]]];if(!l.isAnonymous){if(e[i]&&e[i]!=l.name)return!1;i--}}return!0}}function SS(t){return t.children.some(e=>e instanceof vs||!e.type.isAnonymous||SS(e))}function xV(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=M_,reused:a=[],minRepeatType:l=r.types.length}=t,o=Array.isArray(n)?new wS(n,n.length):n,u=r.types,h=0,d=0;function p(D,T,E,I,_,z){let{id:q,start:B,end:re,size:se}=o,ee=d,H=h;if(se<0)if(o.next(),se==-1){let R=a[q];E.push(R),I.push(B-D);return}else if(se==-3){h=q;return}else if(se==-4){d=q;return}else throw new RangeError(`Unrecognized record size: ${se}`);let Y=u[q],le,oe,he=B-D;if(re-B<=i&&(oe=S(o.pos-T,_))){let R=new Uint16Array(oe.size-oe.skip),K=o.pos-oe.size,ce=R.length;for(;o.pos>K;)ce=k(oe.start,R,ce);le=new vs(R,re-oe.start,r),he=oe.start-D}else{let R=o.pos-se;o.next();let K=[],ce=[],Q=q>=l?q:-1,de=0,fe=re;for(;o.pos>R;)Q>=0&&o.id==Q&&o.size>=0?(o.end<=fe-i&&(w(K,ce,B,de,o.end,fe,Q,ee,H),de=K.length,fe=o.end),o.next()):z>2500?g(B,R,K,ce):p(B,R,K,ce,Q,z+1);if(Q>=0&&de>0&&de<K.length&&w(K,ce,B,de,B,fe,Q,ee,H),K.reverse(),ce.reverse(),Q>-1&&de>0){let be=y(Y,H);le=CS(Y,K,ce,0,K.length,0,re-B,be,be)}else le=C(Y,K,ce,re-B,ee-re,H)}E.push(le),I.push(he)}function g(D,T,E,I){let _=[],z=0,q=-1;for(;o.pos>T;){let{id:B,start:re,end:se,size:ee}=o;if(ee>4)o.next();else{if(q>-1&&re<q)break;q<0&&(q=se-i),_.push(B,re,se),z++,o.next()}}if(z){let B=new Uint16Array(z*4),re=_[_.length-2];for(let se=_.length-3,ee=0;se>=0;se-=3)B[ee++]=_[se],B[ee++]=_[se+1]-re,B[ee++]=_[se+2]-re,B[ee++]=ee;E.push(new vs(B,_[2]-re,r)),I.push(re-D)}}function y(D,T){return(E,I,_)=>{let z=0,q=E.length-1,B,re;if(q>=0&&(B=E[q])instanceof Et){if(!q&&B.type==D&&B.length==_)return B;(re=B.prop(Re.lookAhead))&&(z=I[q]+B.length+re)}return C(D,E,I,_,z,T)}}function w(D,T,E,I,_,z,q,B,re){let se=[],ee=[];for(;D.length>I;)se.push(D.pop()),ee.push(T.pop()+E-_);D.push(C(r.types[q],se,ee,z-_,B-z,re)),T.push(_-E)}function C(D,T,E,I,_,z,q){if(z){let B=[Re.contextHash,z];q=q?[B].concat(q):[B]}if(_>25){let B=[Re.lookAhead,_];q=q?[B].concat(q):[B]}return new Et(D,T,E,I,q)}function S(D,T){let E=o.fork(),I=0,_=0,z=0,q=E.end-i,B={size:0,start:0,skip:0};e:for(let re=E.pos-D;E.pos>re;){let se=E.size;if(E.id==T&&se>=0){B.size=I,B.start=_,B.skip=z,z+=4,I+=4,E.next();continue}let ee=E.pos-se;if(se<0||ee<re||E.start<q)break;let H=E.id>=l?4:0,Y=E.start;for(E.next();E.pos>ee;){if(E.size<0)if(E.size==-3||E.size==-4)H+=4;else break e;else E.id>=l&&(H+=4);E.next()}_=Y,I+=se,z+=H}return(T<0||I==D)&&(B.size=I,B.start=_,B.skip=z),B.size>4?B:void 0}function k(D,T,E){let{id:I,start:_,end:z,size:q}=o;if(o.next(),q>=0&&I<l){let B=E;if(q>4){let re=o.pos-(q-4);for(;o.pos>re;)E=k(D,T,E)}T[--E]=B,T[--E]=z-D,T[--E]=_-D,T[--E]=I}else q==-3?h=I:q==-4&&(d=I);return E}let j=[],N=[];for(;o.pos>0;)p(t.start||0,t.bufferStart||0,j,N,-1,0);let M=(e=t.length)!==null&&e!==void 0?e:j.length?N[0]+j[0].length:0;return new Et(u[t.topID],j.reverse(),N.reverse(),M)}const $j=new WeakMap;function hm(t,e){if(!t.isAnonymous||e instanceof vs||e.type!=t)return 1;let n=$j.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Et)){n=1;break}n+=hm(t,r)}$j.set(e,n)}return n}function CS(t,e,n,r,i,a,l,o,u){let h=0;for(let w=r;w<i;w++)h+=hm(t,e[w]);let d=Math.ceil(h*1.5/8),p=[],g=[];function y(w,C,S,k,j){for(let N=S;N<k;){let M=N,D=C[N],T=hm(t,w[N]);for(N++;N<k;N++){let E=hm(t,w[N]);if(T+E>=d)break;T+=E}if(N==M+1){if(T>d){let E=w[M];y(E.children,E.positions,0,E.children.length,C[M]+j);continue}p.push(w[M])}else{let E=C[N-1]+w[N-1].length-D;p.push(CS(t,w,C,M,N,D,E,null,u))}g.push(D+j-a)}}return y(e,n,r,i,0),(o||u)(p,g,l)}class cl{constructor(e,n,r,i,a=!1,l=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(a?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new cl(0,e.length,e,0,!1,r)];for(let a of n)a.to>e.length&&i.push(a);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],a=1,l=e.length?e[0]:null;for(let o=0,u=0,h=0;;o++){let d=o<n.length?n[o]:null,p=d?d.fromA:1e9;if(p-u>=r)for(;l&&l.from<p;){let g=l;if(u>=g.from||p<=g.to||h){let y=Math.max(g.from,u)-h,w=Math.min(g.to,p)-h;g=y>=w?null:new cl(y,w,g.tree,g.offset+h,o>0,!!d)}if(g&&i.push(g),l.to>p)break;l=a<e.length?e[a++]:null}if(!d)break;u=d.toA,h=d.toA-d.toB}return i}}class R_{startParse(e,n,r){return typeof e=="string"&&(e=new wV(e)),r=r?r.length?r.map(i=>new Vv(i.from,i.to)):[new Vv(0,0)]:[new Vv(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let a=i.advance();if(a)return a}}}class wV{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new Re({perNode:!0});let SV=0;class Tr{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=SV++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof Tr&&(n=e),n?.base)throw new Error("Can not derive from a modified tag");let i=new Tr(r,[],null,[]);if(i.set.push(i),n)for(let a of n.set)i.set.push(a);return i}static defineModifier(e){let n=new _m(e);return r=>r.modified.indexOf(n)>-1?r:_m.get(r.base||r,r.modified.concat(n).sort((i,a)=>i.id-a.id))}}let CV=0;class _m{constructor(e){this.name=e,this.instances=[],this.id=CV++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(o=>o.base==e&&OV(n,o.modified));if(r)return r;let i=[],a=new Tr(e.name,i,e,n);for(let o of n)o.instances.push(a);let l=kV(n);for(let o of e.set)if(!o.modified.length)for(let u of l)i.push(_m.get(o,u));return a}}function OV(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function kV(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function L_(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let a=[],l=2,o=i;for(let p=0;;){if(o=="..."&&p>0&&p+3==i.length){l=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!g)throw new RangeError("Invalid path: "+i);if(a.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),p+=g[0].length,p==i.length)break;let y=i[p++];if(p==i.length&&y=="!"){l=0;break}if(y!="/")throw new RangeError("Invalid path: "+i);o=i.slice(p)}let u=a.length-1,h=a[u];if(!h)throw new RangeError("Invalid path: "+i);let d=new af(r,l,u>0?a.slice(0,u):null);e[h]=d.sort(e[h])}}return B_.add(e)}const B_=new Re({combine(t,e){let n,r,i;for(;t||e;){if(!t||e&&t.depth>=e.depth?(i=e,e=e.next):(i=t,t=t.next),n&&n.mode==i.mode&&!i.context&&!n.context)continue;let a=new af(i.tags,i.mode,i.context);n?n.next=a:r=a,n=a}return r}});class af{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}af.empty=new af([],2,null);function z_(t,e){let n=Object.create(null);for(let a of t)if(!Array.isArray(a.tag))n[a.tag.id]=a.class;else for(let l of a.tag)n[l.id]=a.class;let{scope:r,all:i=null}=e||{};return{style:a=>{let l=i;for(let o of a)for(let u of o.set){let h=n[u.id];if(h){l=l?l+" "+h:h;break}}return l},scope:r}}function AV(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function NV(t,e,n,r=0,i=t.length){let a=new jV(r,Array.isArray(e)?e:[e],n);a.highlightRange(t.cursor(),r,i,"",a.highlighters),a.flush(i)}class jV{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,a){let{type:l,from:o,to:u}=e;if(o>=r||u<=n)return;l.isTop&&(a=this.highlighters.filter(y=>!y.scope||y.scope(l)));let h=i,d=EV(e)||af.empty,p=AV(a,d.tags);if(p&&(h&&(h+=" "),h+=p,d.mode==1&&(i+=(i?" ":"")+p)),this.startSpan(Math.max(n,o),h),d.opaque)return;let g=e.tree&&e.tree.prop(Re.mounted);if(g&&g.overlay){let y=e.node.enter(g.overlay[0].from+o,1),w=this.highlighters.filter(S=>!S.scope||S.scope(g.tree.type)),C=e.firstChild();for(let S=0,k=o;;S++){let j=S<g.overlay.length?g.overlay[S]:null,N=j?j.from+o:u,M=Math.max(n,k),D=Math.min(r,N);if(M<D&&C)for(;e.from<D&&(this.highlightRange(e,M,D,i,a),this.startSpan(Math.min(D,e.to),h),!(e.to>=N||!e.nextSibling())););if(!j||N>r)break;k=j.to+o,k>n&&(this.highlightRange(y.cursor(),Math.max(n,j.from+o),Math.min(r,k),"",w),this.startSpan(Math.min(r,k),h))}C&&e.parent()}else if(e.firstChild()){g&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,a),this.startSpan(Math.min(r,e.to),h)}while(e.nextSibling());e.parent()}}}function EV(t){let e=t.type.prop(B_);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const me=Tr.define,Rd=me(),Za=me(),Vj=me(Za),Wj=me(Za),Ja=me(),Ld=me(Ja),Wv=me(Ja),mi=me(),Fs=me(mi),ci=me(),ui=me(),P1=me(),pu=me(P1),Bd=me(),G={comment:Rd,lineComment:me(Rd),blockComment:me(Rd),docComment:me(Rd),name:Za,variableName:me(Za),typeName:Vj,tagName:me(Vj),propertyName:Wj,attributeName:me(Wj),className:me(Za),labelName:me(Za),namespace:me(Za),macroName:me(Za),literal:Ja,string:Ld,docString:me(Ld),character:me(Ld),attributeValue:me(Ld),number:Wv,integer:me(Wv),float:me(Wv),bool:me(Ja),regexp:me(Ja),escape:me(Ja),color:me(Ja),url:me(Ja),keyword:ci,self:me(ci),null:me(ci),atom:me(ci),unit:me(ci),modifier:me(ci),operatorKeyword:me(ci),controlKeyword:me(ci),definitionKeyword:me(ci),moduleKeyword:me(ci),operator:ui,derefOperator:me(ui),arithmeticOperator:me(ui),logicOperator:me(ui),bitwiseOperator:me(ui),compareOperator:me(ui),updateOperator:me(ui),definitionOperator:me(ui),typeOperator:me(ui),controlOperator:me(ui),punctuation:P1,separator:me(P1),bracket:pu,angleBracket:me(pu),squareBracket:me(pu),paren:me(pu),brace:me(pu),content:mi,heading:Fs,heading1:me(Fs),heading2:me(Fs),heading3:me(Fs),heading4:me(Fs),heading5:me(Fs),heading6:me(Fs),contentSeparator:me(mi),list:me(mi),quote:me(mi),emphasis:me(mi),strong:me(mi),link:me(mi),monospace:me(mi),strikethrough:me(mi),inserted:me(),deleted:me(),changed:me(),invalid:me(),meta:Bd,documentMeta:me(Bd),annotation:me(Bd),processingInstruction:me(Bd),definition:Tr.defineModifier("definition"),constant:Tr.defineModifier("constant"),function:Tr.defineModifier("function"),standard:Tr.defineModifier("standard"),local:Tr.defineModifier("local"),special:Tr.defineModifier("special")};for(let t in G){let e=G[t];e instanceof Tr&&(e.name=t)}z_([{tag:G.link,class:"tok-link"},{tag:G.heading,class:"tok-heading"},{tag:G.emphasis,class:"tok-emphasis"},{tag:G.strong,class:"tok-strong"},{tag:G.keyword,class:"tok-keyword"},{tag:G.atom,class:"tok-atom"},{tag:G.bool,class:"tok-bool"},{tag:G.url,class:"tok-url"},{tag:G.labelName,class:"tok-labelName"},{tag:G.inserted,class:"tok-inserted"},{tag:G.deleted,class:"tok-deleted"},{tag:G.literal,class:"tok-literal"},{tag:G.string,class:"tok-string"},{tag:G.number,class:"tok-number"},{tag:[G.regexp,G.escape,G.special(G.string)],class:"tok-string2"},{tag:G.variableName,class:"tok-variableName"},{tag:G.local(G.variableName),class:"tok-variableName tok-local"},{tag:G.definition(G.variableName),class:"tok-variableName tok-definition"},{tag:G.special(G.variableName),class:"tok-variableName2"},{tag:G.definition(G.propertyName),class:"tok-propertyName tok-definition"},{tag:G.typeName,class:"tok-typeName"},{tag:G.namespace,class:"tok-namespace"},{tag:G.className,class:"tok-className"},{tag:G.macroName,class:"tok-macroName"},{tag:G.propertyName,class:"tok-propertyName"},{tag:G.operator,class:"tok-operator"},{tag:G.comment,class:"tok-comment"},{tag:G.meta,class:"tok-meta"},{tag:G.invalid,class:"tok-invalid"},{tag:G.punctuation,class:"tok-punctuation"}]);var Fv;const ko=new Re;function TV(t){return ye.define({combine:t?e=>e.concat(t):void 0})}const MV=new Re;class Qr{constructor(e,n,r=[],i=""){this.data=e,this.name=i,qe.prototype.hasOwnProperty("tree")||Object.defineProperty(qe.prototype,"tree",{get(){return Xt(this)}}),this.parser=n,this.extension=[bs.of(this),qe.languageData.of((a,l,o)=>{let u=Fj(a,l,o),h=u.type.prop(ko);if(!h)return[];let d=a.facet(h),p=u.type.prop(MV);if(p){let g=u.resolve(l-u.from,o);for(let y of p)if(y.test(g,a)){let w=a.facet(y.facet);return y.type=="replace"?w:w.concat(d)}}return d})].concat(r)}isActiveAt(e,n,r=-1){return Fj(e,n,r).type.prop(ko)==this.data}findRegions(e){let n=e.facet(bs);if(n?.data==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(a,l)=>{if(a.prop(ko)==this.data){r.push({from:l,to:l+a.length});return}let o=a.prop(Re.mounted);if(o){if(o.tree.prop(ko)==this.data){if(o.overlay)for(let u of o.overlay)r.push({from:u.from+l,to:u.to+l});else r.push({from:l,to:l+a.length});return}else if(o.overlay){let u=r.length;if(i(o.tree,o.overlay[0].from+l),r.length>u)return}}for(let u=0;u<a.children.length;u++){let h=a.children[u];h instanceof Et&&i(h,a.positions[u]+l)}};return i(Xt(e),0),r}get allowsNesting(){return!0}}Qr.setState=Te.define();function Fj(t,e,n){let r=t.facet(bs),i=Xt(t).topNode;if(!r||r.allowsNesting)for(let a=i;a;a=a.enter(e,n,kt.ExcludeBuffers|kt.EnterBracketed))a.type.isTop&&(i=a);return i}class Rm extends Qr{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=TV(e.languageData);return new Rm(n,e.parser.configure({props:[ko.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new Rm(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Xt(t){let e=t.field(Qr.state,!1);return e?e.tree:Et.empty}class DV{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let gu=null;class Lm{constructor(e,n,r=[],i,a,l,o,u){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=a,this.viewport=l,this.skipped=o,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new Lm(e,n,[],Et.empty,0,r,[],null)}startParse(){return this.parser.startParse(new DV(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Et.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(cl.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(cl.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=gu;gu=this;try{return e()}finally{gu=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=Kj(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:a,viewport:l,skipped:o}=this;if(this.takeTree(),!e.empty){let u=[];if(e.iterChangedRanges((h,d,p,g)=>u.push({fromA:h,toA:d,fromB:p,toB:g})),r=cl.applyChanges(r,u),i=Et.empty,a=0,l={from:e.mapPos(l.from,-1),to:e.mapPos(l.to,1)},this.skipped.length){o=[];for(let h of this.skipped){let d=e.mapPos(h.from,1),p=e.mapPos(h.to,-1);d<p&&o.push({from:d,to:p})}}}return new Lm(this.parser,n,r,i,a,l,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:a}=this.skipped[r];i<e.to&&a>e.from&&(this.fragments=Kj(this.fragments,i,a),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends R_{createParse(n,r,i){let a=i[0].from,l=i[i.length-1].to;return{parsedPos:a,advance(){let u=gu;if(u){for(let h of i)u.tempSkipped.push(h);e&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,e]):e)}return this.parsedPos=l,new Et(Yn.none,[],[],l-a)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return gu}}function Kj(t,e,n){return cl.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Wo{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new Wo(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=Lm.create(e.facet(bs).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new Wo(r)}}Qr.state=yn.define({create:Wo.init,update(t,e){for(let n of e.effects)if(n.is(Qr.setState))return n.value;return e.startState.facet(bs)!=e.state.facet(bs)?Wo.init(e.state):t.apply(e)}});let I_=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(I_=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const Kv=typeof navigator<"u"&&(!((Fv=navigator.scheduling)===null||Fv===void 0)&&Fv.isInputPending)?()=>navigator.scheduling.isInputPending():null,PV=Tt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Qr.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Qr.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=I_(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,a=r.field(Qr.state);if(a.tree==a.context.tree&&a.context.isDone(i+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,e&&!Kv?Math.max(25,e.timeRemaining()-5):1e9),o=a.context.treeLen<i&&r.doc.length>i+1e3,u=a.context.work(()=>Kv&&Kv()||Date.now()>l,i+(o?0:1e5));this.chunkBudget-=Date.now()-n,(u||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:Qr.setState.of(new Wo(a.context))})),this.chunkBudget>0&&!(u&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>Wn(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),bs=ye.define({combine(t){return t.length?t[0]:null},enables:t=>[Qr.state,PV,pe.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class _V{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const RV=ye.define(),cg=ye.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Bm(t){let e=t.facet(cg);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function sf(t,e){let n="",r=t.tabSize,i=t.facet(cg)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let a=0;a<e;a++)n+=i;return n}function OS(t,e){t instanceof qe&&(t=new ug(t));for(let r of t.state.facet(RV)){let i=r(t,e);if(i!==void 0)return i}let n=Xt(t.state);return n.length>=e?LV(t,n,e):null}class ug{constructor(e,n={}){this.state=e,this.options=n,this.unit=Bm(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:a}=this.options;return i!=null&&i>=r.from&&i<=r.to?a&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),a=this.countColumn(r,e-i),l=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return l>-1&&(a+=l-this.countColumn(r,r.search(/\S|$/))),a}countColumn(e,n=e.length){return ic(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),a=this.options.overrideIndentation;if(a){let l=a(i);if(l>-1)return l}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const U_=new Re;function LV(t,e,n){let r=e.resolveStack(n),i=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let a=[];for(let l=i;l&&!(l.from<r.node.from||l.to>r.node.to||l.from==r.node.from&&l.type==r.node.type);l=l.parent)a.push(l);for(let l=a.length-1;l>=0;l--)r={node:a[l],next:r}}return H_(r,t,n)}function H_(t,e,n){for(let r=t;r;r=r.next){let i=zV(r.node);if(i)return i(kS.create(e,n,r))}return 0}function BV(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function zV(t){let e=t.type.prop(U_);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(Re.closedBy))){let i=t.lastChild,a=i&&r.indexOf(i.name)>-1;return l=>qV(l,!0,1,void 0,a&&!BV(l)?i.from:void 0)}return t.parent==null?IV:null}function IV(){return 0}class kS extends ug{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new kS(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(UV(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return H_(this.context.next,this.base,this.pos)}}function UV(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function HV(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,a=t.state.doc.lineAt(n.from),l=i==null||i<=a.from?a.to:Math.min(a.to,i);for(let o=n.to;;){let u=e.childAfter(o);if(!u||u==r)return null;if(!u.type.isSkipped){if(u.from>=l)return null;let h=/^ */.exec(a.text.slice(n.to-a.from))[0].length;return{from:n.from,to:n.to+h}}o=u.to}}function qV(t,e,n,r,i){let a=t.textAfter,l=a.match(/^\s*/)[0].length,o=r&&a.slice(l,l+r.length)==r||i==t.pos+l,u=HV(t);return u?o?t.column(u.from):t.column(u.to):t.baseIndent+(o?0:t.unit*n)}function $V({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const VV=200;function WV(){return qe.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+VV)return t;let a=n.sliceString(i.from,r);if(!e.some(h=>h.test(a)))return t;let{state:l}=t,o=-1,u=[];for(let{head:h}of l.selection.ranges){let d=l.doc.lineAt(h);if(d.from==o)continue;o=d.from;let p=OS(l,d.from);if(p==null)continue;let g=/^\s*/.exec(d.text)[0],y=sf(l,p);g!=y&&u.push({from:d.from,to:d.from+g.length,insert:y})}return u.length?[t,{changes:u,sequential:!0}]:t})}const FV=ye.define(),q_=new Re;function KV(t,e,n){let r=Xt(t);if(r.length<n)return null;let i=r.resolveStack(n,1),a=null;for(let l=i;l;l=l.next){let o=l.node;if(o.to<=n||o.from>n)continue;if(a&&o.from<e)break;let u=o.type.prop(q_);if(u&&(o.to<r.length-50||r.length==t.doc.length||!GV(o))){let h=u(o,t);h&&h.from<=n&&h.from>=e&&h.to>n&&(a=h)}}return a}function GV(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function zm(t,e,n){for(let r of t.facet(FV)){let i=r(t,e,n);if(i)return i}return KV(t,e,n)}function $_(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const fg=Te.define({map:$_}),Rf=Te.define({map:$_});function V_(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const yl=yn.define({create(){return ke.none},update(t,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((n,r)=>t=Gj(t,n,r)),t=t.map(e.changes);for(let n of e.effects)if(n.is(fg)&&!YV(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(K_),i=r?ke.replace({widget:new nW(r(e.state,n.value))}):Yj;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(Rf)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));return e.selection&&(t=Gj(t,e.selection.main.head)),t},provide:t=>pe.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(Yj.range(r,i))}return ke.set(e,!0)}});function Gj(t,e,n=e){let r=!1;return t.between(e,n,(i,a)=>{i<n&&a>e&&(r=!0)}),r?t.update({filterFrom:e,filterTo:n,filter:(i,a)=>i>=n||a<=e}):t}function Im(t,e,n){var r;let i=null;return(r=t.field(yl,!1))===null||r===void 0||r.between(e,n,(a,l)=>{(!i||i.from>a)&&(i={from:a,to:l})}),i}function YV(t,e,n){let r=!1;return t.between(e,e,(i,a)=>{i==e&&a==n&&(r=!0)}),r}function W_(t,e){return t.field(yl,!1)?e:e.concat(Te.appendConfig.of(G_()))}const QV=t=>{for(let e of V_(t)){let n=zm(t.state,e.from,e.to);if(n)return t.dispatch({effects:W_(t.state,[fg.of(n),F_(t,n)])}),!0}return!1},XV=t=>{if(!t.state.field(yl,!1))return!1;let e=[];for(let n of V_(t)){let r=Im(t.state,n.from,n.to);r&&e.push(Rf.of(r),F_(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function F_(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return pe.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const ZV=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),a=zm(e,i.from,i.to);a&&n.push(fg.of(a)),r=(a?t.lineBlockAt(a.to):i).to+1}return n.length&&t.dispatch({effects:W_(t.state,n)}),!!n.length},JV=t=>{let e=t.state.field(yl,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(Rf.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},eW=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:QV},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:XV},{key:"Ctrl-Alt-[",run:ZV},{key:"Ctrl-Alt-]",run:JV}],tW={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},K_=ye.define({combine(t){return Pi(t,tW)}});function G_(t){return[yl,aW]}function Y_(t,e){let{state:n}=t,r=n.facet(K_),i=l=>{let o=t.lineBlockAt(t.posAtDOM(l.target)),u=Im(t.state,o.from,o.to);u&&t.dispatch({effects:Rf.of(u)}),l.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let a=document.createElement("span");return a.textContent=r.placeholderText,a.setAttribute("aria-label",n.phrase("folded code")),a.title=n.phrase("unfold"),a.className="cm-foldPlaceholder",a.onclick=i,a}const Yj=ke.replace({widget:new class extends _i{toDOM(t){return Y_(t,null)}}});class nW extends _i{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return Y_(e,this.value)}}const rW={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Gv extends ua{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function iW(t={}){let e={...rW,...t},n=new Gv(e,!0),r=new Gv(e,!1),i=Tt.fromClass(class{constructor(l){this.from=l.viewport.from,this.markers=this.buildMarkers(l)}update(l){(l.docChanged||l.viewportChanged||l.startState.facet(bs)!=l.state.facet(bs)||l.startState.field(yl,!1)!=l.state.field(yl,!1)||Xt(l.startState)!=Xt(l.state)||e.foldingChanged(l))&&(this.markers=this.buildMarkers(l.view))}buildMarkers(l){let o=new oa;for(let u of l.viewportLineBlocks){let h=Im(l.state,u.from,u.to)?r:zm(l.state,u.from,u.to)?n:null;h&&o.add(u.from,u.from,h)}return o.finish()}}),{domEventHandlers:a}=e;return[i,iV({class:"cm-foldGutter",markers(l){var o;return((o=l.plugin(i))===null||o===void 0?void 0:o.markers)||ze.empty},initialSpacer(){return new Gv(e,!1)},domEventHandlers:{...a,click:(l,o,u)=>{if(a.click&&a.click(l,o,u))return!0;let h=Im(l.state,o.from,o.to);if(h)return l.dispatch({effects:Rf.of(h)}),!0;let d=zm(l.state,o.from,o.to);return d?(l.dispatch({effects:fg.of(d)}),!0):!1}}}),G_()]}const aW=pe.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Lf{constructor(e,n){this.specs=e;let r;function i(o){let u=ps.newName();return(r||(r=Object.create(null)))["."+u]=o,u}const a=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,l=n.scope;this.scope=l instanceof Qr?o=>o.prop(ko)==l.data:l?o=>o==l:void 0,this.style=z_(e.map(o=>({tag:o.tag,class:o.class||i(Object.assign({},o,{tag:null}))})),{all:a}).style,this.module=r?new ps(r):null,this.themeType=n.themeType}static define(e,n){return new Lf(e,n||{})}}const _1=ye.define(),Q_=ye.define({combine(t){return t.length?[t[0]]:null}});function Yv(t){let e=t.facet(_1);return e.length?e:t.facet(Q_)}function X_(t,e){let n=[lW],r;return t instanceof Lf&&(t.module&&n.push(pe.styleModule.of(t.module)),r=t.themeType),e?.fallback?n.push(Q_.of(t)):r?n.push(_1.computeN([pe.darkTheme],i=>i.facet(pe.darkTheme)==(r=="dark")?[t]:[])):n.push(_1.of(t)),n}class sW{constructor(e){this.markCache=Object.create(null),this.tree=Xt(e.state),this.decorations=this.buildDeco(e,Yv(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=Xt(e.state),r=Yv(e.state),i=r!=Yv(e.startState),{viewport:a}=e.view,l=e.changes.mapPos(this.decoratedTo,1);n.length<a.to&&!i&&n.type==this.tree.type&&l>=a.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=l):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=a.to)}buildDeco(e,n){if(!n||!this.tree.length)return ke.none;let r=new oa;for(let{from:i,to:a}of e.visibleRanges)NV(this.tree,n,(l,o,u)=>{r.add(l,o,this.markCache[u]||(this.markCache[u]=ke.mark({class:u})))},i,a);return r.finish()}}const lW=kl.high(Tt.fromClass(sW,{decorations:t=>t.decorations})),oW=Lf.define([{tag:G.meta,color:"#404740"},{tag:G.link,textDecoration:"underline"},{tag:G.heading,textDecoration:"underline",fontWeight:"bold"},{tag:G.emphasis,fontStyle:"italic"},{tag:G.strong,fontWeight:"bold"},{tag:G.strikethrough,textDecoration:"line-through"},{tag:G.keyword,color:"#708"},{tag:[G.atom,G.bool,G.url,G.contentSeparator,G.labelName],color:"#219"},{tag:[G.literal,G.inserted],color:"#164"},{tag:[G.string,G.deleted],color:"#a11"},{tag:[G.regexp,G.escape,G.special(G.string)],color:"#e40"},{tag:G.definition(G.variableName),color:"#00f"},{tag:G.local(G.variableName),color:"#30a"},{tag:[G.typeName,G.namespace],color:"#085"},{tag:G.className,color:"#167"},{tag:[G.special(G.variableName),G.macroName],color:"#256"},{tag:G.definition(G.propertyName),color:"#00c"},{tag:G.comment,color:"#940"},{tag:G.invalid,color:"#f00"}]),cW=pe.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Z_=1e4,J_="()[]{}",e5=ye.define({combine(t){return Pi(t,{afterCursor:!0,brackets:J_,maxScanDistance:Z_,renderMatch:hW})}}),uW=ke.mark({class:"cm-matchingBracket"}),fW=ke.mark({class:"cm-nonmatchingBracket"});function hW(t){let e=[],n=t.matched?uW:fW;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const dW=yn.define({create(){return ke.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(e5);for(let i of e.state.selection.ranges){if(!i.empty)continue;let a=xi(e.state,i.head,-1,r)||i.head>0&&xi(e.state,i.head-1,1,r)||r.afterCursor&&(xi(e.state,i.head,1,r)||i.head<e.state.doc.length&&xi(e.state,i.head+1,-1,r));a&&(n=n.concat(r.renderMatch(a,e.state)))}return ke.set(n,!0)},provide:t=>pe.decorations.from(t)}),mW=[dW,cW];function pW(t={}){return[e5.of(t),mW]}const gW=new Re;function R1(t,e,n){let r=t.prop(e<0?Re.openedBy:Re.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function L1(t){let e=t.type.prop(gW);return e?e(t.node):t}function xi(t,e,n,r={}){let i=r.maxScanDistance||Z_,a=r.brackets||J_,l=Xt(t),o=l.resolveInner(e,n);for(let u=o;u;u=u.parent){let h=R1(u.type,n,a);if(h&&u.from<u.to){let d=L1(u);if(d&&(n>0?e>=d.from&&e<d.to:e>d.from&&e<=d.to))return yW(t,e,n,u,d,h,a)}}return vW(t,e,n,l,o.type,i,a)}function yW(t,e,n,r,i,a,l){let o=r.parent,u={from:i.from,to:i.to},h=0,d=o?.cursor();if(d&&(n<0?d.childBefore(r.from):d.childAfter(r.to)))do if(n<0?d.to<=r.from:d.from>=r.to){if(h==0&&a.indexOf(d.type.name)>-1&&d.from<d.to){let p=L1(d);return{start:u,end:p?{from:p.from,to:p.to}:void 0,matched:!0}}else if(R1(d.type,n,l))h++;else if(R1(d.type,-n,l)){if(h==0){let p=L1(d);return{start:u,end:p&&p.from<p.to?{from:p.from,to:p.to}:void 0,matched:!1}}h--}}while(n<0?d.prevSibling():d.nextSibling());return{start:u,matched:!1}}function vW(t,e,n,r,i,a,l){let o=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),u=l.indexOf(o);if(u<0||u%2==0!=n>0)return null;let h={from:n<0?e-1:e,to:n>0?e+1:e},d=t.doc.iterRange(e,n>0?t.doc.length:0),p=0;for(let g=0;!d.next().done&&g<=a;){let y=d.value;n<0&&(g+=y.length);let w=e+g*n;for(let C=n>0?0:y.length-1,S=n>0?y.length:-1;C!=S;C+=n){let k=l.indexOf(y[C]);if(!(k<0||r.resolveInner(w+C,1).type!=i))if(k%2==0==n>0)p++;else{if(p==1)return{start:h,end:{from:w+C,to:w+C+1},matched:k>>1==u>>1};p--}}n>0&&(g+=y.length)}return d.done?{start:h,matched:!1}:null}const bW=Object.create(null),Qj=[Yn.none],Xj=[],Zj=Object.create(null),xW=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])xW[t]=wW(bW,e);function Qv(t,e){Xj.indexOf(t)>-1||(Xj.push(t),console.warn(e))}function wW(t,e){let n=[];for(let o of e.split(" ")){let u=[];for(let h of o.split(".")){let d=t[h]||G[h];d?typeof d=="function"?u.length?u=u.map(d):Qv(h,`Modifier ${h} used at start of tag`):u.length?Qv(h,`Tag ${h} used as modifier`):u=Array.isArray(d)?d:[d]:Qv(h,`Unknown highlighting tag ${h}`)}for(let h of u)n.push(h)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(o=>o.id),a=Zj[i];if(a)return a.id;let l=Zj[i]=Yn.define({id:Qj.length,name:r,props:[L_({[r]:n})]});return Qj.push(l),l.id}st.RTL,st.LTR;const SW=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=NS(t.state,n.from);return r.line?CW(t):r.block?kW(t):!1};function AS(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const CW=AS(jW,0),OW=AS(t5,0),kW=AS((t,e)=>t5(t,e,NW(e)),0);function NS(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const yu=50;function AW(t,{open:e,close:n},r,i){let a=t.sliceDoc(r-yu,r),l=t.sliceDoc(i,i+yu),o=/\s*$/.exec(a)[0].length,u=/^\s*/.exec(l)[0].length,h=a.length-o;if(a.slice(h-e.length,h)==e&&l.slice(u,u+n.length)==n)return{open:{pos:r-o,margin:o&&1},close:{pos:i+u,margin:u&&1}};let d,p;i-r<=2*yu?d=p=t.sliceDoc(r,i):(d=t.sliceDoc(r,r+yu),p=t.sliceDoc(i-yu,i));let g=/^\s*/.exec(d)[0].length,y=/\s*$/.exec(p)[0].length,w=p.length-y-n.length;return d.slice(g,g+e.length)==e&&p.slice(w,w+n.length)==n?{open:{pos:r+g+e.length,margin:/\s/.test(d.charAt(g+e.length))?1:0},close:{pos:i-y-n.length,margin:/\s/.test(p.charAt(w-1))?1:0}}:null}function NW(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let a=e.length-1;a>=0&&e[a].to>r.from?e[a].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function t5(t,e,n=e.selection.ranges){let r=n.map(a=>NS(e,a.from).block);if(!r.every(a=>a))return null;let i=n.map((a,l)=>AW(e,r[l],a.from,a.to));if(t!=2&&!i.every(a=>a))return{changes:e.changes(n.map((a,l)=>i[l]?[]:[{from:a.from,insert:r[l].open+" "},{from:a.to,insert:" "+r[l].close}]))};if(t!=1&&i.some(a=>a)){let a=[];for(let l=0,o;l<i.length;l++)if(o=i[l]){let u=r[l],{open:h,close:d}=o;a.push({from:h.pos-u.open.length,to:h.pos+h.margin},{from:d.pos-d.margin,to:d.pos+u.close.length})}return{changes:a}}return null}function jW(t,e,n=e.selection.ranges){let r=[],i=-1;e:for(let{from:a,to:l}of n){let o=r.length,u=1e9,h;for(let d=a;d<=l;){let p=e.doc.lineAt(d);if(h==null&&(h=NS(e,p.from).line,!h))continue e;if(p.from>i&&(a==l||l>p.from)){i=p.from;let g=/^\s*/.exec(p.text)[0].length,y=g==p.length,w=p.text.slice(g,g+h.length)==h?g:-1;g<p.text.length&&g<u&&(u=g),r.push({line:p,comment:w,token:h,indent:g,empty:y,single:!1})}d=p.to+1}if(u<1e9)for(let d=o;d<r.length;d++)r[d].indent<r[d].line.text.length&&(r[d].indent=u);r.length==o+1&&(r[o].single=!0)}if(t!=2&&r.some(a=>a.comment<0&&(!a.empty||a.single))){let a=[];for(let{line:o,token:u,indent:h,empty:d,single:p}of r)(p||!d)&&a.push({from:o.from+h,insert:u+" "});let l=e.changes(a);return{changes:l,selection:e.selection.map(l,1)}}else if(t!=1&&r.some(a=>a.comment>=0)){let a=[];for(let{line:l,comment:o,token:u}of r)if(o>=0){let h=l.from+o,d=h+u.length;l.text[d-l.from]==" "&&d++,a.push({from:h,to:d})}return{changes:a}}return null}const B1=Di.define(),EW=Di.define(),TW=ye.define(),n5=ye.define({combine(t){return Pi(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),r5=yn.define({create(){return wi.empty},update(t,e){let n=e.state.facet(n5),r=e.annotation(B1);if(r){let u=Fn.fromTransaction(e,r.selection),h=r.side,d=h==0?t.undone:t.done;return u?d=Um(d,d.length,n.minDepth,u):d=s5(d,e.startState.selection),new wi(h==0?r.rest:d,h==0?d:r.rest)}let i=e.annotation(EW);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Ht.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let a=Fn.fromTransaction(e),l=e.annotation(Ht.time),o=e.annotation(Ht.userEvent);return a?t=t.addChanges(a,l,o,n,e):e.selection&&(t=t.addSelection(e.startState.selection,l,o,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new wi(t.done.map(Fn.fromJSON),t.undone.map(Fn.fromJSON))}});function MW(t={}){return[r5,n5.of(t),pe.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?i5:e.inputType=="historyRedo"?z1:null;return r?(e.preventDefault(),r(n)):!1}})]}function hg(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(r5,!1);if(!i)return!1;let a=i.pop(t,n,e);return a?(r(a),!0):!1}}const i5=hg(0,!1),z1=hg(1,!1),DW=hg(0,!0),PW=hg(1,!0);class Fn{constructor(e,n,r,i,a){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=a}setSelAfter(e){return new Fn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new Fn(e.changes&&Ut.fromJSON(e.changes),[],e.mapped&&ki.fromJSON(e.mapped),e.startSelection&&ae.fromJSON(e.startSelection),e.selectionsAfter.map(ae.fromJSON))}static fromTransaction(e,n){let r=Dr;for(let i of e.startState.facet(TW)){let a=i(e);a.length&&(r=r.concat(a))}return!r.length&&e.changes.empty?null:new Fn(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,Dr)}static selection(e){return new Fn(void 0,Dr,void 0,void 0,e)}}function Um(t,e,n,r){let i=e+1>n+20?e-n-1:0,a=t.slice(i,e);return a.push(r),a}function _W(t,e){let n=[],r=!1;return t.iterChangedRanges((i,a)=>n.push(i,a)),e.iterChangedRanges((i,a,l,o)=>{for(let u=0;u<n.length;){let h=n[u++],d=n[u++];o>=h&&l<=d&&(r=!0)}}),r}function RW(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function a5(t,e){return t.length?e.length?t.concat(e):t:e}const Dr=[],LW=200;function s5(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-LW));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),Um(t,t.length-1,1e9,n.setSelAfter(r)))}else return[Fn.selection([e])]}function BW(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function Xv(t,e){if(!t.length)return t;let n=t.length,r=Dr;for(;n;){let i=zW(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let a=t.slice(0,n);return a[n-1]=i,a}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[Fn.selection(r)]:Dr}function zW(t,e,n){let r=a5(t.selectionsAfter.length?t.selectionsAfter.map(o=>o.map(e)):Dr,n);if(!t.changes)return Fn.selection(r);let i=t.changes.map(e),a=e.mapDesc(t.changes,!0),l=t.mapped?t.mapped.composeDesc(a):a;return new Fn(i,Te.mapEffects(t.effects,e),l,t.startSelection.map(a),r)}const IW=/^(input\.type|delete)($|\.)/;class wi{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new wi(this.done,this.undone):this}addChanges(e,n,r,i,a){let l=this.done,o=l[l.length-1];return o&&o.changes&&!o.changes.empty&&e.changes&&(!r||IW.test(r))&&(!o.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(a,_W(o.changes,e.changes))||r=="input.type.compose")?l=Um(l,l.length-1,i.minDepth,new Fn(e.changes.compose(o.changes),a5(Te.mapEffects(e.effects,o.changes),o.effects),o.mapped,o.startSelection,Dr)):l=Um(l,l.length,i.minDepth,e),new wi(l,Dr,n,r)}addSelection(e,n,r,i){let a=this.done.length?this.done[this.done.length-1].selectionsAfter:Dr;return a.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&RW(a[a.length-1],e)?this:new wi(s5(this.done,e),this.undone,n,r)}addMapping(e){return new wi(Xv(this.done,e),Xv(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let a=i[i.length-1],l=a.selectionsAfter[0]||(a.startSelection?a.startSelection.map(a.changes.invertedDesc,1):n.selection);if(r&&a.selectionsAfter.length)return n.update({selection:a.selectionsAfter[a.selectionsAfter.length-1],annotations:B1.of({side:e,rest:BW(i),selection:l}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(a.changes){let o=i.length==1?Dr:i.slice(0,i.length-1);return a.mapped&&(o=Xv(o,a.mapped)),n.update({changes:a.changes,selection:a.startSelection,effects:a.effects,annotations:B1.of({side:e,rest:o,selection:l}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}wi.empty=new wi(Dr,Dr);const UW=[{key:"Mod-z",run:i5,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:z1,preventDefault:!0},{linux:"Ctrl-Shift-z",run:z1,preventDefault:!0},{key:"Mod-u",run:DW,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:PW,preventDefault:!0}];function ac(t,e){return ae.create(t.ranges.map(e),t.mainIndex)}function ti(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function ni({state:t,dispatch:e},n){let r=ac(t.selection,n);return r.eq(t.selection,!0)?!1:(e(ti(t,r)),!0)}function dg(t,e){return ae.cursor(e?t.to:t.from)}function l5(t,e){return ni(t,n=>n.empty?t.moveByChar(n,e):dg(n,e))}function Cn(t){return t.textDirectionAt(t.state.selection.main.head)==st.LTR}const o5=t=>l5(t,!Cn(t)),c5=t=>l5(t,Cn(t));function u5(t,e){return ni(t,n=>n.empty?t.moveByGroup(n,e):dg(n,e))}const HW=t=>u5(t,!Cn(t)),qW=t=>u5(t,Cn(t));function $W(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function mg(t,e,n){let r=Xt(t).resolveInner(e.head),i=n?Re.closedBy:Re.openedBy;for(let u=e.head;;){let h=n?r.childAfter(u):r.childBefore(u);if(!h)break;$W(t,h,i)?r=h:u=n?h.to:h.from}let a=r.type.prop(i),l,o;return a&&(l=n?xi(t,r.from,1):xi(t,r.to,-1))&&l.matched?o=n?l.end.to:l.end.from:o=n?r.to:r.from,ae.cursor(o,n?-1:1)}const VW=t=>ni(t,e=>mg(t.state,e,!Cn(t))),WW=t=>ni(t,e=>mg(t.state,e,Cn(t)));function f5(t,e){return ni(t,n=>{if(!n.empty)return dg(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const h5=t=>f5(t,!1),d5=t=>f5(t,!0);function m5(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let a of t.state.facet(pe.scrollMargins)){let l=a(t);l?.top&&(n=Math.max(l?.top,n)),l?.bottom&&(r=Math.max(l?.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function p5(t,e){let n=m5(t),{state:r}=t,i=ac(r.selection,l=>l.empty?t.moveVertically(l,e,n.height):dg(l,e));if(i.eq(r.selection))return!1;let a;if(n.selfScroll){let l=t.coordsAtPos(r.selection.main.head),o=t.scrollDOM.getBoundingClientRect(),u=o.top+n.marginTop,h=o.bottom-n.marginBottom;l&&l.top>u&&l.bottom<h&&(a=pe.scrollIntoView(i.main.head,{y:"start",yMargin:l.top-u}))}return t.dispatch(ti(r,i),{effects:a}),!0}const Jj=t=>p5(t,!1),I1=t=>p5(t,!0);function Os(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let a=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;a&&e.head!=r.from+a&&(i=ae.cursor(r.from+a))}return i}const FW=t=>ni(t,e=>Os(t,e,!0)),KW=t=>ni(t,e=>Os(t,e,!1)),GW=t=>ni(t,e=>Os(t,e,!Cn(t))),YW=t=>ni(t,e=>Os(t,e,Cn(t))),QW=t=>ni(t,e=>ae.cursor(t.lineBlockAt(e.head).from,1)),XW=t=>ni(t,e=>ae.cursor(t.lineBlockAt(e.head).to,-1));function ZW(t,e,n){let r=!1,i=ac(t.selection,a=>{let l=xi(t,a.head,-1)||xi(t,a.head,1)||a.head>0&&xi(t,a.head-1,1)||a.head<t.doc.length&&xi(t,a.head+1,-1);if(!l||!l.end)return a;r=!0;let o=l.start.from==a.head?l.end.to:l.end.from;return ae.cursor(o)});return r?(e(ti(t,i)),!0):!1}const JW=({state:t,dispatch:e})=>ZW(t,e);function Ur(t,e){let n=ac(t.state.selection,r=>{let i=e(r);return ae.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(ti(t.state,n)),!0)}function g5(t,e){return Ur(t,n=>t.moveByChar(n,e))}const y5=t=>g5(t,!Cn(t)),v5=t=>g5(t,Cn(t));function b5(t,e){return Ur(t,n=>t.moveByGroup(n,e))}const eF=t=>b5(t,!Cn(t)),tF=t=>b5(t,Cn(t)),nF=t=>Ur(t,e=>mg(t.state,e,!Cn(t))),rF=t=>Ur(t,e=>mg(t.state,e,Cn(t)));function x5(t,e){return Ur(t,n=>t.moveVertically(n,e))}const w5=t=>x5(t,!1),S5=t=>x5(t,!0);function C5(t,e){return Ur(t,n=>t.moveVertically(n,e,m5(t).height))}const eE=t=>C5(t,!1),tE=t=>C5(t,!0),iF=t=>Ur(t,e=>Os(t,e,!0)),aF=t=>Ur(t,e=>Os(t,e,!1)),sF=t=>Ur(t,e=>Os(t,e,!Cn(t))),lF=t=>Ur(t,e=>Os(t,e,Cn(t))),oF=t=>Ur(t,e=>ae.cursor(t.lineBlockAt(e.head).from)),cF=t=>Ur(t,e=>ae.cursor(t.lineBlockAt(e.head).to)),nE=({state:t,dispatch:e})=>(e(ti(t,{anchor:0})),!0),rE=({state:t,dispatch:e})=>(e(ti(t,{anchor:t.doc.length})),!0),iE=({state:t,dispatch:e})=>(e(ti(t,{anchor:t.selection.main.anchor,head:0})),!0),aE=({state:t,dispatch:e})=>(e(ti(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),uF=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),fF=({state:t,dispatch:e})=>{let n=pg(t).map(({from:r,to:i})=>ae.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:ae.create(n),userEvent:"select"})),!0},hF=({state:t,dispatch:e})=>{let n=ac(t.selection,r=>{let i=Xt(t),a=i.resolveStack(r.from,1);if(r.empty){let l=i.resolveStack(r.from,-1);l.node.from>=a.node.from&&l.node.to<=a.node.to&&(a=l)}for(let l=a;l;l=l.next){let{node:o}=l;if((o.from<r.from&&o.to>=r.to||o.to>r.to&&o.from<=r.from)&&l.next)return ae.range(o.to,o.from)}return r});return n.eq(t.selection)?!1:(e(ti(t,n)),!0)};function O5(t,e){let{state:n}=t,r=n.selection,i=n.selection.ranges.slice();for(let a of n.selection.ranges){let l=n.doc.lineAt(a.head);if(e?l.to<t.state.doc.length:l.from>0)for(let o=a;;){let u=t.moveVertically(o,e);if(u.head<l.from||u.head>l.to){i.some(h=>h.head==u.head)||i.push(u);break}else{if(u.head==o.head)break;o=u}}}return i.length==r.ranges.length?!1:(t.dispatch(ti(n,ae.create(i,i.length-1))),!0)}const dF=t=>O5(t,!1),mF=t=>O5(t,!0),pF=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=ae.create([n.main]):n.main.empty||(r=ae.create([ae.cursor(n.main.head)])),r?(e(ti(t,r)),!0):!1};function Bf(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(a=>{let{from:l,to:o}=a;if(l==o){let u=e(a);u<l?(n="delete.backward",u=zd(t,u,!1)):u>l&&(n="delete.forward",u=zd(t,u,!0)),l=Math.min(l,u),o=Math.max(o,u)}else l=zd(t,l,!1),o=zd(t,o,!0);return l==o?{range:a}:{changes:{from:l,to:o},range:ae.cursor(l,l<a.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?pe.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function zd(t,e,n){if(t instanceof pe)for(let r of t.state.facet(pe.atomicRanges).map(i=>i(t)))r.between(e,e,(i,a)=>{i<e&&a>e&&(e=n?a:i)});return e}const k5=(t,e,n)=>Bf(t,r=>{let i=r.from,{state:a}=t,l=a.doc.lineAt(i),o,u;if(n&&!e&&i>l.from&&i<l.from+200&&!/[^ \t]/.test(o=l.text.slice(0,i-l.from))){if(o[o.length-1]=="	")return i-1;let h=ic(o,a.tabSize),d=h%Bm(a)||Bm(a);for(let p=0;p<d&&o[o.length-1-p]==" ";p++)i--;u=i}else u=Qt(l.text,i-l.from,e,e)+l.from,u==i&&l.number!=(e?a.doc.lines:1)?u+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(l.text.slice(u-l.from,i-l.from))&&(u=Qt(l.text,u-l.from,!1,!1)+l.from);return u}),U1=t=>k5(t,!1,!0),A5=t=>k5(t,!0,!1),N5=(t,e)=>Bf(t,n=>{let r=n.head,{state:i}=t,a=i.doc.lineAt(r),l=i.charCategorizer(r);for(let o=null;;){if(r==(e?a.to:a.from)){r==n.head&&a.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let u=Qt(a.text,r-a.from,e)+a.from,h=a.text.slice(Math.min(r,u)-a.from,Math.max(r,u)-a.from),d=l(h);if(o!=null&&d!=o)break;(h!=" "||r!=n.head)&&(o=d),r=u}return r}),j5=t=>N5(t,!1),gF=t=>N5(t,!0),yF=t=>Bf(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),vF=t=>Bf(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),bF=t=>Bf(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),xF=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Ye.of(["",""])},range:ae.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},wF=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,a=t.doc.lineAt(i),l=i==a.from?i-1:Qt(a.text,i-a.from,!1)+a.from,o=i==a.to?i+1:Qt(a.text,i-a.from,!0)+a.from;return{changes:{from:l,to:o,insert:t.doc.slice(i,o).append(t.doc.slice(l,i))},range:ae.cursor(o)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function pg(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),a=t.doc.lineAt(r.to);if(!r.empty&&r.to==a.from&&(a=t.doc.lineAt(r.to-1)),n>=i.number){let l=e[e.length-1];l.to=a.to,l.ranges.push(r)}else e.push({from:i.from,to:a.to,ranges:[r]});n=a.number+1}return e}function E5(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let a of pg(t)){if(n?a.to==t.doc.length:a.from==0)continue;let l=t.doc.lineAt(n?a.to+1:a.from-1),o=l.length+1;if(n){r.push({from:a.to,to:l.to},{from:a.from,insert:l.text+t.lineBreak});for(let u of a.ranges)i.push(ae.range(Math.min(t.doc.length,u.anchor+o),Math.min(t.doc.length,u.head+o)))}else{r.push({from:l.from,to:a.from},{from:a.to,insert:t.lineBreak+l.text});for(let u of a.ranges)i.push(ae.range(u.anchor-o,u.head-o))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:ae.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const SF=({state:t,dispatch:e})=>E5(t,e,!1),CF=({state:t,dispatch:e})=>E5(t,e,!0);function T5(t,e,n){if(t.readOnly)return!1;let r=[];for(let a of pg(t))n?r.push({from:a.from,insert:t.doc.slice(a.from,a.to)+t.lineBreak}):r.push({from:a.to,insert:t.lineBreak+t.doc.slice(a.from,a.to)});let i=t.changes(r);return e(t.update({changes:i,selection:t.selection.map(i,n?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const OF=({state:t,dispatch:e})=>T5(t,e,!1),kF=({state:t,dispatch:e})=>T5(t,e,!0),AF=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(pg(e).map(({from:i,to:a})=>(i>0?i--:a<e.doc.length&&a++,{from:i,to:a}))),r=ac(e.selection,i=>{let a;if(t.lineWrapping){let l=t.lineBlockAt(i.head),o=t.coordsAtPos(i.head,i.assoc||1);o&&(a=l.bottom+t.documentTop-o.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,a)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function NF(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=Xt(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),a;return r&&i&&r.to<=e&&i.from>=e&&(a=r.type.prop(Re.closedBy))&&a.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const sE=M5(!1),jF=M5(!0);function M5(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:a,to:l}=i,o=e.doc.lineAt(a),u=!t&&a==l&&NF(e,a);t&&(a=l=(l<=o.to?o:e.doc.lineAt(l)).to);let h=new ug(e,{simulateBreak:a,simulateDoubleBreak:!!u}),d=OS(h,a);for(d==null&&(d=ic(/^\s*/.exec(e.doc.lineAt(a).text)[0],e.tabSize));l<o.to&&/\s/.test(o.text[l-o.from]);)l++;u?{from:a,to:l}=u:a>o.from&&a<o.from+100&&!/\S/.test(o.text.slice(0,a))&&(a=o.from);let p=["",sf(e,d)];return u&&p.push(sf(e,h.lineIndent(o.from,-1))),{changes:{from:a,to:l,insert:Ye.of(p)},range:ae.cursor(a+1+p[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function jS(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let l=r.from;l<=r.to;){let o=t.doc.lineAt(l);o.number>n&&(r.empty||r.to>o.from)&&(e(o,i,r),n=o.number),l=o.to+1}let a=t.changes(i);return{changes:i,range:ae.range(a.mapPos(r.anchor,1),a.mapPos(r.head,1))}})}const EF=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new ug(t,{overrideIndentation:a=>{let l=n[a];return l??-1}}),i=jS(t,(a,l,o)=>{let u=OS(r,a.from);if(u==null)return;/\S/.test(a.text)||(u=0);let h=/^\s*/.exec(a.text)[0],d=sf(t,u);(h!=d||o.from<a.from+h.length)&&(n[a.from]=u,l.push({from:a.from,to:a.from+h.length,insert:d}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},D5=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(jS(t,(n,r)=>{r.push({from:n.from,insert:t.facet(cg)})}),{userEvent:"input.indent"})),!0),P5=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(jS(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let a=ic(i,t.tabSize),l=0,o=sf(t,Math.max(0,a-Bm(t)));for(;l<i.length&&l<o.length&&i.charCodeAt(l)==o.charCodeAt(l);)l++;r.push({from:n.from+l,to:n.from+i.length,insert:o.slice(l)})}),{userEvent:"delete.dedent"})),!0),TF=t=>(t.setTabFocusMode(),!0),MF=[{key:"Ctrl-b",run:o5,shift:y5,preventDefault:!0},{key:"Ctrl-f",run:c5,shift:v5},{key:"Ctrl-p",run:h5,shift:w5},{key:"Ctrl-n",run:d5,shift:S5},{key:"Ctrl-a",run:QW,shift:oF},{key:"Ctrl-e",run:XW,shift:cF},{key:"Ctrl-d",run:A5},{key:"Ctrl-h",run:U1},{key:"Ctrl-k",run:yF},{key:"Ctrl-Alt-h",run:j5},{key:"Ctrl-o",run:xF},{key:"Ctrl-t",run:wF},{key:"Ctrl-v",run:I1}],DF=[{key:"ArrowLeft",run:o5,shift:y5,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:HW,shift:eF,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:GW,shift:sF,preventDefault:!0},{key:"ArrowRight",run:c5,shift:v5,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:qW,shift:tF,preventDefault:!0},{mac:"Cmd-ArrowRight",run:YW,shift:lF,preventDefault:!0},{key:"ArrowUp",run:h5,shift:w5,preventDefault:!0},{mac:"Cmd-ArrowUp",run:nE,shift:iE},{mac:"Ctrl-ArrowUp",run:Jj,shift:eE},{key:"ArrowDown",run:d5,shift:S5,preventDefault:!0},{mac:"Cmd-ArrowDown",run:rE,shift:aE},{mac:"Ctrl-ArrowDown",run:I1,shift:tE},{key:"PageUp",run:Jj,shift:eE},{key:"PageDown",run:I1,shift:tE},{key:"Home",run:KW,shift:aF,preventDefault:!0},{key:"Mod-Home",run:nE,shift:iE},{key:"End",run:FW,shift:iF,preventDefault:!0},{key:"Mod-End",run:rE,shift:aE},{key:"Enter",run:sE,shift:sE},{key:"Mod-a",run:uF},{key:"Backspace",run:U1,shift:U1,preventDefault:!0},{key:"Delete",run:A5,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:j5,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:gF,preventDefault:!0},{mac:"Mod-Backspace",run:vF,preventDefault:!0},{mac:"Mod-Delete",run:bF,preventDefault:!0}].concat(MF.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),PF=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:VW,shift:nF},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:WW,shift:rF},{key:"Alt-ArrowUp",run:SF},{key:"Shift-Alt-ArrowUp",run:OF},{key:"Alt-ArrowDown",run:CF},{key:"Shift-Alt-ArrowDown",run:kF},{key:"Mod-Alt-ArrowUp",run:dF},{key:"Mod-Alt-ArrowDown",run:mF},{key:"Escape",run:pF},{key:"Mod-Enter",run:jF},{key:"Alt-l",mac:"Ctrl-l",run:fF},{key:"Mod-i",run:hF,preventDefault:!0},{key:"Mod-[",run:P5},{key:"Mod-]",run:D5},{key:"Mod-Alt-\\",run:EF},{key:"Shift-Mod-k",run:AF},{key:"Shift-Mod-\\",run:JW},{key:"Mod-/",run:SW},{key:"Alt-A",run:OW},{key:"Ctrl-m",mac:"Shift-Alt-m",run:TF}].concat(DF),_F={key:"Tab",run:D5,shift:P5},lE=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class Fo{constructor(e,n,r=0,i=e.length,a,l){this.test=l,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=a?o=>a(lE(o)):lE,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Hn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=tS(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=yi(e);let i=this.normalize(n);if(i.length)for(let a=0,l=r;;a++){let o=i.charCodeAt(a),u=this.match(o,l,this.bufferPos+this.bufferStart);if(a==i.length-1){if(u)return this.value=u,this;break}l==r&&a<n.length&&n.charCodeAt(a)==o&&l++}}}match(e,n,r){let i=null;for(let a=0;a<this.matches.length;a+=2){let l=this.matches[a],o=!1;this.query.charCodeAt(l)==e&&(l==this.query.length-1?i={from:this.matches[a+1],to:r}:(this.matches[a]++,o=!0)),o||(this.matches.splice(a,2),a-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Fo.prototype[Symbol.iterator]=function(){return this});const _5={from:-1,to:-1,match:/.*/.exec("")},ES="gm"+(/x/.unicode==null?"":"u");class R5{constructor(e,n,r,i=0,a=e.length){if(this.text=e,this.to=a,this.curLine="",this.done=!1,this.value=_5,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new L5(e,n,r,i,a);this.re=new RegExp(n,ES+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let l=e.lineAt(i);this.curLineStart=l.from,this.matchPos=Hm(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=Hm(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Zv=new WeakMap;class Po{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=Zv.get(e);if(!i||i.from>=r||i.to<=n){let o=new Po(n,e.sliceString(n,r));return Zv.set(e,o),o}if(i.from==n&&i.to==r)return i;let{text:a,from:l}=i;return l>n&&(a=e.sliceString(n,l)+a,l=n),i.to<r&&(a+=e.sliceString(i.to,r)),Zv.set(e,new Po(l,a)),new Po(n,a.slice(n-l,r-l))}}class L5{constructor(e,n,r,i,a){this.text=e,this.to=a,this.done=!1,this.value=_5,this.matchPos=Hm(e,i),this.re=new RegExp(n,ES+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=Po.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=Hm(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Po.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(R5.prototype[Symbol.iterator]=L5.prototype[Symbol.iterator]=function(){return this});function RF(t){try{return new RegExp(t,ES),!0}catch{return!1}}function Hm(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}const LF=t=>{let{state:e}=t,n=String(e.doc.lineAt(t.state.selection.main.head).number),{close:r,result:i}=eV(t,{label:e.phrase("Go to line"),input:{type:"text",name:"line",value:n},focus:!0,submitLabel:e.phrase("go")});return i.then(a=>{let l=a&&/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(a.elements.line.value);if(!l){t.dispatch({effects:r});return}let o=e.doc.lineAt(e.selection.main.head),[,u,h,d,p]=l,g=d?+d.slice(1):0,y=h?+h:o.number;if(h&&p){let S=y/100;u&&(S=S*(u=="-"?-1:1)+o.number/e.doc.lines),y=Math.round(e.doc.lines*S)}else h&&u&&(y=y*(u=="-"?-1:1)+o.number);let w=e.doc.line(Math.max(1,Math.min(e.doc.lines,y))),C=ae.cursor(w.from+Math.max(0,Math.min(g,w.length)));t.dispatch({effects:[r,pe.scrollIntoView(C.from,{y:"center"})],selection:C})}),!0},BF={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},zF=ye.define({combine(t){return Pi(t,BF,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function IF(t){return[VF,$F]}const UF=ke.mark({class:"cm-selectionMatch"}),HF=ke.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function oE(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=pt.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=pt.Word)}function qF(t,e,n,r){return t(e.sliceDoc(n,n+1))==pt.Word&&t(e.sliceDoc(r-1,r))==pt.Word}const $F=Tt.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(zF),{state:n}=t,r=n.selection;if(r.ranges.length>1)return ke.none;let i=r.main,a,l=null;if(i.empty){if(!e.highlightWordAroundCursor)return ke.none;let u=n.wordAt(i.head);if(!u)return ke.none;l=n.charCategorizer(i.head),a=n.sliceDoc(u.from,u.to)}else{let u=i.to-i.from;if(u<e.minSelectionLength||u>200)return ke.none;if(e.wholeWords){if(a=n.sliceDoc(i.from,i.to),l=n.charCategorizer(i.head),!(oE(l,n,i.from,i.to)&&qF(l,n,i.from,i.to)))return ke.none}else if(a=n.sliceDoc(i.from,i.to),!a)return ke.none}let o=[];for(let u of t.visibleRanges){let h=new Fo(n.doc,a,u.from,u.to);for(;!h.next().done;){let{from:d,to:p}=h.value;if((!l||oE(l,n,d,p))&&(i.empty&&d<=i.from&&p>=i.to?o.push(HF.range(d,p)):(d>=i.to||p<=i.from)&&o.push(UF.range(d,p)),o.length>e.maxMatches))return ke.none}}return ke.set(o)}},{decorations:t=>t.decorations}),VF=pe.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),WF=({state:t,dispatch:e})=>{let{selection:n}=t,r=ae.create(n.ranges.map(i=>t.wordAt(i.head)||ae.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function FF(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),a=i&&i.from==n.from&&i.to==n.to;for(let l=!1,o=new Fo(t.doc,e,r[r.length-1].to);;)if(o.next(),o.done){if(l)return null;o=new Fo(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),l=!0}else{if(l&&r.some(u=>u.from==o.value.from))continue;if(a){let u=t.wordAt(o.value.from);if(!u||u.from!=o.value.from||u.to!=o.value.to)continue}return o.value}}const KF=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(a=>a.from===a.to))return WF({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(a=>t.sliceDoc(a.from,a.to)!=r))return!1;let i=FF(t,r);return i?(e(t.update({selection:t.selection.addRange(ae.range(i.from,i.to),!1),effects:pe.scrollIntoView(i.to)})),!0):!1},sc=ye.define({combine(t){return Pi(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new lK(e),scrollToMatch:e=>pe.scrollIntoView(e)})}});class B5{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||RF(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord,this.test=e.test}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord&&this.test==e.test}create(){return this.regexp?new JF(this):new QF(this)}getCursor(e,n=0,r){let i=e.doc?e:qe.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?wo(this,i,n,r):xo(this,i,n,r)}}class z5{constructor(e){this.spec=e}}function GF(t,e,n){return(r,i,a,l)=>{if(n&&!n(r,i,a,l))return!1;let o=r>=l&&i<=l+a.length?a.slice(r-l,i-l):e.doc.sliceString(r,i);return t(o,e,r,i)}}function xo(t,e,n,r){let i;return t.wholeWord&&(i=YF(e.doc,e.charCategorizer(e.selection.main.head))),t.test&&(i=GF(t.test,e,i)),new Fo(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:a=>a.toLowerCase(),i)}function YF(t,e){return(n,r,i,a)=>((a>n||a+i.length<r)&&(a=Math.max(0,n-2),i=t.sliceString(a,Math.min(t.length,r+2))),(e(qm(i,n-a))!=pt.Word||e($m(i,n-a))!=pt.Word)&&(e($m(i,r-a))!=pt.Word||e(qm(i,r-a))!=pt.Word))}class QF extends z5{constructor(e){super(e)}nextMatch(e,n,r){let i=xo(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let a=Math.min(e.doc.length,n+this.spec.unquoted.length);i=xo(this.spec,e,0,a).nextOverlapping()}return i.done||i.value.from==n&&i.value.to==r?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let a=Math.max(n,i-1e4-this.spec.unquoted.length),l=xo(this.spec,e,a,i),o=null;for(;!l.nextOverlapping().done;)o=l.value;if(o)return o;if(a==n)return null;i-=1e4}}prevMatch(e,n,r){let i=this.prevMatchInRange(e,0,n);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=n||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=xo(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let a=xo(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!a.next().done;)i(a.value.from,a.value.to)}}function XF(t,e,n){return(r,i,a)=>(!n||n(r,i,a))&&t(a[0],e,r,i)}function wo(t,e,n,r){let i;return t.wholeWord&&(i=ZF(e.charCategorizer(e.selection.main.head))),t.test&&(i=XF(t.test,e,i)),new R5(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:i},n,r)}function qm(t,e){return t.slice(Qt(t,e,!1),e)}function $m(t,e){return t.slice(e,Qt(t,e))}function ZF(t){return(e,n,r)=>!r[0].length||(t(qm(r.input,r.index))!=pt.Word||t($m(r.input,r.index))!=pt.Word)&&(t($m(r.input,r.index+r[0].length))!=pt.Word||t(qm(r.input,r.index+r[0].length))!=pt.Word)}class JF extends z5{nextMatch(e,n,r){let i=wo(this.spec,e,r,e.doc.length).next();return i.done&&(i=wo(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let a=Math.max(n,r-i*1e4),l=wo(this.spec,e,a,r),o=null;for(;!l.next().done;)o=l.value;if(o&&(a==n||o.from>a+10))return o;if(a==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let a=+r.slice(0,i);if(a>0&&a<e.match.length)return e.match[a]+r.slice(i)}return n})}matchAll(e,n){let r=wo(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let a=wo(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!a.next().done;)i(a.value.from,a.value.to)}}const lf=Te.define(),TS=Te.define(),us=yn.define({create(t){return new Jv(H1(t).create(),null)},update(t,e){for(let n of e.effects)n.is(lf)?t=new Jv(n.value.create(),t.panel):n.is(TS)&&(t=new Jv(t.query,n.value?MS:null));return t},provide:t=>nf.from(t,e=>e.panel)});class Jv{constructor(e,n){this.query=e,this.panel=n}}const eK=ke.mark({class:"cm-searchMatch"}),tK=ke.mark({class:"cm-searchMatch cm-searchMatch-selected"}),nK=Tt.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(us))}update(t){let e=t.state.field(us);(e!=t.startState.field(us)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return ke.none;let{view:n}=this,r=new oa;for(let i=0,a=n.visibleRanges,l=a.length;i<l;i++){let{from:o,to:u}=a[i];for(;i<l-1&&u>a[i+1].from-500;)u=a[++i].to;t.highlight(n.state,o,u,(h,d)=>{let p=n.state.selection.ranges.some(g=>g.from==h&&g.to==d);r.add(h,d,p?tK:eK)})}return r.finish()}},{decorations:t=>t.decorations});function zf(t){return e=>{let n=e.state.field(us,!1);return n&&n.query.spec.valid?t(e,n):H5(e)}}const Vm=zf((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=ae.single(r.from,r.to),a=t.state.facet(sc);return t.dispatch({selection:i,effects:[DS(t,r),a.scrollToMatch(i.main,t)],userEvent:"select.search"}),U5(t),!0}),Wm=zf((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let a=ae.single(i.from,i.to),l=t.state.facet(sc);return t.dispatch({selection:a,effects:[DS(t,i),l.scrollToMatch(a.main,t)],userEvent:"select.search"}),U5(t),!0}),rK=zf((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:ae.create(n.map(r=>ae.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),iK=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,a=[],l=0;for(let o=new Fo(t.doc,t.sliceDoc(r,i));!o.next().done;){if(a.length>1e3)return!1;o.value.from==r&&(l=a.length),a.push(ae.range(o.value.from,o.value.to))}return e(t.update({selection:ae.create(a,l),userEvent:"select.search.matches"})),!0},cE=zf((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let a=e.nextMatch(n,r,r);if(!a)return!1;let l=a,o=[],u,h,d=[];l.from==r&&l.to==i&&(h=n.toText(e.getReplacement(l)),o.push({from:l.from,to:l.to,insert:h}),l=e.nextMatch(n,l.from,l.to),d.push(pe.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+".")));let p=t.state.changes(o);return l&&(u=ae.single(l.from,l.to).map(p),d.push(DS(t,l)),d.push(n.facet(sc).scrollToMatch(u.main,t))),t.dispatch({changes:p,selection:u,effects:d,userEvent:"input.replace"}),!0}),aK=zf((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:a,to:l}=i;return{from:a,to:l,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:pe.announce.of(r),userEvent:"input.replace.all"}),!0});function MS(t){return t.state.facet(sc).createPanel(t)}function H1(t,e){var n,r,i,a,l;let o=t.selection.main,u=o.empty||o.to>o.from+100?"":t.sliceDoc(o.from,o.to);if(e&&!u)return e;let h=t.facet(sc);return new B5({search:((n=e?.literal)!==null&&n!==void 0?n:h.literal)?u:u.replace(/\n/g,"\\n"),caseSensitive:(r=e?.caseSensitive)!==null&&r!==void 0?r:h.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:h.literal,regexp:(a=e?.regexp)!==null&&a!==void 0?a:h.regexp,wholeWord:(l=e?.wholeWord)!==null&&l!==void 0?l:h.wholeWord})}function I5(t){let e=bS(t,MS);return e&&e.dom.querySelector("[main-field]")}function U5(t){let e=I5(t);e&&e==t.root.activeElement&&e.select()}const H5=t=>{let e=t.state.field(us,!1);if(e&&e.panel){let n=I5(t);if(n&&n!=t.root.activeElement){let r=H1(t.state,e.query.spec);r.valid&&t.dispatch({effects:lf.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[TS.of(!0),e?lf.of(H1(t.state,e.query.spec)):Te.appendConfig.of(cK)]});return!0},q5=t=>{let e=t.state.field(us,!1);if(!e||!e.panel)return!1;let n=bS(t,MS);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:TS.of(!1)}),!0},sK=[{key:"Mod-f",run:H5,scope:"editor search-panel"},{key:"F3",run:Vm,shift:Wm,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Vm,shift:Wm,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:q5,scope:"editor search-panel"},{key:"Mod-Shift-l",run:iK},{key:"Mod-Alt-g",run:LF},{key:"Mod-d",run:KF,preventDefault:!0}];class lK{constructor(e){this.view=e;let n=this.query=e.state.field(us).query.spec;this.commit=this.commit.bind(this),this.searchField=nt("input",{value:n.search,placeholder:or(e,"Find"),"aria-label":or(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=nt("input",{value:n.replace,placeholder:or(e,"Replace"),"aria-label":or(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=nt("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=nt("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=nt("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,a,l){return nt("button",{class:"cm-button",name:i,onclick:a,type:"button"},l)}this.dom=nt("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>Vm(e),[or(e,"next")]),r("prev",()=>Wm(e),[or(e,"previous")]),r("select",()=>rK(e),[or(e,"all")]),nt("label",null,[this.caseField,or(e,"match case")]),nt("label",null,[this.reField,or(e,"regexp")]),nt("label",null,[this.wordField,or(e,"by word")]),...e.state.readOnly?[]:[nt("br"),this.replaceField,r("replace",()=>cE(e),[or(e,"replace")]),r("replaceAll",()=>aK(e),[or(e,"replace all")])],nt("button",{name:"close",onclick:()=>q5(e),"aria-label":or(e,"close"),type:"button"},[""])])}commit(){let e=new B5({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:lf.of(e)}))}keydown(e){u$(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Wm:Vm)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),cE(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(lf)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(sc).top}}function or(t,e){return t.state.phrase(e)}const Id=30,Ud=/[\s\.,:;?!]/;function DS(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,a=Math.max(r.from,e-Id),l=Math.min(i,n+Id),o=t.state.sliceDoc(a,l);if(a!=r.from){for(let u=0;u<Id;u++)if(!Ud.test(o[u+1])&&Ud.test(o[u])){o=o.slice(u);break}}if(l!=i){for(let u=o.length-1;u>o.length-Id;u--)if(!Ud.test(o[u-1])&&Ud.test(o[u])){o=o.slice(0,u);break}}return pe.announce.of(`${t.state.phrase("current match")}. ${o} ${t.state.phrase("on line")} ${r.number}.`)}const oK=pe.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),cK=[us,kl.low(nK),oK];class $5{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=Xt(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),a=i.search(W5(e,!1));return a<0?null:{from:r+a,to:this.pos,text:i.slice(a)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function uE(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function uK(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let a=1;a<i.length;a++)n[i[a]]=!0}let r=uE(e)+uE(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function V5(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:uK(e);return i=>{let a=i.matchBefore(r);return a||i.explicit?{from:a?a.from:i.pos,options:e,validFor:n}:null}}function fK(t,e){return n=>{for(let r=Xt(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class fE{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function ul(t){return t.selection.main.from}function W5(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",a=r[r.length-1]!="$";return!i&&!a?t:new RegExp(`${i?"^":""}(?:${r})${a?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const F5=Di.define();function hK(t,e,n,r){let{main:i}=t.selection,a=n-i.from,l=r-i.from;return{...t.changeByRange(o=>{if(o!=i&&n!=r&&t.sliceDoc(o.from+a,o.from+l)!=t.sliceDoc(n,r))return{range:o};let u=t.toText(e);return{changes:{from:o.from+a,to:r==i.from?o.to:o.from+l,insert:u},range:ae.cursor(o.from+a+u.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const hE=new WeakMap;function dK(t){if(!Array.isArray(t))return t;let e=hE.get(t);return e||hE.set(t,e=V5(t)),e}const Fm=Te.define(),of=Te.define();class mK{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=Hn(e,n),i=yi(r);this.chars.push(r);let a=e.slice(n,n+i),l=a.toUpperCase();this.folded.push(Hn(l==a?a.toLowerCase():l,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:a,byWord:l}=this;if(n.length==1){let j=Hn(e,0),N=yi(j),M=N==e.length?0:-100;if(j!=n[0])if(j==r[0])M+=-200;else return null;return this.ret(M,[0,N])}let o=e.indexOf(this.pattern);if(o==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let u=n.length,h=0;if(o<0){for(let j=0,N=Math.min(e.length,200);j<N&&h<u;){let M=Hn(e,j);(M==n[h]||M==r[h])&&(i[h++]=j),j+=yi(M)}if(h<u)return null}let d=0,p=0,g=!1,y=0,w=-1,C=-1,S=/[a-z]/.test(e),k=!0;for(let j=0,N=Math.min(e.length,200),M=0;j<N&&p<u;){let D=Hn(e,j);o<0&&(d<u&&D==n[d]&&(a[d++]=j),y<u&&(D==n[y]||D==r[y]?(y==0&&(w=j),C=j+1,y++):y=0));let T,E=D<255?D>=48&&D<=57||D>=97&&D<=122?2:D>=65&&D<=90?1:0:(T=tS(D))!=T.toLowerCase()?1:T!=T.toUpperCase()?2:0;(!j||E==1&&S||M==0&&E!=0)&&(n[p]==D||r[p]==D&&(g=!0)?l[p++]=j:l.length&&(k=!1)),M=E,j+=yi(D)}return p==u&&l[0]==0&&k?this.result(-100+(g?-200:0),l,e):y==u&&w==0?this.ret(-200-e.length+(C==e.length?0:-100),[0,C]):o>-1?this.ret(-700-e.length,[o,o+this.pattern.length]):y==u?this.ret(-900-e.length,[w,C]):p==u?this.result(-100+(g?-200:0)+-700+(k?0:-1100),l,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],a=0;for(let l of n){let o=l+(this.astral?yi(Hn(r,l)):1);a&&i[a-1]==l?i[a-1]=o:(i[a++]=l,i[a++]=o)}return this.ret(e-r.length,i)}}class pK{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const Yt=ye.define({combine(t){return Pi(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:gK,filterStrict:!1,compareCompletions:(e,n)=>(e.sortText||e.label).localeCompare(n.sortText||n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>dE(e(r),n(r)),optionClass:(e,n)=>r=>dE(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function dE(t,e){return t?e?t+" "+e:t:e}function gK(t,e,n,r,i,a){let l=t.textDirection==st.RTL,o=l,u=!1,h="top",d,p,g=e.left-i.left,y=i.right-e.right,w=r.right-r.left,C=r.bottom-r.top;if(o&&g<Math.min(w,y)?o=!1:!o&&y<Math.min(w,g)&&(o=!0),w<=(o?g:y))d=Math.max(i.top,Math.min(n.top,i.bottom-C))-e.top,p=Math.min(400,o?g:y);else{u=!0,p=Math.min(400,(l?e.right:i.right-e.left)-30);let j=i.bottom-e.bottom;j>=C||j>e.top?d=n.bottom-e.top:(h="bottom",d=e.bottom-n.top)}let S=(e.bottom-e.top)/a.offsetHeight,k=(e.right-e.left)/a.offsetWidth;return{style:`${h}: ${d/S}px; max-width: ${p/k}px`,class:"cm-completionInfo-"+(u?l?"left-narrow":"right-narrow":o?"left":"right")}}function yK(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,a){let l=document.createElement("span");l.className="cm-completionLabel";let o=n.displayLabel||n.label,u=0;for(let h=0;h<a.length;){let d=a[h++],p=a[h++];d>u&&l.appendChild(document.createTextNode(o.slice(u,d)));let g=l.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(o.slice(d,p))),g.className="cm-completionMatchedText",u=p}return u<o.length&&l.appendChild(document.createTextNode(o.slice(u))),l},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function eb(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class vK{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:u=>this.placeInfo(u),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:a,selected:l}=i.open,o=e.state.facet(Yt);this.optionContent=yK(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=eb(a.length,l,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",u=>{let{options:h}=e.state.field(n).open;for(let d=u.target,p;d&&d!=this.dom;d=d.parentNode)if(d.nodeName=="LI"&&(p=/-(\d+)$/.exec(d.id))&&+p[1]<h.length){this.applyCompletion(e,h[+p[1]]),u.preventDefault();return}}),this.dom.addEventListener("focusout",u=>{let h=e.state.field(this.stateField,!1);h&&h.tooltip&&e.state.facet(Yt).closeOnBlur&&u.relatedTarget!=e.contentDOM&&e.dispatch({effects:of.of(null)})}),this.showOptions(a,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:a,selected:l,disabled:o}=r.open;(!i.open||i.open.options!=a)&&(this.range=eb(a.length,l,e.state.facet(Yt).maxRenderedOptions),this.showOptions(a,r.id)),this.updateSel(),o!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;(n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=eb(n.options.length,n.selected,this.view.state.facet(Yt).maxRenderedOptions),this.showOptions(n.options,e.id));let r=this.updateSelectedOption(n.selected);if(r){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:a}=i;if(!a)return;let l=typeof a=="string"?document.createTextNode(a):a(i);if(!l)return;"then"in l?l.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,i)}).catch(o=>Wn(this.view.state,o,"completion info")):(this.addInfoPane(l,i),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:a}=e;r.appendChild(i),this.infoDestroy=a||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return n&&xK(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),a=this.space;if(!a){let l=this.dom.ownerDocument.documentElement;a={left:0,top:0,right:l.clientWidth,bottom:l.clientHeight}}return i.top>Math.min(a.bottom,n.bottom)-10||i.bottom<Math.max(a.top,n.top)+10?null:this.view.state.facet(Yt).positionInfo(this.view,n,i,r,a,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",l=>{l.target==i&&l.preventDefault()});let a=null;for(let l=r.from;l<r.to;l++){let{completion:o,match:u}=e[l],{section:h}=o;if(h){let g=typeof h=="string"?h:h.name;if(g!=a&&(l>r.from||r.from==0))if(a=g,typeof h!="string"&&h.header)i.appendChild(h.header(h));else{let y=i.appendChild(document.createElement("completion-section"));y.textContent=g}}const d=i.appendChild(document.createElement("li"));d.id=n+"-"+l,d.setAttribute("role","option");let p=this.optionClass(o);p&&(d.className=p);for(let g of this.optionContent){let y=g(o,this.view.state,this.view,u);y&&d.appendChild(y)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function bK(t,e){return n=>new vK(n,t,e)}function xK(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function mE(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function wK(t,e){let n=[],r=null,i=null,a=d=>{n.push(d);let{section:p}=d.completion;if(p){r||(r=[]);let g=typeof p=="string"?p:p.name;r.some(y=>y.name==g)||r.push(typeof p=="string"?{name:g}:p)}},l=e.facet(Yt);for(let d of t)if(d.hasResult()){let p=d.result.getMatch;if(d.result.filter===!1)for(let g of d.result.options)a(new fE(g,d.source,p?p(g):[],1e9-n.length));else{let g=e.sliceDoc(d.from,d.to),y,w=l.filterStrict?new pK(g):new mK(g);for(let C of d.result.options)if(y=w.match(C.label)){let S=C.displayLabel?p?p(C,y.matched):[]:y.matched,k=y.score+(C.boost||0);if(a(new fE(C,d.source,S,k)),typeof C.section=="object"&&C.section.rank==="dynamic"){let{name:j}=C.section;i||(i=Object.create(null)),i[j]=Math.max(k,i[j]||-1e9)}}}}if(r){let d=Object.create(null),p=0,g=(y,w)=>(y.rank==="dynamic"&&w.rank==="dynamic"?i[w.name]-i[y.name]:0)||(typeof y.rank=="number"?y.rank:1e9)-(typeof w.rank=="number"?w.rank:1e9)||(y.name<w.name?-1:1);for(let y of r.sort(g))p-=1e5,d[y.name]=p;for(let y of n){let{section:w}=y.completion;w&&(y.score+=d[typeof w=="string"?w:w.name])}}let o=[],u=null,h=l.compareCompletions;for(let d of n.sort((p,g)=>g.score-p.score||h(p.completion,g.completion))){let p=d.completion;!u||u.label!=p.label||u.detail!=p.detail||u.type!=null&&p.type!=null&&u.type!=p.type||u.apply!=p.apply||u.boost!=p.boost?o.push(d):mE(d.completion)>mE(u)&&(o[o.length-1]=d),u=d.completion}return o}class Ao{constructor(e,n,r,i,a,l){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=a,this.disabled=l}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Ao(this.options,pE(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,a,l){if(i&&!l&&e.some(h=>h.isPending))return i.setDisabled();let o=wK(e,n);if(!o.length)return i&&e.some(h=>h.isPending)?i.setDisabled():null;let u=n.facet(Yt).selectOnOpen?0:-1;if(i&&i.selected!=u&&i.selected!=-1){let h=i.options[i.selected].completion;for(let d=0;d<o.length;d++)if(o[d].completion==h){u=d;break}}return new Ao(o,pE(r,u),{pos:e.reduce((h,d)=>d.hasResult()?Math.min(h,d.from):h,1e8),create:NK,above:a.aboveCursor},i?i.timestamp:Date.now(),u,!1)}map(e){return new Ao(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Ao(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Km{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new Km(kK,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(Yt),a=(r.override||n.languageDataAt("autocomplete",ul(n)).map(dK)).map(u=>(this.active.find(d=>d.source==u)||new Pr(u,this.active.some(d=>d.state!=0)?1:0)).update(e,r));a.length==this.active.length&&a.every((u,h)=>u==this.active[h])&&(a=this.active);let l=this.open,o=e.effects.some(u=>u.is(PS));l&&e.docChanged&&(l=l.map(e.changes)),e.selection||a.some(u=>u.hasResult()&&e.changes.touchesRange(u.from,u.to))||!SK(a,this.active)||o?l=Ao.build(a,n,this.id,l,r,o):l&&l.disabled&&!a.some(u=>u.isPending)&&(l=null),!l&&a.every(u=>!u.isPending)&&a.some(u=>u.hasResult())&&(a=a.map(u=>u.hasResult()?new Pr(u.source,0):u));for(let u of e.effects)u.is(G5)&&(l=l&&l.setSelected(u.value,this.id));return a==this.active&&l==this.open?this:new Km(a,this.id,l)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?CK:OK}}function SK(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let i=n==t.length,a=r==e.length;if(i||a)return i==a;if(t[n++].result!=e[r++].result)return!1}}const CK={"aria-autocomplete":"list"},OK={};function pE(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const kK=[];function K5(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(F5);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class Pr{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=K5(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new Pr(i.source,0)),r&4&&i.state==0&&(i=new Pr(this.source,1)),i=i.updateFor(e,r);for(let a of e.effects)if(a.is(Fm))i=new Pr(i.source,1,a.value);else if(a.is(of))i=new Pr(i.source,0);else if(a.is(PS))for(let l of a.value)l.source==i.source&&(i=l);return i}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(ul(e.state))}}class _o extends Pr{constructor(e,n,r,i,a,l){super(e,3,n),this.limit=r,this.result=i,this.from=a,this.to=l}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let a=e.changes.mapPos(this.from),l=e.changes.mapPos(this.to,1),o=ul(e.state);if(o>l||!i||n&2&&(ul(e.startState)==this.from||o<this.limit))return new Pr(this.source,n&4?1:0);let u=e.changes.mapPos(this.limit);return AK(i.validFor,e.state,a,l)?new _o(this.source,this.explicit,u,i,a,l):i.update&&(i=i.update(i,a,l,new $5(e.state,o,!1)))?new _o(this.source,this.explicit,u,i,i.from,(r=i.to)!==null&&r!==void 0?r:ul(e.state)):new Pr(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new _o(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Pr(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function AK(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):W5(t,!0).test(i)}const PS=Te.define({map(t,e){return t.map(n=>n.map(e))}}),G5=Te.define(),qn=yn.define({create(){return Km.start()},update(t,e){return t.update(e)},provide:t=>[vS.from(t,e=>e.tooltip),pe.contentAttributes.from(t,e=>e.attrs)]});function _S(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(qn).active.find(i=>i.source==e.source);return r instanceof _o?(typeof n=="string"?t.dispatch({...hK(t.state,n,r.from,r.to),annotations:F5.of(e.completion)}):n(t,e.completion,r.from,r.to),!0):!1}const NK=bK(qn,_S);function Hd(t,e="option"){return n=>{let r=n.state.field(qn,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(Yt).interactionDelay)return!1;let i=1,a;e=="page"&&(a=k_(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(a.dom.offsetHeight/a.dom.querySelector("li").offsetHeight)-1));let{length:l}=r.open.options,o=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:l-1;return o<0?o=e=="page"?0:l-1:o>=l&&(o=e=="page"?l-1:0),n.dispatch({effects:G5.of(o)}),!0}}const jK=t=>{let e=t.state.field(qn,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Yt).interactionDelay?!1:_S(t,e.open.options[e.open.selected])},tb=t=>t.state.field(qn,!1)?(t.dispatch({effects:Fm.of(!0)}),!0):!1,EK=t=>{let e=t.state.field(qn,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:of.of(null)}),!0)};class TK{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const MK=50,DK=1e3,PK=Tt.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(qn).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(qn),n=t.state.facet(Yt);if(!t.selectionSet&&!t.docChanged&&t.startState.field(qn)==e)return;let r=t.transactions.some(a=>{let l=K5(a,n);return l&8||(a.selection||a.docChanged)&&!(l&3)});for(let a=0;a<this.running.length;a++){let l=this.running[a];if(r||l.context.abortOnDocChange&&t.docChanged||l.updates.length+t.transactions.length>MK&&Date.now()-l.time>DK){for(let o of l.context.abortListeners)try{o()}catch(u){Wn(this.view.state,u)}l.context.abortListeners=null,this.running.splice(a--,1)}else l.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(a=>a.effects.some(l=>l.is(Fm)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(a=>a.isPending&&!this.running.some(l=>l.active.source==a.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let a of t.transactions)a.isUserEvent("input.type")?this.composing=2:this.composing==2&&a.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(qn);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Yt).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=ul(e),r=new $5(e,n,t.explicit,this.view),i=new TK(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(a=>{i.context.aborted||(i.done=a||null,this.scheduleAccept())},a=>{this.view.dispatch({effects:of.of(null)}),Wn(this.view.state,a)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Yt).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(Yt),r=this.view.state.field(qn);for(let i=0;i<this.running.length;i++){let a=this.running[i];if(a.done===void 0)continue;if(this.running.splice(i--,1),a.done){let o=ul(a.updates.length?a.updates[0].startState:this.view.state),u=Math.min(o,a.done.from+(a.active.explicit?0:1)),h=new _o(a.active.source,a.active.explicit,u,a.done,a.done.from,(t=a.done.to)!==null&&t!==void 0?t:o);for(let d of a.updates)h=h.update(d,n);if(h.hasResult()){e.push(h);continue}}let l=r.active.find(o=>o.source==a.active.source);if(l&&l.isPending)if(a.done==null){let o=new Pr(a.active.source,0);for(let u of a.updates)o=o.update(u,n);o.isPending||e.push(o)}else this.startQuery(l)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:PS.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(qn,!1);if(e&&e.tooltip&&this.view.state.facet(Yt).closeOnBlur){let n=e.open&&k_(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:of.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Fm.of(!1)}),20),this.composing=0}}}),_K=typeof navigator=="object"&&/Win/.test(navigator.platform),RK=kl.highest(pe.domEventHandlers({keydown(t,e){let n=e.state.field(qn,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(_K&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(l=>l.source==r.source),a=r.completion.commitCharacters||i.result.commitCharacters;return a&&a.indexOf(t.key)>-1&&_S(e,r),!1}})),LK=pe.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),cf={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},il=Te.define({map(t,e){let n=e.mapPos(t,-1,Nn.TrackAfter);return n??void 0}}),RS=new class extends ms{};RS.startSide=1;RS.endSide=-1;const Y5=yn.define({create(){return ze.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(il)&&(t=t.update({add:[RS.range(n.value,n.value+1)]}));return t}});function BK(){return[IK,Y5]}const nb="()[]{}<>";function Q5(t){for(let e=0;e<nb.length;e+=2)if(nb.charCodeAt(e)==t)return nb.charAt(e+1);return tS(t<128?t:t+1)}function X5(t,e){return t.languageDataAt("closeBrackets",e)[0]||cf}const zK=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),IK=pe.inputHandler.of((t,e,n,r)=>{if((zK?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&yi(Hn(r,0))==1||e!=i.from||n!=i.to)return!1;let a=qK(t.state,r);return a?(t.dispatch(a),!0):!1}),UK=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=X5(t,t.selection.main.head).brackets||cf.brackets,i=null,a=t.changeByRange(l=>{if(l.empty){let o=$K(t.doc,l.head);for(let u of r)if(u==o&&gg(t.doc,l.head)==Q5(Hn(u,0)))return{changes:{from:l.head-u.length,to:l.head+u.length},range:ae.cursor(l.head-u.length)}}return{range:i=l}});return i||e(t.update(a,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},HK=[{key:"Backspace",run:UK}];function qK(t,e){let n=X5(t,t.selection.main.head),r=n.brackets||cf.brackets;for(let i of r){let a=Q5(Hn(i,0));if(e==i)return a==i?FK(t,i,r.indexOf(i+i+i)>-1,n):VK(t,i,a,n.before||cf.before);if(e==a&&Z5(t,t.selection.main.from))return WK(t,i,a)}return null}function Z5(t,e){let n=!1;return t.field(Y5).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function gg(t,e){let n=t.sliceString(e,e+2);return n.slice(0,yi(Hn(n,0)))}function $K(t,e){let n=t.sliceString(e-2,e);return yi(Hn(n,0))==n.length?n:n.slice(1)}function VK(t,e,n,r){let i=null,a=t.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:n,from:l.to}],effects:il.of(l.to+e.length),range:ae.range(l.anchor+e.length,l.head+e.length)};let o=gg(t.doc,l.head);return!o||/\s/.test(o)||r.indexOf(o)>-1?{changes:{insert:e+n,from:l.head},effects:il.of(l.head+e.length),range:ae.cursor(l.head+e.length)}:{range:i=l}});return i?null:t.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function WK(t,e,n){let r=null,i=t.changeByRange(a=>a.empty&&gg(t.doc,a.head)==n?{changes:{from:a.head,to:a.head+n.length,insert:n},range:ae.cursor(a.head+n.length)}:r={range:a});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function FK(t,e,n,r){let i=r.stringPrefixes||cf.stringPrefixes,a=null,l=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:e,from:o.to}],effects:il.of(o.to+e.length),range:ae.range(o.anchor+e.length,o.head+e.length)};let u=o.head,h=gg(t.doc,u),d;if(h==e){if(gE(t,u))return{changes:{insert:e+e,from:u},effects:il.of(u+e.length),range:ae.cursor(u+e.length)};if(Z5(t,u)){let g=n&&t.sliceDoc(u,u+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:u,to:u+g.length,insert:g},range:ae.cursor(u+g.length)}}}else{if(n&&t.sliceDoc(u-2*e.length,u)==e+e&&(d=yE(t,u-2*e.length,i))>-1&&gE(t,d))return{changes:{insert:e+e+e+e,from:u},effects:il.of(u+e.length),range:ae.cursor(u+e.length)};if(t.charCategorizer(u)(h)!=pt.Word&&yE(t,u,i)>-1&&!KK(t,u,e,i))return{changes:{insert:e+e,from:u},effects:il.of(u+e.length),range:ae.cursor(u+e.length)}}return{range:a=o}});return a?null:t.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function gE(t,e){let n=Xt(t).resolveInner(e+1);return n.parent&&n.from==e}function KK(t,e,n,r){let i=Xt(t).resolveInner(e,-1),a=r.reduce((l,o)=>Math.max(l,o.length),0);for(let l=0;l<5;l++){let o=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+a)),u=o.indexOf(n);if(!u||u>-1&&r.indexOf(o.slice(0,u))>-1){let d=i.firstChild;for(;d&&d.from==i.from&&d.to-d.from>n.length+u;){if(t.sliceDoc(d.to-n.length,d.to)==n)return!1;d=d.firstChild}return!0}let h=i.to==e&&i.parent;if(!h)break;i=h}return!1}function yE(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=pt.Word)return e;for(let i of n){let a=e-i.length;if(t.sliceDoc(a,e)==i&&r(t.sliceDoc(a-1,a))!=pt.Word)return a}return-1}function GK(t={}){return[RK,qn,Yt.of(t),PK,YK,LK]}const J5=[{key:"Ctrl-Space",run:tb},{mac:"Alt-`",run:tb},{mac:"Alt-i",run:tb},{key:"Escape",run:EK},{key:"ArrowDown",run:Hd(!0)},{key:"ArrowUp",run:Hd(!1)},{key:"PageDown",run:Hd(!0,"page")},{key:"PageUp",run:Hd(!1,"page")},{key:"Enter",run:jK}],YK=kl.highest(lg.computeN([Yt],t=>t.facet(Yt).defaultKeymap?[J5]:[]));class vE{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class tl{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=r.facet(uf).markerFilter;i&&(e=i(e,r));let a=e.slice().sort((y,w)=>y.from-w.from||y.to-w.to),l=new oa,o=[],u=0,h=r.doc.iter(),d=0,p=r.doc.length;for(let y=0;;){let w=y==a.length?null:a[y];if(!w&&!o.length)break;let C,S;if(o.length)C=u,S=o.reduce((N,M)=>Math.min(N,M.to),w&&w.from>C?w.from:1e8);else{if(C=w.from,C>p)break;S=w.to,o.push(w),y++}for(;y<a.length;){let N=a[y];if(N.from==C&&(N.to>N.from||N.to==C))o.push(N),y++,S=Math.min(N.to,S);else{S=Math.min(N.from,S);break}}S=Math.min(S,p);let k=!1;if(o.some(N=>N.from==C&&(N.to==S||S==p))&&(k=C==S,!k&&S-C<10)){let N=C-(d+h.value.length);N>0&&(h.next(N),d=C);for(let M=C;;){if(M>=S){k=!0;break}if(!h.lineBreak&&d+h.value.length>M)break;M=d+h.value.length,d+=h.value.length,h.next()}}let j=oG(o);if(k)l.add(C,C,ke.widget({widget:new iG(j),diagnostics:o.slice()}));else{let N=o.reduce((M,D)=>D.markClass?M+" "+D.markClass:M,"");l.add(C,S,ke.mark({class:"cm-lintRange cm-lintRange-"+j+N,diagnostics:o.slice(),inclusiveEnd:o.some(M=>M.to>S)}))}if(u=S,u==p)break;for(let N=0;N<o.length;N++)o[N].to<=u&&o.splice(N--,1)}let g=l.finish();return new tl(g,n,xs(g))}}function xs(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,a,{spec:l})=>{if(!(e&&l.diagnostics.indexOf(e)<0))if(!r)r=new vE(i,a,e||l.diagnostics[0]);else{if(l.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new vE(r.from,a,r.diagnostic)}}),r}function QK(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(uf).hideOn(t,n,r);if(i!=null)return i;let a=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(l=>l.is(eR))||t.changes.touchesRange(a.from,Math.max(a.to,r)))}function XK(t,e){return t.field(hr,!1)?e:e.concat(Te.appendConfig.of(cG))}const eR=Te.define(),LS=Te.define(),tR=Te.define(),hr=yn.define({create(){return new tl(ke.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let a=e.changes.mapPos(t.selected.from,1);r=xs(n,t.selected.diagnostic,a)||xs(n,null,a)}!n.size&&i&&e.state.facet(uf).autoPanel&&(i=null),t=new tl(n,i,r)}for(let n of e.effects)if(n.is(eR)){let r=e.state.facet(uf).autoPanel?n.value.length?ff.open:null:t.panel;t=tl.init(n.value,r,e.state)}else n.is(LS)?t=new tl(t.diagnostics,n.value?ff.open:null,t.selected):n.is(tR)&&(t=new tl(t.diagnostics,t.panel,n.value));return t},provide:t=>[nf.from(t,e=>e.panel),pe.decorations.from(t,e=>e.diagnostics)]}),ZK=ke.mark({class:"cm-lintRange cm-lintRange-active"});function JK(t,e,n){let{diagnostics:r}=t.state.field(hr),i,a=-1,l=-1;r.between(e-(n<0?1:0),e+(n>0?1:0),(u,h,{spec:d})=>{if(e>=u&&e<=h&&(u==h||(e>u||n>0)&&(e<h||n<0)))return i=d.diagnostics,a=u,l=h,!1});let o=t.state.facet(uf).tooltipFilter;return i&&o&&(i=o(i,t.state)),i?{pos:a,end:l,above:t.state.doc.lineAt(a).to<l,create(){return{dom:eG(t,i)}}}:null}function eG(t,e){return nt("ul",{class:"cm-tooltip-lint"},e.map(n=>rR(t,n,!1)))}const tG=t=>{let e=t.state.field(hr,!1);(!e||!e.panel)&&t.dispatch({effects:XK(t.state,[LS.of(!0)])});let n=bS(t,ff.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},bE=t=>{let e=t.state.field(hr,!1);return!e||!e.panel?!1:(t.dispatch({effects:LS.of(!1)}),!0)},nG=t=>{let e=t.state.field(hr,!1);if(!e)return!1;let n=t.state.selection.main,r=xs(e.diagnostics,null,n.to+1);return!r&&(r=xs(e.diagnostics,null,0),!r||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},rG=[{key:"Mod-Shift-m",run:tG,preventDefault:!0},{key:"F8",run:nG}],uf=ye.define({combine(t){return{sources:t.map(e=>e.source).filter(e=>e!=null),...Pi(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:xE,tooltipFilter:xE,needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n,hideOn:(e,n)=>e?n?(r,i,a)=>e(r,i,a)||n(r,i,a):e:n,autoPanel:(e,n)=>e||n})}}});function xE(t,e){return t?e?(n,r)=>e(t(n,r),r):t:e}function nR(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(a=>a.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function rR(t,e,n){var r;let i=n?nR(e.actions):[];return nt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},nt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((a,l)=>{let o=!1,u=y=>{if(y.preventDefault(),o)return;o=!0;let w=xs(t.state.field(hr).diagnostics,e);w&&a.apply(t,w.from,w.to)},{name:h}=a,d=i[l]?h.indexOf(i[l]):-1,p=d<0?h:[h.slice(0,d),nt("u",h.slice(d,d+1)),h.slice(d+1)],g=a.markClass?" "+a.markClass:"";return nt("button",{type:"button",class:"cm-diagnosticAction"+g,onclick:u,onmousedown:u,"aria-label":` Action: ${h}${d<0?"":` (access key "${i[l]})"`}.`},p)}),e.source&&nt("div",{class:"cm-diagnosticSource"},e.source))}class iG extends _i{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return nt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class wE{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=rR(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class ff{constructor(e){this.view=e,this.items=[];let n=i=>{if(!(i.ctrlKey||i.altKey||i.metaKey)){if(i.keyCode==27)bE(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:a}=this.items[this.selectedIndex],l=nR(a.actions);for(let o=0;o<l.length;o++)if(l[o].toUpperCase().charCodeAt(0)==i.keyCode){let u=xs(this.view.state.field(hr).diagnostics,a);u&&a.actions[o].apply(e,u.from,u.to)}}else return;i.preventDefault()}},r=i=>{for(let a=0;a<this.items.length;a++)this.items[a].dom.contains(i.target)&&this.moveSelection(a)};this.list=nt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=nt("div",{class:"cm-panel-lint"},this.list,nt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>bE(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(hr).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(hr),r=0,i=!1,a=null,l=new Set;for(e.between(0,this.view.state.doc.length,(o,u,{spec:h})=>{for(let d of h.diagnostics){if(l.has(d))continue;l.add(d);let p=-1,g;for(let y=r;y<this.items.length;y++)if(this.items[y].diagnostic==d){p=y;break}p<0?(g=new wE(this.view,d),this.items.splice(r,0,g),i=!0):(g=this.items[p],p>r&&(this.items.splice(r,p-r),i=!0)),n&&g.diagnostic==n.diagnostic?g.dom.hasAttribute("aria-selected")||(g.dom.setAttribute("aria-selected","true"),a=g):g.dom.hasAttribute("aria-selected")&&g.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new wE(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:()=>({sel:a.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:u})=>{let h=u.height/this.list.offsetHeight;o.top<u.top?this.list.scrollTop-=(u.top-o.top)/h:o.bottom>u.bottom&&(this.list.scrollTop+=(o.bottom-u.bottom)/h)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(hr),r=xs(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:tR.of(r)})}static open(e){return new ff(e)}}function aG(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function qd(t){return aG(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const sG=pe.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:qd("#d11")},".cm-lintRange-warning":{backgroundImage:qd("orange")},".cm-lintRange-info":{backgroundImage:qd("#999")},".cm-lintRange-hint":{backgroundImage:qd("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function lG(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function oG(t){let e="hint",n=1;for(let r of t){let i=lG(r.severity);i>n&&(n=i,e=r.severity)}return e}const cG=[hr,pe.decorations.compute([hr],t=>{let{selected:e,panel:n}=t.field(hr);return!e||!n||e.from==e.to?ke.none:ke.set([ZK.range(e.from,e.to)])}),Z$(JK,{hideOn:QK}),sG];var SE=function(e){e===void 0&&(e={});var{crosshairCursor:n=!1}=e,r=[];e.closeBracketsKeymap!==!1&&(r=r.concat(HK)),e.defaultKeymap!==!1&&(r=r.concat(PF)),e.searchKeymap!==!1&&(r=r.concat(sK)),e.historyKeymap!==!1&&(r=r.concat(UW)),e.foldKeymap!==!1&&(r=r.concat(eW)),e.completionKeymap!==!1&&(r=r.concat(J5)),e.lintKeymap!==!1&&(r=r.concat(rG));var i=[];return e.lineNumbers!==!1&&i.push(fV()),e.highlightActiveLineGutter!==!1&&i.push(mV()),e.highlightSpecialChars!==!1&&i.push(N$()),e.history!==!1&&i.push(MW()),e.foldGutter!==!1&&i.push(iW()),e.drawSelection!==!1&&i.push(g$()),e.dropCursor!==!1&&i.push(w$()),e.allowMultipleSelections!==!1&&i.push(qe.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(WV()),e.syntaxHighlighting!==!1&&i.push(X_(oW,{fallback:!0})),e.bracketMatching!==!1&&i.push(pW()),e.closeBrackets!==!1&&i.push(BK()),e.autocompletion!==!1&&i.push(GK()),e.rectangularSelection!==!1&&i.push(H$()),n!==!1&&i.push(V$()),e.highlightActiveLine!==!1&&i.push(P$()),e.highlightSelectionMatches!==!1&&i.push(IF()),e.tabSize&&typeof e.tabSize=="number"&&i.push(cg.of(" ".repeat(e.tabSize))),i.concat([lg.of(r.flat())]).filter(Boolean)};const uG="#e5c07b",CE="#e06c75",fG="#56b6c2",hG="#ffffff",dm="#abb2bf",q1="#7d8799",dG="#61afef",mG="#98c379",OE="#d19a66",pG="#c678dd",gG="#21252b",kE="#2c313a",AE="#282c34",rb="#353a42",yG="#3E4451",NE="#528bff",vG=pe.theme({"&":{color:dm,backgroundColor:AE},".cm-content":{caretColor:NE},".cm-cursor, .cm-dropCursor":{borderLeftColor:NE},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:yG},".cm-panels":{backgroundColor:gG,color:dm},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:AE,color:q1,border:"none"},".cm-activeLineGutter":{backgroundColor:kE},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:rb},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:rb,borderBottomColor:rb},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:kE,color:dm}}},{dark:!0}),bG=Lf.define([{tag:G.keyword,color:pG},{tag:[G.name,G.deleted,G.character,G.propertyName,G.macroName],color:CE},{tag:[G.function(G.variableName),G.labelName],color:dG},{tag:[G.color,G.constant(G.name),G.standard(G.name)],color:OE},{tag:[G.definition(G.name),G.separator],color:dm},{tag:[G.typeName,G.className,G.number,G.changed,G.annotation,G.modifier,G.self,G.namespace],color:uG},{tag:[G.operator,G.operatorKeyword,G.url,G.escape,G.regexp,G.link,G.special(G.string)],color:fG},{tag:[G.meta,G.comment],color:q1},{tag:G.strong,fontWeight:"bold"},{tag:G.emphasis,fontStyle:"italic"},{tag:G.strikethrough,textDecoration:"line-through"},{tag:G.link,color:q1,textDecoration:"underline"},{tag:G.heading,fontWeight:"bold",color:CE},{tag:[G.atom,G.bool,G.special(G.variableName)],color:OE},{tag:[G.processingInstruction,G.string,G.inserted],color:mG},{tag:G.invalid,color:hG}]),xG=[vG,X_(bG)];var wG=pe.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),SG=function(e){e===void 0&&(e={});var{indentWithTab:n=!0,editable:r=!0,readOnly:i=!1,theme:a="light",placeholder:l="",basicSetup:o=!0}=e,u=[];switch(n&&u.unshift(lg.of([_F])),o&&(typeof o=="boolean"?u.unshift(SE()):u.unshift(SE(o))),l&&u.unshift(B$(l)),a){case"light":u.push(wG);break;case"dark":u.push(xG);break;case"none":break;default:u.push(a);break}return r===!1&&u.push(pe.editable.of(!1)),i&&u.push(qe.readOnly.of(!0)),[...u]},CG=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)});class OG{constructor(e,n){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=n,this.timeoutMS=n,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(n=>{try{n()}catch(r){console.error("TimeoutLatch callback error:",r)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class jE{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var ib=null,kG=()=>typeof window>"u"?new jE:(ib||(ib=new jE),ib),EE=Di.define(),AG=200,NG=[];function jG(t){var{value:e,selection:n,onChange:r,onStatistics:i,onCreateEditor:a,onUpdate:l,extensions:o=NG,autoFocus:u,theme:h="light",height:d=null,minHeight:p=null,maxHeight:g=null,width:y=null,minWidth:w=null,maxWidth:C=null,placeholder:S="",editable:k=!0,readOnly:j=!1,indentWithTab:N=!0,basicSetup:M=!0,root:D,initialState:T}=t,[E,I]=O.useState(),[_,z]=O.useState(),[q,B]=O.useState(),re=O.useState(()=>({current:null}))[0],se=O.useState(()=>({current:null}))[0],ee=pe.theme({"&":{height:d,minHeight:p,maxHeight:g,width:y,minWidth:w,maxWidth:C},"& .cm-scroller":{height:"100% !important"}}),H=pe.updateListener.of(oe=>{if(oe.docChanged&&typeof r=="function"&&!oe.transactions.some(K=>K.annotation(EE))){re.current?re.current.reset():(re.current=new OG(()=>{if(se.current){var K=se.current;se.current=null,K()}re.current=null},AG),kG().add(re.current));var he=oe.state.doc,R=he.toString();r(R,oe)}i&&i(CG(oe))}),Y=SG({theme:h,editable:k,readOnly:j,placeholder:S,indentWithTab:N,basicSetup:M}),le=[H,ee,...Y];return l&&typeof l=="function"&&le.push(pe.updateListener.of(l)),le=le.concat(o),O.useLayoutEffect(()=>{if(E&&!q){var oe={doc:e,selection:n,extensions:le},he=T?qe.fromJSON(T.json,oe,T.fields):qe.create(oe);if(B(he),!_){var R=new pe({state:he,parent:E,root:D});z(R),a&&a(R,he)}}return()=>{_&&(B(void 0),z(void 0))}},[E,q]),O.useEffect(()=>{t.container&&I(t.container)},[t.container]),O.useEffect(()=>()=>{_&&(_.destroy(),z(void 0)),re.current&&(re.current.cancel(),re.current=null)},[_]),O.useEffect(()=>{u&&_&&_.focus()},[u,_]),O.useEffect(()=>{_&&_.dispatch({effects:Te.reconfigure.of(le)})},[h,o,d,p,g,y,w,C,S,k,j,N,M,r,l]),O.useEffect(()=>{if(e!==void 0){var oe=_?_.state.doc.toString():"";if(_&&e!==oe){var he=re.current&&!re.current.isDone,R=()=>{_&&e!==_.state.doc.toString()&&_.dispatch({changes:{from:0,to:_.state.doc.toString().length,insert:e||""},annotations:[EE.of(!0)]})};he?se.current=R:R()}}},[e,_]),{state:q,setState:B,view:_,setView:z,container:E,setContainer:I}}var EG=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],BS=O.forwardRef((t,e)=>{var{className:n,value:r="",selection:i,extensions:a=[],onChange:l,onStatistics:o,onCreateEditor:u,onUpdate:h,autoFocus:d,theme:p="light",height:g,minHeight:y,maxHeight:w,width:C,minWidth:S,maxWidth:k,basicSetup:j,placeholder:N,indentWithTab:M,editable:D,readOnly:T,root:E,initialState:I}=t,_=nH(t,EG),z=O.useRef(null),{state:q,view:B,container:re,setContainer:se}=jG({root:E,value:r,autoFocus:d,theme:p,height:g,minHeight:y,maxHeight:w,width:C,minWidth:S,maxWidth:k,basicSetup:j,placeholder:N,indentWithTab:M,editable:D,readOnly:T,selection:i,onChange:l,onStatistics:o,onCreateEditor:u,onUpdate:h,extensions:a,initialState:I});O.useImperativeHandle(e,()=>({editor:z.current,state:q,view:B}),[z,re,q,B]);var ee=O.useCallback(Y=>{z.current=Y,se(Y)},[se]);if(typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var H=typeof p=="string"?"cm-theme-"+p:"cm-theme";return v.jsx("div",Yx({ref:ee,className:""+H+(n?" "+n:"")},_))});BS.displayName="CodeMirror";var TE={};class Gm{constructor(e,n,r,i,a,l,o,u,h,d=0,p){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=a,this.score=l,this.buffer=o,this.bufferBase=u,this.curContext=h,this.lookAhead=d,this.parent=p}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new Gm(e,[],n,r,r,0,[],0,i?new ME(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:a}=this.p,l=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),o=a.dynamicPrecedence(i);if(o&&(this.score+=o),r==0){this.pushState(a.getGoto(this.state,i,!0),this.reducePos),i<a.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,l?8:4,!0),this.reduceContext(i,this.reducePos);return}let u=this.stack.length-(r-1)*3-(e&262144?6:0),h=u?this.stack[u-2]:this.p.ranges[0].from,d=this.reducePos-h;d>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(h==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=d):this.p.lastBigReductionSize<d&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=h,this.p.lastBigReductionSize=d));let p=u?this.stack[u-1]:0,g=this.bufferBase+this.buffer.length-p;if(i<a.minRepeatTerm||e&131072){let y=a.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,h,y,g+4,!0)}if(e&262144)this.state=this.stack[u];else{let y=this.stack[u-3];this.state=a.getGoto(y,i,!0)}for(;this.stack.length>u;)this.stack.pop();this.reduceContext(i,h)}storeNode(e,n,r,i=4,a=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let l=this,o=this.buffer.length;if(o==0&&l.parent&&(o=l.bufferBase-l.parent.bufferBase,l=l.parent),o>0&&l.buffer[o-4]==0&&l.buffer[o-1]>-1){if(n==r)return;if(l.buffer[o-2]>=n){l.buffer[o-2]=r;return}}}if(!a||this.pos==r)this.buffer.push(e,n,r,i);else{let l=this.buffer.length;if(l>0&&(this.buffer[l-4]!=0||this.buffer[l-1]<0)){let o=!1;for(let u=l;u>0&&this.buffer[u-2]>r;u-=4)if(this.buffer[u-1]>=0){o=!0;break}if(o)for(;l>0&&this.buffer[l-2]>r;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,i>4&&(i-=4)}this.buffer[l]=e,this.buffer[l+1]=n,this.buffer[l+2]=r,this.buffer[l+3]=i}}shift(e,n,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let a=e,{parser:l}=this.p;this.pos=i;let o=l.stateFlag(a,1);!o&&(i>r||n<=l.maxNode)&&(this.reducePos=i),this.pushState(a,o?r:Math.min(r,this.reducePos)),this.shiftContext(n,r),n<=l.maxNode&&this.buffer.push(n,r,i,4)}else this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4)}apply(e,n,r,i){e&65536?this.reduce(e):this.shift(e,n,r,i)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new Gm(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new TG(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if((r&65536)==0)return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let a=0,l;a<n.length;a+=2)(l=n[a+1])!=this.state&&this.p.parser.hasAction(l,e)&&i.push(n[a],l);if(this.stack.length<120)for(let a=0;i.length<8&&a<n.length;a+=2){let l=n[a+1];i.some((o,u)=>u&1&&o==l)||i.push(n[a],l)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let a=n[i+1];if(a==this.state)continue;let l=this.split();l.pushState(a,this.pos),l.storeNode(0,l.pos,l.pos,4,!0),l.shiftContext(n[i],this.pos),l.reducePos=this.pos,l.score-=200,r.push(l)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if((n&65536)==0)return!1;if(!e.validAction(this.state,n)){let r=n>>19,i=n&65535,a=this.stack.length-r*3;if(a<0||e.getGoto(this.stack[a],i,!1)<0){let l=this.findForcedReduction();if(l==null)return!1;n=l}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(i,a)=>{if(!n.includes(i))return n.push(i),e.allActions(i,l=>{if(!(l&393216))if(l&65536){let o=(l>>19)-a;if(o>1){let u=l&65535,h=this.stack.length-o*3;if(h>=0&&e.getGoto(this.stack[h],u,!1)>=0)return o<<19|65536|u}}else{let o=r(l,a+1);if(o!=null)return o}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new ME(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class ME{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class TG{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class Ym{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new Ym(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Ym(this.stack,this.pos,this.index)}}function $d(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let a=0;for(;;){let l=t.charCodeAt(r++),o=!1;if(l==126){a=65535;break}l>=92&&l--,l>=34&&l--;let u=l-32;if(u>=46&&(u-=46,o=!0),a+=u,o)break;a*=46}n?n[i++]=a:n=new e(a)}return n}class mm{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const DE=new mm;class MG{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=DE,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,a=this.pos+e;for(;a<r.from;){if(!i)return null;let l=this.ranges[--i];a-=r.from-l.to,r=l}for(;n<0?a>r.to:a>=r.to;){if(i==this.ranges.length-1)return null;let l=this.ranges[++i];a+=l.from-r.to,r=l}return a}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let a=this.resolveOffset(e,1);if(a==null)return-1;if(r=a,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let l=this.rangeIndex,o=this.range;for(;o.to<=r;)o=this.ranges[++l];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=DE,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class Ro{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;PG(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}Ro.prototype.contextual=Ro.prototype.fallback=Ro.prototype.extend=!1;Ro.prototype.fallback=Ro.prototype.extend=!1;class DG{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function PG(t,e,n,r,i,a){let l=0,o=1<<r,{dialect:u}=n.p.parser;e:for(;(o&t[l])!=0;){let h=t[l+1];for(let y=l+3;y<h;y+=2)if((t[y+1]&o)>0){let w=t[y];if(u.allows(w)&&(e.token.value==-1||e.token.value==w||_G(w,e.token.value,i,a))){e.acceptToken(w);break}}let d=e.next,p=0,g=t[l+2];if(e.next<0&&g>p&&t[h+g*3-3]==65535){l=t[h+g*3-1];continue e}for(;p<g;){let y=p+g>>1,w=h+y+(y<<1),C=t[w],S=t[w+1]||65536;if(d<C)g=y;else if(d>=S)p=y+1;else{l=t[w+2],e.advance();continue e}}break}}function PE(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function _G(t,e,n,r){let i=PE(n,r,e);return i<0||PE(n,r,t)<i}const cr=typeof process<"u"&&TE&&/\bparse\b/.test(TE.LOG);let ab=null;function _E(t,e,n){let r=t.cursor(kt.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class RG{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?_E(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?_E(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let a=r.children[i],l=this.start[n]+r.positions[i];if(l>e)return this.nextStart=l,null;if(a instanceof Et){if(l==e){if(l<this.safeFrom)return null;let o=l+a.length;if(o<=this.safeTo){let u=a.prop(Re.lookAhead);if(!u||o+u<this.fragment.to)return a}}this.index[n]++,l+a.length>=Math.max(this.safeFrom,e)&&(this.trees.push(a),this.start.push(l),this.index.push(0))}else this.index[n]++,this.nextStart=l+a.length}}}class LG{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new mm)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:a}=i,l=i.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,u=0;for(let h=0;h<a.length;h++){if((1<<h&l)==0)continue;let d=a[h],p=this.tokens[h];if(!(r&&!d.fallback)&&((d.contextual||p.start!=e.pos||p.mask!=l||p.context!=o)&&(this.updateCachedToken(p,d,e),p.mask=l,p.context=o),p.lookAhead>p.end+25&&(u=Math.max(p.lookAhead,u)),p.value!=0)){let g=n;if(p.extended>-1&&(n=this.addActions(e,p.extended,p.end,n)),n=this.addActions(e,p.value,p.end,n),!d.extend&&(r=p,n>g))break}}for(;this.actions.length>n;)this.actions.pop();return u&&e.setLookAhead(u),!r&&e.pos==this.stream.end&&(r=new mm,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new mm,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:a}=r.p;for(let l=0;l<a.specialized.length;l++)if(a.specialized[l]==e.value){let o=a.specializers[l](this.stream.read(e.start,e.end),r);if(o>=0&&r.p.parser.dialect.allows(o>>1)){(o&1)==0?e.value=o>>1:e.extended=o>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let a=0;a<i;a+=3)if(this.actions[a]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:a}=e,{parser:l}=e.p,{data:o}=l;for(let u=0;u<2;u++)for(let h=l.stateSlot(a,u?2:1);;h+=3){if(o[h]==65535)if(o[h+1]==1)h=ea(o,h+2);else{i==0&&o[h+1]==2&&(i=this.putAction(ea(o,h+2),n,r,i));break}o[h]==n&&(i=this.putAction(ea(o,h+1),n,r,i))}return i}}class BG{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new MG(n,i),this.tokens=new LG(e,this.stream),this.topTerm=e.top[1];let{from:a}=i[0];this.stacks=[Gm.start(this,e.top[0],a)],this.fragments=r.length&&this.stream.end-a>e.bufferLength*4?new RG(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,a;if(this.bigReductionCount>300&&e.length==1){let[l]=e;for(;l.forceReduce()&&l.stack.length&&l.stack[l.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let l=0;l<e.length;l++){let o=e[l];for(;;){if(this.tokens.mainToken=null,o.pos>n)r.push(o);else{if(this.advanceStack(o,r,e))continue;{i||(i=[],a=[]),i.push(o);let u=this.tokens.getMainToken(o);a.push(u.value,u.end)}}break}}if(!r.length){let l=i&&IG(i);if(l)return cr&&console.log("Finish with "+this.stackID(l)),this.stackToTree(l);if(this.parser.strict)throw cr&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let l=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,a,r);if(l)return cr&&console.log("Force-finish "+this.stackID(l)),this.stackToTree(l.forceAll())}if(this.recovering){let l=this.recovering==1?1:this.recovering*3;if(r.length>l)for(r.sort((o,u)=>u.score-o.score);r.length>l;)r.pop();r.some(o=>o.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let l=0;l<r.length-1;l++){let o=r[l];for(let u=l+1;u<r.length;u++){let h=r[u];if(o.sameState(h)||o.buffer.length>500&&h.buffer.length>500)if((o.score-h.score||o.buffer.length-h.buffer.length)>0)r.splice(u--,1);else{r.splice(l--,1);continue e}}}r.length>12&&(r.sort((l,o)=>o.score-l.score),r.splice(12,r.length-12))}this.minStackPos=r[0].pos;for(let l=1;l<r.length;l++)r[l].pos<this.minStackPos&&(this.minStackPos=r[l].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:a}=this,l=cr?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let h=e.curContext&&e.curContext.tracker.strict,d=h?e.curContext.hash:0;for(let p=this.fragments.nodeAt(i);p;){let g=this.parser.nodeSet.types[p.type.id]==p.type?a.getGoto(e.state,p.type.id):-1;if(g>-1&&p.length&&(!h||(p.prop(Re.contextHash)||0)==d))return e.useNode(p,g),cr&&console.log(l+this.stackID(e)+` (via reuse of ${a.getName(p.type.id)})`),!0;if(!(p instanceof Et)||p.children.length==0||p.positions[0]>0)break;let y=p.children[0];if(y instanceof Et&&p.positions[0]==0)p=y;else break}}let o=a.stateSlot(e.state,4);if(o>0)return e.reduce(o),cr&&console.log(l+this.stackID(e)+` (via always-reduce ${a.getName(o&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let u=this.tokens.getActions(e);for(let h=0;h<u.length;){let d=u[h++],p=u[h++],g=u[h++],y=h==u.length||!r,w=y?e:e.split(),C=this.tokens.mainToken;if(w.apply(d,p,C?C.start:w.pos,g),cr&&console.log(l+this.stackID(w)+` (via ${(d&65536)==0?"shift":`reduce of ${a.getName(d&65535)}`} for ${a.getName(p)} @ ${i}${w==e?"":", split"})`),y)return!0;w.pos>i?n.push(w):r.push(w)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return RE(e,n),!0}}runRecovery(e,n,r){let i=null,a=!1;for(let l=0;l<e.length;l++){let o=e[l],u=n[l<<1],h=n[(l<<1)+1],d=cr?this.stackID(o)+" -> ":"";if(o.deadEnd&&(a||(a=!0,o.restart(),cr&&console.log(d+this.stackID(o)+" (restarted)"),this.advanceFully(o,r))))continue;let p=o.split(),g=d;for(let y=0;y<10&&p.forceReduce()&&(cr&&console.log(g+this.stackID(p)+" (via force-reduce)"),!this.advanceFully(p,r));y++)cr&&(g=this.stackID(p)+" -> ");for(let y of o.recoverByInsert(u))cr&&console.log(d+this.stackID(y)+" (via recover-insert)"),this.advanceFully(y,r);this.stream.end>o.pos?(h==o.pos&&(h++,u=0),o.recoverByDelete(u,h),cr&&console.log(d+this.stackID(o)+` (via recover-delete ${this.parser.getName(u)})`),RE(o,r)):(!i||i.score<p.score)&&(i=p)}return i}stackToTree(e){return e.close(),Et.build({buffer:Ym.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(ab||(ab=new WeakMap)).get(e);return n||ab.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function RE(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class zG{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}class Qm extends R_{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let o=0;o<e.repeatNodeCount;o++)n.push("");let r=Object.keys(e.topRules).map(o=>e.topRules[o][1]),i=[];for(let o=0;o<n.length;o++)i.push([]);function a(o,u,h){i[o].push([u,u.deserialize(String(h))])}if(e.nodeProps)for(let o of e.nodeProps){let u=o[0];typeof u=="string"&&(u=Re[u]);for(let h=1;h<o.length;){let d=o[h++];if(d>=0)a(d,u,o[h++]);else{let p=o[h+-d];for(let g=-d;g>0;g--)a(o[h++],u,p);h++}}}this.nodeSet=new xS(n.map((o,u)=>Yn.define({name:u>=this.minRepeatTerm?void 0:o,id:u,props:i[u],top:r.indexOf(u)>-1,error:u==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(u)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=M_;let l=$d(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(LE),this.states=$d(e.states,Uint32Array),this.data=$d(e.stateData),this.goto=$d(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(o=>typeof o=="number"?new Ro(l,o):o),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new BG(this,e,n,r);for(let a of this.wrappers)i=a(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let a=i[n+1];;){let l=i[a++],o=l&1,u=i[a++];if(o&&r)return u;for(let h=a+(l>>1);a<h;a++)if(i[a]==e)return u;if(o)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let a=this.stateSlot(e,i?2:1),l;;a+=3){if((l=r[a])==65535)if(r[a+1]==1)l=r[a=ea(r,a+2)];else{if(r[a+1]==2)return ea(r,a+2);break}if(l==n||l==0)return ea(r,a+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),i=r?n(r):void 0;for(let a=this.stateSlot(e,1);i==null;a+=3){if(this.data[a]==65535)if(this.data[a+1]==1)a=ea(this.data,a+2);else break;i=n(ea(this.data,a+1))}return i}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=ea(this.data,r+2);else break;if((this.data[r+2]&1)==0){let i=this.data[r+1];n.some((a,l)=>l&1&&a==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(Qm.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(a=>a.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let a=e.specializers.find(o=>o.from==r.external);if(!a)return r;let l=Object.assign(Object.assign({},r),{external:a.to});return n.specializers[i]=LE(l),l})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let a of e.split(" ")){let l=n.indexOf(a);l>=0&&(r[l]=!0)}let i=null;for(let a=0;a<n.length;a++)if(!r[a])for(let l=this.dialects[n[a]],o;(o=this.data[l++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[o]=1;return new zG(e,r,i)}static deserialize(e){return new Qm(e)}}function ea(t,e){return t[e]|t[e+1]<<16}function IG(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function LE(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const UG=36,BE=1,HG=2,ho=3,sb=4,qG=5,$G=6,VG=7,WG=8,FG=9,KG=10,GG=11,YG=12,QG=13,XG=14,ZG=15,JG=16,eY=17,zE=18,tY=19,iR=20,aR=21,IE=22,nY=23,rY=24;function $1(t){return t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57}function iY(t){return t>=48&&t<=57||t>=97&&t<=102||t>=65&&t<=70}function Qs(t,e,n){for(let r=!1;;){if(t.next<0)return;if(t.next==e&&!r){t.advance();return}r=n&&!r&&t.next==92,t.advance()}}function aY(t,e){e:for(;;){if(t.next<0)return;if(t.next==36){t.advance();for(let n=0;n<e.length;n++){if(t.next!=e.charCodeAt(n))continue e;t.advance()}if(t.next==36){t.advance();return}}else t.advance()}}function sY(t,e){let n="[{<(".indexOf(String.fromCharCode(e)),r=n<0?e:"]}>)".charCodeAt(n);for(;;){if(t.next<0)return;if(t.next==r&&t.peek(1)==39){t.advance(2);return}t.advance()}}function V1(t,e){for(;!(t.next!=95&&!$1(t.next));)e!=null&&(e+=String.fromCharCode(t.next)),t.advance();return e}function lY(t){if(t.next==39||t.next==34||t.next==96){let e=t.next;t.advance(),Qs(t,e,!1)}else V1(t)}function UE(t,e){for(;t.next==48||t.next==49;)t.advance();e&&t.next==e&&t.advance()}function HE(t,e){for(;;){if(t.next==46){if(e)break;e=!0}else if(t.next<48||t.next>57)break;t.advance()}if(t.next==69||t.next==101)for(t.advance(),(t.next==43||t.next==45)&&t.advance();t.next>=48&&t.next<=57;)t.advance()}function qE(t){for(;!(t.next<0||t.next==10);)t.advance()}function Ks(t,e){for(let n=0;n<e.length;n++)if(e.charCodeAt(n)==t)return!0;return!1}const lb=` 	\r
`;function sR(t,e,n){let r=Object.create(null);r.true=r.false=qG,r.null=r.unknown=$G;for(let i of t.split(" "))i&&(r[i]=iR);for(let i of e.split(" "))i&&(r[i]=aR);for(let i of(n||"").split(" "))i&&(r[i]=rY);return r}const oY="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",cY="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",W1={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',caseInsensitiveIdentifiers:!1,words:sR(cY,oY)};function uY(t,e,n,r){let i={};for(let a in W1)i[a]=(t.hasOwnProperty(a)?t:W1)[a];return e&&(i.words=sR(e,n||"",r)),i}function lR(t){return new DG(e=>{var n;let{next:r}=e;if(e.advance(),Ks(r,lb)){for(;Ks(e.next,lb);)e.advance();e.acceptToken(UG)}else if(r==36&&t.doubleDollarQuotedStrings){let i=V1(e,"");e.next==36&&(e.advance(),aY(e,i),e.acceptToken(ho))}else if(r==39||r==34&&t.doubleQuotedStrings)Qs(e,r,t.backslashEscapes),e.acceptToken(ho);else if(r==35&&t.hashComments||r==47&&e.next==47&&t.slashComments)qE(e),e.acceptToken(BE);else if(r==45&&e.next==45&&(!t.spaceAfterDashes||e.peek(1)==32))qE(e),e.acceptToken(BE);else if(r==47&&e.next==42){e.advance();for(let i=1;;){let a=e.next;if(e.next<0)break;if(e.advance(),a==42&&e.next==47){if(i--,e.advance(),!i)break}else a==47&&e.next==42&&(i++,e.advance())}e.acceptToken(HG)}else if((r==101||r==69)&&e.next==39)e.advance(),Qs(e,39,!0),e.acceptToken(ho);else if((r==110||r==78)&&e.next==39&&t.charSetCasts)e.advance(),Qs(e,39,t.backslashEscapes),e.acceptToken(ho);else if(r==95&&t.charSetCasts)for(let i=0;;i++){if(e.next==39&&i>1){e.advance(),Qs(e,39,t.backslashEscapes),e.acceptToken(ho);break}if(!$1(e.next))break;e.advance()}else if(t.plsqlQuotingMechanism&&(r==113||r==81)&&e.next==39&&e.peek(1)>0&&!Ks(e.peek(1),lb)){let i=e.peek(1);e.advance(2),sY(e,i),e.acceptToken(ho)}else if(Ks(r,t.identifierQuotes)){const i=r==91?93:r;Qs(e,i,!1),e.acceptToken(tY)}else if(r==40)e.acceptToken(VG);else if(r==41)e.acceptToken(WG);else if(r==123)e.acceptToken(FG);else if(r==125)e.acceptToken(KG);else if(r==91)e.acceptToken(GG);else if(r==93)e.acceptToken(YG);else if(r==59)e.acceptToken(QG);else if(t.unquotedBitLiterals&&r==48&&e.next==98)e.advance(),UE(e),e.acceptToken(IE);else if((r==98||r==66)&&(e.next==39||e.next==34)){const i=e.next;e.advance(),t.treatBitsAsBytes?(Qs(e,i,t.backslashEscapes),e.acceptToken(nY)):(UE(e,i),e.acceptToken(IE))}else if(r==48&&(e.next==120||e.next==88)||(r==120||r==88)&&e.next==39){let i=e.next==39;for(e.advance();iY(e.next);)e.advance();i&&e.next==39&&e.advance(),e.acceptToken(sb)}else if(r==46&&e.next>=48&&e.next<=57)HE(e,!0),e.acceptToken(sb);else if(r==46)e.acceptToken(XG);else if(r>=48&&r<=57)HE(e,!1),e.acceptToken(sb);else if(Ks(r,t.operatorChars)){for(;Ks(e.next,t.operatorChars);)e.advance();e.acceptToken(ZG)}else if(Ks(r,t.specialVar))e.next==r&&e.advance(),lY(e),e.acceptToken(eY);else if(r==58||r==44)e.acceptToken(JG);else if($1(r)){let i=V1(e,String.fromCharCode(r));e.acceptToken(e.next==46||e.peek(-i.length-1)==46?zE:(n=t.words[i.toLowerCase()])!==null&&n!==void 0?n:zE)}})}const oR=lR(W1),fY=Qm.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:" LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,oR],topRules:{Script:[0,25]},tokenPrec:0});function F1(t){let e=t.cursor().moveTo(t.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function hf(t,e){let n=t.sliceString(e.from,e.to),r=/^([`'"\[])(.*)([`'"\]])$/.exec(n);return r?r[2]:n}function Xm(t){return t&&(t.name=="Identifier"||t.name=="QuotedIdentifier")}function hY(t,e){if(e.name=="CompositeIdentifier"){let n=[];for(let r=e.firstChild;r;r=r.nextSibling)Xm(r)&&n.push(hf(t,r));return n}return[hf(t,e)]}function $E(t,e){for(let n=[];;){if(!e||e.name!=".")return n;let r=F1(e);if(!Xm(r))return n;n.unshift(hf(t,r)),e=F1(r)}}function dY(t,e){let n=Xt(t).resolveInner(e,-1),r=pY(t.doc,n);return n.name=="Identifier"||n.name=="QuotedIdentifier"||n.name=="Keyword"?{from:n.from,quoted:n.name=="QuotedIdentifier"?t.doc.sliceString(n.from,n.from+1):null,parents:$E(t.doc,F1(n)),aliases:r}:n.name=="."?{from:e,quoted:null,parents:$E(t.doc,n),aliases:r}:{from:e,quoted:null,parents:[],empty:!0,aliases:r}}const mY=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function pY(t,e){let n;for(let i=e;!n;i=i.parent){if(!i)return null;i.name=="Statement"&&(n=i)}let r=null;for(let i=n.firstChild,a=!1,l=null;i;i=i.nextSibling){let o=i.name=="Keyword"?t.sliceString(i.from,i.to).toLowerCase():null,u=null;if(!a)a=o=="from";else if(o=="as"&&l&&Xm(i.nextSibling))u=hf(t,i.nextSibling);else{if(o&&mY.has(o))break;l&&Xm(i)&&(u=hf(t,i))}u&&(r||(r=Object.create(null)),r[u]=hY(t,l)),l=/Identifier$/.test(i.name)?i:null}return r}function gY(t,e,n){return n.map(r=>({...r,label:r.label[0]==t?r.label:t+r.label+e,apply:void 0}))}const yY=/^\w*$/,vY=/^[`'"\[]?\w*[`'"\]]?$/;function VE(t){return t.self&&typeof t.self.label=="string"}class zS{constructor(e,n){this.idQuote=e,this.idCaseInsensitive=n,this.list=[],this.children=void 0}child(e){let n=this.children||(this.children=Object.create(null)),r=n[e];return r||(e&&!this.list.some(i=>i.label==e)&&this.list.push(WE(e,"type",this.idQuote,this.idCaseInsensitive)),n[e]=new zS(this.idQuote,this.idCaseInsensitive))}maybeChild(e){return this.children?this.children[e]:null}addCompletion(e){let n=this.list.findIndex(r=>r.label==e.label);n>-1?this.list[n]=e:this.list.push(e)}addCompletions(e){for(let n of e)this.addCompletion(typeof n=="string"?WE(n,"property",this.idQuote,this.idCaseInsensitive):n)}addNamespace(e){Array.isArray(e)?this.addCompletions(e):VE(e)?this.addNamespace(e.children):this.addNamespaceObject(e)}addNamespaceObject(e){for(let n of Object.keys(e)){let r=e[n],i=null,a=n.replace(/\\?\./g,o=>o=="."?"\0":o).split("\0"),l=this;VE(r)&&(i=r.self,r=r.children);for(let o=0;o<a.length;o++)i&&o==a.length-1&&l.addCompletion(i),l=l.child(a[o].replace(/\\\./g,"."));l.addNamespace(r)}}}function WE(t,e,n,r){return new RegExp("^[a-z_][a-z_\\d]*$",r?"i":"").test(t)?{label:t,type:e}:{label:t,type:e,apply:n+t+cR(n)}}function cR(t){return t==="["?"]":t}function bY(t,e,n,r,i,a){var l;let o=((l=a?.spec.identifierQuotes)===null||l===void 0?void 0:l[0])||'"',u=new zS(o,!!a?.spec.caseInsensitiveIdentifiers),h=i?u.child(i):null;return u.addNamespace(t),e&&(h||u).addCompletions(e),n&&u.addCompletions(n),h&&u.addCompletions(h.list),r&&u.addCompletions((h||u).child(r).list),d=>{let{parents:p,from:g,quoted:y,empty:w,aliases:C}=dY(d.state,d.pos);if(w&&!d.explicit)return null;C&&p.length==1&&(p=C[p[0]]||p);let S=u;for(let j of p){for(;!S.children||!S.children[j];)if(S==u&&h)S=h;else if(S==h&&r)S=S.child(r);else return null;let N=S.maybeChild(j);if(!N)return null;S=N}let k=S.list;if(S==u&&C&&(k=k.concat(Object.keys(C).map(j=>({label:j,type:"constant"})))),y){let j=y[0],N=cR(j),M=d.state.sliceDoc(d.pos,d.pos+1)==N;return{from:g,to:M?d.pos+1:void 0,options:gY(j,N,k),validFor:vY}}else return{from:g,options:k,validFor:yY}}}function xY(t){return t==aR?"type":t==iR?"keyword":"variable"}function wY(t,e,n){let r=Object.keys(t).map(i=>n(e?i.toUpperCase():i,xY(t[i])));return fK(["QuotedIdentifier","String","LineComment","BlockComment","."],V5(r))}let SY=fY.configure({props:[U_.add({Statement:$V()}),q_.add({Statement(t,e){return{from:Math.min(t.from+100,e.doc.lineAt(t.from).to),to:t.to}},BlockComment(t){return{from:t.from+2,to:t.to-2}}}),L_({Keyword:G.keyword,Type:G.typeName,Builtin:G.standard(G.name),Bits:G.number,Bytes:G.string,Bool:G.bool,Null:G.null,Number:G.number,String:G.string,Identifier:G.name,QuotedIdentifier:G.special(G.string),SpecialVar:G.special(G.name),LineComment:G.lineComment,BlockComment:G.blockComment,Operator:G.operator,"Semi Punctuation":G.punctuation,"( )":G.paren,"{ }":G.brace,"[ ]":G.squareBracket})]});class Zm{constructor(e,n,r){this.dialect=e,this.language=n,this.spec=r}get extension(){return this.language.extension}configureLanguage(e,n){return new Zm(this.dialect,this.language.configure(e,n),this.spec)}static define(e){let n=uY(e,e.keywords,e.types,e.builtin),r=Rm.define({name:"sql",parser:SY.configure({tokenizers:[{from:oR,to:lR(n)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new Zm(n,r,e)}}function CY(t,e){return{label:t,type:e,boost:-1}}function OY(t,e=!1,n){return wY(t.dialect.words,e,n||CY)}function kY(t){return t.schema?bY(t.schema,t.tables,t.schemas,t.defaultTable,t.defaultSchema,t.dialect||IS):()=>null}function AY(t){return t.schema?(t.dialect||IS).language.data.of({autocomplete:kY(t)}):[]}function NY(t={}){let e=t.dialect||IS;return new _V(e.language,[AY(t),e.language.data.of({autocomplete:OY(e,t.upperCaseKeywords,t.keywordCompletion)})])}const IS=Zm.define({});function uR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=uR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function rt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=uR(t))&&(r&&(r+=" "),r+=e);return r}var jY=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function US(t){if(typeof t!="string")return!1;var e=jY;return e.includes(t)}var EY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],TY=new Set(EY);function fR(t){return typeof t!="string"?!1:TY.has(t)}function hR(t){return typeof t=="string"&&t.startsWith("data-")}function Ni(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(fR(n)||hR(n))&&(e[n]=t[n]);return e}function yg(t){if(t==null)return null;if(O.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Ni(e)}return typeof t=="object"&&!Array.isArray(t)?Ni(t):null}function Mn(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(fR(n)||hR(n)||US(n))&&(e[n]=t[n]);return e}function MY(t){return t==null?null:O.isValidElement(t)?Mn(t.props):typeof t=="object"&&!Array.isArray(t)?Mn(t):null}var DY=["children","width","height","viewBox","className","style","title","desc"];function K1(){return K1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K1.apply(null,arguments)}function PY(t,e){if(t==null)return{};var n,r,i=_Y(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _Y(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var HS=O.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:o,title:u,desc:h}=t,d=PY(t,DY),p=a||{width:r,height:i,x:0,y:0},g=rt("recharts-surface",l);return O.createElement("svg",K1({},Mn(d),{className:g,width:r,height:i,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),O.createElement("title",null,u),O.createElement("desc",null,h),n)}),RY=["children","className"];function G1(){return G1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G1.apply(null,arguments)}function LY(t,e){if(t==null)return{};var n,r,i=BY(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function BY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ws=O.forwardRef((t,e)=>{var{children:n,className:r}=t,i=LY(t,RY),a=rt("recharts-layer",r);return O.createElement("g",G1({className:a},Mn(i),{ref:e}),n)}),dR=O.createContext(null),zY=()=>O.useContext(dR);function ot(t){return function(){return t}}const mR=Math.cos,Jm=Math.sin,ri=Math.sqrt,ep=Math.PI,vg=2*ep,Y1=Math.PI,Q1=2*Y1,Xs=1e-6,IY=Q1-Xs;function pR(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function UY(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return pR;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class HY{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?pR:UY(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,o=this._y1,u=r-e,h=i-n,d=l-e,p=o-n,g=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>Xs)if(!(Math.abs(p*u-h*d)>Xs)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-l,w=i-o,C=u*u+h*h,S=y*y+w*w,k=Math.sqrt(C),j=Math.sqrt(g),N=a*Math.tan((Y1-Math.acos((C+g-S)/(2*k*j)))/2),M=N/j,D=N/k;Math.abs(M-1)>Xs&&this._append`L${e+M*d},${n+M*p}`,this._append`A${a},${a},0,0,${+(p*y>d*w)},${this._x1=e+D*u},${this._y1=n+D*h}`}}arc(e,n,r,i,a,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),u=r*Math.sin(i),h=e+o,d=n+u,p=1^l,g=l?i-a:a-i;this._x1===null?this._append`M${h},${d}`:(Math.abs(this._x1-h)>Xs||Math.abs(this._y1-d)>Xs)&&this._append`L${h},${d}`,r&&(g<0&&(g=g%Q1+Q1),g>IY?this._append`A${r},${r},0,1,${p},${e-o},${n-u}A${r},${r},0,1,${p},${this._x1=h},${this._y1=d}`:g>Xs&&this._append`A${r},${r},0,${+(g>=Y1)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function qS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new HY(e)}function $S(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gR(t){this._context=t}gR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function bg(t){return new gR(t)}function yR(t){return t[0]}function vR(t){return t[1]}function bR(t,e){var n=ot(!0),r=null,i=bg,a=null,l=qS(o);t=typeof t=="function"?t:t===void 0?yR:ot(t),e=typeof e=="function"?e:e===void 0?vR:ot(e);function o(u){var h,d=(u=$S(u)).length,p,g=!1,y;for(r==null&&(a=i(y=l())),h=0;h<=d;++h)!(h<d&&n(p=u[h],h,u))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(p,h,u),+e(p,h,u));if(y)return a=null,y+""||null}return o.x=function(u){return arguments.length?(t=typeof u=="function"?u:ot(+u),o):t},o.y=function(u){return arguments.length?(e=typeof u=="function"?u:ot(+u),o):e},o.defined=function(u){return arguments.length?(n=typeof u=="function"?u:ot(!!u),o):n},o.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),o):i},o.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),o):r},o}function Vd(t,e,n){var r=null,i=ot(!0),a=null,l=bg,o=null,u=qS(h);t=typeof t=="function"?t:t===void 0?yR:ot(+t),e=typeof e=="function"?e:ot(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?vR:ot(+n);function h(p){var g,y,w,C=(p=$S(p)).length,S,k=!1,j,N=new Array(C),M=new Array(C);for(a==null&&(o=l(j=u())),g=0;g<=C;++g){if(!(g<C&&i(S=p[g],g,p))===k)if(k=!k)y=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),w=g-1;w>=y;--w)o.point(N[w],M[w]);o.lineEnd(),o.areaEnd()}k&&(N[g]=+t(S,g,p),M[g]=+e(S,g,p),o.point(r?+r(S,g,p):N[g],n?+n(S,g,p):M[g]))}if(j)return o=null,j+""||null}function d(){return bR().defined(i).curve(l).context(a)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:ot(+p),r=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:ot(+p),h):t},h.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:ot(+p),h):r},h.y=function(p){return arguments.length?(e=typeof p=="function"?p:ot(+p),n=null,h):e},h.y0=function(p){return arguments.length?(e=typeof p=="function"?p:ot(+p),h):e},h.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:ot(+p),h):n},h.lineX0=h.lineY0=function(){return d().x(t).y(e)},h.lineY1=function(){return d().x(t).y(n)},h.lineX1=function(){return d().x(r).y(e)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:ot(!!p),h):i},h.curve=function(p){return arguments.length?(l=p,a!=null&&(o=l(a)),h):l},h.context=function(p){return arguments.length?(p==null?a=o=null:o=l(a=p),h):a},h}class xR{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function qY(t){return new xR(t,!0)}function $Y(t){return new xR(t,!1)}const VS={draw(t,e){const n=ri(e/ep);t.moveTo(n,0),t.arc(0,0,n,0,vg)}},VY={draw(t,e){const n=ri(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},wR=ri(1/3),WY=wR*2,FY={draw(t,e){const n=ri(e/WY),r=n*wR;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},KY={draw(t,e){const n=ri(e),r=-n/2;t.rect(r,r,n,n)}},GY=.8908130915292852,SR=Jm(ep/10)/Jm(7*ep/10),YY=Jm(vg/10)*SR,QY=-mR(vg/10)*SR,XY={draw(t,e){const n=ri(e*GY),r=YY*n,i=QY*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const l=vg*a/5,o=mR(l),u=Jm(l);t.lineTo(u*n,-o*n),t.lineTo(o*r-u*i,u*r+o*i)}t.closePath()}},ob=ri(3),ZY={draw(t,e){const n=-ri(e/(ob*3));t.moveTo(0,n*2),t.lineTo(-ob*n,-n),t.lineTo(ob*n,-n),t.closePath()}},Ar=-.5,Nr=ri(3)/2,X1=1/ri(12),JY=(X1/2+1)*3,eQ={draw(t,e){const n=ri(e/JY),r=n/2,i=n*X1,a=r,l=n*X1+n,o=-a,u=l;t.moveTo(r,i),t.lineTo(a,l),t.lineTo(o,u),t.lineTo(Ar*r-Nr*i,Nr*r+Ar*i),t.lineTo(Ar*a-Nr*l,Nr*a+Ar*l),t.lineTo(Ar*o-Nr*u,Nr*o+Ar*u),t.lineTo(Ar*r+Nr*i,Ar*i-Nr*r),t.lineTo(Ar*a+Nr*l,Ar*l-Nr*a),t.lineTo(Ar*o+Nr*u,Ar*u-Nr*o),t.closePath()}};function tQ(t,e){let n=null,r=qS(i);t=typeof t=="function"?t:ot(t||VS),e=typeof e=="function"?e:ot(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ot(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ot(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function tp(){}function np(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function CR(t){this._context=t}CR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:np(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:np(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nQ(t){return new CR(t)}function OR(t){this._context=t}OR.prototype={areaStart:tp,areaEnd:tp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:np(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rQ(t){return new OR(t)}function kR(t){this._context=t}kR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:np(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function iQ(t){return new kR(t)}function AR(t){this._context=t}AR.prototype={areaStart:tp,areaEnd:tp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function aQ(t){return new AR(t)}function FE(t){return t<0?-1:1}function KE(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),o=(a*i+l*r)/(r+i);return(FE(a)+FE(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(o))||0}function GE(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function cb(t,e,n){var r=t._x0,i=t._y0,a=t._x1,l=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,l-o*n,a,l)}function rp(t){this._context=t}rp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cb(this,this._t0,GE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,cb(this,GE(this,n=KE(this,t,e)),n);break;default:cb(this,this._t0,n=KE(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function NR(t){this._context=new jR(t)}(NR.prototype=Object.create(rp.prototype)).point=function(t,e){rp.prototype.point.call(this,e,t)};function jR(t){this._context=t}jR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function sQ(t){return new rp(t)}function lQ(t){return new NR(t)}function ER(t){this._context=t}ER.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=YE(t),i=YE(e),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function YE(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function oQ(t){return new ER(t)}function xg(t,e){this._context=t,this._t=e}xg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function cQ(t){return new xg(t,.5)}function uQ(t){return new xg(t,0)}function fQ(t){return new xg(t,1)}function vl(t,e){if((l=t.length)>1)for(var n=1,r,i,a=t[e[0]],l,o=a.length;n<l;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Z1(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function hQ(t,e){return t[e]}function dQ(t){const e=[];return e.key=t,e}function mQ(){var t=ot([]),e=Z1,n=vl,r=hQ;function i(a){var l=Array.from(t.apply(this,arguments),dQ),o,u=l.length,h=-1,d;for(const p of a)for(o=0,++h;o<u;++o)(l[o][h]=[0,+r(p,l[o].key,h,a)]).data=p;for(o=0,d=$S(e(l));o<u;++o)l[d[o]].index=o;return n(l,d),l}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ot(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ot(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Z1:typeof a=="function"?a:ot(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??vl,i):n},i}function pQ(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}vl(t,e)}}function gQ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var l=0,o=0;l<i;++l)o+=t[l][n][1]||0;r[n][1]+=r[n][0]=-o/2}vl(t,e)}}function yQ(t,e){if(!(!((l=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var o=0,u=0,h=0;o<l;++o){for(var d=t[e[o]],p=d[r][1]||0,g=d[r-1][1]||0,y=(p-g)/2,w=0;w<o;++w){var C=t[e[w]],S=C[r][1]||0,k=C[r-1][1]||0;y+=S-k}u+=p,h+=y*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=h/u)}i[r-1][1]+=i[r-1][0]=n,vl(t,e)}}var ub={},fb={},QE;function vQ(){return QE||(QE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(fb)),fb}var hb={},XE;function TR(){return XE||(XE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(hb)),hb}var db={},ZE;function WS(){return ZE||(ZE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(db)),db}var mb={},pb={},JE;function bQ(){return JE||(JE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(pb)),pb}var eT;function FS(){return eT||(eT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bQ(),n=WS();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],l=i.length;if(l===0)return a;let o=0,u="",h="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<l;){const p=i[o];h?p==="\\"&&o+1<l?(o++,u+=i[o]):p===h?h="":u+=p:d?p==='"'||p==="'"?h=p:p==="]"?(d=!1,a.push(u),u=""):u+=p:p==="["?(d=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,o++}return u&&a.push(u),a}t.toPath=r})(mb)),mb}var tT;function KS(){return tT||(tT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vQ(),n=TR(),r=WS(),i=FS();function a(o,u,h){if(o==null)return h;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return h;const d=o[u];return d===void 0?n.isDeepKey(u)?a(o,i.toPath(u),h):h:d}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const d=o[u];return d===void 0?h:d}default:{if(Array.isArray(u))return l(o,u,h);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return h;const d=o[u];return d===void 0?h:d}}}function l(o,u,h){if(u.length===0)return h;let d=o;for(let p=0;p<u.length;p++){if(d==null||e.isUnsafeProperty(u[p]))return h;d=d[u[p]]}return d===void 0?h:d}t.get=a})(ub)),ub}var gb,nT;function xQ(){return nT||(nT=1,gb=KS().get),gb}var wQ=xQ();const wg=Mi(wQ);var SQ=4;function ls(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:SQ,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Ot(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,a,l)=>{var o=n[l-1];return typeof o=="string"?i+o+a:o!==void 0?i+ls(o)+a:i+a},"")}var _r=t=>t===0?0:t>0?1:-1,fa=t=>typeof t=="number"&&t!=+t,bl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ce=t=>(typeof t=="number"||t instanceof Number)&&!fa(t),ji=t=>Ce(t)||typeof t=="string",CQ=0,df=t=>{var e=++CQ;return"".concat(t||"").concat(e)},Ss=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(e)&&typeof e!="string")return r;var a;if(bl(e)){if(n==null)return r;var l=e.indexOf("%");a=n*parseFloat(e.slice(0,l))/100}else a=+e;return fa(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},MR=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Vn(t,e,n){return Ce(t)&&Ce(e)?ls(t+n*(e-t)):e}function DR(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):wg(r,e))===n)}var gn=t=>t===null||typeof t>"u",If=t=>gn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Kn(t){return t!=null}function lc(){}var OQ=["type","size","sizeType"];function J1(){return J1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J1.apply(null,arguments)}function rT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rT(Object(n),!0).forEach(function(r){kQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kQ(t,e,n){return(e=AQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AQ(t){var e=NQ(t,"string");return typeof e=="symbol"?e:e+""}function NQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jQ(t,e){if(t==null)return{};var n,r,i=EQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function EQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var PR={symbolCircle:VS,symbolCross:VY,symbolDiamond:FY,symbolSquare:KY,symbolStar:XY,symbolTriangle:ZY,symbolWye:eQ},TQ=Math.PI/180,MQ=t=>{var e="symbol".concat(If(t));return PR[e]||VS},DQ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*TQ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},PQ=(t,e)=>{PR["symbol".concat(If(t))]=e},GS=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=jQ(t,OQ),a=iT(iT({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var o=()=>{var g=MQ(l),y=tQ().type(g).size(DQ(n,r,l)),w=y();if(w!==null)return w},{className:u,cx:h,cy:d}=a,p=Mn(a);return Ce(h)&&Ce(d)&&Ce(n)?O.createElement("path",J1({},p,{className:rt("recharts-symbols",u),transform:"translate(".concat(h,", ").concat(d,")"),d:o()})):null};GS.registerSymbol=PQ;var _R=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,YS=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{US(i)&&(r[i]=(a=>n[i](n,a)))}),r},_Q=(t,e,n)=>r=>(t(e,n,r),null),RR=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];US(i)&&typeof a=="function"&&(r||(r={}),r[i]=_Q(a,e,n))}),r};function aT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aT(Object(n),!0).forEach(function(r){LQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LQ(t,e,n){return(e=BQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BQ(t){var e=zQ(t,"string");return typeof e=="symbol"?e:e+""}function zQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function On(t,e){var n=RQ({},t),r=e,i=Object.keys(e),a=i.reduce((l,o)=>(l[o]===void 0&&r[o]!==void 0&&(l[o]=r[o]),l),n);return a}function ip(){return ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ip.apply(null,arguments)}function sT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sT(Object(n),!0).forEach(function(r){UQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UQ(t,e,n){return(e=HQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HQ(t){var e=qQ(t,"string");return typeof e=="symbol"?e:e+""}function qQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Er=32,$Q={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function VQ(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Er/2,a=Er/6,l=Er/3,o=e.inactive?r:e.color,u=n??e.type;if(u==="none")return null;if(u==="plainline"){var h;return O.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(h=e.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:i,x2:Er,y2:i,className:"recharts-legend-icon"})}if(u==="line")return O.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Er,"M").concat(2*l,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(u==="rect")return O.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Er/8,"h").concat(Er,"v").concat(Er*3/4,"h").concat(-Er,"z"),className:"recharts-legend-icon"});if(O.isValidElement(e.legendIcon)){var d=IQ({},e);return delete d.legendIcon,O.cloneElement(e.legendIcon,d)}return O.createElement(GS,{fill:o,cx:i,cy:i,size:Er,sizeType:"diameter",type:u})}function WQ(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:l}=t,o={x:0,y:0,width:Er,height:Er},u={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,p)=>{var g=d.formatter||i,y=rt({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:d.inactive});if(d.type==="none")return null;var w=d.inactive?a:d.color,C=g?g(d.value,d,p):d.value;return O.createElement("li",ip({className:y,style:u,key:"legend-item-".concat(p)},RR(t,d,p)),O.createElement(HS,{width:n,height:n,viewBox:o,style:h,"aria-label":"".concat(C," legend icon")},O.createElement(VQ,{data:d,iconType:l,inactiveColor:a})),O.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},C))})}var FQ=t=>{var e=On(t,$Q),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return O.createElement("ul",{className:"recharts-default-legend",style:a},O.createElement(WQ,ip({},e,{payload:n})))},yb={},vb={},lT;function KQ(){return lT||(lT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const l=n[a],o=r(l,a,n);i.has(o)||i.set(o,l)}return Array.from(i.values())}t.uniqBy=e})(vb)),vb}var bb={},oT;function GQ(){return oT||(oT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(bb)),bb}var xb={},cT;function LR(){return cT||(cT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(xb)),xb}var wb={},Sb={},Cb={},uT;function YQ(){return uT||(uT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Cb)),Cb}var fT;function QS(){return fT||(fT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YQ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Sb)),Sb}var Ob={},hT;function QQ(){return hT||(hT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Ob)),Ob}var dT;function XQ(){return dT||(dT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QS(),n=QQ();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(wb)),wb}var kb={},Ab={},mT;function ZQ(){return mT||(mT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KS();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Ab)),Ab}var Nb={},jb={},Eb={},Tb={},pT;function BR(){return pT||(pT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Tb)),Tb}var Mb={},gT;function zR(){return gT||(gT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Mb)),Mb}var Db={},yT;function IR(){return yT||(yT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(Db)),Db}var vT;function JQ(){return vT||(vT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BR(),n=zR(),r=IR();function i(d,p,g){return typeof g!="function"?i(d,p,()=>{}):a(d,p,function y(w,C,S,k,j,N){const M=g(w,C,S,k,j,N);return M!==void 0?!!M:a(w,C,y,N)},new Map)}function a(d,p,g,y){if(p===d)return!0;switch(typeof p){case"object":return l(d,p,g,y);case"function":return Object.keys(p).length>0?a(d,{...p},g,y):r.isEqualsSameValueZero(d,p);default:return e.isObject(d)?typeof p=="string"?p==="":!0:r.isEqualsSameValueZero(d,p)}}function l(d,p,g,y){if(p==null)return!0;if(Array.isArray(p))return u(d,p,g,y);if(p instanceof Map)return o(d,p,g,y);if(p instanceof Set)return h(d,p,g,y);const w=Object.keys(p);if(d==null||n.isPrimitive(d))return w.length===0;if(w.length===0)return!0;if(y?.has(p))return y.get(p)===d;y?.set(p,d);try{for(let C=0;C<w.length;C++){const S=w[C];if(!n.isPrimitive(d)&&!(S in d)||p[S]===void 0&&d[S]!==void 0||p[S]===null&&d[S]!==null||!g(d[S],p[S],S,d,p,y))return!1}return!0}finally{y?.delete(p)}}function o(d,p,g,y){if(p.size===0)return!0;if(!(d instanceof Map))return!1;for(const[w,C]of p.entries()){const S=d.get(w);if(g(S,C,w,d,p,y)===!1)return!1}return!0}function u(d,p,g,y){if(p.length===0)return!0;if(!Array.isArray(d))return!1;const w=new Set;for(let C=0;C<p.length;C++){const S=p[C];let k=!1;for(let j=0;j<d.length;j++){if(w.has(j))continue;const N=d[j];let M=!1;if(g(N,S,C,d,p,y)&&(M=!0),M){w.add(j),k=!0;break}}if(!k)return!1}return!0}function h(d,p,g,y){return p.size===0?!0:d instanceof Set?u([...d],[...p],g,y):!1}t.isMatchWith=i,t.isSetMatch=h})(Eb)),Eb}var bT;function UR(){return bT||(bT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JQ();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(jb)),jb}var Pb={},_b={},Rb={},xT;function eX(){return xT||(xT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Rb)),Rb}var Lb={},wT;function XS(){return wT||(wT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Lb)),Lb}var Bb={},ST;function HR(){return ST||(ST=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",o="[object Date]",u="[object Map]",h="[object Set]",d="[object Array]",p="[object Function]",g="[object ArrayBuffer]",y="[object Object]",w="[object Error]",C="[object DataView]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",j="[object Uint16Array]",N="[object Uint32Array]",M="[object BigUint64Array]",D="[object Int8Array]",T="[object Int16Array]",E="[object Int32Array]",I="[object BigInt64Array]",_="[object Float32Array]",z="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=g,t.arrayTag=d,t.bigInt64ArrayTag=I,t.bigUint64ArrayTag=M,t.booleanTag=i,t.dataViewTag=C,t.dateTag=o,t.errorTag=w,t.float32ArrayTag=_,t.float64ArrayTag=z,t.functionTag=p,t.int16ArrayTag=T,t.int32ArrayTag=E,t.int8ArrayTag=D,t.mapTag=u,t.numberTag=r,t.objectTag=y,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=j,t.uint32ArrayTag=N,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=k})(Bb)),Bb}var zb={},CT;function tX(){return CT||(CT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(zb)),zb}var OT;function qR(){return OT||(OT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eX(),n=XS(),r=HR(),i=zR(),a=tX();function l(d,p){return o(d,void 0,d,new Map,p)}function o(d,p,g,y=new Map,w=void 0){const C=w?.(d,p,g,y);if(C!==void 0)return C;if(i.isPrimitive(d))return d;if(y.has(d))return y.get(d);if(Array.isArray(d)){const S=new Array(d.length);y.set(d,S);for(let k=0;k<d.length;k++)S[k]=o(d[k],k,g,y,w);return Object.hasOwn(d,"index")&&(S.index=d.index),Object.hasOwn(d,"input")&&(S.input=d.input),S}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const S=new RegExp(d.source,d.flags);return S.lastIndex=d.lastIndex,S}if(d instanceof Map){const S=new Map;y.set(d,S);for(const[k,j]of d)S.set(k,o(j,k,g,y,w));return S}if(d instanceof Set){const S=new Set;y.set(d,S);for(const k of d)S.add(o(k,void 0,g,y,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const S=new(Object.getPrototypeOf(d)).constructor(d.length);y.set(d,S);for(let k=0;k<d.length;k++)S[k]=o(d[k],k,g,y,w);return S}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const S=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return y.set(d,S),u(S,d,g,y,w),S}if(typeof File<"u"&&d instanceof File){const S=new File([d],d.name,{type:d.type});return y.set(d,S),u(S,d,g,y,w),S}if(typeof Blob<"u"&&d instanceof Blob){const S=new Blob([d],{type:d.type});return y.set(d,S),u(S,d,g,y,w),S}if(d instanceof Error){const S=new d.constructor;return y.set(d,S),S.message=d.message,S.name=d.name,S.stack=d.stack,S.cause=d.cause,u(S,d,g,y,w),S}if(d instanceof Boolean){const S=new Boolean(d.valueOf());return y.set(d,S),u(S,d,g,y,w),S}if(d instanceof Number){const S=new Number(d.valueOf());return y.set(d,S),u(S,d,g,y,w),S}if(d instanceof String){const S=new String(d.valueOf());return y.set(d,S),u(S,d,g,y,w),S}if(typeof d=="object"&&h(d)){const S=Object.create(Object.getPrototypeOf(d));return y.set(d,S),u(S,d,g,y,w),S}return d}function u(d,p,g=d,y,w){const C=[...Object.keys(p),...e.getSymbols(p)];for(let S=0;S<C.length;S++){const k=C[S],j=Object.getOwnPropertyDescriptor(d,k);(j==null||j.writable)&&(d[k]=o(p[k],k,g,y,w))}}function h(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=o,t.copyProperties=u})(_b)),_b}var kT;function nX(){return kT||(kT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qR();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Pb)),Pb}var AT;function rX(){return AT||(AT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UR(),n=nX();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(Nb)),Nb}var Ib={},Ub={},Hb={},NT;function iX(){return NT||(NT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qR(),n=XS(),r=HR();function i(a,l){return e.cloneDeepWith(a,(o,u,h,d)=>{const p=l?.(o,u,h,d);if(p!==void 0)return p;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const g={};return d.set(a,g),e.copyProperties(g,a,h,d),g}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new a.constructor(a?.valueOf());return e.copyProperties(g,a),g}case r.argumentsTag:{const g={};return e.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}}})}t.cloneDeepWith=i})(Hb)),Hb}var jT;function aX(){return jT||(jT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iX();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Ub)),Ub}var qb={},$b={},ET;function $R(){return ET||(ET=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})($b)),$b}var Vb={},TT;function sX(){return TT||(TT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XS();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Vb)),Vb}var MT;function lX(){return MT||(MT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TR(),n=$R(),r=sX(),i=FS();function a(l,o){let u;if(Array.isArray(o)?u=o:typeof o=="string"&&e.isDeepKey(o)&&l?.[o]==null?u=i.toPath(o):u=[o],u.length===0)return!1;let h=l;for(let d=0;d<u.length;d++){const p=u[d];if((h==null||!Object.hasOwn(h,p))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(p)&&p<h.length))return!1;h=h[p]}return!0}t.has=a})(qb)),qb}var DT;function oX(){return DT||(DT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UR(),n=WS(),r=aX(),i=KS(),a=lX();function l(o,u){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return u=r.cloneDeep(u),function(h){const d=i.get(h,o);return d===void 0?a.has(h,o):u===void 0?d===void 0:e.isMatch(d,u)}}t.matchesProperty=l})(Ib)),Ib}var PT;function cX(){return PT||(PT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LR(),n=ZQ(),r=rX(),i=oX();function a(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=a})(kb)),kb}var _T;function uX(){return _T||(_T=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KQ(),n=GQ(),r=LR(),i=XQ(),a=cX();function l(o,u=r.identity){return i.isArrayLikeObject(o)?e.uniqBy(Array.from(o),n.ary(a.iteratee(u),1)):[]}t.uniqBy=l})(yb)),yb}var Wb,RT;function fX(){return RT||(RT=1,Wb=uX().uniqBy),Wb}var hX=fX();const LT=Mi(hX);function VR(t,e,n){return e===!0?LT(t,n):typeof e=="function"?LT(t,e):t}var Fb={exports:{}},Kb={},Gb={exports:{}},Yb={};var BT;function dX(){if(BT)return Yb;BT=1;var t=Jo();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function o(p,g){var y=g(),w=r({inst:{value:y,getSnapshot:g}}),C=w[0].inst,S=w[1];return a(function(){C.value=y,C.getSnapshot=g,u(C)&&S({inst:C})},[p,y,g]),i(function(){return u(C)&&S({inst:C}),p(function(){u(C)&&S({inst:C})})},[p]),l(y),y}function u(p){var g=p.getSnapshot;p=p.value;try{var y=g();return!n(p,y)}catch{return!0}}function h(p,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:o;return Yb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,Yb}var zT;function mX(){return zT||(zT=1,Gb.exports=dX()),Gb.exports}var IT;function pX(){if(IT)return Kb;IT=1;var t=Jo(),e=mX();function n(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,o=t.useMemo,u=t.useDebugValue;return Kb.useSyncExternalStoreWithSelector=function(h,d,p,g,y){var w=a(null);if(w.current===null){var C={hasValue:!1,value:null};w.current=C}else C=w.current;w=o(function(){function k(T){if(!j){if(j=!0,N=T,T=g(T),y!==void 0&&C.hasValue){var E=C.value;if(y(E,T))return M=E}return M=T}if(E=M,r(N,T))return E;var I=g(T);return y!==void 0&&y(E,I)?(N=T,E):(N=T,M=I)}var j=!1,N,M,D=p===void 0?null:p;return[function(){return k(d())},D===null?void 0:function(){return k(D())}]},[d,p,g,y]);var S=i(h,w[0],w[1]);return l(function(){C.hasValue=!0,C.value=S},[S]),u(S),S},Kb}var UT;function gX(){return UT||(UT=1,Fb.exports=pX()),Fb.exports}var yX=gX(),ZS=O.createContext(null),vX=t=>t,Bt=()=>{var t=O.useContext(ZS);return t?t.store.dispatch:vX},pm=()=>{},bX=()=>pm,xX=(t,e)=>t===e;function Ae(t){var e=O.useContext(ZS),n=O.useMemo(()=>e?r=>{if(r!=null)return t(r)}:pm,[e,t]);return yX.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:bX,e?e.store.getState:pm,e?e.store.getState:pm,n,xX)}function wX(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function SX(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function CX(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var HT=t=>Array.isArray(t)?t:[t];function OX(t){const e=Array.isArray(t[0])?t[0]:t;return CX(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function kX(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var AX=class{constructor(t){this.value=t}deref(){return this.value}},NX=typeof WeakRef<"u"?WeakRef:AX,jX=0,qT=1;function Wd(){return{s:jX,v:void 0,o:null,p:null}}function WR(t,e={}){let n=Wd();const{resultEqualityCheck:r}=e;let i,a=0;function l(){let o=n;const{length:u}=arguments;for(let p=0,g=u;p<g;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let w=o.o;w===null&&(o.o=w=new WeakMap);const C=w.get(y);C===void 0?(o=Wd(),w.set(y,o)):o=C}else{let w=o.p;w===null&&(o.p=w=new Map);const C=w.get(y);C===void 0?(o=Wd(),w.set(y,o)):o=C}}const h=o;let d;if(o.s===qT)d=o.v;else if(d=t.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,d)&&(d=p,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new NX(d):d}return h.s=qT,h.v=d,d}return l.clearCache=()=>{n=Wd(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function EX(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,l=0,o,u={},h=i.pop();typeof h=="object"&&(u=h,h=i.pop()),wX(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const d={...n,...u},{memoize:p,memoizeOptions:g=[],argsMemoize:y=WR,argsMemoizeOptions:w=[]}=d,C=HT(g),S=HT(w),k=OX(i),j=p(function(){return a++,h.apply(null,arguments)},...C),N=y(function(){l++;const D=kX(k,arguments);return o=j.apply(null,D),o},...S);return Object.assign(N,{resultFunc:h,memoizedResultFunc:j,dependencies:k,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var Z=EX(WR),TX=Object.assign((t,e=Z)=>{SX(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((l,o,u)=>(l[n[u]]=o,l),{}))},{withTypes:()=>TX}),Qb={},Xb={},Zb={},$T;function MX(){return $T||($T=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=e(r),o=e(i);if(l===o&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-l:l-o}return 0};t.compareValues=n})(Zb)),Zb}var Jb={},ex={},VT;function FR(){return VT||(VT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(ex)),ex}var WT;function DX(){return WT||(WT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FR(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}t.isKey=i})(Jb)),Jb}var FT;function PX(){return FT||(FT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MX(),n=DX(),r=FS();function i(a,l,o,u){if(a==null)return[];o=u?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(y=>String(y));const h=(y,w)=>{let C=y;for(let S=0;S<w.length&&C!=null;++S)C=C[w[S]];return C},d=(y,w)=>w==null||y==null?w:typeof y=="object"&&"key"in y?Object.hasOwn(w,y.key)?w[y.key]:h(w,y.path):typeof y=="function"?y(w):Array.isArray(y)?h(w,y):typeof w=="object"?w[y]:w,p=l.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return a.map(y=>({original:y,criteria:p.map(w=>d(w,y))})).slice().sort((y,w)=>{for(let C=0;C<p.length;C++){const S=e.compareValues(y.criteria[C],w.criteria[C],o[C]);if(S!==0)return S}return 0}).map(y=>y.original)}t.orderBy=i})(Xb)),Xb}var tx={},KT;function _X(){return KT||(KT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),l=(o,u)=>{for(let h=0;h<o.length;h++){const d=o[h];Array.isArray(d)&&u<a?l(d,u+1):i.push(d)}};return l(n,0),i}t.flatten=e})(tx)),tx}var nx={},GT;function KR(){return GT||(GT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$R(),n=QS(),r=BR(),i=IR();function a(l,o,u){return r.isObject(u)&&(typeof o=="number"&&n.isArrayLike(u)&&e.isIndex(o)&&o<u.length||typeof o=="string"&&o in u)?i.isEqualsSameValueZero(u[o],l):!1}t.isIterateeCall=a})(nx)),nx}var YT;function RX(){return YT||(YT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PX(),n=_X(),r=KR();function i(a,...l){const o=l.length;return o>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:o>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(a,n.flatten(l),["asc"])}t.sortBy=i})(Qb)),Qb}var rx,QT;function LX(){return QT||(QT=1,rx=RX().sortBy),rx}var BX=LX();const Sg=Mi(BX);var GR=t=>t.legend.settings,zX=t=>t.legend.size,IX=t=>t.legend.payload,UX=Z([IX,GR],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Sg(r,n):r});function HX(){return Ae(UX)}var Fd=1;function YR(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=O.useState({height:0,left:0,top:0,width:0}),r=O.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-e.height)>Fd||Math.abs(l.left-e.left)>Fd||Math.abs(l.top-e.top)>Fd||Math.abs(l.width-e.width)>Fd)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function cn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var qX=typeof Symbol=="function"&&Symbol.observable||"@@observable",XT=qX,ix=()=>Math.random().toString(36).substring(7).split("").join("."),$X={INIT:`@@redux/INIT${ix()}`,REPLACE:`@@redux/REPLACE${ix()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ix()}`},ap=$X;function JS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function QR(t,e,n){if(typeof t!="function")throw new Error(cn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(cn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(cn(1));return n(QR)(t,e)}let r=t,i=e,a=new Map,l=a,o=0,u=!1;function h(){l===a&&(l=new Map,a.forEach((S,k)=>{l.set(k,S)}))}function d(){if(u)throw new Error(cn(3));return i}function p(S){if(typeof S!="function")throw new Error(cn(4));if(u)throw new Error(cn(5));let k=!0;h();const j=o++;return l.set(j,S),function(){if(k){if(u)throw new Error(cn(6));k=!1,h(),l.delete(j),a=null}}}function g(S){if(!JS(S))throw new Error(cn(7));if(typeof S.type>"u")throw new Error(cn(8));if(typeof S.type!="string")throw new Error(cn(17));if(u)throw new Error(cn(9));try{u=!0,i=r(i,S)}finally{u=!1}return(a=l).forEach(j=>{j()}),S}function y(S){if(typeof S!="function")throw new Error(cn(10));r=S,g({type:ap.REPLACE})}function w(){const S=p;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(cn(11));function j(){const M=k;M.next&&M.next(d())}return j(),{unsubscribe:S(j)}},[XT](){return this}}}return g({type:ap.INIT}),{dispatch:g,subscribe:p,getState:d,replaceReducer:y,[XT]:w}}function VX(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:ap.INIT})>"u")throw new Error(cn(12));if(typeof n(void 0,{type:ap.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(cn(13))})}function XR(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const l=e[a];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{VX(n)}catch(a){i=a}return function(l={},o){if(i)throw i;let u=!1;const h={};for(let d=0;d<r.length;d++){const p=r[d],g=n[p],y=l[p],w=g(y,o);if(typeof w>"u")throw o&&o.type,new Error(cn(14));h[p]=w,u=u||w!==y}return u=u||r.length!==Object.keys(l).length,u?h:l}}function sp(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function WX(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(cn(15))};const l={getState:i.getState,dispatch:(u,...h)=>a(u,...h)},o=t.map(u=>u(l));return a=sp(...o)(i.dispatch),{...i,dispatch:a}}}function ZR(t){return JS(t)&&"type"in t&&typeof t.type=="string"}var JR=Symbol.for("immer-nothing"),ZT=Symbol.for("immer-draftable"),Dn=Symbol.for("immer-state");function Fr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var dr=Object,Ko=dr.getPrototypeOf,lp="constructor",Cg="prototype",ew="configurable",op="enumerable",gm="writable",mf="value",ha=t=>!!t&&!!t[Dn];function ei(t){return t?eL(t)||kg(t)||!!t[ZT]||!!t[lp]?.[ZT]||Ag(t)||Ng(t):!1}var FX=dr[Cg][lp].toString(),JT=new WeakMap;function eL(t){if(!t||!e2(t))return!1;const e=Ko(t);if(e===null||e===dr[Cg])return!0;const n=dr.hasOwnProperty.call(e,lp)&&e[lp];if(n===Object)return!0;if(!So(n))return!1;let r=JT.get(n);return r===void 0&&(r=Function.toString.call(n),JT.set(n,r)),r===FX}function Og(t,e,n=!0){Uf(t)===0?(n?Reflect.ownKeys(t):dr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Uf(t){const e=t[Dn];return e?e.type_:kg(t)?1:Ag(t)?2:Ng(t)?3:0}var eM=(t,e,n=Uf(t))=>n===2?t.has(e):dr[Cg].hasOwnProperty.call(t,e),tw=(t,e,n=Uf(t))=>n===2?t.get(e):t[e],cp=(t,e,n,r=Uf(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function KX(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var kg=Array.isArray,Ag=t=>t instanceof Map,Ng=t=>t instanceof Set,e2=t=>typeof t=="object",So=t=>typeof t=="function",ax=t=>typeof t=="boolean";function GX(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var ta=t=>t.copy_||t.base_,t2=t=>t.modified_?t.copy_:t.base_;function nw(t,e){if(Ag(t))return new Map(t);if(Ng(t))return new Set(t);if(kg(t))return Array[Cg].slice.call(t);const n=eL(t);if(e===!0||e==="class_only"&&!n){const r=dr.getOwnPropertyDescriptors(t);delete r[Dn];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],o=r[l];o[gm]===!1&&(o[gm]=!0,o[ew]=!0),(o.get||o.set)&&(r[l]={[ew]:!0,[gm]:!0,[op]:o[op],[mf]:t[l]})}return dr.create(Ko(t),r)}else{const r=Ko(t);if(r!==null&&n)return{...t};const i=dr.create(r);return dr.assign(i,t)}}function n2(t,e=!1){return jg(t)||ha(t)||!ei(t)||(Uf(t)>1&&dr.defineProperties(t,{set:Kd,add:Kd,clear:Kd,delete:Kd}),dr.freeze(t),e&&Og(t,(n,r)=>{n2(r,!0)},!1)),t}function YX(){Fr(2)}var Kd={[mf]:YX};function jg(t){return t===null||!e2(t)?!0:dr.isFrozen(t)}var up="MapSet",rw="Patches",tM="ArrayMethods",tL={};function xl(t){const e=tL[t];return e||Fr(0,t),e}var nM=t=>!!tL[t],pf,nL=()=>pf,QX=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:nM(up)?xl(up):void 0,arrayMethodsPlugin_:nM(tM)?xl(tM):void 0});function rM(t,e){e&&(t.patchPlugin_=xl(rw),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function iw(t){aw(t),t.drafts_.forEach(XX),t.drafts_=null}function aw(t){t===pf&&(pf=t.parent_)}var iM=t=>pf=QX(pf,t);function XX(t){const e=t[Dn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function aM(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Dn].modified_&&(iw(e),Fr(4)),ei(t)&&(t=sM(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Dn].base_,t,e)}else t=sM(e,n);return ZX(e,t,!0),iw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==JR?t:void 0}function sM(t,e){if(jg(e))return e;const n=e[Dn];if(!n)return fp(e,t.handledSet_,t);if(!Eg(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);aL(n,t)}return n.copy_}function ZX(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&n2(e,n)}function rL(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Eg=(t,e)=>t.scope_===e,JX=[];function iL(t,e,n,r){const i=ta(t),a=t.type_;if(r!==void 0&&tw(i,r,a)===e){cp(i,r,n,a);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;Og(i,(u,h)=>{if(ha(h)){const d=o.get(h)||[];d.push(u),o.set(h,d)}})}const l=t.draftLocations_.get(e)??JX;for(const o of l)cp(i,o,n,a)}function eZ(t,e,n){t.callbacks_.push(function(i){const a=e;if(!a||!Eg(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const l=t2(a);iL(t,a.draft_??a,l,n),aL(a,i)})}function aL(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}rL(t)}}function tZ(t,e,n){const{scope_:r}=t;if(ha(n)){const i=n[Dn];Eg(i,r)&&i.callbacks_.push(function(){ym(t);const l=t2(i);iL(t,n,l,e)})}else ei(n)&&t.callbacks_.push(function(){const a=ta(t);t.type_===3?a.has(n)&&fp(n,r.handledSet_,r):tw(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&fp(tw(t.copy_,e,t.type_),r.handledSet_,r)})}function fp(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ha(t)||e.has(t)||!ei(t)||jg(t)||(e.add(t),Og(t,(r,i)=>{if(ha(i)){const a=i[Dn];if(Eg(a,n)){const l=t2(a);cp(t,r,l,t.type_),rL(a)}}else ei(i)&&fp(i,e,n)})),t}function nZ(t,e){const n=kg(t),r={type_:n?1:0,scope_:e?e.scope_:nL(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=hp;n&&(i=[r],a=gf);const{revoke:l,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=l,[o,r]}var hp={get(t,e){if(e===Dn)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=ta(t);if(!eM(i,e,t.type_))return rZ(t,i,e);const a=i[e];if(t.finalized_||!ei(a)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&GX(e))return a;if(a===sx(t.base_,e)){ym(t);const l=t.type_===1?+e:e,o=lw(t.scope_,a,t,l);return t.copy_[l]=o}return a},has(t,e){return e in ta(t)},ownKeys(t){return Reflect.ownKeys(ta(t))},set(t,e,n){const r=sL(ta(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=sx(ta(t),e),a=i?.[Dn];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(KX(n,i)&&(n!==void 0||eM(t.base_,e,t.type_)))return!0;ym(t),sw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),tZ(t,e,n)),!0},deleteProperty(t,e){return ym(t),sx(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),sw(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ta(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[gm]:!0,[ew]:t.type_!==1||e!=="length",[op]:r[op],[mf]:n[e]}},defineProperty(){Fr(11)},getPrototypeOf(t){return Ko(t.base_)},setPrototypeOf(){Fr(12)}},gf={};for(let t in hp){let e=hp[t];gf[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}gf.deleteProperty=function(t,e){return gf.set.call(this,t,e,void 0)};gf.set=function(t,e,n){return hp.set.call(this,t[0],e,n,t[0])};function sx(t,e){const n=t[Dn];return(n?ta(n):t)[e]}function rZ(t,e,n){const r=sL(e,n);return r?mf in r?r[mf]:r.get?.call(t.draft_):void 0}function sL(t,e){if(!(e in t))return;let n=Ko(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ko(n)}}function sw(t){t.modified_||(t.modified_=!0,t.parent_&&sw(t.parent_))}function ym(t){t.copy_||(t.assigned_=new Map,t.copy_=nw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var iZ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(So(n)&&!So(r)){const l=r;r=n;const o=this;return function(h=l,...d){return o.produce(h,p=>r.call(this,p,...d))}}So(r)||Fr(6),i!==void 0&&!So(i)&&Fr(7);let a;if(ei(n)){const l=iM(this),o=lw(l,n,void 0);let u=!0;try{a=r(o),u=!1}finally{u?iw(l):aw(l)}return rM(l,i),aM(a,l)}else if(!n||!e2(n)){if(a=r(n),a===void 0&&(a=n),a===JR&&(a=void 0),this.autoFreeze_&&n2(a,!0),i){const l=[],o=[];xl(rw).generateReplacementPatches_(n,a,{patches_:l,inversePatches_:o}),i(l,o)}return a}else Fr(1,n)},this.produceWithPatches=(n,r)=>{if(So(n))return(o,...u)=>this.produceWithPatches(o,h=>n(h,...u));let i,a;return[this.produce(n,r,(o,u)=>{i=o,a=u}),i,a]},ax(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),ax(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),ax(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ei(e)||Fr(8),ha(e)&&(e=Zr(e));const n=iM(this),r=lw(n,e,void 0);return r[Dn].isManual_=!0,aw(n),r}finishDraft(e,n){const r=e&&e[Dn];(!r||!r.isManual_)&&Fr(9);const{scope_:i}=r;return rM(i,n),aM(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=xl(rw).applyPatches_;return ha(e)?i(e,n):this.produce(e,a=>i(a,n))}};function lw(t,e,n,r){const[i,a]=Ag(e)?xl(up).proxyMap_(e,n):Ng(e)?xl(up).proxySet_(e,n):nZ(e,n);return(n?.scope_??nL()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?eZ(n,a,r):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:h}=u;a.modified_&&h&&h.generatePatches_(a,[],u)}),i}function Zr(t){return ha(t)||Fr(10,t),lL(t)}function lL(t){if(!ei(t)||jg(t))return t;const e=t[Dn];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=nw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=nw(t,!0);return Og(n,(i,a)=>{cp(n,i,lL(a))},r),e&&(e.finalized_=!1),n}var aZ=new iZ,oL=aZ.produce;function cL(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var sZ=cL(),lZ=cL,oZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?sp:sp.apply(null,arguments)};function zr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(mr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>ZR(r)&&r.type===t,n}var uL=class Pu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Pu.prototype)}static get[Symbol.species](){return Pu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Pu(...e[0].concat(this)):new Pu(...e.concat(this))}};function lM(t){return ei(t)?oL(t,()=>{}):t}function Gd(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function cZ(t){return typeof t=="boolean"}var uZ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let l=new uL;return n&&(cZ(n)?l.push(sZ):l.push(lZ(n.extraArgument))),l},fL="RTK_autoBatch",mt=()=>t=>({payload:t,meta:{[fL]:!0}}),oM=t=>e=>{setTimeout(e,t)},hL=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,l=!1;const o=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:oM(10):t.type==="callback"?t.queueNotification:oM(t.timeout),h=()=>{l=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const p=()=>i&&d(),g=r.subscribe(p);return o.add(d),()=>{g(),o.delete(d)}},dispatch(d){try{return i=!d?.meta?.[fL],a=!i,a&&(l||(l=!0,u(h))),r.dispatch(d)}finally{i=!0}}})},fZ=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new uL(t);return r&&i.push(hL(typeof r=="object"?r:void 0)),i};function hZ(t){const e=uZ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(JS(n))o=XR(n);else throw new Error(mr(1));let u;typeof r=="function"?u=r(e):u=e();let h=sp;i&&(h=oZ({trace:!1,...typeof i=="object"&&i}));const d=WX(...u),p=fZ(d);let g=typeof l=="function"?l(p):p();const y=h(...g);return QR(o,a,y)}function dL(t){const e={},n=[];let r;const i={addCase(a,l){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(mr(28));if(o in e)throw new Error(mr(29));return e[o]=l,i},addAsyncThunk(a,l){return l.pending&&(e[a.pending.type]=l.pending),l.rejected&&(e[a.rejected.type]=l.rejected),l.fulfilled&&(e[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function dZ(t){return typeof t=="function"}function mZ(t,e){let[n,r,i]=dL(e),a;if(dZ(t))a=()=>lM(t());else{const o=lM(t);a=()=>o}function l(o=a(),u){let h=[n[u.type],...r.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return h.filter(d=>!!d).length===0&&(h=[i]),h.reduce((d,p)=>{if(p)if(ha(d)){const y=p(d,u);return y===void 0?d:y}else{if(ei(d))return oL(d,g=>p(g,u));{const g=p(d,u);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},o)}return l.getInitialState=a,l}var pZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",gZ=(t=21)=>{let e="",n=t;for(;n--;)e+=pZ[Math.random()*64|0];return e},yZ=Symbol.for("rtk-slice-createasyncthunk");function vZ(t,e){return`${t}/${e}`}function bZ({creators:t}={}){const e=t?.asyncThunk?.[yZ];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(mr(11));const l=(typeof r.reducers=="function"?r.reducers(wZ()):r.reducers)||{},o=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(N,M){const D=typeof N=="string"?N:N.type;if(!D)throw new Error(mr(12));if(D in u.sliceCaseReducersByType)throw new Error(mr(13));return u.sliceCaseReducersByType[D]=M,h},addMatcher(N,M){return u.sliceMatchers.push({matcher:N,reducer:M}),h},exposeAction(N,M){return u.actionCreators[N]=M,h},exposeCaseReducer(N,M){return u.sliceCaseReducersByName[N]=M,h}};o.forEach(N=>{const M=l[N],D={reducerName:N,type:vZ(i,N),createNotation:typeof r.reducers=="function"};CZ(M)?kZ(D,M,h,e):SZ(D,M,h)});function d(){const[N={},M=[],D=void 0]=typeof r.extraReducers=="function"?dL(r.extraReducers):[r.extraReducers],T={...N,...u.sliceCaseReducersByType};return mZ(r.initialState,E=>{for(let I in T)E.addCase(I,T[I]);for(let I of u.sliceMatchers)E.addMatcher(I.matcher,I.reducer);for(let I of M)E.addMatcher(I.matcher,I.reducer);D&&E.addDefaultCase(D)})}const p=N=>N,g=new Map,y=new WeakMap;let w;function C(N,M){return w||(w=d()),w(N,M)}function S(){return w||(w=d()),w.getInitialState()}function k(N,M=!1){function D(E){let I=E[N];return typeof I>"u"&&M&&(I=Gd(y,D,S)),I}function T(E=p){const I=Gd(g,M,()=>new WeakMap);return Gd(I,E,()=>{const _={};for(const[z,q]of Object.entries(r.selectors??{}))_[z]=xZ(q,E,()=>Gd(y,E,S),M);return _})}return{reducerPath:N,getSelectors:T,get selectors(){return T(D)},selectSlice:D}}const j={name:i,reducer:C,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:S,...k(a),injectInto(N,{reducerPath:M,...D}={}){const T=M??a;return N.inject({reducerPath:T,reducer:C},D),{...j,...k(T,!0)}}};return j}}function xZ(t,e,n,r){function i(a,...l){let o=e(a);return typeof o>"u"&&r&&(o=n()),t(o,...l)}return i.unwrapped=t,i}var Qn=bZ();function wZ(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function SZ({type:t,reducerName:e,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!OZ(r))throw new Error(mr(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,l?zr(t,l):zr(t))}function CZ(t){return t._reducerDefinitionType==="asyncThunk"}function OZ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function kZ({type:t,reducerName:e},n,r,i){if(!i)throw new Error(mr(18));const{payloadCreator:a,fulfilled:l,pending:o,rejected:u,settled:h,options:d}=n,p=i(t,a,d);r.exposeAction(e,p),l&&r.addCase(p.fulfilled,l),o&&r.addCase(p.pending,o),u&&r.addCase(p.rejected,u),h&&r.addMatcher(p.settled,h),r.exposeCaseReducer(e,{fulfilled:l||Yd,pending:o||Yd,rejected:u||Yd,settled:h||Yd})}function Yd(){}var AZ="task",mL="listener",pL="completed",r2="cancelled",NZ=`task-${r2}`,jZ=`task-${pL}`,ow=`${mL}-${r2}`,EZ=`${mL}-${pL}`,Tg=class{constructor(t){this.code=t,this.message=`${AZ} ${r2} (reason: ${t})`}name="TaskAbortError";message},i2=(t,e)=>{if(typeof t!="function")throw new TypeError(mr(32))},dp=()=>{},gL=(t,e=dp)=>(t.catch(e),t),yL=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),fl=t=>{if(t.aborted)throw new Tg(t.reason)};function vL(t,e){let n=dp;return new Promise((r,i)=>{const a=()=>i(new Tg(t.reason));if(t.aborted){a();return}n=yL(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=dp})}var TZ=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Tg?"cancelled":"rejected",error:n}}finally{e?.()}},mp=t=>e=>gL(vL(t,e).then(n=>(fl(t),n))),bL=t=>{const e=mp(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Lo}=Object,cM={},Mg="listenerMiddleware",MZ=(t,e)=>{const n=r=>yL(t,()=>r.abort(t.reason));return(r,i)=>{i2(r);const a=new AbortController;n(a);const l=TZ(async()=>{fl(t),fl(a.signal);const o=await r({pause:mp(a.signal),delay:bL(a.signal),signal:a.signal});return fl(a.signal),o},()=>a.abort(jZ));return i?.autoJoin&&e.push(l.catch(dp)),{result:mp(t)(l),cancel(){a.abort(NZ)}}}},DZ=(t,e)=>{const n=async(r,i)=>{fl(e);let a=()=>{};const o=[new Promise((u,h)=>{let d=t({predicate:r,effect:(p,g)=>{g.unsubscribe(),u([p,g.getState(),g.getOriginalState()])}});a=()=>{d(),h()}})];i!=null&&o.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await vL(e,Promise.race(o));return fl(e),u}finally{a()}};return(r,i)=>gL(n(r,i))},xL=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=zr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(mr(21));return i2(a),{predicate:i,type:e,effect:a}},wL=Lo(t=>{const{type:e,predicate:n,effect:r}=xL(t);return{id:gZ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(mr(22))}}},{withTypes:()=>wL}),uM=(t,e)=>{const{type:n,effect:r,predicate:i}=xL(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},cw=t=>{t.pending.forEach(e=>{e.abort(ow)})},PZ=(t,e)=>()=>{for(const n of e.keys())cw(n);t.clear()},fM=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},SL=Lo(zr(`${Mg}/add`),{withTypes:()=>SL}),_Z=zr(`${Mg}/removeAll`),CL=Lo(zr(`${Mg}/remove`),{withTypes:()=>CL}),RZ=(...t)=>{console.error(`${Mg}/error`,...t)},Hf=(t={})=>{const e=new Map,n=new Map,r=y=>{const w=n.get(y)??0;n.set(y,w+1)},i=y=>{const w=n.get(y)??1;w===1?n.delete(y):n.set(y,w-1)},{extra:a,onError:l=RZ}=t;i2(l);const o=y=>(y.unsubscribe=()=>e.delete(y.id),e.set(y.id,y),w=>{y.unsubscribe(),w?.cancelActive&&cw(y)}),u=y=>{const w=uM(e,y)??wL(y);return o(w)};Lo(u,{withTypes:()=>u});const h=y=>{const w=uM(e,y);return w&&(w.unsubscribe(),y.cancelActive&&cw(w)),!!w};Lo(h,{withTypes:()=>h});const d=async(y,w,C,S)=>{const k=new AbortController,j=DZ(u,k.signal),N=[];try{y.pending.add(k),r(y),await Promise.resolve(y.effect(w,Lo({},C,{getOriginalState:S,condition:(M,D)=>j(M,D).then(Boolean),take:j,delay:bL(k.signal),pause:mp(k.signal),extra:a,signal:k.signal,fork:MZ(k.signal,N),unsubscribe:y.unsubscribe,subscribe:()=>{e.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((M,D,T)=>{M!==k&&(M.abort(ow),T.delete(M))})},cancel:()=>{k.abort(ow),y.pending.delete(k)},throwIfCancelled:()=>{fl(k.signal)}})))}catch(M){M instanceof Tg||fM(l,M,{raisedBy:"effect"})}finally{await Promise.all(N),k.abort(EZ),i(y),y.pending.delete(k)}},p=PZ(e,n);return{middleware:y=>w=>C=>{if(!ZR(C))return w(C);if(SL.match(C))return u(C.payload);if(_Z.match(C)){p();return}if(CL.match(C))return h(C.payload);let S=y.getState();const k=()=>{if(S===cM)throw new Error(mr(23));return S};let j;try{if(j=w(C),e.size>0){const N=y.getState(),M=Array.from(e.values());for(const D of M){let T=!1;try{T=D.predicate(C,N,S)}catch(E){T=!1,fM(l,E,{raisedBy:"predicate"})}T&&d(D,C,y,k)}}}finally{S=cM}return j},startListening:u,stopListening:h,clearListeners:p}};function mr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var LZ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},OL=Qn({name:"chartLayout",initialState:LZ,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:BZ,setLayout:zZ,setChartSize:IZ,setScale:UZ}=OL.actions,HZ=OL.reducer;function kL(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Fe(t){return Number.isFinite(t)}function Ei(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function No(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(n),!0).forEach(function(r){qZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qZ(t,e,n){return(e=$Z(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Z(t){var e=VZ(t,"string");return typeof e=="symbol"?e:e+""}function VZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pn(t,e,n){return gn(t)||gn(e)?n:ji(e)?wg(t,e,n):typeof e=="function"?e(t):n}var WZ=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:o}=e;if((o==="vertical"||o==="horizontal"&&l==="middle")&&a!=="center"&&Ce(t[a]))return No(No({},t),{},{[a]:t[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&l!=="middle"&&Ce(t[l]))return No(No({},t),{},{[l]:t[l]+(i||0)})}return t},ba=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",AL=(t,e,n,r)=>{if(r)return t.map(o=>o.coordinate);var i,a,l=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||l.push(e),a||l.push(n),l},NL=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:l,realScaleType:o,isCategorical:u,categoricalDomain:h,tickCount:d,ticks:p,niceTicks:g,axisType:y}=t;if(!l)return null;var w=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,C=i==="category"&&l.bandwidth?l.bandwidth()/w:0;if(C=y==="angleAxis"&&a&&a.length>=2?_r(a[0]-a[1])*2*C:C,p||g){var S=(p||g||[]).map((k,j)=>{var N=r?r.indexOf(k):k,M=l.map(N);return Fe(M)?{coordinate:M+C,value:k,offset:C,index:j}:null}).filter(Kn);return S}return u&&h?h.map((k,j)=>{var N=l.map(k);return Fe(N)?{coordinate:N+C,value:k,index:j,offset:C}:null}).filter(Kn):l.ticks&&d!=null?l.ticks(d).map((k,j)=>{var N=l.map(k);return Fe(N)?{coordinate:N+C,value:k,index:j,offset:C}:null}).filter(Kn):l.domain().map((k,j)=>{var N=l.map(k);return Fe(N)?{coordinate:N+C,value:r?r[k]:k,index:j,offset:C}:null}).filter(Kn)},FZ=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,l=0,o=0;o<n;++o){var u=t[o],h=u?.[i];if(h!=null){var d=h[1],p=h[0],g=fa(d)?p:d;g>=0?(h[0]=a,a+=g,h[1]=a):(h[0]=l,l+=g,h[1]=l)}}}},KZ=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,l=0;l<n;++l){var o=t[l],u=o?.[i];if(u!=null){var h=fa(u[1])?u[0]:u[1];h>=0?(u[0]=a,a+=h,u[1]=a):(u[0]=0,u[1]=0)}}}},GZ={sign:FZ,expand:pQ,none:vl,silhouette:gQ,wiggle:yQ,positive:KZ},YZ=(t,e,n)=>{var r,i=(r=GZ[n])!==null&&r!==void 0?r:vl,a=mQ().keys(e).value((o,u)=>Number(pn(o,u,0))).order(Z1).offset(i),l=a(t);return l.forEach((o,u)=>{o.forEach((h,d)=>{var p=pn(t[d],e[u],0);Array.isArray(p)&&p.length===2&&Ce(p[0])&&Ce(p[1])&&(h[0]=p[0],h[1]=p[1])})}),l};function dM(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!gn(i[e.dataKey])){var o=DR(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n!=null&&n[a]?n[a].coordinate+r/2:null}var u=pn(i,gn(l)?e.dataKey:l),h=e.scale.map(u);return Ce(h)?h:null}var QZ=t=>{var e=t.flat(2).filter(Ce);return[Math.min(...e),Math.max(...e)]},XZ=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],ZZ=(t,e,n)=>{if(t!=null)return XZ(Object.keys(t).reduce((r,i)=>{var a=t[i];if(!a)return r;var{stackedData:l}=a,o=l.reduce((u,h)=>{var d=kL(h,e,n),p=QZ(d);return!Fe(p[0])||!Fe(p[1])?u:[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},mM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pp=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Sg(e,d=>d.coordinate),a=1/0,l=1,o=i.length;l<o;l++){var u=i[l],h=i[l-1];a=Math.min((u?.coordinate||0)-(h?.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function gM(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return No(No({},e),{},{dataKey:n,payload:r,value:i,name:a})}function jL(t,e){if(t)return String(t);if(typeof e=="string")return e}var JZ=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},eJ=(t,e)=>e==="centric"?t.angle:t.radius,xa=t=>t.layout.width,wa=t=>t.layout.height,tJ=t=>t.layout.scale,EL=t=>t.layout.margin,Dg=Z(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Pg=Z(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),nJ="data-recharts-item-index",rJ="data-recharts-item-id",qf=60;function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){iJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iJ(t,e,n){return(e=aJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aJ(t){var e=sJ(t,"string");return typeof e=="symbol"?e:e+""}function sJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lJ=t=>t.brush.height;function oJ(t){var e=Pg(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:qf;return n+i}return n},0)}function cJ(t){var e=Pg(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:qf;return n+i}return n},0)}function uJ(t){var e=Dg(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function fJ(t){var e=Dg(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var vn=Z([xa,wa,EL,lJ,oJ,cJ,uJ,fJ,GR,zX],(t,e,n,r,i,a,l,o,u,h)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+l,bottom:(n.bottom||0)+o},g=Qd(Qd({},p),d),y=g.bottom;g.bottom+=r,g=WZ(g,u,h);var w=t-g.left-g.right,C=e-g.top-g.bottom;return Qd(Qd({brushBottom:y},g),{},{width:Math.max(w,0),height:Math.max(C,0)})}),hJ=Z(vn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),TL=Z(xa,wa,(t,e)=>({x:0,y:0,width:t,height:e})),dJ=O.createContext(null),Xn=()=>O.useContext(dJ)!=null,_g=t=>t.brush,Rg=Z([_g,vn,EL],(t,e,n)=>({height:t.height,x:Ce(t.x)?t.x:e.left,y:Ce(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ce(t.width)?t.width:e.width})),lx={},ox={},cx={},vM;function mJ(){return vM||(vM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let l,o=null;const u=a!=null&&a.includes("leading"),h=a==null||a.includes("trailing"),d=()=>{o!==null&&(n.apply(l,o),l=void 0,o=null)},p=()=>{h&&d(),C()};let g=null;const y=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},w=()=>{g!==null&&(clearTimeout(g),g=null)},C=()=>{w(),l=void 0,o=null},S=()=>{d()},k=function(...j){if(i?.aborted)return;l=this,o=j;const N=g==null;y(),u&&N&&d()};return k.schedule=y,k.cancel=C,k.flush=S,i?.addEventListener("abort",C,{once:!0}),k}t.debounce=e})(cx)),cx}var bM;function pJ(){return bM||(bM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mJ();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:o=!0,maxWait:u}=a,h=Array(2);l&&(h[0]="leading"),o&&(h[1]="trailing");let d,p=null;const g=e.debounce(function(...C){d=r.apply(this,C),p=null},i,{edges:h}),y=function(...C){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(d=r.apply(this,C),p=Date.now(),g.cancel(),g.schedule(),d):(g.apply(this,C),d)},w=()=>(g.flush(),d);return y.cancel=g.cancel,y.flush=w,y}t.debounce=n})(ox)),ox}var xM;function gJ(){return xM||(xM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pJ();function n(r,i=0,a={}){const{leading:l=!0,trailing:o=!0}=a;return e.debounce(r,i,{leading:l,maxWait:i,trailing:o})}t.throttle=n})(lx)),lx}var ux,wM;function yJ(){return wM||(wM=1,ux=gJ().throttle),ux}var vJ=yJ();const bJ=Mi(vJ);var gp=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},Si={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},ML=(t,e,n)=>{var{width:r=Si.width,height:i=Si.height,aspect:a,maxHeight:l}=n,o=bl(r)?t:Number(r),u=bl(i)?e:Number(i);return a&&a>0&&(o?u=o/a:u&&(o=u*a),l&&u!=null&&u>l&&(u=l)),{calculatedWidth:o,calculatedHeight:u}},xJ={width:0,height:0,overflow:"visible"},wJ={width:0,overflowX:"visible"},SJ={height:0,overflowY:"visible"},CJ={},OJ=t=>{var{width:e,height:n}=t,r=bl(e),i=bl(n);return r&&i?xJ:r?wJ:i?SJ:CJ};function kJ(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i=Si.width,a=Si.height):i===void 0?i=r&&r>0?void 0:Si.width:a===void 0&&(a=r&&r>0?void 0:Si.height),{width:i,height:a}}function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uw.apply(null,arguments)}function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){AJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AJ(t,e,n){return(e=NJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NJ(t){var e=jJ(t,"string");return typeof e=="symbol"?e:e+""}function jJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DL=O.createContext(Si.initialDimension);function EJ(t){return Ei(t.width)&&Ei(t.height)}function PL(t){var{children:e,width:n,height:r}=t,i=O.useMemo(()=>({width:n,height:r}),[n,r]);return EJ(i)?O.createElement(DL.Provider,{value:i},e):null}var a2=()=>O.useContext(DL),TJ=O.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=Si.initialDimension,width:i,height:a,minWidth:l=Si.minWidth,minHeight:o,maxHeight:u,children:h,debounce:d=Si.debounce,id:p,className:g,onResize:y,style:w={}}=t,C=O.useRef(null),S=O.useRef();S.current=y,O.useImperativeHandle(e,()=>C.current);var[k,j]=O.useState({containerWidth:r.width,containerHeight:r.height}),N=O.useCallback((I,_)=>{j(z=>{var q=Math.round(I),B=Math.round(_);return z.containerWidth===q&&z.containerHeight===B?z:{containerWidth:q,containerHeight:B}})},[]);O.useEffect(()=>{if(C.current==null||typeof ResizeObserver>"u")return lc;var I=B=>{var re,se=B[0];if(se!=null){var{width:ee,height:H}=se.contentRect;N(ee,H),(re=S.current)===null||re===void 0||re.call(S,ee,H)}};d>0&&(I=bJ(I,d,{trailing:!0,leading:!1}));var _=new ResizeObserver(I),{width:z,height:q}=C.current.getBoundingClientRect();return N(z,q),_.observe(C.current),()=>{_.disconnect()}},[N,d]);var{containerWidth:M,containerHeight:D}=k;gp(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:T,calculatedHeight:E}=ML(M,D,{width:i,height:a,aspect:n,maxHeight:u});return gp(T!=null&&T>0||E!=null&&E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,E,i,a,l,o,n),O.createElement("div",{id:p?"".concat(p):void 0,className:rt("recharts-responsive-container",g),style:CM(CM({},w),{},{width:i,height:a,minWidth:l,minHeight:o,maxHeight:u}),ref:C},O.createElement("div",{style:OJ({width:i,height:a})},O.createElement(PL,{width:T,height:E},h)))}),fw=O.forwardRef((t,e)=>{var n=a2();if(Ei(n.width)&&Ei(n.height))return t.children;var{width:r,height:i}=kJ({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:l}=ML(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ce(a)&&Ce(l)?O.createElement(PL,{width:a,height:l},t.children):O.createElement(TJ,uw({},t,{width:r,height:i,ref:e}))});function s2(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Lg=()=>{var t,e=Xn(),n=Ae(hJ),r=Ae(Rg),i=(t=Ae(_g))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},MJ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},_L=()=>{var t;return(t=Ae(vn))!==null&&t!==void 0?t:MJ},l2=()=>Ae(xa),o2=()=>Ae(wa),DJ=()=>Ae(t=>t.layout.margin),bt=t=>t.layout.layoutType,oc=()=>Ae(bt),RL=()=>{var t=oc();if(t==="horizontal"||t==="vertical")return t},LL=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},PJ=()=>{var t=oc();return t!==void 0},$f=t=>{var e=Bt(),n=Xn(),{width:r,height:i}=t,a=a2(),l=r,o=i;return a&&(l=a.width>0?a.width:r,o=a.height>0?a.height:i),O.useEffect(()=>{!n&&Ei(l)&&Ei(o)&&e(IZ({width:l,height:o}))},[e,n,l,o]),null},BL=Symbol.for("immer-nothing"),OM=Symbol.for("immer-draftable"),pr=Symbol.for("immer-state");function Kr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var yf=Object.getPrototypeOf;function Go(t){return!!t&&!!t[pr]}function wl(t){return t?zL(t)||Array.isArray(t)||!!t[OM]||!!t.constructor?.[OM]||Vf(t)||zg(t):!1}var _J=Object.prototype.constructor.toString(),kM=new WeakMap;function zL(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=kM.get(n);return r===void 0&&(r=Function.toString.call(n),kM.set(n,r)),r===_J}function yp(t,e,n=!0){Bg(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Bg(t){const e=t[pr];return e?e.type_:Array.isArray(t)?1:Vf(t)?2:zg(t)?3:0}function hw(t,e){return Bg(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function IL(t,e,n){const r=Bg(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function RJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Vf(t){return t instanceof Map}function zg(t){return t instanceof Set}function Zs(t){return t.copy_||t.base_}function dw(t,e){if(Vf(t))return new Map(t);if(zg(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=zL(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[pr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],o=r[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[l]})}return Object.create(yf(t),r)}else{const r=yf(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function c2(t,e=!1){return Ig(t)||Go(t)||!wl(t)||(Bg(t)>1&&Object.defineProperties(t,{set:Xd,add:Xd,clear:Xd,delete:Xd}),Object.freeze(t),e&&Object.values(t).forEach(n=>c2(n,!0))),t}function LJ(){Kr(2)}var Xd={value:LJ};function Ig(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var BJ={};function Sl(t){const e=BJ[t];return e||Kr(0,t),e}var vf;function UL(){return vf}function zJ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function AM(t,e){e&&(Sl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function mw(t){pw(t),t.drafts_.forEach(IJ),t.drafts_=null}function pw(t){t===vf&&(vf=t.parent_)}function NM(t){return vf=zJ(vf,t)}function IJ(t){const e=t[pr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function jM(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[pr].modified_&&(mw(e),Kr(4)),wl(t)&&(t=vp(e,t),e.parent_||bp(e,t)),e.patches_&&Sl("Patches").generateReplacementPatches_(n[pr].base_,t,e.patches_,e.inversePatches_)):t=vp(e,n,[]),mw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==BL?t:void 0}function vp(t,e,n){if(Ig(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[pr];if(!i)return yp(e,(a,l)=>EM(t,i,e,a,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return bp(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,o=!1;i.type_===3&&(l=new Set(a),a.clear(),o=!0),yp(l,(u,h)=>EM(t,i,a,u,h,n,o),r),bp(t,a,!1),n&&t.patches_&&Sl("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function EM(t,e,n,r,i,a,l){if(i==null||typeof i!="object"&&!l)return;const o=Ig(i);if(!(o&&!l)){if(Go(i)){const u=a&&e&&e.type_!==3&&!hw(e.assigned_,r)?a.concat(r):void 0,h=vp(t,i,u);if(IL(n,r,h),Go(h))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(wl(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;vp(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Vf(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&bp(t,i)}}}function bp(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&c2(e,n)}function UJ(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:UL(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=u2;n&&(i=[r],a=bf);const{revoke:l,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=l,o}var u2={get(t,e){if(e===pr)return t;const n=Zs(t);if(!hw(n,e))return HJ(t,n,e);const r=n[e];return t.finalized_||!wl(r)?r:r===fx(t.base_,e)?(hx(t),t.copy_[e]=yw(r,t)):r},has(t,e){return e in Zs(t)},ownKeys(t){return Reflect.ownKeys(Zs(t))},set(t,e,n){const r=HL(Zs(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=fx(Zs(t),e),a=i?.[pr];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(RJ(n,i)&&(n!==void 0||hw(t.base_,e)))return!0;hx(t),gw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return fx(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,hx(t),gw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Zs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Kr(11)},getPrototypeOf(t){return yf(t.base_)},setPrototypeOf(){Kr(12)}},bf={};yp(u2,(t,e)=>{bf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});bf.deleteProperty=function(t,e){return bf.set.call(this,t,e,void 0)};bf.set=function(t,e,n){return u2.set.call(this,t[0],e,n,t[0])};function fx(t,e){const n=t[pr];return(n?Zs(n):t)[e]}function HJ(t,e,n){const r=HL(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function HL(t,e){if(!(e in t))return;let n=yf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=yf(n)}}function gw(t){t.modified_||(t.modified_=!0,t.parent_&&gw(t.parent_))}function hx(t){t.copy_||(t.copy_=dw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var qJ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const l=this;return function(u=a,...h){return l.produce(u,d=>n.call(this,d,...h))}}typeof n!="function"&&Kr(6),r!==void 0&&typeof r!="function"&&Kr(7);let i;if(wl(e)){const a=NM(this),l=yw(e,void 0);let o=!0;try{i=n(l),o=!1}finally{o?mw(a):pw(a)}return AM(a,r),jM(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===BL&&(i=void 0),this.autoFreeze_&&c2(i,!0),r){const a=[],l=[];Sl("Patches").generateReplacementPatches_(e,i,a,l),r(a,l)}return i}else Kr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...o)=>this.produceWithPatches(l,u=>e(u,...o));let r,i;return[this.produce(e,n,(l,o)=>{r=l,i=o}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){wl(t)||Kr(8),Go(t)&&(t=$J(t));const e=NM(this),n=yw(t,void 0);return n[pr].isManual_=!0,pw(e),n}finishDraft(t,e){const n=t&&t[pr];(!n||!n.isManual_)&&Kr(9);const{scope_:r}=n;return AM(r,e),jM(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Sl("Patches").applyPatches_;return Go(t)?r(t,e):this.produce(t,i=>r(i,e))}};function yw(t,e){const n=Vf(t)?Sl("MapSet").proxyMap_(t,e):zg(t)?Sl("MapSet").proxySet_(t,e):UJ(t,e);return(e?e.scope_:UL()).drafts_.push(n),n}function $J(t){return Go(t)||Kr(10,t),qL(t)}function qL(t){if(!wl(t)||Ig(t))return t;const e=t[pr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=dw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=dw(t,!0);return yp(n,(i,a)=>{IL(n,i,qL(a))},r),e&&(e.finalized_=!1),n}var VJ=new qJ;VJ.produce;var WJ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},$L=Qn({name:"legend",initialState:WJ,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:mt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Zr(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:mt()},removeLegendPayload:{reducer(t,e){var n=Zr(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:mt()}}}),{setLegendSize:TM,setLegendSettings:FJ,addLegendPayload:KJ,replaceLegendPayload:GJ,removeLegendPayload:YJ}=$L.actions,QJ=$L.reducer,XJ=["contextPayload"];function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vw.apply(null,arguments)}function MM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MM(Object(n),!0).forEach(function(r){ZJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZJ(t,e,n){return(e=JJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JJ(t){var e=eee(t,"string");return typeof e=="symbol"?e:e+""}function eee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tee(t,e){if(t==null)return{};var n,r,i=nee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ree(t){return t.value}function iee(t){var{contextPayload:e}=t,n=tee(t,XJ),r=VR(e,t.payloadUniqBy,ree),i=Yo(Yo({},n),{},{payload:r});return O.isValidElement(t.content)?O.cloneElement(t.content,i):typeof t.content=="function"?O.createElement(t.content,i):O.createElement(FQ,i)}function aee(t,e,n,r,i,a){var{layout:l,align:o,verticalAlign:u}=e,h,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&l==="vertical"?h={left:((r||0)-a.width)/2}:h=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(u==="middle"?d={top:((i||0)-a.height)/2}:d=u==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Yo(Yo({},h),d)}function see(t){var e=Bt();return O.useEffect(()=>{e(FJ(t))},[e,t]),null}function lee(t){var e=Bt();return O.useEffect(()=>(e(TM(t)),()=>{e(TM({width:0,height:0}))}),[e,t]),null}function oee(t,e,n,r){return t==="vertical"&&e!=null?{height:e}:t==="horizontal"?{width:n||r}:null}var cee={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function VL(t){var e=On(t,cee),n=HX(),r=zY(),i=DJ(),{width:a,height:l,wrapperStyle:o,portal:u}=e,[h,d]=YR([n]),p=l2(),g=o2();if(p==null||g==null)return null;var y=p-(i?.left||0)-(i?.right||0),w=oee(e.layout,l,a,y),C=u?o:Yo(Yo({position:"absolute",width:w?.width||a||"auto",height:w?.height||l||"auto"},aee(o,e,i,p,g,h)),o),S=u??r;if(S==null||n==null)return null;var k=O.createElement("div",{className:"recharts-legend-wrapper",style:C,ref:d},O.createElement(see,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!u&&O.createElement(lee,{width:h.width,height:h.height}),O.createElement(iee,vw({},e,w,{margin:i,chartWidth:p,chartHeight:g,contextPayload:n})));return Yw.createPortal(k,S)}VL.displayName="Legend";function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bw.apply(null,arguments)}function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(n),!0).forEach(function(r){uee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uee(t,e,n){return(e=fee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fee(t){var e=hee(t,"string");return typeof e=="symbol"?e:e+""}function hee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dee(t){return Array.isArray(t)&&ji(t[0])&&ji(t[1])?t.join(" ~ "):t}var mo={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},mee=t=>{var{separator:e=mo.separator,contentStyle:n,itemStyle:r,labelStyle:i=mo.labelStyle,payload:a,formatter:l,itemSorter:o,wrapperClassName:u,labelClassName:h,label:d,labelFormatter:p,accessibilityLayer:g=mo.accessibilityLayer}=t,y=()=>{if(a&&a.length){var D={padding:0,margin:0},T=(o?Sg(a,o):a).map((E,I)=>{if(E.type==="none")return null;var _=E.formatter||l||dee,{value:z,name:q}=E,B=z,re=q;if(_){var se=_(z,q,E,I,a);if(Array.isArray(se))[B,re]=se;else if(se!=null)B=se;else return null}var ee=vu(vu({},mo.itemStyle),{},{color:E.color||mo.itemStyle.color},r);return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:ee},ji(re)?O.createElement("span",{className:"recharts-tooltip-item-name"},re):null,ji(re)?O.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,O.createElement("span",{className:"recharts-tooltip-item-value"},B),O.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:D},T)}return null},w=vu(vu({},mo.contentStyle),n),C=vu({margin:0},i),S=!gn(d),k=S?d:"",j=rt("recharts-default-tooltip",u),N=rt("recharts-tooltip-label",h);S&&p&&a!==void 0&&a!==null&&(k=p(d,a));var M=g?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",bw({className:j,style:w},M),O.createElement("p",{className:N,style:C},O.isValidElement(k)?k:"".concat(k)),y())},bu="recharts-tooltip-wrapper",pee={visibility:"hidden"};function gee(t){var{coordinate:e,translateX:n,translateY:r}=t;return rt(bu,{["".concat(bu,"-right")]:Ce(n)&&e&&Ce(e.x)&&n>=e.x,["".concat(bu,"-left")]:Ce(n)&&e&&Ce(e.x)&&n<e.x,["".concat(bu,"-bottom")]:Ce(r)&&e&&Ce(e.y)&&r>=e.y,["".concat(bu,"-top")]:Ce(r)&&e&&Ce(e.y)&&r<e.y})}function PM(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:a,reverseDirection:l,tooltipDimension:o,viewBox:u,viewBoxDimension:h}=t;if(a&&Ce(a[r]))return a[r];var d=n[r]-o-(i>0?i:0),p=n[r]+i;if(e[r])return l[r]?d:p;var g=u[r];if(g==null)return 0;if(l[r]){var y=d,w=g;return y<w?Math.max(p,g):Math.max(d,g)}if(h==null)return 0;var C=p+o,S=g+h;return C>S?Math.max(d,g):Math.max(p,g)}function yee(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function vee(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:a,reverseDirection:l,tooltipBox:o,useTranslate3d:u,viewBox:h}=t,d,p,g;return o.height>0&&o.width>0&&n?(p=PM({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:a,reverseDirection:l,tooltipDimension:o.width,viewBox:h,viewBoxDimension:h.width}),g=PM({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:a,reverseDirection:l,tooltipDimension:o.height,viewBox:h,viewBoxDimension:h.height}),d=yee({translateX:p,translateY:g,useTranslate3d:u})):d=pee,{cssProperties:d,cssClasses:gee({translateX:p,translateY:g,coordinate:n})}}function _M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(n),!0).forEach(function(r){xw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xw(t,e,n){return(e=bee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bee(t){var e=xee(t,"string");return typeof e=="symbol"?e:e+""}function xee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class wee extends O.PureComponent{constructor(){super(...arguments),xw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),xw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:l,hasPayload:o,isAnimationActive:u,offset:h,position:d,reverseDirection:p,useTranslate3d:g,viewBox:y,wrapperStyle:w,lastBoundingBox:C,innerRef:S,hasPortalFromProps:k}=this.props,j=typeof h=="number"?h:h.x,N=typeof h=="number"?h:h.y,{cssClasses:M,cssProperties:D}=vee({allowEscapeViewBox:n,coordinate:l,offsetLeft:j,offsetTop:N,position:d,reverseDirection:p,tooltipBox:{height:C.height,width:C.width},useTranslate3d:g,viewBox:y}),T=k?{}:Zd(Zd({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),E=Zd(Zd({},T),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},w);return O.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:E,ref:S},a)}}var WL=()=>{var t;return(t=Ae(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ww.apply(null,arguments)}function RM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(n),!0).forEach(function(r){See(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function See(t,e,n){return(e=Cee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cee(t){var e=Oee(t,"string");return typeof e=="symbol"?e:e+""}function Oee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BM={curveBasisClosed:rQ,curveBasisOpen:iQ,curveBasis:nQ,curveBumpX:qY,curveBumpY:$Y,curveLinearClosed:aQ,curveLinear:bg,curveMonotoneX:sQ,curveMonotoneY:lQ,curveNatural:oQ,curveStep:cQ,curveStepAfter:fQ,curveStepBefore:uQ},xp=t=>Fe(t.x)&&Fe(t.y),zM=t=>t.base!=null&&xp(t.base)&&xp(t),xu=t=>t.x,wu=t=>t.y,kee=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(If(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=BM["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return BM[n]||bg},IM={connectNulls:!1,type:"linear"},Aee=t=>{var{type:e=IM.type,points:n=[],baseLine:r,layout:i,connectNulls:a=IM.connectNulls}=t,l=kee(e,i),o=a?n.filter(xp):n;if(Array.isArray(r)){var u,h=n.map((w,C)=>LM(LM({},w),{},{base:r[C]}));i==="vertical"?u=Vd().y(wu).x1(xu).x0(w=>w.base.x):u=Vd().x(xu).y1(wu).y0(w=>w.base.y);var d=u.defined(zM).curve(l),p=a?h.filter(zM):h;return d(p)}var g;i==="vertical"&&Ce(r)?g=Vd().y(wu).x1(xu).x0(r):Ce(r)?g=Vd().x(xu).y1(wu).y0(r):g=bR().x(xu).y(wu);var y=g.defined(xp).curve(l);return y(o)},FL=t=>{var{className:e,points:n,path:r,pathRef:i}=t,a=oc();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},o=n&&n.length?Aee(l):r;return O.createElement("path",ww({},Ni(t),YS(t),{className:rt("recharts-curve",e),d:o===null?void 0:o,ref:i}))},Nee=["x","y","top","left","width","height","className"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sw.apply(null,arguments)}function UM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UM(Object(n),!0).forEach(function(r){Eee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eee(t,e,n){return(e=Tee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tee(t){var e=Mee(t,"string");return typeof e=="symbol"?e:e+""}function Mee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dee(t,e){if(t==null)return{};var n,r,i=Pee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _ee=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),Ree=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:l=0,className:o}=t,u=Dee(t,Nee),h=jee({x:e,y:n,top:r,left:i,width:a,height:l},u);return!Ce(e)||!Ce(n)||!Ce(a)||!Ce(l)||!Ce(r)||!Ce(i)?null:O.createElement("path",Sw({},Mn(h),{className:rt("recharts-cross",o),d:_ee(e,n,a,l,r,i)}))};function Lee(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function HM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(n),!0).forEach(function(r){Bee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bee(t,e,n){return(e=zee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zee(t){var e=Iee(t,"string");return typeof e=="symbol"?e:e+""}function Iee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uee=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),KL=(t,e,n)=>t.map(r=>"".concat(Uee(r)," ").concat(e,"ms ").concat(n)).join(","),Hee=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),xf=(t,e)=>Object.keys(e).reduce((n,r)=>qM(qM({},n),{},{[r]:t(r,e[r])}),{});function $M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(n),!0).forEach(function(r){qee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qee(t,e,n){return(e=$ee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ee(t){var e=Vee(t,"string");return typeof e=="symbol"?e:e+""}function Vee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wp=(t,e,n)=>t+(e-t)*n,Cw=t=>{var{from:e,to:n}=t;return e!==n},GL=(t,e,n)=>{var r=xf((i,a)=>{if(Cw(a)){var[l,o]=t(a.from,a.to,a.velocity);return It(It({},a),{},{from:l,velocity:o})}return a},e);return n<1?xf((i,a)=>Cw(a)&&r[i]!=null?It(It({},a),{},{velocity:wp(a.velocity,r[i].velocity,n),from:wp(a.from,r[i].from,n)}):a,e):GL(t,r,n-1)};function Wee(t,e,n,r,i,a){var l,o=r.reduce((g,y)=>It(It({},g),{},{[y]:{from:t[y],velocity:0,to:e[y]}}),{}),u=()=>xf((g,y)=>y.from,o),h=()=>!Object.values(o).filter(Cw).length,d=null,p=g=>{l||(l=g);var y=g-l,w=y/n.dt;o=GL(n,o,w),i(It(It(It({},t),e),u())),l=g,h()||(d=a.setTimeout(p))};return()=>(d=a.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}function Fee(t,e,n,r,i,a,l){var o=null,u=i.reduce((p,g)=>{var y=t[g],w=e[g];return y==null||w==null?p:It(It({},p),{},{[g]:[y,w]})},{}),h,d=p=>{h||(h=p);var g=(p-h)/r,y=xf((C,S)=>wp(...S,n(g)),u);if(a(It(It(It({},t),e),y)),g<1)o=l.setTimeout(d);else{var w=xf((C,S)=>wp(...S,n(1)),u);a(It(It(It({},t),e),w))}};return()=>(o=l.setTimeout(d),()=>{var p;(p=o)===null||p===void 0||p()})}const Kee=(t,e,n,r,i,a)=>{var l=Hee(t,e);return n==null?()=>(i(It(It({},t),e)),()=>{}):n.isStepper===!0?Wee(t,e,n,l,i,a):Fee(t,e,n,r,l,i,a)};var Sp=1e-4,YL=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],QL=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),VM=(t,e)=>n=>{var r=YL(t,e);return QL(r,n)},Gee=(t,e)=>n=>{var r=YL(t,e),i=[...r.map((a,l)=>a*l).slice(1),0];return QL(i,n)},Yee=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},Qee=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Yee(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},Xee=(t,e,n,r)=>{var i=VM(t,n),a=VM(e,r),l=Gee(t,n),o=h=>h>1?1:h<0?0:h,u=h=>{for(var d=h>1?1:h,p=d,g=0;g<8;++g){var y=i(p)-d,w=l(p);if(Math.abs(y-d)<Sp||w<Sp)return a(p);p=o(p-y/w)}return a(p)};return u.isStepper=!1,u},WM=function(){return Xee(...Qee(...arguments))},Zee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(l,o,u)=>{var h=-(l-o)*n,d=u*r,p=u+(h-d)*i/1e3,g=u*i/1e3+l;return Math.abs(g-o)<Sp&&Math.abs(p)<Sp?[o,0]:[g,p]};return a.isStepper=!0,a.dt=i,a},Jee=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return WM(t);case"spring":return Zee();default:if(t.split("(")[0]==="cubic-bezier")return WM(t)}return typeof t=="function"?t:null};function ete(t){var e,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var o=l,[u,...h]=o;if(typeof u=="number"){i=t.setTimeout(a.bind(null,h),u);return}a(u),i=t.setTimeout(a.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class tte{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function nte(){return ete(new tte)}var rte=O.createContext(nte);function ite(t,e){var n=O.useContext(rte);return O.useMemo(()=>e??n(t),[t,e,n])}var ate=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ug={isSsr:ate()},ste={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},FM={t:0},dx={t:1};function f2(t){var e=On(t,ste),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:o,onAnimationStart:u,children:h}=e,d=n==="auto"?!Ug.isSsr:n,p=ite(e.animationId,e.animationManager),[g,y]=O.useState(d?FM:dx),w=O.useRef(null);return O.useEffect(()=>{d||y(dx)},[d]),O.useEffect(()=>{if(!d||!r)return lc;var C=Kee(FM,dx,Jee(a),i,y,p.getTimeoutController()),S=()=>{w.current=C()};return p.start([u,l,S,i,o]),()=>{p.stop(),w.current&&w.current(),o()}},[d,r,i,a,l,u,o,p]),h(g.t)}function h2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=O.useRef(df(e)),r=O.useRef(t);return r.current!==t&&(n.current=df(e),r.current=t),n.current}var lte=["radius"],ote=["radius"],KM,GM,YM,QM,XM,ZM,JM,eD,tD,nD;function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){cte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cte(t,e,n){return(e=ute(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ute(t){var e=fte(t,"string");return typeof e=="symbol"?e:e+""}function fte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cp(){return Cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cp.apply(null,arguments)}function aD(t,e){if(t==null)return{};var n,r,i=hte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fi(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var sD=(t,e,n,r,i)=>{var a=ls(n),l=ls(r),o=Math.min(Math.abs(a)/2,Math.abs(l)/2),u=l>=0?1:-1,h=a>=0?1:-1,d=l>=0&&a>=0||l<0&&a<0?1:0,p;if(o>0&&Array.isArray(i)){for(var g=[0,0,0,0],y=0,w=4;y<w;y++){var C,S=(C=i[y])!==null&&C!==void 0?C:0;g[y]=S>o?o:S}p=Ot(KM||(KM=fi(["M",",",""])),t,e+u*g[0]),g[0]>0&&(p+=Ot(GM||(GM=fi(["A ",",",",0,0,",",",",",""])),g[0],g[0],d,t+h*g[0],e)),p+=Ot(YM||(YM=fi(["L ",",",""])),t+n-h*g[1],e),g[1]>0&&(p+=Ot(QM||(QM=fi(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],d,t+n,e+u*g[1])),p+=Ot(XM||(XM=fi(["L ",",",""])),t+n,e+r-u*g[2]),g[2]>0&&(p+=Ot(ZM||(ZM=fi(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],d,t+n-h*g[2],e+r)),p+=Ot(JM||(JM=fi(["L ",",",""])),t+h*g[3],e+r),g[3]>0&&(p+=Ot(eD||(eD=fi(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],d,t,e+r-u*g[3])),p+="Z"}else if(o>0&&i===+i&&i>0){var k=Math.min(o,i);p=Ot(tD||(tD=fi(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+u*k,k,k,d,t+h*k,e,t+n-h*k,e,k,k,d,t+n,e+u*k,t+n,e+r-u*k,k,k,d,t+n-h*k,e+r,t+h*k,e+r,k,k,d,t,e+r-u*k)}else p=Ot(nD||(nD=fi(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return p},lD={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XL=t=>{var e=On(t,lD),n=O.useRef(null),[r,i]=O.useState(-1);O.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Y=n.current.getTotalLength();Y&&i(Y)}catch{}},[]);var{x:a,y:l,width:o,height:u,radius:h,className:d}=e,{animationEasing:p,animationDuration:g,animationBegin:y,isAnimationActive:w,isUpdateAnimationActive:C}=e,S=O.useRef(o),k=O.useRef(u),j=O.useRef(a),N=O.useRef(l),M=O.useMemo(()=>({x:a,y:l,width:o,height:u,radius:h}),[a,l,o,u,h]),D=h2(M,"rectangle-");if(a!==+a||l!==+l||o!==+o||u!==+u||o===0||u===0)return null;var T=rt("recharts-rectangle",d);if(!C){var E=Mn(e),{radius:I}=E,_=aD(E,lte);return O.createElement("path",Cp({},_,{x:ls(a),y:ls(l),width:ls(o),height:ls(u),radius:typeof h=="number"?h:void 0,className:T,d:sD(a,l,o,u,h)}))}var z=S.current,q=k.current,B=j.current,re=N.current,se="0px ".concat(r===-1?1:r,"px"),ee="".concat(r,"px 0px"),H=KL(["strokeDasharray"],g,typeof p=="string"?p:lD.animationEasing);return O.createElement(f2,{animationId:D,key:D,canBegin:r>0,duration:g,easing:p,isActive:C,begin:y},Y=>{var le=Vn(z,o,Y),oe=Vn(q,u,Y),he=Vn(B,a,Y),R=Vn(re,l,Y);n.current&&(S.current=le,k.current=oe,j.current=he,N.current=R);var K;w?Y>0?K={transition:H,strokeDasharray:ee}:K={strokeDasharray:se}:K={strokeDasharray:ee};var ce=Mn(e),{radius:Q}=ce,de=aD(ce,ote);return O.createElement("path",Cp({},de,{radius:typeof h=="number"?h:void 0,className:T,d:sD(he,R,le,oe,h),ref:n,style:iD(iD({},K),e.style)}))})};function oD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(n),!0).forEach(function(r){dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dte(t,e,n){return(e=mte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mte(t){var e=pte(t,"string");return typeof e=="symbol"?e:e+""}function pte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Op=Math.PI/180,gte=t=>t*180/Math.PI,dn=(t,e,n,r)=>({x:t+Math.cos(-Op*r)*n,y:e+Math.sin(-Op*r)*n}),yte=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},vte=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},bte=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,l=vte({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var o=(n-i)/l,u=Math.acos(o);return r>a&&(u=2*Math.PI-u),{radius:l,angle:gte(u),angleInRadian:u}},xte=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},wte=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return t+l*360},Ste=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=bte({x:n,y:r},e),{innerRadius:l,outerRadius:o}=e;if(i<l||i>o||i===0)return null;var{startAngle:u,endAngle:h}=xte(e),d=a,p;if(u<=h){for(;d>h;)d-=360;for(;d<u;)d+=360;p=d>=u&&d<=h}else{for(;d>u;)d-=360;for(;d<h;)d+=360;p=d>=h&&d<=u}return p?cD(cD({},e),{},{radius:i,angle:wte(d,e)}):null};function ZL(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,l=dn(e,n,r,i),o=dn(e,n,r,a);return{points:[l,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}var uD,fD,hD,dD,mD,pD,gD;function Ow(){return Ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ow.apply(null,arguments)}function al(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Cte=(t,e)=>{var n=_r(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Jd=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:o,cornerIsExternal:u}=t,h=o*(l?1:-1)+r,d=Math.asin(o/h)/Op,p=u?i:i+a*d,g=dn(e,n,h,p),y=dn(e,n,r,p),w=u?i-a*d:i,C=dn(e,n,h*Math.cos(d*Op),w);return{center:g,circleTangency:y,lineTangency:C,theta:d}},JL=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=t,o=Cte(a,l),u=a+o,h=dn(e,n,i,a),d=dn(e,n,i,u),p=Ot(uD||(uD=al(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(o)>180),+(a>u),d.x,d.y);if(r>0){var g=dn(e,n,r,a),y=dn(e,n,r,u);p+=Ot(fD||(fD=al(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),y.x,y.y,r,r,+(Math.abs(o)>180),+(a<=u),g.x,g.y)}else p+=Ot(hD||(hD=al(["L ",","," Z"])),e,n);return p},Ote=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:o,startAngle:u,endAngle:h}=t,d=_r(h-u),{circleTangency:p,lineTangency:g,theta:y}=Jd({cx:e,cy:n,radius:i,angle:u,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:w,lineTangency:C,theta:S}=Jd({cx:e,cy:n,radius:i,angle:h,sign:-d,cornerRadius:a,cornerIsExternal:o}),k=o?Math.abs(u-h):Math.abs(u-h)-y-S;if(k<0)return l?Ot(dD||(dD=al(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,a,a,a*2,a,a,-a*2):JL({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:h});var j=Ot(mD||(mD=al(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,a,a,+(d<0),p.x,p.y,i,i,+(k>180),+(d<0),w.x,w.y,a,a,+(d<0),C.x,C.y);if(r>0){var{circleTangency:N,lineTangency:M,theta:D}=Jd({cx:e,cy:n,radius:r,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:T,lineTangency:E,theta:I}=Jd({cx:e,cy:n,radius:r,angle:h,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),_=o?Math.abs(u-h):Math.abs(u-h)-D-I;if(_<0&&a===0)return"".concat(j,"L").concat(e,",").concat(n,"Z");j+=Ot(pD||(pD=al(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),E.x,E.y,a,a,+(d<0),T.x,T.y,r,r,+(_>180),+(d>0),N.x,N.y,a,a,+(d<0),M.x,M.y)}else j+=Ot(gD||(gD=al(["L",",","Z"])),e,n);return j},kte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eB=t=>{var e=On(t,kte),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:u,startAngle:h,endAngle:d,className:p}=e;if(a<i||h===d)return null;var g=rt("recharts-sector",p),y=a-i,w=Ss(l,y,0,!0),C;return w>0&&Math.abs(h-d)<360?C=Ote({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,y/2),forceCornerRadius:o,cornerIsExternal:u,startAngle:h,endAngle:d}):C=JL({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:h,endAngle:d}),O.createElement("path",Ow({},Mn(e),{className:g,d:C}))};function Ate(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(_R(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:l,angle:o}=e,u=dn(r,i,a,o),h=dn(r,i,l,o);return[{x:u.x,y:u.y},{x:h.x,y:h.y}]}return ZL(e)}}var mx={},px={},gx={},yD;function Nte(){return yD||(yD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FR();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(gx)),gx}var vD;function jte(){return vD||(vD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nte();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(px)),px}var bD;function Ete(){return bD||(bD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KR(),n=jte();function r(i,a,l){l&&typeof l!="number"&&e.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const o=Math.max(Math.ceil((a-i)/(l||1)),0),u=new Array(o);for(let h=0;h<o;h++)u[h]=i,i+=l;return u}t.range=r})(mx)),mx}var yx,xD;function Tte(){return xD||(xD=1,yx=Ete().range),yx}var Mte=Tte();const tB=Mi(Mte);function fs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Dte(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function d2(t){let e,n,r;t.length!==2?(e=fs,n=(o,u)=>fs(t(o),u),r=(o,u)=>t(o)-u):(e=t===fs||t===Dte?t:Pte,n=t,r=t);function i(o,u,h=0,d=o.length){if(h<d){if(e(u,u)!==0)return d;do{const p=h+d>>>1;n(o[p],u)<0?h=p+1:d=p}while(h<d)}return h}function a(o,u,h=0,d=o.length){if(h<d){if(e(u,u)!==0)return d;do{const p=h+d>>>1;n(o[p],u)<=0?h=p+1:d=p}while(h<d)}return h}function l(o,u,h=0,d=o.length){const p=i(o,u,h,d-1);return p>h&&r(o[p-1],u)>-r(o[p],u)?p-1:p}return{left:i,center:l,right:a}}function Pte(){return 0}function nB(t){return t===null?NaN:+t}function*_te(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Rte=d2(fs),Wf=Rte.right;d2(nB).center;class wD extends Map{constructor(e,n=zte){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(SD(this,e))}has(e){return super.has(SD(this,e))}set(e,n){return super.set(Lte(this,e),n)}delete(e){return super.delete(Bte(this,e))}}function SD({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Lte({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Bte({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function zte(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ite(t=fs){if(t===fs)return rB;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function rB(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Ute=Math.sqrt(50),Hte=Math.sqrt(10),qte=Math.sqrt(2);function kp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=Ute?10:a>=Hte?5:a>=qte?2:1;let o,u,h;return i<0?(h=Math.pow(10,-i)/l,o=Math.round(t*h),u=Math.round(e*h),o/h<t&&++o,u/h>e&&--u,h=-h):(h=Math.pow(10,i)*l,o=Math.round(t/h),u=Math.round(e/h),o*h<t&&++o,u*h>e&&--u),u<o&&.5<=n&&n<2?kp(t,e,n*2):[o,u,h]}function kw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,l]=r?kp(e,t,n):kp(t,e,n);if(!(a>=i))return[];const o=a-i+1,u=new Array(o);if(r)if(l<0)for(let h=0;h<o;++h)u[h]=(a-h)/-l;else for(let h=0;h<o;++h)u[h]=(a-h)*l;else if(l<0)for(let h=0;h<o;++h)u[h]=(i+h)/-l;else for(let h=0;h<o;++h)u[h]=(i+h)*l;return u}function Aw(t,e,n){return e=+e,t=+t,n=+n,kp(t,e,n)[2]}function Nw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Aw(e,t,n):Aw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function CD(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function OD(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function iB(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?rB:Ite(i);r>n;){if(r-n>600){const u=r-n+1,h=e-n+1,d=Math.log(u),p=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*p*(u-p)/u)*(h-u/2<0?-1:1),y=Math.max(n,Math.floor(e-h*p/u+g)),w=Math.min(r,Math.floor(e+(u-h)*p/u+g));iB(t,e,y,w,i)}const a=t[e];let l=n,o=r;for(Su(t,n,e),i(t[r],a)>0&&Su(t,n,r);l<o;){for(Su(t,l,o),++l,--o;i(t[l],a)<0;)++l;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?Su(t,n,o):(++o,Su(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Su(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function $te(t,e,n){if(t=Float64Array.from(_te(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return OD(t);if(e>=1)return CD(t);var r,i=(r-1)*e,a=Math.floor(i),l=CD(iB(t,a).subarray(0,a+1)),o=OD(t.subarray(a+1));return l+(o-l)*(i-a)}}function Vte(t,e,n=nB){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),l=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return l+(o-l)*(i-a)}}function Wte(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Hr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Sa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const jw=Symbol("implicit");function m2(){var t=new wD,e=[],n=[],r=jw;function i(a){let l=t.get(a);if(l===void 0){if(r!==jw)return r;t.set(a,l=e.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new wD;for(const l of a)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return m2(e,n).unknown(r)},Hr.apply(i,arguments),i}function p2(){var t=m2().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,l,o=!1,u=0,h=0,d=.5;delete t.unknown;function p(){var g=e().length,y=i<r,w=y?i:r,C=y?r:i;a=(C-w)/Math.max(1,g-u+h*2),o&&(a=Math.floor(a)),w+=(C-w-a*(g-u))*d,l=a*(1-u),o&&(w=Math.round(w),l=Math.round(l));var S=Wte(g).map(function(k){return w+a*k});return n(y?S.reverse():S)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,o=!0,p()},t.bandwidth=function(){return l},t.step=function(){return a},t.round=function(g){return arguments.length?(o=!!g,p()):o},t.padding=function(g){return arguments.length?(u=Math.min(1,h=+g),p()):u},t.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),p()):u},t.paddingOuter=function(g){return arguments.length?(h=+g,p()):h},t.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),p()):d},t.copy=function(){return p2(e(),[r,i]).round(o).paddingInner(u).paddingOuter(h).align(d)},Hr.apply(p(),arguments)}function aB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return aB(e())},t}function Fte(){return aB(p2.apply(null,arguments).paddingInner(1))}function g2(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function sB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ff(){}var wf=.7,Ap=1/wf,Bo="\\s*([+-]?\\d+)\\s*",Sf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ai="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kte=/^#([0-9a-f]{3,8})$/,Gte=new RegExp(`^rgb\\(${Bo},${Bo},${Bo}\\)$`),Yte=new RegExp(`^rgb\\(${Ai},${Ai},${Ai}\\)$`),Qte=new RegExp(`^rgba\\(${Bo},${Bo},${Bo},${Sf}\\)$`),Xte=new RegExp(`^rgba\\(${Ai},${Ai},${Ai},${Sf}\\)$`),Zte=new RegExp(`^hsl\\(${Sf},${Ai},${Ai}\\)$`),Jte=new RegExp(`^hsla\\(${Sf},${Ai},${Ai},${Sf}\\)$`),kD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};g2(Ff,Cf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:AD,formatHex:AD,formatHex8:ene,formatHsl:tne,formatRgb:ND,toString:ND});function AD(){return this.rgb().formatHex()}function ene(){return this.rgb().formatHex8()}function tne(){return lB(this).formatHsl()}function ND(){return this.rgb().formatRgb()}function Cf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Kte.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?jD(e):n===3?new Gn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?em(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?em(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Gte.exec(t))?new Gn(e[1],e[2],e[3],1):(e=Yte.exec(t))?new Gn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Qte.exec(t))?em(e[1],e[2],e[3],e[4]):(e=Xte.exec(t))?em(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Zte.exec(t))?MD(e[1],e[2]/100,e[3]/100,1):(e=Jte.exec(t))?MD(e[1],e[2]/100,e[3]/100,e[4]):kD.hasOwnProperty(t)?jD(kD[t]):t==="transparent"?new Gn(NaN,NaN,NaN,0):null}function jD(t){return new Gn(t>>16&255,t>>8&255,t&255,1)}function em(t,e,n,r){return r<=0&&(t=e=n=NaN),new Gn(t,e,n,r)}function nne(t){return t instanceof Ff||(t=Cf(t)),t?(t=t.rgb(),new Gn(t.r,t.g,t.b,t.opacity)):new Gn}function Ew(t,e,n,r){return arguments.length===1?nne(t):new Gn(t,e,n,r??1)}function Gn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}g2(Gn,Ew,sB(Ff,{brighter(t){return t=t==null?Ap:Math.pow(Ap,t),new Gn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?wf:Math.pow(wf,t),new Gn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Gn(hl(this.r),hl(this.g),hl(this.b),Np(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ED,formatHex:ED,formatHex8:rne,formatRgb:TD,toString:TD}));function ED(){return`#${sl(this.r)}${sl(this.g)}${sl(this.b)}`}function rne(){return`#${sl(this.r)}${sl(this.g)}${sl(this.b)}${sl((isNaN(this.opacity)?1:this.opacity)*255)}`}function TD(){const t=Np(this.opacity);return`${t===1?"rgb(":"rgba("}${hl(this.r)}, ${hl(this.g)}, ${hl(this.b)}${t===1?")":`, ${t})`}`}function Np(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function hl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function sl(t){return t=hl(t),(t<16?"0":"")+t.toString(16)}function MD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Gr(t,e,n,r)}function lB(t){if(t instanceof Gr)return new Gr(t.h,t.s,t.l,t.opacity);if(t instanceof Ff||(t=Cf(t)),!t)return new Gr;if(t instanceof Gr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),l=NaN,o=a-i,u=(a+i)/2;return o?(e===a?l=(n-r)/o+(n<r)*6:n===a?l=(r-e)/o+2:l=(e-n)/o+4,o/=u<.5?a+i:2-a-i,l*=60):o=u>0&&u<1?0:l,new Gr(l,o,u,t.opacity)}function ine(t,e,n,r){return arguments.length===1?lB(t):new Gr(t,e,n,r??1)}function Gr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}g2(Gr,ine,sB(Ff,{brighter(t){return t=t==null?Ap:Math.pow(Ap,t),new Gr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?wf:Math.pow(wf,t),new Gr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Gn(vx(t>=240?t-240:t+120,i,r),vx(t,i,r),vx(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Gr(DD(this.h),tm(this.s),tm(this.l),Np(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Np(this.opacity);return`${t===1?"hsl(":"hsla("}${DD(this.h)}, ${tm(this.s)*100}%, ${tm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function DD(t){return t=(t||0)%360,t<0?t+360:t}function tm(t){return Math.max(0,Math.min(1,t||0))}function vx(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const y2=t=>()=>t;function ane(t,e){return function(n){return t+n*e}}function sne(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function lne(t){return(t=+t)==1?oB:function(e,n){return n-e?sne(e,n,t):y2(isNaN(e)?n:e)}}function oB(t,e){var n=e-t;return n?ane(t,n):y2(isNaN(t)?e:t)}const PD=(function t(e){var n=lne(e);function r(i,a){var l=n((i=Ew(i)).r,(a=Ew(a)).r),o=n(i.g,a.g),u=n(i.b,a.b),h=oB(i.opacity,a.opacity);return function(d){return i.r=l(d),i.g=o(d),i.b=u(d),i.opacity=h(d),i+""}}return r.gamma=t,r})(1);function one(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function cne(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function une(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=cc(t[l],e[l]);for(;l<n;++l)a[l]=e[l];return function(o){for(l=0;l<r;++l)a[l]=i[l](o);return a}}function fne(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function jp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function hne(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=cc(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Tw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bx=new RegExp(Tw.source,"g");function dne(t){return function(){return t}}function mne(t){return function(e){return t(e)+""}}function pne(t,e){var n=Tw.lastIndex=bx.lastIndex=0,r,i,a,l=-1,o=[],u=[];for(t=t+"",e=e+"";(r=Tw.exec(t))&&(i=bx.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[l]?o[l]+=a:o[++l]=a),(r=r[0])===(i=i[0])?o[l]?o[l]+=i:o[++l]=i:(o[++l]=null,u.push({i:l,x:jp(r,i)})),n=bx.lastIndex;return n<e.length&&(a=e.slice(n),o[l]?o[l]+=a:o[++l]=a),o.length<2?u[0]?mne(u[0].x):dne(e):(e=u.length,function(h){for(var d=0,p;d<e;++d)o[(p=u[d]).i]=p.x(h);return o.join("")})}function cc(t,e){var n=typeof e,r;return e==null||n==="boolean"?y2(e):(n==="number"?jp:n==="string"?(r=Cf(e))?(e=r,PD):pne:e instanceof Cf?PD:e instanceof Date?fne:cne(e)?one:Array.isArray(e)?une:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?hne:jp)(t,e)}function v2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function gne(t,e){e===void 0&&(e=t,t=cc);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(l){var o=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[o](l-o)}}function yne(t){return function(){return t}}function Ep(t){return+t}var _D=[0,1];function jn(t){return t}function Mw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:yne(isNaN(e)?NaN:.5)}function vne(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function bne(t,e,n){var r=t[0],i=t[1],a=e[0],l=e[1];return i<r?(r=Mw(i,r),a=n(l,a)):(r=Mw(r,i),a=n(a,l)),function(o){return a(r(o))}}function xne(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=Mw(t[l],t[l+1]),a[l]=n(e[l],e[l+1]);return function(o){var u=Wf(t,o,1,r)-1;return a[u](i[u](o))}}function Kf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Hg(){var t=_D,e=_D,n=cc,r,i,a,l=jn,o,u,h;function d(){var g=Math.min(t.length,e.length);return l!==jn&&(l=vne(t[0],t[g-1])),o=g>2?xne:bne,u=h=null,p}function p(g){return g==null||isNaN(g=+g)?a:(u||(u=o(t.map(r),e,n)))(r(l(g)))}return p.invert=function(g){return l(i((h||(h=o(e,t.map(r),jp)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,Ep),d()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),n=v2,d()},p.clamp=function(g){return arguments.length?(l=g?!0:jn,d()):l!==jn},p.interpolate=function(g){return arguments.length?(n=g,d()):n},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,y){return r=g,i=y,d()}}function b2(){return Hg()(jn,jn)}function wne(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Tp(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Qo(t){return t=Tp(Math.abs(t)),t?t[1]:NaN}function Sne(t,e){return function(n,r){for(var i=n.length,a=[],l=0,o=t[0],u=0;i>0&&o>0&&(u+o+1>r&&(o=Math.max(1,r-u)),a.push(n.substring(i-=o,i+o)),!((u+=o+1)>r));)o=t[l=(l+1)%t.length];return a.reverse().join(e)}}function Cne(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var One=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Of(t){if(!(e=One.exec(t)))throw new Error("invalid format: "+t);var e;return new x2({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Of.prototype=x2.prototype;function x2(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}x2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kne(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Mp;function Ane(t,e){var n=Tp(t,e);if(!n)return Mp=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(Mp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Tp(t,Math.max(0,e+a-1))[0]}function RD(t,e){var n=Tp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const LD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:wne,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>RD(t*100,e),r:RD,s:Ane,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function BD(t){return t}var zD=Array.prototype.map,ID=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Nne(t){var e=t.grouping===void 0||t.thousands===void 0?BD:Sne(zD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?BD:Cne(zD.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function h(p,g){p=Of(p);var y=p.fill,w=p.align,C=p.sign,S=p.symbol,k=p.zero,j=p.width,N=p.comma,M=p.precision,D=p.trim,T=p.type;T==="n"?(N=!0,T="g"):LD[T]||(M===void 0&&(M=12),D=!0,T="g"),(k||y==="0"&&w==="=")&&(k=!0,y="0",w="=");var E=(g&&g.prefix!==void 0?g.prefix:"")+(S==="$"?n:S==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():""),I=(S==="$"?r:/[%p]/.test(T)?l:"")+(g&&g.suffix!==void 0?g.suffix:""),_=LD[T],z=/[defgprs%]/.test(T);M=M===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function q(B){var re=E,se=I,ee,H,Y;if(T==="c")se=_(B)+se,B="";else{B=+B;var le=B<0||1/B<0;if(B=isNaN(B)?u:_(Math.abs(B),M),D&&(B=kne(B)),le&&+B==0&&C!=="+"&&(le=!1),re=(le?C==="("?C:o:C==="-"||C==="("?"":C)+re,se=(T==="s"&&!isNaN(B)&&Mp!==void 0?ID[8+Mp/3]:"")+se+(le&&C==="("?")":""),z){for(ee=-1,H=B.length;++ee<H;)if(Y=B.charCodeAt(ee),48>Y||Y>57){se=(Y===46?i+B.slice(ee+1):B.slice(ee))+se,B=B.slice(0,ee);break}}}N&&!k&&(B=e(B,1/0));var oe=re.length+B.length+se.length,he=oe<j?new Array(j-oe+1).join(y):"";switch(N&&k&&(B=e(he+B,he.length?j-se.length:1/0),he=""),w){case"<":B=re+B+se+he;break;case"=":B=re+he+B+se;break;case"^":B=he.slice(0,oe=he.length>>1)+re+B+se+he.slice(oe);break;default:B=he+re+B+se;break}return a(B)}return q.toString=function(){return p+""},q}function d(p,g){var y=Math.max(-8,Math.min(8,Math.floor(Qo(g)/3)))*3,w=Math.pow(10,-y),C=h((p=Of(p),p.type="f",p),{suffix:ID[8+y/3]});return function(S){return C(w*S)}}return{format:h,formatPrefix:d}}var nm,w2,cB;jne({thousands:",",grouping:[3],currency:["$",""]});function jne(t){return nm=Nne(t),w2=nm.format,cB=nm.formatPrefix,nm}function Ene(t){return Math.max(0,-Qo(Math.abs(t)))}function Tne(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qo(e)/3)))*3-Qo(Math.abs(t)))}function Mne(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Qo(e)-Qo(t))+1}function uB(t,e,n,r){var i=Nw(t,e,n),a;switch(r=Of(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Tne(i,l))&&(r.precision=a),cB(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Mne(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Ene(i))&&(r.precision=a-(r.type==="%")*2);break}}return w2(r)}function ks(t){var e=t.domain;return t.ticks=function(n){var r=e();return kw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return uB(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,l=r[i],o=r[a],u,h,d=10;for(o<l&&(h=l,l=o,o=h,h=i,i=a,a=h);d-- >0;){if(h=Aw(l,o,n),h===u)return r[i]=l,r[a]=o,e(r);if(h>0)l=Math.floor(l/h)*h,o=Math.ceil(o/h)*h;else if(h<0)l=Math.ceil(l*h)/h,o=Math.floor(o*h)/h;else break;u=h}return t},t}function fB(){var t=b2();return t.copy=function(){return Kf(t,fB())},Hr.apply(t,arguments),ks(t)}function hB(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ep),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return hB(t).unknown(e)},t=arguments.length?Array.from(t,Ep):[0,1],ks(n)}function dB(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),t[n]=e.floor(i),t[r]=e.ceil(a),t}function UD(t){return Math.log(t)}function HD(t){return Math.exp(t)}function Dne(t){return-Math.log(-t)}function Pne(t){return-Math.exp(-t)}function _ne(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Rne(t){return t===10?_ne:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Lne(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function qD(t){return(e,n)=>-t(-e,n)}function S2(t){const e=t(UD,HD),n=e.domain;let r=10,i,a;function l(){return i=Lne(r),a=Rne(r),n()[0]<0?(i=qD(i),a=qD(a),t(Dne,Pne)):t(UD,HD),e}return e.base=function(o){return arguments.length?(r=+o,l()):r},e.domain=function(o){return arguments.length?(n(o),l()):n()},e.ticks=o=>{const u=n();let h=u[0],d=u[u.length-1];const p=d<h;p&&([h,d]=[d,h]);let g=i(h),y=i(d),w,C;const S=o==null?10:+o;let k=[];if(!(r%1)&&y-g<S){if(g=Math.floor(g),y=Math.ceil(y),h>0){for(;g<=y;++g)for(w=1;w<r;++w)if(C=g<0?w/a(-g):w*a(g),!(C<h)){if(C>d)break;k.push(C)}}else for(;g<=y;++g)for(w=r-1;w>=1;--w)if(C=g>0?w/a(-g):w*a(g),!(C<h)){if(C>d)break;k.push(C)}k.length*2<S&&(k=kw(h,d,S))}else k=kw(g,y,Math.min(y-g,S)).map(a);return p?k.reverse():k},e.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Of(u)).precision==null&&(u.trim=!0),u=w2(u)),o===1/0)return u;const h=Math.max(1,r*o/e.ticks().length);return d=>{let p=d/a(Math.round(i(d)));return p*r<r-.5&&(p*=r),p<=h?u(d):""}},e.nice=()=>n(dB(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function mB(){const t=S2(Hg()).domain([1,10]);return t.copy=()=>Kf(t,mB()).base(t.base()),Hr.apply(t,arguments),t}function $D(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function VD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function C2(t){var e=1,n=t($D(e),VD(e));return n.constant=function(r){return arguments.length?t($D(e=+r),VD(e)):e},ks(n)}function pB(){var t=C2(Hg());return t.copy=function(){return Kf(t,pB()).constant(t.constant())},Hr.apply(t,arguments)}function WD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Bne(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function zne(t){return t<0?-t*t:t*t}function O2(t){var e=t(jn,jn),n=1;function r(){return n===1?t(jn,jn):n===.5?t(Bne,zne):t(WD(n),WD(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ks(e)}function k2(){var t=O2(Hg());return t.copy=function(){return Kf(t,k2()).exponent(t.exponent())},Hr.apply(t,arguments),t}function Ine(){return k2.apply(null,arguments).exponent(.5)}function FD(t){return Math.sign(t)*t*t}function Une(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function gB(){var t=b2(),e=[0,1],n=!1,r;function i(a){var l=Une(t(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return t.invert(FD(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Ep)).map(FD)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return gB(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Hr.apply(i,arguments),ks(i)}function yB(){var t=[],e=[],n=[],r;function i(){var l=0,o=Math.max(1,e.length);for(n=new Array(o-1);++l<o;)n[l-1]=Vte(t,l/o);return a}function a(l){return l==null||isNaN(l=+l)?r:e[Wf(n,l)]}return a.invertExtent=function(l){var o=e.indexOf(l);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let o of l)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(fs),i()},a.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return yB().domain(t).range(e).unknown(r)},Hr.apply(a,arguments)}function vB(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function l(u){return u!=null&&u<=u?i[Wf(r,u,0,n)]:a}function o(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return l}return l.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,o()):[t,e]},l.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,o()):i.slice()},l.invertExtent=function(u){var h=i.indexOf(u);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(u){return arguments.length&&(a=u),l},l.thresholds=function(){return r.slice()},l.copy=function(){return vB().domain([t,e]).range(i).unknown(a)},Hr.apply(ks(l),arguments)}function bB(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Wf(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var l=e.indexOf(a);return[t[l-1],t[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return bB().domain(t).range(e).unknown(n)},Hr.apply(i,arguments)}const xx=new Date,wx=new Date;function qt(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const l=i(a),o=i.ceil(a);return a-l<o-a?l:o},i.offset=(a,l)=>(e(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,o)=>{const u=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<l)||!(o>0))return u;let h;do u.push(h=new Date(+a)),e(a,o),t(a);while(h<a&&a<l);return u},i.filter=a=>qt(l=>{if(l>=l)for(;t(l),!a(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;e(l,-1),!a(l););else for(;--o>=0;)for(;e(l,1),!a(l););}),n&&(i.count=(a,l)=>(xx.setTime(+a),wx.setTime(+l),t(xx),t(wx),Math.floor(n(xx,wx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const Dp=qt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Dp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?qt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Dp);Dp.range;const ia=1e3,Rr=ia*60,aa=Rr*60,da=aa*24,A2=da*7,KD=da*30,Sx=da*365,ll=qt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ia)},(t,e)=>(e-t)/ia,t=>t.getUTCSeconds());ll.range;const N2=qt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ia)},(t,e)=>{t.setTime(+t+e*Rr)},(t,e)=>(e-t)/Rr,t=>t.getMinutes());N2.range;const j2=qt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Rr)},(t,e)=>(e-t)/Rr,t=>t.getUTCMinutes());j2.range;const E2=qt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ia-t.getMinutes()*Rr)},(t,e)=>{t.setTime(+t+e*aa)},(t,e)=>(e-t)/aa,t=>t.getHours());E2.range;const T2=qt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*aa)},(t,e)=>(e-t)/aa,t=>t.getUTCHours());T2.range;const Gf=qt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Rr)/da,t=>t.getDate()-1);Gf.range;const qg=qt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/da,t=>t.getUTCDate()-1);qg.range;const xB=qt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/da,t=>Math.floor(t/da));xB.range;function Al(t){return qt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Rr)/A2)}const $g=Al(0),Pp=Al(1),Hne=Al(2),qne=Al(3),Xo=Al(4),$ne=Al(5),Vne=Al(6);$g.range;Pp.range;Hne.range;qne.range;Xo.range;$ne.range;Vne.range;function Nl(t){return qt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/A2)}const Vg=Nl(0),_p=Nl(1),Wne=Nl(2),Fne=Nl(3),Zo=Nl(4),Kne=Nl(5),Gne=Nl(6);Vg.range;_p.range;Wne.range;Fne.range;Zo.range;Kne.range;Gne.range;const M2=qt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());M2.range;const D2=qt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());D2.range;const ma=qt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ma.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ma.range;const pa=qt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());pa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});pa.range;function wB(t,e,n,r,i,a){const l=[[ll,1,ia],[ll,5,5*ia],[ll,15,15*ia],[ll,30,30*ia],[a,1,Rr],[a,5,5*Rr],[a,15,15*Rr],[a,30,30*Rr],[i,1,aa],[i,3,3*aa],[i,6,6*aa],[i,12,12*aa],[r,1,da],[r,2,2*da],[n,1,A2],[e,1,KD],[e,3,3*KD],[t,1,Sx]];function o(h,d,p){const g=d<h;g&&([h,d]=[d,h]);const y=p&&typeof p.range=="function"?p:u(h,d,p),w=y?y.range(h,+d+1):[];return g?w.reverse():w}function u(h,d,p){const g=Math.abs(d-h)/p,y=d2(([,,S])=>S).right(l,g);if(y===l.length)return t.every(Nw(h/Sx,d/Sx,p));if(y===0)return Dp.every(Math.max(Nw(h,d,p),1));const[w,C]=l[g/l[y-1][2]<l[y][2]/g?y-1:y];return w.every(C)}return[o,u]}const[Yne,Qne]=wB(pa,D2,Vg,xB,T2,j2),[Xne,Zne]=wB(ma,M2,$g,Gf,E2,N2);function Cx(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ox(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Cu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Jne(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,l=t.shortDays,o=t.months,u=t.shortMonths,h=Ou(i),d=ku(i),p=Ou(a),g=ku(a),y=Ou(l),w=ku(l),C=Ou(o),S=ku(o),k=Ou(u),j=ku(u),N={a:Y,A:le,b:oe,B:he,c:null,d:JD,e:JD,f:Sre,g:Dre,G:_re,H:bre,I:xre,j:wre,L:SB,m:Cre,M:Ore,p:R,q:K,Q:nP,s:rP,S:kre,u:Are,U:Nre,V:jre,w:Ere,W:Tre,x:null,X:null,y:Mre,Y:Pre,Z:Rre,"%":tP},M={a:ce,A:Q,b:de,B:fe,c:null,d:eP,e:eP,f:Ire,g:Yre,G:Xre,H:Lre,I:Bre,j:zre,L:OB,m:Ure,M:Hre,p:be,q:yt,Q:nP,s:rP,S:qre,u:$re,U:Vre,V:Wre,w:Fre,W:Kre,x:null,X:null,y:Gre,Y:Qre,Z:Zre,"%":tP},D={a:z,A:q,b:B,B:re,c:se,d:XD,e:XD,f:pre,g:QD,G:YD,H:ZD,I:ZD,j:fre,L:mre,m:ure,M:hre,p:_,q:cre,Q:yre,s:vre,S:dre,u:ire,U:are,V:sre,w:rre,W:lre,x:ee,X:H,y:QD,Y:YD,Z:ore,"%":gre};N.x=T(n,N),N.X=T(r,N),N.c=T(e,N),M.x=T(n,M),M.X=T(r,M),M.c=T(e,M);function T(te,je){return function(_e){var ue=[],xt=-1,$e=0,tn=te.length,nn,Ri,vc;for(_e instanceof Date||(_e=new Date(+_e));++xt<tn;)te.charCodeAt(xt)===37&&(ue.push(te.slice($e,xt)),(Ri=GD[nn=te.charAt(++xt)])!=null?nn=te.charAt(++xt):Ri=nn==="e"?" ":"0",(vc=je[nn])&&(nn=vc(_e,Ri)),ue.push(nn),$e=xt+1);return ue.push(te.slice($e,xt)),ue.join("")}}function E(te,je){return function(_e){var ue=Cu(1900,void 0,1),xt=I(ue,te,_e+="",0),$e,tn;if(xt!=_e.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(je&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?($e=Ox(Cu(ue.y,0,1)),tn=$e.getUTCDay(),$e=tn>4||tn===0?_p.ceil($e):_p($e),$e=qg.offset($e,(ue.V-1)*7),ue.y=$e.getUTCFullYear(),ue.m=$e.getUTCMonth(),ue.d=$e.getUTCDate()+(ue.w+6)%7):($e=Cx(Cu(ue.y,0,1)),tn=$e.getDay(),$e=tn>4||tn===0?Pp.ceil($e):Pp($e),$e=Gf.offset($e,(ue.V-1)*7),ue.y=$e.getFullYear(),ue.m=$e.getMonth(),ue.d=$e.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),tn="Z"in ue?Ox(Cu(ue.y,0,1)).getUTCDay():Cx(Cu(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(tn+5)%7:ue.w+ue.U*7-(tn+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,Ox(ue)):Cx(ue)}}function I(te,je,_e,ue){for(var xt=0,$e=je.length,tn=_e.length,nn,Ri;xt<$e;){if(ue>=tn)return-1;if(nn=je.charCodeAt(xt++),nn===37){if(nn=je.charAt(xt++),Ri=D[nn in GD?je.charAt(xt++):nn],!Ri||(ue=Ri(te,_e,ue))<0)return-1}else if(nn!=_e.charCodeAt(ue++))return-1}return ue}function _(te,je,_e){var ue=h.exec(je.slice(_e));return ue?(te.p=d.get(ue[0].toLowerCase()),_e+ue[0].length):-1}function z(te,je,_e){var ue=y.exec(je.slice(_e));return ue?(te.w=w.get(ue[0].toLowerCase()),_e+ue[0].length):-1}function q(te,je,_e){var ue=p.exec(je.slice(_e));return ue?(te.w=g.get(ue[0].toLowerCase()),_e+ue[0].length):-1}function B(te,je,_e){var ue=k.exec(je.slice(_e));return ue?(te.m=j.get(ue[0].toLowerCase()),_e+ue[0].length):-1}function re(te,je,_e){var ue=C.exec(je.slice(_e));return ue?(te.m=S.get(ue[0].toLowerCase()),_e+ue[0].length):-1}function se(te,je,_e){return I(te,e,je,_e)}function ee(te,je,_e){return I(te,n,je,_e)}function H(te,je,_e){return I(te,r,je,_e)}function Y(te){return l[te.getDay()]}function le(te){return a[te.getDay()]}function oe(te){return u[te.getMonth()]}function he(te){return o[te.getMonth()]}function R(te){return i[+(te.getHours()>=12)]}function K(te){return 1+~~(te.getMonth()/3)}function ce(te){return l[te.getUTCDay()]}function Q(te){return a[te.getUTCDay()]}function de(te){return u[te.getUTCMonth()]}function fe(te){return o[te.getUTCMonth()]}function be(te){return i[+(te.getUTCHours()>=12)]}function yt(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var je=T(te+="",N);return je.toString=function(){return te},je},parse:function(te){var je=E(te+="",!1);return je.toString=function(){return te},je},utcFormat:function(te){var je=T(te+="",M);return je.toString=function(){return te},je},utcParse:function(te){var je=E(te+="",!0);return je.toString=function(){return te},je}}}var GD={"-":"",_:" ",0:"0"},Zt=/^\s*\d+/,ere=/^%/,tre=/[\\^$*+?|[\]().{}]/g;function Ke(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function nre(t){return t.replace(tre,"\\$&")}function Ou(t){return new RegExp("^(?:"+t.map(nre).join("|")+")","i")}function ku(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function rre(t,e,n){var r=Zt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ire(t,e,n){var r=Zt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function are(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function sre(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function lre(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function YD(t,e,n){var r=Zt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function QD(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ore(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function cre(t,e,n){var r=Zt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function ure(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function XD(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function fre(t,e,n){var r=Zt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ZD(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function hre(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function dre(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function mre(t,e,n){var r=Zt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function pre(t,e,n){var r=Zt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function gre(t,e,n){var r=ere.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function yre(t,e,n){var r=Zt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function vre(t,e,n){var r=Zt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function JD(t,e){return Ke(t.getDate(),e,2)}function bre(t,e){return Ke(t.getHours(),e,2)}function xre(t,e){return Ke(t.getHours()%12||12,e,2)}function wre(t,e){return Ke(1+Gf.count(ma(t),t),e,3)}function SB(t,e){return Ke(t.getMilliseconds(),e,3)}function Sre(t,e){return SB(t,e)+"000"}function Cre(t,e){return Ke(t.getMonth()+1,e,2)}function Ore(t,e){return Ke(t.getMinutes(),e,2)}function kre(t,e){return Ke(t.getSeconds(),e,2)}function Are(t){var e=t.getDay();return e===0?7:e}function Nre(t,e){return Ke($g.count(ma(t)-1,t),e,2)}function CB(t){var e=t.getDay();return e>=4||e===0?Xo(t):Xo.ceil(t)}function jre(t,e){return t=CB(t),Ke(Xo.count(ma(t),t)+(ma(t).getDay()===4),e,2)}function Ere(t){return t.getDay()}function Tre(t,e){return Ke(Pp.count(ma(t)-1,t),e,2)}function Mre(t,e){return Ke(t.getFullYear()%100,e,2)}function Dre(t,e){return t=CB(t),Ke(t.getFullYear()%100,e,2)}function Pre(t,e){return Ke(t.getFullYear()%1e4,e,4)}function _re(t,e){var n=t.getDay();return t=n>=4||n===0?Xo(t):Xo.ceil(t),Ke(t.getFullYear()%1e4,e,4)}function Rre(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ke(e/60|0,"0",2)+Ke(e%60,"0",2)}function eP(t,e){return Ke(t.getUTCDate(),e,2)}function Lre(t,e){return Ke(t.getUTCHours(),e,2)}function Bre(t,e){return Ke(t.getUTCHours()%12||12,e,2)}function zre(t,e){return Ke(1+qg.count(pa(t),t),e,3)}function OB(t,e){return Ke(t.getUTCMilliseconds(),e,3)}function Ire(t,e){return OB(t,e)+"000"}function Ure(t,e){return Ke(t.getUTCMonth()+1,e,2)}function Hre(t,e){return Ke(t.getUTCMinutes(),e,2)}function qre(t,e){return Ke(t.getUTCSeconds(),e,2)}function $re(t){var e=t.getUTCDay();return e===0?7:e}function Vre(t,e){return Ke(Vg.count(pa(t)-1,t),e,2)}function kB(t){var e=t.getUTCDay();return e>=4||e===0?Zo(t):Zo.ceil(t)}function Wre(t,e){return t=kB(t),Ke(Zo.count(pa(t),t)+(pa(t).getUTCDay()===4),e,2)}function Fre(t){return t.getUTCDay()}function Kre(t,e){return Ke(_p.count(pa(t)-1,t),e,2)}function Gre(t,e){return Ke(t.getUTCFullYear()%100,e,2)}function Yre(t,e){return t=kB(t),Ke(t.getUTCFullYear()%100,e,2)}function Qre(t,e){return Ke(t.getUTCFullYear()%1e4,e,4)}function Xre(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Zo(t):Zo.ceil(t),Ke(t.getUTCFullYear()%1e4,e,4)}function Zre(){return"+0000"}function tP(){return"%"}function nP(t){return+t}function rP(t){return Math.floor(+t/1e3)}var po,AB,NB;Jre({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Jre(t){return po=Jne(t),AB=po.format,po.parse,NB=po.utcFormat,po.utcParse,po}function eie(t){return new Date(t)}function tie(t){return t instanceof Date?+t:+new Date(+t)}function P2(t,e,n,r,i,a,l,o,u,h){var d=b2(),p=d.invert,g=d.domain,y=h(".%L"),w=h(":%S"),C=h("%I:%M"),S=h("%I %p"),k=h("%a %d"),j=h("%b %d"),N=h("%B"),M=h("%Y");function D(T){return(u(T)<T?y:o(T)<T?w:l(T)<T?C:a(T)<T?S:r(T)<T?i(T)<T?k:j:n(T)<T?N:M)(T)}return d.invert=function(T){return new Date(p(T))},d.domain=function(T){return arguments.length?g(Array.from(T,tie)):g().map(eie)},d.ticks=function(T){var E=g();return t(E[0],E[E.length-1],T??10)},d.tickFormat=function(T,E){return E==null?D:h(E)},d.nice=function(T){var E=g();return(!T||typeof T.range!="function")&&(T=e(E[0],E[E.length-1],T??10)),T?g(dB(E,T)):d},d.copy=function(){return Kf(d,P2(t,e,n,r,i,a,l,o,u,h))},d}function nie(){return Hr.apply(P2(Xne,Zne,ma,M2,$g,Gf,E2,N2,ll,AB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rie(){return Hr.apply(P2(Yne,Qne,pa,D2,Vg,qg,T2,j2,ll,NB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Wg(){var t=0,e=1,n,r,i,a,l=jn,o=!1,u;function h(p){return p==null||isNaN(p=+p)?u:l(i===0?.5:(p=(a(p)-n)*i,o?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(p){return arguments.length?(o=!!p,h):o},h.interpolator=function(p){return arguments.length?(l=p,h):l};function d(p){return function(g){var y,w;return arguments.length?([y,w]=g,l=p(y,w),h):[l(0),l(1)]}}return h.range=d(cc),h.rangeRound=d(v2),h.unknown=function(p){return arguments.length?(u=p,h):u},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),h}}function As(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function jB(){var t=ks(Wg()(jn));return t.copy=function(){return As(t,jB())},Sa.apply(t,arguments)}function EB(){var t=S2(Wg()).domain([1,10]);return t.copy=function(){return As(t,EB()).base(t.base())},Sa.apply(t,arguments)}function TB(){var t=C2(Wg());return t.copy=function(){return As(t,TB()).constant(t.constant())},Sa.apply(t,arguments)}function _2(){var t=O2(Wg());return t.copy=function(){return As(t,_2()).exponent(t.exponent())},Sa.apply(t,arguments)}function iie(){return _2.apply(null,arguments).exponent(.5)}function MB(){var t=[],e=jn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Wf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(fs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>$te(t,a/r))},n.copy=function(){return MB(e).domain(t)},Sa.apply(n,arguments)}function Fg(){var t=0,e=.5,n=1,r=1,i,a,l,o,u,h=jn,d,p=!1,g;function y(C){return isNaN(C=+C)?g:(C=.5+((C=+d(C))-a)*(r*C<r*a?o:u),h(p?Math.max(0,Math.min(1,C)):C))}y.domain=function(C){return arguments.length?([t,e,n]=C,i=d(t=+t),a=d(e=+e),l=d(n=+n),o=i===a?0:.5/(a-i),u=a===l?0:.5/(l-a),r=a<i?-1:1,y):[t,e,n]},y.clamp=function(C){return arguments.length?(p=!!C,y):p},y.interpolator=function(C){return arguments.length?(h=C,y):h};function w(C){return function(S){var k,j,N;return arguments.length?([k,j,N]=S,h=gne(C,[k,j,N]),y):[h(0),h(.5),h(1)]}}return y.range=w(cc),y.rangeRound=w(v2),y.unknown=function(C){return arguments.length?(g=C,y):g},function(C){return d=C,i=C(t),a=C(e),l=C(n),o=i===a?0:.5/(a-i),u=a===l?0:.5/(l-a),r=a<i?-1:1,y}}function DB(){var t=ks(Fg()(jn));return t.copy=function(){return As(t,DB())},Sa.apply(t,arguments)}function PB(){var t=S2(Fg()).domain([.1,1,10]);return t.copy=function(){return As(t,PB()).base(t.base())},Sa.apply(t,arguments)}function _B(){var t=C2(Fg());return t.copy=function(){return As(t,_B()).constant(t.constant())},Sa.apply(t,arguments)}function R2(){var t=O2(Fg());return t.copy=function(){return As(t,R2()).exponent(t.exponent())},Sa.apply(t,arguments)}function aie(){return R2.apply(null,arguments).exponent(.5)}const _u=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:p2,scaleDiverging:DB,scaleDivergingLog:PB,scaleDivergingPow:R2,scaleDivergingSqrt:aie,scaleDivergingSymlog:_B,scaleIdentity:hB,scaleImplicit:jw,scaleLinear:fB,scaleLog:mB,scaleOrdinal:m2,scalePoint:Fte,scalePow:k2,scaleQuantile:yB,scaleQuantize:vB,scaleRadial:gB,scaleSequential:jB,scaleSequentialLog:EB,scaleSequentialPow:_2,scaleSequentialQuantile:MB,scaleSequentialSqrt:iie,scaleSequentialSymlog:TB,scaleSqrt:Ine,scaleSymlog:pB,scaleThreshold:bB,scaleTime:nie,scaleUtc:rie,tickFormat:uB},Symbol.toStringTag,{value:"Module"}));var Ns=t=>t.chartData,sie=Z([Ns],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),L2=(t,e,n,r)=>r?sie(t):Ns(t);function ga(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Fe(e)&&Fe(n))return!0}return!1}function iP(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function RB(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Fe(n))i=n;else if(typeof n=="function")return;if(Fe(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(ga(l))return l}}function lie(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(ga(r))return iP(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,l,o;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Ce(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&mM.test(i)){var u=mM.exec(i);if(u==null||u[1]==null||e==null)l=void 0;else{var h=+u[1];l=e[0]-h}}else l=e?.[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(Ce(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e?.[1]))}catch{}else if(typeof a=="string"&&pM.test(a)){var d=pM.exec(a);if(d==null||d[1]==null||e==null)o=void 0;else{var p=+d[1];o=e[1]+p}}else o=e?.[1];var g=[l,o];if(ga(g))return e==null?g:iP(g,e,n)}}}var uc=1e9,oie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},z2,gt=!0,Ir="[DecimalError] ",dl=Ir+"Invalid argument: ",B2=Ir+"Exponent out of range: ",fc=Math.floor,Js=Math.pow,cie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fr,Gt=1e7,ht=7,LB=9007199254740991,Rp=fc(LB/ht),ve={};ve.absoluteValue=ve.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ve.comparedTo=ve.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ve.decimalPlaces=ve.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ht;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ve.dividedBy=ve.div=function(t){return sa(this,new this.constructor(t))};ve.dividedToIntegerBy=ve.idiv=function(t){var e=this,n=e.constructor;return lt(sa(e,new n(t),0,1),n.precision)};ve.equals=ve.eq=function(t){return!this.cmp(t)};ve.exponent=function(){return Lt(this)};ve.greaterThan=ve.gt=function(t){return this.cmp(t)>0};ve.greaterThanOrEqualTo=ve.gte=function(t){return this.cmp(t)>=0};ve.isInteger=ve.isint=function(){return this.e>this.d.length-2};ve.isNegative=ve.isneg=function(){return this.s<0};ve.isPositive=ve.ispos=function(){return this.s>0};ve.isZero=function(){return this.s===0};ve.lessThan=ve.lt=function(t){return this.cmp(t)<0};ve.lessThanOrEqualTo=ve.lte=function(t){return this.cmp(t)<1};ve.logarithm=ve.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(fr))throw Error(Ir+"NaN");if(n.s<1)throw Error(Ir+(n.s?"NaN":"-Infinity"));return n.eq(fr)?new r(0):(gt=!1,e=sa(kf(n,a),kf(t,a),a),gt=!0,lt(e,i))};ve.minus=ve.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?IB(e,t):BB(e,(t.s=-t.s,t))};ve.modulo=ve.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ir+"NaN");return n.s?(gt=!1,e=sa(n,t,0,1).times(t),gt=!0,n.minus(e)):lt(new r(n),i)};ve.naturalExponential=ve.exp=function(){return zB(this)};ve.naturalLogarithm=ve.ln=function(){return kf(this)};ve.negated=ve.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ve.plus=ve.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?BB(e,t):IB(e,(t.s=-t.s,t))};ve.precision=ve.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(dl+t);if(e=Lt(i)+1,r=i.d.length-1,n=r*ht+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ve.squareRoot=ve.sqrt=function(){var t,e,n,r,i,a,l,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(Ir+"NaN")}for(t=Lt(o),gt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Ci(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=fc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=l=n+3;;)if(a=r,r=a.plus(sa(o,a,l+2)).times(.5),Ci(a.d).slice(0,l)===(e=Ci(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(lt(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;l+=4}return gt=!0,lt(r,n)};ve.times=ve.mul=function(t){var e,n,r,i,a,l,o,u,h,d=this,p=d.constructor,g=d.d,y=(t=new p(t)).d;if(!d.s||!t.s)return new p(0);for(t.s*=d.s,n=d.e+t.e,u=g.length,h=y.length,u<h&&(a=g,g=y,y=a,l=u,u=h,h=l),a=[],l=u+h,r=l;r--;)a.push(0);for(r=h;--r>=0;){for(e=0,i=u+r;i>r;)o=a[i]+y[r]*g[i-r-1]+e,a[i--]=o%Gt|0,e=o/Gt|0;a[i]=(a[i]+e)%Gt|0}for(;!a[--l];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,gt?lt(t,p.precision):t};ve.toDecimalPlaces=ve.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ti(t,0,uc),e===void 0?e=r.rounding:Ti(e,0,8),lt(n,t+Lt(n)+1,e))};ve.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Cl(r,!0):(Ti(t,0,uc),e===void 0?e=i.rounding:Ti(e,0,8),r=lt(new i(r),t+1,e),n=Cl(r,!0,t+1)),n};ve.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Cl(i):(Ti(t,0,uc),e===void 0?e=a.rounding:Ti(e,0,8),r=lt(new a(i),t+Lt(i)+1,e),n=Cl(r.abs(),!1,t+Lt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ve.toInteger=ve.toint=function(){var t=this,e=t.constructor;return lt(new e(t),Lt(t)+1,e.rounding)};ve.toNumber=function(){return+this};ve.toPower=ve.pow=function(t){var e,n,r,i,a,l,o=this,u=o.constructor,h=12,d=+(t=new u(t));if(!t.s)return new u(fr);if(o=new u(o),!o.s){if(t.s<1)throw Error(Ir+"Infinity");return o}if(o.eq(fr))return o;if(r=u.precision,t.eq(fr))return lt(o,r);if(e=t.e,n=t.d.length-1,l=e>=n,a=o.s,l){if((n=d<0?-d:d)<=LB){for(i=new u(fr),e=Math.ceil(r/ht+4),gt=!1;n%2&&(i=i.times(o),sP(i.d,e)),n=fc(n/2),n!==0;)o=o.times(o),sP(o.d,e);return gt=!0,t.s<0?new u(fr).div(i):lt(i,r)}}else if(a<0)throw Error(Ir+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,gt=!1,i=t.times(kf(o,r+h)),gt=!0,i=zB(i),i.s=a,i};ve.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Lt(i),r=Cl(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ti(t,1,uc),e===void 0?e=a.rounding:Ti(e,0,8),i=lt(new a(i),t,e),n=Lt(i),r=Cl(i,t<=n||n<=a.toExpNeg,t)),r};ve.toSignificantDigits=ve.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ti(t,1,uc),e===void 0?e=r.rounding:Ti(e,0,8)),lt(new r(n),t,e)};ve.toString=ve.valueOf=ve.val=ve.toJSON=ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Lt(t),n=t.constructor;return Cl(t,e<=n.toExpNeg||e>=n.toExpPos)};function BB(t,e){var n,r,i,a,l,o,u,h,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),gt?lt(e,p):e;if(u=t.d,h=e.d,l=t.e,i=e.e,u=u.slice(),a=l-i,a){for(a<0?(r=u,a=-a,o=h.length):(r=h,i=l,o=u.length),l=Math.ceil(p/ht),o=l>o?l+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=u.length,a=h.length,o-a<0&&(a=o,r=h,h=u,u=r),n=0;a;)n=(u[--a]=u[a]+h[a]+n)/Gt|0,u[a]%=Gt;for(n&&(u.unshift(n),++i),o=u.length;u[--o]==0;)u.pop();return e.d=u,e.e=i,gt?lt(e,p):e}function Ti(t,e,n){if(t!==~~t||t<e||t>n)throw Error(dl+t)}function Ci(t){var e,n,r,i=t.length-1,a="",l=t[0];if(i>0){for(a+=l,e=1;e<i;e++)r=t[e]+"",n=ht-r.length,n&&(a+=es(n)),a+=r;l=t[e],r=l+"",n=ht-r.length,n&&(a+=es(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var sa=(function(){function t(r,i){var a,l=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+l,r[o]=a%Gt|0,l=a/Gt|0;return l&&r.unshift(l),r}function e(r,i,a,l){var o,u;if(a!=l)u=a>l?1:-1;else for(o=u=0;o<a;o++)if(r[o]!=i[o]){u=r[o]>i[o]?1:-1;break}return u}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*Gt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var o,u,h,d,p,g,y,w,C,S,k,j,N,M,D,T,E,I,_=r.constructor,z=r.s==i.s?1:-1,q=r.d,B=i.d;if(!r.s)return new _(r);if(!i.s)throw Error(Ir+"Division by zero");for(u=r.e-i.e,E=B.length,D=q.length,y=new _(z),w=y.d=[],h=0;B[h]==(q[h]||0);)++h;if(B[h]>(q[h]||0)&&--u,a==null?j=a=_.precision:l?j=a+(Lt(r)-Lt(i))+1:j=a,j<0)return new _(0);if(j=j/ht+2|0,h=0,E==1)for(d=0,B=B[0],j++;(h<D||d)&&j--;h++)N=d*Gt+(q[h]||0),w[h]=N/B|0,d=N%B|0;else{for(d=Gt/(B[0]+1)|0,d>1&&(B=t(B,d),q=t(q,d),E=B.length,D=q.length),M=E,C=q.slice(0,E),S=C.length;S<E;)C[S++]=0;I=B.slice(),I.unshift(0),T=B[0],B[1]>=Gt/2&&++T;do d=0,o=e(B,C,E,S),o<0?(k=C[0],E!=S&&(k=k*Gt+(C[1]||0)),d=k/T|0,d>1?(d>=Gt&&(d=Gt-1),p=t(B,d),g=p.length,S=C.length,o=e(p,C,g,S),o==1&&(d--,n(p,E<g?I:B,g))):(d==0&&(o=d=1),p=B.slice()),g=p.length,g<S&&p.unshift(0),n(C,p,S),o==-1&&(S=C.length,o=e(B,C,E,S),o<1&&(d++,n(C,E<S?I:B,S))),S=C.length):o===0&&(d++,C=[0]),w[h++]=d,o&&C[0]?C[S++]=q[M]||0:(C=[q[M]],S=1);while((M++<D||C[0]!==void 0)&&j--)}return w[0]||w.shift(),y.e=u,lt(y,l?a+Lt(y)+1:a)}})();function zB(t,e){var n,r,i,a,l,o,u=0,h=0,d=t.constructor,p=d.precision;if(Lt(t)>16)throw Error(B2+Lt(t));if(!t.s)return new d(fr);for(gt=!1,o=p,l=new d(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(Js(2,h))/Math.LN10*2+5|0,o+=r,n=i=a=new d(fr),d.precision=o;;){if(i=lt(i.times(t),o),n=n.times(++u),l=a.plus(sa(i,n,o)),Ci(l.d).slice(0,o)===Ci(a.d).slice(0,o)){for(;h--;)a=lt(a.times(a),o);return d.precision=p,e==null?(gt=!0,lt(a,p)):a}a=l}}function Lt(t){for(var e=t.e*ht,n=t.d[0];n>=10;n/=10)e++;return e}function kx(t,e,n){if(e>t.LN10.sd())throw gt=!0,n&&(t.precision=n),Error(Ir+"LN10 precision limit exceeded");return lt(new t(t.LN10),e)}function es(t){for(var e="";t--;)e+="0";return e}function kf(t,e){var n,r,i,a,l,o,u,h,d,p=1,g=10,y=t,w=y.d,C=y.constructor,S=C.precision;if(y.s<1)throw Error(Ir+(y.s?"NaN":"-Infinity"));if(y.eq(fr))return new C(0);if(e==null?(gt=!1,h=S):h=e,y.eq(10))return e==null&&(gt=!0),kx(C,h);if(h+=g,C.precision=h,n=Ci(w),r=n.charAt(0),a=Lt(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=Ci(y.d),r=n.charAt(0),p++;a=Lt(y),r>1?(y=new C("0."+n),a++):y=new C(r+"."+n.slice(1))}else return u=kx(C,h+2,S).times(a+""),y=kf(new C(r+"."+n.slice(1)),h-g).plus(u),C.precision=S,e==null?(gt=!0,lt(y,S)):y;for(o=l=y=sa(y.minus(fr),y.plus(fr),h),d=lt(y.times(y),h),i=3;;){if(l=lt(l.times(d),h),u=o.plus(sa(l,new C(i),h)),Ci(u.d).slice(0,h)===Ci(o.d).slice(0,h))return o=o.times(2),a!==0&&(o=o.plus(kx(C,h+2,S).times(a+""))),o=sa(o,new C(p),h),C.precision=S,e==null?(gt=!0,lt(o,S)):o;o=u,i+=2}}function aP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=fc(n/ht),t.d=[],r=(n+1)%ht,n<0&&(r+=ht),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ht;r<i;)t.d.push(+e.slice(r,r+=ht));e=e.slice(r),r=ht-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),gt&&(t.e>Rp||t.e<-Rp))throw Error(B2+n)}else t.s=0,t.e=0,t.d=[0];return t}function lt(t,e,n){var r,i,a,l,o,u,h,d,p=t.d;for(l=1,a=p[0];a>=10;a/=10)l++;if(r=e-l,r<0)r+=ht,i=e,h=p[d=0];else{if(d=Math.ceil((r+1)/ht),a=p.length,d>=a)return t;for(h=a=p[d],l=1;a>=10;a/=10)l++;r%=ht,i=r-ht+l}if(n!==void 0&&(a=Js(10,l-i-1),o=h/a%10|0,u=e<0||p[d+1]!==void 0||h%a,u=n<4?(o||u)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||u||n==6&&(r>0?i>0?h/Js(10,l-i):0:p[d-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return u?(a=Lt(t),p.length=1,e=e-a-1,p[0]=Js(10,(ht-e%ht)%ht),t.e=fc(-e/ht)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=d,a=1,d--):(p.length=d+1,a=Js(10,ht-r),p[d]=i>0?(h/Js(10,l-i)%Js(10,i)|0)*a:0),u)for(;;)if(d==0){(p[0]+=a)==Gt&&(p[0]=1,++t.e);break}else{if(p[d]+=a,p[d]!=Gt)break;p[d--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(gt&&(t.e>Rp||t.e<-Rp))throw Error(B2+Lt(t));return t}function IB(t,e){var n,r,i,a,l,o,u,h,d,p,g=t.constructor,y=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),gt?lt(e,y):e;if(u=t.d,p=e.d,r=e.e,h=t.e,u=u.slice(),l=h-r,l){for(d=l<0,d?(n=u,l=-l,o=p.length):(n=p,r=h,o=u.length),i=Math.max(Math.ceil(y/ht),o)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=u.length,o=p.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(u[i]!=p[i]){d=u[i]<p[i];break}l=0}for(d&&(n=u,u=p,p=n,e.s=-e.s),o=u.length,i=p.length-o;i>0;--i)u[o++]=0;for(i=p.length;i>l;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=Gt-1;--u[a],u[i]+=Gt}u[i]-=p[i]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,gt?lt(e,y):e):new g(0)}function Cl(t,e,n){var r,i=Lt(t),a=Ci(t.d),l=a.length;return e?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+es(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+es(-i-1)+a,n&&(r=n-l)>0&&(a+=es(r))):i>=l?(a+=es(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+es(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=es(r))),t.s<0?"-"+a:a}function sP(t,e){if(t.length>e)return t.length=e,!0}function UB(t){var e,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(dl+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return aP(l,a.toString())}else if(typeof a!="string")throw Error(dl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,cie.test(a))aP(l,a);else throw Error(dl+a)}if(i.prototype=ve,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=UB,i.config=i.set=uie,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function uie(t){if(!t||typeof t!="object")throw Error(Ir+"Object expected");var e,n,r,i=["precision",1,uc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(fc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(dl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(dl+n+": "+r);return this}var z2=UB(oie);fr=new z2(1);const Ze=z2;function HB(t){var e;return t===0?e=1:e=Math.floor(new Ze(t).abs().log(10).toNumber())+1,e}function qB(t,e,n){for(var r=new Ze(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var $B=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},VB=(t,e,n)=>{if(t.lte(0))return new Ze(0);var r=HB(t.toNumber()),i=new Ze(10).pow(r),a=t.div(i),l=r!==1?.05:.1,o=new Ze(Math.ceil(a.div(l).toNumber())).add(n).mul(l),u=o.mul(i);return e?new Ze(u.toNumber()):new Ze(Math.ceil(u.toNumber()))},fie=(t,e,n)=>{var r=new Ze(1),i=new Ze(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Ze(10).pow(HB(t)-1),i=new Ze(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ze(Math.floor(t)))}else t===0?i=new Ze(Math.floor((e-1)/2)):n||(i=new Ze(Math.floor(t)));for(var l=Math.floor((e-1)/2),o=[],u=0;u<e;u++)o.push(i.add(new Ze(u-l).mul(r)).toNumber());return o},WB=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ze(0),tickMin:new Ze(0),tickMax:new Ze(0)};var l=VB(new Ze(n).sub(e).div(r-1),i,a),o;e<=0&&n>=0?o=new Ze(0):(o=new Ze(e).add(n).div(2),o=o.sub(new Ze(o).mod(l)));var u=Math.ceil(o.sub(e).div(l).toNumber()),h=Math.ceil(new Ze(n).sub(o).div(l).toNumber()),d=u+h+1;return d>r?WB(e,n,r,i,a+1):(d<r&&(h=n>0?h+(r-d):h,u=n>0?u:u+(r-d)),{step:l,tickMin:o.sub(new Ze(u).mul(l)),tickMax:o.add(new Ze(h).mul(l))})},hie=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[o,u]=$B([n,r]);if(o===-1/0||u===1/0){var h=u===1/0?[o,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),u];return n>r?h.reverse():h}if(o===u)return fie(o,i,a);var{step:d,tickMin:p,tickMax:g}=WB(o,u,l,a,0),y=qB(p,g.add(new Ze(.1).mul(d)),d);return n>r?y.reverse():y},die=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,o]=$B([r,i]);if(l===-1/0||o===1/0)return[r,i];if(l===o)return[l];var u=Math.max(n,2),h=VB(new Ze(o).sub(l).div(u-1),a,0),d=[...qB(new Ze(l),new Ze(o),h),o];return a===!1&&(d=d.map(p=>Math.round(p))),r>i?d.reverse():d},mie=t=>t.rootProps.barCategoryGap,Kg=t=>t.rootProps.stackOffset,FB=t=>t.rootProps.reverseStackOrder,I2=t=>t.options.chartName,U2=t=>t.rootProps.syncId,KB=t=>t.rootProps.syncMethod,H2=t=>t.options.eventEmitter,En={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Gs={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},hi={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Gg=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function Yg(t,e,n){if(n!=="auto")return n;if(t!=null)return ba(t,e)?"category":"number"}function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){pie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pie(t,e,n){return(e=gie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gie(t){var e=yie(t,"string");return typeof e=="symbol"?e:e+""}function yie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oP={allowDataOverflow:Gs.allowDataOverflow,allowDecimals:Gs.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Gs.angleAxisId,includeHidden:!1,name:void 0,reversed:Gs.reversed,scale:Gs.scale,tick:Gs.tick,tickCount:void 0,ticks:void 0,type:Gs.type,unit:void 0},cP={allowDataOverflow:hi.allowDataOverflow,allowDecimals:hi.allowDecimals,allowDuplicatedCategory:hi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hi.radiusAxisId,includeHidden:hi.includeHidden,name:void 0,reversed:hi.reversed,scale:hi.scale,tick:hi.tick,tickCount:hi.tickCount,ticks:void 0,type:hi.type,unit:void 0},vie=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},q2=Z([vie,LL],(t,e)=>{var n;if(t!=null)return t;var r=(n=Yg(e,"angleAxis",oP.type))!==null&&n!==void 0?n:"category";return Lp(Lp({},oP),{},{type:r})}),bie=(t,e)=>t.polarAxis.radiusAxis[e],$2=Z([bie,LL],(t,e)=>{var n;if(t!=null)return t;var r=(n=Yg(e,"radiusAxis",cP.type))!==null&&n!==void 0?n:"category";return Lp(Lp({},cP),{},{type:r})}),Qg=t=>t.polarOptions,V2=Z([xa,wa,vn],yte),GB=Z([Qg,V2],(t,e)=>{if(t!=null)return Ss(t.innerRadius,e,0)}),YB=Z([Qg,V2],(t,e)=>{if(t!=null)return Ss(t.outerRadius,e,e*.8)}),xie=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},QB=Z([Qg],xie);Z([q2,QB],Gg);var XB=Z([V2,GB,YB],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});Z([$2,XB],Gg);var ZB=Z([bt,Qg,GB,YB,xa,wa],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:o,startAngle:u,endAngle:h}=e;return{cx:Ss(l,i,i/2),cy:Ss(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:h,clockWise:!1}}}),Jt=(t,e)=>e,Xg=(t,e,n)=>n;function JB(t){return t?.id}function e8(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,l=new Map;return t.forEach(o=>{var u,h=(u=o.data)!==null&&u!==void 0?u:r;if(!(h==null||h.length===0)){var d=JB(o);h.forEach((p,g)=>{var y=a==null||i?g:String(pn(p,a,null)),w=pn(p,o.dataKey,0),C;l.has(y)?C=l.get(y):C={},Object.assign(C,{[d]:w}),l.set(y,C)})}}),Array.from(l.values())}function W2(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Zg=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Jg(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function wie(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var en=t=>{var e=bt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},hc=t=>t.tooltip.settings.axisId;function Sie(t){if(t in _u)return _u[t]();var e="scale".concat(If(t));if(e in _u)return _u[e]()}function uP(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(a){function l(){return a.apply(this,arguments)}return l.toString=function(){return a.toString()},l})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var l=i[0],o=i[1];return l<=o?a>=l&&a<=o:a>=o&&a<=l},bandwidth:n?()=>n.call(t):void 0,ticks:e?a=>e.call(t,a):void 0,map:(a,l)=>{var o=t(a);if(o!=null){if(t.bandwidth&&l!==null&&l!==void 0&&l.position){var u=t.bandwidth();switch(l.position){case"middle":o+=u/2;break;case"end":o+=u;break}}return o}}}}function fP(t,e,n){if(typeof t=="function")return uP(t.copy().domain(e).range(n));if(t!=null){var r=Sie(t);if(r!=null)return r.domain(e).range(n),uP(r)}}var Cie=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!ga(e)){for(var n,r,i=0;i<e.length;i++){var a=e[i];Fe(a)&&((n===void 0||a<n)&&(n=a),(r===void 0||a>r)&&(r=a))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){Oie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oie(t,e,n){return(e=kie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kie(t){var e=Aie(t,"string");return typeof e=="symbol"?e:e+""}function Aie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dw=[0,"auto"],Ft={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},t8=(t,e)=>t.cartesianAxis.xAxis[e],Ca=(t,e)=>{var n=t8(t,e);return n??Ft},Kt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Dw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:qf},n8=(t,e)=>t.cartesianAxis.yAxis[e],Oa=(t,e)=>{var n=n8(t,e);return n??Kt},Nie={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},F2=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Nie},Pn=(t,e,n)=>{switch(e){case"xAxis":return Ca(t,n);case"yAxis":return Oa(t,n);case"zAxis":return F2(t,n);case"angleAxis":return q2(t,n);case"radiusAxis":return $2(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},jie=(t,e,n)=>{switch(e){case"xAxis":return Ca(t,n);case"yAxis":return Oa(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Yf=(t,e,n)=>{switch(e){case"xAxis":return Ca(t,n);case"yAxis":return Oa(t,n);case"angleAxis":return q2(t,n);case"radiusAxis":return $2(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},r8=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function i8(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var a8=t=>t.graphicalItems.cartesianItems,Eie=Z([Jt,Xg],i8),s8=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Qf=Z([a8,Pn,Eie],s8,{memoizeOptions:{resultEqualityCheck:Jg}}),l8=Z([Qf],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(W2)),o8=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Tie=Z([Qf],o8),c8=t=>t.map(e=>e.data).filter(Boolean).flat(1),Mie=Z([Qf],c8,{memoizeOptions:{resultEqualityCheck:Jg}}),u8=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},K2=Z([Mie,L2],u8),f8=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:pn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:pn(i,r)}))):t.map(r=>({value:r})),e0=Z([K2,Pn,Qf],f8);function h8(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function vm(t){if(ji(t)||t instanceof Date){var e=Number(t);if(Fe(e))return e}}function dP(t){if(Array.isArray(t)){var e=[vm(t[0]),vm(t[1])];return ga(e)?e:void 0}var n=vm(t);if(n!=null)return[n,n]}function ya(t){return t.map(vm).filter(Kn)}function Die(t,e,n){return!n||typeof e!="number"||fa(e)?[]:n.length?ya(n.flatMap(r=>{var i=pn(t,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!Fe(a)||!Fe(l)))return[e-a,e+l]})):[]}var $t=t=>{var e=en(t),n=hc(t);return Yf(t,e,n)},Xf=Z([$t],t=>t?.dataKey),Pie=Z([l8,L2,$t],e8),d8=(t,e,n,r)=>{var i={},a=e.reduce((l,o)=>{if(o.stackId==null)return l;var u=l[o.stackId];return u==null&&(u=[]),u.push(o),l[o.stackId]=u,l},i);return Object.fromEntries(Object.entries(a).map(l=>{var[o,u]=l,h=r?[...u].reverse():u,d=h.map(JB);return[o,{stackedData:YZ(t,d,n),graphicalItems:h}]}))},_ie=Z([Pie,l8,Kg,FB],d8),m8=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var l=ZZ(t,i,a);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Rie=Z([Pn],t=>t.allowDataOverflow),G2=t=>{var e;if(t==null||!("domain"in t))return Dw;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=ya(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Dw},p8=Z([Pn],G2),g8=Z([p8,Rie],RB),Lie=Z([_ie,Ns,Jt,g8],m8,{memoizeOptions:{resultEqualityCheck:Zg}}),Y2=t=>t.errorBars,Bie=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>h8(n,r)),zp=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),o=Math.max(...a);return[l,o]}},y8=(t,e,n,r,i)=>{var a,l;if(n.length>0&&t.forEach(o=>{n.forEach(u=>{var h,d,p=(h=r[u.id])===null||h===void 0?void 0:h.filter(k=>h8(i,k)),g=pn(o,(d=e.dataKey)!==null&&d!==void 0?d:u.dataKey),y=Die(o,g,p);if(y.length>=2){var w=Math.min(...y),C=Math.max(...y);(a==null||w<a)&&(a=w),(l==null||C>l)&&(l=C)}var S=dP(g);S!=null&&(a=a==null?S[0]:Math.min(a,S[0]),l=l==null?S[1]:Math.max(l,S[1]))})}),e?.dataKey!=null&&t.forEach(o=>{var u=dP(pn(o,e.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),l=l==null?u[1]:Math.max(l,u[1]))}),Fe(a)&&Fe(l))return[a,l]},zie=Z([K2,Pn,Tie,Y2,Jt],y8,{memoizeOptions:{resultEqualityCheck:Zg}});function Iie(t){var{value:e}=t;if(ji(e)||e instanceof Date)return e}var Uie=(t,e,n)=>{var r=t.map(Iie).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&MR(r))?tB(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},v8=t=>t.referenceElements.dots,dc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Hie=Z([v8,Jt,Xg],dc),b8=t=>t.referenceElements.areas,qie=Z([b8,Jt,Xg],dc),x8=t=>t.referenceElements.lines,$ie=Z([x8,Jt,Xg],dc),w8=(t,e)=>{if(t!=null){var n=ya(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Vie=Z(Hie,Jt,w8),S8=(t,e)=>{if(t!=null){var n=ya(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Wie=Z([qie,Jt],S8);function Fie(t){var e;if(t.x!=null)return ya([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:ya(n)}function Kie(t){var e;if(t.y!=null)return ya([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:ya(n)}var C8=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Fie(r):Kie(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Gie=Z([$ie,Jt],C8),Yie=Z(Vie,Gie,Wie,(t,e,n)=>zp(t,n,e)),O8=(t,e,n,r,i,a,l,o)=>{if(n!=null)return n;var u=l==="vertical"&&o==="xAxis"||l==="horizontal"&&o==="yAxis",h=u?zp(r,a,i):zp(a,i);return lie(e,h,t.allowDataOverflow)},Qie=Z([Pn,p8,g8,Lie,zie,Yie,bt,Jt],O8,{memoizeOptions:{resultEqualityCheck:Zg}}),Xie=[0,1],k8=(t,e,n,r,i,a,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:o,type:u}=t,h=ba(e,a);if(h&&o==null){var d;return tB(0,(d=n?.length)!==null&&d!==void 0?d:0)}return u==="category"?Uie(r,t,h):i==="expand"?Xie:l}},Q2=Z([Pn,bt,K2,e0,Kg,Jt,Qie],k8);function Zie(t){return t in _u}var A8=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var a="scale".concat(If(r));return Zie(a)?a:"point"}}},mc=Z([Pn,r8,I2],A8);function X2(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?fP(t.scale,n,r):fP(e,n,r)}var N8=(t,e,n)=>{var r=G2(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ga(t))return hie(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ga(t))return die(t,e.tickCount,e.allowDecimals)}},Z2=Z([Q2,Yf,mc],N8),j8=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&ga(e)&&Array.isArray(n)&&n.length>0){var i,a,l=e[0],o=(i=n[0])!==null&&i!==void 0?i:0,u=e[1],h=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(l,o),Math.max(u,h)]}return e},Jie=Z([Pn,Q2,Z2,Jt],j8),eae=Z(e0,Pn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(ya(t.map(p=>p.value))).sort((p,g)=>p-g),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var l=a-i;if(l===0)return 1/0;for(var o=0;o<r.length-1;o++){var u=r[o],h=r[o+1];if(!(u==null||h==null)){var d=h-u;n=Math.min(n,d)}}return n/l}}),E8=Z(eae,bt,mie,vn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Fe(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var l=Ss(n,t*a),o=t*a/2;return o-l-(o-l)/a*l}return 0}),tae=(t,e,n)=>{var r=Ca(t,e);return r==null||typeof r.padding!="string"?0:E8(t,"xAxis",e,n,r.padding)},nae=(t,e,n)=>{var r=Oa(t,e);return r==null||typeof r.padding!="string"?0:E8(t,"yAxis",e,n,r.padding)},rae=Z(Ca,tae,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),iae=Z(Oa,nae,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),aae=Z([vn,rae,Rg,_g,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),sae=Z([vn,bt,iae,Rg,_g,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Zf=(t,e,n,r)=>{var i;switch(e){case"xAxis":return aae(t,n,r);case"yAxis":return sae(t,n,r);case"zAxis":return(i=F2(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return QB(t);case"radiusAxis":return XB(t,n);default:return}},T8=Z([Pn,Zf],Gg),lae=Z([mc,Jie],Cie),t0=Z([Pn,mc,lae,T8],X2);Z([Qf,Y2,Jt],Bie);function M8(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var n0=(t,e)=>e,r0=(t,e,n)=>n,oae=Z(Dg,n0,r0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(M8)),cae=Z(Pg,n0,r0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(M8)),D8=(t,e)=>({width:t.width,height:e.height}),uae=(t,e)=>{var n=typeof e.width=="number"?e.width:qf;return{width:n,height:t.height}},fae=Z(vn,Ca,D8),hae=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},dae=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},mae=Z(wa,vn,oae,n0,r0,(t,e,n,r,i)=>{var a={},l;return n.forEach(o=>{var u=D8(e,o);l==null&&(l=hae(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;a[o.id]=l-Number(h)*u.height,l+=(h?-1:1)*u.height}),a}),pae=Z(xa,vn,cae,n0,r0,(t,e,n,r,i)=>{var a={},l;return n.forEach(o=>{var u=uae(e,o);l==null&&(l=dae(e,r,t));var h=r==="left"&&!i||r==="right"&&i;a[o.id]=l-Number(h)*u.width,l+=(h?-1:1)*u.width}),a}),gae=(t,e)=>{var n=Ca(t,e);if(n!=null)return mae(t,n.orientation,n.mirror)},yae=Z([vn,Ca,gae,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),vae=(t,e)=>{var n=Oa(t,e);if(n!=null)return pae(t,n.orientation,n.mirror)},bae=Z([vn,Oa,vae,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),xae=Z(vn,Oa,(t,e)=>{var n=typeof e.width=="number"?e.width:qf;return{width:n,height:t.height}}),P8=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,o=ba(t,r),u=e.map(h=>h.value);if(l&&o&&a==="category"&&i&&MR(u))return u}},J2=Z([bt,e0,Pn,Jt],P8),_8=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=ba(t,r);if(l&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},eC=Z([bt,e0,Yf,Jt],_8),mP=Z([bt,jie,mc,t0,J2,eC,Zf,Z2,Jt],(t,e,n,r,i,a,l,o,u)=>{if(e!=null){var h=ba(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:h,niceTicks:o,range:l,realScaleType:n,scale:r}}}),wae=(t,e,n,r,i,a,l,o,u)=>{if(!(e==null||r==null)){var h=ba(t,u),{type:d,ticks:p,tickCount:g}=e,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=d==="category"&&r.bandwidth?r.bandwidth()/y:0;w=u==="angleAxis"&&a!=null&&a.length>=2?_r(a[0]-a[1])*2*w:w;var C=p||i;return C?C.map((S,k)=>{var j=l?l.indexOf(S):S,N=r.map(j);return Fe(N)?{index:k,coordinate:N+w,value:S,offset:w}:null}).filter(Kn):h&&o?o.map((S,k)=>{var j=r.map(S);return Fe(j)?{coordinate:j+w,value:S,index:k,offset:w}:null}).filter(Kn):r.ticks?r.ticks(g).map((S,k)=>{var j=r.map(S);return Fe(j)?{coordinate:j+w,value:S,index:k,offset:w}:null}).filter(Kn):r.domain().map((S,k)=>{var j=r.map(S);return Fe(j)?{coordinate:j+w,value:l?l[S]:S,index:k,offset:w}:null}).filter(Kn)}},R8=Z([bt,Yf,mc,t0,Z2,Zf,J2,eC,Jt],wae),Sae=(t,e,n,r,i,a,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=ba(t,l),{tickCount:u}=e,h=0;return h=l==="angleAxis"&&r?.length>=2?_r(r[0]-r[1])*2*h:h,o&&a?a.map((d,p)=>{var g=n.map(d);return Fe(g)?{coordinate:g+h,value:d,index:p,offset:h}:null}).filter(Kn):n.ticks?n.ticks(u).map((d,p)=>{var g=n.map(d);return Fe(g)?{coordinate:g+h,value:d,index:p,offset:h}:null}).filter(Kn):n.domain().map((d,p)=>{var g=n.map(d);return Fe(g)?{coordinate:g+h,value:i?i[d]:d,index:p,offset:h}:null}).filter(Kn)}},L8=Z([bt,Yf,t0,Zf,J2,eC,Jt],Sae),B8=Z(Pn,t0,(t,e)=>{if(!(t==null||e==null))return Bp(Bp({},t),{},{scale:e})}),Cae=Z([Pn,mc,Q2,T8],X2);Z((t,e,n)=>F2(t,n),Cae,(t,e)=>{if(!(t==null||e==null))return Bp(Bp({},t),{},{scale:e})});var Oae=Z([bt,Dg,Pg],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),z8=t=>t.options.defaultTooltipEventType,I8=t=>t.options.validateTooltipEventTypes;function U8(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function tC(t,e){var n=z8(t),r=I8(t);return U8(e,n,r)}function kae(t){return Ae(e=>tC(e,t))}var H8=(t,e)=>{var n,r=Number(e);if(!(fa(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Aae=t=>t.tooltip.settings,rs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Nae={itemInteraction:{click:rs,hover:rs},axisInteraction:{click:rs,hover:rs},keyboardInteraction:rs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},q8=Qn({name:"tooltip",initialState:Nae,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:mt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Zr(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:mt()},removeTooltipEntrySettings:{reducer(t,e){var n=Zr(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:mt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:jae,replaceTooltipEntrySettings:Eae,removeTooltipEntrySettings:Tae,setTooltipSettingsState:Mae,setActiveMouseOverItemIndex:Dae,mouseLeaveItem:sme,mouseLeaveChart:$8,setActiveClickItemIndex:lme,setMouseOverAxisIndex:V8,setMouseClickAxisIndex:Pae,setSyncInteraction:Pw,setKeyboardInteraction:_w}=q8.actions,_ae=q8.reducer;function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(r){Rae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rae(t,e,n){return(e=Lae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lae(t){var e=Bae(t,"string");return typeof e=="symbol"?e:e+""}function Bae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zae(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Iae(t){return t.index!=null}var W8=(t,e,n,r)=>{if(e==null)return rs;var i=zae(t,e,n);if(i==null)return rs;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Iae(i)){if(a)return rm(rm({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return rm(rm({},rs),{},{coordinate:i.coordinate})};function Uae(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Hae(t,e){var n=Uae(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),l=Math.max(r,i);return n>=a&&n<=l}function qae(t,e,n){if(n==null||e==null)return!0;var r=pn(t,e);return r==null||!ga(n)?!0:Hae(r,n)}var nC=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var a=Number(i);if(!Fe(a))return i;var l=0,o=1/0;e.length>0&&(o=e.length-1);var u=Math.max(l,Math.min(a,o)),h=e[u];return h==null||qae(h,n,r)?String(u):null},F8=(t,e,n,r,i,a,l)=>{if(a!=null){var o=l[0],u=o?.getPosition(a);if(u!=null)return u;var h=i?.[Number(a)];if(h)return n==="horizontal"?{x:h.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:h.coordinate}}},K8=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(l=>{var o;return((o=l.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},G8=t=>t.options.tooltipPayloadSearcher,pc=t=>t.tooltip;function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){$ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ae(t,e,n){return(e=Vae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vae(t){var e=Wae(t,"string");return typeof e=="symbol"?e:e+""}function Wae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fae(t,e){return t??e}var Y8=(t,e,n,r,i,a,l)=>{if(!(e==null||a==null)){var{chartData:o,computedData:u,dataStartIndex:h,dataEndIndex:d}=n,p=[];return t.reduce((g,y)=>{var w,{dataDefinedOnItem:C,settings:S}=y,k=Fae(C,o),j=Array.isArray(k)?kL(k,h,d):k,N=(w=S?.dataKey)!==null&&w!==void 0?w:r,M=S?.nameKey,D;if(r&&Array.isArray(j)&&!Array.isArray(j[0])&&l==="axis"?D=DR(j,r,i):D=a(j,e,u,M),Array.isArray(D))D.forEach(E=>{var I=yP(yP({},S),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});g.push(gM({tooltipEntrySettings:I,dataKey:E.dataKey,payload:E.payload,value:pn(E.payload,E.dataKey),name:E.name}))});else{var T;g.push(gM({tooltipEntrySettings:S,dataKey:N,payload:D,value:pn(D,N),name:(T=pn(D,M))!==null&&T!==void 0?T:S?.name}))}return g},p)}},rC=Z([$t,r8,I2],A8),Kae=Z([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Gae=Z([en,hc],i8),gc=Z([Kae,$t,Gae],s8,{memoizeOptions:{resultEqualityCheck:Jg}}),Yae=Z([gc],t=>t.filter(W2)),Qae=Z([gc],c8,{memoizeOptions:{resultEqualityCheck:Jg}}),yc=Z([Qae,Ns],u8),Xae=Z([Yae,Ns,$t],e8),iC=Z([yc,$t,gc],f8),Q8=Z([$t],G2),Zae=Z([$t],t=>t.allowDataOverflow),X8=Z([Q8,Zae],RB),Jae=Z([gc],t=>t.filter(W2)),ese=Z([Xae,Jae,Kg,FB],d8),tse=Z([ese,Ns,en,X8],m8),nse=Z([gc],o8),rse=Z([yc,$t,nse,Y2,en],y8,{memoizeOptions:{resultEqualityCheck:Zg}}),ise=Z([v8,en,hc],dc),ase=Z([ise,en],w8),sse=Z([b8,en,hc],dc),lse=Z([sse,en],S8),ose=Z([x8,en,hc],dc),cse=Z([ose,en],C8),use=Z([ase,cse,lse],zp),fse=Z([$t,Q8,X8,tse,rse,use,bt,en],O8),Jf=Z([$t,bt,yc,iC,Kg,en,fse],k8),hse=Z([Jf,$t,rC],N8),dse=Z([$t,Jf,hse,en],j8),Z8=t=>{var e=en(t),n=hc(t),r=!1;return Zf(t,e,n,r)},J8=Z([$t,Z8],Gg),ez=Z([$t,rC,dse,J8],X2),mse=Z([bt,iC,$t,en],P8),pse=Z([bt,iC,$t,en],_8),gse=(t,e,n,r,i,a,l,o)=>{if(e){var{type:u}=e,h=ba(t,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/d:0;return p=o==="angleAxis"&&i!=null&&i?.length>=2?_r(i[0]-i[1])*2*p:p,h&&l?l.map((g,y)=>{var w=r.map(g);return Fe(w)?{coordinate:w+p,value:g,index:y,offset:p}:null}).filter(Kn):r.domain().map((g,y)=>{var w=r.map(g);return Fe(w)?{coordinate:w+p,value:a?a[g]:g,index:y,offset:p}:null}).filter(Kn)}}},ka=Z([bt,$t,rC,ez,Z8,mse,pse,en],gse),aC=Z([z8,I8,Aae],(t,e,n)=>U8(n.shared,t,e)),tz=t=>t.tooltip.settings.trigger,sC=t=>t.tooltip.settings.defaultIndex,eh=Z([pc,aC,tz,sC],W8),Af=Z([eh,yc,Xf,Jf],nC),nz=Z([ka,Af],H8),yse=Z([eh],t=>{if(t)return t.dataKey});Z([eh],t=>{if(t)return t.graphicalItemId});var rz=Z([pc,aC,tz,sC],K8),vse=Z([xa,wa,bt,vn,ka,sC,rz],F8),bse=Z([eh,vse],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),xse=Z([eh],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),wse=Z([rz,Af,Ns,Xf,nz,G8,aC],Y8),Sse=Z([wse],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function vP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vP(Object(n),!0).forEach(function(r){Cse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cse(t,e,n){return(e=Ose(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ose(t){var e=kse(t,"string");return typeof e=="symbol"?e:e+""}function kse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ase=()=>Ae($t),Nse=()=>{var t=Ase(),e=Ae(ka),n=Ae(ez);return pp(!t||!n?void 0:bP(bP({},t),{},{scale:n}),e)};function xP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function go(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(n),!0).forEach(function(r){jse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jse(t,e,n){return(e=Ese(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ese(t){var e=Tse(t,"string");return typeof e=="symbol"?e:e+""}function Tse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mse=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Dse=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:l}=r;return go(go(go({},r),dn(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var o=i.coordinate,{angle:u}=r;return go(go(go({},r),dn(r.cx,r.cy,o,u)),{},{angle:u,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Pse(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var iz=(t,e,n,r,i)=>{var a,l=(a=e?.length)!==null&&a!==void 0?a:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<l;o++){var u,h,d,p,g,y=o>0?(u=n[o-1])===null||u===void 0?void 0:u.coordinate:(h=n[l-1])===null||h===void 0?void 0:h.coordinate,w=(d=n[o])===null||d===void 0?void 0:d.coordinate,C=o>=l-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(g=n[o+1])===null||g===void 0?void 0:g.coordinate,S=void 0;if(!(y==null||w==null||C==null))if(_r(w-y)!==_r(C-w)){var k=[];if(_r(C-w)===_r(i[1]-i[0])){S=C;var j=w+i[1]-i[0];k[0]=Math.min(j,(j+y)/2),k[1]=Math.max(j,(j+y)/2)}else{S=y;var N=C+i[1]-i[0];k[0]=Math.min(w,(N+w)/2),k[1]=Math.max(w,(N+w)/2)}var M=[Math.min(w,(S+w)/2),Math.max(w,(S+w)/2)];if(t>M[0]&&t<=M[1]||t>=k[0]&&t<=k[1]){var D;return(D=n[o])===null||D===void 0?void 0:D.index}}else{var T=Math.min(y,C),E=Math.max(y,C);if(t>(T+w)/2&&t<=(E+w)/2){var I;return(I=n[o])===null||I===void 0?void 0:I.index}}}else if(e)for(var _=0;_<l;_++){var z=e[_];if(z!=null){var q=e[_+1],B=e[_-1];if(_===0&&q!=null&&t<=(z.coordinate+q.coordinate)/2||_===l-1&&B!=null&&t>(z.coordinate+B.coordinate)/2||_>0&&_<l-1&&B!=null&&q!=null&&t>(z.coordinate+B.coordinate)/2&&t<=(z.coordinate+q.coordinate)/2)return z.index}}return-1},_se=()=>Ae(I2),lC=(t,e)=>e,az=(t,e,n)=>n,oC=(t,e,n,r)=>r,Rse=Z(ka,t=>Sg(t,e=>e.coordinate)),cC=Z([pc,lC,az,oC],W8),uC=Z([cC,yc,Xf,Jf],nC),Lse=(t,e,n)=>{if(e!=null){var r=pc(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},sz=Z([pc,lC,az,oC],K8),Ip=Z([xa,wa,bt,vn,ka,oC,sz],F8),Bse=Z([cC,Ip],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),lz=Z([ka,uC],H8),zse=Z([sz,uC,Ns,Xf,lz,G8,lC],Y8),Ise=Z([cC,uC],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Use=(t,e,n,r,i,a,l)=>{if(!(!t||!n||!r||!i)&&Pse(t,l)){var o=JZ(t,e),u=iz(o,a,i,n,r),h=Mse(e,i,u,t);return{activeIndex:String(u),activeCoordinate:h}}},Hse=(t,e,n,r,i,a,l)=>{if(!(!t||!r||!i||!a||!n)){var o=Ste(t,n);if(o){var u=eJ(o,e),h=iz(u,l,a,r,i),d=Dse(e,a,h,o);return{activeIndex:String(h),activeCoordinate:d}}}},qse=(t,e,n,r,i,a,l,o)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?Use(t,e,r,i,a,l,o):Hse(t,e,n,r,i,a,l)},$se=Z(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Vse=Z(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(En)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:wie}});function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(n),!0).forEach(function(r){Wse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wse(t,e,n){return(e=Fse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fse(t){var e=Kse(t,"string");return typeof e=="symbol"?e:e+""}function Kse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gse={},Yse={zIndexMap:Object.values(En).reduce((t,e)=>SP(SP({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Gse)},Qse=new Set(Object.values(En));function Xse(t){return Qse.has(t)}var oz=Qn({name:"zIndex",initialState:Yse,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:mt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Xse(n)&&delete t.zIndexMap[n])},prepare:mt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:mt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:mt()}}}),{registerZIndexPortal:Zse,unregisterZIndexPortal:Jse,registerZIndexPortalElement:ele,unregisterZIndexPortalElement:tle}=oz.actions,nle=oz.reducer;function Aa(t){var{zIndex:e,children:n}=t,r=PJ(),i=r&&e!==void 0&&e!==0,a=Xn(),l=Bt();O.useLayoutEffect(()=>i?(l(Zse({zIndex:e})),()=>{l(Jse({zIndex:e}))}):lc,[l,e,i]);var o=Ae(u=>$se(u,e,a));return i?o?Yw.createPortal(n,o):null:n}function Rw(){return Rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rw.apply(null,arguments)}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function im(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){rle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rle(t,e,n){return(e=ile(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ile(t){var e=ale(t,"string");return typeof e=="symbol"?e:e+""}function ale(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sle(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return O.isValidElement(e)?O.cloneElement(e,r):O.createElement(n,r)}function lle(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:l,layout:o,cursor:u,tooltipEventType:h,chartName:d}=t,p=n,g=r,y=i;if(!u||!p||d!=="ScatterChart"&&h!=="axis")return null;var w,C,S;if(d==="ScatterChart")w=p,C=Ree,S=En.cursorLine;else if(d==="BarChart")w=Lee(o,p,a,l),C=XL,S=En.cursorRectangle;else if(o==="radial"&&_R(p)){var{cx:k,cy:j,radius:N,startAngle:M,endAngle:D}=ZL(p);w={cx:k,cy:j,startAngle:M,endAngle:D,innerRadius:N,outerRadius:N},C=eB,S=En.cursorLine}else w={points:Ate(o,p,a)},C=FL,S=En.cursorLine;var T=typeof u=="object"&&"className"in u?u.className:void 0,E=im(im(im(im({stroke:"#ccc",pointerEvents:"none"},a),w),yg(u)),{},{payload:g,payloadIndex:y,className:rt("recharts-tooltip-cursor",T)});return O.createElement(Aa,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},O.createElement(sle,{cursor:u,cursorComp:C,cursorProps:E}))}function ole(t){var e=Nse(),n=_L(),r=oc(),i=_se();return e==null||n==null||r==null||i==null?null:O.createElement(lle,Rw({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var cz=O.createContext(null),cle=()=>O.useContext(cz),Ax={exports:{}},OP;function ule(){return OP||(OP=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,h,d){this.fn=u,this.context=h,this.once=d||!1}function a(u,h,d,p,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new i(d,p||u,g),w=n?n+h:h;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],y]:u._events[w].push(y):(u._events[w]=y,u._eventsCount++),u}function l(u,h){--u._eventsCount===0?u._events=new r:delete u._events[h]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var h=[],d,p;if(this._eventsCount===0)return h;for(p in d=this._events)e.call(d,p)&&h.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(d)):h},o.prototype.listeners=function(h){var d=n?n+h:h,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,y=p.length,w=new Array(y);g<y;g++)w[g]=p[g].fn;return w},o.prototype.listenerCount=function(h){var d=n?n+h:h,p=this._events[d];return p?p.fn?1:p.length:0},o.prototype.emit=function(h,d,p,g,y,w){var C=n?n+h:h;if(!this._events[C])return!1;var S=this._events[C],k=arguments.length,j,N;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),k){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,d),!0;case 3:return S.fn.call(S.context,d,p),!0;case 4:return S.fn.call(S.context,d,p,g),!0;case 5:return S.fn.call(S.context,d,p,g,y),!0;case 6:return S.fn.call(S.context,d,p,g,y,w),!0}for(N=1,j=new Array(k-1);N<k;N++)j[N-1]=arguments[N];S.fn.apply(S.context,j)}else{var M=S.length,D;for(N=0;N<M;N++)switch(S[N].once&&this.removeListener(h,S[N].fn,void 0,!0),k){case 1:S[N].fn.call(S[N].context);break;case 2:S[N].fn.call(S[N].context,d);break;case 3:S[N].fn.call(S[N].context,d,p);break;case 4:S[N].fn.call(S[N].context,d,p,g);break;default:if(!j)for(D=1,j=new Array(k-1);D<k;D++)j[D-1]=arguments[D];S[N].fn.apply(S[N].context,j)}}return!0},o.prototype.on=function(h,d,p){return a(this,h,d,p,!1)},o.prototype.once=function(h,d,p){return a(this,h,d,p,!0)},o.prototype.removeListener=function(h,d,p,g){var y=n?n+h:h;if(!this._events[y])return this;if(!d)return l(this,y),this;var w=this._events[y];if(w.fn)w.fn===d&&(!g||w.once)&&(!p||w.context===p)&&l(this,y);else{for(var C=0,S=[],k=w.length;C<k;C++)(w[C].fn!==d||g&&!w[C].once||p&&w[C].context!==p)&&S.push(w[C]);S.length?this._events[y]=S.length===1?S[0]:S:l(this,y)}return this},o.prototype.removeAllListeners=function(h){var d;return h?(d=n?n+h:h,this._events[d]&&l(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(Ax)),Ax.exports}var fle=ule();const hle=Mi(fle);var Nf=new hle,Lw="recharts.syncEvent.tooltip",kP="recharts.syncEvent.brush",dle=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!fa(n))return t[n]}},mle={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},uz=Qn({name:"options",initialState:mle,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ple=uz.reducer,{createEventEmitter:gle}=uz.actions;function yle(t){return t.tooltip.syncInteraction}var vle={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},fz=Qn({name:"chartData",initialState:vle,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:AP,setDataStartEndIndexes:ble,setComputedData:ome}=fz.actions,xle=fz.reducer,wle=["x","y"];function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){Sle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sle(t,e,n){return(e=Cle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cle(t){var e=Ole(t,"string");return typeof e=="symbol"?e:e+""}function Ole(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kle(t,e){if(t==null)return{};var n,r,i=Ale(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ale(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Nle(){var t=Ae(U2),e=Ae(H2),n=Bt(),r=Ae(KB),i=Ae(ka),a=oc(),l=Lg(),o=Ae(u=>u.rootProps.className);O.useEffect(()=>{if(t==null)return lc;var u=(h,d,p)=>{if(e!==p&&t===h){if(r==="index"){var g;if(l&&d!==null&&d!==void 0&&(g=d.payload)!==null&&g!==void 0&&g.coordinate&&d.payload.sourceViewBox){var y=d.payload.coordinate,{x:w,y:C}=y,S=kle(y,wle),{x:k,y:j,width:N,height:M}=d.payload.sourceViewBox,D=yo(yo({},S),{},{x:l.x+(N?(w-k)/N:0)*l.width,y:l.y+(M?(C-j)/M:0)*l.height});n(yo(yo({},d),{},{payload:yo(yo({},d.payload),{},{coordinate:D})}))}else n(d);return}if(i!=null){var T;if(typeof r=="function"){var E={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},I=r(i,E);T=i[I]}else r==="value"&&(T=i.find(H=>String(H.value)===d.payload.label));var{coordinate:_}=d.payload;if(T==null||d.payload.active===!1||_==null||l==null){n(Pw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:z,y:q}=_,B=Math.min(z,l.x+l.width),re=Math.min(q,l.y+l.height),se={x:a==="horizontal"?T.coordinate:B,y:a==="horizontal"?re:T.coordinate},ee=Pw({active:d.payload.active,coordinate:se,dataKey:d.payload.dataKey,index:String(T.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(ee)}}};return Nf.on(Lw,u),()=>{Nf.off(Lw,u)}},[o,n,e,t,r,i,a,l])}function jle(){var t=Ae(U2),e=Ae(H2),n=Bt();O.useEffect(()=>{if(t==null)return lc;var r=(i,a,l)=>{e!==l&&t===i&&n(ble(a))};return Nf.on(kP,r),()=>{Nf.off(kP,r)}},[n,e,t])}function Ele(){var t=Bt();O.useEffect(()=>{t(gle())},[t]),Nle(),jle()}function Tle(t,e,n,r,i,a){var l=Ae(y=>Lse(y,t,e)),o=Ae(H2),u=Ae(U2),h=Ae(KB),d=Ae(yle),p=d?.active,g=Lg();O.useEffect(()=>{if(!p&&u!=null&&o!=null){var y=Pw({active:a,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});Nf.emit(Lw,u,y,o)}},[p,n,l,i,r,o,u,h,a,g])}function jP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(n),!0).forEach(function(r){Mle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mle(t,e,n){return(e=Dle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dle(t){var e=Ple(t,"string");return typeof e=="symbol"?e:e+""}function Ple(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _le(t){return t.dataKey}function Rle(t,e){return O.isValidElement(t)?O.cloneElement(t,e):typeof t=="function"?O.createElement(t,e):O.createElement(mee,e)}var TP=[],Lle={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Bw(t){var e,n,r=On(t,Lle),{active:i,allowEscapeViewBox:a,animationDuration:l,animationEasing:o,content:u,filterNull:h,isAnimationActive:d,offset:p,payloadUniqBy:g,position:y,reverseDirection:w,useTranslate3d:C,wrapperStyle:S,cursor:k,shared:j,trigger:N,defaultIndex:M,portal:D,axisId:T}=r,E=Bt(),I=typeof M=="number"?String(M):M;O.useEffect(()=>{E(Mae({shared:j,trigger:N,axisId:T,active:i,defaultIndex:I}))},[E,j,N,T,i,I]);var _=Lg(),z=WL(),q=kae(j),{activeIndex:B,isActive:re}=(e=Ae(be=>Ise(be,q,N,I)))!==null&&e!==void 0?e:{},se=Ae(be=>zse(be,q,N,I)),ee=Ae(be=>lz(be,q,N,I)),H=Ae(be=>Bse(be,q,N,I)),Y=se,le=cle(),oe=(n=i??re)!==null&&n!==void 0?n:!1,[he,R]=YR([Y,oe]),K=q==="axis"?ee:void 0;Tle(q,N,H,K,B,oe);var ce=D??le;if(ce==null||_==null||q==null)return null;var Q=Y??TP;oe||(Q=TP),h&&Q.length&&(Q=VR(Q.filter(be=>be.value!=null&&(be.hide!==!0||r.includeHidden)),g,_le));var de=Q.length>0,fe=O.createElement(wee,{allowEscapeViewBox:a,animationDuration:l,animationEasing:o,isAnimationActive:d,active:oe,coordinate:H,hasPayload:de,offset:p,position:y,reverseDirection:w,useTranslate3d:C,viewBox:_,wrapperStyle:S,lastBoundingBox:he,innerRef:R,hasPortalFromProps:!!D},Rle(u,EP(EP({},r),{},{payload:Q,label:K,active:oe,activeIndex:B,coordinate:H,accessibilityLayer:z})));return O.createElement(O.Fragment,null,Yw.createPortal(fe,ce),oe&&O.createElement(ole,{cursor:k,tooltipEventType:q,coordinate:H,payload:Q,index:B}))}function Ble(t,e,n){return(e=zle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zle(t){var e=Ile(t,"string");return typeof e=="symbol"?e:e+""}function Ile(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ule{constructor(e){Ble(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hle(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){qle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qle(t,e,n){return(e=$le(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $le(t){var e=Vle(t,"string");return typeof e=="symbol"?e:e+""}function Vle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wle={cacheSize:2e3,enableCache:!0},hz=Hle({},Wle),DP=new Ule(hz.cacheSize),Fle={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},PP="recharts_measurement_span";function Kle(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",l=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(o)}var _P=(t,e)=>{try{var n=document.getElementById(PP);n||(n=document.createElement("span"),n.setAttribute("id",PP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Fle,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Wu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ug.isSsr)return{width:0,height:0};if(!hz.enableCache)return _P(e,n);var r=Kle(e,n),i=DP.get(r);if(i)return i;var a=_P(e,n);return DP.set(r,a),a},dz;function Gle(t,e,n){return(e=Yle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yle(t){var e=Qle(t,"string");return typeof e=="symbol"?e:e+""}function Qle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Zle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Jle={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},eoe=["cm","mm","pt","pc","in","Q","px"];function toe(t){return eoe.includes(t)}var jo="NaN";function noe(t,e){return t*Jle[e]}class fn{static parse(e){var n,[,r,i]=(n=Zle.exec(e))!==null&&n!==void 0?n:[];return r==null?fn.NaN:new fn(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,fa(e)&&(this.unit=""),n!==""&&!Xle.test(n)&&(this.num=NaN,this.unit=""),toe(n)&&(this.num=noe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new fn(NaN,""):new fn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new fn(NaN,""):new fn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new fn(NaN,""):new fn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new fn(NaN,""):new fn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return fa(this.num)}}dz=fn;Gle(fn,"NaN",new dz(NaN,""));function mz(t){if(t==null||t.includes(jo))return jo;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=RP.exec(e))!==null&&n!==void 0?n:[],l=fn.parse(r??""),o=fn.parse(a??""),u=i==="*"?l.multiply(o):l.divide(o);if(u.isNaN())return jo;e=e.replace(RP,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,d,p,g]=(h=LP.exec(e))!==null&&h!==void 0?h:[],y=fn.parse(d??""),w=fn.parse(g??""),C=p==="+"?y.add(w):y.subtract(w);if(C.isNaN())return jo;e=e.replace(LP,C.toString())}return e}var BP=/\(([^()]*)\)/;function roe(t){for(var e=t,n;(n=BP.exec(e))!=null;){var[,r]=n;e=e.replace(BP,mz(r))}return e}function ioe(t){var e=t.replace(/\s+/g,"");return e=roe(e),e=mz(e),e}function aoe(t){try{return ioe(t)}catch{return jo}}function Nx(t){var e=aoe(t.slice(5,-1));return e===jo?"":e}var soe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],loe=["dx","dy","angle","className","breakAll"];function zw(){return zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zw.apply(null,arguments)}function zP(t,e){if(t==null)return{};var n,r,i=ooe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ooe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pz=/[ \f\n\r\t\v\u2028\u2029]+/,gz=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];gn(e)||(n?i=e.toString().split(""):i=e.toString().split(pz));var a=i.map(o=>({word:o,width:Wu(o,r).width})),l=n?0:Wu("",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}};function coe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var yz=(t,e,n,r)=>t.reduce((i,a)=>{var{word:l,width:o}=a,u=i[i.length-1];if(u&&o!=null&&(e==null||r||u.width+o+n<Number(e)))u.words.push(l),u.width+=o+n;else{var h={words:[l],width:o};i.push(h)}return i},[]),vz=t=>t.reduce((e,n)=>e.width>n.width?e:n),uoe="",IP=(t,e,n,r,i,a,l,o)=>{var u=t.slice(0,e),h=gz({breakAll:n,style:r,children:u+uoe});if(!h)return[!1,[]];var d=yz(h.wordsWithComputedWidth,a,l,o),p=d.length>i||vz(d).width>Number(a);return[p,d]},foe=(t,e,n,r,i)=>{var{maxLines:a,children:l,style:o,breakAll:u}=t,h=Ce(a),d=String(l),p=yz(e,r,n,i);if(!h||i)return p;var g=p.length>a||vz(p).width>Number(r);if(!g)return p;for(var y=0,w=d.length-1,C=0,S;y<=w&&C<=d.length-1;){var k=Math.floor((y+w)/2),j=k-1,[N,M]=IP(d,j,u,o,a,r,n,i),[D]=IP(d,k,u,o,a,r,n,i);if(!N&&!D&&(y=k+1),N&&D&&(w=k-1),!N&&D){S=M;break}C++}return S||p},UP=t=>{var e=gn(t)?[]:t.toString().split(pz);return[{words:e,width:void 0}]},hoe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=t;if((e||n)&&!Ug.isSsr){var o,u,h=gz({breakAll:a,children:r,style:i});if(h){var{wordsWithComputedWidth:d,spaceWidth:p}=h;o=d,u=p}else return UP(r);return foe({breakAll:a,children:r,maxLines:l,style:i},o,u,e,!!n)}return UP(r)},bz="#808080",doe={angle:0,breakAll:!1,capHeight:"0.71em",fill:bz,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},fC=O.forwardRef((t,e)=>{var n=On(t,doe),{x:r,y:i,lineHeight:a,capHeight:l,fill:o,scaleToFit:u,textAnchor:h,verticalAnchor:d}=n,p=zP(n,soe),g=O.useMemo(()=>hoe({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:y,dy:w,angle:C,className:S,breakAll:k}=p,j=zP(p,loe);if(!ji(r)||!ji(i)||g.length===0)return null;var N=Number(r)+(Ce(y)?y:0),M=Number(i)+(Ce(w)?w:0);if(!Fe(N)||!Fe(M))return null;var D;switch(d){case"start":D=Nx("calc(".concat(l,")"));break;case"middle":D=Nx("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:D=Nx("calc(".concat(g.length-1," * -").concat(a,")"));break}var T=[],E=g[0];if(u&&E!=null){var I=E.width,{width:_}=p;T.push("scale(".concat(Ce(_)&&Ce(I)?_/I:1,")"))}return C&&T.push("rotate(".concat(C,", ").concat(N,", ").concat(M,")")),T.length&&(j.transform=T.join(" ")),O.createElement("text",zw({},Mn(j),{ref:e,x:N,y:M,className:rt("recharts-text",S),textAnchor:h,fill:o.includes("url")?bz:o}),g.map((z,q)=>{var B=z.words.join(k?"":" ");return O.createElement("tspan",{x:N,dy:q===0?D:a,key:"".concat(B,"-").concat(q)},B)}))});fC.displayName="Text";function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){moe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function moe(t,e,n){return(e=poe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function poe(t){var e=goe(t,"string");return typeof e=="symbol"?e:e+""}function goe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yoe=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:a,y:l,height:o,upperWidth:u,lowerWidth:h}=s2(e),d=a,p=a+(u-h)/2,g=(d+p)/2,y=(u+h)/2,w=d+u/2,C=o>=0?1:-1,S=C*r,k=C>0?"end":"start",j=C>0?"start":"end",N=u>=0?1:-1,M=N*r,D=N>0?"end":"start",T=N>0?"start":"end",E=i;if(n==="top"){var I={x:d+u/2,y:l-S,horizontalAnchor:"middle",verticalAnchor:k};return E&&(I.height=Math.max(l-E.y,0),I.width=u),I}if(n==="bottom"){var _={x:p+h/2,y:l+o+S,horizontalAnchor:"middle",verticalAnchor:j};return E&&(_.height=Math.max(E.y+E.height-(l+o),0),_.width=h),_}if(n==="left"){var z={x:g-M,y:l+o/2,horizontalAnchor:D,verticalAnchor:"middle"};return E&&(z.width=Math.max(z.x-E.x,0),z.height=o),z}if(n==="right"){var q={x:g+y+M,y:l+o/2,horizontalAnchor:T,verticalAnchor:"middle"};return E&&(q.width=Math.max(E.x+E.width-q.x,0),q.height=o),q}var B=E?{width:y,height:o}:{};return n==="insideLeft"?di({x:g+M,y:l+o/2,horizontalAnchor:T,verticalAnchor:"middle"},B):n==="insideRight"?di({x:g+y-M,y:l+o/2,horizontalAnchor:D,verticalAnchor:"middle"},B):n==="insideTop"?di({x:d+u/2,y:l+S,horizontalAnchor:"middle",verticalAnchor:j},B):n==="insideBottom"?di({x:p+h/2,y:l+o-S,horizontalAnchor:"middle",verticalAnchor:k},B):n==="insideTopLeft"?di({x:d+M,y:l+S,horizontalAnchor:T,verticalAnchor:j},B):n==="insideTopRight"?di({x:d+u-M,y:l+S,horizontalAnchor:D,verticalAnchor:j},B):n==="insideBottomLeft"?di({x:p+M,y:l+o-S,horizontalAnchor:T,verticalAnchor:k},B):n==="insideBottomRight"?di({x:p+h-M,y:l+o-S,horizontalAnchor:D,verticalAnchor:k},B):n&&typeof n=="object"&&(Ce(n.x)||bl(n.x))&&(Ce(n.y)||bl(n.y))?di({x:a+Ss(n.x,y),y:l+Ss(n.y,o),horizontalAnchor:"end",verticalAnchor:"end"},B):di({x:w,y:l+o/2,horizontalAnchor:"middle",verticalAnchor:"middle"},B)},voe=["labelRef"],boe=["content"];function qP(t,e){if(t==null)return{};var n,r,i=xoe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ru(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){woe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function woe(t,e,n){return(e=Soe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Soe(t){var e=Coe(t,"string");return typeof e=="symbol"?e:e+""}function Coe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ra(){return ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ra.apply(null,arguments)}var xz=O.createContext(null),Ooe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:l,children:o}=t,u=O.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:l}),[e,n,r,i,a,l]);return O.createElement(xz.Provider,{value:u},o)},wz=()=>{var t=O.useContext(xz),e=Lg();return t||(e?s2(e):void 0)},koe=O.createContext(null),Aoe=()=>{var t=O.useContext(koe),e=Ae(ZB);return t||e},Noe=t=>{var{value:e,formatter:n}=t,r=gn(t.children)?e:t.children;return typeof n=="function"?n(r):r},hC=t=>t!=null&&typeof t=="function",joe=(t,e)=>{var n=_r(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Eoe=(t,e,n,r,i)=>{var{offset:a,className:l}=t,{cx:o,cy:u,innerRadius:h,outerRadius:d,startAngle:p,endAngle:g,clockWise:y}=i,w=(h+d)/2,C=joe(p,g),S=C>=0?1:-1,k,j;switch(e){case"insideStart":k=p+S*a,j=y;break;case"insideEnd":k=g-S*a,j=!y;break;case"end":k=g+S*a,j=y;break;default:throw new Error("Unsupported position ".concat(e))}j=C<=0?j:!j;var N=dn(o,u,w,k),M=dn(o,u,w,k+(j?1:-1)*359),D="M".concat(N.x,",").concat(N.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(j?0:1,`,
    `).concat(M.x,",").concat(M.y),T=gn(t.id)?df("recharts-radial-line-"):t.id;return O.createElement("text",ra({},r,{dominantBaseline:"central",className:rt("recharts-radial-bar-label",l)}),O.createElement("defs",null,O.createElement("path",{id:T,d:D})),O.createElement("textPath",{xlinkHref:"#".concat(T)},n))},Toe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:o,endAngle:u}=t,h=(o+u)/2;if(n==="outside"){var{x:d,y:p}=dn(r,i,l+e,h);return{x:d,y:p,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(a+l)/2,{x:y,y:w}=dn(r,i,g,h);return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},bm=t=>t!=null&&"cx"in t&&Ce(t.cx),Moe={angle:0,offset:5,zIndex:En.label,position:"middle",textBreakAll:!1};function Doe(t){if(!bm(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function ts(t){var e=On(t,Moe),{viewBox:n,parentViewBox:r,position:i,value:a,children:l,content:o,className:u="",textBreakAll:h,labelRef:d}=e,p=Aoe(),g=wz(),y=i==="center"?g:p??g,w,C,S;n==null?w=y:bm(n)?w=n:w=s2(n);var k=Doe(w);if(!w||gn(a)&&gn(l)&&!O.isValidElement(o)&&typeof o!="function")return null;var j=Ru(Ru({},e),{},{viewBox:w});if(O.isValidElement(o)){var{labelRef:N}=j,M=qP(j,voe);return O.cloneElement(o,M)}if(typeof o=="function"){var{content:D}=j,T=qP(j,boe);if(C=O.createElement(o,T),O.isValidElement(C))return C}else C=Noe(e);var E=Mn(e);if(bm(w)){if(i==="insideStart"||i==="insideEnd"||i==="end")return Eoe(e,i,C,E,w);S=Toe(w,e.offset,e.position)}else{if(!k)return null;var I=yoe({viewBox:k,position:i,offset:e.offset,parentViewBox:bm(r)?void 0:r});S=Ru(Ru({x:I.x,y:I.y,textAnchor:I.horizontalAnchor,verticalAnchor:I.verticalAnchor},I.width!==void 0?{width:I.width}:{}),I.height!==void 0?{height:I.height}:{})}return O.createElement(Aa,{zIndex:e.zIndex},O.createElement(fC,ra({ref:d,className:rt("recharts-label",u)},E,S,{textAnchor:coe(E.textAnchor)?E.textAnchor:S.textAnchor,breakAll:h}),C))}ts.displayName="Label";var Poe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?O.createElement(ts,ra({key:"label-implicit"},r)):ji(t)?O.createElement(ts,ra({key:"label-implicit",value:t},r)):O.isValidElement(t)?t.type===ts?O.cloneElement(t,Ru({key:"label-implicit"},r)):O.createElement(ts,ra({key:"label-implicit",content:t},r)):hC(t)?O.createElement(ts,ra({key:"label-implicit",content:t},r)):t&&typeof t=="object"?O.createElement(ts,ra({},t,{key:"label-implicit"},r)):null};function _oe(t){var{label:e,labelRef:n}=t,r=wz();return Poe(e,r,n)||null}var jx={},Ex={},VP;function Roe(){return VP||(VP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Ex)),Ex}var Tx={},WP;function Loe(){return WP||(WP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Tx)),Tx}var FP;function Boe(){return FP||(FP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Roe(),n=Loe(),r=QS();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(jx)),jx}var Mx,KP;function zoe(){return KP||(KP=1,Mx=Boe().last),Mx}var Ioe=zoe();const Uoe=Mi(Ioe);var Hoe=["valueAccessor"],qoe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Up(){return Up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Up.apply(null,arguments)}function GP(t,e){if(t==null)return{};var n,r,i=$oe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $oe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Voe=t=>Array.isArray(t.value)?Uoe(t.value):t.value,Sz=O.createContext(void 0),Woe=Sz.Provider,Cz=O.createContext(void 0);Cz.Provider;function Foe(){return O.useContext(Sz)}function Koe(){return O.useContext(Cz)}function xm(t){var{valueAccessor:e=Voe}=t,n=GP(t,Hoe),{dataKey:r,clockWise:i,id:a,textBreakAll:l,zIndex:o}=n,u=GP(n,qoe),h=Foe(),d=Koe(),p=h||d;return!p||!p.length?null:O.createElement(Aa,{zIndex:o??En.label},O.createElement(ws,{className:"recharts-label-list"},p.map((g,y)=>{var w,C=gn(r)?e(g,y):pn(g.payload,r),S=gn(a)?{}:{id:"".concat(a,"-").concat(y)};return O.createElement(ts,Up({key:"label-".concat(y)},Mn(g),u,S,{fill:(w=n.fill)!==null&&w!==void 0?w:g.fill,parentViewBox:g.parentViewBox,value:C,textBreakAll:l,viewBox:g.viewBox,index:y,zIndex:0}))})))}xm.displayName="LabelList";function Goe(t){var{label:e}=t;return e?e===!0?O.createElement(xm,{key:"labelList-implicit"}):O.isValidElement(e)||hC(e)?O.createElement(xm,{key:"labelList-implicit",content:e}):typeof e=="object"?O.createElement(xm,Up({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iw.apply(null,arguments)}var Oz=t=>{var{cx:e,cy:n,r,className:i}=t,a=rt("recharts-dot",i);return Ce(e)&&Ce(n)&&Ce(r)?O.createElement("circle",Iw({},Ni(t),YS(t),{className:a,cx:e,cy:n,r})):null},Yoe={radiusAxis:{},angleAxis:{}},kz=Qn({name:"polarAxis",initialState:Yoe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:cme,removeRadiusAxis:ume,addAngleAxis:fme,removeAngleAxis:hme}=kz.actions,Qoe=kz.reducer;function Xoe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Az=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Dx={},YP;function Zoe(){return YP||(YP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(Dx)),Dx}var Px,QP;function Joe(){return QP||(QP=1,Px=Zoe().isPlainObject),Px}var ece=Joe();const tce=Mi(ece);var XP,ZP,JP,e3,t3;function n3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n3(Object(n),!0).forEach(function(r){nce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nce(t,e,n){return(e=rce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rce(t){var e=ice(t,"string");return typeof e=="symbol"?e:e+""}function ice(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hp(){return Hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hp.apply(null,arguments)}function Au(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var i3=(t,e,n,r,i)=>{var a=n-r,l;return l=Ot(XP||(XP=Au(["M ",",",""])),t,e),l+=Ot(ZP||(ZP=Au(["L ",",",""])),t+n,e),l+=Ot(JP||(JP=Au(["L ",",",""])),t+n-a/2,e+i),l+=Ot(e3||(e3=Au(["L ",",",""])),t+n-a/2-r,e+i),l+=Ot(t3||(t3=Au(["L ",","," Z"])),t,e),l},ace={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sce=t=>{var e=On(t,ace),{x:n,y:r,upperWidth:i,lowerWidth:a,height:l,className:o}=e,{animationEasing:u,animationDuration:h,animationBegin:d,isUpdateAnimationActive:p}=e,g=O.useRef(null),[y,w]=O.useState(-1),C=O.useRef(i),S=O.useRef(a),k=O.useRef(l),j=O.useRef(n),N=O.useRef(r),M=h2(t,"trapezoid-");if(O.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var se=g.current.getTotalLength();se&&w(se)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var D=rt("recharts-trapezoid",o);if(!p)return O.createElement("g",null,O.createElement("path",Hp({},Mn(e),{className:D,d:i3(n,r,i,a,l)})));var T=C.current,E=S.current,I=k.current,_=j.current,z=N.current,q="0px ".concat(y===-1?1:y,"px"),B="".concat(y,"px 0px"),re=KL(["strokeDasharray"],h,u);return O.createElement(f2,{animationId:M,key:M,canBegin:y>0,duration:h,easing:u,isActive:p,begin:d},se=>{var ee=Vn(T,i,se),H=Vn(E,a,se),Y=Vn(I,l,se),le=Vn(_,n,se),oe=Vn(z,r,se);g.current&&(C.current=ee,S.current=H,k.current=Y,j.current=le,N.current=oe);var he=se>0?{transition:re,strokeDasharray:B}:{strokeDasharray:q};return O.createElement("path",Hp({},Mn(e),{className:D,d:i3(le,oe,ee,H,Y),ref:g,style:r3(r3({},he),e.style)}))})},lce=["option","shapeType","activeClassName"];function oce(t,e){if(t==null)return{};var n,r,i=cce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function a3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a3(Object(n),!0).forEach(function(r){uce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uce(t,e,n){return(e=fce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fce(t){var e=hce(t,"string");return typeof e=="symbol"?e:e+""}function hce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dce(t,e){return qp(qp({},e),t)}function mce(t,e){return t==="symbols"}function s3(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return O.createElement(XL,n);case"trapezoid":return O.createElement(sce,n);case"sector":return O.createElement(eB,n);case"symbols":if(mce(e))return O.createElement(GS,n);break;case"curve":return O.createElement(FL,n);default:return null}}function pce(t){return O.isValidElement(t)?t.props:t}function gce(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=oce(t,lce),a;if(O.isValidElement(e))a=O.cloneElement(e,qp(qp({},i),pce(e)));else if(typeof e=="function")a=e(i,i.index);else if(tce(e)&&typeof e!="boolean"){var l=dce(e,i);a=O.createElement(s3,{shapeType:n,elementProps:l})}else{var o=i;a=O.createElement(s3,{shapeType:n,elementProps:o})}return i.isActive?O.createElement(ws,{className:r},a):a}function yce(t){var{tooltipEntrySettings:e}=t,n=Bt(),r=Xn(),i=O.useRef(null);return O.useLayoutEffect(()=>{r||(i.current===null?n(jae(e)):i.current!==e&&n(Eae({prev:i.current,next:e})),i.current=e)},[e,n,r]),O.useLayoutEffect(()=>()=>{i.current&&(n(Tae(i.current)),i.current=null)},[n]),null}function vce(t){var{legendPayload:e}=t,n=Bt(),r=Xn(),i=O.useRef(null);return O.useLayoutEffect(()=>{r||(i.current===null?n(KJ(e)):i.current!==e&&n(GJ({prev:i.current,next:e})),i.current=e)},[n,r,e]),O.useLayoutEffect(()=>()=>{i.current&&(n(YJ(i.current)),i.current=null)},[n]),null}var _x,bce=()=>{var[t]=O.useState(()=>df("uid-"));return t},xce=(_x=H3.useId)!==null&&_x!==void 0?_x:bce;function wce(t,e){var n=xce();return e||(t?"".concat(t,"-").concat(n):n)}var Sce=O.createContext(void 0),Cce=t=>{var{id:e,type:n,children:r}=t,i=wce("recharts-".concat(n),e);return O.createElement(Sce.Provider,{value:i},r(i))},Oce={cartesianItems:[],polarItems:[]},Nz=Qn({name:"graphicalItems",initialState:Oce,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:mt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Zr(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:mt()},removeCartesianGraphicalItem:{reducer(t,e){var n=Zr(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:mt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:mt()},removePolarGraphicalItem:{reducer(t,e){var n=Zr(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:mt()}}}),{addCartesianGraphicalItem:kce,replaceCartesianGraphicalItem:Ace,removeCartesianGraphicalItem:Nce,addPolarGraphicalItem:dme,removePolarGraphicalItem:mme}=Nz.actions,jce=Nz.reducer,Ece=t=>{var e=Bt(),n=O.useRef(null);return O.useLayoutEffect(()=>{n.current===null?e(kce(t)):n.current!==t&&e(Ace({prev:n.current,next:t})),n.current=t},[e,t]),O.useLayoutEffect(()=>()=>{n.current&&(e(Nce(n.current)),n.current=null)},[e]),null},Tce=O.memo(Ece),Mce=["points"];function l3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l3(Object(n),!0).forEach(function(r){Dce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dce(t,e,n){return(e=Pce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pce(t){var e=_ce(t,"string");return typeof e=="symbol"?e:e+""}function _ce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $p(){return $p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$p.apply(null,arguments)}function Rce(t,e){if(t==null)return{};var n,r,i=Lce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Bce(t){var{option:e,dotProps:n,className:r}=t;if(O.isValidElement(e))return O.cloneElement(e,n);if(typeof e=="function")return e(n);var i=rt(r,typeof e!="boolean"?e.className:""),a=n??{},{points:l}=a,o=Rce(a,Mce);return O.createElement(Oz,$p({},o,{className:i}))}function zce(t,e){return t==null?!1:e?!0:t.length===1}function Ice(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:l,needClip:o,clipPathId:u,zIndex:h=En.scatter}=t;if(!zce(e,n))return null;var d=Az(n),p=MY(n),g=e.map((w,C)=>{var S,k,j=Rx(Rx(Rx({r:3},l),p),{},{index:C,cx:(S=w.x)!==null&&S!==void 0?S:void 0,cy:(k=w.y)!==null&&k!==void 0?k:void 0,dataKey:a,value:w.value,payload:w.payload,points:e});return O.createElement(Bce,{key:"dot-".concat(C),option:n,dotProps:j,className:i})}),y={};return o&&u!=null&&(y.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(u,")")),O.createElement(Aa,{zIndex:h},O.createElement(ws,$p({className:r},y),g))}function o3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o3(Object(n),!0).forEach(function(r){Uce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uce(t,e,n){return(e=Hce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hce(t){var e=qce(t,"string");return typeof e=="symbol"?e:e+""}function qce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $ce={xAxis:{},yAxis:{},zAxis:{}},jz=Qn({name:"cartesianAxis",initialState:$ce,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:mt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:mt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:mt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:mt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:mt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:mt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:mt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:mt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:mt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a,l=i.widthHistory||[];if(l.length===3&&l[0]===l[2]&&r===l[1]&&r!==i.width&&Math.abs(r-((a=l[0])!==null&&a!==void 0?a:0))<=1)return;var o=[...l,r].slice(-3);t.yAxis[n]=c3(c3({},i),{},{width:r,widthHistory:o})}}}}),{addXAxis:Vce,replaceXAxis:Wce,removeXAxis:Fce,addYAxis:Kce,replaceYAxis:Gce,removeYAxis:Yce,addZAxis:pme,replaceZAxis:gme,removeZAxis:yme,updateYAxisWidth:Qce}=jz.actions,Xce=jz.reducer,Zce=Z([vn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Jce=Z([Zce,xa,wa],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),dC=()=>Ae(Jce),eue=()=>Ae(Sse);function u3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u3(Object(n),!0).forEach(function(r){tue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tue(t,e,n){return(e=nue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nue(t){var e=rue(t,"string");return typeof e=="symbol"?e:e+""}function rue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iue=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:l}=t;if(i===!1||e.x==null||e.y==null)return null;var o={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=Lx(Lx(Lx({},o),yg(i)),YS(i)),h;return O.isValidElement(i)?h=O.cloneElement(i,u):typeof i=="function"?h=i(u):h=O.createElement(Oz,u),O.createElement(ws,{className:"recharts-active-dot",clipPath:l},h)};function aue(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:l=En.activeDot}=t,o=Ae(Af),u=eue();if(e==null||u==null)return null;var h=e.find(d=>u.includes(d.payload));return gn(h)?null:O.createElement(Aa,{zIndex:l},O.createElement(iue,{point:h,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var sue=t=>{var{chartData:e}=t,n=Bt(),r=Xn();return O.useEffect(()=>r?()=>{}:(n(AP(e)),()=>{n(AP(void 0))}),[e,n,r]),null},f3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Ez=Qn({name:"brush",initialState:f3,reducers:{setBrushSettings(t,e){return e.payload==null?f3:e.payload}}}),{setBrushSettings:vme}=Ez.actions,lue=Ez.reducer;function oue(t){return(t%180+180)%180}var cue=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=oue(i),l=a*Math.PI/180,o=Math.atan(r/n),u=l>o&&l<Math.PI-o?r/Math.sin(l):n/Math.cos(l);return Math.abs(u)},uue={dots:[],areas:[],lines:[]},Tz=Qn({name:"referenceElements",initialState:uue,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Zr(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Zr(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Zr(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:bme,removeDot:xme,addArea:wme,removeArea:Sme,addLine:Cme,removeLine:Ome}=Tz.actions,fue=Tz.reducer,hue=O.createContext(void 0),due=t=>{var{children:e}=t,[n]=O.useState("".concat(df("recharts"),"-clip")),r=dC();if(r==null)return null;var{x:i,y:a,width:l,height:o}=r;return O.createElement(hue.Provider,{value:n},O.createElement("defs",null,O.createElement("clipPath",{id:n},O.createElement("rect",{x:i,y:a,height:o,width:l}))),e)};function Mz(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function mue(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return cue(r,n)}function pue(t,e,n){var r=n==="width",{x:i,y:a,width:l,height:o}=t;return e===1?{start:r?i:a,end:r?i+l:a+o}:{start:r?i+l:a+o,end:r?i:a}}function jf(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function gue(t,e){return Mz(t,e+1)}function yue(t,e,n,r,i){for(var a=(r||[]).slice(),{start:l,end:o}=e,u=0,h=1,d=l,p=function(){var w=r?.[u];if(w===void 0)return{v:Mz(r,h)};var C=u,S,k=()=>(S===void 0&&(S=n(w,C)),S),j=w.coordinate,N=u===0||jf(t,j,k,d,o);N||(u=0,d=l,h+=1),N&&(d=j+t*(k()/2+i),u+=h)},g;h<=a.length;)if(g=p(),g)return g.v;return[]}function vue(t,e,n,r,i){var a=(r||[]).slice(),l=a.length;if(l===0)return[];for(var{start:o,end:u}=e,h=1;h<=l;h++){for(var d=(l-1)%h,p=o,g=!0,y=function(){var M=r[C];if(M==null)return 0;var D=C,T,E=()=>(T===void 0&&(T=n(M,D)),T),I=M.coordinate,_=C===d||jf(t,I,E,p,u);if(!_)return g=!1,1;_&&(p=I+t*(E()/2+i))},w,C=d;C<l&&(w=y(),!(w!==0&&w===1));C+=h);if(g){for(var S=[],k=d;k<l;k+=h){var j=r[k];j!=null&&S.push(j)}return S}}return[]}function h3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h3(Object(n),!0).forEach(function(r){bue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bue(t,e,n){return(e=xue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xue(t){var e=wue(t,"string");return typeof e=="symbol"?e:e+""}function wue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sue(t,e,n,r,i){for(var a=(r||[]).slice(),l=a.length,{start:o}=e,{end:u}=e,h=function(g){var y=a[g];if(y==null)return 1;var w=y,C,S=()=>(C===void 0&&(C=n(y,g)),C);if(g===l-1){var k=t*(w.coordinate+t*S()/2-u);a[g]=w=xn(xn({},w),{},{tickCoord:k>0?w.coordinate-k*t:w.coordinate})}else a[g]=w=xn(xn({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var j=jf(t,w.tickCoord,S,o,u);j&&(u=w.tickCoord-t*(S()/2+i),a[g]=xn(xn({},w),{},{isShow:!0}))}},d=l-1;d>=0;d--)h(d);return a}function Cue(t,e,n,r,i,a){var l=(r||[]).slice(),o=l.length,{start:u,end:h}=e;if(a){var d=r[o-1];if(d!=null){var p=n(d,o-1),g=t*(d.coordinate+t*p/2-h);if(l[o-1]=d=xn(xn({},d),{},{tickCoord:g>0?d.coordinate-g*t:d.coordinate}),d.tickCoord!=null){var y=jf(t,d.tickCoord,()=>p,u,h);y&&(h=d.tickCoord-t*(p/2+i),l[o-1]=xn(xn({},d),{},{isShow:!0}))}}}for(var w=a?o-1:o,C=function(j){var N=l[j];if(N==null)return 1;var M=N,D,T=()=>(D===void 0&&(D=n(N,j)),D);if(j===0){var E=t*(M.coordinate-t*T()/2-u);l[j]=M=xn(xn({},M),{},{tickCoord:E<0?M.coordinate-E*t:M.coordinate})}else l[j]=M=xn(xn({},M),{},{tickCoord:M.coordinate});if(M.tickCoord!=null){var I=jf(t,M.tickCoord,T,u,h);I&&(u=M.tickCoord+t*(T()/2+i),l[j]=xn(xn({},M),{},{isShow:!0}))}},S=0;S<w;S++)C(S);return l}function mC(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:l,orientation:o,interval:u,tickFormatter:h,unit:d,angle:p}=t;if(!i||!i.length||!r)return[];if(Ce(u)||Ug.isSsr){var g;return(g=gue(i,Ce(u)?u:0))!==null&&g!==void 0?g:[]}var y=[],w=o==="top"||o==="bottom"?"width":"height",C=d&&w==="width"?Wu(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(D,T)=>{var E=typeof h=="function"?h(D.value,T):D.value;return w==="width"?mue(Wu(E,{fontSize:e,letterSpacing:n}),C,p):Wu(E,{fontSize:e,letterSpacing:n})[w]},k=i[0],j=i[1],N=i.length>=2&&k!=null&&j!=null?_r(j.coordinate-k.coordinate):1,M=pue(a,N,w);return u==="equidistantPreserveStart"?yue(N,M,S,i,l):u==="equidistantPreserveEnd"?vue(N,M,S,i,l):(u==="preserveStart"||u==="preserveStartEnd"?y=Cue(N,M,S,i,l,u==="preserveStartEnd"):y=Sue(N,M,S,i,l),y.filter(D=>D.isShow))}var Oue=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,l=0;if(e){Array.from(e).forEach(d=>{if(d){var p=d.getBoundingClientRect();p.width>l&&(l=p.width)}});var o=n?n.getBoundingClientRect().width:0,u=i+a,h=l+u+o+(n?r:0);return Math.round(h)}return 0},kue=["axisLine","width","height","className","hide","ticks","axisType"];function Aue(t,e){if(t==null)return{};var n,r,i=Nue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ol(){return Ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ol.apply(null,arguments)}function d3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d3(Object(n),!0).forEach(function(r){jue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jue(t,e,n){return(e=Eue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eue(t){var e=Tue(t,"string");return typeof e=="symbol"?e:e+""}function Tue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var la={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:En.axis};function Mue(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:l,axisLine:o,otherSvgProps:u}=t;if(!o)return null;var h=Ct(Ct(Ct({},u),Ni(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!l||a==="bottom"&&l);h=Ct(Ct({},h),{},{x1:e,y1:n+d*i,x2:e+r,y2:n+d*i})}else{var p=+(a==="left"&&!l||a==="right"&&l);h=Ct(Ct({},h),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return O.createElement("line",Ol({},h,{className:rt("recharts-cartesian-axis-line",wg(o,"className"))}))}function Due(t,e,n,r,i,a,l,o,u){var h,d,p,g,y,w,C=o?-1:1,S=t.tickSize||l,k=Ce(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":h=d=t.coordinate,g=n+ +!o*i,p=g-C*S,w=p-C*u,y=k;break;case"left":p=g=t.coordinate,d=e+ +!o*r,h=d-C*S,y=h-C*u,w=k;break;case"right":p=g=t.coordinate,d=e+ +o*r,h=d+C*S,y=h+C*u,w=k;break;default:h=d=t.coordinate,g=n+ +o*i,p=g+C*S,w=p+C*u,y=k;break}return{line:{x1:h,y1:p,x2:d,y2:g},tick:{x:y,y:w}}}function Pue(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function _ue(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Rue(t){var{option:e,tickProps:n,value:r}=t,i,a=rt(n.className,"recharts-cartesian-axis-tick-value");if(O.isValidElement(e))i=O.cloneElement(e,Ct(Ct({},n),{},{className:a}));else if(typeof e=="function")i=e(Ct(Ct({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=rt(l,Xoe(e))),i=O.createElement(fC,Ol({},n,{className:l}),r)}return i}var Lue=O.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:l,unit:o,padding:u,tickTextProps:h,orientation:d,mirror:p,x:g,y,width:w,height:C,tickSize:S,tickMargin:k,fontSize:j,letterSpacing:N,getTicksConfig:M,events:D,axisType:T}=t,E=mC(Ct(Ct({},M),{},{ticks:n}),j,N),I=Pue(d,p),_=_ue(d,p),z=Ni(M),q=yg(r),B={};typeof i=="object"&&(B=i);var re=Ct(Ct({},z),{},{fill:"none"},B),se=E.map(Y=>Ct({entry:Y},Due(Y,g,y,w,C,d,S,p,k))),ee=se.map(Y=>{var{entry:le,line:oe}=Y;return O.createElement(ws,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(le.value,"-").concat(le.coordinate,"-").concat(le.tickCoord)},i&&O.createElement("line",Ol({},re,oe,{className:rt("recharts-cartesian-axis-tick-line",wg(i,"className"))})))}),H=se.map((Y,le)=>{var oe,he,{entry:R,tick:K}=Y,ce=Ct(Ct(Ct(Ct({verticalAnchor:_},z),{},{textAnchor:I,stroke:"none",fill:a},K),{},{index:le,payload:R,visibleTicksCount:E.length,tickFormatter:l,padding:u},h),{},{angle:(oe=(he=h?.angle)!==null&&he!==void 0?he:z.angle)!==null&&oe!==void 0?oe:0}),Q=Ct(Ct({},ce),q);return O.createElement(ws,Ol({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},RR(D,R,le)),r&&O.createElement(Rue,{option:r,tickProps:Q,value:"".concat(typeof l=="function"?l(R.value,le):R.value).concat(o||"")}))});return O.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(T,"-ticks")},H.length>0&&O.createElement(Aa,{zIndex:En.label},O.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(T,"-tick-labels"),ref:e},H)),ee.length>0&&O.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(T,"-tick-lines")},ee))}),Bue=O.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:l,ticks:o,axisType:u}=t,h=Aue(t,kue),[d,p]=O.useState(""),[g,y]=O.useState(""),w=O.useRef(null);O.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return Oue({ticks:w.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var C=O.useCallback(S=>{if(S){var k=S.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=k;var j=k[0];if(j){var N=window.getComputedStyle(j),M=N.fontSize,D=N.letterSpacing;(M!==d||D!==g)&&(p(M),y(D))}}},[d,g]);return l||r!=null&&r<=0||i!=null&&i<=0?null:O.createElement(Aa,{zIndex:t.zIndex},O.createElement(ws,{className:rt("recharts-cartesian-axis",a)},O.createElement(Mue,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Ni(t)}),O.createElement(Lue,{ref:C,axisType:u,events:h,fontSize:d,getTicksConfig:t,height:t.height,letterSpacing:g,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),O.createElement(Ooe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},O.createElement(_oe,{label:t.label,labelRef:t.labelRef}),t.children)))}),pC=O.forwardRef((t,e)=>{var n=On(t,la);return O.createElement(Bue,Ol({},n,{ref:e}))});pC.displayName="CartesianAxis";var zue=["x1","y1","x2","y2","key"],Iue=["offset"],Uue=["xAxisId","yAxisId"],Hue=["xAxisId","yAxisId"];function m3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m3(Object(n),!0).forEach(function(r){que(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function que(t,e,n){return(e=$ue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ue(t){var e=Vue(t,"string");return typeof e=="symbol"?e:e+""}function Vue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ol(){return ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ol.apply(null,arguments)}function Vp(t,e){if(t==null)return{};var n,r,i=Wue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Fue=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:l,ry:o}=t;return O.createElement("rect",{x:r,y:i,ry:o,width:a,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Dz(t){var{option:e,lineItemProps:n}=t,r;if(O.isValidElement(e))r=O.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:l,x2:o,y2:u,key:h}=n,d=Vp(n,zue),p=(i=Ni(d))!==null&&i!==void 0?i:{},{offset:g}=p,y=Vp(p,Iue);r=O.createElement("line",ol({},y,{x1:a,y1:l,x2:o,y2:u,fill:"none",key:h}))}return r}function Kue(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,o=Vp(t,Uue),u=i.map((h,d)=>{var p=Sn(Sn({},o),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(d),index:d});return O.createElement(Dz,{key:"line-".concat(d),option:r,lineItemProps:p})});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Gue(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,o=Vp(t,Hue),u=i.map((h,d)=>{var p=Sn(Sn({},o),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(d),index:d});return O.createElement(Dz,{option:r,lineItemProps:p,key:"line-".concat(d)})});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function Yue(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:l,horizontalPoints:o,horizontal:u=!0}=t;if(!u||!e||!e.length||o==null)return null;var h=o.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==h[0]&&h.unshift(0);var d=h.map((p,g)=>{var y=h[g+1],w=y==null,C=w?i+l-p:y-p;if(C<=0)return null;var S=g%e.length;return O.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:C,width:a,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Que(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:l,height:o,verticalPoints:u}=t;if(!e||!n||!n.length)return null;var h=u.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==h[0]&&h.unshift(0);var d=h.map((p,g)=>{var y=h[g+1],w=y==null,C=w?i+l-p:y-p;if(C<=0)return null;var S=g%n.length;return O.createElement("rect",{key:"react-".concat(g),x:p,y:a,width:C,height:o,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Xue=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return AL(mC(Sn(Sn(Sn({},la),n),{},{ticks:NL(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},Zue=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return AL(mC(Sn(Sn(Sn({},la),n),{},{ticks:NL(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},Jue={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:En.grid};function Wp(t){var e=l2(),n=o2(),r=_L(),i=Sn(Sn({},On(t,Jue)),{},{x:Ce(t.x)?t.x:r.left,y:Ce(t.y)?t.y:r.top,width:Ce(t.width)?t.width:r.width,height:Ce(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:l,x:o,y:u,width:h,height:d,syncWithTicks:p,horizontalValues:g,verticalValues:y}=i,w=Xn(),C=Ae(_=>mP(_,"xAxis",a,w)),S=Ae(_=>mP(_,"yAxis",l,w));if(!Ei(h)||!Ei(d)||!Ce(o)||!Ce(u))return null;var k=i.verticalCoordinatesGenerator||Xue,j=i.horizontalCoordinatesGenerator||Zue,{horizontalPoints:N,verticalPoints:M}=i;if((!N||!N.length)&&typeof j=="function"){var D=g&&g.length,T=j({yAxis:S?Sn(Sn({},S),{},{ticks:D?g:S.ticks}):void 0,width:e??h,height:n??d,offset:r},D?!0:p);gp(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(N=T)}if((!M||!M.length)&&typeof k=="function"){var E=y&&y.length,I=k({xAxis:C?Sn(Sn({},C),{},{ticks:E?y:C.ticks}):void 0,width:e??h,height:n??d,offset:r},E?!0:p);gp(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(M=I)}return O.createElement(Aa,{zIndex:i.zIndex},O.createElement("g",{className:"recharts-cartesian-grid"},O.createElement(Fue,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),O.createElement(Yue,ol({},i,{horizontalPoints:N})),O.createElement(Que,ol({},i,{verticalPoints:M})),O.createElement(Kue,ol({},i,{offset:r,horizontalPoints:N,xAxis:C,yAxis:S})),O.createElement(Gue,ol({},i,{offset:r,verticalPoints:M,xAxis:C,yAxis:S}))))}Wp.displayName="CartesianGrid";var efe={},Pz=Qn({name:"errorBars",initialState:efe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:kme,replaceErrorBar:Ame,removeErrorBar:Nme}=Pz.actions,tfe=Pz.reducer,nfe=["children"];function rfe(t,e){if(t==null)return{};var n,r,i=ife(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ife(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var afe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},sfe=O.createContext(afe);function lfe(t){var{children:e}=t,n=rfe(t,nfe);return O.createElement(sfe.Provider,{value:n},e)}function _z(t,e){var n,r,i=Ae(h=>Ca(h,t)),a=Ae(h=>Oa(h,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Ft.allowDataOverflow,o=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Kt.allowDataOverflow,u=l||o;return{needClip:u,needClipX:l,needClipY:o}}function ofe(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=dC(),{needClipX:a,needClipY:l,needClip:o}=_z(e,n);if(!o||!i)return null;var{x:u,y:h,width:d,height:p}=i;return O.createElement("clipPath",{id:"clipPath-".concat(r)},O.createElement("rect",{x:a?u:u-d/2,y:l?h:h-p/2,width:a?d:d*2,height:l?p:p*2}))}var Rz=(t,e,n,r)=>B8(t,"xAxis",e,r),Lz=(t,e,n,r)=>L8(t,"xAxis",e,r),Bz=(t,e,n,r)=>B8(t,"yAxis",n,r),zz=(t,e,n,r)=>L8(t,"yAxis",n,r),cfe=Z([bt,Rz,Bz,Lz,zz],(t,e,n,r,i)=>ba(t,"xAxis")?pp(e,r,!1):pp(n,i,!1)),ufe=(t,e,n,r,i)=>i;function ffe(t){return t.type==="line"}var hfe=Z([a8,ufe],(t,e)=>t.filter(ffe).find(n=>n.id===e)),dfe=Z([bt,Rz,Bz,Lz,zz,hfe,cfe,L2],(t,e,n,r,i,a,l,o)=>{var{chartData:u,dataStartIndex:h,dataEndIndex:d}=o;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:p,data:g}=a,y;if(g!=null&&g.length>0?y=g:y=u?.slice(h,d+1),y!=null)return ehe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:l,displayedData:y})}});function mfe(t){var e=yg(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,l=Number(i),o=Number(a);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(o)||o<0)&&(o=r),{r:l,strokeWidth:o}}return{r:n,strokeWidth:r}}var Bx={exports:{}},zx={};var p3;function pfe(){if(p3)return zx;p3=1;var t=Jo();function e(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,o=t.useDebugValue;return zx.useSyncExternalStoreWithSelector=function(u,h,d,p,g){var y=i(null);if(y.current===null){var w={hasValue:!1,value:null};y.current=w}else w=y.current;y=l(function(){function S(D){if(!k){if(k=!0,j=D,D=p(D),g!==void 0&&w.hasValue){var T=w.value;if(g(T,D))return N=T}return N=D}if(T=N,n(j,D))return T;var E=p(D);return g!==void 0&&g(T,E)?(j=D,T):(j=D,N=E)}var k=!1,j,N,M=d===void 0?null:d;return[function(){return S(h())},M===null?void 0:function(){return S(M())}]},[h,d,p,g]);var C=r(u,y[0],y[1]);return a(function(){w.hasValue=!0,w.value=C},[C]),o(C),C},zx}var g3;function gfe(){return g3||(g3=1,Bx.exports=pfe()),Bx.exports}gfe();function yfe(t){t()}function vfe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){yfe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var y3={notify(){},get:()=>[]};function bfe(t,e){let n,r=y3,i=0,a=!1;function l(C){d();const S=r.subscribe(C);let k=!1;return()=>{k||(k=!0,S(),p())}}function o(){r.notify()}function u(){w.onStateChange&&w.onStateChange()}function h(){return a}function d(){i++,n||(n=t.subscribe(u),r=vfe())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=y3)}function g(){a||(a=!0,d())}function y(){a&&(a=!1,p())}const w={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:h,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>r};return w}var xfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wfe=xfe(),Sfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Cfe=Sfe(),Ofe=()=>wfe||Cfe?O.useLayoutEffect:O.useEffect,kfe=Ofe();function v3(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Afe(t,e){if(v3(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!v3(t[n[i]],e[n[i]]))return!1;return!0}var Nfe=Symbol.for("react-redux-context"),jfe=typeof globalThis<"u"?globalThis:{};function Efe(){if(!O.createContext)return{};const t=jfe[Nfe]??=new Map;let e=t.get(O.createContext);return e||(e=O.createContext(null),t.set(O.createContext,e)),e}var Tfe=Efe();function Mfe(t){const{children:e,context:n,serverState:r,store:i}=t,a=O.useMemo(()=>{const u=bfe(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),l=O.useMemo(()=>i.getState(),[i]);kfe(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,l]);const o=n||Tfe;return O.createElement(o.Provider,{value:a},e)}var Dfe=Mfe,Pfe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function _fe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function gC(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Pfe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Afe(t[r],e[r]))return!1}else if(!_fe(t[r],e[r]))return!1;return!0}var Rfe=["id"],Lfe=["type","layout","connectNulls","needClip","shape"],Bfe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Ef(){return Ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ef.apply(null,arguments)}function b3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(n),!0).forEach(function(r){zfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zfe(t,e,n){return(e=Ife(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ife(t){var e=Ufe(t,"string");return typeof e=="symbol"?e:e+""}function Ufe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yC(t,e){if(t==null)return{};var n,r,i=Hfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var qfe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:jL(n,e),payload:t}]},$fe=O.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:o,unit:u,tooltipType:h,id:d}=t,p={dataDefinedOnItem:n,getPosition:lc,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:jL(l,e),hide:o,type:h,color:r,unit:u,graphicalItemId:d}};return O.createElement(yce,{tooltipEntrySettings:p})}),Iz=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Vfe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Wfe=(t,e,n)=>{var r=n.reduce((y,w)=>y+w);if(!r)return Iz(e,t);for(var i=Math.floor(t/r),a=t%r,l=e-t,o=[],u=0,h=0;u<n.length;h+=(d=n[u])!==null&&d!==void 0?d:0,++u){var d,p=n[u];if(p!=null&&h+p>a){o=[...n.slice(0,u),a-h];break}}var g=o.length%2===0?[0,l]:[l];return[...Vfe(n,i),...o,...g].map(y=>"".concat(y,"px")).join(", ")};function Ffe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:l}=r,{id:o}=r,u=yC(r,Rfe),h=Ni(u);return O.createElement(Ice,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:h,needClip:l,clipPathId:e})}function Kfe(t){var{showLabels:e,children:n,points:r}=t,i=O.useMemo(()=>r?.map(a=>{var l,o,u={x:(l=a.x)!==null&&l!==void 0?l:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return pi(pi({},u),{},{value:a.value,payload:a.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return O.createElement(Woe,{value:e?i:void 0},n)}function x3(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:l,layout:o,connectNulls:u,needClip:h,shape:d}=a,p=yC(a,Lfe),g=pi(pi({},Mn(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:o,connectNulls:u,strokeDasharray:i??a.strokeDasharray});return O.createElement(O.Fragment,null,r?.length>1&&O.createElement(gce,Ef({shapeType:"curve",option:d},g,{pathRef:n})),O.createElement(Ffe,{points:r,clipPathId:e,props:a}))}function Gfe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Yfe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:l,strokeDasharray:o,isAnimationActive:u,animationBegin:h,animationDuration:d,animationEasing:p,animateNewValues:g,width:y,height:w,onAnimationEnd:C,onAnimationStart:S}=n,k=i.current,j=h2(l,"recharts-line-"),N=O.useRef(j),[M,D]=O.useState(!1),T=!M,E=O.useCallback(()=>{typeof C=="function"&&C(),D(!1)},[C]),I=O.useCallback(()=>{typeof S=="function"&&S(),D(!0)},[S]),_=Gfe(r.current),z=O.useRef(0);N.current!==j&&(z.current=a.current,N.current=j);var q=z.current;return O.createElement(Kfe,{points:l,showLabels:T},n.children,O.createElement(f2,{animationId:j,begin:h,duration:d,isActive:u,easing:p,onAnimationEnd:E,onAnimationStart:I,key:j},B=>{var re=Vn(q,_+q,B),se=Math.min(re,_),ee;if(u)if(o){var H="".concat(o).split(/[,\s]+/gim).map(oe=>parseFloat(oe));ee=Wfe(se,_,H)}else ee=Iz(_,se);else ee=o==null?void 0:String(o);if(B>0&&_>0&&(i.current=l,a.current=Math.max(a.current,se)),k){var Y=k.length/l.length,le=B===1?l:l.map((oe,he)=>{var R=Math.floor(he*Y);if(k[R]){var K=k[R];return pi(pi({},oe),{},{x:Vn(K.x,oe.x,B),y:Vn(K.y,oe.y,B)})}return g?pi(pi({},oe),{},{x:Vn(y*2,oe.x,B),y:Vn(w/2,oe.y,B)}):pi(pi({},oe),{},{x:oe.x,y:oe.y})});return i.current=le,O.createElement(x3,{props:n,points:le,clipPathId:e,pathRef:r,strokeDasharray:ee})}return O.createElement(x3,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:ee})}),O.createElement(Goe,{label:n.label}))}function Qfe(t){var{clipPathId:e,props:n}=t,r=O.useRef(null),i=O.useRef(0),a=O.useRef(null);return O.createElement(Yfe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Xfe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:pn(t.payload,e)}};class Zfe extends O.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:l,top:o,left:u,width:h,height:d,id:p,needClip:g,zIndex:y}=this.props;if(e)return null;var w=rt("recharts-line",i),C=p,{r:S,strokeWidth:k}=mfe(n),j=Az(n),N=S*2+k,M=g?"url(#clipPath-".concat(j?"":"dots-").concat(C,")"):void 0;return O.createElement(Aa,{zIndex:y},O.createElement(ws,{className:w},g&&O.createElement("defs",null,O.createElement(ofe,{clipPathId:C,xAxisId:a,yAxisId:l}),!j&&O.createElement("clipPath",{id:"clipPath-dots-".concat(C)},O.createElement("rect",{x:u-N/2,y:o-N/2,width:h+N,height:d+N}))),O.createElement(lfe,{xAxisId:a,yAxisId:l,data:r,dataPointFormatter:Xfe,errorBarOffset:0},O.createElement(Qfe,{props:this.props,clipPathId:C}))),O.createElement(aue,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:M}))}}var Uz={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:En.line,type:"linear"};function Jfe(t){var e=On(t,Uz),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:o,dot:u,hide:h,isAnimationActive:d,label:p,legendType:g,xAxisId:y,yAxisId:w,id:C}=e,S=yC(e,Bfe),{needClip:k}=_z(y,w),j=dC(),N=oc(),M=Xn(),D=Ae(z=>dfe(z,y,w,M,C));if(N!=="horizontal"&&N!=="vertical"||D==null||j==null)return null;var{height:T,width:E,x:I,y:_}=j;return O.createElement(Zfe,Ef({},S,{id:C,connectNulls:o,dot:u,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,isAnimationActive:d,hide:h,label:p,legendType:g,xAxisId:y,yAxisId:w,points:D,layout:N,height:T,width:E,left:I,top:_,needClip:k}))}function ehe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:l,bandSize:o,displayedData:u}=t;return u.map((h,d)=>{var p=pn(h,l);if(e==="horizontal"){var g=dM({axis:n,ticks:i,bandSize:o,entry:h,index:d}),y=gn(p)?null:r.scale.map(p);return{x:g,y:y??null,value:p,payload:h}}var w=gn(p)?null:n.scale.map(p),C=dM({axis:r,ticks:a,bandSize:o,entry:h,index:d});return w==null||C==null?null:{x:w,y:C,value:p,payload:h}}).filter(Boolean)}function the(t){var e=On(t,Uz),n=Xn();return O.createElement(Cce,{id:e.id,type:"line"},r=>O.createElement(O.Fragment,null,O.createElement(vce,{legendPayload:qfe(e)}),O.createElement($fe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),O.createElement(Tce,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),O.createElement(Jfe,Ef({},e,{id:r}))))}var Fp=O.memo(the,gC);Fp.displayName="Line";var nhe=["domain","range"],rhe=["domain","range"];function w3(t,e){if(t==null)return{};var n,r,i=ihe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ihe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function S3(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function Hz(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=w3(t,nhe),{domain:a,range:l}=e,o=w3(e,rhe);return!S3(n,a)||!S3(r,l)?!1:gC(i,o)}var ahe=["type"],she=["dangerouslySetInnerHTML","ticks","scale"],lhe=["id","scale"];function Uw(){return Uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uw.apply(null,arguments)}function C3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C3(Object(n),!0).forEach(function(r){ohe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ohe(t,e,n){return(e=che(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function che(t){var e=uhe(t,"string");return typeof e=="symbol"?e:e+""}function uhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hw(t,e){if(t==null)return{};var n,r,i=fhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hhe(t){var e=Bt(),n=O.useRef(null),r=RL(),{type:i}=t,a=Hw(t,ahe),l=Yg(r,"xAxis",i),o=O.useMemo(()=>{if(l!=null)return O3(O3({},a),{},{type:l})},[a,l]);return O.useLayoutEffect(()=>{o!=null&&(n.current===null?e(Vce(o)):n.current!==o&&e(Wce({prev:n.current,next:o})),n.current=o)},[o,e]),O.useLayoutEffect(()=>()=>{n.current&&(e(Fce(n.current)),n.current=null)},[e]),null}var dhe=t=>{var{xAxisId:e,className:n}=t,r=Ae(TL),i=Xn(),a="xAxis",l=Ae(k=>R8(k,a,e,i)),o=Ae(k=>fae(k,e)),u=Ae(k=>yae(k,e)),h=Ae(k=>t8(k,e));if(o==null||u==null||h==null)return null;var{dangerouslySetInnerHTML:d,ticks:p,scale:g}=t,y=Hw(t,she),{id:w,scale:C}=h,S=Hw(h,lhe);return O.createElement(pC,Uw({},y,S,{x:u.x,y:u.y,width:o.width,height:o.height,className:rt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},mhe={allowDataOverflow:Ft.allowDataOverflow,allowDecimals:Ft.allowDecimals,allowDuplicatedCategory:Ft.allowDuplicatedCategory,angle:Ft.angle,axisLine:la.axisLine,height:Ft.height,hide:!1,includeHidden:Ft.includeHidden,interval:Ft.interval,label:!1,minTickGap:Ft.minTickGap,mirror:Ft.mirror,orientation:Ft.orientation,padding:Ft.padding,reversed:Ft.reversed,scale:Ft.scale,tick:Ft.tick,tickCount:Ft.tickCount,tickLine:la.tickLine,tickSize:la.tickSize,type:Ft.type,xAxisId:0},phe=t=>{var e=On(t,mhe);return O.createElement(O.Fragment,null,O.createElement(hhe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),O.createElement(dhe,e))},Kp=O.memo(phe,Hz);Kp.displayName="XAxis";var ghe=["type"],yhe=["dangerouslySetInnerHTML","ticks","scale"],vhe=["id","scale"];function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qw.apply(null,arguments)}function k3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k3(Object(n),!0).forEach(function(r){bhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bhe(t,e,n){return(e=xhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xhe(t){var e=whe(t,"string");return typeof e=="symbol"?e:e+""}function whe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $w(t,e){if(t==null)return{};var n,r,i=She(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function She(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Che(t){var e=Bt(),n=O.useRef(null),r=RL(),{type:i}=t,a=$w(t,ghe),l=Yg(r,"yAxis",i),o=O.useMemo(()=>{if(l!=null)return A3(A3({},a),{},{type:l})},[l,a]);return O.useLayoutEffect(()=>{o!=null&&(n.current===null?e(Kce(o)):n.current!==o&&e(Gce({prev:n.current,next:o})),n.current=o)},[o,e]),O.useLayoutEffect(()=>()=>{n.current&&(e(Yce(n.current)),n.current=null)},[e]),null}function Ohe(t){var{yAxisId:e,className:n,width:r,label:i}=t,a=O.useRef(null),l=O.useRef(null),o=Ae(TL),u=Xn(),h=Bt(),d="yAxis",p=Ae(T=>xae(T,e)),g=Ae(T=>bae(T,e)),y=Ae(T=>R8(T,d,e,u)),w=Ae(T=>n8(T,e));if(O.useLayoutEffect(()=>{if(!(r!=="auto"||!p||hC(i)||O.isValidElement(i)||w==null)){var T=a.current;if(T){var E=T.getCalculatedWidth();Math.round(p.width)!==Math.round(E)&&h(Qce({id:e,width:E}))}}},[y,p,h,i,e,r,w]),p==null||g==null||w==null)return null;var{dangerouslySetInnerHTML:C,ticks:S,scale:k}=t,j=$w(t,yhe),{id:N,scale:M}=w,D=$w(w,vhe);return O.createElement(pC,qw({},j,D,{ref:a,labelRef:l,x:g.x,y:g.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:rt("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:y,axisType:d}))}var khe={allowDataOverflow:Kt.allowDataOverflow,allowDecimals:Kt.allowDecimals,allowDuplicatedCategory:Kt.allowDuplicatedCategory,angle:Kt.angle,axisLine:la.axisLine,hide:!1,includeHidden:Kt.includeHidden,interval:Kt.interval,label:!1,minTickGap:Kt.minTickGap,mirror:Kt.mirror,orientation:Kt.orientation,padding:Kt.padding,reversed:Kt.reversed,scale:Kt.scale,tick:Kt.tick,tickCount:Kt.tickCount,tickLine:la.tickLine,tickSize:la.tickSize,type:Kt.type,width:Kt.width,yAxisId:0},Ahe=t=>{var e=On(t,khe);return O.createElement(O.Fragment,null,O.createElement(Che,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),O.createElement(Ohe,e))},Gp=O.memo(Ahe,Hz);Gp.displayName="YAxis";var Nhe=(t,e)=>e,vC=Z([Nhe,bt,ZB,en,J8,ka,Rse,vn],qse),bC=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},qz=zr("mouseClick"),$z=Hf();$z.startListening({actionCreator:qz,effect:(t,e)=>{var n=t.payload,r=vC(e.getState(),bC(n));r?.activeIndex!=null&&e.dispatch(Pae({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Vw=zr("mouseMove"),Vz=Hf(),am=null;Vz.startListening({actionCreator:Vw,effect:(t,e)=>{var n=t.payload;am!==null&&cancelAnimationFrame(am);var r=bC(n);am=requestAnimationFrame(()=>{var i=e.getState(),a=tC(i,i.tooltip.settings.shared);if(a==="axis"){var l=vC(i,r);l?.activeIndex!=null?e.dispatch(V8({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch($8())}am=null})}});function jhe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var N3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Wz=Qn({name:"rootProps",initialState:N3,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:N3.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Ehe=Wz.reducer,{updateOptions:The}=Wz.actions,Mhe=null,Dhe={updatePolarOptions:(t,e)=>e.payload},Fz=Qn({name:"polarOptions",initialState:Mhe,reducers:Dhe}),{updatePolarOptions:jme}=Fz.actions,Phe=Fz.reducer,Kz=zr("keyDown"),Gz=zr("focus"),xC=Hf();xC.startListening({actionCreator:Kz,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=nC(i,yc(n),Xf(n),Jf(n)),o=l==null?-1:Number(l);if(!(!Number.isFinite(o)||o<0)){var u=ka(n);if(a==="Enter"){var h=Ip(n,"axis","hover",String(i.index));e.dispatch(_w({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var d=Oae(n),p=d==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,y=o+g*p;if(!(u==null||y>=u.length||y<0)){var w=Ip(n,"axis","hover",String(y));e.dispatch(_w({active:!0,activeIndex:y.toString(),activeCoordinate:w}))}}}}}});xC.startListening({actionCreator:Gz,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=Ip(n,"axis","hover",String(a));e.dispatch(_w({active:!0,activeIndex:a,activeCoordinate:l}))}}}});var jr=zr("externalEvent"),Yz=Hf(),Ix=new Map;Yz.startListening({actionCreator:jr,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=Ix.get(i);a!==void 0&&cancelAnimationFrame(a);var l=requestAnimationFrame(()=>{try{var o=e.getState(),u={activeCoordinate:bse(o),activeDataKey:yse(o),activeIndex:Af(o),activeLabel:nz(o),activeTooltipIndex:Af(o),isTooltipActive:xse(o)};n(u,r)}finally{Ix.delete(i)}});Ix.set(i,l)}}});var _he=Z([pc],t=>t.tooltipItemPayloads),Rhe=Z([_he,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(a=>a.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),Qz=zr("touchMove"),Xz=Hf();Xz.startListening({actionCreator:Qz,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=tC(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var l=vC(r,bC({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch(V8({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var o,u=n.touches[0];if(document.elementFromPoint==null||u==null)return;var h=document.elementFromPoint(u.clientX,u.clientY);if(!h||!h.getAttribute)return;var d=h.getAttribute(nJ),p=(o=h.getAttribute(rJ))!==null&&o!==void 0?o:void 0,g=gc(r).find(C=>C.id===p);if(d==null||g==null||p==null)return;var{dataKey:y}=g,w=Rhe(r,d,p);e.dispatch(Dae({activeDataKey:y,activeIndex:d,activeCoordinate:w,activeGraphicalItemId:p}))}}}});var Lhe=XR({brush:lue,cartesianAxis:Xce,chartData:xle,errorBars:tfe,graphicalItems:jce,layout:HZ,legend:QJ,options:ple,polarAxis:Qoe,polarOptions:Phe,referenceElements:fue,rootProps:Ehe,tooltip:_ae,zIndex:nle}),Bhe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return hZ({reducer:Lhe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([$z.middleware,Vz.middleware,xC.middleware,Yz.middleware,Xz.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(hL({type:"raf"}))},devTools:{serialize:{replacer:jhe},name:"recharts-".concat(n)}})};function zhe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Xn(),a=O.useRef(null);if(i)return n;a.current==null&&(a.current=Bhe(e,r));var l=ZS;return O.createElement(Dfe,{context:l,store:a.current},n)}function Ihe(t){var{layout:e,margin:n}=t,r=Bt(),i=Xn();return O.useEffect(()=>{i||(r(zZ(e)),r(BZ(n)))},[r,i,e,n]),null}var Uhe=O.memo(Ihe,gC);function Hhe(t){var e=Bt();return O.useEffect(()=>{e(The(t))},[e,t]),null}function j3(t){var{zIndex:e,isPanorama:n}=t,r=O.useRef(null),i=Bt();return O.useLayoutEffect(()=>(r.current&&i(ele({zIndex:e,element:r.current,isPanorama:n})),()=>{i(tle({zIndex:e,isPanorama:n}))}),[i,e,n]),O.createElement("g",{tabIndex:-1,ref:r})}function E3(t){var{children:e,isPanorama:n}=t,r=Ae(Vse);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),a=r.filter(l=>l>0);return O.createElement(O.Fragment,null,i.map(l=>O.createElement(j3,{key:l,zIndex:l,isPanorama:n})),e,a.map(l=>O.createElement(j3,{key:l,zIndex:l,isPanorama:n})))}var qhe=["children"];function $he(t,e){if(t==null)return{};var n,r,i=Vhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yp(){return Yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yp.apply(null,arguments)}var Whe={width:"100%",height:"100%",display:"block"},Fhe=O.forwardRef((t,e)=>{var n=l2(),r=o2(),i=WL();if(!Ei(n)||!Ei(r))return null;var{children:a,otherAttributes:l,title:o,desc:u}=t,h,d;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?d=l.role:d=i?"application":void 0),O.createElement(HS,Yp({},l,{title:o,desc:u,role:d,tabIndex:h,width:n,height:r,style:Whe,ref:e}),a)}),Khe=t=>{var{children:e}=t,n=Ae(Rg);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return O.createElement(HS,{width:r,height:i,x:l,y:a},e)},T3=O.forwardRef((t,e)=>{var{children:n}=t,r=$he(t,qhe),i=Xn();return i?O.createElement(Khe,null,O.createElement(E3,{isPanorama:!0},n)):O.createElement(Fhe,Yp({ref:e},r),O.createElement(E3,{isPanorama:!1},n))});function Ghe(){var t=Bt(),[e,n]=O.useState(null),r=Ae(tJ);return O.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Fe(a)&&a!==r&&t(UZ(a))}},[e,t,r]),n}function M3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yhe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M3(Object(n),!0).forEach(function(r){Qhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qhe(t,e,n){return(e=Xhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xhe(t){var e=Zhe(t,"string");return typeof e=="symbol"?e:e+""}function Zhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hs(){return hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hs.apply(null,arguments)}var Jhe=()=>(Ele(),null);function Qp(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var ede=O.forwardRef((t,e)=>{var n,r,i=O.useRef(null),[a,l]=O.useState({containerWidth:Qp((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Qp((r=t.style)===null||r===void 0?void 0:r.height)}),o=O.useCallback((h,d)=>{l(p=>{var g=Math.round(h),y=Math.round(d);return p.containerWidth===g&&p.containerHeight===y?p:{containerWidth:g,containerHeight:y}})},[]),u=O.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:d,height:p}=h.getBoundingClientRect();o(d,p);var g=w=>{var C=w[0];if(C!=null){var{width:S,height:k}=C.contentRect;o(S,k)}},y=new ResizeObserver(g);y.observe(h),i.current=y}},[e,o]);return O.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[o]),O.createElement(O.Fragment,null,O.createElement($f,{width:a.containerWidth,height:a.containerHeight}),O.createElement("div",hs({ref:u},t)))}),tde=O.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=O.useState({containerWidth:Qp(n),containerHeight:Qp(r)}),l=O.useCallback((u,h)=>{a(d=>{var p=Math.round(u),g=Math.round(h);return d.containerWidth===p&&d.containerHeight===g?d:{containerWidth:p,containerHeight:g}})},[]),o=O.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:h,height:d}=u.getBoundingClientRect();l(h,d)}},[e,l]);return O.createElement(O.Fragment,null,O.createElement($f,{width:i.containerWidth,height:i.containerHeight}),O.createElement("div",hs({ref:o},t)))}),nde=O.forwardRef((t,e)=>{var{width:n,height:r}=t;return O.createElement(O.Fragment,null,O.createElement($f,{width:n,height:r}),O.createElement("div",hs({ref:e},t)))}),rde=O.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?O.createElement(tde,hs({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?O.createElement(nde,hs({},t,{width:n,height:r,ref:e})):O.createElement(O.Fragment,null,O.createElement($f,{width:n,height:r}),O.createElement("div",hs({ref:e},t)))});function ide(t){return t?ede:rde}var ade=O.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:o,onMouseDown:u,onMouseEnter:h,onMouseLeave:d,onMouseMove:p,onMouseUp:g,onTouchEnd:y,onTouchMove:w,onTouchStart:C,style:S,width:k,responsive:j,dispatchTouchEvents:N=!0}=t,M=O.useRef(null),D=Bt(),[T,E]=O.useState(null),[I,_]=O.useState(null),z=Ghe(),q=a2(),B=q?.width>0?q.width:k,re=q?.height>0?q.height:i,se=O.useCallback(te=>{z(te),typeof e=="function"&&e(te),E(te),_(te),te!=null&&(M.current=te)},[z,e,E,_]),ee=O.useCallback(te=>{D(qz(te)),D(jr({handler:a,reactEvent:te}))},[D,a]),H=O.useCallback(te=>{D(Vw(te)),D(jr({handler:h,reactEvent:te}))},[D,h]),Y=O.useCallback(te=>{D($8()),D(jr({handler:d,reactEvent:te}))},[D,d]),le=O.useCallback(te=>{D(Vw(te)),D(jr({handler:p,reactEvent:te}))},[D,p]),oe=O.useCallback(()=>{D(Gz())},[D]),he=O.useCallback(te=>{D(Kz(te.key))},[D]),R=O.useCallback(te=>{D(jr({handler:l,reactEvent:te}))},[D,l]),K=O.useCallback(te=>{D(jr({handler:o,reactEvent:te}))},[D,o]),ce=O.useCallback(te=>{D(jr({handler:u,reactEvent:te}))},[D,u]),Q=O.useCallback(te=>{D(jr({handler:g,reactEvent:te}))},[D,g]),de=O.useCallback(te=>{D(jr({handler:C,reactEvent:te}))},[D,C]),fe=O.useCallback(te=>{N&&D(Qz(te)),D(jr({handler:w,reactEvent:te}))},[D,N,w]),be=O.useCallback(te=>{D(jr({handler:y,reactEvent:te}))},[D,y]),yt=ide(j);return O.createElement(cz.Provider,{value:T},O.createElement(dR.Provider,{value:I},O.createElement(yt,{width:B??S?.width,height:re??S?.height,className:rt("recharts-wrapper",r),style:Yhe({position:"relative",cursor:"default",width:B,height:re},S),onClick:ee,onContextMenu:R,onDoubleClick:K,onFocus:oe,onKeyDown:he,onMouseDown:ce,onMouseEnter:H,onMouseLeave:Y,onMouseMove:le,onMouseUp:Q,onTouchEnd:be,onTouchMove:fe,onTouchStart:de,ref:se},O.createElement(Jhe,null),n)))}),sde=["width","height","responsive","children","className","style","compact","title","desc"];function lde(t,e){if(t==null)return{};var n,r,i=ode(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ode(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cde=O.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:l,style:o,compact:u,title:h,desc:d}=t,p=lde(t,sde),g=Ni(p);return u?O.createElement(O.Fragment,null,O.createElement($f,{width:n,height:r}),O.createElement(T3,{otherAttributes:g,title:h,desc:d},a)):O.createElement(ade,{className:l,style:o,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},O.createElement(T3,{otherAttributes:g,title:h,desc:d,ref:e},O.createElement(due,null,a)))});function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ww.apply(null,arguments)}var ude={top:5,right:5,bottom:5,left:5},fde={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:ude,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},hde=O.forwardRef(function(e,n){var r,i=On(e.categoricalChartProps,fde),{chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,categoricalChartProps:h}=e,d={chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,eventEmitter:void 0};return O.createElement(zhe,{preloadedState:{options:d},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:a},O.createElement(sue,{chartData:h.data}),O.createElement(Uhe,{layout:i.layout,margin:i.margin}),O.createElement(Hhe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),O.createElement(cde,Ww({},i,{ref:n})))}),dde=["axis"],Fw=O.forwardRef((t,e)=>O.createElement(hde,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:dde,tooltipPayloadSearcher:dle,categoricalChartProps:t,ref:e}));const Zz="tidedb_query_history",Jz="tidedb_last_db",mde=30,D3=["#3b82f6","#8b5cf6","#ec4899","#f59e0b","#22c55e","#06b6d4"],pde=[{value:"",label:"Default"},{value:"rfc3339",label:"RFC3339"},{value:"ns",label:"ns"},{value:"us",label:"us"},{value:"ms",label:"ms"},{value:"s",label:"s"}],gde=["SELECT","FROM","WHERE","GROUP BY","ORDER BY","LIMIT","OFFSET","INTO","SHOW","CREATE","DROP","ALTER","GRANT","REVOKE","SET","AND","OR","AS","ON","BY","FILL","SLIMIT","SOFFSET","WITH","KEY","IN","NOT","ASC","DESC","DISTINCT","MEAN","SUM","COUNT","MIN","MAX","FIRST","LAST","STDDEV","MEDIAN","PERCENTILE","DERIVATIVE","NON_NEGATIVE_DERIVATIVE","DIFFERENCE","MOVING_AVERAGE","CUMULATIVE_SUM","HOLT_WINTERS","ELAPSED","TIME","NOW","NULL","TRUE","FALSE"],yde={float:"text-blue-400",integer:"text-green-400",string:"text-amber-400",boolean:"text-purple-400"};function e6(){try{return JSON.parse(localStorage.getItem(Zz)||"[]")}catch{return[]}}function vde(t){try{localStorage.setItem(Zz,JSON.stringify(t.slice(0,mde)))}catch{}}function bde(t){const e=e6().filter(n=>n!==t);e.unshift(t),vde(e)}function xde(){return localStorage.getItem(Jz)||""}function P3(t){try{localStorage.setItem(Jz,t)}catch{}}function wde(t){return t<1e3?`${t}ms`:`${(t/1e3).toFixed(2)}s`}function Sde(t){let e=t;const n=[...gde].sort((r,i)=>i.length-r.length);for(const r of n){const i=r.replace(/\s+/g,"\\s+");e=e.replace(new RegExp(`\\b${i}\\b`,"gi"),r)}return e}function Cde(t){const e=[];for(const n of t?.results??[])if(!n.error)for(const r of n.series??[]){const i=(r.values??[]).map(a=>{const l={};return r.columns.forEach((o,u)=>{l[o]=a[u]}),l});e.push({name:r.name,tags:r.tags??{},columns:r.columns,rows:i})}return e}function t6(t,e,n){const r=new Blob([t],{type:n}),i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)}function Ode(t){const e=[];for(const n of t){t.length>1&&e.push(`# ${n.name}${Object.keys(n.tags).length?" "+JSON.stringify(n.tags):""}`),e.push(n.columns.join(","));for(const r of n.rows)e.push(n.columns.map(i=>{const a=r[i];if(a==null)return"";const l=String(a);return l.includes(",")||l.includes('"')||l.includes(`
`)?`"${l.replace(/"/g,'""')}"`:l}).join(","));e.push("")}t6(e.join(`
`),"query_results.csv","text/csv")}function kde(t){const e=t.map(n=>({name:n.name,tags:n.tags,columns:n.columns,values:n.rows}));t6(JSON.stringify(e,null,2),"query_results.json","application/json")}function Kw(t){const e=Object.entries(t);return e.length===0?"":"{"+e.map(([n,r])=>`${n}=${r}`).join(",")+"}"}function Ade({onInsert:t}){const[e,n]=O.useState([]),[r,i]=O.useState(new Set),[a,l]=O.useState({}),[o,u]=O.useState(new Set),[h,d]=O.useState(""),[p,g]=O.useState({});O.useEffect(()=>{Se.getDatabases().then(n).catch(()=>{})},[]);const y=O.useCallback(async(N,M,D,T,E,I)=>{if(i(_=>{const z=new Set(_);return z.has(N)?z.delete(N):z.add(N),z}),!a[N]){u(_=>new Set(_).add(N));try{if(M==="database"&&D){const z=(await Se.getRetentionPolicies(D)).map(q=>({type:"rp",name:q.name,dbName:D}));l(q=>({...q,[N]:z}))}else if(M==="rp"&&D){const z=(await Se.getMeasurements(D)).map(q=>({type:"measurement",name:q,dbName:D,rpName:I}));l(q=>({...q,[N]:z}))}else if(M==="measurement"&&D&&E){const[_,z]=await Promise.all([Se.getFieldKeys(D,E),Se.getTagKeys(D,E)]),q=_.map(se=>({type:"field",name:se.key,fieldType:se.type,dbName:D,measurementName:E})),B=z.map(se=>({type:"tag",name:se,dbName:D,measurementName:E})),re=[{type:"fields-header",name:"Fields",children:q},{type:"tags-header",name:"Tags",children:B}];l(se=>({...se,[N]:re}))}}catch{}finally{u(_=>{const z=new Set(_);return z.delete(N),z})}}},[a]),w=()=>{const N=[],M=D=>{const T=`db:${D}`,E=r.has(T);if(N.push({type:"database",name:D,dbName:D,depth:0,id:T,expanded:E}),!E)return;const I=a[T]??[];for(const _ of I){const z=`rp:${D}:${_.name}`,q=r.has(z);if(N.push({..._,depth:1,id:z,expanded:q}),!q)continue;const B=a[z]??[];for(const re of B){const se=`meas:${D}:${re.name}`,ee=r.has(se);if(N.push({...re,depth:2,id:se,expanded:ee}),!ee)continue;const H=a[se]??[];for(const Y of H){const le=`group:${D}:${re.name}:${Y.name}`,oe=r.has(le);if(N.push({...Y,depth:3,id:le,expanded:oe}),!!oe)for(const he of Y.children??[]){const R=`leaf:${D}:${re.name}:${Y.name}:${he.name}`;N.push({...he,depth:4,id:R})}}}}};for(const D of e)M(D);return N},C=h.trim()?w().filter(N=>N.name.toLowerCase().includes(h.toLowerCase())):w(),S=N=>{if(N.type==="database")y(N.id,"database",N.dbName,void 0,void 0,N.name);else if(N.type==="rp")y(N.id,"rp",N.dbName,N.name,void 0,N.name);else if(N.type==="measurement")y(N.id,"measurement",N.dbName,N.rpName,N.name,N.name),t(`FROM "${N.name}"`);else if(N.type==="fields-header"||N.type==="tags-header")i(M=>{const D=new Set(M);return D.has(N.id)?D.delete(N.id):D.add(N.id),D});else if(N.type==="field")t(`"${N.name}"`);else if(N.type==="tag"){t(`"${N.name}"`);const M=`tv:${N.dbName}:${N.measurementName}:${N.name}`;p[M]?g(D=>{const T={...D};return delete T[M],T}):N.dbName&&N.measurementName&&(u(D=>new Set(D).add(M)),Se.getTagValues(N.dbName,N.measurementName,N.name).then(D=>g(T=>({...T,[M]:D}))).catch(()=>{}).finally(()=>u(D=>{const T=new Set(D);return T.delete(M),T})))}},k=N=>{const M=o.has(N.id);return["database","rp","measurement","fields-header","tags-header"].includes(N.type)?M?v.jsxs("svg",{className:"w-4 h-4 animate-spin text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):N.expanded?v.jsx(rc,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}):v.jsx(t4,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}):v.jsx("span",{className:"w-4 h-4 inline-block"})},j=N=>{const M=N.type==="field"&&N.fieldType?yde[N.fieldType]??"text-gray-300":"text-gray-300";return v.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[v.jsx("span",{className:`truncate text-sm ${M}`,children:N.name}),N.type==="field"&&N.fieldType&&v.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-1",children:N.fieldType})]})};return v.jsxs("div",{className:"flex flex-col h-full bg-gray-900",children:[v.jsxs("div",{className:"px-3 py-2 border-b border-gray-700",children:[v.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Schema Explorer"}),v.jsxs("div",{className:"relative",children:[v.jsx(P9,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-gray-500"}),v.jsx("input",{type:"text",value:h,onChange:N=>d(N.target.value),placeholder:"Filter...",className:"w-full bg-gray-800 text-gray-300 text-xs pl-7 pr-2 py-1.5 rounded border border-gray-700 focus:outline-none focus:border-blue-500 placeholder-gray-600"})]})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto py-1",children:[C.length===0&&e.length===0&&v.jsx("div",{className:"text-xs text-gray-500 px-3 py-4 text-center",children:"Loading databases..."}),C.length===0&&e.length>0&&h&&v.jsxs("div",{className:"text-xs text-gray-500 px-3 py-4 text-center",children:['No results for "',h,'"']}),C.map(N=>{const M=N.type==="tag"?`tv:${N.dbName}:${N.measurementName}:${N.name}`:"",D=M&&o.has(M),T=M?p[M]:void 0;return v.jsxs("div",{children:[v.jsxs("div",{style:{paddingLeft:`${N.depth*16+8}px`},className:"flex items-center gap-1.5 py-0.5 pr-2 cursor-pointer hover:bg-gray-800 transition-colors duration-150 group select-none",onClick:()=>S(N),children:[v.jsx("span",{className:"flex-shrink-0",children:k(N)}),j(N),D&&v.jsxs("svg",{className:"w-3 h-3 animate-spin text-gray-500 ml-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]})]}),T&&T.length>0&&v.jsx("div",{style:{paddingLeft:`${(N.depth+1)*16+8}px`},className:"py-0.5",children:v.jsxs("div",{className:"flex flex-wrap gap-1 py-1",children:[T.slice(0,50).map(E=>v.jsx("span",{onClick:()=>t(`'${E}'`),className:"inline-block px-1.5 py-0.5 text-[10px] bg-gray-800 border border-gray-700 rounded text-cyan-300 cursor-pointer hover:bg-gray-700 font-mono truncate max-w-[120px]",title:E,children:E},E)),T.length>50&&v.jsxs("span",{className:"text-[10px] text-gray-500",children:["+",T.length-50," more"]})]})})]},N.id)})]})]})}function Nde({series:t}){const[e,n]=O.useState(null),[r,i]=O.useState("asc");if(t.length===0)return v.jsx("div",{className:"text-gray-500 text-sm text-center py-8",children:"No results"});const a=l=>{e===l?i(o=>o==="asc"?"desc":"asc"):(n(l),i("asc"))};return v.jsx("div",{className:"flex flex-col gap-4 h-full overflow-y-auto",children:t.map((l,o)=>{const u=l.name+Kw(l.tags);let h=[...l.rows];return e&&l.columns.includes(e)&&h.sort((d,p)=>{const g=d[e],y=p[e];if(g==null)return 1;if(y==null)return-1;const w=g<y?-1:g>y?1:0;return r==="asc"?w:-w}),v.jsxs("div",{className:"flex flex-col min-w-0",children:[t.length>1&&v.jsx("div",{className:"text-xs font-medium text-blue-400 px-1 mb-1",children:u}),v.jsx("div",{className:"overflow-x-auto rounded border border-gray-700",children:v.jsxs("table",{className:"min-w-full text-xs bg-gray-800",children:[v.jsx("thead",{children:v.jsx("tr",{className:"border-b border-gray-700",children:l.columns.map(d=>v.jsx("th",{onClick:()=>a(d),className:"px-3 py-2 text-left font-semibold text-gray-400 cursor-pointer hover:text-gray-200 hover:bg-gray-750 select-none whitespace-nowrap transition-colors duration-150",children:v.jsxs("span",{className:"flex items-center gap-1",children:[d,e===d&&v.jsx("span",{className:"text-blue-400",children:r==="asc"?"":""})]})},d))})}),v.jsx("tbody",{children:h.map((d,p)=>v.jsx("tr",{className:"border-b border-gray-700/50 hover:bg-gray-700/30 transition-colors duration-150",children:l.columns.map(g=>v.jsx("td",{className:"px-3 py-1.5 text-gray-300 whitespace-nowrap font-mono",children:d[g]===null||d[g]===void 0?v.jsx("span",{className:"text-gray-600 italic",children:"null"}):String(d[g])},g))},p))})]})}),v.jsxs("div",{className:"text-xs text-gray-500 mt-1 px-1",children:[h.length," row",h.length!==1?"s":""]})]},o)})})}function jde({series:t}){if(t.length===0)return v.jsx("div",{className:"text-gray-500 text-sm text-center py-8",children:"No results"});const e=t[0],n=e.columns.find(u=>u==="time")??null,r=e.columns.filter(u=>u!=="time"&&u!=="name");if(!n)return v.jsx("div",{className:"text-gray-500 text-sm text-center py-8",children:"Chart requires a 'time' column in the results."});const i=new Map;t.forEach(u=>{const h=Kw(u.tags);u.rows.forEach(d=>{const p=String(d[n]);i.has(p)||i.set(p,{time:p});const g=i.get(p);r.forEach(y=>{const w=t.length>1?`${u.name}${h||""}.${y}`:y,C=d[y];C!=null&&(g[w]=typeof C=="number"?C:parseFloat(C))})})});const a=Array.from(i.values()).sort((u,h)=>u.time<h.time?-1:u.time>h.time?1:0),l=[];t.forEach(u=>{const h=Kw(u.tags);r.forEach(d=>{const p=t.length>1?`${u.name}${h||""}.${d}`:d;l.includes(p)||l.push(p)})});const o=u=>{try{const h=new Date(u);if(!isNaN(h.getTime()))return h.toLocaleTimeString()}catch{}return u};return v.jsx("div",{className:"w-full h-full min-h-0",children:v.jsx(fw,{width:"100%",height:"100%",children:v.jsxs(Fw,{data:a,margin:{top:8,right:24,left:0,bottom:8},children:[v.jsx(Wp,{strokeDasharray:"3 3",stroke:"#374151"}),v.jsx(Kp,{dataKey:"time",tickFormatter:o,tick:{fill:"#9ca3af",fontSize:11},axisLine:{stroke:"#4b5563"},tickLine:{stroke:"#4b5563"}}),v.jsx(Gp,{tick:{fill:"#9ca3af",fontSize:11},axisLine:{stroke:"#4b5563"},tickLine:{stroke:"#4b5563"},width:60}),v.jsx(Bw,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"6px"},labelStyle:{color:"#9ca3af",fontSize:11},itemStyle:{color:"#d1d5db",fontSize:12},formatter:u=>[typeof u=="number"?u.toLocaleString():u]}),v.jsx(VL,{wrapperStyle:{fontSize:12,color:"#9ca3af",paddingTop:"8px"}}),l.map((u,h)=>v.jsx(Fp,{type:"monotone",dataKey:u,stroke:D3[h%D3.length],dot:!1,strokeWidth:2,connectNulls:!1},u))]})})})}function Ede({onSelect:t}){const[e,n]=O.useState(!1),[r,i]=O.useState([]),a=O.useRef(null),l=()=>i(e6());return O.useEffect(()=>{if(!e)return;l();const o=u=>{a.current&&!a.current.contains(u.target)&&n(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[e]),v.jsxs("div",{className:"relative",ref:a,children:[v.jsxs("button",{onClick:()=>n(o=>!o),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded border border-gray-600 transition-colors duration-150",children:[v.jsx(Jw,{className:"w-3.5 h-3.5"}),"History",v.jsx(rc,{className:"w-3 h-3 text-gray-500"})]}),e&&v.jsx("div",{className:"absolute right-0 top-full mt-1 w-96 bg-gray-800 border border-gray-600 rounded shadow-2xl z-50 max-h-80 overflow-y-auto",children:r.length===0?v.jsx("div",{className:"text-gray-500 text-xs text-center py-4",children:"No query history"}):r.map((o,u)=>v.jsx("div",{onClick:()=>{t(o),n(!1)},className:"px-3 py-2 text-xs text-gray-300 hover:bg-gray-700 cursor-pointer truncate border-b border-gray-700 last:border-0 font-mono transition-colors duration-150",title:o,children:o},u))})]})}function Tde(){const[t,e]=O.useState([]),[n,r]=O.useState(xde()),[i,a]=O.useState([]),[l,o]=O.useState(""),[u,h]=O.useState("rfc3339"),[d,p]=O.useState('SELECT * FROM "measurement" LIMIT 100'),[g,y]=O.useState(null),[w,C]=O.useState(!1),[S,k]=O.useState("table");O.useEffect(()=>{Se.getDatabases().then(E=>{e(E),!n&&E.length>0&&(r(E[0]),P3(E[0]))}).catch(()=>{})},[]),O.useEffect(()=>{if(!n){a([]),o("");return}P3(n),Se.getRetentionPolicies(n).then(E=>{a(E);const I=E.find(_=>_.default);o(I?.name??E[0]?.name??"")}).catch(()=>{a([]),o("")})},[n]);const j=O.useCallback(async()=>{if(!d.trim()||w)return;C(!0);const E=performance.now();try{bde(d.trim());const I=await Se.query(d.trim(),n||void 0,u||void 0),_=Math.round(performance.now()-E),z=I.results?.[0]?.error,q=Cde(I);y({series:q,duration:_,error:z})}catch(I){const _=Math.round(performance.now()-E);y({series:[],duration:_,error:I?.message??"Unknown error"})}finally{C(!1)}},[d,n,u,w]),N=()=>{p(E=>Sde(E))},M=O.useCallback(E=>{p(I=>{const _=I.trimEnd(),z=_.length>0?" ":"";return _+z+E})},[]),D=E=>{E.key==="Enter"&&(E.ctrlKey||E.metaKey)&&(E.preventDefault(),j())},T=g?.series.reduce((E,I)=>E+I.rows.length,0)??0;return v.jsxs("div",{className:"flex flex-col h-full bg-gray-950 text-gray-100",children:[v.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-gray-900 border-b border-gray-700 flex-shrink-0",children:[v.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Query Explorer"}),v.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[v.jsx("label",{className:"text-xs text-gray-500",children:"Database"}),v.jsxs("select",{value:n,onChange:E=>r(E.target.value),className:"bg-gray-800 border border-gray-600 text-gray-200 text-xs rounded px-2 py-1 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:[v.jsx("option",{value:"",children:" select "}),t.map(E=>v.jsx("option",{value:E,children:E},E))]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-xs text-gray-500",children:"RP"}),v.jsxs("select",{value:l,onChange:E=>o(E.target.value),className:"bg-gray-800 border border-gray-600 text-gray-200 text-xs rounded px-2 py-1 focus:outline-none focus:border-blue-500 transition-colors duration-150",disabled:i.length===0,children:[v.jsx("option",{value:"",children:" default "}),i.map(E=>v.jsxs("option",{value:E.name,children:[E.name,E.default?" (default)":""]},E.name))]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-xs text-gray-500",children:"Epoch"}),v.jsx("select",{value:u,onChange:E=>h(E.target.value),className:"bg-gray-800 border border-gray-600 text-gray-200 text-xs rounded px-2 py-1 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:pde.map(E=>v.jsx("option",{value:E.value,children:E.label},E.value))})]})]}),v.jsxs("div",{className:"flex flex-1 min-h-0 overflow-hidden",children:[v.jsx("div",{className:"flex-shrink-0 border-r border-gray-700 overflow-hidden flex flex-col",style:{width:"250px"},children:v.jsx(Ade,{onInsert:M})}),v.jsxs("div",{className:"flex flex-col flex-1 min-w-0 overflow-hidden",children:[v.jsxs("div",{className:"flex-shrink-0 border-b border-gray-700 flex flex-col",style:{height:"200px"},children:[v.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 bg-gray-900 border-b border-gray-700",children:[v.jsx("span",{className:"text-xs text-gray-500",children:"InfluxQL    Ctrl+Enter to run"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:N,className:"px-2.5 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded border border-gray-600 transition-colors duration-150",children:"Format"}),v.jsx(Ede,{onSelect:p}),v.jsxs("button",{onClick:()=>{const E=d.trim();E&&!E.toUpperCase().startsWith("EXPLAIN")&&p("EXPLAIN "+E),j()},disabled:w,title:"Explain query plan",className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs bg-amber-700 hover:bg-amber-600 disabled:bg-amber-900 disabled:text-amber-400 text-white rounded transition-colors duration-150",children:[v.jsx(Y9,{className:"w-3.5 h-3.5"}),"Explain"]}),v.jsxs("button",{onClick:j,disabled:w,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold bg-blue-600 hover:bg-blue-700 disabled:bg-blue-900 disabled:text-blue-400 text-white rounded transition-colors duration-150",children:[v.jsx(IN,{className:"w-3.5 h-3.5"}),w?"Running":"Run"]})]})]}),v.jsx("div",{className:"flex-1 overflow-hidden",onKeyDown:D,children:v.jsx(BS,{value:d,onChange:p,extensions:[NY()],theme:"dark",height:"150px",style:{height:"150px",fontSize:"13px",backgroundColor:"#1f2937"},basicSetup:{lineNumbers:!0,highlightActiveLineGutter:!0,highlightActiveLine:!0,bracketMatching:!0,autocompletion:!0,indentOnInput:!0}})})]}),v.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[v.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 bg-gray-900 border-b border-gray-700 flex-shrink-0",children:[v.jsxs("button",{onClick:()=>k("table"),className:`flex items-center gap-1.5 px-3 py-1 text-xs rounded transition-colors duration-150 ${S==="table"?"bg-gray-700 text-gray-100":"text-gray-400 hover:text-gray-200 hover:bg-gray-800"}`,children:[v.jsx(I9,{className:"w-3.5 h-3.5"}),"Table"]}),v.jsxs("button",{onClick:()=>k("chart"),className:`flex items-center gap-1.5 px-3 py-1 text-xs rounded transition-colors duration-150 ${S==="chart"?"bg-gray-700 text-gray-100":"text-gray-400 hover:text-gray-200 hover:bg-gray-800"}`,children:[v.jsx(Lu,{className:"w-3.5 h-3.5"}),"Chart"]}),g&&!g.error&&v.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[v.jsxs("span",{className:"text-xs text-gray-500",children:[T," row",T!==1?"s":""]}),v.jsxs("button",{onClick:()=>Ode(g.series),title:"Download CSV",className:"flex items-center gap-1 px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded border border-gray-600 transition-colors duration-150",children:[v.jsx(Fx,{className:"w-3 h-3"})," CSV"]}),v.jsxs("button",{onClick:()=>kde(g.series),title:"Download JSON",className:"flex items-center gap-1 px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded border border-gray-600 transition-colors duration-150",children:[v.jsx(g9,{className:"w-3 h-3"})," JSON"]})]})]}),v.jsxs("div",{className:"flex-1 overflow-hidden min-h-0 bg-gray-950 p-3",children:[!g&&v.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-2 text-gray-600",children:[v.jsx(IN,{className:"w-8 h-8 opacity-30"}),v.jsx("span",{className:"text-sm",children:"Run a query to see results"})]}),g&&g.error&&v.jsx("div",{className:"bg-red-950/50 border border-red-700 rounded p-3 text-red-300 text-sm font-mono",children:g.error}),g&&!g.error&&v.jsxs("div",{className:"h-full overflow-hidden",children:[S==="table"&&v.jsx(Nde,{series:g.series}),S==="chart"&&v.jsx(jde,{series:g.series})]})]}),v.jsxs("div",{className:"flex-shrink-0 flex items-center gap-3 px-3 py-1 bg-gray-900 border-t border-gray-700 text-xs text-gray-500",children:[w&&v.jsxs("span",{className:"flex items-center gap-1.5 text-blue-400",children:[v.jsxs("svg",{className:"w-3 h-3 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Executing"]}),g&&!w&&v.jsxs(v.Fragment,{children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(Jw,{className:"w-3 h-3"}),wde(g.duration)]}),!g.error&&v.jsxs("span",{children:[T," row",T!==1?"s":""," returned"]}),g.error&&v.jsx("span",{className:"text-red-400",children:"Query failed"})]}),!g&&!w&&v.jsx("span",{children:"Ready"})]})]})]})]})]})}function Tf({title:t,message:e,confirmLabel:n="Confirm",onConfirm:r,onCancel:i,danger:a=!0,requireTypedConfirmation:l}){const[o,u]=O.useState(""),h=!l||o===l;return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:v.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-100 mb-2",children:t}),v.jsx("p",{className:"text-sm text-gray-400 mb-4",children:e}),l&&v.jsxs("div",{className:"mb-4",children:[v.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Type ",v.jsx("span",{className:"font-mono text-red-400 font-semibold",children:l})," to confirm:"]}),v.jsx("input",{type:"text",value:o,onChange:d=>u(d.target.value),autoFocus:!0,placeholder:l,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-600 focus:outline-none focus:border-red-500 transition-colors duration-150 font-mono"})]}),v.jsxs("div",{className:"flex justify-end gap-3",children:[v.jsx("button",{onClick:i,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150",children:"Cancel"}),v.jsx("button",{onClick:r,disabled:!h,className:`px-4 py-2 text-sm font-semibold text-white rounded-md transition-colors duration-150 disabled:opacity-40 disabled:cursor-not-allowed ${a?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:n})]})]})})}function Mde({message:t,onDismiss:e}){return v.jsxs("div",{className:"flex items-start justify-between bg-red-950/60 border border-red-700 rounded-md px-4 py-3 mb-4 text-sm text-red-300",children:[v.jsx("span",{className:"font-mono break-all",children:t}),v.jsx("button",{onClick:e,className:"ml-4 flex-shrink-0 text-red-400 hover:text-red-200 transition-colors duration-150",children:""})]})}function Dde({message:t,onDismiss:e}){return v.jsxs("div",{className:"flex items-start justify-between bg-green-950/60 border border-green-700 rounded-md px-4 py-3 mb-4 text-sm text-green-300",children:[v.jsx("span",{children:t}),v.jsx("button",{onClick:e,className:"ml-4 flex-shrink-0 text-green-400 hover:text-green-200 transition-colors duration-150",children:""})]})}function Pde({onClose:t,onCreated:e}){const[n,r]=O.useState(""),[i,a]=O.useState("30d"),[l,o]=O.useState(!1),[u,h]=O.useState(""),d=async()=>{const p=n.trim();if(!p){h("Database name is required.");return}o(!0),h("");try{const g=i.trim()||"INF";await Se.query(`CREATE DATABASE "${p}" WITH DURATION ${g}`),e(),t()}catch(g){h(g?.message??"Failed to create database.")}finally{o(!1)}};return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:v.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[v.jsx(Oi,{className:"w-5 h-5 text-blue-400"}),"Create Database"]}),u&&v.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono",children:u}),v.jsxs("div",{className:"flex flex-col gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Database Name"}),v.jsx("input",{type:"text",value:n,onChange:p=>r(p.target.value),placeholder:"my_database",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Default RP Duration",v.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(e.g. 30d, 1h, INF)"})]}),v.jsx("input",{type:"text",value:i,onChange:p=>a(p.target.value),placeholder:"30d",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]})]}),v.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[v.jsx("button",{onClick:t,disabled:l,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),v.jsxs("button",{onClick:d,disabled:l,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 flex items-center gap-2",children:[l&&v.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Create Database"]})]})]})})}function _de({database:t,onClose:e,onCreated:n}){const[r,i]=O.useState(""),[a,l]=O.useState("30d"),[o,u]=O.useState(""),[h,d]=O.useState("1"),[p,g]=O.useState(!1),[y,w]=O.useState(!1),[C,S]=O.useState(""),k=async()=>{const j=r.trim();if(!j){S("Retention policy name is required.");return}const N=a.trim();if(!N){S("Duration is required.");return}w(!0),S("");try{let M=`CREATE RETENTION POLICY "${j}" ON "${t}" DURATION ${N} REPLICATION ${h||"1"}`;o.trim()&&(M+=` SHARD DURATION ${o.trim()}`),p&&(M+=" DEFAULT"),await Se.query(M),n(),e()}catch(M){S(M?.message??"Failed to create retention policy.")}finally{w(!1)}};return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:v.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-1 flex items-center gap-2",children:[v.jsx(ds,{className:"w-5 h-5 text-blue-400"}),"Create Retention Policy"]}),v.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["on database ",v.jsx("span",{className:"text-blue-400 font-mono",children:t})]}),C&&v.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono",children:C}),v.jsxs("div",{className:"flex flex-col gap-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Policy Name"}),v.jsx("input",{type:"text",value:r,onChange:j=>i(j.target.value),placeholder:"my_policy",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Duration",v.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(e.g. 7d, 30d, INF)"})]}),v.jsx("input",{type:"text",value:a,onChange:j=>l(j.target.value),placeholder:"30d",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Shard Group Duration",v.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(optional, e.g. 1d)"})]}),v.jsx("input",{type:"text",value:o,onChange:j=>u(j.target.value),placeholder:"auto",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Replication Factor"}),v.jsx("input",{type:"number",min:"1",value:h,onChange:j=>d(j.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[v.jsx("input",{type:"checkbox",checked:p,onChange:j=>g(j.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500 focus:ring-offset-gray-800"}),v.jsx("span",{className:"text-sm text-gray-300",children:"Set as default retention policy"})]})]}),v.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[v.jsx("button",{onClick:e,disabled:y,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),v.jsxs("button",{onClick:k,disabled:y,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 flex items-center gap-2",children:[y&&v.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Create Policy"]})]})]})})}function Rde({database:t,rp:e,onClose:n,onAltered:r}){const[i,a]=O.useState(e.duration||""),[l,o]=O.useState(e.shardGroupDuration||""),[u,h]=O.useState(String(e.replicaN??1)),[d,p]=O.useState(e.default),[g,y]=O.useState(!1),[w,C]=O.useState(""),S=async()=>{y(!0),C("");try{let k=`ALTER RETENTION POLICY "${e.name}" ON "${t}"`;i.trim()&&(k+=` DURATION ${i.trim()}`),k+=` REPLICATION ${u||"1"}`,l.trim()&&(k+=` SHARD DURATION ${l.trim()}`),d&&(k+=" DEFAULT"),await Se.query(k),r(),n()}catch(k){C(k?.message??"Failed to alter retention policy.")}finally{y(!1)}};return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:v.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-1 flex items-center gap-2",children:[v.jsx(eS,{className:"w-5 h-5 text-blue-400"}),"Alter Retention Policy"]}),v.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:[v.jsx("span",{className:"text-blue-400 font-mono",children:e.name})," on ",v.jsx("span",{className:"text-blue-400 font-mono",children:t})]}),w&&v.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono",children:w}),v.jsxs("div",{className:"flex flex-col gap-3",children:[v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Duration ",v.jsx("span",{className:"text-xs text-gray-500",children:"(e.g. 7d, 30d, INF)"})]}),v.jsx("input",{type:"text",value:i,onChange:k=>a(k.target.value),placeholder:"30d",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Shard Group Duration ",v.jsx("span",{className:"text-xs text-gray-500",children:"(optional)"})]}),v.jsx("input",{type:"text",value:l,onChange:k=>o(k.target.value),placeholder:"auto",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Replication Factor"}),v.jsx("input",{type:"number",min:"1",value:u,onChange:k=>h(k.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[v.jsx("input",{type:"checkbox",checked:d,onChange:k=>p(k.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500 focus:ring-offset-gray-800"}),v.jsx("span",{className:"text-sm text-gray-300",children:"Set as default retention policy"})]})]}),v.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[v.jsx("button",{onClick:n,disabled:g,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),v.jsxs("button",{onClick:S,disabled:g,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 flex items-center gap-2",children:[g&&v.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Alter Policy"]})]})]})})}function Lde({onError:t,onSuccess:e}){const[n,r]=O.useState([]),[i,a]=O.useState(!0),[l,o]=O.useState(!1),[u,h]=O.useState(null),[d,p]=O.useState(null),[g,y]=O.useState(null),[w,C]=O.useState(null),S=O.useCallback(async()=>{a(!0);try{const E=await Se.getDatabases();r(I=>{const _=new Map(I.map(z=>[z.name,z]));return E.map(z=>_.get(z)??{name:z,expanded:!1,retentionPolicies:null,seriesCardinality:null,loadingRPs:!1,loadingCardinality:!1})})}catch(E){t(E?.message??"Failed to load databases.")}finally{a(!1)}},[t]);O.useEffect(()=>{S()},[S]);const k=O.useCallback(async E=>{r(_=>_.map(z=>z.name!==E?z:{...z,expanded:!z.expanded}));const I=n.find(_=>_.name===E);if(!(!I||I.retentionPolicies!==null)){r(_=>_.map(z=>z.name===E?{...z,loadingRPs:!0,loadingCardinality:!0}:z));try{const[_,z]=await Promise.all([Se.getRetentionPolicies(E),Se.getSeriesCardinality(E)]),q=_.map(B=>({name:B.name,duration:B.duration,shardGroupDuration:B.shardGroupDuration,replicaN:B.replicaN,default:B.default}));r(B=>B.map(re=>re.name===E?{...re,retentionPolicies:q,seriesCardinality:z,loadingRPs:!1,loadingCardinality:!1}:re))}catch(_){r(z=>z.map(q=>q.name===E?{...q,loadingRPs:!1,loadingCardinality:!1}:q)),t(_?.message??`Failed to load details for ${E}.`)}}},[n,t]),j=async E=>{h(null);try{await Se.query(`DROP DATABASE "${E}"`),e(`Database "${E}" dropped successfully.`),S()}catch(I){t(I?.message??`Failed to drop database "${E}".`)}},N=E=>{r(I=>I.map(_=>_.name===E?{..._,retentionPolicies:null,seriesCardinality:null}:_))},M=E=>{N(E),e(`Retention policy created on "${E}".`)},D=async(E,I)=>{C(null);try{await Se.query(`DROP RETENTION POLICY "${I}" ON "${E}"`),N(E),e(`Retention policy "${I}" dropped from "${E}".`),r(_=>_.map(z=>z.name===E?{...z,expanded:!1}:z)),setTimeout(()=>k(E),100)}catch(_){t(_?.message??`Failed to drop retention policy "${I}".`)}},T=E=>{N(E),e(`Retention policy altered on "${E}".`),r(I=>I.map(_=>_.name===E?{..._,expanded:!1}:_)),setTimeout(()=>k(E),100)};return v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[v.jsx(Oi,{className:"w-5 h-5 text-blue-400"}),"Databases"]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:S,disabled:i,title:"Refresh",className:"p-2 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-gray-200 rounded-md border border-gray-700 transition-colors duration-150 disabled:opacity-50",children:v.jsx(Xr,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),v.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150",children:[v.jsx(ds,{className:"w-4 h-4"}),"Create Database"]})]})]}),i&&n.length===0?v.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[v.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading databases..."]}):n.length===0?v.jsxs("div",{className:"text-center py-16 text-gray-500",children:[v.jsx(Oi,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),v.jsx("p",{className:"text-sm",children:"No databases found."})]}):v.jsx("div",{className:"flex flex-col gap-2",children:n.map(E=>v.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[v.jsxs("button",{onClick:()=>k(E.name),className:"flex items-center gap-2 text-left group",children:[v.jsx("span",{className:`text-gray-400 transition-transform duration-150 ${E.expanded?"rotate-90":"rotate-0"}`,children:""}),v.jsx(Oi,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),v.jsx("span",{className:"text-sm font-medium text-gray-100 group-hover:text-white transition-colors duration-150 font-mono",children:E.name})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("button",{onClick:()=>p(E.name),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-md border border-gray-600 transition-colors duration-150",children:[v.jsx(ds,{className:"w-3.5 h-3.5"}),"Create RP"]}),v.jsxs("button",{onClick:()=>h(E.name),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors duration-150",children:[v.jsx(Uo,{className:"w-3.5 h-3.5"}),"Drop"]})]})]}),E.expanded&&v.jsx("div",{className:"border-t border-gray-700 px-4 py-3",children:E.loadingRPs?v.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm py-2",children:[v.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading details..."]}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[v.jsx("span",{className:"text-xs text-gray-500",children:"Series Cardinality:"}),v.jsx("span",{className:"text-xs font-mono text-blue-300",children:E.seriesCardinality!==null?E.seriesCardinality.toLocaleString():"N/A"})]}),v.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Retention Policies"}),E.retentionPolicies&&E.retentionPolicies.length>0?v.jsx("div",{className:"rounded border border-gray-700 overflow-hidden",children:v.jsxs("table",{className:"min-w-full text-xs",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[v.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Name"}),v.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Duration"}),v.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Shard Group Duration"}),v.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Replication"}),v.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Default"}),v.jsx("th",{className:"px-3 py-2 text-right font-semibold text-gray-400 whitespace-nowrap",children:"Actions"})]})}),v.jsx("tbody",{children:E.retentionPolicies.map(I=>v.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[v.jsx("td",{className:"px-3 py-2 font-mono text-gray-200",children:I.name}),v.jsx("td",{className:"px-3 py-2 text-gray-300",children:I.duration||"INF"}),v.jsx("td",{className:"px-3 py-2 text-gray-300",children:I.shardGroupDuration||"auto"}),v.jsx("td",{className:"px-3 py-2 text-gray-300",children:I.replicaN}),v.jsx("td",{className:"px-3 py-2",children:I.default?v.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-semibold bg-blue-900/60 text-blue-300 border border-blue-700",children:"default"}):v.jsx("span",{className:"text-gray-600",children:""})}),v.jsx("td",{className:"px-3 py-2 text-right",children:v.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[v.jsx("button",{onClick:()=>y({db:E.name,rp:I}),title:"Edit",className:"p-1.5 text-gray-400 hover:text-blue-300 hover:bg-gray-700 rounded transition-colors duration-150",children:v.jsx(eS,{className:"w-3.5 h-3.5"})}),v.jsx("button",{onClick:()=>C({db:E.name,rpName:I.name}),title:"Drop",className:"p-1.5 text-gray-400 hover:text-red-300 hover:bg-gray-700 rounded transition-colors duration-150",children:v.jsx(Uo,{className:"w-3.5 h-3.5"})})]})})]},I.name))})]})}):v.jsx("p",{className:"text-sm text-gray-500",children:"No retention policies found."})]})})]},E.name))}),l&&v.jsx(Pde,{onClose:()=>o(!1),onCreated:()=>{e("Database created successfully."),S()}}),u&&v.jsx(Tf,{title:"Drop Database",message:`Are you sure you want to drop the database "${u}"? This action is irreversible and all data will be permanently deleted.`,confirmLabel:"Drop Database",requireTypedConfirmation:u,onConfirm:()=>j(u),onCancel:()=>h(null)}),d&&v.jsx(_de,{database:d,onClose:()=>p(null),onCreated:()=>M(d)}),g&&v.jsx(Rde,{database:g.db,rp:g.rp,onClose:()=>y(null),onAltered:()=>T(g.db)}),w&&v.jsx(Tf,{title:"Drop Retention Policy",message:`Are you sure you want to drop the retention policy "${w.rpName}" on database "${w.db}"? All data in this policy will be permanently deleted.`,confirmLabel:"Drop RP",requireTypedConfirmation:w.rpName,onConfirm:()=>D(w.db,w.rpName),onCancel:()=>C(null)})]})}function Bde({databases:t,onClose:e,onCreated:n}){const[r,i]=O.useState(""),[a,l]=O.useState(t[0]??""),[o,u]=O.useState(""),[h,d]=O.useState(""),[p,g]=O.useState(""),[y,w]=O.useState(!1),[C,S]=O.useState(""),k=async()=>{const j=r.trim();if(!j){S("Continuous query name is required.");return}if(!a){S("Database is required.");return}const N=p.trim();if(!N){S("SELECT query is required.");return}w(!0),S("");try{let M="";const D=o.trim(),T=h.trim();(D||T)&&(M=" RESAMPLE",D&&(M+=` EVERY ${D}`),T&&(M+=` FOR ${T}`));const E=`CREATE CONTINUOUS QUERY "${j}" ON "${a}"${M} BEGIN ${N} END`;await Se.query(E),n(),e()}catch(M){S(M?.message??"Failed to create continuous query.")}finally{w(!1)}};return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:v.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-lg mx-4 p-6",children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[v.jsx(Xr,{className:"w-5 h-5 text-blue-400"}),"Create Continuous Query"]}),C&&v.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono break-all",children:C}),v.jsxs("div",{className:"flex flex-col gap-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"CQ Name"}),v.jsx("input",{type:"text",value:r,onChange:j=>i(j.target.value),placeholder:"my_cq",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Database"}),v.jsx("select",{value:a,onChange:j=>l(j.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:t.map(j=>v.jsx("option",{value:j,children:j},j))})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Resample Every",v.jsx("span",{className:"ml-1 text-xs text-gray-500",children:"(optional)"})]}),v.jsx("input",{type:"text",value:o,onChange:j=>u(j.target.value),placeholder:"e.g. 1h",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Resample For",v.jsx("span",{className:"ml-1 text-xs text-gray-500",children:"(optional)"})]}),v.jsx("input",{type:"text",value:h,onChange:j=>d(j.target.value),placeholder:"e.g. 2h",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["SELECT Query",v.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(the full SELECT ... INTO ... FROM ... GROUP BY time(...) statement)"})]}),v.jsx("textarea",{value:p,onChange:j=>g(j.target.value),placeholder:'SELECT mean("value") INTO "downsampled"."autogen"."cpu" FROM "cpu" GROUP BY time(1h)',rows:4,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150 font-mono resize-y"})]})]}),v.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[v.jsx("button",{onClick:e,disabled:y,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),v.jsxs("button",{onClick:k,disabled:y,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 flex items-center gap-2",children:[y&&v.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Create CQ"]})]})]})})}function zde({onError:t,onSuccess:e}){const[n,r]=O.useState([]),[i,a]=O.useState(!0),[l,o]=O.useState(!1),[u,h]=O.useState([]),[d,p]=O.useState(null),g=O.useCallback(async()=>{try{const S=await Se.getDatabases();h(S)}catch{}},[]),y=O.useCallback(async()=>{a(!0);try{const k=(await Se.getContinuousQueries()).map(j=>{const N=j.columns?.indexOf("name")??0,M=j.columns?.indexOf("query")??1,D=(j.values??[]).map(T=>({name:T[N],query:T[M]}));return{database:j.name,queries:D}});r(k)}catch(S){t(S?.message??"Failed to load continuous queries.")}finally{a(!1)}},[t]);O.useEffect(()=>{y(),g()},[y,g]);const w=async(S,k)=>{p(null);try{await Se.query(`DROP CONTINUOUS QUERY "${S}" ON "${k}"`),e(`Continuous query "${S}" dropped from "${k}".`),y()}catch(j){t(j?.message??`Failed to drop continuous query "${S}".`)}},C=n.reduce((S,k)=>S+k.queries.length,0);return v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[v.jsx(Xr,{className:"w-5 h-5 text-blue-400"}),"Continuous Queries",!i&&v.jsxs("span",{className:"ml-1 text-xs font-normal text-gray-500",children:["(",C," total)"]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:y,disabled:i,title:"Refresh",className:"p-2 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-gray-200 rounded-md border border-gray-700 transition-colors duration-150 disabled:opacity-50",children:v.jsx(Xr,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),v.jsxs("button",{onClick:()=>{g(),o(!0)},className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150",children:[v.jsx(ds,{className:"w-4 h-4"}),"Create CQ"]})]})]}),i?v.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[v.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading continuous queries..."]}):n.length===0||C===0?v.jsxs("div",{className:"text-center py-16 text-gray-500",children:[v.jsx(Xr,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),v.jsx("p",{className:"text-sm",children:"No continuous queries found."})]}):v.jsx("div",{className:"flex flex-col gap-4",children:n.filter(S=>S.queries.length>0).map(S=>v.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[v.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 border-b border-gray-700 bg-gray-800",children:[v.jsx(Oi,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),v.jsx("span",{className:"text-sm font-semibold text-gray-200 font-mono",children:S.database}),v.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",S.queries.length," ",S.queries.length===1?"query":"queries",")"]})]}),v.jsxs("table",{className:"min-w-full text-xs",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[v.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-400 w-40",children:"Name"}),v.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-400",children:"Query"}),v.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-400 w-24",children:"Actions"})]})}),v.jsx("tbody",{children:S.queries.map(k=>v.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[v.jsx("td",{className:"px-4 py-2.5 font-mono text-blue-300 align-top whitespace-nowrap",children:k.name}),v.jsx("td",{className:"px-4 py-2.5 text-gray-300 font-mono break-all align-top",children:v.jsx("span",{className:"whitespace-pre-wrap text-xs leading-relaxed",children:k.query})}),v.jsx("td",{className:"px-4 py-2.5 text-right align-top",children:v.jsxs("button",{onClick:()=>p({name:k.name,db:S.database}),className:"flex items-center gap-1 px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors duration-150 ml-auto",children:[v.jsx(Uo,{className:"w-3 h-3"}),"Drop"]})})]},k.name))})]})]},S.database))}),d&&v.jsx(Tf,{title:"Drop Continuous Query",message:`Are you sure you want to drop the continuous query "${d.name}" on database "${d.db}"?`,confirmLabel:"Drop CQ",onConfirm:()=>w(d.name,d.db),onCancel:()=>p(null)}),l&&v.jsx(Bde,{databases:u,onClose:()=>o(!1),onCreated:()=>{e("Continuous query created successfully."),y()}})]})}function Ide({onCreated:t,onError:e,onSuccess:n}){const[r,i]=O.useState(""),[a,l]=O.useState(""),[o,u]=O.useState(!1),[h,d]=O.useState(!1),p=async()=>{const g=r.trim();if(!g){e("Username is required.");return}if(!a){e("Password is required.");return}d(!0);try{await Se.query(`CREATE USER "${g}" WITH PASSWORD '${a}'`),o&&await Se.query(`GRANT ALL PRIVILEGES TO "${g}"`),n(`User "${g}" created successfully.`),i(""),l(""),u(!1),t()}catch(y){e(y?.message??"Failed to create user.")}finally{d(!1)}};return v.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4 mb-6",children:[v.jsxs("h3",{className:"text-sm font-semibold text-gray-300 mb-3 flex items-center gap-2",children:[v.jsx(ds,{className:"w-4 h-4 text-blue-400"}),"Create User"]}),v.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[v.jsxs("div",{className:"flex-1 min-w-36",children:[v.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Username"}),v.jsx("input",{type:"text",value:r,onChange:g=>i(g.target.value),placeholder:"username",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),v.jsxs("div",{className:"flex-1 min-w-36",children:[v.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Password"}),v.jsx("input",{type:"password",value:a,onChange:g=>l(g.target.value),placeholder:"password",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),v.jsx("div",{className:"flex items-center gap-2 pb-0.5",children:v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[v.jsx("input",{type:"checkbox",checked:o,onChange:g=>u(g.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500 focus:ring-offset-gray-800"}),v.jsxs("span",{className:"text-sm text-gray-300 flex items-center gap-1",children:[v.jsx(Io,{className:"w-3.5 h-3.5 text-amber-400"}),"Admin"]})]})}),v.jsxs("button",{onClick:p,disabled:h,className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[h?v.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):v.jsx(ds,{className:"w-4 h-4"}),"Create User"]})]})]})}function Ude({username:t,onClose:e,onSuccess:n,onError:r}){const[i,a]=O.useState(""),[l,o]=O.useState(""),[u,h]=O.useState(!1),d=async()=>{if(!i){r("Password is required.");return}if(i!==l){r("Passwords do not match.");return}h(!0);try{await Se.query(`SET PASSWORD FOR "${t}" = '${i}'`),n(`Password changed for "${t}".`),e()}catch(p){r(p?.message??"Failed to change password.")}finally{h(!1)}};return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:v.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-sm mx-4 p-6",children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[v.jsx(r4,{className:"w-5 h-5 text-blue-400"}),"Change Password"]}),v.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["for user ",v.jsx("span",{className:"text-blue-400 font-mono",children:t})]}),v.jsxs("div",{className:"flex flex-col gap-3",children:[v.jsx("input",{type:"password",value:i,onChange:p=>a(p.target.value),placeholder:"New password",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"}),v.jsx("input",{type:"password",value:l,onChange:p=>o(p.target.value),placeholder:"Confirm password",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),v.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[v.jsx("button",{onClick:e,disabled:u,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),v.jsx("button",{onClick:d,disabled:u||!i||i!==l,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:"Change Password"})]})]})})}function Hde({username:t,databases:e,onClose:n,onSuccess:r,onError:i}){const[a,l]=O.useState(e[0]??""),[o,u]=O.useState("ALL"),[h,d]=O.useState(!1),p=async()=>{if(!a){i("Database is required.");return}d(!0);try{await Se.query(`GRANT ${o} ON "${a}" TO "${t}"`),r(`Granted ${o} on "${a}" to "${t}".`),n()}catch(g){i(g?.message??"Failed to grant privilege.")}finally{d(!1)}};return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:v.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-sm mx-4 p-6",children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[v.jsx(Io,{className:"w-5 h-5 text-blue-400"}),"Grant Privilege"]}),v.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["to user ",v.jsx("span",{className:"text-blue-400 font-mono",children:t})]}),v.jsxs("div",{className:"flex flex-col gap-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Database"}),v.jsx("select",{value:a,onChange:g=>l(g.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:e.map(g=>v.jsx("option",{value:g,children:g},g))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Privilege"}),v.jsxs("select",{value:o,onChange:g=>u(g.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:[v.jsx("option",{value:"ALL",children:"ALL PRIVILEGES"}),v.jsx("option",{value:"READ",children:"READ"}),v.jsx("option",{value:"WRITE",children:"WRITE"})]})]})]}),v.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[v.jsx("button",{onClick:n,disabled:h,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),v.jsx("button",{onClick:p,disabled:h,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:"Grant"})]})]})})}function qde({onError:t,onSuccess:e}){const[n,r]=O.useState([]),[i,a]=O.useState(!0),[l,o]=O.useState(null),[u,h]=O.useState(null),[d,p]=O.useState(null),[g,y]=O.useState([]),[w,C]=O.useState(null),[S,k]=O.useState({}),[j,N]=O.useState(null),M=O.useCallback(async()=>{a(!0);try{const _=await Se.getUsers();r(Array.isArray(_)?_:[])}catch(_){t(_?.message??"Failed to load users.")}finally{a(!1)}},[t]),D=O.useCallback(async()=>{try{y(await Se.getDatabases())}catch{}},[]);O.useEffect(()=>{M(),D()},[M,D]);const T=async _=>{o(null);try{await Se.query(`DROP USER "${_}"`),e(`User "${_}" dropped successfully.`),M()}catch(z){t(z?.message??`Failed to drop user "${_}".`)}},E=async _=>{if(w===_){C(null);return}if(C(_),!S[_]){N(_);try{const z=await Se.getUserGrants(_);k(q=>({...q,[_]:z}))}catch(z){t(z?.message??`Failed to load grants for "${_}".`)}finally{N(null)}}},I=async(_,z,q)=>{try{await Se.query(`REVOKE ${q} ON "${z}" FROM "${_}"`),e(`Revoked ${q} on "${z}" from "${_}".`);const B=await Se.getUserGrants(_);k(re=>({...re,[_]:B}))}catch(B){t(B?.message??"Failed to revoke privilege.")}};return v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[v.jsx(UN,{className:"w-5 h-5 text-blue-400"}),"Users"]}),v.jsx("button",{onClick:M,disabled:i,title:"Refresh",className:"p-2 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-gray-200 rounded-md border border-gray-700 transition-colors duration-150 disabled:opacity-50",children:v.jsx(Xr,{className:`w-4 h-4 ${i?"animate-spin":""}`})})]}),v.jsx(Ide,{onCreated:M,onError:t,onSuccess:e}),i?v.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[v.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading users..."]}):n.length===0?v.jsxs("div",{className:"text-center py-12 text-gray-500",children:[v.jsx(UN,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),v.jsx("p",{className:"text-sm",children:"No users found."})]}):v.jsx("div",{className:"flex flex-col gap-2",children:n.map(_=>v.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"font-mono text-gray-100 text-sm",children:_.user}),_.admin?v.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-semibold bg-amber-900/60 text-amber-300 border border-amber-700",children:[v.jsx(Io,{className:"w-3 h-3"})," Admin"]}):v.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-semibold bg-gray-700 text-gray-400 border border-gray-600",children:"User"})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsxs("button",{onClick:()=>E(_.user),title:"View Grants",className:"flex items-center gap-1 px-2.5 py-1.5 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-md border border-gray-600 transition-colors duration-150",children:[v.jsx(m9,{className:"w-3.5 h-3.5"}),"Grants",w===_.user?v.jsx(eg,{className:"w-3 h-3"}):v.jsx(rc,{className:"w-3 h-3"})]}),v.jsxs("button",{onClick:()=>h(_.user),title:"Change Password",className:"flex items-center gap-1 px-2.5 py-1.5 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-md border border-gray-600 transition-colors duration-150",children:[v.jsx(r4,{className:"w-3.5 h-3.5"}),"Password"]}),v.jsxs("button",{onClick:()=>{D(),p(_.user)},title:"Grant Privilege",className:"flex items-center gap-1 px-2.5 py-1.5 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150",children:[v.jsx(Io,{className:"w-3.5 h-3.5"}),"Grant"]}),v.jsxs("button",{onClick:()=>o(_.user),className:"flex items-center gap-1 px-2.5 py-1.5 text-xs bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors duration-150",children:[v.jsx(Uo,{className:"w-3.5 h-3.5"}),"Drop"]})]})]}),w===_.user&&v.jsxs("div",{className:"border-t border-gray-700 px-4 py-3 bg-gray-850",children:[v.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Database Grants"}),j===_.user?v.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-xs py-2",children:[v.jsxs("svg",{className:"w-3 h-3 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading grants..."]}):(S[_.user]??[]).length===0?v.jsx("p",{className:"text-xs text-gray-500",children:"No database-specific grants."}):v.jsx("div",{className:"rounded border border-gray-700 overflow-hidden",children:v.jsxs("table",{className:"min-w-full text-xs",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[v.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400",children:"Database"}),v.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400",children:"Privilege"}),v.jsx("th",{className:"px-3 py-2 text-right font-semibold text-gray-400",children:"Actions"})]})}),v.jsx("tbody",{children:(S[_.user]??[]).map((z,q)=>v.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[v.jsx("td",{className:"px-3 py-2 font-mono text-blue-300",children:z.database}),v.jsx("td",{className:"px-3 py-2 text-gray-300",children:z.privilege}),v.jsx("td",{className:"px-3 py-2 text-right",children:v.jsx("button",{onClick:()=>I(_.user,z.database,z.privilege),className:"px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white rounded transition-colors duration-150",children:"Revoke"})})]},q))})]})})]})]},_.user))}),l&&v.jsx(Tf,{title:"Drop User",message:`Are you sure you want to drop the user "${l}"? This action cannot be undone.`,confirmLabel:"Drop User",onConfirm:()=>T(l),onCancel:()=>o(null)}),u&&v.jsx(Ude,{username:u,onClose:()=>h(null),onSuccess:e,onError:t}),d&&v.jsx(Hde,{username:d,databases:g,onClose:()=>{p(null)},onSuccess:_=>{e(_),w===d&&Se.getUserGrants(d).then(z=>k(q=>({...q,[d]:z}))).catch(()=>{})},onError:t})]})}function $de({onError:t}){const[e,n]=O.useState([]),[r,i]=O.useState(!1),[a,l]=O.useState(!1),o=async()=>{i(!0),l(!1);try{const y=await Se.getDatabases();let w={};try{const S=await Se.getShardGroups();for(const k of S){const j=k.database||k.Database,N=k.end_time||k["end time"]||k.expiry_time;if(j&&N){const M=new Date(N);!isNaN(M.getTime())&&(!w[j]||M>w[j])&&(w[j]=M)}}}catch{}const C=await Promise.all(y.map(async S=>{let k=0,j=0,N=0;try{k=await Se.getSeriesCardinality(S)}catch{}try{j=(await Se.getMeasurements(S)).length}catch{}try{N=(await Se.getRetentionPolicies(S)).length}catch{}const M=w[S]||null;let D=null;return M&&(D=Math.max(0,Math.floor((Date.now()-M.getTime())/(1e3*60*60*24)))),{name:S,seriesCardinality:k,measurementCount:j,rpCount:N,latestShardEnd:M,staleDays:D}}));C.sort((S,k)=>k.seriesCardinality-S.seriesCardinality),n(C),l(!0)}catch(y){t(y?.message??"Analysis failed.")}finally{i(!1)}},u=y=>y.staleDays===null?"":y.staleDays===0?"Today":y.staleDays===1?"1 day ago":`${y.staleDays}d ago`,h=7,d=e.reduce((y,w)=>y+w.seriesCardinality,0),p=e.reduce((y,w)=>y+w.measurementCount,0),g=e.filter(y=>y.staleDays!==null&&y.staleDays>h).length;return v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[v.jsx(Lu,{className:"w-5 h-5 text-blue-400"}),"Usage Insights"]}),v.jsxs("button",{onClick:o,disabled:r,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[r?v.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):v.jsx(Lu,{className:"w-4 h-4"}),r?"Analyzing...":a?"Re-analyze":"Analyze Usage"]})]}),!a&&!r&&v.jsxs("div",{className:"text-center py-16 text-gray-500",children:[v.jsx(Lu,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),v.jsx("p",{className:"text-sm",children:'Click "Analyze Usage" to scan all databases.'}),v.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Queries each database for series cardinality, measurements, and shard groups."})]}),r&&v.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[v.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Analyzing databases... this may take a moment."]}),a&&!r&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 mb-6",children:[v.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 px-4 py-3",children:[v.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Databases"}),v.jsx("div",{className:"text-lg font-bold text-gray-100",children:e.length})]}),v.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 px-4 py-3",children:[v.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Total Series"}),v.jsx("div",{className:"text-lg font-bold text-gray-100",children:d.toLocaleString()})]}),v.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 px-4 py-3",children:[v.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Total Measurements"}),v.jsx("div",{className:"text-lg font-bold text-gray-100",children:p.toLocaleString()})]}),v.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 px-4 py-3",children:[v.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["Stale (",">","7d)"]}),v.jsx("div",{className:`text-lg font-bold ${g>0?"text-amber-400":"text-green-400"}`,children:g})]})]}),e.length===0?v.jsxs("div",{className:"text-center py-12 text-gray-500",children:[v.jsx(Oi,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),v.jsx("p",{className:"text-sm",children:"No databases found."})]}):v.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:v.jsxs("table",{className:"min-w-full text-sm",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[v.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400",children:"Database"}),v.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"Series"}),v.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"Measurements"}),v.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"RPs"}),v.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"Latest Shard"}),v.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-400",children:"Status"})]})}),v.jsx("tbody",{children:e.map(y=>{const w=y.staleDays!==null&&y.staleDays>h,C=y.name==="_internal";return v.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[v.jsxs("td",{className:"px-4 py-3 font-mono text-gray-100",children:[y.name,C&&v.jsx("span",{className:"ml-2 text-[10px] text-gray-500 font-sans",children:"(system)"})]}),v.jsx("td",{className:"px-4 py-3 text-right font-mono text-gray-300",children:y.seriesCardinality.toLocaleString()}),v.jsx("td",{className:"px-4 py-3 text-right font-mono text-gray-300",children:y.measurementCount.toLocaleString()}),v.jsx("td",{className:"px-4 py-3 text-right font-mono text-gray-300",children:y.rpCount}),v.jsx("td",{className:"px-4 py-3 text-right text-gray-400 text-xs",children:u(y)}),v.jsx("td",{className:"px-4 py-3 text-center",children:w&&!C?v.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-semibold bg-amber-900/60 text-amber-300 border border-amber-700",children:[v.jsx(V9,{className:"w-3 h-3"}),"Stale"]}):y.staleDays!==null?v.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-green-900/40 text-green-400 border border-green-800",children:"Active"}):v.jsx("span",{className:"text-gray-600 text-xs",children:""})})]},y.name)})})]})})]})]})}function Vde({onError:t,onSuccess:e}){const[n,r]=O.useState([]),[i,a]=O.useState(!0),[l,o]=O.useState(!1),[u,h]=O.useState([]),[d,p]=O.useState(null),[g,y]=O.useState(""),[w,C]=O.useState(""),[S,k]=O.useState(""),[j,N]=O.useState("ANY"),[M,D]=O.useState(""),[T,E]=O.useState(!1),[I,_]=O.useState(""),z=O.useCallback(async()=>{a(!0);try{const ee=await Se.getSubscriptions();r(ee)}catch(ee){t(ee?.message??"Failed to load subscriptions.")}finally{a(!1)}},[t]),q=O.useCallback(async()=>{try{h(await Se.getDatabases())}catch{}},[]);O.useEffect(()=>{z(),q()},[z,q]);const B=async(ee,H,Y)=>{p(null);try{await Se.query(`DROP SUBSCRIPTION "${ee}" ON "${H}"."${Y}"`),e(`Subscription "${ee}" dropped.`),z()}catch(le){t(le?.message??`Failed to drop subscription "${ee}".`)}},re=async()=>{if(!S.trim()){_("Subscription name is required.");return}if(!g){_("Database is required.");return}if(!w.trim()){_("Retention policy is required.");return}if(!M.trim()){_("At least one destination is required.");return}E(!0),_("");try{const ee=M.split(",").map(H=>`'${H.trim()}'`).join(", ");await Se.query(`CREATE SUBSCRIPTION "${S.trim()}" ON "${g}"."${w.trim()}" DESTINATIONS ${j} ${ee}`),e("Subscription created successfully."),o(!1),k(""),C(""),D(""),z()}catch(ee){_(ee?.message??"Failed to create subscription.")}finally{E(!1)}},se=n.reduce((ee,H)=>ee+(H.values?.length??0),0);return v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[v.jsx(Nv,{className:"w-5 h-5 text-blue-400"}),"Subscriptions",!i&&v.jsxs("span",{className:"ml-1 text-xs font-normal text-gray-500",children:["(",se," total)"]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:z,disabled:i,title:"Refresh",className:"p-2 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-gray-200 rounded-md border border-gray-700 transition-colors duration-150 disabled:opacity-50",children:v.jsx(Xr,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),v.jsxs("button",{onClick:()=>{q(),o(!0)},className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150",children:[v.jsx(ds,{className:"w-4 h-4"})," Create Subscription"]})]})]}),i?v.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[v.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading subscriptions..."]}):se===0?v.jsxs("div",{className:"text-center py-16 text-gray-500",children:[v.jsx(Nv,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),v.jsx("p",{className:"text-sm",children:"No subscriptions found."})]}):v.jsx("div",{className:"flex flex-col gap-4",children:n.filter(ee=>ee.values?.length>0).map(ee=>v.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[v.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 border-b border-gray-700 bg-gray-800",children:[v.jsx(Oi,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),v.jsx("span",{className:"text-sm font-semibold text-gray-200 font-mono",children:ee.name})]}),v.jsxs("table",{className:"min-w-full text-xs",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[(ee.columns??[]).map(H=>v.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-400",children:H},H)),v.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-400 w-24",children:"Actions"})]})}),v.jsx("tbody",{children:(ee.values??[]).map((H,Y)=>{const le=(ee.columns??[]).indexOf("name"),oe=(ee.columns??[]).indexOf("retention_policy");return v.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[H.map((he,R)=>v.jsx("td",{className:"px-4 py-2.5 text-gray-300 font-mono break-all",children:String(he??"")},R)),v.jsx("td",{className:"px-4 py-2.5 text-right",children:v.jsx("button",{onClick:()=>p({name:H[le]??"",db:ee.name,rp:H[oe]??""}),className:"px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white rounded transition-colors duration-150",children:"Drop"})})]},Y)})})]})]},ee.name))}),d&&v.jsx(Tf,{title:"Drop Subscription",message:`Drop subscription "${d.name}" on "${d.db}"."${d.rp}"?`,confirmLabel:"Drop",onConfirm:()=>B(d.name,d.db,d.rp),onCancel:()=>p(null)}),l&&v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:v.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[v.jsx(Nv,{className:"w-5 h-5 text-blue-400"})," Create Subscription"]}),I&&v.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono",children:I}),v.jsxs("div",{className:"flex flex-col gap-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Subscription Name"}),v.jsx("input",{type:"text",value:S,onChange:ee=>k(ee.target.value),placeholder:"my_subscription",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Database"}),v.jsxs("select",{value:g,onChange:ee=>y(ee.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:[v.jsx("option",{value:"",children:"Select database"}),u.map(ee=>v.jsx("option",{value:ee,children:ee},ee))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Retention Policy"}),v.jsx("input",{type:"text",value:w,onChange:ee=>C(ee.target.value),placeholder:"autogen",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Mode"}),v.jsxs("select",{value:j,onChange:ee=>N(ee.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:[v.jsx("option",{value:"ANY",children:"ANY"}),v.jsx("option",{value:"ALL",children:"ALL"})]})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Destinations ",v.jsx("span",{className:"text-xs text-gray-500",children:"(comma-separated URIs)"})]}),v.jsx("input",{type:"text",value:M,onChange:ee=>D(ee.target.value),placeholder:"udp://host1:9090, udp://host2:9090",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]})]}),v.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[v.jsx("button",{onClick:()=>o(!1),disabled:T,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),v.jsx("button",{onClick:re,disabled:T,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:"Create"})]})]})})]})}function Wde({onError:t}){const[e,n]=O.useState([]),[r,i]=O.useState([]),[a,l]=O.useState({}),[o,u]=O.useState(!1),[h,d]=O.useState(!1),p=async()=>{u(!0);try{const[w,C]=await Promise.all([Se.getUsers(),Se.getDatabases()]);n(Array.isArray(w)?w:[]),i(C);const S={};await Promise.all((w??[]).map(async k=>{try{const j=await Se.getUserGrants(k.user),N={};for(const M of j)N[M.database]=M.privilege;S[k.user]=N}catch{S[k.user]={}}})),l(S),d(!0)}catch(w){t(w?.message??"Failed to load privilege matrix.")}finally{u(!1)}},g=w=>!w||w==="NO PRIVILEGES"?"text-gray-600":w==="ALL PRIVILEGES"?"text-green-400":w==="READ"?"text-blue-400":w==="WRITE"?"text-amber-400":"text-gray-300",y=w=>!w||w==="NO PRIVILEGES"?"-":w==="ALL PRIVILEGES"?"ALL":w;return v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[v.jsx(Io,{className:"w-5 h-5 text-blue-400"}),"Privilege Matrix"]}),v.jsxs("button",{onClick:p,disabled:o,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[o?v.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):v.jsx(Xr,{className:"w-4 h-4"}),o?"Loading...":h?"Refresh":"Load Matrix"]})]}),!h&&!o&&v.jsxs("div",{className:"text-center py-16 text-gray-500",children:[v.jsx(Io,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),v.jsx("p",{className:"text-sm",children:'Click "Load Matrix" to view the per-database privilege grid.'}),v.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Shows SHOW GRANTS for each user across all databases."})]}),o&&v.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[v.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading privilege matrix..."]}),h&&!o&&v.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-x-auto",children:v.jsxs("table",{className:"min-w-full text-xs",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[v.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 sticky left-0 bg-gray-800 z-10",children:"User"}),v.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-400",children:"Admin"}),r.map(w=>v.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-400 font-mono whitespace-nowrap",children:w},w))]})}),v.jsx("tbody",{children:e.map(w=>v.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[v.jsx("td",{className:"px-4 py-3 font-mono text-gray-100 sticky left-0 bg-gray-800",children:w.user}),v.jsx("td",{className:"px-4 py-3 text-center",children:w.admin?v.jsx("span",{className:"text-amber-400 font-semibold",children:"Yes"}):v.jsx("span",{className:"text-gray-600",children:"No"})}),r.map(C=>{const S=a[w.user]?.[C]??"";return v.jsx("td",{className:`px-4 py-3 text-center font-semibold ${g(S)}`,children:y(S)},C)})]},w.user))})]})})]})}const Fde=[{id:"databases",label:"Databases & RPs"},{id:"continuous_queries",label:"Continuous Queries"},{id:"users",label:"Users"},{id:"subscriptions",label:"Subscriptions"},{id:"privileges",label:"Privileges"},{id:"insights",label:"Usage Insights"}];function Kde(){const[t,e]=O.useState("databases"),[n,r]=O.useState(""),[i,a]=O.useState(""),l=O.useCallback(u=>{r(u),a("")},[]),o=O.useCallback(u=>{a(u),r("")},[]);return v.jsxs("div",{className:"min-h-full bg-gray-950 text-gray-100",children:[v.jsxs("div",{className:"border-b border-gray-800 px-6 py-4",children:[v.jsxs("h1",{className:"text-xl font-bold text-gray-100 flex items-center gap-2",children:[v.jsx(Oi,{className:"w-6 h-6 text-blue-400"}),"Database Administration"]}),v.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Manage databases, retention policies, continuous queries, and users."})]}),v.jsx("div",{className:"flex items-center gap-1 px-6 pt-4 pb-0",children:Fde.map(u=>v.jsx("button",{onClick:()=>{e(u.id),r(""),a("")},className:`px-4 py-2 text-sm font-medium rounded-t-md transition-colors duration-150 ${t===u.id?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-gray-200 hover:bg-gray-700"}`,children:u.label},u.id))}),v.jsxs("div",{className:"px-6 py-5",children:[n&&v.jsx(Mde,{message:n,onDismiss:()=>r("")}),i&&v.jsx(Dde,{message:i,onDismiss:()=>a("")}),t==="databases"&&v.jsx(Lde,{onError:l,onSuccess:o}),t==="continuous_queries"&&v.jsx(zde,{onError:l,onSuccess:o}),t==="users"&&v.jsx(qde,{onError:l,onSuccess:o}),t==="subscriptions"&&v.jsx(Vde,{onError:l,onSuccess:o}),t==="privileges"&&v.jsx(Wde,{onError:l}),t==="insights"&&v.jsx($de,{onError:l})]})]})}const Gde=[{value:"ns",label:"ns  Nanoseconds"},{value:"us",label:"us  Microseconds"},{value:"ms",label:"ms  Milliseconds"},{value:"s",label:"s   Seconds"}],Yde=`Enter line protocol data here...
cpu,host=server01 usage_idle=98.2 1622505600000000000`;function Ux(t){return t.split(`
`).filter(e=>e.trim().length>0&&!e.trim().startsWith("#")).length}function Gw(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const a=t[i];r?a==='"'&&t[i+1]==='"'?(n+='"',i++):a==='"'?r=!1:n+=a:a==='"'?r=!0:a===","?(e.push(n),n=""):n+=a}return e.push(n),e}function _3(t,e,n,r){const i=t.split(`
`).filter(o=>o.trim().length>0);if(i.length<2)return"";const a=Gw(i[0]).map(o=>o.trim()),l=[];for(let o=1;o<i.length;o++){const u=Gw(i[o]);if(u.length!==a.length)continue;let h="";const d=[];let p="";if(a.forEach((y,w)=>{const C=u[w]?.trim()??"";if(C)if(y===r){const S=Number(C);if(!isNaN(S))p=String(S);else{const k=new Date(C);isNaN(k.getTime())||(p=String(k.getTime()*1e6))}}else if(n.has(y)){const S=C.replace(/ /g,"\\ ").replace(/,/g,"\\,").replace(/=/g,"\\=");h+=`,${y}=${S}`}else{const S=Number(C);!isNaN(S)&&C!==""?d.push(`${y}=${C}`):C==="true"||C==="false"||C==="TRUE"||C==="FALSE"?d.push(`${y}=${C.toLowerCase()}`):d.push(`${y}="${C.replace(/"/g,'\\"')}"`)}}),d.length===0)continue;let g=e+h+" "+d.join(",");p&&(g+=" "+p),l.push(g)}return l.join(`
`)}function Qde({onConvert:t}){const[e,n]=O.useState(""),[r,i]=O.useState([]),[a,l]=O.useState(""),[o,u]=O.useState(new Set),[h,d]=O.useState(""),[p,g]=O.useState(""),y=O.useRef(null),w=O.useCallback(N=>{const M=N.split(`
`)[0]??"",D=Gw(M).map(E=>E.trim()).filter(Boolean);i(D);const T=D.find(E=>/^(time|timestamp|date|datetime)$/i.test(E));T&&d(T)},[]),C=N=>{const M=N.target.files?.[0];if(!M)return;const D=new FileReader;D.onload=T=>{const E=T.target?.result;typeof E=="string"&&(n(E),w(E))},D.readAsText(M),N.target.value=""},S=N=>{u(M=>{const D=new Set(M);return D.has(N)?D.delete(N):D.add(N),D})},k=()=>{if(!a.trim()||!e)return;const N=_3(e,a.trim(),o,h);g(N)},j=()=>{if(!a.trim()||!e)return;const N=_3(e,a.trim(),o,h);t(N)};return v.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4 mt-6",children:[v.jsxs("h3",{className:"text-sm font-semibold text-gray-200 mb-3 flex items-center gap-2",children:[v.jsx(v9,{className:"w-4 h-4 text-blue-400"}),"CSV Import"]}),v.jsxs("div",{className:"flex flex-col gap-3",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("button",{onClick:()=>y.current?.click(),className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 text-gray-200 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[v.jsx(i4,{className:"w-4 h-4"})," Upload CSV"]}),v.jsx("input",{ref:y,type:"file",accept:".csv",className:"hidden",onChange:C}),e&&v.jsxs("span",{className:"text-xs text-gray-400",children:[e.split(`
`).length-1," rows detected"]})]}),r.length>0&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Measurement Name"}),v.jsx("input",{type:"text",value:a,onChange:N=>l(N.target.value),placeholder:"my_measurement",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150 max-w-xs"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Timestamp Column"}),v.jsxs("select",{value:h,onChange:N=>d(N.target.value),className:"bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150 max-w-xs",children:[v.jsx("option",{value:"",children:"(none  auto timestamp)"}),r.map(N=>v.jsx("option",{value:N,children:N},N))]})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-xs font-medium text-gray-400 mb-2",children:["Tag Columns ",v.jsx("span",{className:"text-gray-500",children:"(click to toggle, unselected = field)"})]}),v.jsx("div",{className:"flex flex-wrap gap-2",children:r.filter(N=>N!==h).map(N=>v.jsx("button",{onClick:()=>S(N),className:`px-2.5 py-1 text-xs rounded-md border transition-colors duration-150 font-mono ${o.has(N)?"bg-blue-600 border-blue-500 text-white":"bg-gray-700 border-gray-600 text-gray-300 hover:bg-gray-600"}`,children:N},N))})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:k,disabled:!a.trim(),className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 text-gray-200 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:"Preview"}),v.jsxs("button",{onClick:j,disabled:!a.trim(),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[v.jsx(GU,{className:"w-4 h-4"})," Convert to Line Protocol"]})]}),p&&v.jsx("div",{className:"bg-gray-900 rounded-md border border-gray-700 p-3 max-h-48 overflow-y-auto",children:v.jsxs("pre",{className:"text-xs text-gray-300 font-mono whitespace-pre-wrap",children:[p.split(`
`).slice(0,20).join(`
`),p.split(`
`).length>20?`
... (${p.split(`
`).length-20} more lines)`:""]})})]})]})]})}function Xde(){const[t,e]=O.useState([]),[n,r]=O.useState(""),[i,a]=O.useState([]),[l,o]=O.useState(""),[u,h]=O.useState("ns"),[d,p]=O.useState(""),[g,y]=O.useState({kind:"idle"}),[w,C]=O.useState(!1),S=O.useRef(null);O.useEffect(()=>{Se.getDatabases().then(T=>{e(T),T.length>0&&r(T[0])}).catch(()=>{})},[]),O.useEffect(()=>{if(!n){a([]),o("");return}Se.getRetentionPolicies(n).then(T=>{a(T);const E=T.find(I=>I.default);o(E?.name??T[0]?.name??"")}).catch(()=>{a([]),o("")})},[n]);const k=async()=>{const T=d.trim();if(!(!n||!T)){C(!0),y({kind:"loading"});try{await Se.write(n,T,u,l||void 0);const E=Ux(T);y({kind:"success",points:E})}catch(E){y({kind:"error",message:E?.message??"Unknown error"})}finally{C(!1)}}},j=()=>{S.current?.click()},N=T=>{const E=T.target.files?.[0];if(!E)return;const I=new FileReader;I.onload=_=>{const z=_.target?.result;typeof z=="string"&&(p(z),y({kind:"idle"}))},I.readAsText(E),T.target.value=""},M=()=>{p(""),y({kind:"idle"})},D=!!n&&d.trim().length>0;return v.jsxs("div",{className:"flex flex-col h-full bg-gray-950 text-gray-100 overflow-y-auto",children:[v.jsx("div",{className:"flex items-center gap-3 px-4 py-2 bg-gray-900 border-b border-gray-700 flex-shrink-0",children:v.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Write Data"})}),v.jsx("div",{className:"flex-1 p-6",children:v.jsxs("div",{className:"max-w-4xl mx-auto bg-gray-800 rounded-lg border border-gray-700 p-6 flex flex-col gap-6",children:[v.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[v.jsxs("div",{className:"flex flex-col gap-1.5",children:[v.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Database"}),v.jsxs("select",{value:n,onChange:T=>{r(T.target.value),y({kind:"idle"})},className:"bg-gray-700 border border-gray-600 text-gray-100 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors duration-150 min-w-[160px]",children:[v.jsx("option",{value:"",children:" select database "}),t.map(T=>v.jsx("option",{value:T,children:T},T))]})]}),v.jsxs("div",{className:"flex flex-col gap-1.5",children:[v.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Retention Policy"}),v.jsxs("select",{value:l,onChange:T=>o(T.target.value),disabled:i.length===0,className:"bg-gray-700 border border-gray-600 text-gray-100 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors duration-150 min-w-[160px] disabled:opacity-50 disabled:cursor-not-allowed",children:[v.jsx("option",{value:"",children:" default "}),i.map(T=>v.jsxs("option",{value:T.name,children:[T.name,T.default?" (default)":""]},T.name))]})]}),v.jsxs("div",{className:"flex flex-col gap-1.5",children:[v.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Precision"}),v.jsx("select",{value:u,onChange:T=>h(T.target.value),className:"bg-gray-700 border border-gray-600 text-gray-100 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors duration-150 min-w-[180px]",children:Gde.map(T=>v.jsx("option",{value:T.value,children:T.label},T.value))})]})]}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Line Protocol Data"}),v.jsxs("span",{className:"text-xs text-gray-500",children:[Ux(d)," line",Ux(d)!==1?"s":""]})]}),v.jsx("div",{className:"rounded-md overflow-hidden border border-gray-600",children:v.jsx(BS,{value:d,onChange:T=>{p(T),(g.kind==="success"||g.kind==="error")&&y({kind:"idle"})},placeholder:Yde,theme:"dark",height:"300px",style:{height:"300px",fontSize:"13px",backgroundColor:"#1f2937"},basicSetup:{lineNumbers:!0,highlightActiveLineGutter:!0,highlightActiveLine:!0,bracketMatching:!1,autocompletion:!1,indentOnInput:!1}})})]}),v.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[v.jsxs("button",{onClick:k,disabled:!D||w,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-900 disabled:text-blue-400 disabled:cursor-not-allowed text-white px-4 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[v.jsx(R9,{className:"w-4 h-4"}),"Write Data"]}),v.jsxs("button",{onClick:j,disabled:w,className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-gray-200 px-4 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[v.jsx(i4,{className:"w-4 h-4"}),"Upload File"]}),v.jsx("input",{ref:S,type:"file",accept:".txt,.lp",className:"hidden",onChange:N}),v.jsxs("button",{onClick:M,disabled:w,className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-gray-200 px-4 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[v.jsx(Uo,{className:"w-4 h-4"}),"Clear"]})]}),g.kind!=="idle"&&v.jsxs("div",{className:"flex items-start gap-3 rounded-md px-4 py-3 text-sm border",style:g.kind==="loading"?{backgroundColor:"rgba(55,65,81,0.5)",borderColor:"#4b5563",color:"#d1d5db"}:g.kind==="success"?{backgroundColor:"rgba(5,46,22,0.6)",borderColor:"#15803d",color:"#86efac"}:{backgroundColor:"rgba(69,10,10,0.6)",borderColor:"#b91c1c",color:"#fca5a5"},children:[g.kind==="loading"&&v.jsxs(v.Fragment,{children:[v.jsxs("svg",{className:"w-5 h-5 animate-spin flex-shrink-0 mt-0.5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),v.jsx("span",{children:"Writing data..."})]}),g.kind==="success"&&v.jsxs(v.Fragment,{children:[v.jsx(i9,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),v.jsxs("span",{children:[g.points," point",g.points!==1?"s":""," written successfully"]})]}),g.kind==="error"&&v.jsxs(v.Fragment,{children:[v.jsx(n4,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),v.jsx("span",{className:"break-all font-mono text-xs",children:g.message})]})]}),v.jsx(Qde,{onConvert:T=>{p(T),y({kind:"idle"})}})]})})]})}function R3(t){return t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}function Hx(t){if(!t)return"";try{return new Date(t).toLocaleString()}catch{return t}}function Zde(t){const e={};if(!t?.results)return e;for(const n of t.results)if(n.series)for(const r of n.series){const i=(r.name??"").toLowerCase();if(i==="system"){const a=r.columns??[],l=r.values??[];if(l.length===0)continue;const o=l[0],u=h=>{const d=a.indexOf(h);return d>=0?String(o[d]??""):""};e.uptime=u("uptime")||u("upTime")||u("currentTime"),e.pid=u("PID")||u("pid")}if(i==="runtime"){const a=r.columns??[],l=r.values??[];if(l.length===0)continue;const o=l[0],u=h=>{const d=a.indexOf(h);return d>=0?String(o[d]??""):""};e.goVersion=u("version")||u("GOOS"),e.os=u("GOOS"),e.arch=u("GOARCH")}if(i==="build"){const a=r.columns??[],l=r.values??[];if(l.length===0)continue;const o=l[0],u=h=>{const d=a.indexOf(h);return d>=0?String(o[d]??""):""};e.version=u("Version")||u("version"),e.goVersion||(e.goVersion=u("GoVersion")||u("goVersion")),e.os||(e.os=u("OS")||u("os")),e.arch||(e.arch=u("Arch")||u("arch"))}}return e}function L3(t,e,n){if(!t?.results)return 0;for(const r of t.results)if(r.series)for(const i of r.series){if((i.name??"").toLowerCase()!==e.toLowerCase())continue;const l=i.columns??[],o=i.values??[],u=l.indexOf(n);if(!(u<0)&&o.length>0)return Number(o[0][u])||0}return 0}function Jde({message:t,onDismiss:e}){return v.jsxs("div",{className:"flex items-start justify-between bg-red-950/60 border border-red-700 rounded-md px-4 py-3 mb-4 text-sm text-red-300",children:[v.jsx("span",{className:"font-mono break-all",children:t}),v.jsx("button",{onClick:e,className:"ml-4 flex-shrink-0 text-red-400 hover:text-red-200 transition-colors duration-150",children:""})]})}function Nu({icon:t,label:e,value:n}){return v.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4 flex flex-col gap-2",children:[v.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs font-semibold uppercase tracking-wider",children:[t,e]}),v.jsx("div",{className:"text-gray-100 text-sm font-mono break-all leading-relaxed",children:n||v.jsx("span",{className:"text-gray-600 italic",children:""})})]})}function B3({active:t,payload:e,label:n}){return!t||!e?.length?null:v.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-xs shadow-lg",children:[v.jsx("p",{className:"text-gray-400 mb-1",children:n}),e.map(r=>v.jsxs("p",{style:{color:r.color},children:[r.name,": ",v.jsx("span",{className:"font-mono font-semibold",children:r.value.toLocaleString()})]},r.dataKey))]})}function ju({icon:t,title:e,subtitle:n}){return v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx("span",{className:"text-blue-400",children:t}),v.jsx("h2",{className:"text-base font-semibold text-gray-200",children:e}),n&&v.jsx("span",{className:"text-xs text-gray-500",children:n})]})}function z3(t){const e=[];if(!t?.results)return e;for(const n of t.results)for(const r of n.series??[])e.push({name:r.name??"Unknown",columns:r.columns??[],values:r.values??[]});return e}function I3({section:t}){const[e,n]=O.useState(!1);return v.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[v.jsxs("button",{onClick:()=>n(r=>!r),className:"flex items-center justify-between w-full px-4 py-3 text-left hover:bg-gray-750 transition-colors duration-150",children:[v.jsx("span",{className:"text-sm font-semibold text-gray-200",children:t.name}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("span",{className:"text-xs text-gray-500",children:[t.columns.length," fields"]}),e?v.jsx(eg,{className:"w-4 h-4 text-gray-400"}):v.jsx(rc,{className:"w-4 h-4 text-gray-400"})]})]}),e&&t.values.length>0&&v.jsxs("div",{className:"border-t border-gray-700 px-4 py-3",children:[v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:t.columns.map((r,i)=>v.jsxs("div",{className:"flex items-start gap-2",children:[v.jsxs("span",{className:"text-xs text-gray-500 min-w-[120px] font-mono",children:[r,":"]}),v.jsx("span",{className:"text-xs text-gray-200 font-mono break-all",children:String(t.values[0][i]??"")})]},r))}),t.values.length>1&&v.jsx("div",{className:"mt-3 border-t border-gray-700 pt-3",children:v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full text-xs",children:[v.jsx("thead",{children:v.jsx("tr",{className:"border-b border-gray-700",children:t.columns.map(r=>v.jsx("th",{className:"px-2 py-1 text-left font-semibold text-gray-400 whitespace-nowrap",children:r},r))})}),v.jsx("tbody",{children:t.values.map((r,i)=>v.jsx("tr",{className:"border-b border-gray-700 last:border-0",children:r.map((a,l)=>v.jsx("td",{className:"px-2 py-1 text-gray-300 font-mono whitespace-nowrap",children:String(a??"")},l))},i))})]})})})]})]})}function eme(){const[t,e]=O.useState({}),[n,r]=O.useState(!0),[i,a]=O.useState([]),[l,o]=O.useState([]),[u,h]=O.useState(null),[d,p]=O.useState([]),[g,y]=O.useState(!0),[w,C]=O.useState(0),S=25,[k,j]=O.useState(null),[N,M]=O.useState(""),[D,T]=O.useState([]),[E,I]=O.useState([]),[_,z]=O.useState(!1),[q,B]=O.useState(!1),[re,se]=O.useState(!1),ee=O.useRef(null),H=O.useCallback(async()=>{r(!0);try{const Q=await Se.getDiagnostics(),de=Zde(Q);try{const fe=await Se.ping();fe.version&&fe.version!=="unknown"&&(de.version=fe.version)}catch{}e(de)}catch(Q){M(Q?.message??"Failed to load diagnostics.")}finally{r(!1)}},[]),Y=O.useCallback(async()=>{try{const Q=await Se.getStats(),de=L3(Q,"httpd","pointsWrittenOK"),fe=L3(Q,"httpd","queryReq"),be=ee.current,yt=be?Math.max(0,de-be.pointsWritten):0,te=be?Math.max(0,fe-be.queriesExecuted):0;ee.current={pointsWritten:de,queriesExecuted:fe};const je=new Date,_e={time:R3(je),pointsWritten:yt,queriesExecuted:te};a(ue=>{const xt=[...ue,_e];return xt.length>60?xt.slice(xt.length-60):xt}),j(je)}catch(Q){M(Q?.message??"Failed to load stats.")}},[]),le=O.useCallback(async()=>{try{const de=(await Se.getRunningQueries()).map(fe=>({qid:fe.qid??fe.id??"",database:fe.database??fe.db??"",query:fe.query??"",duration:fe.duration??""}));o(de)}catch(Q){M(Q?.message??"Failed to load running queries.")}},[]),oe=O.useCallback(async()=>{y(!0);try{const de=(await Se.getShardGroups()).map(fe=>({id:fe.id??fe.shardGroupID??"",database:fe.database??fe.db??"",retentionPolicy:fe.retentionPolicy??fe.rp??fe.retention_policy??"",startTime:fe.startTime??fe.start_time??fe.start??"",endTime:fe.endTime??fe.end_time??fe.end??"",expiryTime:fe.expiryTime??fe.expiry_time??fe.expiry??""}));p(de)}catch(Q){M(Q?.message??"Failed to load shard groups.")}finally{y(!1)}},[]),he=async Q=>{h(Q);try{await Se.killQuery(Number(Q)),await le()}catch(de){M(de?.message??`Failed to kill query ${Q}.`)}finally{h(null)}},R=O.useCallback(async()=>{z(!0);try{const Q=await Se.getDiagnostics();T(z3(Q))}catch(Q){M(Q?.message??"Failed to load diagnostics.")}finally{z(!1)}},[]),K=O.useCallback(async()=>{B(!0);try{const Q=await Se.getStats();I(z3(Q))}catch(Q){M(Q?.message??"Failed to load stats.")}finally{B(!1)}},[]),ce=async()=>{se(!0);try{const Q=await Se.backup(),de=URL.createObjectURL(Q),fe=document.createElement("a");fe.href=de,fe.download=`tidedb-backup-${new Date().toISOString().replace(/[:.]/g,"-")}.tar.gz`,document.body.appendChild(fe),fe.click(),document.body.removeChild(fe),URL.revokeObjectURL(de)}catch(Q){M(Q?.message??"Backup failed.")}finally{se(!1)}};return O.useEffect(()=>{H(),oe()},[H,oe]),O.useEffect(()=>{Y(),le();const Q=setInterval(()=>{Y(),le()},5e3);return()=>clearInterval(Q)},[Y,le]),v.jsxs("div",{className:"min-h-full bg-gray-950 text-gray-100",children:[v.jsxs("div",{className:"border-b border-gray-800 px-6 py-4 flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsxs("h1",{className:"text-xl font-bold text-gray-100 flex items-center gap-2",children:[v.jsx(bo,{className:"w-6 h-6 text-blue-400"}),"System Health"]}),v.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Live diagnostics, performance metrics, and active queries."})]}),v.jsx("div",{className:"flex items-center gap-3",children:k&&v.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1.5",children:[v.jsx(Xr,{className:"w-3 h-3"}),"Last updated: ",R3(k)]})})]}),v.jsxs("div",{className:"px-6 py-5 flex flex-col gap-8",children:[N&&v.jsx(Jde,{message:N,onDismiss:()=>M("")}),v.jsxs("section",{children:[v.jsx(ju,{icon:v.jsx(Kx,{className:"w-5 h-5"}),title:"Server Information"}),n?v.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm py-4",children:[v.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading server info..."]}):v.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[v.jsx(Nu,{icon:v.jsx(bo,{className:"w-3.5 h-3.5"}),label:"Version",value:t.version&&t.version!=="unknown"?t.version:""}),v.jsx(Nu,{icon:v.jsx(Jw,{className:"w-3.5 h-3.5"}),label:"Uptime",value:t.uptime??""}),v.jsx(Nu,{icon:v.jsx(u9,{className:"w-3.5 h-3.5"}),label:"Go Version",value:t.goVersion??""}),v.jsx(Nu,{icon:v.jsx(Kx,{className:"w-3.5 h-3.5"}),label:"OS / Arch",value:t.os&&t.arch?`${t.os} / ${t.arch}`:t.os??t.arch??""}),v.jsx(Nu,{icon:v.jsx(Av,{className:"w-3.5 h-3.5"}),label:"PID",value:t.pid??""})]})]}),v.jsxs("section",{children:[v.jsx(ju,{icon:v.jsx(bo,{className:"w-5 h-5"}),title:"Performance Metrics",subtitle:"(auto-refresh every 5s, last 60 samples)"}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[v.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"Points Written / interval"}),i.length===0?v.jsx("div",{className:"flex items-center justify-center h-40 text-gray-600 text-sm",children:"Collecting data..."}):v.jsx(fw,{width:"100%",height:180,children:v.jsxs(Fw,{data:i,margin:{top:4,right:8,left:0,bottom:0},children:[v.jsx(Wp,{strokeDasharray:"3 3",stroke:"#374151"}),v.jsx(Kp,{dataKey:"time",tick:{fill:"#9ca3af",fontSize:10},tickLine:!1,axisLine:{stroke:"#374151"},interval:"preserveStartEnd"}),v.jsx(Gp,{tick:{fill:"#9ca3af",fontSize:10},tickLine:!1,axisLine:!1,width:40}),v.jsx(Bw,{content:v.jsx(B3,{})}),v.jsx(Fp,{type:"monotone",dataKey:"pointsWritten",name:"Points Written",stroke:"#3b82f6",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"#3b82f6"}})]})})]}),v.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[v.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"Queries Executed / interval"}),i.length===0?v.jsx("div",{className:"flex items-center justify-center h-40 text-gray-600 text-sm",children:"Collecting data..."}):v.jsx(fw,{width:"100%",height:180,children:v.jsxs(Fw,{data:i,margin:{top:4,right:8,left:0,bottom:0},children:[v.jsx(Wp,{strokeDasharray:"3 3",stroke:"#374151"}),v.jsx(Kp,{dataKey:"time",tick:{fill:"#9ca3af",fontSize:10},tickLine:!1,axisLine:{stroke:"#374151"},interval:"preserveStartEnd"}),v.jsx(Gp,{tick:{fill:"#9ca3af",fontSize:10},tickLine:!1,axisLine:!1,width:40}),v.jsx(Bw,{content:v.jsx(B3,{})}),v.jsx(Fp,{type:"monotone",dataKey:"queriesExecuted",name:"Queries Executed",stroke:"#22c55e",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"#22c55e"}})]})})]})]})]}),v.jsxs("section",{children:[v.jsx(ju,{icon:v.jsx(bo,{className:"w-5 h-5"}),title:"Active Queries",subtitle:"(auto-refresh every 5s)"}),v.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:l.length===0?v.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-600",children:[v.jsx(bo,{className:"w-8 h-8 mb-3 opacity-30"}),v.jsx("p",{className:"text-sm",children:"No active queries."})]}):v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full text-sm",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[v.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap w-20",children:"Query ID"}),v.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap w-36",children:"Database"}),v.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400",children:"Query"}),v.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap w-32",children:"Duration"}),v.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400 whitespace-nowrap w-24",children:"Actions"})]})}),v.jsx("tbody",{children:l.map(Q=>v.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[v.jsx("td",{className:"px-4 py-3 font-mono text-gray-300 text-xs",children:String(Q.qid)}),v.jsx("td",{className:"px-4 py-3 font-mono text-blue-300 text-xs whitespace-nowrap",children:Q.database||v.jsx("span",{className:"text-gray-600",children:""})}),v.jsx("td",{className:"px-4 py-3 font-mono text-gray-200 text-xs break-all max-w-xs",children:v.jsx("span",{className:"whitespace-pre-wrap leading-relaxed",children:Q.query})}),v.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs font-mono whitespace-nowrap",children:Q.duration||v.jsx("span",{className:"text-gray-600",children:""})}),v.jsx("td",{className:"px-4 py-3 text-right",children:v.jsxs("button",{onClick:()=>he(Q.qid),disabled:u===Q.qid,className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 whitespace-nowrap",children:[u===Q.qid?v.jsxs("svg",{className:"w-3 h-3 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):v.jsx(n4,{className:"w-3 h-3"}),"Kill"]})})]},Q.qid))})]})})})]}),v.jsxs("section",{children:[v.jsx(ju,{icon:v.jsx(Av,{className:"w-5 h-5"}),title:"Shard Groups"}),v.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:g?v.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm px-4 py-6",children:[v.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading shard groups..."]}):d.length===0?v.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-600",children:[v.jsx(Av,{className:"w-8 h-8 mb-3 opacity-30"}),v.jsx("p",{className:"text-sm",children:"No shard groups found."})]}):(()=>{const Q=Math.ceil(d.length/S),de=Math.min(w,Q-1),fe=d.slice(de*S,(de+1)*S);return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full text-sm",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[v.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap w-16",children:"ID"}),v.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Database"}),v.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Retention Policy"}),v.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Start Time"}),v.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"End Time"}),v.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Expiry Time"})]})}),v.jsx("tbody",{children:fe.map((be,yt)=>v.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[v.jsx("td",{className:"px-4 py-3 font-mono text-gray-300 text-xs",children:String(be.id)}),v.jsx("td",{className:"px-4 py-3 font-mono text-blue-300 text-xs whitespace-nowrap",children:be.database||v.jsx("span",{className:"text-gray-600",children:""})}),v.jsx("td",{className:"px-4 py-3 font-mono text-gray-300 text-xs whitespace-nowrap",children:be.retentionPolicy||v.jsx("span",{className:"text-gray-600",children:""})}),v.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs whitespace-nowrap",children:Hx(be.startTime)}),v.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs whitespace-nowrap",children:Hx(be.endTime)}),v.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs whitespace-nowrap",children:Hx(be.expiryTime)})]},`${be.id}-${yt}`))})]})}),Q>1&&v.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-gray-700",children:[v.jsxs("span",{className:"text-xs text-gray-500",children:[d.length.toLocaleString()," shard groups  page ",de+1," of ",Q]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("button",{onClick:()=>C(0),disabled:de===0,className:"px-2 py-1 text-xs text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:"First"}),v.jsx("button",{onClick:()=>C(be=>Math.max(0,be-1)),disabled:de===0,className:"p-1 text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:v.jsx(e9,{size:14})}),v.jsx("button",{onClick:()=>C(be=>Math.min(Q-1,be+1)),disabled:de>=Q-1,className:"p-1 text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:v.jsx(t4,{size:14})}),v.jsx("button",{onClick:()=>C(Q-1),disabled:de>=Q-1,className:"px-2 py-1 text-xs text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:"Last"})]})]})]})})()})]}),v.jsxs("section",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-blue-400",children:v.jsx(x9,{className:"w-5 h-5"})}),v.jsx("h2",{className:"text-base font-semibold text-gray-200",children:"SHOW DIAGNOSTICS"}),v.jsx("span",{className:"text-xs text-gray-500",children:"(all sections)"})]}),v.jsxs("button",{onClick:R,disabled:_,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[_?v.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):v.jsx(Xr,{className:"w-4 h-4"}),D.length>0?"Refresh":"Load"]})]}),D.length===0&&!_&&v.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:'Click "Load" to view all diagnostic sections.'}),_&&v.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[v.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading diagnostics..."]}),D.length>0&&!_&&v.jsx("div",{className:"flex flex-col gap-2",children:D.map(Q=>v.jsx(I3,{section:Q},Q.name))})]}),v.jsxs("section",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-blue-400",children:v.jsx(Lu,{className:"w-5 h-5"})}),v.jsx("h2",{className:"text-base font-semibold text-gray-200",children:"SHOW STATS"}),v.jsx("span",{className:"text-xs text-gray-500",children:"(all modules)"})]}),v.jsxs("button",{onClick:K,disabled:q,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[q?v.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):v.jsx(Xr,{className:"w-4 h-4"}),E.length>0?"Refresh":"Load"]})]}),E.length===0&&!q&&v.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:'Click "Load" to view all stats modules.'}),q&&v.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[v.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading stats..."]}),E.length>0&&!q&&v.jsx("div",{className:"flex flex-col gap-2",children:E.map((Q,de)=>v.jsx(I3,{section:Q},`${Q.name}-${de}`))})]}),v.jsxs("section",{children:[v.jsx(ju,{icon:v.jsx(Fx,{className:"w-5 h-5"}),title:"Backup"}),v.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[v.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Download a portable backup snapshot via the debug endpoint. This creates a tar.gz archive of the current data."}),v.jsxs("button",{onClick:ce,disabled:re,className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[re?v.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):v.jsx(Fx,{className:"w-4 h-4"}),re?"Downloading...":"Download Backup"]})]})]})]})]})}function tme(){return v.jsx(tH,{children:v.jsxs(kU,{children:[v.jsx(vo,{path:"/",element:v.jsx(CU,{to:"/explore",replace:!0})}),v.jsx(vo,{path:"/explore",element:v.jsx(Tde,{})}),v.jsx(vo,{path:"/admin",element:v.jsx(Kde,{})}),v.jsx(vo,{path:"/write",element:v.jsx(Xde,{})}),v.jsx(vo,{path:"/health",element:v.jsx(eme,{})})]})})}_7.createRoot(document.getElementById("root")).render(v.jsx(U3.StrictMode,{children:v.jsx(PU,{basename:"/ui",children:v.jsx(tme,{})})}));
