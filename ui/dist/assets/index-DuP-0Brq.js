function W9(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function Vi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var av={exports:{}},Hu={};var hA;function K9(){if(hA)return Hu;hA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:t,type:n,key:l,ref:i!==void 0?i:null,props:a}}return Hu.Fragment=e,Hu.jsx=r,Hu.jsxs=r,Hu}var mA;function G9(){return mA||(mA=1,av.exports=K9()),av.exports}var f=G9(),sv={exports:{}},_e={};var pA;function Y9(){if(pA)return _e;pA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function x(B){return B===null||typeof B!="object"?null:(B=y&&B[y]||B["@@iterator"],typeof B=="function"?B:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function C(B,K,oe){this.props=B,this.context=K,this.refs=j,this.updater=oe||b}C.prototype.isReactComponent={},C.prototype.setState=function(B,K){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,K,"setState")},C.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function A(){}A.prototype=C.prototype;function k(B,K,oe){this.props=B,this.context=K,this.refs=j,this.updater=oe||b}var T=k.prototype=new A;T.constructor=k,N(T,C.prototype),T.isPureReactComponent=!0;var D=Array.isArray;function M(){}var E={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function L(B,K,oe){var J=oe.ref;return{$$typeof:t,type:B,key:K,ref:J!==void 0?J:null,props:oe}}function I(B,K){return L(B.type,K,B.props)}function z(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function R(B){var K={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(oe){return K[oe]})}var U=/\/+/g;function W(B,K){return typeof B=="object"&&B!==null&&B.key!=null?R(""+B.key):K.toString(36)}function $(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(M,M):(B.status="pending",B.then(function(K){B.status==="pending"&&(B.status="fulfilled",B.value=K)},function(K){B.status==="pending"&&(B.status="rejected",B.reason=K)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function H(B,K,oe,J,he){var Y=typeof B;(Y==="undefined"||Y==="boolean")&&(B=null);var me=!1;if(B===null)me=!0;else switch(Y){case"bigint":case"string":case"number":me=!0;break;case"object":switch(B.$$typeof){case t:case e:me=!0;break;case m:return me=B._init,H(me(B._payload),K,oe,J,he)}}if(me)return he=he(B),me=J===""?"."+W(B,0):J,D(he)?(oe="",me!=null&&(oe=me.replace(U,"$&/")+"/"),H(he,K,oe,"",function(je){return je})):he!=null&&(z(he)&&(he=I(he,oe+(he.key==null||B&&B.key===he.key?"":(""+he.key).replace(U,"$&/")+"/")+me)),K.push(he)),1;me=0;var De=J===""?".":J+":";if(D(B))for(var ne=0;ne<B.length;ne++)J=B[ne],Y=De+W(J,ne),me+=H(J,K,oe,Y,he);else if(ne=x(B),typeof ne=="function")for(B=ne.call(B),ne=0;!(J=B.next()).done;)J=J.value,Y=De+W(J,ne++),me+=H(J,K,oe,Y,he);else if(Y==="object"){if(typeof B.then=="function")return H($(B),K,oe,J,he);throw K=String(B),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return me}function F(B,K,oe){if(B==null)return B;var J=[],he=0;return H(B,J,"","",function(Y){return K.call(oe,Y,he++)}),J}function Q(B){if(B._status===-1){var K=B._result;K=K(),K.then(function(oe){(B._status===0||B._status===-1)&&(B._status=1,B._result=oe)},function(oe){(B._status===0||B._status===-1)&&(B._status=2,B._result=oe)}),B._status===-1&&(B._status=0,B._result=K)}if(B._status===1)return B._result.default;throw B._result}var se=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},de={map:F,forEach:function(B,K,oe){F(B,function(){K.apply(this,arguments)},oe)},count:function(B){var K=0;return F(B,function(){K++}),K},toArray:function(B){return F(B,function(K){return K})||[]},only:function(B){if(!z(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return _e.Activity=p,_e.Children=de,_e.Component=C,_e.Fragment=r,_e.Profiler=i,_e.PureComponent=k,_e.StrictMode=n,_e.Suspense=u,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,_e.__COMPILER_RUNTIME={__proto__:null,c:function(B){return E.H.useMemoCache(B)}},_e.cache=function(B){return function(){return B.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(B,K,oe){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var J=N({},B.props),he=B.key;if(K!=null)for(Y in K.key!==void 0&&(he=""+K.key),K)!_.call(K,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&K.ref===void 0||(J[Y]=K[Y]);var Y=arguments.length-2;if(Y===1)J.children=oe;else if(1<Y){for(var me=Array(Y),De=0;De<Y;De++)me[De]=arguments[De+2];J.children=me}return L(B.type,he,J)},_e.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:a,_context:B},B},_e.createElement=function(B,K,oe){var J,he={},Y=null;if(K!=null)for(J in K.key!==void 0&&(Y=""+K.key),K)_.call(K,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(he[J]=K[J]);var me=arguments.length-2;if(me===1)he.children=oe;else if(1<me){for(var De=Array(me),ne=0;ne<me;ne++)De[ne]=arguments[ne+2];he.children=De}if(B&&B.defaultProps)for(J in me=B.defaultProps,me)he[J]===void 0&&(he[J]=me[J]);return L(B,Y,he)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(B){return{$$typeof:o,render:B}},_e.isValidElement=z,_e.lazy=function(B){return{$$typeof:m,_payload:{_status:-1,_result:B},_init:Q}},_e.memo=function(B,K){return{$$typeof:h,type:B,compare:K===void 0?null:K}},_e.startTransition=function(B){var K=E.T,oe={};E.T=oe;try{var J=B(),he=E.S;he!==null&&he(oe,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(M,se)}catch(Y){se(Y)}finally{K!==null&&oe.types!==null&&(K.types=oe.types),E.T=K}},_e.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},_e.use=function(B){return E.H.use(B)},_e.useActionState=function(B,K,oe){return E.H.useActionState(B,K,oe)},_e.useCallback=function(B,K){return E.H.useCallback(B,K)},_e.useContext=function(B){return E.H.useContext(B)},_e.useDebugValue=function(){},_e.useDeferredValue=function(B,K){return E.H.useDeferredValue(B,K)},_e.useEffect=function(B,K){return E.H.useEffect(B,K)},_e.useEffectEvent=function(B){return E.H.useEffectEvent(B)},_e.useId=function(){return E.H.useId()},_e.useImperativeHandle=function(B,K,oe){return E.H.useImperativeHandle(B,K,oe)},_e.useInsertionEffect=function(B,K){return E.H.useInsertionEffect(B,K)},_e.useLayoutEffect=function(B,K){return E.H.useLayoutEffect(B,K)},_e.useMemo=function(B,K){return E.H.useMemo(B,K)},_e.useOptimistic=function(B,K){return E.H.useOptimistic(B,K)},_e.useReducer=function(B,K,oe){return E.H.useReducer(B,K,oe)},_e.useRef=function(B){return E.H.useRef(B)},_e.useState=function(B){return E.H.useState(B)},_e.useSyncExternalStore=function(B,K,oe){return E.H.useSyncExternalStore(B,K,oe)},_e.useTransition=function(){return E.H.useTransition()},_e.version="19.2.4",_e}var gA;function Ac(){return gA||(gA=1,sv.exports=Y9()),sv.exports}var w=Ac();const Mg=Vi(w),e_=W9({__proto__:null,default:Mg},[w]);var lv={exports:{}},$u={},ov={exports:{}},cv={};var yA;function Q9(){return yA||(yA=1,(function(t){function e(H,F){var Q=H.length;H.push(F);e:for(;0<Q;){var se=Q-1>>>1,de=H[se];if(0<i(de,F))H[se]=F,H[Q]=de,Q=se;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var F=H[0],Q=H.pop();if(Q!==F){H[0]=Q;e:for(var se=0,de=H.length,B=de>>>1;se<B;){var K=2*(se+1)-1,oe=H[K],J=K+1,he=H[J];if(0>i(oe,Q))J<de&&0>i(he,oe)?(H[se]=he,H[J]=Q,se=J):(H[se]=oe,H[K]=Q,se=K);else if(J<de&&0>i(he,Q))H[se]=he,H[J]=Q,se=J;else break e}}return F}function i(H,F){var Q=H.sortIndex-F.sortIndex;return Q!==0?Q:H.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var u=[],h=[],m=1,p=null,y=3,x=!1,b=!1,N=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function T(H){for(var F=r(h);F!==null;){if(F.callback===null)n(h);else if(F.startTime<=H)n(h),F.sortIndex=F.expirationTime,e(u,F);else break;F=r(h)}}function D(H){if(N=!1,T(H),!b)if(r(u)!==null)b=!0,M||(M=!0,R());else{var F=r(h);F!==null&&$(D,F.startTime-H)}}var M=!1,E=-1,_=5,L=-1;function I(){return j?!0:!(t.unstable_now()-L<_)}function z(){if(j=!1,M){var H=t.unstable_now();L=H;var F=!0;try{e:{b=!1,N&&(N=!1,A(E),E=-1),x=!0;var Q=y;try{t:{for(T(H),p=r(u);p!==null&&!(p.expirationTime>H&&I());){var se=p.callback;if(typeof se=="function"){p.callback=null,y=p.priorityLevel;var de=se(p.expirationTime<=H);if(H=t.unstable_now(),typeof de=="function"){p.callback=de,T(H),F=!0;break t}p===r(u)&&n(u),T(H)}else n(u);p=r(u)}if(p!==null)F=!0;else{var B=r(h);B!==null&&$(D,B.startTime-H),F=!1}}break e}finally{p=null,y=Q,x=!1}F=void 0}}finally{F?R():M=!1}}}var R;if(typeof k=="function")R=function(){k(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,W=U.port2;U.port1.onmessage=z,R=function(){W.postMessage(null)}}else R=function(){C(z,0)};function $(H,F){E=C(function(){H(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(H){switch(y){case 1:case 2:case 3:var F=3;break;default:F=y}var Q=y;y=F;try{return H()}finally{y=Q}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(H,F){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Q=y;y=H;try{return F()}finally{y=Q}},t.unstable_scheduleCallback=function(H,F,Q){var se=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?se+Q:se):Q=se,H){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=Q+de,H={id:m++,callback:F,priorityLevel:H,startTime:Q,expirationTime:de,sortIndex:-1},Q>se?(H.sortIndex=Q,e(h,H),r(u)===null&&H===r(h)&&(N?(A(E),E=-1):N=!0,$(D,Q-se))):(H.sortIndex=de,e(u,H),b||x||(b=!0,M||(M=!0,R()))),H},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(H){var F=y;return function(){var Q=y;y=F;try{return H.apply(this,arguments)}finally{y=Q}}}})(cv)),cv}var xA;function X9(){return xA||(xA=1,ov.exports=Q9()),ov.exports}var uv={exports:{}},Nr={};var vA;function Z9(){if(vA)return Nr;vA=1;var t=Ac();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,h,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:h,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Nr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Nr.createPortal=function(u,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(u,h,null,m)},Nr.flushSync=function(u){var h=l.T,m=n.p;try{if(l.T=null,n.p=2,u)return u()}finally{l.T=h,n.p=m,n.d.f()}},Nr.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(u,h))},Nr.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Nr.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var m=h.as,p=o(m,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?n.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:x}):m==="script"&&n.d.X(u,{crossOrigin:p,integrity:y,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Nr.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=o(h.as,h.crossOrigin);n.d.M(u,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(u)},Nr.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,p=o(m,h.crossOrigin);n.d.L(u,m,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Nr.preloadModule=function(u,h){if(typeof u=="string")if(h){var m=o(h.as,h.crossOrigin);n.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(u)},Nr.requestFormReset=function(u){n.d.r(u)},Nr.unstable_batchedUpdates=function(u,h){return u(h)},Nr.useFormState=function(u,h,m){return l.H.useFormState(u,h,m)},Nr.useFormStatus=function(){return l.H.useHostTransitionStatus()},Nr.version="19.2.4",Nr}var bA;function t_(){if(bA)return uv.exports;bA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),uv.exports=Z9(),uv.exports}var wA;function J9(){if(wA)return $u;wA=1;var t=X9(),e=Ac(),r=t_();function n(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,d=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(d=c.return),s=c.return;while(s)}return c.tag===3?d:null}function l(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function o(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(n(188))}function h(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(n(188));return c!==s?null:s}for(var d=s,g=c;;){var v=d.return;if(v===null)break;var S=v.alternate;if(S===null){if(g=v.return,g!==null){d=g;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===d)return u(v),s;if(S===g)return u(v),c;S=S.sibling}throw Error(n(188))}if(d.return!==g.return)d=v,g=S;else{for(var O=!1,P=v.child;P;){if(P===d){O=!0,d=v,g=S;break}if(P===g){O=!0,g=v,d=S;break}P=P.sibling}if(!O){for(P=S.child;P;){if(P===d){O=!0,d=S,g=v;break}if(P===g){O=!0,g=S,d=v;break}P=P.sibling}if(!O)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:c}function m(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=m(s),c!==null)return c;s=s.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),k=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function R(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var U=Symbol.for("react.client.reference");function W(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===U?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case C:return"Profiler";case j:return"StrictMode";case D:return"Suspense";case M:return"SuspenseList";case L:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case k:return s.displayName||"Context";case A:return(s._context.displayName||"Context")+".Consumer";case T:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case E:return c=s.displayName||null,c!==null?c:W(s.type)||"Memo";case _:c=s._payload,s=s._init;try{return W(s(c))}catch{}}return null}var $=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},se=[],de=-1;function B(s){return{current:s}}function K(s){0>de||(s.current=se[de],se[de]=null,de--)}function oe(s,c){de++,se[de]=s.current,s.current=c}var J=B(null),he=B(null),Y=B(null),me=B(null);function De(s,c){switch(oe(Y,c),oe(he,s),oe(J,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?LO(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=LO(c),s=BO(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}K(J),oe(J,s)}function ne(){K(J),K(he),K(Y)}function je(s){s.memoizedState!==null&&oe(me,s);var c=J.current,d=BO(c,s.type);c!==d&&(oe(he,s),oe(J,d))}function Te(s){he.current===s&&(K(J),K(he)),me.current===s&&(K(me),zu._currentValue=Q)}var fe,jt;function Fe(s){if(fe===void 0)try{throw Error()}catch(d){var c=d.stack.trim().match(/\n( *(at )?)/);fe=c&&c[1]||"",jt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+s+jt}var lr=!1;function or(s,c){if(!s||lr)return"";lr=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(re){var ee=re}Reflect.construct(s,[],ce)}else{try{ce.call()}catch(re){ee=re}s.call(ce.prototype)}}else{try{throw Error()}catch(re){ee=re}(ce=s())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(re){if(re&&ee&&typeof re.stack=="string")return[re.stack,ee.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=g.DetermineComponentFrameRoot(),O=S[0],P=S[1];if(O&&P){var q=O.split(`
`),Z=P.split(`
`);for(v=g=0;g<q.length&&!q[g].includes("DetermineComponentFrameRoot");)g++;for(;v<Z.length&&!Z[v].includes("DetermineComponentFrameRoot");)v++;if(g===q.length||v===Z.length)for(g=q.length-1,v=Z.length-1;1<=g&&0<=v&&q[g]!==Z[v];)v--;for(;1<=g&&0<=v;g--,v--)if(q[g]!==Z[v]){if(g!==1||v!==1)do if(g--,v--,0>v||q[g]!==Z[v]){var ae=`
`+q[g].replace(" at new "," at ");return s.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",s.displayName)),ae}while(1<=g&&0<=v);break}}}finally{lr=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?Fe(d):""}function Gi(s,c){switch(s.tag){case 26:case 27:case 5:return Fe(s.type);case 16:return Fe("Lazy");case 13:return s.child!==c&&c!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return or(s.type,!1);case 11:return or(s.type.render,!1);case 1:return or(s.type,!0);case 31:return Fe("Activity");default:return""}}function Yc(s){try{var c="",d=null;do c+=Gi(s,d),d=s,s=s.return;while(s);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var V0=Object.prototype.hasOwnProperty,F0=t.unstable_scheduleCallback,W0=t.unstable_cancelCallback,NI=t.unstable_shouldYield,CI=t.unstable_requestPaint,sn=t.unstable_now,kI=t.unstable_getCurrentPriorityLevel,mN=t.unstable_ImmediatePriority,pN=t.unstable_UserBlockingPriority,Rd=t.unstable_NormalPriority,OI=t.unstable_LowPriority,gN=t.unstable_IdlePriority,AI=t.log,EI=t.unstable_setDisableYieldValue,Qc=null,ln=null;function Ha(s){if(typeof AI=="function"&&EI(s),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(Qc,s)}catch{}}var on=Math.clz32?Math.clz32:DI,TI=Math.log,MI=Math.LN2;function DI(s){return s>>>=0,s===0?32:31-(TI(s)/MI|0)|0}var Ld=256,Bd=262144,zd=4194304;function Ws(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Id(s,c,d){var g=s.pendingLanes;if(g===0)return 0;var v=0,S=s.suspendedLanes,O=s.pingedLanes;s=s.warmLanes;var P=g&134217727;return P!==0?(g=P&~S,g!==0?v=Ws(g):(O&=P,O!==0?v=Ws(O):d||(d=P&~s,d!==0&&(v=Ws(d))))):(P=g&~S,P!==0?v=Ws(P):O!==0?v=Ws(O):d||(d=g&~s,d!==0&&(v=Ws(d)))),v===0?0:c!==0&&c!==v&&(c&S)===0&&(S=v&-v,d=c&-c,S>=d||S===32&&(d&4194048)!==0)?c:v}function Xc(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function _I(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yN(){var s=zd;return zd<<=1,(zd&62914560)===0&&(zd=4194304),s}function K0(s){for(var c=[],d=0;31>d;d++)c.push(s);return c}function Zc(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function PI(s,c,d,g,v,S){var O=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var P=s.entanglements,q=s.expirationTimes,Z=s.hiddenUpdates;for(d=O&~d;0<d;){var ae=31-on(d),ce=1<<ae;P[ae]=0,q[ae]=-1;var ee=Z[ae];if(ee!==null)for(Z[ae]=null,ae=0;ae<ee.length;ae++){var re=ee[ae];re!==null&&(re.lane&=-536870913)}d&=~ce}g!==0&&xN(s,g,0),S!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=S&~(O&~c))}function xN(s,c,d){s.pendingLanes|=c,s.suspendedLanes&=~c;var g=31-on(c);s.entangledLanes|=c,s.entanglements[g]=s.entanglements[g]|1073741824|d&261930}function vN(s,c){var d=s.entangledLanes|=c;for(s=s.entanglements;d;){var g=31-on(d),v=1<<g;v&c|s[g]&c&&(s[g]|=c),d&=~v}}function bN(s,c){var d=c&-c;return d=(d&42)!==0?1:G0(d),(d&(s.suspendedLanes|c))!==0?0:d}function G0(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Y0(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function wN(){var s=F.p;return s!==0?s:(s=window.event,s===void 0?32:sA(s.type))}function SN(s,c){var d=F.p;try{return F.p=s,c()}finally{F.p=d}}var $a=Math.random().toString(36).slice(2),cr="__reactFiber$"+$a,Ir="__reactProps$"+$a,to="__reactContainer$"+$a,Q0="__reactEvents$"+$a,RI="__reactListeners$"+$a,LI="__reactHandles$"+$a,jN="__reactResources$"+$a,Jc="__reactMarker$"+$a;function X0(s){delete s[cr],delete s[Ir],delete s[Q0],delete s[RI],delete s[LI]}function ro(s){var c=s[cr];if(c)return c;for(var d=s.parentNode;d;){if(c=d[to]||d[cr]){if(d=c.alternate,c.child!==null||d!==null&&d.child!==null)for(s=VO(s);s!==null;){if(d=s[cr])return d;s=VO(s)}return c}s=d,d=s.parentNode}return null}function no(s){if(s=s[cr]||s[to]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function eu(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(n(33))}function io(s){var c=s[jN];return c||(c=s[jN]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Qt(s){s[Jc]=!0}var NN=new Set,CN={};function Ks(s,c){ao(s,c),ao(s+"Capture",c)}function ao(s,c){for(CN[s]=c,s=0;s<c.length;s++)NN.add(c[s])}var BI=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kN={},ON={};function zI(s){return V0.call(ON,s)?!0:V0.call(kN,s)?!1:BI.test(s)?ON[s]=!0:(kN[s]=!0,!1)}function Ud(s,c,d){if(zI(c))if(d===null)s.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+d)}}function qd(s,c,d){if(d===null)s.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+d)}}function Yi(s,c,d,g){if(g===null)s.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(c,d,""+g)}}function An(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function AN(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function II(s,c,d){var g=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var v=g.get,S=g.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return v.call(this)},set:function(O){d=""+O,S.call(this,O)}}),Object.defineProperty(s,c,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(O){d=""+O},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function Z0(s){if(!s._valueTracker){var c=AN(s)?"checked":"value";s._valueTracker=II(s,c,""+s[c])}}function EN(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var d=c.getValue(),g="";return s&&(g=AN(s)?s.checked?"true":"false":s.value),s=g,s!==d?(c.setValue(s),!0):!1}function Hd(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var UI=/[\n"\\]/g;function En(s){return s.replace(UI,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function J0(s,c,d,g,v,S,O,P){s.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?s.type=O:s.removeAttribute("type"),c!=null?O==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+An(c)):s.value!==""+An(c)&&(s.value=""+An(c)):O!=="submit"&&O!=="reset"||s.removeAttribute("value"),c!=null?ey(s,O,An(c)):d!=null?ey(s,O,An(d)):g!=null&&s.removeAttribute("value"),v==null&&S!=null&&(s.defaultChecked=!!S),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?s.name=""+An(P):s.removeAttribute("name")}function TN(s,c,d,g,v,S,O,P){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.type=S),c!=null||d!=null){if(!(S!=="submit"&&S!=="reset"||c!=null)){Z0(s);return}d=d!=null?""+An(d):"",c=c!=null?""+An(c):d,P||c===s.value||(s.value=c),s.defaultValue=c}g=g??v,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=P?s.checked:!!g,s.defaultChecked=!!g,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(s.name=O),Z0(s)}function ey(s,c,d){c==="number"&&Hd(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function so(s,c,d,g){if(s=s.options,c){c={};for(var v=0;v<d.length;v++)c["$"+d[v]]=!0;for(d=0;d<s.length;d++)v=c.hasOwnProperty("$"+s[d].value),s[d].selected!==v&&(s[d].selected=v),v&&g&&(s[d].defaultSelected=!0)}else{for(d=""+An(d),c=null,v=0;v<s.length;v++){if(s[v].value===d){s[v].selected=!0,g&&(s[v].defaultSelected=!0);return}c!==null||s[v].disabled||(c=s[v])}c!==null&&(c.selected=!0)}}function MN(s,c,d){if(c!=null&&(c=""+An(c),c!==s.value&&(s.value=c),d==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=d!=null?""+An(d):""}function DN(s,c,d,g){if(c==null){if(g!=null){if(d!=null)throw Error(n(92));if($(g)){if(1<g.length)throw Error(n(93));g=g[0]}d=g}d==null&&(d=""),c=d}d=An(c),s.defaultValue=d,g=s.textContent,g===d&&g!==""&&g!==null&&(s.value=g),Z0(s)}function lo(s,c){if(c){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=c;return}}s.textContent=c}var qI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _N(s,c,d){var g=c.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":g?s.setProperty(c,d):typeof d!="number"||d===0||qI.has(c)?c==="float"?s.cssFloat=d:s[c]=(""+d).trim():s[c]=d+"px"}function PN(s,c,d){if(c!=null&&typeof c!="object")throw Error(n(62));if(s=s.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var v in c)g=c[v],c.hasOwnProperty(v)&&d[v]!==g&&_N(s,v,g)}else for(var S in c)c.hasOwnProperty(S)&&_N(s,S,c[S])}function ty(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var HI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$I=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $d(s){return $I.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Qi(){}var ry=null;function ny(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var oo=null,co=null;function RN(s){var c=no(s);if(c&&(s=c.stateNode)){var d=s[Ir]||null;e:switch(s=c.stateNode,c.type){case"input":if(J0(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),c=d.name,d.type==="radio"&&c!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+En(""+c)+'"][type="radio"]'),c=0;c<d.length;c++){var g=d[c];if(g!==s&&g.form===s.form){var v=g[Ir]||null;if(!v)throw Error(n(90));J0(g,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(c=0;c<d.length;c++)g=d[c],g.form===s.form&&EN(g)}break e;case"textarea":MN(s,d.value,d.defaultValue);break e;case"select":c=d.value,c!=null&&so(s,!!d.multiple,c,!1)}}}var iy=!1;function LN(s,c,d){if(iy)return s(c,d);iy=!0;try{var g=s(c);return g}finally{if(iy=!1,(oo!==null||co!==null)&&(Th(),oo&&(c=oo,s=co,co=oo=null,RN(c),s)))for(c=0;c<s.length;c++)RN(s[c])}}function tu(s,c){var d=s.stateNode;if(d===null)return null;var g=d[Ir]||null;if(g===null)return null;d=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,c,typeof d));return d}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ay=!1;if(Xi)try{var ru={};Object.defineProperty(ru,"passive",{get:function(){ay=!0}}),window.addEventListener("test",ru,ru),window.removeEventListener("test",ru,ru)}catch{ay=!1}var Va=null,sy=null,Vd=null;function BN(){if(Vd)return Vd;var s,c=sy,d=c.length,g,v="value"in Va?Va.value:Va.textContent,S=v.length;for(s=0;s<d&&c[s]===v[s];s++);var O=d-s;for(g=1;g<=O&&c[d-g]===v[S-g];g++);return Vd=v.slice(s,1<g?1-g:void 0)}function Fd(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function Wd(){return!0}function zN(){return!1}function Ur(s){function c(d,g,v,S,O){this._reactName=d,this._targetInst=v,this.type=g,this.nativeEvent=S,this.target=O,this.currentTarget=null;for(var P in s)s.hasOwnProperty(P)&&(d=s[P],this[P]=d?d(S):S[P]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Wd:zN,this.isPropagationStopped=zN,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Wd)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Wd)},persist:function(){},isPersistent:Wd}),c}var Gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kd=Ur(Gs),nu=p({},Gs,{view:0,detail:0}),VI=Ur(nu),ly,oy,iu,Gd=p({},nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uy,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==iu&&(iu&&s.type==="mousemove"?(ly=s.screenX-iu.screenX,oy=s.screenY-iu.screenY):oy=ly=0,iu=s),ly)},movementY:function(s){return"movementY"in s?s.movementY:oy}}),IN=Ur(Gd),FI=p({},Gd,{dataTransfer:0}),WI=Ur(FI),KI=p({},nu,{relatedTarget:0}),cy=Ur(KI),GI=p({},Gs,{animationName:0,elapsedTime:0,pseudoElement:0}),YI=Ur(GI),QI=p({},Gs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),XI=Ur(QI),ZI=p({},Gs,{data:0}),UN=Ur(ZI),JI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r7(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=t7[s])?!!c[s]:!1}function uy(){return r7}var n7=p({},nu,{key:function(s){if(s.key){var c=JI[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Fd(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?e7[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uy,charCode:function(s){return s.type==="keypress"?Fd(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Fd(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),i7=Ur(n7),a7=p({},Gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qN=Ur(a7),s7=p({},nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uy}),l7=Ur(s7),o7=p({},Gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),c7=Ur(o7),u7=p({},Gd,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),f7=Ur(u7),d7=p({},Gs,{newState:0,oldState:0}),h7=Ur(d7),m7=[9,13,27,32],fy=Xi&&"CompositionEvent"in window,au=null;Xi&&"documentMode"in document&&(au=document.documentMode);var p7=Xi&&"TextEvent"in window&&!au,HN=Xi&&(!fy||au&&8<au&&11>=au),$N=" ",VN=!1;function FN(s,c){switch(s){case"keyup":return m7.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WN(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var uo=!1;function g7(s,c){switch(s){case"compositionend":return WN(c);case"keypress":return c.which!==32?null:(VN=!0,$N);case"textInput":return s=c.data,s===$N&&VN?null:s;default:return null}}function y7(s,c){if(uo)return s==="compositionend"||!fy&&FN(s,c)?(s=BN(),Vd=sy=Va=null,uo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return HN&&c.locale!=="ko"?null:c.data;default:return null}}var x7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KN(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!x7[s.type]:c==="textarea"}function GN(s,c,d,g){oo?co?co.push(g):co=[g]:oo=g,c=Bh(c,"onChange"),0<c.length&&(d=new Kd("onChange","change",null,d,g),s.push({event:d,listeners:c}))}var su=null,lu=null;function v7(s){TO(s,0)}function Yd(s){var c=eu(s);if(EN(c))return s}function YN(s,c){if(s==="change")return c}var QN=!1;if(Xi){var dy;if(Xi){var hy="oninput"in document;if(!hy){var XN=document.createElement("div");XN.setAttribute("oninput","return;"),hy=typeof XN.oninput=="function"}dy=hy}else dy=!1;QN=dy&&(!document.documentMode||9<document.documentMode)}function ZN(){su&&(su.detachEvent("onpropertychange",JN),lu=su=null)}function JN(s){if(s.propertyName==="value"&&Yd(lu)){var c=[];GN(c,lu,s,ny(s)),LN(v7,c)}}function b7(s,c,d){s==="focusin"?(ZN(),su=c,lu=d,su.attachEvent("onpropertychange",JN)):s==="focusout"&&ZN()}function w7(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yd(lu)}function S7(s,c){if(s==="click")return Yd(c)}function j7(s,c){if(s==="input"||s==="change")return Yd(c)}function N7(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var cn=typeof Object.is=="function"?Object.is:N7;function ou(s,c){if(cn(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var d=Object.keys(s),g=Object.keys(c);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var v=d[g];if(!V0.call(c,v)||!cn(s[v],c[v]))return!1}return!0}function eC(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function tC(s,c){var d=eC(s);s=0;for(var g;d;){if(d.nodeType===3){if(g=s+d.textContent.length,s<=c&&g>=c)return{node:d,offset:c-s};s=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=eC(d)}}function rC(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?rC(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function nC(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=Hd(s.document);c instanceof s.HTMLIFrameElement;){try{var d=typeof c.contentWindow.location.href=="string"}catch{d=!1}if(d)s=c.contentWindow;else break;c=Hd(s.document)}return c}function my(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var C7=Xi&&"documentMode"in document&&11>=document.documentMode,fo=null,py=null,cu=null,gy=!1;function iC(s,c,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;gy||fo==null||fo!==Hd(g)||(g=fo,"selectionStart"in g&&my(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),cu&&ou(cu,g)||(cu=g,g=Bh(py,"onSelect"),0<g.length&&(c=new Kd("onSelect","select",null,c,d),s.push({event:c,listeners:g}),c.target=fo)))}function Ys(s,c){var d={};return d[s.toLowerCase()]=c.toLowerCase(),d["Webkit"+s]="webkit"+c,d["Moz"+s]="moz"+c,d}var ho={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionrun:Ys("Transition","TransitionRun"),transitionstart:Ys("Transition","TransitionStart"),transitioncancel:Ys("Transition","TransitionCancel"),transitionend:Ys("Transition","TransitionEnd")},yy={},aC={};Xi&&(aC=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function Qs(s){if(yy[s])return yy[s];if(!ho[s])return s;var c=ho[s],d;for(d in c)if(c.hasOwnProperty(d)&&d in aC)return yy[s]=c[d];return s}var sC=Qs("animationend"),lC=Qs("animationiteration"),oC=Qs("animationstart"),k7=Qs("transitionrun"),O7=Qs("transitionstart"),A7=Qs("transitioncancel"),cC=Qs("transitionend"),uC=new Map,xy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xy.push("scrollEnd");function ei(s,c){uC.set(s,c),Ks(c,[s])}var Qd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Tn=[],mo=0,vy=0;function Xd(){for(var s=mo,c=vy=mo=0;c<s;){var d=Tn[c];Tn[c++]=null;var g=Tn[c];Tn[c++]=null;var v=Tn[c];Tn[c++]=null;var S=Tn[c];if(Tn[c++]=null,g!==null&&v!==null){var O=g.pending;O===null?v.next=v:(v.next=O.next,O.next=v),g.pending=v}S!==0&&fC(d,v,S)}}function Zd(s,c,d,g){Tn[mo++]=s,Tn[mo++]=c,Tn[mo++]=d,Tn[mo++]=g,vy|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function by(s,c,d,g){return Zd(s,c,d,g),Jd(s)}function Xs(s,c){return Zd(s,null,null,c),Jd(s)}function fC(s,c,d){s.lanes|=d;var g=s.alternate;g!==null&&(g.lanes|=d);for(var v=!1,S=s.return;S!==null;)S.childLanes|=d,g=S.alternate,g!==null&&(g.childLanes|=d),S.tag===22&&(s=S.stateNode,s===null||s._visibility&1||(v=!0)),s=S,S=S.return;return s.tag===3?(S=s.stateNode,v&&c!==null&&(v=31-on(d),s=S.hiddenUpdates,g=s[v],g===null?s[v]=[c]:g.push(c),c.lane=d|536870912),S):null}function Jd(s){if(50<Mu)throw Mu=0,Ex=null,Error(n(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var po={};function E7(s,c,d,g){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(s,c,d,g){return new E7(s,c,d,g)}function wy(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Zi(s,c){var d=s.alternate;return d===null?(d=un(s.tag,c,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=c,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,c=s.dependencies,d.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function dC(s,c){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,c=d.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function eh(s,c,d,g,v,S){var O=0;if(g=s,typeof s=="function")wy(s)&&(O=1);else if(typeof s=="string")O=P9(s,d,J.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case L:return s=un(31,d,c,v),s.elementType=L,s.lanes=S,s;case N:return Zs(d.children,v,S,c);case j:O=8,v|=24;break;case C:return s=un(12,d,c,v|2),s.elementType=C,s.lanes=S,s;case D:return s=un(13,d,c,v),s.elementType=D,s.lanes=S,s;case M:return s=un(19,d,c,v),s.elementType=M,s.lanes=S,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case k:O=10;break e;case A:O=9;break e;case T:O=11;break e;case E:O=14;break e;case _:O=16,g=null;break e}O=29,d=Error(n(130,s===null?"null":typeof s,"")),g=null}return c=un(O,d,c,v),c.elementType=s,c.type=g,c.lanes=S,c}function Zs(s,c,d,g){return s=un(7,s,g,c),s.lanes=d,s}function Sy(s,c,d){return s=un(6,s,null,c),s.lanes=d,s}function hC(s){var c=un(18,null,null,0);return c.stateNode=s,c}function jy(s,c,d){return c=un(4,s.children!==null?s.children:[],s.key,c),c.lanes=d,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var mC=new WeakMap;function Mn(s,c){if(typeof s=="object"&&s!==null){var d=mC.get(s);return d!==void 0?d:(c={value:s,source:c,stack:Yc(c)},mC.set(s,c),c)}return{value:s,source:c,stack:Yc(c)}}var go=[],yo=0,th=null,uu=0,Dn=[],_n=0,Fa=null,gi=1,yi="";function Ji(s,c){go[yo++]=uu,go[yo++]=th,th=s,uu=c}function pC(s,c,d){Dn[_n++]=gi,Dn[_n++]=yi,Dn[_n++]=Fa,Fa=s;var g=gi;s=yi;var v=32-on(g)-1;g&=~(1<<v),d+=1;var S=32-on(c)+v;if(30<S){var O=v-v%5;S=(g&(1<<O)-1).toString(32),g>>=O,v-=O,gi=1<<32-on(c)+v|d<<v|g,yi=S+s}else gi=1<<S|d<<v|g,yi=s}function Ny(s){s.return!==null&&(Ji(s,1),pC(s,1,0))}function Cy(s){for(;s===th;)th=go[--yo],go[yo]=null,uu=go[--yo],go[yo]=null;for(;s===Fa;)Fa=Dn[--_n],Dn[_n]=null,yi=Dn[--_n],Dn[_n]=null,gi=Dn[--_n],Dn[_n]=null}function gC(s,c){Dn[_n++]=gi,Dn[_n++]=yi,Dn[_n++]=Fa,gi=c.id,yi=c.overflow,Fa=s}var ur=null,dt=null,$e=!1,Wa=null,Pn=!1,ky=Error(n(519));function Ka(s){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fu(Mn(c,s)),ky}function yC(s){var c=s.stateNode,d=s.type,g=s.memoizedProps;switch(c[cr]=s,c[Ir]=g,d){case"dialog":Ie("cancel",c),Ie("close",c);break;case"iframe":case"object":case"embed":Ie("load",c);break;case"video":case"audio":for(d=0;d<_u.length;d++)Ie(_u[d],c);break;case"source":Ie("error",c);break;case"img":case"image":case"link":Ie("error",c),Ie("load",c);break;case"details":Ie("toggle",c);break;case"input":Ie("invalid",c),TN(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Ie("invalid",c);break;case"textarea":Ie("invalid",c),DN(c,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||c.textContent===""+d||g.suppressHydrationWarning===!0||PO(c.textContent,d)?(g.popover!=null&&(Ie("beforetoggle",c),Ie("toggle",c)),g.onScroll!=null&&Ie("scroll",c),g.onScrollEnd!=null&&Ie("scrollend",c),g.onClick!=null&&(c.onclick=Qi),c=!0):c=!1,c||Ka(s,!0)}function xC(s){for(ur=s.return;ur;)switch(ur.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:ur=ur.return}}function xo(s){if(s!==ur)return!1;if(!$e)return xC(s),$e=!0,!1;var c=s.tag,d;if((d=c!==3&&c!==27)&&((d=c===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||Vx(s.type,s.memoizedProps)),d=!d),d&&dt&&Ka(s),xC(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));dt=$O(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));dt=$O(s)}else c===27?(c=dt,ls(s.type)?(s=Yx,Yx=null,dt=s):dt=c):dt=ur?Ln(s.stateNode.nextSibling):null;return!0}function Js(){dt=ur=null,$e=!1}function Oy(){var s=Wa;return s!==null&&(Vr===null?Vr=s:Vr.push.apply(Vr,s),Wa=null),s}function fu(s){Wa===null?Wa=[s]:Wa.push(s)}var Ay=B(null),el=null,ea=null;function Ga(s,c,d){oe(Ay,c._currentValue),c._currentValue=d}function ta(s){s._currentValue=Ay.current,K(Ay)}function Ey(s,c,d){for(;s!==null;){var g=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),s===d)break;s=s.return}}function Ty(s,c,d,g){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var S=v.dependencies;if(S!==null){var O=v.child;S=S.firstContext;e:for(;S!==null;){var P=S;S=v;for(var q=0;q<c.length;q++)if(P.context===c[q]){S.lanes|=d,P=S.alternate,P!==null&&(P.lanes|=d),Ey(S.return,d,s),g||(O=null);break e}S=P.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(n(341));O.lanes|=d,S=O.alternate,S!==null&&(S.lanes|=d),Ey(O,d,s),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===s){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function vo(s,c,d,g){s=null;for(var v=c,S=!1;v!==null;){if(!S){if((v.flags&524288)!==0)S=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(n(387));if(O=O.memoizedProps,O!==null){var P=v.type;cn(v.pendingProps.value,O.value)||(s!==null?s.push(P):s=[P])}}else if(v===me.current){if(O=v.alternate,O===null)throw Error(n(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(zu):s=[zu])}v=v.return}s!==null&&Ty(c,s,d,g),c.flags|=262144}function rh(s){for(s=s.firstContext;s!==null;){if(!cn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function tl(s){el=s,ea=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function fr(s){return vC(el,s)}function nh(s,c){return el===null&&tl(s),vC(s,c)}function vC(s,c){var d=c._currentValue;if(c={context:c,memoizedValue:d,next:null},ea===null){if(s===null)throw Error(n(308));ea=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else ea=ea.next=c;return d}var T7=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(d,g){s.push(g)}};this.abort=function(){c.aborted=!0,s.forEach(function(d){return d()})}},M7=t.unstable_scheduleCallback,D7=t.unstable_NormalPriority,Rt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function My(){return{controller:new T7,data:new Map,refCount:0}}function du(s){s.refCount--,s.refCount===0&&M7(D7,function(){s.controller.abort()})}var hu=null,Dy=0,bo=0,wo=null;function _7(s,c){if(hu===null){var d=hu=[];Dy=0,bo=Rx(),wo={status:"pending",value:void 0,then:function(g){d.push(g)}}}return Dy++,c.then(bC,bC),c}function bC(){if(--Dy===0&&hu!==null){wo!==null&&(wo.status="fulfilled");var s=hu;hu=null,bo=0,wo=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function P7(s,c){var d=[],g={status:"pending",value:null,reason:null,then:function(v){d.push(v)}};return s.then(function(){g.status="fulfilled",g.value=c;for(var v=0;v<d.length;v++)(0,d[v])(c)},function(v){for(g.status="rejected",g.reason=v,v=0;v<d.length;v++)(0,d[v])(void 0)}),g}var wC=H.S;H.S=function(s,c){iO=sn(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&_7(s,c),wC!==null&&wC(s,c)};var rl=B(null);function _y(){var s=rl.current;return s!==null?s:st.pooledCache}function ih(s,c){c===null?oe(rl,rl.current):oe(rl,c.pool)}function SC(){var s=_y();return s===null?null:{parent:Rt._currentValue,pool:s}}var So=Error(n(460)),Py=Error(n(474)),ah=Error(n(542)),sh={then:function(){}};function jC(s){return s=s.status,s==="fulfilled"||s==="rejected"}function NC(s,c,d){switch(d=s[d],d===void 0?s.push(c):d!==c&&(c.then(Qi,Qi),c=d),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,kC(s),s;default:if(typeof c.status=="string")c.then(Qi,Qi);else{if(s=st,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=c,s.status="pending",s.then(function(g){if(c.status==="pending"){var v=c;v.status="fulfilled",v.value=g}},function(g){if(c.status==="pending"){var v=c;v.status="rejected",v.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,kC(s),s}throw il=c,So}}function nl(s){try{var c=s._init;return c(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(il=d,So):d}}var il=null;function CC(){if(il===null)throw Error(n(459));var s=il;return il=null,s}function kC(s){if(s===So||s===ah)throw Error(n(483))}var jo=null,mu=0;function lh(s){var c=mu;return mu+=1,jo===null&&(jo=[]),NC(jo,s,c)}function pu(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function oh(s,c){throw c.$$typeof===y?Error(n(525)):(s=Object.prototype.toString.call(c),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function OC(s){function c(G,V){if(s){var X=G.deletions;X===null?(G.deletions=[V],G.flags|=16):X.push(V)}}function d(G,V){if(!s)return null;for(;V!==null;)c(G,V),V=V.sibling;return null}function g(G){for(var V=new Map;G!==null;)G.key!==null?V.set(G.key,G):V.set(G.index,G),G=G.sibling;return V}function v(G,V){return G=Zi(G,V),G.index=0,G.sibling=null,G}function S(G,V,X){return G.index=X,s?(X=G.alternate,X!==null?(X=X.index,X<V?(G.flags|=67108866,V):X):(G.flags|=67108866,V)):(G.flags|=1048576,V)}function O(G){return s&&G.alternate===null&&(G.flags|=67108866),G}function P(G,V,X,le){return V===null||V.tag!==6?(V=Sy(X,G.mode,le),V.return=G,V):(V=v(V,X),V.return=G,V)}function q(G,V,X,le){var ke=X.type;return ke===N?ae(G,V,X.props.children,le,X.key):V!==null&&(V.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===_&&nl(ke)===V.type)?(V=v(V,X.props),pu(V,X),V.return=G,V):(V=eh(X.type,X.key,X.props,null,G.mode,le),pu(V,X),V.return=G,V)}function Z(G,V,X,le){return V===null||V.tag!==4||V.stateNode.containerInfo!==X.containerInfo||V.stateNode.implementation!==X.implementation?(V=jy(X,G.mode,le),V.return=G,V):(V=v(V,X.children||[]),V.return=G,V)}function ae(G,V,X,le,ke){return V===null||V.tag!==7?(V=Zs(X,G.mode,le,ke),V.return=G,V):(V=v(V,X),V.return=G,V)}function ce(G,V,X){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Sy(""+V,G.mode,X),V.return=G,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case x:return X=eh(V.type,V.key,V.props,null,G.mode,X),pu(X,V),X.return=G,X;case b:return V=jy(V,G.mode,X),V.return=G,V;case _:return V=nl(V),ce(G,V,X)}if($(V)||R(V))return V=Zs(V,G.mode,X,null),V.return=G,V;if(typeof V.then=="function")return ce(G,lh(V),X);if(V.$$typeof===k)return ce(G,nh(G,V),X);oh(G,V)}return null}function ee(G,V,X,le){var ke=V!==null?V.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return ke!==null?null:P(G,V,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case x:return X.key===ke?q(G,V,X,le):null;case b:return X.key===ke?Z(G,V,X,le):null;case _:return X=nl(X),ee(G,V,X,le)}if($(X)||R(X))return ke!==null?null:ae(G,V,X,le,null);if(typeof X.then=="function")return ee(G,V,lh(X),le);if(X.$$typeof===k)return ee(G,V,nh(G,X),le);oh(G,X)}return null}function re(G,V,X,le,ke){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return G=G.get(X)||null,P(V,G,""+le,ke);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case x:return G=G.get(le.key===null?X:le.key)||null,q(V,G,le,ke);case b:return G=G.get(le.key===null?X:le.key)||null,Z(V,G,le,ke);case _:return le=nl(le),re(G,V,X,le,ke)}if($(le)||R(le))return G=G.get(X)||null,ae(V,G,le,ke,null);if(typeof le.then=="function")return re(G,V,X,lh(le),ke);if(le.$$typeof===k)return re(G,V,X,nh(V,le),ke);oh(V,le)}return null}function be(G,V,X,le){for(var ke=null,We=null,Se=V,Le=V=0,He=null;Se!==null&&Le<X.length;Le++){Se.index>Le?(He=Se,Se=null):He=Se.sibling;var Ke=ee(G,Se,X[Le],le);if(Ke===null){Se===null&&(Se=He);break}s&&Se&&Ke.alternate===null&&c(G,Se),V=S(Ke,V,Le),We===null?ke=Ke:We.sibling=Ke,We=Ke,Se=He}if(Le===X.length)return d(G,Se),$e&&Ji(G,Le),ke;if(Se===null){for(;Le<X.length;Le++)Se=ce(G,X[Le],le),Se!==null&&(V=S(Se,V,Le),We===null?ke=Se:We.sibling=Se,We=Se);return $e&&Ji(G,Le),ke}for(Se=g(Se);Le<X.length;Le++)He=re(Se,G,Le,X[Le],le),He!==null&&(s&&He.alternate!==null&&Se.delete(He.key===null?Le:He.key),V=S(He,V,Le),We===null?ke=He:We.sibling=He,We=He);return s&&Se.forEach(function(ds){return c(G,ds)}),$e&&Ji(G,Le),ke}function Me(G,V,X,le){if(X==null)throw Error(n(151));for(var ke=null,We=null,Se=V,Le=V=0,He=null,Ke=X.next();Se!==null&&!Ke.done;Le++,Ke=X.next()){Se.index>Le?(He=Se,Se=null):He=Se.sibling;var ds=ee(G,Se,Ke.value,le);if(ds===null){Se===null&&(Se=He);break}s&&Se&&ds.alternate===null&&c(G,Se),V=S(ds,V,Le),We===null?ke=ds:We.sibling=ds,We=ds,Se=He}if(Ke.done)return d(G,Se),$e&&Ji(G,Le),ke;if(Se===null){for(;!Ke.done;Le++,Ke=X.next())Ke=ce(G,Ke.value,le),Ke!==null&&(V=S(Ke,V,Le),We===null?ke=Ke:We.sibling=Ke,We=Ke);return $e&&Ji(G,Le),ke}for(Se=g(Se);!Ke.done;Le++,Ke=X.next())Ke=re(Se,G,Le,Ke.value,le),Ke!==null&&(s&&Ke.alternate!==null&&Se.delete(Ke.key===null?Le:Ke.key),V=S(Ke,V,Le),We===null?ke=Ke:We.sibling=Ke,We=Ke);return s&&Se.forEach(function(F9){return c(G,F9)}),$e&&Ji(G,Le),ke}function nt(G,V,X,le){if(typeof X=="object"&&X!==null&&X.type===N&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case x:e:{for(var ke=X.key;V!==null;){if(V.key===ke){if(ke=X.type,ke===N){if(V.tag===7){d(G,V.sibling),le=v(V,X.props.children),le.return=G,G=le;break e}}else if(V.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===_&&nl(ke)===V.type){d(G,V.sibling),le=v(V,X.props),pu(le,X),le.return=G,G=le;break e}d(G,V);break}else c(G,V);V=V.sibling}X.type===N?(le=Zs(X.props.children,G.mode,le,X.key),le.return=G,G=le):(le=eh(X.type,X.key,X.props,null,G.mode,le),pu(le,X),le.return=G,G=le)}return O(G);case b:e:{for(ke=X.key;V!==null;){if(V.key===ke)if(V.tag===4&&V.stateNode.containerInfo===X.containerInfo&&V.stateNode.implementation===X.implementation){d(G,V.sibling),le=v(V,X.children||[]),le.return=G,G=le;break e}else{d(G,V);break}else c(G,V);V=V.sibling}le=jy(X,G.mode,le),le.return=G,G=le}return O(G);case _:return X=nl(X),nt(G,V,X,le)}if($(X))return be(G,V,X,le);if(R(X)){if(ke=R(X),typeof ke!="function")throw Error(n(150));return X=ke.call(X),Me(G,V,X,le)}if(typeof X.then=="function")return nt(G,V,lh(X),le);if(X.$$typeof===k)return nt(G,V,nh(G,X),le);oh(G,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,V!==null&&V.tag===6?(d(G,V.sibling),le=v(V,X),le.return=G,G=le):(d(G,V),le=Sy(X,G.mode,le),le.return=G,G=le),O(G)):d(G,V)}return function(G,V,X,le){try{mu=0;var ke=nt(G,V,X,le);return jo=null,ke}catch(Se){if(Se===So||Se===ah)throw Se;var We=un(29,Se,null,G.mode);return We.lanes=le,We.return=G,We}}}var al=OC(!0),AC=OC(!1),Ya=!1;function Ry(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ly(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Qa(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Xa(s,c,d){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(Xe&2)!==0){var v=g.pending;return v===null?c.next=c:(c.next=v.next,v.next=c),g.pending=c,c=Jd(s),fC(s,null,d),c}return Zd(s,g,c,d),Jd(s)}function gu(s,c,d){if(c=c.updateQueue,c!==null&&(c=c.shared,(d&4194048)!==0)){var g=c.lanes;g&=s.pendingLanes,d|=g,c.lanes=d,vN(s,d)}}function By(s,c){var d=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var v=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var O={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};S===null?v=S=O:S=S.next=O,d=d.next}while(d!==null);S===null?v=S=c:S=S.next=c}else v=S=c;d={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:g.shared,callbacks:g.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=c}var zy=!1;function yu(){if(zy){var s=wo;if(s!==null)throw s}}function xu(s,c,d,g){zy=!1;var v=s.updateQueue;Ya=!1;var S=v.firstBaseUpdate,O=v.lastBaseUpdate,P=v.shared.pending;if(P!==null){v.shared.pending=null;var q=P,Z=q.next;q.next=null,O===null?S=Z:O.next=Z,O=q;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,P=ae.lastBaseUpdate,P!==O&&(P===null?ae.firstBaseUpdate=Z:P.next=Z,ae.lastBaseUpdate=q))}if(S!==null){var ce=v.baseState;O=0,ae=Z=q=null,P=S;do{var ee=P.lane&-536870913,re=ee!==P.lane;if(re?(qe&ee)===ee:(g&ee)===ee){ee!==0&&ee===bo&&(zy=!0),ae!==null&&(ae=ae.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var be=s,Me=P;ee=c;var nt=d;switch(Me.tag){case 1:if(be=Me.payload,typeof be=="function"){ce=be.call(nt,ce,ee);break e}ce=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Me.payload,ee=typeof be=="function"?be.call(nt,ce,ee):be,ee==null)break e;ce=p({},ce,ee);break e;case 2:Ya=!0}}ee=P.callback,ee!==null&&(s.flags|=64,re&&(s.flags|=8192),re=v.callbacks,re===null?v.callbacks=[ee]:re.push(ee))}else re={lane:ee,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ae===null?(Z=ae=re,q=ce):ae=ae.next=re,O|=ee;if(P=P.next,P===null){if(P=v.shared.pending,P===null)break;re=P,P=re.next,re.next=null,v.lastBaseUpdate=re,v.shared.pending=null}}while(!0);ae===null&&(q=ce),v.baseState=q,v.firstBaseUpdate=Z,v.lastBaseUpdate=ae,S===null&&(v.shared.lanes=0),rs|=O,s.lanes=O,s.memoizedState=ce}}function EC(s,c){if(typeof s!="function")throw Error(n(191,s));s.call(c)}function TC(s,c){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)EC(d[s],c)}var No=B(null),ch=B(0);function MC(s,c){s=ua,oe(ch,s),oe(No,c),ua=s|c.baseLanes}function Iy(){oe(ch,ua),oe(No,No.current)}function Uy(){ua=ch.current,K(No),K(ch)}var fn=B(null),Rn=null;function Za(s){var c=s.alternate;oe(Et,Et.current&1),oe(fn,s),Rn===null&&(c===null||No.current!==null||c.memoizedState!==null)&&(Rn=s)}function qy(s){oe(Et,Et.current),oe(fn,s),Rn===null&&(Rn=s)}function DC(s){s.tag===22?(oe(Et,Et.current),oe(fn,s),Rn===null&&(Rn=s)):Ja()}function Ja(){oe(Et,Et.current),oe(fn,fn.current)}function dn(s){K(fn),Rn===s&&(Rn=null),K(Et)}var Et=B(0);function uh(s){for(var c=s;c!==null;){if(c.tag===13){var d=c.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Kx(d)||Gx(d)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var ra=0,Re=null,tt=null,Lt=null,fh=!1,Co=!1,sl=!1,dh=0,vu=0,ko=null,R7=0;function Nt(){throw Error(n(321))}function Hy(s,c){if(c===null)return!1;for(var d=0;d<c.length&&d<s.length;d++)if(!cn(s[d],c[d]))return!1;return!0}function $y(s,c,d,g,v,S){return ra=S,Re=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,H.H=s===null||s.memoizedState===null?pk:ix,sl=!1,S=d(g,v),sl=!1,Co&&(S=PC(c,d,g,v)),_C(s),S}function _C(s){H.H=Su;var c=tt!==null&&tt.next!==null;if(ra=0,Lt=tt=Re=null,fh=!1,vu=0,ko=null,c)throw Error(n(300));s===null||Bt||(s=s.dependencies,s!==null&&rh(s)&&(Bt=!0))}function PC(s,c,d,g){Re=s;var v=0;do{if(Co&&(ko=null),vu=0,Co=!1,25<=v)throw Error(n(301));if(v+=1,Lt=tt=null,s.updateQueue!=null){var S=s.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}H.H=gk,S=c(d,g)}while(Co);return S}function L7(){var s=H.H,c=s.useState()[0];return c=typeof c.then=="function"?bu(c):c,s=s.useState()[0],(tt!==null?tt.memoizedState:null)!==s&&(Re.flags|=1024),c}function Vy(){var s=dh!==0;return dh=0,s}function Fy(s,c,d){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~d}function Wy(s){if(fh){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}fh=!1}ra=0,Lt=tt=Re=null,Co=!1,vu=dh=0,ko=null}function Tr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Re.memoizedState=Lt=s:Lt=Lt.next=s,Lt}function Tt(){if(tt===null){var s=Re.alternate;s=s!==null?s.memoizedState:null}else s=tt.next;var c=Lt===null?Re.memoizedState:Lt.next;if(c!==null)Lt=c,tt=s;else{if(s===null)throw Re.alternate===null?Error(n(467)):Error(n(310));tt=s,s={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Lt===null?Re.memoizedState=Lt=s:Lt=Lt.next=s}return Lt}function hh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bu(s){var c=vu;return vu+=1,ko===null&&(ko=[]),s=NC(ko,s,c),c=Re,(Lt===null?c.memoizedState:Lt.next)===null&&(c=c.alternate,H.H=c===null||c.memoizedState===null?pk:ix),s}function mh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return bu(s);if(s.$$typeof===k)return fr(s)}throw Error(n(438,String(s)))}function Ky(s){var c=null,d=Re.updateQueue;if(d!==null&&(c=d.memoCache),c==null){var g=Re.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(v){return v.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),d===null&&(d=hh(),Re.updateQueue=d),d.memoCache=c,d=c.data[c.index],d===void 0)for(d=c.data[c.index]=Array(s),g=0;g<s;g++)d[g]=I;return c.index++,d}function na(s,c){return typeof c=="function"?c(s):c}function ph(s){var c=Tt();return Gy(c,tt,s)}function Gy(s,c,d){var g=s.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=d;var v=s.baseQueue,S=g.pending;if(S!==null){if(v!==null){var O=v.next;v.next=S.next,S.next=O}c.baseQueue=v=S,g.pending=null}if(S=s.baseState,v===null)s.memoizedState=S;else{c=v.next;var P=O=null,q=null,Z=c,ae=!1;do{var ce=Z.lane&-536870913;if(ce!==Z.lane?(qe&ce)===ce:(ra&ce)===ce){var ee=Z.revertLane;if(ee===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ce===bo&&(ae=!0);else if((ra&ee)===ee){Z=Z.next,ee===bo&&(ae=!0);continue}else ce={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(P=q=ce,O=S):q=q.next=ce,Re.lanes|=ee,rs|=ee;ce=Z.action,sl&&d(S,ce),S=Z.hasEagerState?Z.eagerState:d(S,ce)}else ee={lane:ce,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(P=q=ee,O=S):q=q.next=ee,Re.lanes|=ce,rs|=ce;Z=Z.next}while(Z!==null&&Z!==c);if(q===null?O=S:q.next=P,!cn(S,s.memoizedState)&&(Bt=!0,ae&&(d=wo,d!==null)))throw d;s.memoizedState=S,s.baseState=O,s.baseQueue=q,g.lastRenderedState=S}return v===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function Yy(s){var c=Tt(),d=c.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var g=d.dispatch,v=d.pending,S=c.memoizedState;if(v!==null){d.pending=null;var O=v=v.next;do S=s(S,O.action),O=O.next;while(O!==v);cn(S,c.memoizedState)||(Bt=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),d.lastRenderedState=S}return[S,g]}function RC(s,c,d){var g=Re,v=Tt(),S=$e;if(S){if(d===void 0)throw Error(n(407));d=d()}else d=c();var O=!cn((tt||v).memoizedState,d);if(O&&(v.memoizedState=d,Bt=!0),v=v.queue,Zy(zC.bind(null,g,v,s),[s]),v.getSnapshot!==c||O||Lt!==null&&Lt.memoizedState.tag&1){if(g.flags|=2048,Oo(9,{destroy:void 0},BC.bind(null,g,v,d,c),null),st===null)throw Error(n(349));S||(ra&127)!==0||LC(g,c,d)}return d}function LC(s,c,d){s.flags|=16384,s={getSnapshot:c,value:d},c=Re.updateQueue,c===null?(c=hh(),Re.updateQueue=c,c.stores=[s]):(d=c.stores,d===null?c.stores=[s]:d.push(s))}function BC(s,c,d,g){c.value=d,c.getSnapshot=g,IC(c)&&UC(s)}function zC(s,c,d){return d(function(){IC(c)&&UC(s)})}function IC(s){var c=s.getSnapshot;s=s.value;try{var d=c();return!cn(s,d)}catch{return!0}}function UC(s){var c=Xs(s,2);c!==null&&Fr(c,s,2)}function Qy(s){var c=Tr();if(typeof s=="function"){var d=s;if(s=d(),sl){Ha(!0);try{d()}finally{Ha(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:s},c}function qC(s,c,d,g){return s.baseState=d,Gy(s,tt,typeof g=="function"?g:na)}function B7(s,c,d,g,v){if(xh(s))throw Error(n(485));if(s=c.action,s!==null){var S={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){S.listeners.push(O)}};H.T!==null?d(!0):S.isTransition=!1,g(S),d=c.pending,d===null?(S.next=c.pending=S,HC(c,S)):(S.next=d.next,c.pending=d.next=S)}}function HC(s,c){var d=c.action,g=c.payload,v=s.state;if(c.isTransition){var S=H.T,O={};H.T=O;try{var P=d(v,g),q=H.S;q!==null&&q(O,P),$C(s,c,P)}catch(Z){Xy(s,c,Z)}finally{S!==null&&O.types!==null&&(S.types=O.types),H.T=S}}else try{S=d(v,g),$C(s,c,S)}catch(Z){Xy(s,c,Z)}}function $C(s,c,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){VC(s,c,g)},function(g){return Xy(s,c,g)}):VC(s,c,d)}function VC(s,c,d){c.status="fulfilled",c.value=d,FC(c),s.state=d,c=s.pending,c!==null&&(d=c.next,d===c?s.pending=null:(d=d.next,c.next=d,HC(s,d)))}function Xy(s,c,d){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=d,FC(c),c=c.next;while(c!==g)}s.action=null}function FC(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function WC(s,c){return c}function KC(s,c){if($e){var d=st.formState;if(d!==null){e:{var g=Re;if($e){if(dt){t:{for(var v=dt,S=Pn;v.nodeType!==8;){if(!S){v=null;break t}if(v=Ln(v.nextSibling),v===null){v=null;break t}}S=v.data,v=S==="F!"||S==="F"?v:null}if(v){dt=Ln(v.nextSibling),g=v.data==="F!";break e}}Ka(g)}g=!1}g&&(c=d[0])}}return d=Tr(),d.memoizedState=d.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:WC,lastRenderedState:c},d.queue=g,d=dk.bind(null,Re,g),g.dispatch=d,g=Qy(!1),S=nx.bind(null,Re,!1,g.queue),g=Tr(),v={state:c,dispatch:null,action:s,pending:null},g.queue=v,d=B7.bind(null,Re,v,S,d),v.dispatch=d,g.memoizedState=s,[c,d,!1]}function GC(s){var c=Tt();return YC(c,tt,s)}function YC(s,c,d){if(c=Gy(s,c,WC)[0],s=ph(na)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=bu(c)}catch(O){throw O===So?ah:O}else g=c;c=Tt();var v=c.queue,S=v.dispatch;return d!==c.memoizedState&&(Re.flags|=2048,Oo(9,{destroy:void 0},z7.bind(null,v,d),null)),[g,S,s]}function z7(s,c){s.action=c}function QC(s){var c=Tt(),d=tt;if(d!==null)return YC(c,d,s);Tt(),c=c.memoizedState,d=Tt();var g=d.queue.dispatch;return d.memoizedState=s,[c,g,!1]}function Oo(s,c,d,g){return s={tag:s,create:d,deps:g,inst:c,next:null},c=Re.updateQueue,c===null&&(c=hh(),Re.updateQueue=c),d=c.lastEffect,d===null?c.lastEffect=s.next=s:(g=d.next,d.next=s,s.next=g,c.lastEffect=s),s}function XC(){return Tt().memoizedState}function gh(s,c,d,g){var v=Tr();Re.flags|=s,v.memoizedState=Oo(1|c,{destroy:void 0},d,g===void 0?null:g)}function yh(s,c,d,g){var v=Tt();g=g===void 0?null:g;var S=v.memoizedState.inst;tt!==null&&g!==null&&Hy(g,tt.memoizedState.deps)?v.memoizedState=Oo(c,S,d,g):(Re.flags|=s,v.memoizedState=Oo(1|c,S,d,g))}function ZC(s,c){gh(8390656,8,s,c)}function Zy(s,c){yh(2048,8,s,c)}function I7(s){Re.flags|=4;var c=Re.updateQueue;if(c===null)c=hh(),Re.updateQueue=c,c.events=[s];else{var d=c.events;d===null?c.events=[s]:d.push(s)}}function JC(s){var c=Tt().memoizedState;return I7({ref:c,nextImpl:s}),function(){if((Xe&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function ek(s,c){return yh(4,2,s,c)}function tk(s,c){return yh(4,4,s,c)}function rk(s,c){if(typeof c=="function"){s=s();var d=c(s);return function(){typeof d=="function"?d():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function nk(s,c,d){d=d!=null?d.concat([s]):null,yh(4,4,rk.bind(null,c,s),d)}function Jy(){}function ik(s,c){var d=Tt();c=c===void 0?null:c;var g=d.memoizedState;return c!==null&&Hy(c,g[1])?g[0]:(d.memoizedState=[s,c],s)}function ak(s,c){var d=Tt();c=c===void 0?null:c;var g=d.memoizedState;if(c!==null&&Hy(c,g[1]))return g[0];if(g=s(),sl){Ha(!0);try{s()}finally{Ha(!1)}}return d.memoizedState=[g,c],g}function ex(s,c,d){return d===void 0||(ra&1073741824)!==0&&(qe&261930)===0?s.memoizedState=c:(s.memoizedState=d,s=sO(),Re.lanes|=s,rs|=s,d)}function sk(s,c,d,g){return cn(d,c)?d:No.current!==null?(s=ex(s,d,g),cn(s,c)||(Bt=!0),s):(ra&42)===0||(ra&1073741824)!==0&&(qe&261930)===0?(Bt=!0,s.memoizedState=d):(s=sO(),Re.lanes|=s,rs|=s,c)}function lk(s,c,d,g,v){var S=F.p;F.p=S!==0&&8>S?S:8;var O=H.T,P={};H.T=P,nx(s,!1,c,d);try{var q=v(),Z=H.S;if(Z!==null&&Z(P,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ae=P7(q,g);wu(s,c,ae,pn(s))}else wu(s,c,g,pn(s))}catch(ce){wu(s,c,{then:function(){},status:"rejected",reason:ce},pn())}finally{F.p=S,O!==null&&P.types!==null&&(O.types=P.types),H.T=O}}function U7(){}function tx(s,c,d,g){if(s.tag!==5)throw Error(n(476));var v=ok(s).queue;lk(s,v,c,Q,d===null?U7:function(){return ck(s),d(g)})}function ok(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:Q},next:null};var d={};return c.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:d},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function ck(s){var c=ok(s);c.next===null&&(c=s.alternate.memoizedState),wu(s,c.next.queue,{},pn())}function rx(){return fr(zu)}function uk(){return Tt().memoizedState}function fk(){return Tt().memoizedState}function q7(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var d=pn();s=Qa(d);var g=Xa(c,s,d);g!==null&&(Fr(g,c,d),gu(g,c,d)),c={cache:My()},s.payload=c;return}c=c.return}}function H7(s,c,d){var g=pn();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},xh(s)?hk(c,d):(d=by(s,c,d,g),d!==null&&(Fr(d,s,g),mk(d,c,g)))}function dk(s,c,d){var g=pn();wu(s,c,d,g)}function wu(s,c,d,g){var v={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(xh(s))hk(c,v);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var O=c.lastRenderedState,P=S(O,d);if(v.hasEagerState=!0,v.eagerState=P,cn(P,O))return Zd(s,c,v,0),st===null&&Xd(),!1}catch{}if(d=by(s,c,v,g),d!==null)return Fr(d,s,g),mk(d,c,g),!0}return!1}function nx(s,c,d,g){if(g={lane:2,revertLane:Rx(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},xh(s)){if(c)throw Error(n(479))}else c=by(s,d,g,2),c!==null&&Fr(c,s,2)}function xh(s){var c=s.alternate;return s===Re||c!==null&&c===Re}function hk(s,c){Co=fh=!0;var d=s.pending;d===null?c.next=c:(c.next=d.next,d.next=c),s.pending=c}function mk(s,c,d){if((d&4194048)!==0){var g=c.lanes;g&=s.pendingLanes,d|=g,c.lanes=d,vN(s,d)}}var Su={readContext:fr,use:mh,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};Su.useEffectEvent=Nt;var pk={readContext:fr,use:mh,useCallback:function(s,c){return Tr().memoizedState=[s,c===void 0?null:c],s},useContext:fr,useEffect:ZC,useImperativeHandle:function(s,c,d){d=d!=null?d.concat([s]):null,gh(4194308,4,rk.bind(null,c,s),d)},useLayoutEffect:function(s,c){return gh(4194308,4,s,c)},useInsertionEffect:function(s,c){gh(4,2,s,c)},useMemo:function(s,c){var d=Tr();c=c===void 0?null:c;var g=s();if(sl){Ha(!0);try{s()}finally{Ha(!1)}}return d.memoizedState=[g,c],g},useReducer:function(s,c,d){var g=Tr();if(d!==void 0){var v=d(c);if(sl){Ha(!0);try{d(c)}finally{Ha(!1)}}}else v=c;return g.memoizedState=g.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},g.queue=s,s=s.dispatch=H7.bind(null,Re,s),[g.memoizedState,s]},useRef:function(s){var c=Tr();return s={current:s},c.memoizedState=s},useState:function(s){s=Qy(s);var c=s.queue,d=dk.bind(null,Re,c);return c.dispatch=d,[s.memoizedState,d]},useDebugValue:Jy,useDeferredValue:function(s,c){var d=Tr();return ex(d,s,c)},useTransition:function(){var s=Qy(!1);return s=lk.bind(null,Re,s.queue,!0,!1),Tr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,d){var g=Re,v=Tr();if($e){if(d===void 0)throw Error(n(407));d=d()}else{if(d=c(),st===null)throw Error(n(349));(qe&127)!==0||LC(g,c,d)}v.memoizedState=d;var S={value:d,getSnapshot:c};return v.queue=S,ZC(zC.bind(null,g,S,s),[s]),g.flags|=2048,Oo(9,{destroy:void 0},BC.bind(null,g,S,d,c),null),d},useId:function(){var s=Tr(),c=st.identifierPrefix;if($e){var d=yi,g=gi;d=(g&~(1<<32-on(g)-1)).toString(32)+d,c="_"+c+"R_"+d,d=dh++,0<d&&(c+="H"+d.toString(32)),c+="_"}else d=R7++,c="_"+c+"r_"+d.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:rx,useFormState:KC,useActionState:KC,useOptimistic:function(s){var c=Tr();c.memoizedState=c.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=d,c=nx.bind(null,Re,!0,d),d.dispatch=c,[s,c]},useMemoCache:Ky,useCacheRefresh:function(){return Tr().memoizedState=q7.bind(null,Re)},useEffectEvent:function(s){var c=Tr(),d={impl:s};return c.memoizedState=d,function(){if((Xe&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},ix={readContext:fr,use:mh,useCallback:ik,useContext:fr,useEffect:Zy,useImperativeHandle:nk,useInsertionEffect:ek,useLayoutEffect:tk,useMemo:ak,useReducer:ph,useRef:XC,useState:function(){return ph(na)},useDebugValue:Jy,useDeferredValue:function(s,c){var d=Tt();return sk(d,tt.memoizedState,s,c)},useTransition:function(){var s=ph(na)[0],c=Tt().memoizedState;return[typeof s=="boolean"?s:bu(s),c]},useSyncExternalStore:RC,useId:uk,useHostTransitionStatus:rx,useFormState:GC,useActionState:GC,useOptimistic:function(s,c){var d=Tt();return qC(d,tt,s,c)},useMemoCache:Ky,useCacheRefresh:fk};ix.useEffectEvent=JC;var gk={readContext:fr,use:mh,useCallback:ik,useContext:fr,useEffect:Zy,useImperativeHandle:nk,useInsertionEffect:ek,useLayoutEffect:tk,useMemo:ak,useReducer:Yy,useRef:XC,useState:function(){return Yy(na)},useDebugValue:Jy,useDeferredValue:function(s,c){var d=Tt();return tt===null?ex(d,s,c):sk(d,tt.memoizedState,s,c)},useTransition:function(){var s=Yy(na)[0],c=Tt().memoizedState;return[typeof s=="boolean"?s:bu(s),c]},useSyncExternalStore:RC,useId:uk,useHostTransitionStatus:rx,useFormState:QC,useActionState:QC,useOptimistic:function(s,c){var d=Tt();return tt!==null?qC(d,tt,s,c):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:Ky,useCacheRefresh:fk};gk.useEffectEvent=JC;function ax(s,c,d,g){c=s.memoizedState,d=d(g,c),d=d==null?c:p({},c,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var sx={enqueueSetState:function(s,c,d){s=s._reactInternals;var g=pn(),v=Qa(g);v.payload=c,d!=null&&(v.callback=d),c=Xa(s,v,g),c!==null&&(Fr(c,s,g),gu(c,s,g))},enqueueReplaceState:function(s,c,d){s=s._reactInternals;var g=pn(),v=Qa(g);v.tag=1,v.payload=c,d!=null&&(v.callback=d),c=Xa(s,v,g),c!==null&&(Fr(c,s,g),gu(c,s,g))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var d=pn(),g=Qa(d);g.tag=2,c!=null&&(g.callback=c),c=Xa(s,g,d),c!==null&&(Fr(c,s,d),gu(c,s,d))}};function yk(s,c,d,g,v,S,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,S,O):c.prototype&&c.prototype.isPureReactComponent?!ou(d,g)||!ou(v,S):!0}function xk(s,c,d,g){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(d,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(d,g),c.state!==s&&sx.enqueueReplaceState(c,c.state,null)}function ll(s,c){var d=c;if("ref"in c){d={};for(var g in c)g!=="ref"&&(d[g]=c[g])}if(s=s.defaultProps){d===c&&(d=p({},d));for(var v in s)d[v]===void 0&&(d[v]=s[v])}return d}function vk(s){Qd(s)}function bk(s){console.error(s)}function wk(s){Qd(s)}function vh(s,c){try{var d=s.onUncaughtError;d(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function Sk(s,c,d){try{var g=s.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function lx(s,c,d){return d=Qa(d),d.tag=3,d.payload={element:null},d.callback=function(){vh(s,c)},d}function jk(s){return s=Qa(s),s.tag=3,s}function Nk(s,c,d,g){var v=d.type.getDerivedStateFromError;if(typeof v=="function"){var S=g.value;s.payload=function(){return v(S)},s.callback=function(){Sk(c,d,g)}}var O=d.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(s.callback=function(){Sk(c,d,g),typeof v!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var P=g.stack;this.componentDidCatch(g.value,{componentStack:P!==null?P:""})})}function $7(s,c,d,g,v){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=d.alternate,c!==null&&vo(c,d,v,!0),d=fn.current,d!==null){switch(d.tag){case 31:case 13:return Rn===null?Mh():d.alternate===null&&Ct===0&&(Ct=3),d.flags&=-257,d.flags|=65536,d.lanes=v,g===sh?d.flags|=16384:(c=d.updateQueue,c===null?d.updateQueue=new Set([g]):c.add(g),Dx(s,g,v)),!1;case 22:return d.flags|=65536,g===sh?d.flags|=16384:(c=d.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=c):(d=c.retryQueue,d===null?c.retryQueue=new Set([g]):d.add(g)),Dx(s,g,v)),!1}throw Error(n(435,d.tag))}return Dx(s,g,v),Mh(),!1}if($e)return c=fn.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=v,g!==ky&&(s=Error(n(422),{cause:g}),fu(Mn(s,d)))):(g!==ky&&(c=Error(n(423),{cause:g}),fu(Mn(c,d))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,g=Mn(g,d),v=lx(s.stateNode,g,v),By(s,v),Ct!==4&&(Ct=2)),!1;var S=Error(n(520),{cause:g});if(S=Mn(S,d),Tu===null?Tu=[S]:Tu.push(S),Ct!==4&&(Ct=2),c===null)return!0;g=Mn(g,d),d=c;do{switch(d.tag){case 3:return d.flags|=65536,s=v&-v,d.lanes|=s,s=lx(d.stateNode,g,s),By(d,s),!1;case 1:if(c=d.type,S=d.stateNode,(d.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ns===null||!ns.has(S))))return d.flags|=65536,v&=-v,d.lanes|=v,v=jk(v),Nk(v,s,d,g),By(d,v),!1}d=d.return}while(d!==null);return!1}var ox=Error(n(461)),Bt=!1;function dr(s,c,d,g){c.child=s===null?AC(c,null,d,g):al(c,s.child,d,g)}function Ck(s,c,d,g,v){d=d.render;var S=c.ref;if("ref"in g){var O={};for(var P in g)P!=="ref"&&(O[P]=g[P])}else O=g;return tl(c),g=$y(s,c,d,O,S,v),P=Vy(),s!==null&&!Bt?(Fy(s,c,v),ia(s,c,v)):($e&&P&&Ny(c),c.flags|=1,dr(s,c,g,v),c.child)}function kk(s,c,d,g,v){if(s===null){var S=d.type;return typeof S=="function"&&!wy(S)&&S.defaultProps===void 0&&d.compare===null?(c.tag=15,c.type=S,Ok(s,c,S,g,v)):(s=eh(d.type,null,g,c,c.mode,v),s.ref=c.ref,s.return=c,c.child=s)}if(S=s.child,!gx(s,v)){var O=S.memoizedProps;if(d=d.compare,d=d!==null?d:ou,d(O,g)&&s.ref===c.ref)return ia(s,c,v)}return c.flags|=1,s=Zi(S,g),s.ref=c.ref,s.return=c,c.child=s}function Ok(s,c,d,g,v){if(s!==null){var S=s.memoizedProps;if(ou(S,g)&&s.ref===c.ref)if(Bt=!1,c.pendingProps=g=S,gx(s,v))(s.flags&131072)!==0&&(Bt=!0);else return c.lanes=s.lanes,ia(s,c,v)}return cx(s,c,d,g,v)}function Ak(s,c,d,g){var v=g.children,S=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(S=S!==null?S.baseLanes|d:d,s!==null){for(g=c.child=s.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;g=v&~S}else g=0,c.child=null;return Ek(s,c,S,d,g)}if((d&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&ih(c,S!==null?S.cachePool:null),S!==null?MC(c,S):Iy(),DC(c);else return g=c.lanes=536870912,Ek(s,c,S!==null?S.baseLanes|d:d,d,g)}else S!==null?(ih(c,S.cachePool),MC(c,S),Ja(),c.memoizedState=null):(s!==null&&ih(c,null),Iy(),Ja());return dr(s,c,v,d),c.child}function ju(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function Ek(s,c,d,g,v){var S=_y();return S=S===null?null:{parent:Rt._currentValue,pool:S},c.memoizedState={baseLanes:d,cachePool:S},s!==null&&ih(c,null),Iy(),DC(c),s!==null&&vo(s,c,g,!0),c.childLanes=v,null}function bh(s,c){return c=Sh({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function Tk(s,c,d){return al(c,s.child,null,d),s=bh(c,c.pendingProps),s.flags|=2,dn(c),c.memoizedState=null,s}function V7(s,c,d){var g=c.pendingProps,v=(c.flags&128)!==0;if(c.flags&=-129,s===null){if($e){if(g.mode==="hidden")return s=bh(c,g),c.lanes=536870912,ju(null,s);if(qy(c),(s=dt)?(s=HO(s,Pn),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:Fa!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},d=hC(s),d.return=c,c.child=d,ur=c,dt=null)):s=null,s===null)throw Ka(c);return c.lanes=536870912,null}return bh(c,g)}var S=s.memoizedState;if(S!==null){var O=S.dehydrated;if(qy(c),v)if(c.flags&256)c.flags&=-257,c=Tk(s,c,d);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(n(558));else if(Bt||vo(s,c,d,!1),v=(d&s.childLanes)!==0,Bt||v){if(g=st,g!==null&&(O=bN(g,d),O!==0&&O!==S.retryLane))throw S.retryLane=O,Xs(s,O),Fr(g,s,O),ox;Mh(),c=Tk(s,c,d)}else s=S.treeContext,dt=Ln(O.nextSibling),ur=c,$e=!0,Wa=null,Pn=!1,s!==null&&gC(c,s),c=bh(c,g),c.flags|=4096;return c}return s=Zi(s.child,{mode:g.mode,children:g.children}),s.ref=c.ref,c.child=s,s.return=c,s}function wh(s,c){var d=c.ref;if(d===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(s===null||s.ref!==d)&&(c.flags|=4194816)}}function cx(s,c,d,g,v){return tl(c),d=$y(s,c,d,g,void 0,v),g=Vy(),s!==null&&!Bt?(Fy(s,c,v),ia(s,c,v)):($e&&g&&Ny(c),c.flags|=1,dr(s,c,d,v),c.child)}function Mk(s,c,d,g,v,S){return tl(c),c.updateQueue=null,d=PC(c,g,d,v),_C(s),g=Vy(),s!==null&&!Bt?(Fy(s,c,S),ia(s,c,S)):($e&&g&&Ny(c),c.flags|=1,dr(s,c,d,S),c.child)}function Dk(s,c,d,g,v){if(tl(c),c.stateNode===null){var S=po,O=d.contextType;typeof O=="object"&&O!==null&&(S=fr(O)),S=new d(g,S),c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=sx,c.stateNode=S,S._reactInternals=c,S=c.stateNode,S.props=g,S.state=c.memoizedState,S.refs={},Ry(c),O=d.contextType,S.context=typeof O=="object"&&O!==null?fr(O):po,S.state=c.memoizedState,O=d.getDerivedStateFromProps,typeof O=="function"&&(ax(c,d,O,g),S.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(O=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),O!==S.state&&sx.enqueueReplaceState(S,S.state,null),xu(c,g,S,v),yu(),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(s===null){S=c.stateNode;var P=c.memoizedProps,q=ll(d,P);S.props=q;var Z=S.context,ae=d.contextType;O=po,typeof ae=="object"&&ae!==null&&(O=fr(ae));var ce=d.getDerivedStateFromProps;ae=typeof ce=="function"||typeof S.getSnapshotBeforeUpdate=="function",P=c.pendingProps!==P,ae||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(P||Z!==O)&&xk(c,S,g,O),Ya=!1;var ee=c.memoizedState;S.state=ee,xu(c,g,S,v),yu(),Z=c.memoizedState,P||ee!==Z||Ya?(typeof ce=="function"&&(ax(c,d,ce,g),Z=c.memoizedState),(q=Ya||yk(c,d,q,g,ee,Z,O))?(ae||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(c.flags|=4194308)):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=Z),S.props=g,S.state=Z,S.context=O,g=q):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{S=c.stateNode,Ly(s,c),O=c.memoizedProps,ae=ll(d,O),S.props=ae,ce=c.pendingProps,ee=S.context,Z=d.contextType,q=po,typeof Z=="object"&&Z!==null&&(q=fr(Z)),P=d.getDerivedStateFromProps,(Z=typeof P=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==ce||ee!==q)&&xk(c,S,g,q),Ya=!1,ee=c.memoizedState,S.state=ee,xu(c,g,S,v),yu();var re=c.memoizedState;O!==ce||ee!==re||Ya||s!==null&&s.dependencies!==null&&rh(s.dependencies)?(typeof P=="function"&&(ax(c,d,P,g),re=c.memoizedState),(ae=Ya||yk(c,d,ae,g,ee,re,q)||s!==null&&s.dependencies!==null&&rh(s.dependencies))?(Z||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(g,re,q),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(g,re,q)),typeof S.componentDidUpdate=="function"&&(c.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof S.componentDidUpdate!="function"||O===s.memoizedProps&&ee===s.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ee===s.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=re),S.props=g,S.state=re,S.context=q,g=ae):(typeof S.componentDidUpdate!="function"||O===s.memoizedProps&&ee===s.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ee===s.memoizedState||(c.flags|=1024),g=!1)}return S=g,wh(s,c),g=(c.flags&128)!==0,S||g?(S=c.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:S.render(),c.flags|=1,s!==null&&g?(c.child=al(c,s.child,null,v),c.child=al(c,null,d,v)):dr(s,c,d,v),c.memoizedState=S.state,s=c.child):s=ia(s,c,v),s}function _k(s,c,d,g){return Js(),c.flags|=256,dr(s,c,d,g),c.child}var ux={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fx(s){return{baseLanes:s,cachePool:SC()}}function dx(s,c,d){return s=s!==null?s.childLanes&~d:0,c&&(s|=mn),s}function Pk(s,c,d){var g=c.pendingProps,v=!1,S=(c.flags&128)!==0,O;if((O=S)||(O=s!==null&&s.memoizedState===null?!1:(Et.current&2)!==0),O&&(v=!0,c.flags&=-129),O=(c.flags&32)!==0,c.flags&=-33,s===null){if($e){if(v?Za(c):Ja(),(s=dt)?(s=HO(s,Pn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:Fa!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},d=hC(s),d.return=c,c.child=d,ur=c,dt=null)):s=null,s===null)throw Ka(c);return Gx(s)?c.lanes=32:c.lanes=536870912,null}var P=g.children;return g=g.fallback,v?(Ja(),v=c.mode,P=Sh({mode:"hidden",children:P},v),g=Zs(g,v,d,null),P.return=c,g.return=c,P.sibling=g,c.child=P,g=c.child,g.memoizedState=fx(d),g.childLanes=dx(s,O,d),c.memoizedState=ux,ju(null,g)):(Za(c),hx(c,P))}var q=s.memoizedState;if(q!==null&&(P=q.dehydrated,P!==null)){if(S)c.flags&256?(Za(c),c.flags&=-257,c=mx(s,c,d)):c.memoizedState!==null?(Ja(),c.child=s.child,c.flags|=128,c=null):(Ja(),P=g.fallback,v=c.mode,g=Sh({mode:"visible",children:g.children},v),P=Zs(P,v,d,null),P.flags|=2,g.return=c,P.return=c,g.sibling=P,c.child=g,al(c,s.child,null,d),g=c.child,g.memoizedState=fx(d),g.childLanes=dx(s,O,d),c.memoizedState=ux,c=ju(null,g));else if(Za(c),Gx(P)){if(O=P.nextSibling&&P.nextSibling.dataset,O)var Z=O.dgst;O=Z,g=Error(n(419)),g.stack="",g.digest=O,fu({value:g,source:null,stack:null}),c=mx(s,c,d)}else if(Bt||vo(s,c,d,!1),O=(d&s.childLanes)!==0,Bt||O){if(O=st,O!==null&&(g=bN(O,d),g!==0&&g!==q.retryLane))throw q.retryLane=g,Xs(s,g),Fr(O,s,g),ox;Kx(P)||Mh(),c=mx(s,c,d)}else Kx(P)?(c.flags|=192,c.child=s.child,c=null):(s=q.treeContext,dt=Ln(P.nextSibling),ur=c,$e=!0,Wa=null,Pn=!1,s!==null&&gC(c,s),c=hx(c,g.children),c.flags|=4096);return c}return v?(Ja(),P=g.fallback,v=c.mode,q=s.child,Z=q.sibling,g=Zi(q,{mode:"hidden",children:g.children}),g.subtreeFlags=q.subtreeFlags&65011712,Z!==null?P=Zi(Z,P):(P=Zs(P,v,d,null),P.flags|=2),P.return=c,g.return=c,g.sibling=P,c.child=g,ju(null,g),g=c.child,P=s.child.memoizedState,P===null?P=fx(d):(v=P.cachePool,v!==null?(q=Rt._currentValue,v=v.parent!==q?{parent:q,pool:q}:v):v=SC(),P={baseLanes:P.baseLanes|d,cachePool:v}),g.memoizedState=P,g.childLanes=dx(s,O,d),c.memoizedState=ux,ju(s.child,g)):(Za(c),d=s.child,s=d.sibling,d=Zi(d,{mode:"visible",children:g.children}),d.return=c,d.sibling=null,s!==null&&(O=c.deletions,O===null?(c.deletions=[s],c.flags|=16):O.push(s)),c.child=d,c.memoizedState=null,d)}function hx(s,c){return c=Sh({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function Sh(s,c){return s=un(22,s,null,c),s.lanes=0,s}function mx(s,c,d){return al(c,s.child,null,d),s=hx(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function Rk(s,c,d){s.lanes|=c;var g=s.alternate;g!==null&&(g.lanes|=c),Ey(s.return,c,d)}function px(s,c,d,g,v,S){var O=s.memoizedState;O===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:v,treeForkCount:S}:(O.isBackwards=c,O.rendering=null,O.renderingStartTime=0,O.last=g,O.tail=d,O.tailMode=v,O.treeForkCount=S)}function Lk(s,c,d){var g=c.pendingProps,v=g.revealOrder,S=g.tail;g=g.children;var O=Et.current,P=(O&2)!==0;if(P?(O=O&1|2,c.flags|=128):O&=1,oe(Et,O),dr(s,c,g,d),g=$e?uu:0,!P&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Rk(s,d,c);else if(s.tag===19)Rk(s,d,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(v){case"forwards":for(d=c.child,v=null;d!==null;)s=d.alternate,s!==null&&uh(s)===null&&(v=d),d=d.sibling;d=v,d===null?(v=c.child,c.child=null):(v=d.sibling,d.sibling=null),px(c,!1,v,d,S,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,v=c.child,c.child=null;v!==null;){if(s=v.alternate,s!==null&&uh(s)===null){c.child=v;break}s=v.sibling,v.sibling=d,d=v,v=s}px(c,!0,d,null,S,g);break;case"together":px(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function ia(s,c,d){if(s!==null&&(c.dependencies=s.dependencies),rs|=c.lanes,(d&c.childLanes)===0)if(s!==null){if(vo(s,c,d,!1),(d&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(n(153));if(c.child!==null){for(s=c.child,d=Zi(s,s.pendingProps),c.child=d,d.return=c;s.sibling!==null;)s=s.sibling,d=d.sibling=Zi(s,s.pendingProps),d.return=c;d.sibling=null}return c.child}function gx(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&rh(s)))}function F7(s,c,d){switch(c.tag){case 3:De(c,c.stateNode.containerInfo),Ga(c,Rt,s.memoizedState.cache),Js();break;case 27:case 5:je(c);break;case 4:De(c,c.stateNode.containerInfo);break;case 10:Ga(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,qy(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(Za(c),c.flags|=128,null):(d&c.child.childLanes)!==0?Pk(s,c,d):(Za(c),s=ia(s,c,d),s!==null?s.sibling:null);Za(c);break;case 19:var v=(s.flags&128)!==0;if(g=(d&c.childLanes)!==0,g||(vo(s,c,d,!1),g=(d&c.childLanes)!==0),v){if(g)return Lk(s,c,d);c.flags|=128}if(v=c.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),oe(Et,Et.current),g)break;return null;case 22:return c.lanes=0,Ak(s,c,d,c.pendingProps);case 24:Ga(c,Rt,s.memoizedState.cache)}return ia(s,c,d)}function Bk(s,c,d){if(s!==null)if(s.memoizedProps!==c.pendingProps)Bt=!0;else{if(!gx(s,d)&&(c.flags&128)===0)return Bt=!1,F7(s,c,d);Bt=(s.flags&131072)!==0}else Bt=!1,$e&&(c.flags&1048576)!==0&&pC(c,uu,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(s=nl(c.elementType),c.type=s,typeof s=="function")wy(s)?(g=ll(s,g),c.tag=1,c=Dk(null,c,s,g,d)):(c.tag=0,c=cx(null,c,s,g,d));else{if(s!=null){var v=s.$$typeof;if(v===T){c.tag=11,c=Ck(null,c,s,g,d);break e}else if(v===E){c.tag=14,c=kk(null,c,s,g,d);break e}}throw c=W(s)||s,Error(n(306,c,""))}}return c;case 0:return cx(s,c,c.type,c.pendingProps,d);case 1:return g=c.type,v=ll(g,c.pendingProps),Dk(s,c,g,v,d);case 3:e:{if(De(c,c.stateNode.containerInfo),s===null)throw Error(n(387));g=c.pendingProps;var S=c.memoizedState;v=S.element,Ly(s,c),xu(c,g,null,d);var O=c.memoizedState;if(g=O.cache,Ga(c,Rt,g),g!==S.cache&&Ty(c,[Rt],d,!0),yu(),g=O.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:O.cache},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){c=_k(s,c,g,d);break e}else if(g!==v){v=Mn(Error(n(424)),c),fu(v),c=_k(s,c,g,d);break e}else for(s=c.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,dt=Ln(s.firstChild),ur=c,$e=!0,Wa=null,Pn=!0,d=AC(c,null,g,d),c.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Js(),g===v){c=ia(s,c,d);break e}dr(s,c,g,d)}c=c.child}return c;case 26:return wh(s,c),s===null?(d=GO(c.type,null,c.pendingProps,null))?c.memoizedState=d:$e||(d=c.type,s=c.pendingProps,g=zh(Y.current).createElement(d),g[cr]=c,g[Ir]=s,hr(g,d,s),Qt(g),c.stateNode=g):c.memoizedState=GO(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return je(c),s===null&&$e&&(g=c.stateNode=FO(c.type,c.pendingProps,Y.current),ur=c,Pn=!0,v=dt,ls(c.type)?(Yx=v,dt=Ln(g.firstChild)):dt=v),dr(s,c,c.pendingProps.children,d),wh(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&$e&&((v=g=dt)&&(g=w9(g,c.type,c.pendingProps,Pn),g!==null?(c.stateNode=g,ur=c,dt=Ln(g.firstChild),Pn=!1,v=!0):v=!1),v||Ka(c)),je(c),v=c.type,S=c.pendingProps,O=s!==null?s.memoizedProps:null,g=S.children,Vx(v,S)?g=null:O!==null&&Vx(v,O)&&(c.flags|=32),c.memoizedState!==null&&(v=$y(s,c,L7,null,null,d),zu._currentValue=v),wh(s,c),dr(s,c,g,d),c.child;case 6:return s===null&&$e&&((s=d=dt)&&(d=S9(d,c.pendingProps,Pn),d!==null?(c.stateNode=d,ur=c,dt=null,s=!0):s=!1),s||Ka(c)),null;case 13:return Pk(s,c,d);case 4:return De(c,c.stateNode.containerInfo),g=c.pendingProps,s===null?c.child=al(c,null,g,d):dr(s,c,g,d),c.child;case 11:return Ck(s,c,c.type,c.pendingProps,d);case 7:return dr(s,c,c.pendingProps,d),c.child;case 8:return dr(s,c,c.pendingProps.children,d),c.child;case 12:return dr(s,c,c.pendingProps.children,d),c.child;case 10:return g=c.pendingProps,Ga(c,c.type,g.value),dr(s,c,g.children,d),c.child;case 9:return v=c.type._context,g=c.pendingProps.children,tl(c),v=fr(v),g=g(v),c.flags|=1,dr(s,c,g,d),c.child;case 14:return kk(s,c,c.type,c.pendingProps,d);case 15:return Ok(s,c,c.type,c.pendingProps,d);case 19:return Lk(s,c,d);case 31:return V7(s,c,d);case 22:return Ak(s,c,d,c.pendingProps);case 24:return tl(c),g=fr(Rt),s===null?(v=_y(),v===null&&(v=st,S=My(),v.pooledCache=S,S.refCount++,S!==null&&(v.pooledCacheLanes|=d),v=S),c.memoizedState={parent:g,cache:v},Ry(c),Ga(c,Rt,v)):((s.lanes&d)!==0&&(Ly(s,c),xu(c,null,null,d),yu()),v=s.memoizedState,S=c.memoizedState,v.parent!==g?(v={parent:g,cache:g},c.memoizedState=v,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=v),Ga(c,Rt,g)):(g=S.cache,Ga(c,Rt,g),g!==v.cache&&Ty(c,[Rt],d,!0))),dr(s,c,c.pendingProps.children,d),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function aa(s){s.flags|=4}function yx(s,c,d,g,v){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(v&335544128)===v)if(s.stateNode.complete)s.flags|=8192;else if(uO())s.flags|=8192;else throw il=sh,Py}else s.flags&=-16777217}function zk(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!JO(c))if(uO())s.flags|=8192;else throw il=sh,Py}function jh(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?yN():536870912,s.lanes|=c,Mo|=c)}function Nu(s,c){if(!$e)switch(s.tailMode){case"hidden":c=s.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function ht(s){var c=s.alternate!==null&&s.alternate.child===s.child,d=0,g=0;if(c)for(var v=s.child;v!==null;)d|=v.lanes|v.childLanes,g|=v.subtreeFlags&65011712,g|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)d|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=g,s.childLanes=d,c}function W7(s,c,d){var g=c.pendingProps;switch(Cy(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(c),null;case 1:return ht(c),null;case 3:return d=c.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),ta(Rt),ne(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(xo(c)?aa(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Oy())),ht(c),null;case 26:var v=c.type,S=c.memoizedState;return s===null?(aa(c),S!==null?(ht(c),zk(c,S)):(ht(c),yx(c,v,null,g,d))):S?S!==s.memoizedState?(aa(c),ht(c),zk(c,S)):(ht(c),c.flags&=-16777217):(s=s.memoizedProps,s!==g&&aa(c),ht(c),yx(c,v,s,g,d)),null;case 27:if(Te(c),d=Y.current,v=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==g&&aa(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return ht(c),null}s=J.current,xo(c)?yC(c):(s=FO(v,g,d),c.stateNode=s,aa(c))}return ht(c),null;case 5:if(Te(c),v=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==g&&aa(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return ht(c),null}if(S=J.current,xo(c))yC(c);else{var O=zh(Y.current);switch(S){case 1:S=O.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:S=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":S=O.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":S=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":S=O.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof g.is=="string"?O.createElement("select",{is:g.is}):O.createElement("select"),g.multiple?S.multiple=!0:g.size&&(S.size=g.size);break;default:S=typeof g.is=="string"?O.createElement(v,{is:g.is}):O.createElement(v)}}S[cr]=c,S[Ir]=g;e:for(O=c.child;O!==null;){if(O.tag===5||O.tag===6)S.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===c)break e;for(;O.sibling===null;){if(O.return===null||O.return===c)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}c.stateNode=S;e:switch(hr(S,v,g),v){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&aa(c)}}return ht(c),yx(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,d),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==g&&aa(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(n(166));if(s=Y.current,xo(c)){if(s=c.stateNode,d=c.memoizedProps,g=null,v=ur,v!==null)switch(v.tag){case 27:case 5:g=v.memoizedProps}s[cr]=c,s=!!(s.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||PO(s.nodeValue,d)),s||Ka(c,!0)}else s=zh(s).createTextNode(g),s[cr]=c,c.stateNode=s}return ht(c),null;case 31:if(d=c.memoizedState,s===null||s.memoizedState!==null){if(g=xo(c),d!==null){if(s===null){if(!g)throw Error(n(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[cr]=c}else Js(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ht(c),s=!1}else d=Oy(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return c.flags&256?(dn(c),c):(dn(c),null);if((c.flags&128)!==0)throw Error(n(558))}return ht(c),null;case 13:if(g=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=xo(c),g!==null&&g.dehydrated!==null){if(s===null){if(!v)throw Error(n(318));if(v=c.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[cr]=c}else Js(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ht(c),v=!1}else v=Oy(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return c.flags&256?(dn(c),c):(dn(c),null)}return dn(c),(c.flags&128)!==0?(c.lanes=d,c):(d=g!==null,s=s!==null&&s.memoizedState!==null,d&&(g=c.child,v=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(v=g.alternate.memoizedState.cachePool.pool),S=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(S=g.memoizedState.cachePool.pool),S!==v&&(g.flags|=2048)),d!==s&&d&&(c.child.flags|=8192),jh(c,c.updateQueue),ht(c),null);case 4:return ne(),s===null&&Ix(c.stateNode.containerInfo),ht(c),null;case 10:return ta(c.type),ht(c),null;case 19:if(K(Et),g=c.memoizedState,g===null)return ht(c),null;if(v=(c.flags&128)!==0,S=g.rendering,S===null)if(v)Nu(g,!1);else{if(Ct!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(S=uh(s),S!==null){for(c.flags|=128,Nu(g,!1),s=S.updateQueue,c.updateQueue=s,jh(c,s),c.subtreeFlags=0,s=d,d=c.child;d!==null;)dC(d,s),d=d.sibling;return oe(Et,Et.current&1|2),$e&&Ji(c,g.treeForkCount),c.child}s=s.sibling}g.tail!==null&&sn()>Ah&&(c.flags|=128,v=!0,Nu(g,!1),c.lanes=4194304)}else{if(!v)if(s=uh(S),s!==null){if(c.flags|=128,v=!0,s=s.updateQueue,c.updateQueue=s,jh(c,s),Nu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!S.alternate&&!$e)return ht(c),null}else 2*sn()-g.renderingStartTime>Ah&&d!==536870912&&(c.flags|=128,v=!0,Nu(g,!1),c.lanes=4194304);g.isBackwards?(S.sibling=c.child,c.child=S):(s=g.last,s!==null?s.sibling=S:c.child=S,g.last=S)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=sn(),s.sibling=null,d=Et.current,oe(Et,v?d&1|2:d&1),$e&&Ji(c,g.treeForkCount),s):(ht(c),null);case 22:case 23:return dn(c),Uy(),g=c.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(d&536870912)!==0&&(c.flags&128)===0&&(ht(c),c.subtreeFlags&6&&(c.flags|=8192)):ht(c),d=c.updateQueue,d!==null&&jh(c,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048),s!==null&&K(rl),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),c.memoizedState.cache!==d&&(c.flags|=2048),ta(Rt),ht(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function K7(s,c){switch(Cy(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return ta(Rt),ne(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return Te(c),null;case 31:if(c.memoizedState!==null){if(dn(c),c.alternate===null)throw Error(n(340));Js()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(dn(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Js()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return K(Et),null;case 4:return ne(),null;case 10:return ta(c.type),null;case 22:case 23:return dn(c),Uy(),s!==null&&K(rl),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return ta(Rt),null;case 25:return null;default:return null}}function Ik(s,c){switch(Cy(c),c.tag){case 3:ta(Rt),ne();break;case 26:case 27:case 5:Te(c);break;case 4:ne();break;case 31:c.memoizedState!==null&&dn(c);break;case 13:dn(c);break;case 19:K(Et);break;case 10:ta(c.type);break;case 22:case 23:dn(c),Uy(),s!==null&&K(rl);break;case 24:ta(Rt)}}function Cu(s,c){try{var d=c.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var v=g.next;d=v;do{if((d.tag&s)===s){g=void 0;var S=d.create,O=d.inst;g=S(),O.destroy=g}d=d.next}while(d!==v)}}catch(P){Je(c,c.return,P)}}function es(s,c,d){try{var g=c.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var S=v.next;g=S;do{if((g.tag&s)===s){var O=g.inst,P=O.destroy;if(P!==void 0){O.destroy=void 0,v=c;var q=d,Z=P;try{Z()}catch(ae){Je(v,q,ae)}}}g=g.next}while(g!==S)}}catch(ae){Je(c,c.return,ae)}}function Uk(s){var c=s.updateQueue;if(c!==null){var d=s.stateNode;try{TC(c,d)}catch(g){Je(s,s.return,g)}}}function qk(s,c,d){d.props=ll(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(g){Je(s,c,g)}}function ku(s,c){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof d=="function"?s.refCleanup=d(g):d.current=g}}catch(v){Je(s,c,v)}}function xi(s,c){var d=s.ref,g=s.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(v){Je(s,c,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(v){Je(s,c,v)}else d.current=null}function Hk(s){var c=s.type,d=s.memoizedProps,g=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(v){Je(s,s.return,v)}}function xx(s,c,d){try{var g=s.stateNode;p9(g,s.type,d,c),g[Ir]=c}catch(v){Je(s,s.return,v)}}function $k(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ls(s.type)||s.tag===4}function vx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||$k(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ls(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function bx(s,c,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,c):(c=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,c.appendChild(s),d=d._reactRootContainer,d!=null||c.onclick!==null||(c.onclick=Qi));else if(g!==4&&(g===27&&ls(s.type)&&(d=s.stateNode,c=null),s=s.child,s!==null))for(bx(s,c,d),s=s.sibling;s!==null;)bx(s,c,d),s=s.sibling}function Nh(s,c,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?d.insertBefore(s,c):d.appendChild(s);else if(g!==4&&(g===27&&ls(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(Nh(s,c,d),s=s.sibling;s!==null;)Nh(s,c,d),s=s.sibling}function Vk(s){var c=s.stateNode,d=s.memoizedProps;try{for(var g=s.type,v=c.attributes;v.length;)c.removeAttributeNode(v[0]);hr(c,g,d),c[cr]=s,c[Ir]=d}catch(S){Je(s,s.return,S)}}var sa=!1,zt=!1,wx=!1,Fk=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function G7(s,c){if(s=s.containerInfo,Hx=Fh,s=nC(s),my(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var v=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var O=0,P=-1,q=-1,Z=0,ae=0,ce=s,ee=null;t:for(;;){for(var re;ce!==d||v!==0&&ce.nodeType!==3||(P=O+v),ce!==S||g!==0&&ce.nodeType!==3||(q=O+g),ce.nodeType===3&&(O+=ce.nodeValue.length),(re=ce.firstChild)!==null;)ee=ce,ce=re;for(;;){if(ce===s)break t;if(ee===d&&++Z===v&&(P=O),ee===S&&++ae===g&&(q=O),(re=ce.nextSibling)!==null)break;ce=ee,ee=ce.parentNode}ce=re}d=P===-1||q===-1?null:{start:P,end:q}}else d=null}d=d||{start:0,end:0}}else d=null;for($x={focusedElem:s,selectionRange:d},Fh=!1,Xt=c;Xt!==null;)if(c=Xt,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,Xt=s;else for(;Xt!==null;){switch(c=Xt,S=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)v=s[d],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&S!==null){s=void 0,d=c,v=S.memoizedProps,S=S.memoizedState,g=d.stateNode;try{var be=ll(d.type,v);s=g.getSnapshotBeforeUpdate(be,S),g.__reactInternalSnapshotBeforeUpdate=s}catch(Me){Je(d,d.return,Me)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,d=s.nodeType,d===9)Wx(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Wx(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=c.sibling,s!==null){s.return=c.return,Xt=s;break}Xt=c.return}}function Wk(s,c,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:oa(s,d),g&4&&Cu(5,d);break;case 1:if(oa(s,d),g&4)if(s=d.stateNode,c===null)try{s.componentDidMount()}catch(O){Je(d,d.return,O)}else{var v=ll(d.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(v,c,s.__reactInternalSnapshotBeforeUpdate)}catch(O){Je(d,d.return,O)}}g&64&&Uk(d),g&512&&ku(d,d.return);break;case 3:if(oa(s,d),g&64&&(s=d.updateQueue,s!==null)){if(c=null,d.child!==null)switch(d.child.tag){case 27:case 5:c=d.child.stateNode;break;case 1:c=d.child.stateNode}try{TC(s,c)}catch(O){Je(d,d.return,O)}}break;case 27:c===null&&g&4&&Vk(d);case 26:case 5:oa(s,d),c===null&&g&4&&Hk(d),g&512&&ku(d,d.return);break;case 12:oa(s,d);break;case 31:oa(s,d),g&4&&Yk(s,d);break;case 13:oa(s,d),g&4&&Qk(s,d),g&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=n9.bind(null,d),j9(s,d))));break;case 22:if(g=d.memoizedState!==null||sa,!g){c=c!==null&&c.memoizedState!==null||zt,v=sa;var S=zt;sa=g,(zt=c)&&!S?ca(s,d,(d.subtreeFlags&8772)!==0):oa(s,d),sa=v,zt=S}break;case 30:break;default:oa(s,d)}}function Kk(s){var c=s.alternate;c!==null&&(s.alternate=null,Kk(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&X0(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var pt=null,qr=!1;function la(s,c,d){for(d=d.child;d!==null;)Gk(s,c,d),d=d.sibling}function Gk(s,c,d){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Qc,d)}catch{}switch(d.tag){case 26:zt||xi(d,c),la(s,c,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:zt||xi(d,c);var g=pt,v=qr;ls(d.type)&&(pt=d.stateNode,qr=!1),la(s,c,d),Ru(d.stateNode),pt=g,qr=v;break;case 5:zt||xi(d,c);case 6:if(g=pt,v=qr,pt=null,la(s,c,d),pt=g,qr=v,pt!==null)if(qr)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(d.stateNode)}catch(S){Je(d,c,S)}else try{pt.removeChild(d.stateNode)}catch(S){Je(d,c,S)}break;case 18:pt!==null&&(qr?(s=pt,UO(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),Io(s)):UO(pt,d.stateNode));break;case 4:g=pt,v=qr,pt=d.stateNode.containerInfo,qr=!0,la(s,c,d),pt=g,qr=v;break;case 0:case 11:case 14:case 15:es(2,d,c),zt||es(4,d,c),la(s,c,d);break;case 1:zt||(xi(d,c),g=d.stateNode,typeof g.componentWillUnmount=="function"&&qk(d,c,g)),la(s,c,d);break;case 21:la(s,c,d);break;case 22:zt=(g=zt)||d.memoizedState!==null,la(s,c,d),zt=g;break;default:la(s,c,d)}}function Yk(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Io(s)}catch(d){Je(c,c.return,d)}}}function Qk(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Io(s)}catch(d){Je(c,c.return,d)}}function Y7(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new Fk),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new Fk),c;default:throw Error(n(435,s.tag))}}function Ch(s,c){var d=Y7(s);c.forEach(function(g){if(!d.has(g)){d.add(g);var v=i9.bind(null,s,g);g.then(v,v)}})}function Hr(s,c){var d=c.deletions;if(d!==null)for(var g=0;g<d.length;g++){var v=d[g],S=s,O=c,P=O;e:for(;P!==null;){switch(P.tag){case 27:if(ls(P.type)){pt=P.stateNode,qr=!1;break e}break;case 5:pt=P.stateNode,qr=!1;break e;case 3:case 4:pt=P.stateNode.containerInfo,qr=!0;break e}P=P.return}if(pt===null)throw Error(n(160));Gk(S,O,v),pt=null,qr=!1,S=v.alternate,S!==null&&(S.return=null),v.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)Xk(c,s),c=c.sibling}var ti=null;function Xk(s,c){var d=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Hr(c,s),$r(s),g&4&&(es(3,s,s.return),Cu(3,s),es(5,s,s.return));break;case 1:Hr(c,s),$r(s),g&512&&(zt||d===null||xi(d,d.return)),g&64&&sa&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var v=ti;if(Hr(c,s),$r(s),g&512&&(zt||d===null||xi(d,d.return)),g&4){var S=d!==null?d.memoizedState:null;if(g=s.memoizedState,d===null)if(g===null)if(s.stateNode===null){e:{g=s.type,d=s.memoizedProps,v=v.ownerDocument||v;t:switch(g){case"title":S=v.getElementsByTagName("title")[0],(!S||S[Jc]||S[cr]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=v.createElement(g),v.head.insertBefore(S,v.querySelector("head > title"))),hr(S,g,d),S[cr]=s,Qt(S),g=S;break e;case"link":var O=XO("link","href",v).get(g+(d.href||""));if(O){for(var P=0;P<O.length;P++)if(S=O[P],S.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&S.getAttribute("rel")===(d.rel==null?null:d.rel)&&S.getAttribute("title")===(d.title==null?null:d.title)&&S.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){O.splice(P,1);break t}}S=v.createElement(g),hr(S,g,d),v.head.appendChild(S);break;case"meta":if(O=XO("meta","content",v).get(g+(d.content||""))){for(P=0;P<O.length;P++)if(S=O[P],S.getAttribute("content")===(d.content==null?null:""+d.content)&&S.getAttribute("name")===(d.name==null?null:d.name)&&S.getAttribute("property")===(d.property==null?null:d.property)&&S.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&S.getAttribute("charset")===(d.charSet==null?null:d.charSet)){O.splice(P,1);break t}}S=v.createElement(g),hr(S,g,d),v.head.appendChild(S);break;default:throw Error(n(468,g))}S[cr]=s,Qt(S),g=S}s.stateNode=g}else ZO(v,s.type,s.stateNode);else s.stateNode=QO(v,g,s.memoizedProps);else S!==g?(S===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):S.count--,g===null?ZO(v,s.type,s.stateNode):QO(v,g,s.memoizedProps)):g===null&&s.stateNode!==null&&xx(s,s.memoizedProps,d.memoizedProps)}break;case 27:Hr(c,s),$r(s),g&512&&(zt||d===null||xi(d,d.return)),d!==null&&g&4&&xx(s,s.memoizedProps,d.memoizedProps);break;case 5:if(Hr(c,s),$r(s),g&512&&(zt||d===null||xi(d,d.return)),s.flags&32){v=s.stateNode;try{lo(v,"")}catch(be){Je(s,s.return,be)}}g&4&&s.stateNode!=null&&(v=s.memoizedProps,xx(s,v,d!==null?d.memoizedProps:v)),g&1024&&(wx=!0);break;case 6:if(Hr(c,s),$r(s),g&4){if(s.stateNode===null)throw Error(n(162));g=s.memoizedProps,d=s.stateNode;try{d.nodeValue=g}catch(be){Je(s,s.return,be)}}break;case 3:if(qh=null,v=ti,ti=Ih(c.containerInfo),Hr(c,s),ti=v,$r(s),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Io(c.containerInfo)}catch(be){Je(s,s.return,be)}wx&&(wx=!1,Zk(s));break;case 4:g=ti,ti=Ih(s.stateNode.containerInfo),Hr(c,s),$r(s),ti=g;break;case 12:Hr(c,s),$r(s);break;case 31:Hr(c,s),$r(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Ch(s,g)));break;case 13:Hr(c,s),$r(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Oh=sn()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Ch(s,g)));break;case 22:v=s.memoizedState!==null;var q=d!==null&&d.memoizedState!==null,Z=sa,ae=zt;if(sa=Z||v,zt=ae||q,Hr(c,s),zt=ae,sa=Z,$r(s),g&8192)e:for(c=s.stateNode,c._visibility=v?c._visibility&-2:c._visibility|1,v&&(d===null||q||sa||zt||ol(s)),d=null,c=s;;){if(c.tag===5||c.tag===26){if(d===null){q=d=c;try{if(S=q.stateNode,v)O=S.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{P=q.stateNode;var ce=q.memoizedProps.style,ee=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;P.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(be){Je(q,q.return,be)}}}else if(c.tag===6){if(d===null){q=c;try{q.stateNode.nodeValue=v?"":q.memoizedProps}catch(be){Je(q,q.return,be)}}}else if(c.tag===18){if(d===null){q=c;try{var re=q.stateNode;v?qO(re,!0):qO(q.stateNode,!1)}catch(be){Je(q,q.return,be)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=s.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Ch(s,d))));break;case 19:Hr(c,s),$r(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Ch(s,g)));break;case 30:break;case 21:break;default:Hr(c,s),$r(s)}}function $r(s){var c=s.flags;if(c&2){try{for(var d,g=s.return;g!==null;){if($k(g)){d=g;break}g=g.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var v=d.stateNode,S=vx(s);Nh(s,S,v);break;case 5:var O=d.stateNode;d.flags&32&&(lo(O,""),d.flags&=-33);var P=vx(s);Nh(s,P,O);break;case 3:case 4:var q=d.stateNode.containerInfo,Z=vx(s);bx(s,Z,q);break;default:throw Error(n(161))}}catch(ae){Je(s,s.return,ae)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function Zk(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;Zk(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function oa(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Wk(s,c.alternate,c),c=c.sibling}function ol(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:es(4,c,c.return),ol(c);break;case 1:xi(c,c.return);var d=c.stateNode;typeof d.componentWillUnmount=="function"&&qk(c,c.return,d),ol(c);break;case 27:Ru(c.stateNode);case 26:case 5:xi(c,c.return),ol(c);break;case 22:c.memoizedState===null&&ol(c);break;case 30:ol(c);break;default:ol(c)}s=s.sibling}}function ca(s,c,d){for(d=d&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,v=s,S=c,O=S.flags;switch(S.tag){case 0:case 11:case 15:ca(v,S,d),Cu(4,S);break;case 1:if(ca(v,S,d),g=S,v=g.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Z){Je(g,g.return,Z)}if(g=S,v=g.updateQueue,v!==null){var P=g.stateNode;try{var q=v.shared.hiddenCallbacks;if(q!==null)for(v.shared.hiddenCallbacks=null,v=0;v<q.length;v++)EC(q[v],P)}catch(Z){Je(g,g.return,Z)}}d&&O&64&&Uk(S),ku(S,S.return);break;case 27:Vk(S);case 26:case 5:ca(v,S,d),d&&g===null&&O&4&&Hk(S),ku(S,S.return);break;case 12:ca(v,S,d);break;case 31:ca(v,S,d),d&&O&4&&Yk(v,S);break;case 13:ca(v,S,d),d&&O&4&&Qk(v,S);break;case 22:S.memoizedState===null&&ca(v,S,d),ku(S,S.return);break;case 30:break;default:ca(v,S,d)}c=c.sibling}}function Sx(s,c){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&du(d))}function jx(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&du(s))}function ri(s,c,d,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Jk(s,c,d,g),c=c.sibling}function Jk(s,c,d,g){var v=c.flags;switch(c.tag){case 0:case 11:case 15:ri(s,c,d,g),v&2048&&Cu(9,c);break;case 1:ri(s,c,d,g);break;case 3:ri(s,c,d,g),v&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&du(s)));break;case 12:if(v&2048){ri(s,c,d,g),s=c.stateNode;try{var S=c.memoizedProps,O=S.id,P=S.onPostCommit;typeof P=="function"&&P(O,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(q){Je(c,c.return,q)}}else ri(s,c,d,g);break;case 31:ri(s,c,d,g);break;case 13:ri(s,c,d,g);break;case 23:break;case 22:S=c.stateNode,O=c.alternate,c.memoizedState!==null?S._visibility&2?ri(s,c,d,g):Ou(s,c):S._visibility&2?ri(s,c,d,g):(S._visibility|=2,Ao(s,c,d,g,(c.subtreeFlags&10256)!==0||!1)),v&2048&&Sx(O,c);break;case 24:ri(s,c,d,g),v&2048&&jx(c.alternate,c);break;default:ri(s,c,d,g)}}function Ao(s,c,d,g,v){for(v=v&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var S=s,O=c,P=d,q=g,Z=O.flags;switch(O.tag){case 0:case 11:case 15:Ao(S,O,P,q,v),Cu(8,O);break;case 23:break;case 22:var ae=O.stateNode;O.memoizedState!==null?ae._visibility&2?Ao(S,O,P,q,v):Ou(S,O):(ae._visibility|=2,Ao(S,O,P,q,v)),v&&Z&2048&&Sx(O.alternate,O);break;case 24:Ao(S,O,P,q,v),v&&Z&2048&&jx(O.alternate,O);break;default:Ao(S,O,P,q,v)}c=c.sibling}}function Ou(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var d=s,g=c,v=g.flags;switch(g.tag){case 22:Ou(d,g),v&2048&&Sx(g.alternate,g);break;case 24:Ou(d,g),v&2048&&jx(g.alternate,g);break;default:Ou(d,g)}c=c.sibling}}var Au=8192;function Eo(s,c,d){if(s.subtreeFlags&Au)for(s=s.child;s!==null;)eO(s,c,d),s=s.sibling}function eO(s,c,d){switch(s.tag){case 26:Eo(s,c,d),s.flags&Au&&s.memoizedState!==null&&R9(d,ti,s.memoizedState,s.memoizedProps);break;case 5:Eo(s,c,d);break;case 3:case 4:var g=ti;ti=Ih(s.stateNode.containerInfo),Eo(s,c,d),ti=g;break;case 22:s.memoizedState===null&&(g=s.alternate,g!==null&&g.memoizedState!==null?(g=Au,Au=16777216,Eo(s,c,d),Au=g):Eo(s,c,d));break;default:Eo(s,c,d)}}function tO(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function Eu(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var g=c[d];Xt=g,nO(g,s)}tO(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)rO(s),s=s.sibling}function rO(s){switch(s.tag){case 0:case 11:case 15:Eu(s),s.flags&2048&&es(9,s,s.return);break;case 3:Eu(s);break;case 12:Eu(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,kh(s)):Eu(s);break;default:Eu(s)}}function kh(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var g=c[d];Xt=g,nO(g,s)}tO(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:es(8,c,c.return),kh(c);break;case 22:d=c.stateNode,d._visibility&2&&(d._visibility&=-3,kh(c));break;default:kh(c)}s=s.sibling}}function nO(s,c){for(;Xt!==null;){var d=Xt;switch(d.tag){case 0:case 11:case 15:es(8,d,c);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:du(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,Xt=g;else e:for(d=s;Xt!==null;){g=Xt;var v=g.sibling,S=g.return;if(Kk(g),g===d){Xt=null;break e}if(v!==null){v.return=S,Xt=v;break e}Xt=S}}}var Q7={getCacheForType:function(s){var c=fr(Rt),d=c.data.get(s);return d===void 0&&(d=s(),c.data.set(s,d)),d},cacheSignal:function(){return fr(Rt).controller.signal}},X7=typeof WeakMap=="function"?WeakMap:Map,Xe=0,st=null,ze=null,qe=0,Ze=0,hn=null,ts=!1,To=!1,Nx=!1,ua=0,Ct=0,rs=0,cl=0,Cx=0,mn=0,Mo=0,Tu=null,Vr=null,kx=!1,Oh=0,iO=0,Ah=1/0,Eh=null,ns=null,Ht=0,is=null,Do=null,fa=0,Ox=0,Ax=null,aO=null,Mu=0,Ex=null;function pn(){return(Xe&2)!==0&&qe!==0?qe&-qe:H.T!==null?Rx():wN()}function sO(){if(mn===0)if((qe&536870912)===0||$e){var s=Bd;Bd<<=1,(Bd&3932160)===0&&(Bd=262144),mn=s}else mn=536870912;return s=fn.current,s!==null&&(s.flags|=32),mn}function Fr(s,c,d){(s===st&&(Ze===2||Ze===9)||s.cancelPendingCommit!==null)&&(_o(s,0),as(s,qe,mn,!1)),Zc(s,d),((Xe&2)===0||s!==st)&&(s===st&&((Xe&2)===0&&(cl|=d),Ct===4&&as(s,qe,mn,!1)),vi(s))}function lO(s,c,d){if((Xe&6)!==0)throw Error(n(327));var g=!d&&(c&127)===0&&(c&s.expiredLanes)===0||Xc(s,c),v=g?e9(s,c):Mx(s,c,!0),S=g;do{if(v===0){To&&!g&&as(s,c,0,!1);break}else{if(d=s.current.alternate,S&&!Z7(d)){v=Mx(s,c,!1),S=!1;continue}if(v===2){if(S=c,s.errorRecoveryDisabledLanes&S)var O=0;else O=s.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){c=O;e:{var P=s;v=Tu;var q=P.current.memoizedState.isDehydrated;if(q&&(_o(P,O).flags|=256),O=Mx(P,O,!1),O!==2){if(Nx&&!q){P.errorRecoveryDisabledLanes|=S,cl|=S,v=4;break e}S=Vr,Vr=v,S!==null&&(Vr===null?Vr=S:Vr.push.apply(Vr,S))}v=O}if(S=!1,v!==2)continue}}if(v===1){_o(s,0),as(s,c,0,!0);break}e:{switch(g=s,S=v,S){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:as(g,c,mn,!ts);break e;case 2:Vr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(v=Oh+300-sn(),10<v)){if(as(g,c,mn,!ts),Id(g,0,!0)!==0)break e;fa=c,g.timeoutHandle=zO(oO.bind(null,g,d,Vr,Eh,kx,c,mn,cl,Mo,ts,S,"Throttled",-0,0),v);break e}oO(g,d,Vr,Eh,kx,c,mn,cl,Mo,ts,S,null,-0,0)}}break}while(!0);vi(s)}function oO(s,c,d,g,v,S,O,P,q,Z,ae,ce,ee,re){if(s.timeoutHandle=-1,ce=c.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qi},eO(c,S,ce);var be=(S&62914560)===S?Oh-sn():(S&4194048)===S?iO-sn():0;if(be=L9(ce,be),be!==null){fa=S,s.cancelPendingCommit=be(gO.bind(null,s,c,S,d,g,v,O,P,q,ae,ce,null,ee,re)),as(s,S,O,!Z);return}}gO(s,c,S,d,g,v,O,P,q)}function Z7(s){for(var c=s;;){var d=c.tag;if((d===0||d===11||d===15)&&c.flags&16384&&(d=c.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var v=d[g],S=v.getSnapshot;v=v.value;try{if(!cn(S(),v))return!1}catch{return!1}}if(d=c.child,c.subtreeFlags&16384&&d!==null)d.return=c,c=d;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function as(s,c,d,g){c&=~Cx,c&=~cl,s.suspendedLanes|=c,s.pingedLanes&=~c,g&&(s.warmLanes|=c),g=s.expirationTimes;for(var v=c;0<v;){var S=31-on(v),O=1<<S;g[S]=-1,v&=~O}d!==0&&xN(s,d,c)}function Th(){return(Xe&6)===0?(Du(0),!1):!0}function Tx(){if(ze!==null){if(Ze===0)var s=ze.return;else s=ze,ea=el=null,Wy(s),jo=null,mu=0,s=ze;for(;s!==null;)Ik(s.alternate,s),s=s.return;ze=null}}function _o(s,c){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,x9(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),fa=0,Tx(),st=s,ze=d=Zi(s.current,null),qe=c,Ze=0,hn=null,ts=!1,To=Xc(s,c),Nx=!1,Mo=mn=Cx=cl=rs=Ct=0,Vr=Tu=null,kx=!1,(c&8)!==0&&(c|=c&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=c;0<g;){var v=31-on(g),S=1<<v;c|=s[v],g&=~S}return ua=c,Xd(),d}function cO(s,c){Re=null,H.H=Su,c===So||c===ah?(c=CC(),Ze=3):c===Py?(c=CC(),Ze=4):Ze=c===ox?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,hn=c,ze===null&&(Ct=1,vh(s,Mn(c,s.current)))}function uO(){var s=fn.current;return s===null?!0:(qe&4194048)===qe?Rn===null:(qe&62914560)===qe||(qe&536870912)!==0?s===Rn:!1}function fO(){var s=H.H;return H.H=Su,s===null?Su:s}function dO(){var s=H.A;return H.A=Q7,s}function Mh(){Ct=4,ts||(qe&4194048)!==qe&&fn.current!==null||(To=!0),(rs&134217727)===0&&(cl&134217727)===0||st===null||as(st,qe,mn,!1)}function Mx(s,c,d){var g=Xe;Xe|=2;var v=fO(),S=dO();(st!==s||qe!==c)&&(Eh=null,_o(s,c)),c=!1;var O=Ct;e:do try{if(Ze!==0&&ze!==null){var P=ze,q=hn;switch(Ze){case 8:Tx(),O=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(c=!0);var Z=Ze;if(Ze=0,hn=null,Po(s,P,q,Z),d&&To){O=0;break e}break;default:Z=Ze,Ze=0,hn=null,Po(s,P,q,Z)}}J7(),O=Ct;break}catch(ae){cO(s,ae)}while(!0);return c&&s.shellSuspendCounter++,ea=el=null,Xe=g,H.H=v,H.A=S,ze===null&&(st=null,qe=0,Xd()),O}function J7(){for(;ze!==null;)hO(ze)}function e9(s,c){var d=Xe;Xe|=2;var g=fO(),v=dO();st!==s||qe!==c?(Eh=null,Ah=sn()+500,_o(s,c)):To=Xc(s,c);e:do try{if(Ze!==0&&ze!==null){c=ze;var S=hn;t:switch(Ze){case 1:Ze=0,hn=null,Po(s,c,S,1);break;case 2:case 9:if(jC(S)){Ze=0,hn=null,mO(c);break}c=function(){Ze!==2&&Ze!==9||st!==s||(Ze=7),vi(s)},S.then(c,c);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:jC(S)?(Ze=0,hn=null,mO(c)):(Ze=0,hn=null,Po(s,c,S,7));break;case 5:var O=null;switch(ze.tag){case 26:O=ze.memoizedState;case 5:case 27:var P=ze;if(O?JO(O):P.stateNode.complete){Ze=0,hn=null;var q=P.sibling;if(q!==null)ze=q;else{var Z=P.return;Z!==null?(ze=Z,Dh(Z)):ze=null}break t}}Ze=0,hn=null,Po(s,c,S,5);break;case 6:Ze=0,hn=null,Po(s,c,S,6);break;case 8:Tx(),Ct=6;break e;default:throw Error(n(462))}}t9();break}catch(ae){cO(s,ae)}while(!0);return ea=el=null,H.H=g,H.A=v,Xe=d,ze!==null?0:(st=null,qe=0,Xd(),Ct)}function t9(){for(;ze!==null&&!NI();)hO(ze)}function hO(s){var c=Bk(s.alternate,s,ua);s.memoizedProps=s.pendingProps,c===null?Dh(s):ze=c}function mO(s){var c=s,d=c.alternate;switch(c.tag){case 15:case 0:c=Mk(d,c,c.pendingProps,c.type,void 0,qe);break;case 11:c=Mk(d,c,c.pendingProps,c.type.render,c.ref,qe);break;case 5:Wy(c);default:Ik(d,c),c=ze=dC(c,ua),c=Bk(d,c,ua)}s.memoizedProps=s.pendingProps,c===null?Dh(s):ze=c}function Po(s,c,d,g){ea=el=null,Wy(c),jo=null,mu=0;var v=c.return;try{if($7(s,v,c,d,qe)){Ct=1,vh(s,Mn(d,s.current)),ze=null;return}}catch(S){if(v!==null)throw ze=v,S;Ct=1,vh(s,Mn(d,s.current)),ze=null;return}c.flags&32768?($e||g===1?s=!0:To||(qe&536870912)!==0?s=!1:(ts=s=!0,(g===2||g===9||g===3||g===6)&&(g=fn.current,g!==null&&g.tag===13&&(g.flags|=16384))),pO(c,s)):Dh(c)}function Dh(s){var c=s;do{if((c.flags&32768)!==0){pO(c,ts);return}s=c.return;var d=W7(c.alternate,c,ua);if(d!==null){ze=d;return}if(c=c.sibling,c!==null){ze=c;return}ze=c=s}while(c!==null);Ct===0&&(Ct=5)}function pO(s,c){do{var d=K7(s.alternate,s);if(d!==null){d.flags&=32767,ze=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!c&&(s=s.sibling,s!==null)){ze=s;return}ze=s=d}while(s!==null);Ct=6,ze=null}function gO(s,c,d,g,v,S,O,P,q){s.cancelPendingCommit=null;do _h();while(Ht!==0);if((Xe&6)!==0)throw Error(n(327));if(c!==null){if(c===s.current)throw Error(n(177));if(S=c.lanes|c.childLanes,S|=vy,PI(s,d,S,O,P,q),s===st&&(ze=st=null,qe=0),Do=c,is=s,fa=d,Ox=S,Ax=v,aO=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,a9(Rd,function(){return wO(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=H.T,H.T=null,v=F.p,F.p=2,O=Xe,Xe|=4;try{G7(s,c,d)}finally{Xe=O,F.p=v,H.T=g}}Ht=1,yO(),xO(),vO()}}function yO(){if(Ht===1){Ht=0;var s=is,c=Do,d=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||d){d=H.T,H.T=null;var g=F.p;F.p=2;var v=Xe;Xe|=4;try{Xk(c,s);var S=$x,O=nC(s.containerInfo),P=S.focusedElem,q=S.selectionRange;if(O!==P&&P&&P.ownerDocument&&rC(P.ownerDocument.documentElement,P)){if(q!==null&&my(P)){var Z=q.start,ae=q.end;if(ae===void 0&&(ae=Z),"selectionStart"in P)P.selectionStart=Z,P.selectionEnd=Math.min(ae,P.value.length);else{var ce=P.ownerDocument||document,ee=ce&&ce.defaultView||window;if(ee.getSelection){var re=ee.getSelection(),be=P.textContent.length,Me=Math.min(q.start,be),nt=q.end===void 0?Me:Math.min(q.end,be);!re.extend&&Me>nt&&(O=nt,nt=Me,Me=O);var G=tC(P,Me),V=tC(P,nt);if(G&&V&&(re.rangeCount!==1||re.anchorNode!==G.node||re.anchorOffset!==G.offset||re.focusNode!==V.node||re.focusOffset!==V.offset)){var X=ce.createRange();X.setStart(G.node,G.offset),re.removeAllRanges(),Me>nt?(re.addRange(X),re.extend(V.node,V.offset)):(X.setEnd(V.node,V.offset),re.addRange(X))}}}}for(ce=[],re=P;re=re.parentNode;)re.nodeType===1&&ce.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ce.length;P++){var le=ce[P];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Fh=!!Hx,$x=Hx=null}finally{Xe=v,F.p=g,H.T=d}}s.current=c,Ht=2}}function xO(){if(Ht===2){Ht=0;var s=is,c=Do,d=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||d){d=H.T,H.T=null;var g=F.p;F.p=2;var v=Xe;Xe|=4;try{Wk(s,c.alternate,c)}finally{Xe=v,F.p=g,H.T=d}}Ht=3}}function vO(){if(Ht===4||Ht===3){Ht=0,CI();var s=is,c=Do,d=fa,g=aO;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Ht=5:(Ht=0,Do=is=null,bO(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(ns=null),Y0(d),c=c.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Qc,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=H.T,v=F.p,F.p=2,H.T=null;try{for(var S=s.onRecoverableError,O=0;O<g.length;O++){var P=g[O];S(P.value,{componentStack:P.stack})}}finally{H.T=c,F.p=v}}(fa&3)!==0&&_h(),vi(s),v=s.pendingLanes,(d&261930)!==0&&(v&42)!==0?s===Ex?Mu++:(Mu=0,Ex=s):Mu=0,Du(0)}}function bO(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,du(c)))}function _h(){return yO(),xO(),vO(),wO()}function wO(){if(Ht!==5)return!1;var s=is,c=Ox;Ox=0;var d=Y0(fa),g=H.T,v=F.p;try{F.p=32>d?32:d,H.T=null,d=Ax,Ax=null;var S=is,O=fa;if(Ht=0,Do=is=null,fa=0,(Xe&6)!==0)throw Error(n(331));var P=Xe;if(Xe|=4,rO(S.current),Jk(S,S.current,O,d),Xe=P,Du(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Qc,S)}catch{}return!0}finally{F.p=v,H.T=g,bO(s,c)}}function SO(s,c,d){c=Mn(d,c),c=lx(s.stateNode,c,2),s=Xa(s,c,2),s!==null&&(Zc(s,2),vi(s))}function Je(s,c,d){if(s.tag===3)SO(s,s,d);else for(;c!==null;){if(c.tag===3){SO(c,s,d);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ns===null||!ns.has(g))){s=Mn(d,s),d=jk(2),g=Xa(c,d,2),g!==null&&(Nk(d,g,c,s),Zc(g,2),vi(g));break}}c=c.return}}function Dx(s,c,d){var g=s.pingCache;if(g===null){g=s.pingCache=new X7;var v=new Set;g.set(c,v)}else v=g.get(c),v===void 0&&(v=new Set,g.set(c,v));v.has(d)||(Nx=!0,v.add(d),s=r9.bind(null,s,c,d),c.then(s,s))}function r9(s,c,d){var g=s.pingCache;g!==null&&g.delete(c),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,st===s&&(qe&d)===d&&(Ct===4||Ct===3&&(qe&62914560)===qe&&300>sn()-Oh?(Xe&2)===0&&_o(s,0):Cx|=d,Mo===qe&&(Mo=0)),vi(s)}function jO(s,c){c===0&&(c=yN()),s=Xs(s,c),s!==null&&(Zc(s,c),vi(s))}function n9(s){var c=s.memoizedState,d=0;c!==null&&(d=c.retryLane),jO(s,d)}function i9(s,c){var d=0;switch(s.tag){case 31:case 13:var g=s.stateNode,v=s.memoizedState;v!==null&&(d=v.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(c),jO(s,d)}function a9(s,c){return F0(s,c)}var Ph=null,Ro=null,_x=!1,Rh=!1,Px=!1,ss=0;function vi(s){s!==Ro&&s.next===null&&(Ro===null?Ph=Ro=s:Ro=Ro.next=s),Rh=!0,_x||(_x=!0,l9())}function Du(s,c){if(!Px&&Rh){Px=!0;do for(var d=!1,g=Ph;g!==null;){if(s!==0){var v=g.pendingLanes;if(v===0)var S=0;else{var O=g.suspendedLanes,P=g.pingedLanes;S=(1<<31-on(42|s)+1)-1,S&=v&~(O&~P),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(d=!0,OO(g,S))}else S=qe,S=Id(g,g===st?S:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(S&3)===0||Xc(g,S)||(d=!0,OO(g,S));g=g.next}while(d);Px=!1}}function s9(){NO()}function NO(){Rh=_x=!1;var s=0;ss!==0&&y9()&&(s=ss);for(var c=sn(),d=null,g=Ph;g!==null;){var v=g.next,S=CO(g,c);S===0?(g.next=null,d===null?Ph=v:d.next=v,v===null&&(Ro=d)):(d=g,(s!==0||(S&3)!==0)&&(Rh=!0)),g=v}Ht!==0&&Ht!==5||Du(s),ss!==0&&(ss=0)}function CO(s,c){for(var d=s.suspendedLanes,g=s.pingedLanes,v=s.expirationTimes,S=s.pendingLanes&-62914561;0<S;){var O=31-on(S),P=1<<O,q=v[O];q===-1?((P&d)===0||(P&g)!==0)&&(v[O]=_I(P,c)):q<=c&&(s.expiredLanes|=P),S&=~P}if(c=st,d=qe,d=Id(s,s===c?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,d===0||s===c&&(Ze===2||Ze===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&W0(g),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||Xc(s,d)){if(c=d&-d,c===s.callbackPriority)return c;switch(g!==null&&W0(g),Y0(d)){case 2:case 8:d=pN;break;case 32:d=Rd;break;case 268435456:d=gN;break;default:d=Rd}return g=kO.bind(null,s),d=F0(d,g),s.callbackPriority=c,s.callbackNode=d,c}return g!==null&&g!==null&&W0(g),s.callbackPriority=2,s.callbackNode=null,2}function kO(s,c){if(Ht!==0&&Ht!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(_h()&&s.callbackNode!==d)return null;var g=qe;return g=Id(s,s===st?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(lO(s,g,c),CO(s,sn()),s.callbackNode!=null&&s.callbackNode===d?kO.bind(null,s):null)}function OO(s,c){if(_h())return null;lO(s,c,!0)}function l9(){v9(function(){(Xe&6)!==0?F0(mN,s9):NO()})}function Rx(){if(ss===0){var s=bo;s===0&&(s=Ld,Ld<<=1,(Ld&261888)===0&&(Ld=256)),ss=s}return ss}function AO(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:$d(""+s)}function EO(s,c){var d=c.ownerDocument.createElement("input");return d.name=c.name,d.value=c.value,s.id&&d.setAttribute("form",s.id),c.parentNode.insertBefore(d,c),s=new FormData(s),d.parentNode.removeChild(d),s}function o9(s,c,d,g,v){if(c==="submit"&&d&&d.stateNode===v){var S=AO((v[Ir]||null).action),O=g.submitter;O&&(c=(c=O[Ir]||null)?AO(c.formAction):O.getAttribute("formAction"),c!==null&&(S=c,O=null));var P=new Kd("action","action",null,g,v);s.push({event:P,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(ss!==0){var q=O?EO(v,O):new FormData(v);tx(d,{pending:!0,data:q,method:v.method,action:S},null,q)}}else typeof S=="function"&&(P.preventDefault(),q=O?EO(v,O):new FormData(v),tx(d,{pending:!0,data:q,method:v.method,action:S},S,q))},currentTarget:v}]})}}for(var Lx=0;Lx<xy.length;Lx++){var Bx=xy[Lx],c9=Bx.toLowerCase(),u9=Bx[0].toUpperCase()+Bx.slice(1);ei(c9,"on"+u9)}ei(sC,"onAnimationEnd"),ei(lC,"onAnimationIteration"),ei(oC,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(k7,"onTransitionRun"),ei(O7,"onTransitionStart"),ei(A7,"onTransitionCancel"),ei(cC,"onTransitionEnd"),ao("onMouseEnter",["mouseout","mouseover"]),ao("onMouseLeave",["mouseout","mouseover"]),ao("onPointerEnter",["pointerout","pointerover"]),ao("onPointerLeave",["pointerout","pointerover"]),Ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ks("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_u));function TO(s,c){c=(c&4)!==0;for(var d=0;d<s.length;d++){var g=s[d],v=g.event;g=g.listeners;e:{var S=void 0;if(c)for(var O=g.length-1;0<=O;O--){var P=g[O],q=P.instance,Z=P.currentTarget;if(P=P.listener,q!==S&&v.isPropagationStopped())break e;S=P,v.currentTarget=Z;try{S(v)}catch(ae){Qd(ae)}v.currentTarget=null,S=q}else for(O=0;O<g.length;O++){if(P=g[O],q=P.instance,Z=P.currentTarget,P=P.listener,q!==S&&v.isPropagationStopped())break e;S=P,v.currentTarget=Z;try{S(v)}catch(ae){Qd(ae)}v.currentTarget=null,S=q}}}}function Ie(s,c){var d=c[Q0];d===void 0&&(d=c[Q0]=new Set);var g=s+"__bubble";d.has(g)||(MO(c,s,2,!1),d.add(g))}function zx(s,c,d){var g=0;c&&(g|=4),MO(d,s,g,c)}var Lh="_reactListening"+Math.random().toString(36).slice(2);function Ix(s){if(!s[Lh]){s[Lh]=!0,NN.forEach(function(d){d!=="selectionchange"&&(f9.has(d)||zx(d,!1,s),zx(d,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[Lh]||(c[Lh]=!0,zx("selectionchange",!1,c))}}function MO(s,c,d,g){switch(sA(c)){case 2:var v=I9;break;case 8:v=U9;break;default:v=ev}d=v.bind(null,c,d,s),v=void 0,!ay||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(v=!0),g?v!==void 0?s.addEventListener(c,d,{capture:!0,passive:v}):s.addEventListener(c,d,!0):v!==void 0?s.addEventListener(c,d,{passive:v}):s.addEventListener(c,d,!1)}function Ux(s,c,d,g,v){var S=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var P=g.stateNode.containerInfo;if(P===v)break;if(O===4)for(O=g.return;O!==null;){var q=O.tag;if((q===3||q===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;P!==null;){if(O=ro(P),O===null)return;if(q=O.tag,q===5||q===6||q===26||q===27){g=S=O;continue e}P=P.parentNode}}g=g.return}LN(function(){var Z=S,ae=ny(d),ce=[];e:{var ee=uC.get(s);if(ee!==void 0){var re=Kd,be=s;switch(s){case"keypress":if(Fd(d)===0)break e;case"keydown":case"keyup":re=i7;break;case"focusin":be="focus",re=cy;break;case"focusout":be="blur",re=cy;break;case"beforeblur":case"afterblur":re=cy;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=IN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=WI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=l7;break;case sC:case lC:case oC:re=YI;break;case cC:re=c7;break;case"scroll":case"scrollend":re=VI;break;case"wheel":re=f7;break;case"copy":case"cut":case"paste":re=XI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=qN;break;case"toggle":case"beforetoggle":re=h7}var Me=(c&4)!==0,nt=!Me&&(s==="scroll"||s==="scrollend"),G=Me?ee!==null?ee+"Capture":null:ee;Me=[];for(var V=Z,X;V!==null;){var le=V;if(X=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||X===null||G===null||(le=tu(V,G),le!=null&&Me.push(Pu(V,le,X))),nt)break;V=V.return}0<Me.length&&(ee=new re(ee,be,null,d,ae),ce.push({event:ee,listeners:Me}))}}if((c&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",re=s==="mouseout"||s==="pointerout",ee&&d!==ry&&(be=d.relatedTarget||d.fromElement)&&(ro(be)||be[to]))break e;if((re||ee)&&(ee=ae.window===ae?ae:(ee=ae.ownerDocument)?ee.defaultView||ee.parentWindow:window,re?(be=d.relatedTarget||d.toElement,re=Z,be=be?ro(be):null,be!==null&&(nt=a(be),Me=be.tag,be!==nt||Me!==5&&Me!==27&&Me!==6)&&(be=null)):(re=null,be=Z),re!==be)){if(Me=IN,le="onMouseLeave",G="onMouseEnter",V="mouse",(s==="pointerout"||s==="pointerover")&&(Me=qN,le="onPointerLeave",G="onPointerEnter",V="pointer"),nt=re==null?ee:eu(re),X=be==null?ee:eu(be),ee=new Me(le,V+"leave",re,d,ae),ee.target=nt,ee.relatedTarget=X,le=null,ro(ae)===Z&&(Me=new Me(G,V+"enter",be,d,ae),Me.target=X,Me.relatedTarget=nt,le=Me),nt=le,re&&be)t:{for(Me=d9,G=re,V=be,X=0,le=G;le;le=Me(le))X++;le=0;for(var ke=V;ke;ke=Me(ke))le++;for(;0<X-le;)G=Me(G),X--;for(;0<le-X;)V=Me(V),le--;for(;X--;){if(G===V||V!==null&&G===V.alternate){Me=G;break t}G=Me(G),V=Me(V)}Me=null}else Me=null;re!==null&&DO(ce,ee,re,Me,!1),be!==null&&nt!==null&&DO(ce,nt,be,Me,!0)}}e:{if(ee=Z?eu(Z):window,re=ee.nodeName&&ee.nodeName.toLowerCase(),re==="select"||re==="input"&&ee.type==="file")var We=YN;else if(KN(ee))if(QN)We=j7;else{We=w7;var Se=b7}else re=ee.nodeName,!re||re.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&ty(Z.elementType)&&(We=YN):We=S7;if(We&&(We=We(s,Z))){GN(ce,We,d,ae);break e}Se&&Se(s,ee,Z),s==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&ey(ee,"number",ee.value)}switch(Se=Z?eu(Z):window,s){case"focusin":(KN(Se)||Se.contentEditable==="true")&&(fo=Se,py=Z,cu=null);break;case"focusout":cu=py=fo=null;break;case"mousedown":gy=!0;break;case"contextmenu":case"mouseup":case"dragend":gy=!1,iC(ce,d,ae);break;case"selectionchange":if(C7)break;case"keydown":case"keyup":iC(ce,d,ae)}var Le;if(fy)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else uo?FN(s,d)&&(He="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(He="onCompositionStart");He&&(HN&&d.locale!=="ko"&&(uo||He!=="onCompositionStart"?He==="onCompositionEnd"&&uo&&(Le=BN()):(Va=ae,sy="value"in Va?Va.value:Va.textContent,uo=!0)),Se=Bh(Z,He),0<Se.length&&(He=new UN(He,s,null,d,ae),ce.push({event:He,listeners:Se}),Le?He.data=Le:(Le=WN(d),Le!==null&&(He.data=Le)))),(Le=p7?g7(s,d):y7(s,d))&&(He=Bh(Z,"onBeforeInput"),0<He.length&&(Se=new UN("onBeforeInput","beforeinput",null,d,ae),ce.push({event:Se,listeners:He}),Se.data=Le)),o9(ce,s,Z,d,ae)}TO(ce,c)})}function Pu(s,c,d){return{instance:s,listener:c,currentTarget:d}}function Bh(s,c){for(var d=c+"Capture",g=[];s!==null;){var v=s,S=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||S===null||(v=tu(s,d),v!=null&&g.unshift(Pu(s,v,S)),v=tu(s,c),v!=null&&g.push(Pu(s,v,S))),s.tag===3)return g;s=s.return}return[]}function d9(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function DO(s,c,d,g,v){for(var S=c._reactName,O=[];d!==null&&d!==g;){var P=d,q=P.alternate,Z=P.stateNode;if(P=P.tag,q!==null&&q===g)break;P!==5&&P!==26&&P!==27||Z===null||(q=Z,v?(Z=tu(d,S),Z!=null&&O.unshift(Pu(d,Z,q))):v||(Z=tu(d,S),Z!=null&&O.push(Pu(d,Z,q)))),d=d.return}O.length!==0&&s.push({event:c,listeners:O})}var h9=/\r\n?/g,m9=/\u0000|\uFFFD/g;function _O(s){return(typeof s=="string"?s:""+s).replace(h9,`
`).replace(m9,"")}function PO(s,c){return c=_O(c),_O(s)===c}function rt(s,c,d,g,v,S){switch(d){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||lo(s,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&lo(s,""+g);break;case"className":qd(s,"class",g);break;case"tabIndex":qd(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":qd(s,d,g);break;case"style":PN(s,g,S);break;case"data":if(c!=="object"){qd(s,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||d!=="href")){s.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=$d(""+g),s.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(d==="formAction"?(c!=="input"&&rt(s,c,"name",v.name,v,null),rt(s,c,"formEncType",v.formEncType,v,null),rt(s,c,"formMethod",v.formMethod,v,null),rt(s,c,"formTarget",v.formTarget,v,null)):(rt(s,c,"encType",v.encType,v,null),rt(s,c,"method",v.method,v,null),rt(s,c,"target",v.target,v,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=$d(""+g),s.setAttribute(d,g);break;case"onClick":g!=null&&(s.onclick=Qi);break;case"onScroll":g!=null&&Ie("scroll",s);break;case"onScrollEnd":g!=null&&Ie("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(v.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}d=$d(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""+g):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":g===!0?s.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,g):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(d,g):s.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(d):s.setAttribute(d,g);break;case"popover":Ie("beforetoggle",s),Ie("toggle",s),Ud(s,"popover",g);break;case"xlinkActuate":Yi(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Yi(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Yi(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Yi(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Yi(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Yi(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Yi(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Yi(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Yi(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Ud(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=HI.get(d)||d,Ud(s,d,g))}}function qx(s,c,d,g,v,S){switch(d){case"style":PN(s,g,S);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(v.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"children":typeof g=="string"?lo(s,g):(typeof g=="number"||typeof g=="bigint")&&lo(s,""+g);break;case"onScroll":g!=null&&Ie("scroll",s);break;case"onScrollEnd":g!=null&&Ie("scrollend",s);break;case"onClick":g!=null&&(s.onclick=Qi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!CN.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(v=d.endsWith("Capture"),c=d.slice(2,v?d.length-7:void 0),S=s[Ir]||null,S=S!=null?S[d]:null,typeof S=="function"&&s.removeEventListener(c,S,v),typeof g=="function")){typeof S!="function"&&S!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(c,g,v);break e}d in s?s[d]=g:g===!0?s.setAttribute(d,""):Ud(s,d,g)}}}function hr(s,c,d){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",s),Ie("load",s);var g=!1,v=!1,S;for(S in d)if(d.hasOwnProperty(S)){var O=d[S];if(O!=null)switch(S){case"src":g=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:rt(s,c,S,O,d,null)}}v&&rt(s,c,"srcSet",d.srcSet,d,null),g&&rt(s,c,"src",d.src,d,null);return;case"input":Ie("invalid",s);var P=S=O=v=null,q=null,Z=null;for(g in d)if(d.hasOwnProperty(g)){var ae=d[g];if(ae!=null)switch(g){case"name":v=ae;break;case"type":O=ae;break;case"checked":q=ae;break;case"defaultChecked":Z=ae;break;case"value":S=ae;break;case"defaultValue":P=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(n(137,c));break;default:rt(s,c,g,ae,d,null)}}TN(s,S,P,q,Z,O,v,!1);return;case"select":Ie("invalid",s),g=O=S=null;for(v in d)if(d.hasOwnProperty(v)&&(P=d[v],P!=null))switch(v){case"value":S=P;break;case"defaultValue":O=P;break;case"multiple":g=P;default:rt(s,c,v,P,d,null)}c=S,d=O,s.multiple=!!g,c!=null?so(s,!!g,c,!1):d!=null&&so(s,!!g,d,!0);return;case"textarea":Ie("invalid",s),S=v=g=null;for(O in d)if(d.hasOwnProperty(O)&&(P=d[O],P!=null))switch(O){case"value":g=P;break;case"defaultValue":v=P;break;case"children":S=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(n(91));break;default:rt(s,c,O,P,d,null)}DN(s,g,v,S);return;case"option":for(q in d)d.hasOwnProperty(q)&&(g=d[q],g!=null)&&(q==="selected"?s.selected=g&&typeof g!="function"&&typeof g!="symbol":rt(s,c,q,g,d,null));return;case"dialog":Ie("beforetoggle",s),Ie("toggle",s),Ie("cancel",s),Ie("close",s);break;case"iframe":case"object":Ie("load",s);break;case"video":case"audio":for(g=0;g<_u.length;g++)Ie(_u[g],s);break;case"image":Ie("error",s),Ie("load",s);break;case"details":Ie("toggle",s);break;case"embed":case"source":case"link":Ie("error",s),Ie("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in d)if(d.hasOwnProperty(Z)&&(g=d[Z],g!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:rt(s,c,Z,g,d,null)}return;default:if(ty(c)){for(ae in d)d.hasOwnProperty(ae)&&(g=d[ae],g!==void 0&&qx(s,c,ae,g,d,void 0));return}}for(P in d)d.hasOwnProperty(P)&&(g=d[P],g!=null&&rt(s,c,P,g,d,null))}function p9(s,c,d,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,S=null,O=null,P=null,q=null,Z=null,ae=null;for(re in d){var ce=d[re];if(d.hasOwnProperty(re)&&ce!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":q=ce;default:g.hasOwnProperty(re)||rt(s,c,re,null,g,ce)}}for(var ee in g){var re=g[ee];if(ce=d[ee],g.hasOwnProperty(ee)&&(re!=null||ce!=null))switch(ee){case"type":S=re;break;case"name":v=re;break;case"checked":Z=re;break;case"defaultChecked":ae=re;break;case"value":O=re;break;case"defaultValue":P=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(n(137,c));break;default:re!==ce&&rt(s,c,ee,re,g,ce)}}J0(s,O,P,q,Z,ae,S,v);return;case"select":re=O=P=ee=null;for(S in d)if(q=d[S],d.hasOwnProperty(S)&&q!=null)switch(S){case"value":break;case"multiple":re=q;default:g.hasOwnProperty(S)||rt(s,c,S,null,g,q)}for(v in g)if(S=g[v],q=d[v],g.hasOwnProperty(v)&&(S!=null||q!=null))switch(v){case"value":ee=S;break;case"defaultValue":P=S;break;case"multiple":O=S;default:S!==q&&rt(s,c,v,S,g,q)}c=P,d=O,g=re,ee!=null?so(s,!!d,ee,!1):!!g!=!!d&&(c!=null?so(s,!!d,c,!0):so(s,!!d,d?[]:"",!1));return;case"textarea":re=ee=null;for(P in d)if(v=d[P],d.hasOwnProperty(P)&&v!=null&&!g.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:rt(s,c,P,null,g,v)}for(O in g)if(v=g[O],S=d[O],g.hasOwnProperty(O)&&(v!=null||S!=null))switch(O){case"value":ee=v;break;case"defaultValue":re=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==S&&rt(s,c,O,v,g,S)}MN(s,ee,re);return;case"option":for(var be in d)ee=d[be],d.hasOwnProperty(be)&&ee!=null&&!g.hasOwnProperty(be)&&(be==="selected"?s.selected=!1:rt(s,c,be,null,g,ee));for(q in g)ee=g[q],re=d[q],g.hasOwnProperty(q)&&ee!==re&&(ee!=null||re!=null)&&(q==="selected"?s.selected=ee&&typeof ee!="function"&&typeof ee!="symbol":rt(s,c,q,ee,g,re));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in d)ee=d[Me],d.hasOwnProperty(Me)&&ee!=null&&!g.hasOwnProperty(Me)&&rt(s,c,Me,null,g,ee);for(Z in g)if(ee=g[Z],re=d[Z],g.hasOwnProperty(Z)&&ee!==re&&(ee!=null||re!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(n(137,c));break;default:rt(s,c,Z,ee,g,re)}return;default:if(ty(c)){for(var nt in d)ee=d[nt],d.hasOwnProperty(nt)&&ee!==void 0&&!g.hasOwnProperty(nt)&&qx(s,c,nt,void 0,g,ee);for(ae in g)ee=g[ae],re=d[ae],!g.hasOwnProperty(ae)||ee===re||ee===void 0&&re===void 0||qx(s,c,ae,ee,g,re);return}}for(var G in d)ee=d[G],d.hasOwnProperty(G)&&ee!=null&&!g.hasOwnProperty(G)&&rt(s,c,G,null,g,ee);for(ce in g)ee=g[ce],re=d[ce],!g.hasOwnProperty(ce)||ee===re||ee==null&&re==null||rt(s,c,ce,ee,g,re)}function RO(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function g9(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var v=d[g],S=v.transferSize,O=v.initiatorType,P=v.duration;if(S&&P&&RO(O)){for(O=0,P=v.responseEnd,g+=1;g<d.length;g++){var q=d[g],Z=q.startTime;if(Z>P)break;var ae=q.transferSize,ce=q.initiatorType;ae&&RO(ce)&&(q=q.responseEnd,O+=ae*(q<P?1:(P-Z)/(q-Z)))}if(--g,c+=8*(S+O)/(v.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Hx=null,$x=null;function zh(s){return s.nodeType===9?s:s.ownerDocument}function LO(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function BO(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function Vx(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Fx=null;function y9(){var s=window.event;return s&&s.type==="popstate"?s===Fx?!1:(Fx=s,!0):(Fx=null,!1)}var zO=typeof setTimeout=="function"?setTimeout:void 0,x9=typeof clearTimeout=="function"?clearTimeout:void 0,IO=typeof Promise=="function"?Promise:void 0,v9=typeof queueMicrotask=="function"?queueMicrotask:typeof IO<"u"?function(s){return IO.resolve(null).then(s).catch(b9)}:zO;function b9(s){setTimeout(function(){throw s})}function ls(s){return s==="head"}function UO(s,c){var d=c,g=0;do{var v=d.nextSibling;if(s.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"||d==="/&"){if(g===0){s.removeChild(v),Io(c);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")Ru(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,Ru(d);for(var S=d.firstChild;S;){var O=S.nextSibling,P=S.nodeName;S[Jc]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&S.rel.toLowerCase()==="stylesheet"||d.removeChild(S),S=O}}else d==="body"&&Ru(s.ownerDocument.body);d=v}while(d);Io(c)}function qO(s,c){var d=s;s=0;do{var g=d.nextSibling;if(d.nodeType===1?c?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(c?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=g}while(d)}function Wx(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var d=c;switch(c=c.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Wx(d),X0(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function w9(s,c,d,g){for(;s.nodeType===1;){var v=d;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[Jc])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(S=s.getAttribute("rel"),S==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(S!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(S=s.getAttribute("src"),(S!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&S&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var S=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===S)return s}else return s;if(s=Ln(s.nextSibling),s===null)break}return null}function S9(s,c,d){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=Ln(s.nextSibling),s===null))return null;return s}function HO(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Ln(s.nextSibling),s===null))return null;return s}function Kx(s){return s.data==="$?"||s.data==="$~"}function Gx(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function j9(s,c){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||d.readyState!=="loading")c();else{var g=function(){c(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function Ln(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var Yx=null;function $O(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(c===0)return Ln(s.nextSibling);c--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||c++}s=s.nextSibling}return null}function VO(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(c===0)return s;c--}else d!=="/$"&&d!=="/&"||c++}s=s.previousSibling}return null}function FO(s,c,d){switch(c=zh(d),s){case"html":if(s=c.documentElement,!s)throw Error(n(452));return s;case"head":if(s=c.head,!s)throw Error(n(453));return s;case"body":if(s=c.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function Ru(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);X0(s)}var Bn=new Map,WO=new Set;function Ih(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var da=F.d;F.d={f:N9,r:C9,D:k9,C:O9,L:A9,m:E9,X:M9,S:T9,M:D9};function N9(){var s=da.f(),c=Th();return s||c}function C9(s){var c=no(s);c!==null&&c.tag===5&&c.type==="form"?ck(c):da.r(s)}var Lo=typeof document>"u"?null:document;function KO(s,c,d){var g=Lo;if(g&&typeof c=="string"&&c){var v=En(c);v='link[rel="'+s+'"][href="'+v+'"]',typeof d=="string"&&(v+='[crossorigin="'+d+'"]'),WO.has(v)||(WO.add(v),s={rel:s,crossOrigin:d,href:c},g.querySelector(v)===null&&(c=g.createElement("link"),hr(c,"link",s),Qt(c),g.head.appendChild(c)))}}function k9(s){da.D(s),KO("dns-prefetch",s,null)}function O9(s,c){da.C(s,c),KO("preconnect",s,c)}function A9(s,c,d){da.L(s,c,d);var g=Lo;if(g&&s&&c){var v='link[rel="preload"][as="'+En(c)+'"]';c==="image"&&d&&d.imageSrcSet?(v+='[imagesrcset="'+En(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(v+='[imagesizes="'+En(d.imageSizes)+'"]')):v+='[href="'+En(s)+'"]';var S=v;switch(c){case"style":S=Bo(s);break;case"script":S=zo(s)}Bn.has(S)||(s=p({rel:"preload",href:c==="image"&&d&&d.imageSrcSet?void 0:s,as:c},d),Bn.set(S,s),g.querySelector(v)!==null||c==="style"&&g.querySelector(Lu(S))||c==="script"&&g.querySelector(Bu(S))||(c=g.createElement("link"),hr(c,"link",s),Qt(c),g.head.appendChild(c)))}}function E9(s,c){da.m(s,c);var d=Lo;if(d&&s){var g=c&&typeof c.as=="string"?c.as:"script",v='link[rel="modulepreload"][as="'+En(g)+'"][href="'+En(s)+'"]',S=v;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=zo(s)}if(!Bn.has(S)&&(s=p({rel:"modulepreload",href:s},c),Bn.set(S,s),d.querySelector(v)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Bu(S)))return}g=d.createElement("link"),hr(g,"link",s),Qt(g),d.head.appendChild(g)}}}function T9(s,c,d){da.S(s,c,d);var g=Lo;if(g&&s){var v=io(g).hoistableStyles,S=Bo(s);c=c||"default";var O=v.get(S);if(!O){var P={loading:0,preload:null};if(O=g.querySelector(Lu(S)))P.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":c},d),(d=Bn.get(S))&&Qx(s,d);var q=O=g.createElement("link");Qt(q),hr(q,"link",s),q._p=new Promise(function(Z,ae){q.onload=Z,q.onerror=ae}),q.addEventListener("load",function(){P.loading|=1}),q.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Uh(O,c,g)}O={type:"stylesheet",instance:O,count:1,state:P},v.set(S,O)}}}function M9(s,c){da.X(s,c);var d=Lo;if(d&&s){var g=io(d).hoistableScripts,v=zo(s),S=g.get(v);S||(S=d.querySelector(Bu(v)),S||(s=p({src:s,async:!0},c),(c=Bn.get(v))&&Xx(s,c),S=d.createElement("script"),Qt(S),hr(S,"link",s),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(v,S))}}function D9(s,c){da.M(s,c);var d=Lo;if(d&&s){var g=io(d).hoistableScripts,v=zo(s),S=g.get(v);S||(S=d.querySelector(Bu(v)),S||(s=p({src:s,async:!0,type:"module"},c),(c=Bn.get(v))&&Xx(s,c),S=d.createElement("script"),Qt(S),hr(S,"link",s),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(v,S))}}function GO(s,c,d,g){var v=(v=Y.current)?Ih(v):null;if(!v)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(c=Bo(d.href),d=io(v).hoistableStyles,g=d.get(c),g||(g={type:"style",instance:null,count:0,state:null},d.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=Bo(d.href);var S=io(v).hoistableStyles,O=S.get(s);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(s,O),(S=v.querySelector(Lu(s)))&&!S._p&&(O.instance=S,O.state.loading=5),Bn.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Bn.set(s,d),S||_9(v,s,d,O.state))),c&&g===null)throw Error(n(528,""));return O}if(c&&g!==null)throw Error(n(529,""));return null;case"script":return c=d.async,d=d.src,typeof d=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=zo(d),d=io(v).hoistableScripts,g=d.get(c),g||(g={type:"script",instance:null,count:0,state:null},d.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Bo(s){return'href="'+En(s)+'"'}function Lu(s){return'link[rel="stylesheet"]['+s+"]"}function YO(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function _9(s,c,d,g){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=s.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),hr(c,"link",d),Qt(c),s.head.appendChild(c))}function zo(s){return'[src="'+En(s)+'"]'}function Bu(s){return"script[async]"+s}function QO(s,c,d){if(c.count++,c.instance===null)switch(c.type){case"style":var g=s.querySelector('style[data-href~="'+En(d.href)+'"]');if(g)return c.instance=g,Qt(g),g;var v=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),Qt(g),hr(g,"style",v),Uh(g,d.precedence,s),c.instance=g;case"stylesheet":v=Bo(d.href);var S=s.querySelector(Lu(v));if(S)return c.state.loading|=4,c.instance=S,Qt(S),S;g=YO(d),(v=Bn.get(v))&&Qx(g,v),S=(s.ownerDocument||s).createElement("link"),Qt(S);var O=S;return O._p=new Promise(function(P,q){O.onload=P,O.onerror=q}),hr(S,"link",g),c.state.loading|=4,Uh(S,d.precedence,s),c.instance=S;case"script":return S=zo(d.src),(v=s.querySelector(Bu(S)))?(c.instance=v,Qt(v),v):(g=d,(v=Bn.get(S))&&(g=p({},d),Xx(g,v)),s=s.ownerDocument||s,v=s.createElement("script"),Qt(v),hr(v,"link",g),s.head.appendChild(v),c.instance=v);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,Uh(g,d.precedence,s));return c.instance}function Uh(s,c,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=g.length?g[g.length-1]:null,S=v,O=0;O<g.length;O++){var P=g[O];if(P.dataset.precedence===c)S=P;else if(S!==v)break}S?S.parentNode.insertBefore(s,S.nextSibling):(c=d.nodeType===9?d.head:d,c.insertBefore(s,c.firstChild))}function Qx(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function Xx(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var qh=null;function XO(s,c,d){if(qh===null){var g=new Map,v=qh=new Map;v.set(d,g)}else v=qh,g=v.get(d),g||(g=new Map,v.set(d,g));if(g.has(s))return g;for(g.set(s,null),d=d.getElementsByTagName(s),v=0;v<d.length;v++){var S=d[v];if(!(S[Jc]||S[cr]||s==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var O=S.getAttribute(c)||"";O=s+O;var P=g.get(O);P?P.push(S):g.set(O,[S])}}return g}function ZO(s,c,d){s=s.ownerDocument||s,s.head.insertBefore(d,c==="title"?s.querySelector("head > title"):null)}function P9(s,c,d){if(d===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;return c.rel==="stylesheet"?(s=c.disabled,typeof c.precedence=="string"&&s==null):!0;case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function JO(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function R9(s,c,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var v=Bo(g.href),S=c.querySelector(Lu(v));if(S){c=S._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=Hh.bind(s),c.then(s,s)),d.state.loading|=4,d.instance=S,Qt(S);return}S=c.ownerDocument||c,g=YO(g),(v=Bn.get(v))&&Qx(g,v),S=S.createElement("link"),Qt(S);var O=S;O._p=new Promise(function(P,q){O.onload=P,O.onerror=q}),hr(S,"link",g),d.instance=S}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=Hh.bind(s),c.addEventListener("load",d),c.addEventListener("error",d))}}var Zx=0;function L9(s,c){return s.stylesheets&&s.count===0&&Vh(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var g=setTimeout(function(){if(s.stylesheets&&Vh(s,s.stylesheets),s.unsuspend){var S=s.unsuspend;s.unsuspend=null,S()}},6e4+c);0<s.imgBytes&&Zx===0&&(Zx=62500*g9());var v=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Vh(s,s.stylesheets),s.unsuspend)){var S=s.unsuspend;s.unsuspend=null,S()}},(s.imgBytes>Zx?50:800)+c);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(g),clearTimeout(v)}}:null}function Hh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var $h=null;function Vh(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,$h=new Map,c.forEach(B9,s),$h=null,Hh.call(s))}function B9(s,c){if(!(c.state.loading&4)){var d=$h.get(s);if(d)var g=d.get(null);else{d=new Map,$h.set(s,d);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<v.length;S++){var O=v[S];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(d.set(O.dataset.precedence,O),g=O)}g&&d.set(null,g)}v=c.instance,O=v.getAttribute("data-precedence"),S=d.get(O)||g,S===g&&d.set(null,v),d.set(O,v),this.count++,g=Hh.bind(this),v.addEventListener("load",g),v.addEventListener("error",g),S?S.parentNode.insertBefore(v,S.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),c.state.loading|=4}}var zu={$$typeof:k,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function z9(s,c,d,g,v,S,O,P,q){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=K0(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=K0(0),this.hiddenUpdates=K0(null),this.identifierPrefix=g,this.onUncaughtError=v,this.onCaughtError=S,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function eA(s,c,d,g,v,S,O,P,q,Z,ae,ce){return s=new z9(s,c,d,O,q,Z,ae,ce,P),c=1,S===!0&&(c|=24),S=un(3,null,null,c),s.current=S,S.stateNode=s,c=My(),c.refCount++,s.pooledCache=c,c.refCount++,S.memoizedState={element:g,isDehydrated:d,cache:c},Ry(S),s}function tA(s){return s?(s=po,s):po}function rA(s,c,d,g,v,S){v=tA(v),g.context===null?g.context=v:g.pendingContext=v,g=Qa(c),g.payload={element:d},S=S===void 0?null:S,S!==null&&(g.callback=S),d=Xa(s,g,c),d!==null&&(Fr(d,s,c),gu(d,s,c))}function nA(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<c?d:c}}function Jx(s,c){nA(s,c),(s=s.alternate)&&nA(s,c)}function iA(s){if(s.tag===13||s.tag===31){var c=Xs(s,67108864);c!==null&&Fr(c,s,67108864),Jx(s,67108864)}}function aA(s){if(s.tag===13||s.tag===31){var c=pn();c=G0(c);var d=Xs(s,c);d!==null&&Fr(d,s,c),Jx(s,c)}}var Fh=!0;function I9(s,c,d,g){var v=H.T;H.T=null;var S=F.p;try{F.p=2,ev(s,c,d,g)}finally{F.p=S,H.T=v}}function U9(s,c,d,g){var v=H.T;H.T=null;var S=F.p;try{F.p=8,ev(s,c,d,g)}finally{F.p=S,H.T=v}}function ev(s,c,d,g){if(Fh){var v=tv(g);if(v===null)Ux(s,c,g,Wh,d),lA(s,g);else if(H9(v,s,c,d,g))g.stopPropagation();else if(lA(s,g),c&4&&-1<q9.indexOf(s)){for(;v!==null;){var S=no(v);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var O=Ws(S.pendingLanes);if(O!==0){var P=S;for(P.pendingLanes|=2,P.entangledLanes|=2;O;){var q=1<<31-on(O);P.entanglements[1]|=q,O&=~q}vi(S),(Xe&6)===0&&(Ah=sn()+500,Du(0))}}break;case 31:case 13:P=Xs(S,2),P!==null&&Fr(P,S,2),Th(),Jx(S,2)}if(S=tv(g),S===null&&Ux(s,c,g,Wh,d),S===v)break;v=S}v!==null&&g.stopPropagation()}else Ux(s,c,g,null,d)}}function tv(s){return s=ny(s),rv(s)}var Wh=null;function rv(s){if(Wh=null,s=ro(s),s!==null){var c=a(s);if(c===null)s=null;else{var d=c.tag;if(d===13){if(s=l(c),s!==null)return s;s=null}else if(d===31){if(s=o(c),s!==null)return s;s=null}else if(d===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return Wh=s,null}function sA(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kI()){case mN:return 2;case pN:return 8;case Rd:case OI:return 32;case gN:return 268435456;default:return 32}default:return 32}}var nv=!1,os=null,cs=null,us=null,Iu=new Map,Uu=new Map,fs=[],q9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lA(s,c){switch(s){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":Iu.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uu.delete(c.pointerId)}}function qu(s,c,d,g,v,S){return s===null||s.nativeEvent!==S?(s={blockedOn:c,domEventName:d,eventSystemFlags:g,nativeEvent:S,targetContainers:[v]},c!==null&&(c=no(c),c!==null&&iA(c)),s):(s.eventSystemFlags|=g,c=s.targetContainers,v!==null&&c.indexOf(v)===-1&&c.push(v),s)}function H9(s,c,d,g,v){switch(c){case"focusin":return os=qu(os,s,c,d,g,v),!0;case"dragenter":return cs=qu(cs,s,c,d,g,v),!0;case"mouseover":return us=qu(us,s,c,d,g,v),!0;case"pointerover":var S=v.pointerId;return Iu.set(S,qu(Iu.get(S)||null,s,c,d,g,v)),!0;case"gotpointercapture":return S=v.pointerId,Uu.set(S,qu(Uu.get(S)||null,s,c,d,g,v)),!0}return!1}function oA(s){var c=ro(s.target);if(c!==null){var d=a(c);if(d!==null){if(c=d.tag,c===13){if(c=l(d),c!==null){s.blockedOn=c,SN(s.priority,function(){aA(d)});return}}else if(c===31){if(c=o(d),c!==null){s.blockedOn=c,SN(s.priority,function(){aA(d)});return}}else if(c===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Kh(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var d=tv(s.nativeEvent);if(d===null){d=s.nativeEvent;var g=new d.constructor(d.type,d);ry=g,d.target.dispatchEvent(g),ry=null}else return c=no(d),c!==null&&iA(c),s.blockedOn=d,!1;c.shift()}return!0}function cA(s,c,d){Kh(s)&&d.delete(c)}function $9(){nv=!1,os!==null&&Kh(os)&&(os=null),cs!==null&&Kh(cs)&&(cs=null),us!==null&&Kh(us)&&(us=null),Iu.forEach(cA),Uu.forEach(cA)}function Gh(s,c){s.blockedOn===c&&(s.blockedOn=null,nv||(nv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$9)))}var Yh=null;function uA(s){Yh!==s&&(Yh=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Yh===s&&(Yh=null);for(var c=0;c<s.length;c+=3){var d=s[c],g=s[c+1],v=s[c+2];if(typeof g!="function"){if(rv(g||d)===null)continue;break}var S=no(d);S!==null&&(s.splice(c,3),c-=3,tx(S,{pending:!0,data:v,method:d.method,action:g},g,v))}}))}function Io(s){function c(q){return Gh(q,s)}os!==null&&Gh(os,s),cs!==null&&Gh(cs,s),us!==null&&Gh(us,s),Iu.forEach(c),Uu.forEach(c);for(var d=0;d<fs.length;d++){var g=fs[d];g.blockedOn===s&&(g.blockedOn=null)}for(;0<fs.length&&(d=fs[0],d.blockedOn===null);)oA(d),d.blockedOn===null&&fs.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var v=d[g],S=d[g+1],O=v[Ir]||null;if(typeof S=="function")O||uA(d);else if(O){var P=null;if(S&&S.hasAttribute("formAction")){if(v=S,O=S[Ir]||null)P=O.formAction;else if(rv(v)!==null)continue}else P=O.action;typeof P=="function"?d[g+1]=P:(d.splice(g,3),g-=3),uA(d)}}}function fA(){function s(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(O){return v=O})},focusReset:"manual",scroll:"manual"})}function c(){v!==null&&(v(),v=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,v=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),v!==null&&(v(),v=null)}}}function iv(s){this._internalRoot=s}Qh.prototype.render=iv.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(n(409));var d=c.current,g=pn();rA(d,g,s,c,null,null)},Qh.prototype.unmount=iv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;rA(s.current,2,null,s,null,null),Th(),c[to]=null}};function Qh(s){this._internalRoot=s}Qh.prototype.unstable_scheduleHydration=function(s){if(s){var c=wN();s={blockedOn:null,target:s,priority:c};for(var d=0;d<fs.length&&c!==0&&c<fs[d].priority;d++);fs.splice(d,0,s),d===0&&oA(s)}};var dA=e.version;if(dA!=="19.2.4")throw Error(n(527,dA,"19.2.4"));F.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=h(c),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var V9={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{Qc=Xh.inject(V9),ln=Xh}catch{}}return $u.createRoot=function(s,c){if(!i(s))throw Error(n(299));var d=!1,g="",v=vk,S=bk,O=wk;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(O=c.onRecoverableError)),c=eA(s,1,!1,null,null,d,g,null,v,S,O,fA),s[to]=c.current,Ix(s),new iv(c)},$u.hydrateRoot=function(s,c,d){if(!i(s))throw Error(n(299));var g=!1,v="",S=vk,O=bk,P=wk,q=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(O=d.onCaughtError),d.onRecoverableError!==void 0&&(P=d.onRecoverableError),d.formState!==void 0&&(q=d.formState)),c=eA(s,1,!0,c,d??null,g,v,q,S,O,P,fA),c.context=tA(null),d=c.current,g=pn(),g=G0(g),v=Qa(g),v.callback=null,Xa(d,v,g),d=g,c.current.lanes=d,Zc(c,d),vi(c),s[to]=c.current,Ix(s),new Qh(c)},$u.version="19.2.4",$u}var SA;function eU(){if(SA)return lv.exports;SA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lv.exports=J9(),lv.exports}var tU=eU();const rU=Vi(tU);var IS=t_();function Nf(){return Nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nf.apply(this,arguments)}var bs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bs||(bs={}));const jA="popstate";function nU(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:l,hash:o}=n.location;return E1("",{pathname:a,search:l,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:np(i)}return aU(e,r,null,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function US(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iU(){return Math.random().toString(36).substr(2,8)}function NA(t,e){return{usr:t.state,key:t.key,idx:e}}function E1(t,e,r,n){return r===void 0&&(r=null),Nf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ec(e):e,{state:r,key:e&&e.key||n||iU()})}function np(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ec(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function aU(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,o=bs.Pop,u=null,h=m();h==null&&(h=0,l.replaceState(Nf({},l.state,{idx:h}),""));function m(){return(l.state||{idx:null}).idx}function p(){o=bs.Pop;let j=m(),C=j==null?null:j-h;h=j,u&&u({action:o,location:N.location,delta:C})}function y(j,C){o=bs.Push;let A=E1(N.location,j,C);h=m()+1;let k=NA(A,h),T=N.createHref(A);try{l.pushState(k,"",T)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(T)}a&&u&&u({action:o,location:N.location,delta:1})}function x(j,C){o=bs.Replace;let A=E1(N.location,j,C);h=m();let k=NA(A,h),T=N.createHref(A);l.replaceState(k,"",T),a&&u&&u({action:o,location:N.location,delta:0})}function b(j){let C=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof j=="string"?j:np(j);return A=A.replace(/ $/,"%20"),bt(C,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,C)}let N={get action(){return o},get location(){return t(i,l)},listen(j){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(jA,p),u=j,()=>{i.removeEventListener(jA,p),u=null}},createHref(j){return e(i,j)},createURL:b,encodeLocation(j){let C=b(j);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:x,go(j){return l.go(j)}};return N}var CA;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(CA||(CA={}));function sU(t,e,r){return r===void 0&&(r="/"),lU(t,e,r)}function lU(t,e,r,n){let i=typeof e=="string"?Ec(e):e,a=fc(i.pathname||"/",r);if(a==null)return null;let l=r_(t);oU(l);let o=null;for(let u=0;o==null&&u<l.length;++u){let h=vU(a);o=yU(l[u],h)}return o}function r_(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,l,o)=>{let u={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};u.relativePath.startsWith("/")&&(bt(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let h=Ns([n,u.relativePath]),m=r.concat(u);a.children&&a.children.length>0&&(bt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),r_(a.children,e,m,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:pU(h,a.index),routesMeta:m})};return t.forEach((a,l)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,l);else for(let u of n_(a.path))i(a,l,u)}),e}function n_(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=n_(n.join("/")),o=[];return o.push(...l.map(u=>u===""?a:[a,u].join("/"))),i&&o.push(...l),o.map(u=>t.startsWith("/")&&u===""?"/":u)}function oU(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:gU(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const cU=/^:[\w-]+$/,uU=3,fU=2,dU=1,hU=10,mU=-2,kA=t=>t==="*";function pU(t,e){let r=t.split("/"),n=r.length;return r.some(kA)&&(n+=mU),e&&(n+=fU),r.filter(i=>!kA(i)).reduce((i,a)=>i+(cU.test(a)?uU:a===""?dU:hU),n)}function gU(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function yU(t,e,r){let{routesMeta:n}=t,i={},a="/",l=[];for(let o=0;o<n.length;++o){let u=n[o],h=o===n.length-1,m=a==="/"?e:e.slice(a.length)||"/",p=T1({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},m),y=u.route;if(!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:Ns([a,p.pathname]),pathnameBase:NU(Ns([a,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(a=Ns([a,p.pathnameBase]))}return l}function T1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=xU(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((h,m,p)=>{let{paramName:y,isOptional:x}=m;if(y==="*"){let N=o[p]||"";l=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const b=o[p];return x&&!b?h[y]=void 0:h[y]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function xU(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),US(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function vU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return US(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function fc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const bU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wU=t=>bU.test(t);function SU(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Ec(t):t,a;if(r)if(wU(r))a=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),US(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+r))}r.startsWith("/")?a=OA(r.substring(1),"/"):a=OA(r,e)}else a=e;return{pathname:a,search:CU(n),hash:kU(i)}}function OA(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function fv(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jU(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function qS(t,e){let r=jU(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function HS(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Ec(t):(i=Nf({},t),bt(!i.pathname||!i.pathname.includes("?"),fv("?","pathname","search",i)),bt(!i.pathname||!i.pathname.includes("#"),fv("#","pathname","hash",i)),bt(!i.search||!i.search.includes("#"),fv("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,o;if(l==null)o=r;else{let p=e.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}o=p>=0?e[p]:"/"}let u=SU(i,o),h=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(h||m)&&(u.pathname+="/"),u}const Ns=t=>t.join("/").replace(/\/\/+/g,"/"),NU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function OU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const i_=["post","put","patch","delete"];new Set(i_);const AU=["get",...i_];new Set(AU);function Cf(){return Cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cf.apply(this,arguments)}const Dg=w.createContext(null),a_=w.createContext(null),_a=w.createContext(null),_g=w.createContext(null),Us=w.createContext({outlet:null,matches:[],isDataRoute:!1}),s_=w.createContext(null);function EU(t,e){let{relative:r}=e===void 0?{}:e;Tc()||bt(!1);let{basename:n,navigator:i}=w.useContext(_a),{hash:a,pathname:l,search:o}=Pg(t,{relative:r}),u=l;return n!=="/"&&(u=l==="/"?n:Ns([n,l])),i.createHref({pathname:u,search:o,hash:a})}function Tc(){return w.useContext(_g)!=null}function Xl(){return Tc()||bt(!1),w.useContext(_g).location}function l_(t){w.useContext(_a).static||w.useLayoutEffect(t)}function Mc(){let{isDataRoute:t}=w.useContext(Us);return t?HU():TU()}function TU(){Tc()||bt(!1);let t=w.useContext(Dg),{basename:e,future:r,navigator:n}=w.useContext(_a),{matches:i}=w.useContext(Us),{pathname:a}=Xl(),l=JSON.stringify(qS(i,r.v7_relativeSplatPath)),o=w.useRef(!1);return l_(()=>{o.current=!0}),w.useCallback(function(h,m){if(m===void 0&&(m={}),!o.current)return;if(typeof h=="number"){n.go(h);return}let p=HS(h,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ns([e,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[e,n,l,a,t])}function Pg(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=w.useContext(_a),{matches:i}=w.useContext(Us),{pathname:a}=Xl(),l=JSON.stringify(qS(i,n.v7_relativeSplatPath));return w.useMemo(()=>HS(t,JSON.parse(l),a,r==="path"),[t,l,a,r])}function MU(t,e){return DU(t,e)}function DU(t,e,r,n){Tc()||bt(!1);let{navigator:i}=w.useContext(_a),{matches:a}=w.useContext(Us),l=a[a.length-1],o=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let h=Xl(),m;if(e){var p;let j=typeof e=="string"?Ec(e):e;u==="/"||(p=j.pathname)!=null&&p.startsWith(u)||bt(!1),m=j}else m=h;let y=m.pathname||"/",x=y;if(u!=="/"){let j=u.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(j.length).join("/")}let b=sU(t,{pathname:x}),N=BU(b&&b.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:Ns([u,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?u:Ns([u,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),a,r,n);return e&&N?w.createElement(_g.Provider,{value:{location:Cf({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:bs.Pop}},N):N}function _U(){let t=qU(),e=OU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),r?w.createElement("pre",{style:i},r):null,null)}const PU=w.createElement(_U,null);class RU extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?w.createElement(Us.Provider,{value:this.props.routeContext},w.createElement(s_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LU(t){let{routeContext:e,match:r,children:n}=t,i=w.useContext(Dg);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Us.Provider,{value:e},n)}function BU(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let m=l.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);m>=0||bt(!1),l=l.slice(0,Math.min(l.length,m+1))}let u=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<l.length;m++){let p=l[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:y,errors:x}=r,b=p.route.loader&&y[p.route.id]===void 0&&(!x||x[p.route.id]===void 0);if(p.route.lazy||b){u=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((m,p,y)=>{let x,b=!1,N=null,j=null;r&&(x=o&&p.route.id?o[p.route.id]:void 0,N=p.route.errorElement||PU,u&&(h<0&&y===0?($U("route-fallback"),b=!0,j=null):h===y&&(b=!0,j=p.route.hydrateFallbackElement||null)));let C=e.concat(l.slice(0,y+1)),A=()=>{let k;return x?k=N:b?k=j:p.route.Component?k=w.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=m,w.createElement(LU,{match:p,routeContext:{outlet:m,matches:C,isDataRoute:r!=null},children:k})};return r&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?w.createElement(RU,{location:r.location,revalidation:r.revalidation,component:N,error:x,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):A()},null)}var o_=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(o_||{}),c_=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(c_||{});function zU(t){let e=w.useContext(Dg);return e||bt(!1),e}function IU(t){let e=w.useContext(a_);return e||bt(!1),e}function UU(t){let e=w.useContext(Us);return e||bt(!1),e}function u_(t){let e=UU(),r=e.matches[e.matches.length-1];return r.route.id||bt(!1),r.route.id}function qU(){var t;let e=w.useContext(s_),r=IU(),n=u_();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function HU(){let{router:t}=zU(o_.UseNavigateStable),e=u_(c_.UseNavigateStable),r=w.useRef(!1);return l_(()=>{r.current=!0}),w.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Cf({fromRouteId:e},a)))},[t,e])}const AA={};function $U(t,e,r){AA[t]||(AA[t]=!0)}function VU(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Fo(t){let{to:e,replace:r,state:n,relative:i}=t;Tc()||bt(!1);let{future:a,static:l}=w.useContext(_a),{matches:o}=w.useContext(Us),{pathname:u}=Xl(),h=Mc(),m=HS(e,qS(o,a.v7_relativeSplatPath),u,i==="path"),p=JSON.stringify(m);return w.useEffect(()=>h(JSON.parse(p),{replace:r,state:n,relative:i}),[h,p,i,r,n]),null}function Oe(t){bt(!1)}function FU(t){let{basename:e="/",children:r=null,location:n,navigationType:i=bs.Pop,navigator:a,static:l=!1,future:o}=t;Tc()&&bt(!1);let u=e.replace(/^\/*/,"/"),h=w.useMemo(()=>({basename:u,navigator:a,static:l,future:Cf({v7_relativeSplatPath:!1},o)}),[u,o,a,l]);typeof n=="string"&&(n=Ec(n));let{pathname:m="/",search:p="",hash:y="",state:x=null,key:b="default"}=n,N=w.useMemo(()=>{let j=fc(m,u);return j==null?null:{location:{pathname:j,search:p,hash:y,state:x,key:b},navigationType:i}},[u,m,p,y,x,b,i]);return N==null?null:w.createElement(_a.Provider,{value:h},w.createElement(_g.Provider,{children:r,value:N}))}function f_(t){let{children:e,location:r}=t;return MU(M1(e),r)}new Promise(()=>{});function M1(t,e){e===void 0&&(e=[]);let r=[];return w.Children.forEach(t,(n,i)=>{if(!w.isValidElement(n))return;let a=[...e,i];if(n.type===w.Fragment){r.push.apply(r,M1(n.props.children,a));return}n.type!==Oe&&bt(!1),!n.props.index||!n.props.children||bt(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=M1(n.props.children,a)),r.push(l)}),r}function ip(){return ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ip.apply(this,arguments)}function d_(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function WU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KU(t,e){return t.button===0&&(!e||e==="_self")&&!WU(t)}const GU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YU=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],QU="6";try{window.__reactRouterVersion=QU}catch{}const XU=w.createContext({isTransitioning:!1}),ZU="startTransition",EA=e_[ZU];function JU(t){let{basename:e,children:r,future:n,window:i}=t,a=w.useRef();a.current==null&&(a.current=nU({window:i,v5Compat:!0}));let l=a.current,[o,u]=w.useState({action:l.action,location:l.location}),{v7_startTransition:h}=n||{},m=w.useCallback(p=>{h&&EA?EA(()=>u(p)):u(p)},[u,h]);return w.useLayoutEffect(()=>l.listen(m),[l,m]),w.useEffect(()=>VU(n),[n]),w.createElement(FU,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:l,future:n})}const eq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rq=w.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:l,state:o,target:u,to:h,preventScrollReset:m,viewTransition:p}=e,y=d_(e,GU),{basename:x}=w.useContext(_a),b,N=!1;if(typeof h=="string"&&tq.test(h)&&(b=h,eq))try{let k=new URL(window.location.href),T=h.startsWith("//")?new URL(k.protocol+h):new URL(h),D=fc(T.pathname,x);T.origin===k.origin&&D!=null?h=D+T.search+T.hash:N=!0}catch{}let j=EU(h,{relative:i}),C=iq(h,{replace:l,state:o,target:u,preventScrollReset:m,relative:i,viewTransition:p});function A(k){n&&n(k),k.defaultPrevented||C(k)}return w.createElement("a",ip({},y,{href:b||j,onClick:N||a?n:A,ref:r,target:u}))}),h_=w.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:l=!1,style:o,to:u,viewTransition:h,children:m}=e,p=d_(e,YU),y=Pg(u,{relative:p.relative}),x=Xl(),b=w.useContext(a_),{navigator:N,basename:j}=w.useContext(_a),C=b!=null&&aq(y)&&h===!0,A=N.encodeLocation?N.encodeLocation(y).pathname:y.pathname,k=x.pathname,T=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(k=k.toLowerCase(),T=T?T.toLowerCase():null,A=A.toLowerCase()),T&&j&&(T=fc(T,j)||T);const D=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let M=k===A||!l&&k.startsWith(A)&&k.charAt(D)==="/",E=T!=null&&(T===A||!l&&T.startsWith(A)&&T.charAt(A.length)==="/"),_={isActive:M,isPending:E,isTransitioning:C},L=M?n:void 0,I;typeof a=="function"?I=a(_):I=[a,M?"active":null,E?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(_):o;return w.createElement(rq,ip({},p,{"aria-current":L,className:I,ref:r,style:z,to:u,viewTransition:h}),typeof m=="function"?m(_):m)});var D1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(D1||(D1={}));var TA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(TA||(TA={}));function nq(t){let e=w.useContext(Dg);return e||bt(!1),e}function iq(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:o}=e===void 0?{}:e,u=Mc(),h=Xl(),m=Pg(t,{relative:l});return w.useCallback(p=>{if(KU(p,r)){p.preventDefault();let y=n!==void 0?n:np(h)===np(m);u(t,{replace:y,state:i,preventScrollReset:a,relative:l,viewTransition:o})}},[h,u,m,n,i,r,t,a,l,o])}function aq(t,e){e===void 0&&(e={});let r=w.useContext(XU);r==null&&bt(!1);let{basename:n}=nq(D1.useViewTransitionState),i=Pg(t,{relative:e.relative});if(!r.isTransitioning)return!1;let a=fc(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=fc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return T1(i.pathname,l)!=null||T1(i.pathname,a)!=null}const m_=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();const sq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const lq=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase());const MA=t=>{const e=lq(t);return e.charAt(0).toUpperCase()+e.slice(1)};var oq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cq=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const uq=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:l,...o},u)=>w.createElement("svg",{ref:u,...oq,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:m_("lucide",i),...!a&&!cq(o)&&{"aria-hidden":"true"},...o},[...l.map(([h,m])=>w.createElement(h,m)),...Array.isArray(a)?a:[a]]));const Ce=(t,e)=>{const r=w.forwardRef(({className:n,...i},a)=>w.createElement(uq,{ref:a,iconNode:e,className:m_(`lucide-${sq(MA(t))}`,`lucide-${t}`,n),...i}));return r.displayName=MA(t),r};const fq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ys=Ce("activity",fq);const dq=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]],p_=Ce("arrow-down-up",dq);const hq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],mq=Ce("arrow-right",hq);const pq=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],g_=Ce("bell-off",pq);const gq=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Rg=Ce("bell",gq);const yq=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],$S=Ce("camera",yq);const xq=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],va=Ce("chart-column",xq);const vq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],y_=Ce("check",vq);const bq=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zi=Ce("chevron-down",bq);const wq=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Sq=Ce("chevron-left",wq);const jq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Es=Ce("chevron-right",jq);const Nq=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],VS=Ce("chevron-up",Nq);const Cq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kf=Ce("circle-check-big",Cq);const kq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Lg=Ce("circle-x",kq);const Oq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Aq=Ce("circle",Oq);const Eq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],Sa=Ce("clock",Eq);const Tq=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],Mq=Ce("code-xml",Tq);const Dq=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],_1=Ce("copy",Dq);const _q=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Pq=Ce("cpu",_q);const Rq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],Bg=Ce("crosshair",Rq);const Lq=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],en=Ce("database",Lq);const Bq=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],dc=Ce("download",Bq);const zq=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],x_=Ce("external-link",zq);const Iq=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Uq=Ce("eye",Iq);const qq=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],Hq=Ce("file-braces",qq);const $q=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],zg=Ce("file-code",$q);const Vq=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Fq=Ce("file-spreadsheet",Vq);const Wq=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],v_=Ce("file-text",Wq);const Kq=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],P1=Ce("flame",Kq);const Gq=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],R1=Ce("flask-conical",Gq);const Yq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Qq=Ce("globe",Yq);const Xq=[["path",{d:"M10 16h.01",key:"1bzywj"}],["path",{d:"M2.212 11.577a2 2 0 0 0-.212.896V18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5.527a2 2 0 0 0-.212-.896L18.55 5.11A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"18tbho"}],["path",{d:"M21.946 12.013H2.054",key:"zqlbp7"}],["path",{d:"M6 16h.01",key:"1pmjb7"}]],Al=Ce("hard-drive",Xq);const Zq=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],L1=Ce("hexagon",Zq);const Jq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],eH=Ce("info",Jq);const tH=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],b_=Ce("key",tH);const rH=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],Ig=Ce("layout-list",rH);const nH=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],dv=Ce("link",nH);const iH=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],w_=Ce("menu",iH);const aH=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],S_=Ce("pen-line",aH);const sH=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],FS=Ce("pencil",sH);const lH=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Pl=Ce("play",lH);const oH=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ii=Ce("plus",oH);const cH=[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]],j_=Ce("radar",cH);const uH=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],wt=Ce("refresh-cw",uH);const fH=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Dc=Ce("search",fH);const dH=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],hH=Ce("send",dH);const mH=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],B1=Ce("server",mH);const pH=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ts=Ce("shield",pH);const gH=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],Ug=Ce("table-2",gH);const yH=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],_c=Ce("terminal",yH);const xH=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ui=Ce("trash-2",xH);const vH=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tc=Ce("triangle-alert",vH);const bH=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ap=Ce("upload",bH);const wH=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],DA=Ce("users",wH);const SH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],WS=Ce("x",SH);const jH=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Rl=Ce("zap",jH),jn=window.__TSUI_BASE__||"",NH=window.location.pathname.startsWith(jn+"/playground");class CH{baseUrl;credentials={};_standaloneMode=!1;_remoteConnection=null;constructor(){this.baseUrl=jn}get standaloneMode(){return this._standaloneMode}setStandaloneMode(e){this._standaloneMode=e}setRemoteConnection(e){this._remoteConnection=e}getRemoteConnection(){return this._remoteConnection}setCredentials(e,r){this.credentials={username:e,password:r}}getAuthParams(){if(this._standaloneMode&&this._remoteConnection)return"";const e=new URLSearchParams;return this.credentials.username&&e.set("u",this.credentials.username),this.credentials.password&&e.set("p",this.credentials.password),e.toString()}getProxyHeaders(){const e={};return this._standaloneMode&&this._remoteConnection&&(e["X-Influxdb-Url"]=this._remoteConnection.url,this._remoteConnection.username&&(e["X-Influxdb-Username"]=this._remoteConnection.username),this._remoteConnection.password&&(e["X-Influxdb-Password"]=this._remoteConnection.password)),e}async ping(){try{const e=await fetch(`${this.baseUrl}/ping`,{headers:this.getProxyHeaders()});return{version:e.headers.get("X-Tidedb-Version")||e.headers.get("X-Influxdb-Version")||"unknown",ok:e.status===204}}catch{return{version:"unknown",ok:!1}}}async query(e,r,n){const i=new URLSearchParams;i.set("q",e),r&&i.set("db",r),n&&i.set("epoch",n);const a=this.getAuthParams();a&&new URLSearchParams(a).forEach((u,h)=>i.set(h,u));const l=await fetch(`${this.baseUrl}/query?${i.toString()}`,{method:"POST",headers:{Accept:"application/json",...this.getProxyHeaders()}});if(!l.ok){const o=await l.text();throw new Error(`Query failed (${l.status}): ${o}`)}return l.json()}async write(e,r,n="ns",i){const a=new URLSearchParams;a.set("db",e),a.set("precision",n),i&&a.set("rp",i);const l=this.getAuthParams();l&&new URLSearchParams(l).forEach((h,m)=>a.set(m,h));const o=await fetch(`${this.baseUrl}/write?${a.toString()}`,{method:"POST",body:r,headers:this.getProxyHeaders()});if(!o.ok&&o.status!==204){const u=await o.text();throw new Error(`Write failed (${o.status}): ${u}`)}}async getDiagnostics(){return this.query("SHOW DIAGNOSTICS")}async getStats(){return this.query("SHOW STATS")}async getDatabases(){const r=(await this.query("SHOW DATABASES")).results?.[0]?.series?.[0];return r?r.values.map(n=>n[0]):[]}async getRetentionPolicies(e){const n=(await this.query(`SHOW RETENTION POLICIES ON "${e}"`)).results?.[0]?.series?.[0];return n?n.values.map(i=>{const a={};return n.columns.forEach((l,o)=>{a[l]=i[o]}),a}):[]}async getMeasurements(e){const n=(await this.query("SHOW MEASUREMENTS",e)).results?.[0]?.series?.[0];return n?n.values.map(i=>i[0]):[]}async getTagKeys(e,r){const i=(await this.query(`SHOW TAG KEYS FROM "${r}"`,e)).results?.[0]?.series?.[0];return i?i.values.map(a=>a[0]):[]}async getFieldKeys(e,r){const i=(await this.query(`SHOW FIELD KEYS FROM "${r}"`,e)).results?.[0]?.series?.[0];return i?i.values.map(a=>({key:a[0],type:a[1]})):[]}async getSeriesCardinality(e){const n=(await this.query("SHOW SERIES CARDINALITY",e)).results?.[0]?.series?.[0];return n?n.values[0][0]:0}async getRunningQueries(){const r=(await this.query("SHOW QUERIES")).results?.[0]?.series?.[0];return r?r.values.map(n=>{const i={};return r.columns.forEach((a,l)=>{i[a]=n[l]}),i}):[]}async killQuery(e){await this.query(`KILL QUERY ${e}`)}async getDebugVars(){return(await fetch(`${this.baseUrl}/debug/vars`,{headers:this.getProxyHeaders()})).json()}async getContinuousQueries(e){return(await this.query("SHOW CONTINUOUS QUERIES",e)).results?.[0]?.series||[]}async getShardGroups(){const r=(await this.query("SHOW SHARD GROUPS")).results?.[0]?.series?.[0];return r?r.values.map(n=>{const i={};return r.columns.forEach((a,l)=>{i[a]=n[l]}),i}):[]}async getUsers(){const r=(await this.query("SHOW USERS")).results?.[0]?.series?.[0];return!r||!Array.isArray(r.values)?[]:r.values.map(n=>({user:n[0],admin:n[1]}))}async getUserGrants(e){const n=(await this.query(`SHOW GRANTS FOR "${e}"`)).results?.[0]?.series?.[0];return n?n.values.map(i=>{const a={};return n.columns.forEach((l,o)=>{a[l]=i[o]}),a}):[]}async getSubscriptions(){return(await this.query("SHOW SUBSCRIPTIONS")).results?.[0]?.series||[]}async getTagValues(e,r,n){const a=(await this.query(`SHOW TAG VALUES FROM "${r}" WITH KEY = "${n}"`,e)).results?.[0]?.series?.[0];if(!a)return[];const l=a.columns.indexOf("value");return a.values.map(o=>o[l>=0?l:1])}async backup(){const e=await fetch(`${this.baseUrl}/debug/backup`,{method:"GET",headers:this.getProxyHeaders()});if(!e.ok)throw new Error(`Backup failed (${e.status}): ${await e.text()}`);return e.blob()}}const we=new CH,N_="timeseriesui_connections",z1="timeseriesui_active_connection";function kH(){try{const t=localStorage.getItem(N_)||localStorage.getItem("tidedb-connections");return JSON.parse(t||"[]").map(r=>({...r,type:r.type||"influxdb",source:r.source||"browser"}))}catch{return[]}}function Vu(t){localStorage.setItem(N_,JSON.stringify(t))}function OH(){return localStorage.getItem(z1)||localStorage.getItem("tidedb-active-connection")}function Zh(t){t?localStorage.setItem(z1,t):localStorage.removeItem(z1)}function hv(){return Date.now().toString(36)+Math.random().toString(36).slice(2,7)}function AH({onConnectionChange:t,defaultUrl:e}){const[r,n]=w.useState(kH),[i,a]=w.useState(OH),[l,o]=w.useState(!1),[u,h]=w.useState(null),[m,p]=w.useState(""),[y,x]=w.useState(""),[b,N]=w.useState(""),[j,C]=w.useState(""),[A,k]=w.useState("influxdb"),[T,D]=w.useState(""),[M,E]=w.useState(""),[_,L]=w.useState(!1),[I,z]=w.useState(!1),[R,U]=w.useState(""),[W,$]=w.useState("");w.useEffect(()=>{(async()=>{try{const Y=await fetch(jn+"/api/v1/connections");if(Y.ok){const me=await Y.json();Array.isArray(me)&&me.length>0&&n(De=>{const ne=new Set(De.map(fe=>fe.url)),je=me.filter(fe=>!ne.has(fe.url)).map(fe=>({id:hv(),name:fe.name||"CLI Connection",type:fe.type||"influxdb",url:fe.url,username:fe.username||"",password:fe.password||"",source:"cli",alertmanagerUrl:fe.alertmanagerUrl,alertmanagerUsername:fe.alertmanagerUsername,alertmanagerPassword:fe.alertmanagerPassword,proxyUrl:fe.proxyUrl,clusterMode:fe.clusterMode,tenantId:fe.tenantId,vminsertUrl:fe.vminsertUrl}));if(je.length===0)return De;const Te=[...De,...je];return Vu(Te),Te})}}catch{}})()},[]),w.useEffect(()=>{if(e&&r.length===0){const Y={id:hv(),name:"Default",type:"influxdb",url:e,username:"",password:"",source:"browser"},me=[Y];n(me),Vu(me),a(Y.id),Zh(Y.id)}},[]);const H=w.useCallback((Y,me)=>{const De=Y.find(ne=>ne.id===me)||null;De&&De.type==="influxdb"?we.setRemoteConnection({url:De.url,username:De.username,password:De.password}):De||we.setRemoteConnection(null),t(De)},[t]);w.useEffect(()=>{H(r,i)},[]);const F=Y=>{a(Y),Zh(Y),H(r,Y)},Q=()=>{p(""),x(""),N(""),C(""),k("influxdb"),D(""),E(""),L(!1),z(!1),U(""),$(""),h(null)},se=()=>{Q(),h("new")},de=Y=>{p(Y.name),x(Y.url),N(Y.username),C(Y.password),k(Y.type),D(Y.alertmanagerUrl||""),E(Y.proxyUrl||""),z(Y.clusterMode||!1),U(Y.tenantId||""),$(Y.vminsertUrl||""),L(!!(Y.proxyUrl||Y.clusterMode)),h(Y.id)},B=()=>{const Y=m.trim()||"Untitled",me=y.trim();if(!me)return;const ne={name:Y,type:A,url:me,username:b,password:j,alertmanagerUrl:(A==="prometheus"||A==="victoriametrics")&&T.trim()||void 0,proxyUrl:M.trim()||void 0,clusterMode:A==="victoriametrics"?I:void 0,tenantId:A==="victoriametrics"&&I&&R.trim()||void 0,vminsertUrl:A==="victoriametrics"&&I&&W.trim()||void 0};if(u==="new"){const je={id:hv(),source:"browser",...ne},Te=[...r,je];n(Te),Vu(Te),(Te.length===1||!i)&&(a(je.id),Zh(je.id),H(Te,je.id))}else{const je=r.map(Te=>Te.id===u?{...Te,...ne}:Te);n(je),Vu(je),i===u&&H(je,i)}Q()},K=Y=>{if(r.find(ne=>ne.id===Y)?.source==="cli")return;const De=r.filter(ne=>ne.id!==Y);if(n(De),Vu(De),i===Y){const ne=De.length>0?De[0].id:null;a(ne),Zh(ne),H(De,ne)}u===Y&&Q()},oe=r.find(Y=>Y.id===i),J=({type:Y})=>Y==="victoriametrics"?f.jsx(L1,{size:10,className:"text-emerald-400 flex-shrink-0"}):Y==="prometheus"?f.jsx(P1,{size:10,className:"text-orange-400 flex-shrink-0"}):f.jsx(en,{size:10,className:"text-blue-400 flex-shrink-0"}),he=A==="influxdb"?"URL (e.g. http://localhost:8086)":A==="prometheus"?"URL (e.g. http://localhost:9090)":"URL (e.g. http://localhost:8428)";return f.jsxs("div",{children:[f.jsxs("button",{onClick:()=>o(Y=>!Y),className:"flex items-center justify-between w-full px-3 py-2 text-xs font-medium text-gray-400 hover:text-white hover:bg-gray-800 rounded-md transition-colors duration-150",children:[f.jsxs("span",{className:"flex items-center gap-1.5 truncate",children:[f.jsx(B1,{size:12,className:"flex-shrink-0"}),oe?f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(J,{type:oe.type}),oe.name]}):"Connections"]}),l?f.jsx(VS,{size:14}):f.jsx(zi,{size:14})]}),l&&f.jsxs("div",{className:"mt-1 px-1 space-y-1",children:[r.map(Y=>f.jsxs("div",{className:`flex items-center justify-between gap-1 px-2 py-1.5 rounded text-xs transition-colors duration-100 ${Y.id===i?"bg-blue-600/20 border border-blue-600/40":"bg-gray-800 border border-gray-700 hover:border-gray-600"}`,children:[f.jsxs("button",{onClick:()=>F(Y.id),className:"flex-1 text-left truncate text-gray-200",title:`${Y.type}: ${Y.url}`,children:[f.jsxs("span",{className:"font-medium flex items-center gap-1",children:[f.jsx(J,{type:Y.type}),Y.name,Y.source==="cli"&&f.jsx("span",{className:"text-[9px] bg-gray-700 text-gray-400 px-1 rounded",children:"CLI"})]}),f.jsx("span",{className:"block text-gray-500 truncate text-[10px]",children:Y.url})]}),f.jsx("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:Y.source!=="cli"&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>de(Y),className:"p-1 text-gray-500 hover:text-gray-200 transition-colors",title:"Edit",children:f.jsx(FS,{size:10})}),f.jsx("button",{onClick:()=>K(Y.id),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",title:"Remove",children:f.jsx(ui,{size:10})})]})})]},Y.id)),u?f.jsxs("div",{className:"space-y-1.5 pt-1 border-t border-gray-700 mt-1",children:[f.jsxs("div",{className:"flex gap-1",children:[f.jsxs("button",{onClick:()=>k("influxdb"),className:`flex-1 flex items-center justify-center gap-1 py-1.5 rounded text-xs font-medium transition-colors ${A==="influxdb"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white border border-gray-700"}`,children:[f.jsx(en,{size:10}),"InfluxDB"]}),f.jsxs("button",{onClick:()=>k("prometheus"),className:`flex-1 flex items-center justify-center gap-1 py-1.5 rounded text-xs font-medium transition-colors ${A==="prometheus"?"bg-orange-600 text-white":"bg-gray-800 text-gray-400 hover:text-white border border-gray-700"}`,children:[f.jsx(P1,{size:10}),"Prometheus"]}),f.jsxs("button",{onClick:()=>k("victoriametrics"),className:`flex-1 flex items-center justify-center gap-1 py-1.5 rounded text-xs font-medium transition-colors ${A==="victoriametrics"?"bg-emerald-600 text-white":"bg-gray-800 text-gray-400 hover:text-white border border-gray-700"}`,children:[f.jsx(L1,{size:10}),"VM"]})]}),f.jsx("input",{type:"text",placeholder:"Name (e.g. Production)",value:m,onChange:Y=>p(Y.target.value),autoFocus:!0,className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors"}),f.jsx("input",{type:"text",placeholder:he,value:y,onChange:Y=>x(Y.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors"}),f.jsx("input",{type:"text",placeholder:"Username (optional)",value:b,onChange:Y=>N(Y.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors"}),f.jsx("input",{type:"password",placeholder:"Password (optional)",value:j,onChange:Y=>C(Y.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors"}),(A==="prometheus"||A==="victoriametrics")&&f.jsx("input",{type:"text",placeholder:"Alertmanager URL (optional)",value:T,onChange:Y=>D(Y.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-orange-500 transition-colors"}),f.jsxs("button",{onClick:()=>L(Y=>!Y),className:"flex items-center gap-1 text-[10px] text-gray-500 hover:text-gray-300 transition-colors",children:[f.jsx(Es,{size:10,className:`transition-transform ${_?"rotate-90":""}`}),"Advanced Options"]}),_&&f.jsxs("div",{className:"space-y-1.5 pl-2 border-l-2 border-gray-800",children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx(Qq,{size:10,className:"text-gray-500 flex-shrink-0"}),f.jsx("input",{type:"text",placeholder:"HTTP Proxy URL (e.g. http://proxy:8080)",value:M,onChange:Y=>E(Y.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-purple-500 transition-colors"})]}),f.jsx("p",{className:"text-[10px] text-gray-600 pl-4",children:"Route connections through a corporate or SOCKS proxy"}),A==="victoriametrics"&&f.jsxs(f.Fragment,{children:[f.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-400 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:I,onChange:Y=>z(Y.target.checked),className:"rounded bg-gray-800 border-gray-600 text-emerald-500 focus:ring-emerald-500"}),"Cluster Mode"]}),I&&f.jsxs(f.Fragment,{children:[f.jsx("input",{type:"text",placeholder:"Tenant ID (e.g. 0 or 0:0)",value:R,onChange:Y=>U(Y.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-emerald-500 transition-colors"}),f.jsx("input",{type:"text",placeholder:"vminsert URL (e.g. http://vminsert:8480)",value:W,onChange:Y=>$(Y.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-emerald-500 transition-colors"})]})]})]}),f.jsxs("div",{className:"flex gap-1.5",children:[f.jsxs("button",{onClick:B,disabled:!y.trim(),className:"flex-1 flex items-center justify-center gap-1 py-1.5 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium transition-colors duration-150 disabled:opacity-40",children:[f.jsx(y_,{size:12}),u==="new"?"Add":"Save"]}),f.jsx("button",{onClick:Q,className:"flex items-center justify-center gap-1 px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-gray-300 text-xs transition-colors duration-150",children:f.jsx(WS,{size:12})})]})]}):f.jsxs("button",{onClick:se,className:"flex items-center gap-1.5 w-full px-2 py-1.5 text-xs text-blue-400 hover:text-blue-300 hover:bg-gray-800 rounded transition-colors duration-150",children:[f.jsx(Ii,{size:12}),"Add Connection"]})]})]})}const EH=[{to:"/influxdb/query",label:"Query Explorer",icon:_c},{to:"/influxdb/admin",label:"Admin",icon:en},{to:"/influxdb/write",label:"Write Data",icon:S_},{to:"/influxdb/health",label:"System Health",icon:ys}],TH=[{to:"/prometheus/query",label:"Query Explorer",icon:_c,section:"QUERY"},{to:"/prometheus/targets",label:"Targets",icon:Bg,section:"MONITORING"},{to:"/prometheus/alerts",label:"Alert Rules",icon:Rg,section:"ALERTING"},{to:"/prometheus/tsdb",label:"TSDB Status",icon:Al,section:"STATUS"},{to:"/prometheus/metrics",label:"Metrics Explorer",icon:Ig},{to:"/prometheus/config",label:"Config",icon:zg},{to:"/prometheus/service-discovery",label:"Service Discovery",icon:j_}],MH={to:"/prometheus/alertmanager",label:"Alertmanager",icon:g_};function DH(t){const e=[{to:"/victoriametrics/query",label:"Query Explorer",icon:_c,section:"QUERY"},{to:"/victoriametrics/metrics",label:"Metrics Explorer",icon:Ig},{to:"/victoriametrics/targets",label:"Targets",icon:Bg,section:"MONITORING"},{to:"/victoriametrics/service-discovery",label:"Service Discovery",icon:j_},{to:"/victoriametrics/active-queries",label:"Active Queries",icon:Rl},{to:"/victoriametrics/alerts",label:"Alert Rules",icon:Rg,section:"ALERTING"}];return t.alertmanagerUrl&&e.push({to:"/victoriametrics/alertmanager",label:"Alertmanager",icon:g_}),e.push({to:"/victoriametrics/tsdb",label:"TSDB Status",icon:Al,section:"STORAGE"},{to:"/victoriametrics/snapshots",label:"Snapshots",icon:$S},{to:"/victoriametrics/export-import",label:"Export / Import",icon:p_},{to:"/victoriametrics/config",label:"Config",icon:zg,section:"ADMIN"},{to:"/victoriametrics/admin",label:"Admin Operations",icon:Ts}),e}function _H(t){if(!t)return[];if(t.type==="victoriametrics")return DH(t);if(t.type==="prometheus"){const e=[...TH];return t.alertmanagerUrl&&e.splice(3,0,MH),e}return EH}function PH(t){return t==="victoriametrics"?"VictoriaMetrics":t==="prometheus"?"Prometheus":"InfluxDB"}function RH(t){return t==="victoriametrics"?"/victoriametrics/query":t==="prometheus"?"/prometheus/query":"/influxdb/query"}function LH({children:t}){const[e,r]=w.useState(!1),[n,i]=w.useState(null),[a,l]=w.useState(!1),[o,u]=w.useState(null),[h,m]=w.useState(!1),[p,y]=w.useState(void 0),[x,b]=w.useState(!1),N=Mc(),j=Xl();w.useEffect(()=>{(async()=>{try{const M=await fetch(jn+"/api/mode");if(M.ok){const E=await M.json();E.mode==="standalone"&&(m(!0),we.setStandaloneMode(!0),E.defaultUrl&&y(E.defaultUrl))}}catch{}b(!0)})()},[]);const C=w.useCallback(async()=>{if(!o){l(!1),i(null);return}if(o.type==="influxdb")try{const M=await we.ping();i(M.version),l(M.ok)}catch{l(!1)}else if(o.type==="victoriametrics")try{const M=`${jn}/proxy/victoriametrics/?target=${encodeURIComponent(o.url)}&path=/api/v1/status/buildinfo`,E=await fetch(M,{headers:o.username?{"X-Proxy-Username":o.username,"X-Proxy-Password":o.password||""}:{}});if(E.ok){const _=await E.json();i(_.data?.version||"unknown"),l(_.status==="success")}else l(!1)}catch{l(!1)}else try{const M=`${jn}/proxy/prometheus/?target=${encodeURIComponent(o.url)}&path=/api/v1/status/buildinfo`,E=await fetch(M,{headers:o.username?{"X-Proxy-Username":o.username,"X-Proxy-Password":o.password||""}:{}});if(E.ok){const _=await E.json();i(_.data?.version||"unknown"),l(_.status==="success")}else l(!1)}catch{l(!1)}},[o]);w.useEffect(()=>{if(!x)return;C();const M=setInterval(C,1e4);return()=>clearInterval(M)},[x,C]);const A=w.useCallback(M=>{if(u(M),window.dispatchEvent(new CustomEvent("tidedb-connection-change",{detail:M})),M){const E=j.pathname,_=M.type==="influxdb"?"/influxdb":M.type==="victoriametrics"?"/victoriametrics":"/prometheus";(!E.startsWith(_)&&E!=="/"||E==="/"||E==="")&&N(RH(M.type))}},[N,j.pathname]),k=_H(o);let T="";const D=f.jsxs("div",{className:"flex flex-col h-full",children:[f.jsx("div",{className:"px-5 py-5 border-b border-gray-800",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-7 h-7 rounded bg-blue-600 flex items-center justify-center flex-shrink-0",children:f.jsx(ys,{size:15,className:"text-white"})}),f.jsxs("div",{children:[f.jsx("span",{className:"text-white font-semibold text-base leading-tight block",children:"TimeseriesUI"}),n&&n!=="unknown"&&f.jsxs("span",{className:"text-gray-500 text-xs leading-tight block",children:["v",n]})]})]})}),f.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-0.5 overflow-y-auto",children:[o&&f.jsx("div",{className:"px-3 mb-3",children:f.jsx("span",{className:"text-[10px] font-semibold text-gray-500 uppercase tracking-wider",children:PH(o.type)})}),k.map(({to:M,label:E,icon:_,section:L})=>{const I=L&&L!==T;return I&&(T=L),f.jsxs(Mg.Fragment,{children:[I&&f.jsx("div",{className:"px-3 pt-3 pb-1",children:f.jsx("span",{className:"text-[9px] font-semibold text-gray-600 uppercase tracking-widest",children:L})}),f.jsxs(h_,{to:M,onClick:()=>r(!1),className:({isActive:z})=>["flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150",z?"bg-gray-800 text-white border-l-2 border-blue-500 pl-[10px]":"text-gray-400 hover:text-white hover:bg-gray-800 border-l-2 border-transparent pl-[10px]"].join(" "),children:[f.jsx(_,{size:16,className:"flex-shrink-0"}),E]})]},M)}),!o&&f.jsx("div",{className:"px-3 py-8 text-center",children:f.jsx("p",{className:"text-gray-500 text-xs",children:"Add a connection below to get started"})})]}),f.jsxs("div",{className:"border-t border-gray-800 px-3 py-4 space-y-3",children:[h&&f.jsx(AH,{onConnectionChange:A,defaultUrl:p}),f.jsxs("div",{className:"flex items-center gap-2 px-3 py-2",children:[f.jsx(Aq,{size:8,className:a?"fill-green-500 text-green-500":"fill-red-500 text-red-500"}),f.jsx("span",{className:"text-xs text-gray-400",children:a?"Connected":o?"Disconnected":"No connection"})]})]})]});return f.jsxs("div",{className:"flex h-screen bg-gray-950 text-white overflow-hidden",children:[e&&f.jsx("div",{className:"fixed inset-0 z-20 bg-black/60 lg:hidden",onClick:()=>r(!1)}),f.jsx("aside",{className:["fixed inset-y-0 left-0 z-30 w-60 bg-gray-900 flex flex-col transition-transform duration-200 ease-in-out","lg:static lg:translate-x-0 lg:flex-shrink-0",e?"translate-x-0":"-translate-x-full"].join(" "),children:D}),f.jsxs("div",{className:"flex flex-col flex-1 min-w-0 overflow-hidden",children:[f.jsxs("header",{className:"lg:hidden flex items-center gap-3 px-4 py-3 bg-gray-900 border-b border-gray-800 flex-shrink-0",children:[f.jsx("button",{onClick:()=>r(M=>!M),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Toggle sidebar",children:e?f.jsx(WS,{size:20}):f.jsx(w_,{size:20})}),f.jsx("span",{className:"text-white font-semibold text-sm",children:"TimeseriesUI"})]}),f.jsx("main",{className:"flex-1 overflow-auto bg-gray-950",children:t})]})]})}const C_=w.createContext({active:!1,backendType:"influxdb",setBackendType:()=>{}});function BH({children:t}){const[e,r]=w.useState("influxdb"),n=w.useCallback(i=>{r(i)},[]);return f.jsx(C_.Provider,{value:{active:!0,backendType:e,setBackendType:n},children:t})}function KS(){return w.useContext(C_)}const zH=window.location.hostname.endsWith(".github.io");function IH(){const t=window.location.hostname.split(".")[0],e=window.location.pathname.split("/")[1];return`https://github.com/${t}/${e}`}function UH(){return f.jsxs("div",{className:"bg-gradient-to-r from-amber-600/90 to-orange-600/90 text-white px-4 py-2 flex items-center justify-between gap-3 text-sm flex-shrink-0",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(R1,{size:16,className:"flex-shrink-0"}),f.jsx("span",{className:"font-medium",children:"Playground Mode"}),f.jsx("span",{className:"hidden sm:inline text-white/80",children:" Exploring with sample data. To use your own databases, run the binary and add your DB connections."})]}),zH?f.jsxs("a",{href:IH()+"/releases",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs bg-white/20 hover:bg-white/30 px-2.5 py-1 rounded-md transition-colors whitespace-nowrap",children:["Get the Binary",f.jsx(dc,{size:12})]}):f.jsxs("a",{href:jn+"/ui/",className:"flex items-center gap-1 text-xs bg-white/20 hover:bg-white/30 px-2.5 py-1 rounded-md transition-colors whitespace-nowrap",children:["Connect Real DB",f.jsx(x_,{size:12})]})]})}const qH=[{to:"/influxdb/query",label:"Query Explorer",icon:_c},{to:"/influxdb/admin",label:"Admin",icon:en},{to:"/influxdb/write",label:"Write Data",icon:S_},{to:"/influxdb/health",label:"System Health",icon:ys}],HH=[{to:"/prometheus/query",label:"Query Explorer",icon:_c,section:"QUERY"},{to:"/prometheus/targets",label:"Targets",icon:Bg,section:"MONITORING"},{to:"/prometheus/alerts",label:"Alert Rules",icon:Rg,section:"ALERTING"},{to:"/prometheus/tsdb",label:"TSDB Status",icon:Al,section:"STATUS"},{to:"/prometheus/metrics",label:"Metrics Explorer",icon:Ig},{to:"/prometheus/config",label:"Config",icon:zg}],$H=[{to:"/victoriametrics/query",label:"Query Explorer",icon:_c,section:"QUERY"},{to:"/victoriametrics/metrics",label:"Metrics Explorer",icon:Ig},{to:"/victoriametrics/targets",label:"Targets",icon:Bg,section:"MONITORING"},{to:"/victoriametrics/active-queries",label:"Active Queries",icon:Rl},{to:"/victoriametrics/alerts",label:"Alert Rules",icon:Rg,section:"ALERTING"},{to:"/victoriametrics/tsdb",label:"TSDB Status",icon:Al,section:"STORAGE"},{to:"/victoriametrics/snapshots",label:"Snapshots",icon:$S},{to:"/victoriametrics/export-import",label:"Export / Import",icon:p_},{to:"/victoriametrics/config",label:"Config",icon:zg,section:"ADMIN"},{to:"/victoriametrics/admin",label:"Admin Operations",icon:Ts}];function VH(t){return t==="victoriametrics"?$H:t==="prometheus"?HH:qH}function FH(t){return t==="victoriametrics"?"VictoriaMetrics":t==="prometheus"?"Prometheus":"InfluxDB"}function WH(t){return t==="victoriametrics"?"/victoriametrics/query":t==="prometheus"?"/prometheus/query":"/influxdb/query"}const KH=[{type:"influxdb",label:"InfluxDB",icon:en,color:"text-blue-400",activeColor:"bg-blue-600"},{type:"prometheus",label:"Prometheus",icon:P1,color:"text-orange-400",activeColor:"bg-orange-600"},{type:"victoriametrics",label:"VM",icon:L1,color:"text-emerald-400",activeColor:"bg-emerald-600"}];function GH({children:t}){const[e,r]=w.useState(!1),{backendType:n,setBackendType:i}=KS(),a=Mc(),l=VH(n);let o="";const u=m=>{i(m),a(WH(m))},h=f.jsxs("div",{className:"flex flex-col h-full",children:[f.jsx("div",{className:"px-5 py-5 border-b border-gray-800",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-7 h-7 rounded bg-amber-600 flex items-center justify-center flex-shrink-0",children:f.jsx(R1,{size:15,className:"text-white"})}),f.jsxs("div",{children:[f.jsx("span",{className:"text-white font-semibold text-base leading-tight block",children:"Playground"}),f.jsx("span",{className:"text-gray-500 text-xs leading-tight block",children:"Sample Data"})]})]})}),f.jsx("div",{className:"px-3 pt-3 pb-2",children:f.jsx("div",{className:"flex gap-1",children:KH.map(m=>f.jsxs("button",{onClick:()=>u(m.type),className:`flex-1 flex items-center justify-center gap-1 py-1.5 rounded text-xs font-medium transition-colors ${n===m.type?`${m.activeColor} text-white`:"bg-gray-800 text-gray-400 hover:text-white border border-gray-700"}`,children:[f.jsx(m.icon,{size:10}),m.label]},m.type))})}),f.jsxs("nav",{className:"flex-1 px-3 py-2 space-y-0.5 overflow-y-auto",children:[f.jsx("div",{className:"px-3 mb-3",children:f.jsx("span",{className:"text-[10px] font-semibold text-gray-500 uppercase tracking-wider",children:FH(n)})}),l.map(({to:m,label:p,icon:y,section:x})=>{const b=x&&x!==o;return b&&(o=x),f.jsxs(Mg.Fragment,{children:[b&&f.jsx("div",{className:"px-3 pt-3 pb-1",children:f.jsx("span",{className:"text-[9px] font-semibold text-gray-600 uppercase tracking-widest",children:x})}),f.jsxs(h_,{to:m,onClick:()=>r(!1),className:({isActive:N})=>["flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150",N?"bg-gray-800 text-white border-l-2 border-amber-500 pl-[10px]":"text-gray-400 hover:text-white hover:bg-gray-800 border-l-2 border-transparent pl-[10px]"].join(" "),children:[f.jsx(y,{size:16,className:"flex-shrink-0"}),p]})]},m)})]}),f.jsxs("div",{className:"border-t border-gray-800 px-3 py-3 space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5",children:[f.jsx(R1,{size:10,className:"text-amber-500 flex-shrink-0"}),f.jsx("span",{className:"text-xs text-gray-400",children:"Playground Mode"})]}),f.jsx("p",{className:"px-3 text-[10px] text-gray-600 leading-snug",children:"Using generated sample data. Run the binary with your DB connection to use real data."})]})]});return f.jsxs("div",{className:"flex flex-col h-screen bg-gray-950 text-white overflow-hidden",children:[f.jsx(UH,{}),f.jsxs("div",{className:"flex flex-1 min-h-0 overflow-hidden",children:[e&&f.jsx("div",{className:"fixed inset-0 z-20 bg-black/60 lg:hidden",onClick:()=>r(!1)}),f.jsx("aside",{className:["fixed inset-y-0 left-0 z-30 w-60 bg-gray-900 flex flex-col transition-transform duration-200 ease-in-out","lg:static lg:translate-x-0 lg:flex-shrink-0",e?"translate-x-0":"-translate-x-full"].join(" "),children:h}),f.jsxs("div",{className:"flex flex-col flex-1 min-w-0 overflow-hidden",children:[f.jsxs("header",{className:"lg:hidden flex items-center gap-3 px-4 py-3 bg-gray-900 border-b border-gray-800 flex-shrink-0",children:[f.jsx("button",{onClick:()=>r(m=>!m),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Toggle sidebar",children:e?f.jsx(WS,{size:20}):f.jsx(w_,{size:20})}),f.jsx("span",{className:"text-white font-semibold text-sm",children:"Playground"})]}),f.jsx("main",{className:"flex-1 overflow-auto bg-gray-950",children:t})]})]})]})}function k_(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=k_(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function at(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=k_(t))&&(n&&(n+=" "),n+=e);return n}var YH=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function GS(t){if(typeof t!="string")return!1;var e=YH;return e.includes(t)}var QH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],XH=new Set(QH);function O_(t){return typeof t!="string"?!1:XH.has(t)}function A_(t){return typeof t=="string"&&t.startsWith("data-")}function Ui(t){if(typeof t!="object"||t===null)return{};var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(O_(r)||A_(r))&&(e[r]=t[r]);return e}function qg(t){if(t==null)return null;if(w.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Ui(e)}return typeof t=="object"&&!Array.isArray(t)?Ui(t):null}function Lr(t){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(O_(r)||A_(r)||GS(r))&&(e[r]=t[r]);return e}function ZH(t){return t==null?null:w.isValidElement(t)?Lr(t.props):typeof t=="object"&&!Array.isArray(t)?Lr(t):null}var JH=["children","width","height","viewBox","className","style","title","desc"];function I1(){return I1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I1.apply(null,arguments)}function e$(t,e){if(t==null)return{};var r,n,i=t$(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function t$(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var YS=w.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:a,className:l,style:o,title:u,desc:h}=t,m=e$(t,JH),p=a||{width:n,height:i,x:0,y:0},y=at("recharts-surface",l);return w.createElement("svg",I1({},Lr(m),{className:y,width:n,height:i,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),w.createElement("title",null,u),w.createElement("desc",null,h),r)}),r$=["children","className"];function U1(){return U1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U1.apply(null,arguments)}function n$(t,e){if(t==null)return{};var r,n,i=i$(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function i$(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Ms=w.forwardRef((t,e)=>{var{children:r,className:n}=t,i=n$(t,r$),a=at("recharts-layer",n);return w.createElement("g",U1({className:a},Lr(i),{ref:e}),r)}),E_=w.createContext(null),a$=()=>w.useContext(E_);function ut(t){return function(){return t}}const T_=Math.cos,sp=Math.sin,hi=Math.sqrt,lp=Math.PI,Hg=2*lp,q1=Math.PI,H1=2*q1,ml=1e-6,s$=H1-ml;function M_(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function l$(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return M_;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class o${constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?M_:l$(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,l){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,o=this._y1,u=n-e,h=i-r,m=l-e,p=o-r,y=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>ml)if(!(Math.abs(p*u-h*m)>ml)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let x=n-l,b=i-o,N=u*u+h*h,j=x*x+b*b,C=Math.sqrt(N),A=Math.sqrt(y),k=a*Math.tan((q1-Math.acos((N+y-j)/(2*C*A)))/2),T=k/A,D=k/C;Math.abs(T-1)>ml&&this._append`L${e+T*m},${r+T*p}`,this._append`A${a},${a},0,0,${+(p*x>m*b)},${this._x1=e+D*u},${this._y1=r+D*h}`}}arc(e,r,n,i,a,l){if(e=+e,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),u=n*Math.sin(i),h=e+o,m=r+u,p=1^l,y=l?i-a:a-i;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>ml||Math.abs(this._y1-m)>ml)&&this._append`L${h},${m}`,n&&(y<0&&(y=y%H1+H1),y>s$?this._append`A${n},${n},0,1,${p},${e-o},${r-u}A${n},${n},0,1,${p},${this._x1=h},${this._y1=m}`:y>ml&&this._append`A${n},${n},0,${+(y>=q1)},${p},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function QS(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new o$(e)}function XS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function D_(t){this._context=t}D_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function $g(t){return new D_(t)}function __(t){return t[0]}function P_(t){return t[1]}function R_(t,e){var r=ut(!0),n=null,i=$g,a=null,l=QS(o);t=typeof t=="function"?t:t===void 0?__:ut(t),e=typeof e=="function"?e:e===void 0?P_:ut(e);function o(u){var h,m=(u=XS(u)).length,p,y=!1,x;for(n==null&&(a=i(x=l())),h=0;h<=m;++h)!(h<m&&r(p=u[h],h,u))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(p,h,u),+e(p,h,u));if(x)return a=null,x+""||null}return o.x=function(u){return arguments.length?(t=typeof u=="function"?u:ut(+u),o):t},o.y=function(u){return arguments.length?(e=typeof u=="function"?u:ut(+u),o):e},o.defined=function(u){return arguments.length?(r=typeof u=="function"?u:ut(!!u),o):r},o.curve=function(u){return arguments.length?(i=u,n!=null&&(a=i(n)),o):i},o.context=function(u){return arguments.length?(u==null?n=a=null:a=i(n=u),o):n},o}function Jh(t,e,r){var n=null,i=ut(!0),a=null,l=$g,o=null,u=QS(h);t=typeof t=="function"?t:t===void 0?__:ut(+t),e=typeof e=="function"?e:ut(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?P_:ut(+r);function h(p){var y,x,b,N=(p=XS(p)).length,j,C=!1,A,k=new Array(N),T=new Array(N);for(a==null&&(o=l(A=u())),y=0;y<=N;++y){if(!(y<N&&i(j=p[y],y,p))===C)if(C=!C)x=y,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=y-1;b>=x;--b)o.point(k[b],T[b]);o.lineEnd(),o.areaEnd()}C&&(k[y]=+t(j,y,p),T[y]=+e(j,y,p),o.point(n?+n(j,y,p):k[y],r?+r(j,y,p):T[y]))}if(A)return o=null,A+""||null}function m(){return R_().defined(i).curve(l).context(a)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:ut(+p),n=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:ut(+p),h):t},h.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:ut(+p),h):n},h.y=function(p){return arguments.length?(e=typeof p=="function"?p:ut(+p),r=null,h):e},h.y0=function(p){return arguments.length?(e=typeof p=="function"?p:ut(+p),h):e},h.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:ut(+p),h):r},h.lineX0=h.lineY0=function(){return m().x(t).y(e)},h.lineY1=function(){return m().x(t).y(r)},h.lineX1=function(){return m().x(n).y(e)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:ut(!!p),h):i},h.curve=function(p){return arguments.length?(l=p,a!=null&&(o=l(a)),h):l},h.context=function(p){return arguments.length?(p==null?a=o=null:o=l(a=p),h):a},h}class L_{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function c$(t){return new L_(t,!0)}function u$(t){return new L_(t,!1)}const ZS={draw(t,e){const r=hi(e/lp);t.moveTo(r,0),t.arc(0,0,r,0,Hg)}},f$={draw(t,e){const r=hi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},B_=hi(1/3),d$=B_*2,h$={draw(t,e){const r=hi(e/d$),n=r*B_;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},m$={draw(t,e){const r=hi(e),n=-r/2;t.rect(n,n,r,r)}},p$=.8908130915292852,z_=sp(lp/10)/sp(7*lp/10),g$=sp(Hg/10)*z_,y$=-T_(Hg/10)*z_,x$={draw(t,e){const r=hi(e*p$),n=g$*r,i=y$*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const l=Hg*a/5,o=T_(l),u=sp(l);t.lineTo(u*r,-o*r),t.lineTo(o*n-u*i,u*n+o*i)}t.closePath()}},mv=hi(3),v$={draw(t,e){const r=-hi(e/(mv*3));t.moveTo(0,r*2),t.lineTo(-mv*r,-r),t.lineTo(mv*r,-r),t.closePath()}},zn=-.5,In=hi(3)/2,$1=1/hi(12),b$=($1/2+1)*3,w$={draw(t,e){const r=hi(e/b$),n=r/2,i=r*$1,a=n,l=r*$1+r,o=-a,u=l;t.moveTo(n,i),t.lineTo(a,l),t.lineTo(o,u),t.lineTo(zn*n-In*i,In*n+zn*i),t.lineTo(zn*a-In*l,In*a+zn*l),t.lineTo(zn*o-In*u,In*o+zn*u),t.lineTo(zn*n+In*i,zn*i-In*n),t.lineTo(zn*a+In*l,zn*l-In*a),t.lineTo(zn*o+In*u,zn*u-In*o),t.closePath()}};function S$(t,e){let r=null,n=QS(i);t=typeof t=="function"?t:ut(t||ZS),e=typeof e=="function"?e:ut(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ut(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ut(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function op(){}function cp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function I_(t){this._context=t}I_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function j$(t){return new I_(t)}function U_(t){this._context=t}U_.prototype={areaStart:op,areaEnd:op,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:cp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function N$(t){return new U_(t)}function q_(t){this._context=t}q_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:cp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function C$(t){return new q_(t)}function H_(t){this._context=t}H_.prototype={areaStart:op,areaEnd:op,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function k$(t){return new H_(t)}function _A(t){return t<0?-1:1}function PA(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),l=(r-t._y1)/(i||n<0&&-0),o=(a*i+l*n)/(n+i);return(_A(a)+_A(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(o))||0}function RA(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function pv(t,e,r){var n=t._x0,i=t._y0,a=t._x1,l=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,l-o*r,a,l)}function up(t){this._context=t}up.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pv(this,this._t0,RA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,pv(this,RA(this,r=PA(this,t,e)),r);break;default:pv(this,this._t0,r=PA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function $_(t){this._context=new V_(t)}($_.prototype=Object.create(up.prototype)).point=function(t,e){up.prototype.point.call(this,e,t)};function V_(t){this._context=t}V_.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function O$(t){return new up(t)}function A$(t){return new $_(t)}function F_(t){this._context=t}F_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=LA(t),i=LA(e),a=0,l=1;l<r;++a,++l)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[l],e[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function LA(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),l=new Array(r);for(i[0]=0,a[0]=2,l[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,l[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,l[e]-=n*l[e-1];for(i[r-1]=l[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(l[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function E$(t){return new F_(t)}function Vg(t,e){this._context=t,this._t=e}Vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function T$(t){return new Vg(t,.5)}function M$(t){return new Vg(t,0)}function D$(t){return new Vg(t,1)}function Ll(t,e){if((l=t.length)>1)for(var r=1,n,i,a=t[e[0]],l,o=a.length;r<l;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function V1(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function _$(t,e){return t[e]}function P$(t){const e=[];return e.key=t,e}function R$(){var t=ut([]),e=V1,r=Ll,n=_$;function i(a){var l=Array.from(t.apply(this,arguments),P$),o,u=l.length,h=-1,m;for(const p of a)for(o=0,++h;o<u;++o)(l[o][h]=[0,+n(p,l[o].key,h,a)]).data=p;for(o=0,m=XS(e(l));o<u;++o)l[m[o]].index=o;return r(l,m),l}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ut(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:ut(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?V1:typeof a=="function"?a:ut(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Ll,i):r},i}function L$(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,l;i<a;++i){for(l=r=0;r<n;++r)l+=t[r][i][1]||0;if(l)for(r=0;r<n;++r)t[r][i][1]/=l}Ll(t,e)}}function B$(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var l=0,o=0;l<i;++l)o+=t[l][r][1]||0;n[r][1]+=n[r][0]=-o/2}Ll(t,e)}}function z$(t,e){if(!(!((l=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,l;n<a;++n){for(var o=0,u=0,h=0;o<l;++o){for(var m=t[e[o]],p=m[n][1]||0,y=m[n-1][1]||0,x=(p-y)/2,b=0;b<o;++b){var N=t[e[b]],j=N[n][1]||0,C=N[n-1][1]||0;x+=j-C}u+=p,h+=x*p}i[n-1][1]+=i[n-1][0]=r,u&&(r-=h/u)}i[n-1][1]+=i[n-1][0]=r,Ll(t,e)}}var gv={},yv={},BA;function I$(){return BA||(BA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(yv)),yv}var xv={},zA;function W_(){return zA||(zA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(xv)),xv}var vv={},IA;function JS(){return IA||(IA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}t.toKey=e})(vv)),vv}var bv={},wv={},UA;function U$(){return UA||(UA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})(wv)),wv}var qA;function e2(){return qA||(qA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U$(),r=JS();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],l=i.length;if(l===0)return a;let o=0,u="",h="",m=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<l;){const p=i[o];h?p==="\\"&&o+1<l?(o++,u+=i[o]):p===h?h="":u+=p:m?p==='"'||p==="'"?h=p:p==="]"?(m=!1,a.push(u),u=""):u+=p:p==="["?(m=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,o++}return u&&a.push(u),a}t.toPath=n})(bv)),bv}var HA;function t2(){return HA||(HA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=I$(),r=W_(),n=JS(),i=e2();function a(o,u,h){if(o==null)return h;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return h;const m=o[u];return m===void 0?r.isDeepKey(u)?a(o,i.toPath(u),h):h:m}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const m=o[u];return m===void 0?h:m}default:{if(Array.isArray(u))return l(o,u,h);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return h;const m=o[u];return m===void 0?h:m}}}function l(o,u,h){if(u.length===0)return h;let m=o;for(let p=0;p<u.length;p++){if(m==null||e.isUnsafeProperty(u[p]))return h;m=m[u[p]]}return m===void 0?h:m}t.get=a})(gv)),gv}var Sv,$A;function q$(){return $A||($A=1,Sv=t2().get),Sv}var H$=q$();const Fg=Vi(H$);var $$=4;function ws(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$$,r=10**e,n=Math.round(t*r)/r;return Object.is(n,-0)?0:n}function Ot(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.reduce((i,a,l)=>{var o=r[l-1];return typeof o=="string"?i+o+a:o!==void 0?i+ws(o)+a:i+a},"")}var $n=t=>t===0?0:t>0?1:-1,ja=t=>typeof t=="number"&&t!=+t,Bl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ne=t=>(typeof t=="number"||t instanceof Number)&&!ja(t),qi=t=>Ne(t)||typeof t=="string",V$=0,Of=t=>{var e=++V$;return"".concat(t||"").concat(e)},Ds=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(e)&&typeof e!="string")return n;var a;if(Bl(e)){if(r==null)return n;var l=e.indexOf("%");a=r*parseFloat(e.slice(0,l))/100}else a=+e;return ja(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},K_=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[String(t[n])])r[String(t[n])]=!0;else return!0;return!1};function Gr(t,e,r){return Ne(t)&&Ne(e)?ws(t+r*(e-t)):e}function G_(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):Fg(n,e))===r)}var wr=t=>t===null||typeof t>"u",ud=t=>wr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Qr(t){return t!=null}function Pc(){}var F$=["type","size","sizeType"];function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F1.apply(null,arguments)}function VA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VA(Object(r),!0).forEach(function(n){W$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W$(t,e,r){return(e=K$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K$(t){var e=G$(t,"string");return typeof e=="symbol"?e:e+""}function G$(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y$(t,e){if(t==null)return{};var r,n,i=Q$(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Q$(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Y_={symbolCircle:ZS,symbolCross:f$,symbolDiamond:h$,symbolSquare:m$,symbolStar:x$,symbolTriangle:v$,symbolWye:w$},X$=Math.PI/180,Z$=t=>{var e="symbol".concat(ud(t));return Y_[e]||ZS},J$=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*X$;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},eV=(t,e)=>{Y_["symbol".concat(ud(t))]=e},r2=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=Y$(t,F$),a=FA(FA({},i),{},{type:e,size:r,sizeType:n}),l="circle";typeof e=="string"&&(l=e);var o=()=>{var y=Z$(l),x=S$().type(y).size(J$(r,n,l)),b=x();if(b!==null)return b},{className:u,cx:h,cy:m}=a,p=Lr(a);return Ne(h)&&Ne(m)&&Ne(r)?w.createElement("path",F1({},p,{className:at("recharts-symbols",u),transform:"translate(".concat(h,", ").concat(m,")"),d:o()})):null};r2.registerSymbol=eV;var Q_=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,n2=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(w.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{GS(i)&&(n[i]=(a=>r[i](r,a)))}),n},tV=(t,e,r)=>n=>(t(e,r,n),null),X_=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var a=t[i];GS(i)&&typeof a=="function"&&(n||(n={}),n[i]=tV(a,e,r))}),n};function WA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WA(Object(r),!0).forEach(function(n){nV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nV(t,e,r){return(e=iV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iV(t){var e=aV(t,"string");return typeof e=="symbol"?e:e+""}function aV(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ar(t,e){var r=rV({},t),n=e,i=Object.keys(e),a=i.reduce((l,o)=>(l[o]===void 0&&n[o]!==void 0&&(l[o]=n[o]),l),r);return a}function fp(){return fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fp.apply(null,arguments)}function KA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KA(Object(r),!0).forEach(function(n){lV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lV(t,e,r){return(e=oV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oV(t){var e=cV(t,"string");return typeof e=="symbol"?e:e+""}function cV(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qn=32,uV={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function fV(t){var{data:e,iconType:r,inactiveColor:n}=t,i=qn/2,a=qn/6,l=qn/3,o=e.inactive?n:e.color,u=r??e.type;if(u==="none")return null;if(u==="plainline"){var h;return w.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(h=e.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:i,x2:qn,y2:i,className:"recharts-legend-icon"})}if(u==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(qn,"M").concat(2*l,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(u==="rect")return w.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(qn/8,"h").concat(qn,"v").concat(qn*3/4,"h").concat(-qn,"z"),className:"recharts-legend-icon"});if(w.isValidElement(e.legendIcon)){var m=sV({},e);return delete m.legendIcon,w.cloneElement(e.legendIcon,m)}return w.createElement(r2,{fill:o,cx:i,cy:i,size:qn,sizeType:"diameter",type:u})}function dV(t){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:l}=t,o={x:0,y:0,width:qn,height:qn},u={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((m,p)=>{var y=m.formatter||i,x=at({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:m.inactive});if(m.type==="none")return null;var b=m.inactive?a:m.color,N=y?y(m.value,m,p):m.value;return w.createElement("li",fp({className:x,style:u,key:"legend-item-".concat(p)},X_(t,m,p)),w.createElement(YS,{width:r,height:r,viewBox:o,style:h,"aria-label":"".concat(N," legend icon")},w.createElement(fV,{data:m,iconType:l,inactiveColor:a})),w.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},N))})}var hV=t=>{var e=Ar(t,uV),{payload:r,layout:n,align:i}=e;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:a},w.createElement(dV,fp({},e,{payload:r})))},jv={},Nv={},GA;function mV(){return GA||(GA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let a=0;a<r.length;a++){const l=r[a],o=n(l,a,r);i.has(o)||i.set(o,l)}return Array.from(i.values())}t.uniqBy=e})(Nv)),Nv}var Cv={},YA;function pV(){return YA||(YA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}t.ary=e})(Cv)),Cv}var kv={},QA;function Z_(){return QA||(QA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(kv)),kv}var Ov={},Av={},Ev={},XA;function gV(){return XA||(XA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(Ev)),Ev}var ZA;function i2(){return ZA||(ZA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gV();function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(Av)),Av}var Tv={},JA;function yV(){return JA||(JA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(Tv)),Tv}var eE;function xV(){return eE||(eE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i2(),r=yV();function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(Ov)),Ov}var Mv={},Dv={},tE;function vV(){return tE||(tE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=t2();function r(n){return function(i){return e.get(i,n)}}t.property=r})(Dv)),Dv}var _v={},Pv={},Rv={},Lv={},rE;function J_(){return rE||(rE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(Lv)),Lv}var Bv={},nE;function eP(){return nE||(nE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(Bv)),Bv}var zv={},iE;function tP(){return iE||(iE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.isEqualsSameValueZero=e})(zv)),zv}var aE;function bV(){return aE||(aE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J_(),r=eP(),n=tP();function i(m,p,y){return typeof y!="function"?i(m,p,()=>{}):a(m,p,function x(b,N,j,C,A,k){const T=y(b,N,j,C,A,k);return T!==void 0?!!T:a(b,N,x,k)},new Map)}function a(m,p,y,x){if(p===m)return!0;switch(typeof p){case"object":return l(m,p,y,x);case"function":return Object.keys(p).length>0?a(m,{...p},y,x):n.isEqualsSameValueZero(m,p);default:return e.isObject(m)?typeof p=="string"?p==="":!0:n.isEqualsSameValueZero(m,p)}}function l(m,p,y,x){if(p==null)return!0;if(Array.isArray(p))return u(m,p,y,x);if(p instanceof Map)return o(m,p,y,x);if(p instanceof Set)return h(m,p,y,x);const b=Object.keys(p);if(m==null||r.isPrimitive(m))return b.length===0;if(b.length===0)return!0;if(x?.has(p))return x.get(p)===m;x?.set(p,m);try{for(let N=0;N<b.length;N++){const j=b[N];if(!r.isPrimitive(m)&&!(j in m)||p[j]===void 0&&m[j]!==void 0||p[j]===null&&m[j]!==null||!y(m[j],p[j],j,m,p,x))return!1}return!0}finally{x?.delete(p)}}function o(m,p,y,x){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[b,N]of p.entries()){const j=m.get(b);if(y(j,N,b,m,p,x)===!1)return!1}return!0}function u(m,p,y,x){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const b=new Set;for(let N=0;N<p.length;N++){const j=p[N];let C=!1;for(let A=0;A<m.length;A++){if(b.has(A))continue;const k=m[A];let T=!1;if(y(k,j,N,m,p,x)&&(T=!0),T){b.add(A),C=!0;break}}if(!C)return!1}return!0}function h(m,p,y,x){return p.size===0?!0:m instanceof Set?u([...m],[...p],y,x):!1}t.isMatchWith=i,t.isSetMatch=h})(Rv)),Rv}var sE;function rP(){return sE||(sE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bV();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r})(Pv)),Pv}var Iv={},Uv={},qv={},lE;function wV(){return lE||(lE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(qv)),qv}var Hv={},oE;function a2(){return oE||(oE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(Hv)),Hv}var $v={},cE;function nP(){return cE||(cE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",o="[object Date]",u="[object Map]",h="[object Set]",m="[object Array]",p="[object Function]",y="[object ArrayBuffer]",x="[object Object]",b="[object Error]",N="[object DataView]",j="[object Uint8Array]",C="[object Uint8ClampedArray]",A="[object Uint16Array]",k="[object Uint32Array]",T="[object BigUint64Array]",D="[object Int8Array]",M="[object Int16Array]",E="[object Int32Array]",_="[object BigInt64Array]",L="[object Float32Array]",I="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=y,t.arrayTag=m,t.bigInt64ArrayTag=_,t.bigUint64ArrayTag=T,t.booleanTag=i,t.dataViewTag=N,t.dateTag=o,t.errorTag=b,t.float32ArrayTag=L,t.float64ArrayTag=I,t.functionTag=p,t.int16ArrayTag=M,t.int32ArrayTag=E,t.int8ArrayTag=D,t.mapTag=u,t.numberTag=n,t.objectTag=x,t.regexpTag=e,t.setTag=h,t.stringTag=r,t.symbolTag=l,t.uint16ArrayTag=A,t.uint32ArrayTag=k,t.uint8ArrayTag=j,t.uint8ClampedArrayTag=C})($v)),$v}var Vv={},uE;function SV(){return uE||(uE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(Vv)),Vv}var fE;function iP(){return fE||(fE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wV(),r=a2(),n=nP(),i=eP(),a=SV();function l(m,p){return o(m,void 0,m,new Map,p)}function o(m,p,y,x=new Map,b=void 0){const N=b?.(m,p,y,x);if(N!==void 0)return N;if(i.isPrimitive(m))return m;if(x.has(m))return x.get(m);if(Array.isArray(m)){const j=new Array(m.length);x.set(m,j);for(let C=0;C<m.length;C++)j[C]=o(m[C],C,y,x,b);return Object.hasOwn(m,"index")&&(j.index=m.index),Object.hasOwn(m,"input")&&(j.input=m.input),j}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const j=new RegExp(m.source,m.flags);return j.lastIndex=m.lastIndex,j}if(m instanceof Map){const j=new Map;x.set(m,j);for(const[C,A]of m)j.set(C,o(A,C,y,x,b));return j}if(m instanceof Set){const j=new Set;x.set(m,j);for(const C of m)j.add(o(C,void 0,y,x,b));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(a.isTypedArray(m)){const j=new(Object.getPrototypeOf(m)).constructor(m.length);x.set(m,j);for(let C=0;C<m.length;C++)j[C]=o(m[C],C,y,x,b);return j}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const j=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return x.set(m,j),u(j,m,y,x,b),j}if(typeof File<"u"&&m instanceof File){const j=new File([m],m.name,{type:m.type});return x.set(m,j),u(j,m,y,x,b),j}if(typeof Blob<"u"&&m instanceof Blob){const j=new Blob([m],{type:m.type});return x.set(m,j),u(j,m,y,x,b),j}if(m instanceof Error){const j=new m.constructor;return x.set(m,j),j.message=m.message,j.name=m.name,j.stack=m.stack,j.cause=m.cause,u(j,m,y,x,b),j}if(m instanceof Boolean){const j=new Boolean(m.valueOf());return x.set(m,j),u(j,m,y,x,b),j}if(m instanceof Number){const j=new Number(m.valueOf());return x.set(m,j),u(j,m,y,x,b),j}if(m instanceof String){const j=new String(m.valueOf());return x.set(m,j),u(j,m,y,x,b),j}if(typeof m=="object"&&h(m)){const j=Object.create(Object.getPrototypeOf(m));return x.set(m,j),u(j,m,y,x,b),j}return m}function u(m,p,y=m,x,b){const N=[...Object.keys(p),...e.getSymbols(p)];for(let j=0;j<N.length;j++){const C=N[j],A=Object.getOwnPropertyDescriptor(m,C);(A==null||A.writable)&&(m[C]=o(p[C],C,y,x,b))}}function h(m){switch(r.getTag(m)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=o,t.copyProperties=u})(Uv)),Uv}var dE;function jV(){return dE||(dE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iP();function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(Iv)),Iv}var hE;function NV(){return hE||(hE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rP(),r=jV();function n(i){return i=r.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=n})(_v)),_v}var Fv={},Wv={},Kv={},mE;function CV(){return mE||(mE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iP(),r=a2(),n=nP();function i(a,l){return e.cloneDeepWith(a,(o,u,h,m)=>{const p=l?.(o,u,h,m);if(p!==void 0)return p;if(typeof a=="object"){if(r.getTag(a)===n.objectTag&&typeof a.constructor!="function"){const y={};return m.set(a,y),e.copyProperties(y,a,h,m),y}switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const y=new a.constructor(a?.valueOf());return e.copyProperties(y,a),y}case n.argumentsTag:{const y={};return e.copyProperties(y,a),y.length=a.length,y[Symbol.iterator]=a[Symbol.iterator],y}default:return}}})}t.cloneDeepWith=i})(Kv)),Kv}var pE;function kV(){return pE||(pE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CV();function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(Wv)),Wv}var Gv={},Yv={},gE;function aP(){return gE||(gE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(Yv)),Yv}var Qv={},yE;function OV(){return yE||(yE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a2();function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(Qv)),Qv}var xE;function AV(){return xE||(xE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W_(),r=aP(),n=OV(),i=e2();function a(l,o){let u;if(Array.isArray(o)?u=o:typeof o=="string"&&e.isDeepKey(o)&&l?.[o]==null?u=i.toPath(o):u=[o],u.length===0)return!1;let h=l;for(let m=0;m<u.length;m++){const p=u[m];if((h==null||!Object.hasOwn(h,p))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(p)&&p<h.length))return!1;h=h[p]}return!0}t.has=a})(Gv)),Gv}var vE;function EV(){return vE||(vE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rP(),r=JS(),n=kV(),i=t2(),a=AV();function l(o,u){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return u=n.cloneDeep(u),function(h){const m=i.get(h,o);return m===void 0?a.has(h,o):u===void 0?m===void 0:e.isMatch(m,u)}}t.matchesProperty=l})(Fv)),Fv}var bE;function TV(){return bE||(bE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z_(),r=vV(),n=NV(),i=EV();function a(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}t.iteratee=a})(Mv)),Mv}var wE;function MV(){return wE||(wE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mV(),r=pV(),n=Z_(),i=xV(),a=TV();function l(o,u=n.identity){return i.isArrayLikeObject(o)?e.uniqBy(Array.from(o),r.ary(a.iteratee(u),1)):[]}t.uniqBy=l})(jv)),jv}var Xv,SE;function DV(){return SE||(SE=1,Xv=MV().uniqBy),Xv}var _V=DV();const jE=Vi(_V);function sP(t,e,r){return e===!0?jE(t,r):typeof e=="function"?jE(t,e):t}var Zv={exports:{}},Jv={},eb={exports:{}},tb={};var NE;function PV(){if(NE)return tb;NE=1;var t=Ac();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function o(p,y){var x=y(),b=n({inst:{value:x,getSnapshot:y}}),N=b[0].inst,j=b[1];return a(function(){N.value=x,N.getSnapshot=y,u(N)&&j({inst:N})},[p,x,y]),i(function(){return u(N)&&j({inst:N}),p(function(){u(N)&&j({inst:N})})},[p]),l(x),x}function u(p){var y=p.getSnapshot;p=p.value;try{var x=y();return!r(p,x)}catch{return!0}}function h(p,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:o;return tb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,tb}var CE;function RV(){return CE||(CE=1,eb.exports=PV()),eb.exports}var kE;function LV(){if(kE)return Jv;kE=1;var t=Ac(),e=RV();function r(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,o=t.useMemo,u=t.useDebugValue;return Jv.useSyncExternalStoreWithSelector=function(h,m,p,y,x){var b=a(null);if(b.current===null){var N={hasValue:!1,value:null};b.current=N}else N=b.current;b=o(function(){function C(M){if(!A){if(A=!0,k=M,M=y(M),x!==void 0&&N.hasValue){var E=N.value;if(x(E,M))return T=E}return T=M}if(E=T,n(k,M))return E;var _=y(M);return x!==void 0&&x(E,_)?(k=M,E):(k=M,T=_)}var A=!1,k,T,D=p===void 0?null:p;return[function(){return C(m())},D===null?void 0:function(){return C(D())}]},[m,p,y,x]);var j=i(h,b[0],b[1]);return l(function(){N.hasValue=!0,N.value=j},[j]),u(j),j},Jv}var OE;function BV(){return OE||(OE=1,Zv.exports=LV()),Zv.exports}var zV=BV(),s2=w.createContext(null),IV=t=>t,qt=()=>{var t=w.useContext(s2);return t?t.store.dispatch:IV},Hm=()=>{},UV=()=>Hm,qV=(t,e)=>t===e;function Ee(t){var e=w.useContext(s2),r=w.useMemo(()=>e?n=>{if(n!=null)return t(n)}:Hm,[e,t]);return zV.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:UV,e?e.store.getState:Hm,e?e.store.getState:Hm,r,qV)}function HV(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function $V(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function VV(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var AE=t=>Array.isArray(t)?t:[t];function FV(t){const e=Array.isArray(t[0])?t[0]:t;return VV(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function WV(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var KV=class{constructor(t){this.value=t}deref(){return this.value}},GV=typeof WeakRef<"u"?WeakRef:KV,YV=0,EE=1;function em(){return{s:YV,v:void 0,o:null,p:null}}function lP(t,e={}){let r=em();const{resultEqualityCheck:n}=e;let i,a=0;function l(){let o=r;const{length:u}=arguments;for(let p=0,y=u;p<y;p++){const x=arguments[p];if(typeof x=="function"||typeof x=="object"&&x!==null){let b=o.o;b===null&&(o.o=b=new WeakMap);const N=b.get(x);N===void 0?(o=em(),b.set(x,o)):o=N}else{let b=o.p;b===null&&(o.p=b=new Map);const N=b.get(x);N===void 0?(o=em(),b.set(x,o)):o=N}}const h=o;let m;if(o.s===EE)m=o.v;else if(m=t.apply(null,arguments),a++,n){const p=i?.deref?.()??i;p!=null&&n(p,m)&&(m=p,a!==0&&a--),i=typeof m=="object"&&m!==null||typeof m=="function"?new GV(m):m}return h.s=EE,h.v=m,m}return l.clearCache=()=>{r=em(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function QV(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let a=0,l=0,o,u={},h=i.pop();typeof h=="object"&&(u=h,h=i.pop()),HV(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const m={...r,...u},{memoize:p,memoizeOptions:y=[],argsMemoize:x=lP,argsMemoizeOptions:b=[]}=m,N=AE(y),j=AE(b),C=FV(i),A=p(function(){return a++,h.apply(null,arguments)},...N),k=x(function(){l++;const D=WV(C,arguments);return o=A.apply(null,D),o},...j);return Object.assign(k,{resultFunc:h,memoizedResultFunc:A,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var ie=QV(lP),XV=Object.assign((t,e=ie)=>{$V(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(a=>t[a]);return e(n,(...a)=>a.reduce((l,o,u)=>(l[r[u]]=o,l),{}))},{withTypes:()=>XV}),rb={},nb={},ib={},TE;function ZV(){return TE||(TE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const l=e(n),o=e(i);if(l===o&&l===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-l:l-o}return 0};t.compareValues=r})(ib)),ib}var ab={},sb={},ME;function oP(){return ME||(ME=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(sb)),sb}var DE;function JV(){return DE||(DE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oP(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||l!=null&&Object.hasOwn(l,a)}t.isKey=i})(ab)),ab}var _E;function eF(){return _E||(_E=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZV(),r=JV(),n=e2();function i(a,l,o,u){if(a==null)return[];o=u?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(x=>String(x));const h=(x,b)=>{let N=x;for(let j=0;j<b.length&&N!=null;++j)N=N[b[j]];return N},m=(x,b)=>b==null||x==null?b:typeof x=="object"&&"key"in x?Object.hasOwn(b,x.key)?b[x.key]:h(b,x.path):typeof x=="function"?x(b):Array.isArray(x)?h(b,x):typeof b=="object"?b[x]:b,p=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return a.map(x=>({original:x,criteria:p.map(b=>m(b,x))})).slice().sort((x,b)=>{for(let N=0;N<p.length;N++){const j=e.compareValues(x.criteria[N],b.criteria[N],o[N]);if(j!==0)return j}return 0}).map(x=>x.original)}t.orderBy=i})(nb)),nb}var lb={},PE;function tF(){return PE||(PE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],a=Math.floor(n),l=(o,u)=>{for(let h=0;h<o.length;h++){const m=o[h];Array.isArray(m)&&u<a?l(m,u+1):i.push(m)}};return l(r,0),i}t.flatten=e})(lb)),lb}var ob={},RE;function cP(){return RE||(RE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aP(),r=i2(),n=J_(),i=tP();function a(l,o,u){return n.isObject(u)&&(typeof o=="number"&&r.isArrayLike(u)&&e.isIndex(o)&&o<u.length||typeof o=="string"&&o in u)?i.isEqualsSameValueZero(u[o],l):!1}t.isIterateeCall=a})(ob)),ob}var LE;function rF(){return LE||(LE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eF(),r=tF(),n=cP();function i(a,...l){const o=l.length;return o>1&&n.isIterateeCall(a,l[0],l[1])?l=[]:o>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(a,r.flatten(l),["asc"])}t.sortBy=i})(rb)),rb}var cb,BE;function nF(){return BE||(BE=1,cb=rF().sortBy),cb}var iF=nF();const Wg=Vi(iF);var uP=t=>t.legend.settings,aF=t=>t.legend.size,sF=t=>t.legend.payload,lF=ie([sF,uP],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?Wg(n,r):n});function oF(){return Ee(lF)}var tm=1;function fP(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=w.useState({height:0,left:0,top:0,width:0}),n=w.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-e.height)>tm||Math.abs(l.left-e.left)>tm||Math.abs(l.top-e.top)>tm||Math.abs(l.width-e.width)>tm)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function mr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var cF=typeof Symbol=="function"&&Symbol.observable||"@@observable",zE=cF,ub=()=>Math.random().toString(36).substring(7).split("").join("."),uF={INIT:`@@redux/INIT${ub()}`,REPLACE:`@@redux/REPLACE${ub()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ub()}`},dp=uF;function l2(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function dP(t,e,r){if(typeof t!="function")throw new Error(mr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(mr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(mr(1));return r(dP)(t,e)}let n=t,i=e,a=new Map,l=a,o=0,u=!1;function h(){l===a&&(l=new Map,a.forEach((j,C)=>{l.set(C,j)}))}function m(){if(u)throw new Error(mr(3));return i}function p(j){if(typeof j!="function")throw new Error(mr(4));if(u)throw new Error(mr(5));let C=!0;h();const A=o++;return l.set(A,j),function(){if(C){if(u)throw new Error(mr(6));C=!1,h(),l.delete(A),a=null}}}function y(j){if(!l2(j))throw new Error(mr(7));if(typeof j.type>"u")throw new Error(mr(8));if(typeof j.type!="string")throw new Error(mr(17));if(u)throw new Error(mr(9));try{u=!0,i=n(i,j)}finally{u=!1}return(a=l).forEach(A=>{A()}),j}function x(j){if(typeof j!="function")throw new Error(mr(10));n=j,y({type:dp.REPLACE})}function b(){const j=p;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(mr(11));function A(){const T=C;T.next&&T.next(m())}return A(),{unsubscribe:j(A)}},[zE](){return this}}}return y({type:dp.INIT}),{dispatch:y,subscribe:p,getState:m,replaceReducer:x,[zE]:b}}function fF(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:dp.INIT})>"u")throw new Error(mr(12));if(typeof r(void 0,{type:dp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mr(13))})}function hP(t){const e=Object.keys(t),r={};for(let a=0;a<e.length;a++){const l=e[a];typeof t[l]=="function"&&(r[l]=t[l])}const n=Object.keys(r);let i;try{fF(r)}catch(a){i=a}return function(l={},o){if(i)throw i;let u=!1;const h={};for(let m=0;m<n.length;m++){const p=n[m],y=r[p],x=l[p],b=y(x,o);if(typeof b>"u")throw o&&o.type,new Error(mr(14));h[p]=b,u=u||b!==x}return u=u||n.length!==Object.keys(l).length,u?h:l}}function hp(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function dF(...t){return e=>(r,n)=>{const i=e(r,n);let a=()=>{throw new Error(mr(15))};const l={getState:i.getState,dispatch:(u,...h)=>a(u,...h)},o=t.map(u=>u(l));return a=hp(...o)(i.dispatch),{...i,dispatch:a}}}function mP(t){return l2(t)&&"type"in t&&typeof t.type=="string"}var pP=Symbol.for("immer-nothing"),IE=Symbol.for("immer-draftable"),Br=Symbol.for("immer-state");function ni(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var wn=Object,hc=wn.getPrototypeOf,mp="constructor",Kg="prototype",W1="configurable",pp="enumerable",$m="writable",Af="value",Na=t=>!!t&&!!t[Br];function fi(t){return t?gP(t)||Yg(t)||!!t[IE]||!!t[mp]?.[IE]||Qg(t)||Xg(t):!1}var hF=wn[Kg][mp].toString(),UE=new WeakMap;function gP(t){if(!t||!o2(t))return!1;const e=hc(t);if(e===null||e===wn[Kg])return!0;const r=wn.hasOwnProperty.call(e,mp)&&e[mp];if(r===Object)return!0;if(!Wo(r))return!1;let n=UE.get(r);return n===void 0&&(n=Function.toString.call(r),UE.set(r,n)),n===hF}function Gg(t,e,r=!0){fd(t)===0?(r?Reflect.ownKeys(t):wn.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function fd(t){const e=t[Br];return e?e.type_:Yg(t)?1:Qg(t)?2:Xg(t)?3:0}var qE=(t,e,r=fd(t))=>r===2?t.has(e):wn[Kg].hasOwnProperty.call(t,e),K1=(t,e,r=fd(t))=>r===2?t.get(e):t[e],gp=(t,e,r,n=fd(t))=>{n===2?t.set(e,r):n===3?t.add(r):t[e]=r};function mF(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Yg=Array.isArray,Qg=t=>t instanceof Map,Xg=t=>t instanceof Set,o2=t=>typeof t=="object",Wo=t=>typeof t=="function",fb=t=>typeof t=="boolean";function pF(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var ha=t=>t.copy_||t.base_,c2=t=>t.modified_?t.copy_:t.base_;function G1(t,e){if(Qg(t))return new Map(t);if(Xg(t))return new Set(t);if(Yg(t))return Array[Kg].slice.call(t);const r=gP(t);if(e===!0||e==="class_only"&&!r){const n=wn.getOwnPropertyDescriptors(t);delete n[Br];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const l=i[a],o=n[l];o[$m]===!1&&(o[$m]=!0,o[W1]=!0),(o.get||o.set)&&(n[l]={[W1]:!0,[$m]:!0,[pp]:o[pp],[Af]:t[l]})}return wn.create(hc(t),n)}else{const n=hc(t);if(n!==null&&r)return{...t};const i=wn.create(n);return wn.assign(i,t)}}function u2(t,e=!1){return Zg(t)||Na(t)||!fi(t)||(fd(t)>1&&wn.defineProperties(t,{set:rm,add:rm,clear:rm,delete:rm}),wn.freeze(t),e&&Gg(t,(r,n)=>{u2(n,!0)},!1)),t}function gF(){ni(2)}var rm={[Af]:gF};function Zg(t){return t===null||!o2(t)?!0:wn.isFrozen(t)}var yp="MapSet",Y1="Patches",HE="ArrayMethods",yP={};function zl(t){const e=yP[t];return e||ni(0,t),e}var $E=t=>!!yP[t],Ef,xP=()=>Ef,yF=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:$E(yp)?zl(yp):void 0,arrayMethodsPlugin_:$E(HE)?zl(HE):void 0});function VE(t,e){e&&(t.patchPlugin_=zl(Y1),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Q1(t){X1(t),t.drafts_.forEach(xF),t.drafts_=null}function X1(t){t===Ef&&(Ef=t.parent_)}var FE=t=>Ef=yF(Ef,t);function xF(t){const e=t[Br];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function WE(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];if(t!==void 0&&t!==r){r[Br].modified_&&(Q1(e),ni(4)),fi(t)&&(t=KE(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(r[Br].base_,t,e)}else t=KE(e,r);return vF(e,t,!0),Q1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==pP?t:void 0}function KE(t,e){if(Zg(e))return e;const r=e[Br];if(!r)return xp(e,t.handledSet_,t);if(!Jg(r,t))return e;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(t);wP(r,t)}return r.copy_}function vF(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&u2(e,r)}function vP(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Jg=(t,e)=>t.scope_===e,bF=[];function bP(t,e,r,n){const i=ha(t),a=t.type_;if(n!==void 0&&K1(i,n,a)===e){gp(i,n,r,a);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;Gg(i,(u,h)=>{if(Na(h)){const m=o.get(h)||[];m.push(u),o.set(h,m)}})}const l=t.draftLocations_.get(e)??bF;for(const o of l)gp(i,o,r,a)}function wF(t,e,r){t.callbacks_.push(function(i){const a=e;if(!a||!Jg(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const l=c2(a);bP(t,a.draft_??a,l,r),wP(a,i)})}function wP(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:n}=e;if(n){const i=n.getPath(t);i&&n.generatePatches_(t,i,e)}vP(t)}}function SF(t,e,r){const{scope_:n}=t;if(Na(r)){const i=r[Br];Jg(i,n)&&i.callbacks_.push(function(){Vm(t);const l=c2(i);bP(t,r,l,e)})}else fi(r)&&t.callbacks_.push(function(){const a=ha(t);t.type_===3?a.has(r)&&xp(r,n.handledSet_,n):K1(a,e,t.type_)===r&&n.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&xp(K1(t.copy_,e,t.type_),n.handledSet_,n)})}function xp(t,e,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Na(t)||e.has(t)||!fi(t)||Zg(t)||(e.add(t),Gg(t,(n,i)=>{if(Na(i)){const a=i[Br];if(Jg(a,r)){const l=c2(a);gp(t,n,l,t.type_),vP(a)}}else fi(i)&&xp(i,e,r)})),t}function jF(t,e){const r=Yg(t),n={type_:r?1:0,scope_:e?e.scope_:xP(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=vp;r&&(i=[n],a=Tf);const{revoke:l,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=l,[o,n]}var vp={get(t,e){if(e===Br)return t;let r=t.scope_.arrayMethodsPlugin_;const n=t.type_===1&&typeof e=="string";if(n&&r?.isArrayOperationMethod(e))return r.createMethodInterceptor(t,e);const i=ha(t);if(!qE(i,e,t.type_))return NF(t,i,e);const a=i[e];if(t.finalized_||!fi(a)||n&&t.operationMethod&&r?.isMutatingArrayMethod(t.operationMethod)&&pF(e))return a;if(a===db(t.base_,e)){Vm(t);const l=t.type_===1?+e:e,o=J1(t.scope_,a,t,l);return t.copy_[l]=o}return a},has(t,e){return e in ha(t)},ownKeys(t){return Reflect.ownKeys(ha(t))},set(t,e,r){const n=SP(ha(t),e);if(n?.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=db(ha(t),e),a=i?.[Br];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_.set(e,!1),!0;if(mF(r,i)&&(r!==void 0||qE(t.base_,e,t.type_)))return!0;Vm(t),Z1(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_.set(e,!0),SF(t,e,r)),!0},deleteProperty(t,e){return Vm(t),db(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),Z1(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=ha(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{[$m]:!0,[W1]:t.type_!==1||e!=="length",[pp]:n[pp],[Af]:r[e]}},defineProperty(){ni(11)},getPrototypeOf(t){return hc(t.base_)},setPrototypeOf(){ni(12)}},Tf={};for(let t in vp){let e=vp[t];Tf[t]=function(){const r=arguments;return r[0]=r[0][0],e.apply(this,r)}}Tf.deleteProperty=function(t,e){return Tf.set.call(this,t,e,void 0)};Tf.set=function(t,e,r){return vp.set.call(this,t[0],e,r,t[0])};function db(t,e){const r=t[Br];return(r?ha(r):t)[e]}function NF(t,e,r){const n=SP(e,r);return n?Af in n?n[Af]:n.get?.call(t.draft_):void 0}function SP(t,e){if(!(e in t))return;let r=hc(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=hc(r)}}function Z1(t){t.modified_||(t.modified_=!0,t.parent_&&Z1(t.parent_))}function Vm(t){t.copy_||(t.assigned_=new Map,t.copy_=G1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var CF=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Wo(r)&&!Wo(n)){const l=n;n=r;const o=this;return function(h=l,...m){return o.produce(h,p=>n.call(this,p,...m))}}Wo(n)||ni(6),i!==void 0&&!Wo(i)&&ni(7);let a;if(fi(r)){const l=FE(this),o=J1(l,r,void 0);let u=!0;try{a=n(o),u=!1}finally{u?Q1(l):X1(l)}return VE(l,i),WE(a,l)}else if(!r||!o2(r)){if(a=n(r),a===void 0&&(a=r),a===pP&&(a=void 0),this.autoFreeze_&&u2(a,!0),i){const l=[],o=[];zl(Y1).generateReplacementPatches_(r,a,{patches_:l,inversePatches_:o}),i(l,o)}return a}else ni(1,r)},this.produceWithPatches=(r,n)=>{if(Wo(r))return(o,...u)=>this.produceWithPatches(o,h=>r(h,...u));let i,a;return[this.produce(r,n,(o,u)=>{i=o,a=u}),i,a]},fb(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),fb(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),fb(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){fi(e)||ni(8),Na(e)&&(e=ci(e));const r=FE(this),n=J1(r,e,void 0);return n[Br].isManual_=!0,X1(r),n}finishDraft(e,r){const n=e&&e[Br];(!n||!n.isManual_)&&ni(9);const{scope_:i}=n;return VE(i,r),WE(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(r=r.slice(n+1));const i=zl(Y1).applyPatches_;return Na(e)?i(e,r):this.produce(e,a=>i(a,r))}};function J1(t,e,r,n){const[i,a]=Qg(e)?zl(yp).proxyMap_(e,r):Xg(e)?zl(yp).proxySet_(e,r):jF(e,r);return(r?.scope_??xP()).drafts_.push(i),a.callbacks_=r?.callbacks_??[],a.key_=n,r&&n!==void 0?wF(r,a,n):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:h}=u;a.modified_&&h&&h.generatePatches_(a,[],u)}),i}function ci(t){return Na(t)||ni(10,t),jP(t)}function jP(t){if(!fi(t)||Zg(t))return t;const e=t[Br];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=G1(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=G1(t,!0);return Gg(r,(i,a)=>{gp(r,i,jP(a))},n),e&&(e.finalized_=!1),r}var kF=new CF,NP=kF.produce;function CP(t){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,t):i(a)}var OF=CP(),AF=CP,EF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?hp:hp.apply(null,arguments)};function Yn(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Nn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>mP(n)&&n.type===t,r}var kP=class of extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,of.prototype)}static get[Symbol.species](){return of}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new of(...e[0].concat(this)):new of(...e.concat(this))}};function GE(t){return fi(t)?NP(t,()=>{}):t}function nm(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function TF(t){return typeof t=="boolean"}var MF=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let l=new kP;return r&&(TF(r)?l.push(OF):l.push(AF(r.extraArgument))),l},OP="RTK_autoBatch",gt=()=>t=>({payload:t,meta:{[OP]:!0}}),YE=t=>e=>{setTimeout(e,t)},AP=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,a=!1,l=!1;const o=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:YE(10):t.type==="callback"?t.queueNotification:YE(t.timeout),h=()=>{l=!1,a&&(a=!1,o.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const p=()=>i&&m(),y=n.subscribe(p);return o.add(m),()=>{y(),o.delete(m)}},dispatch(m){try{return i=!m?.meta?.[OP],a=!i,a&&(l||(l=!0,u(h))),n.dispatch(m)}finally{i=!0}}})},DF=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new kP(t);return n&&i.push(AP(typeof n=="object"?n:void 0)),i};function _F(t){const e=MF(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=t||{};let o;if(typeof r=="function")o=r;else if(l2(r))o=hP(r);else throw new Error(Nn(1));let u;typeof n=="function"?u=n(e):u=e();let h=hp;i&&(h=EF({trace:!1,...typeof i=="object"&&i}));const m=dF(...u),p=DF(m);let y=typeof l=="function"?l(p):p();const x=h(...y);return dP(o,a,x)}function EP(t){const e={},r=[];let n;const i={addCase(a,l){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(Nn(28));if(o in e)throw new Error(Nn(29));return e[o]=l,i},addAsyncThunk(a,l){return l.pending&&(e[a.pending.type]=l.pending),l.rejected&&(e[a.rejected.type]=l.rejected),l.fulfilled&&(e[a.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return r.push({matcher:a,reducer:l}),i},addDefaultCase(a){return n=a,i}};return t(i),[e,r,n]}function PF(t){return typeof t=="function"}function RF(t,e){let[r,n,i]=EP(e),a;if(PF(t))a=()=>GE(t());else{const o=GE(t);a=()=>o}function l(o=a(),u){let h=[r[u.type],...n.filter(({matcher:m})=>m(u)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[i]),h.reduce((m,p)=>{if(p)if(Na(m)){const x=p(m,u);return x===void 0?m:x}else{if(fi(m))return NP(m,y=>p(y,u));{const y=p(m,u);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},o)}return l.getInitialState=a,l}var LF="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",BF=(t=21)=>{let e="",r=t;for(;r--;)e+=LF[Math.random()*64|0];return e},zF=Symbol.for("rtk-slice-createasyncthunk");function IF(t,e){return`${t}/${e}`}function UF({creators:t}={}){const e=t?.asyncThunk?.[zF];return function(n){const{name:i,reducerPath:a=i}=n;if(!i)throw new Error(Nn(11));const l=(typeof n.reducers=="function"?n.reducers(HF()):n.reducers)||{},o=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(k,T){const D=typeof k=="string"?k:k.type;if(!D)throw new Error(Nn(12));if(D in u.sliceCaseReducersByType)throw new Error(Nn(13));return u.sliceCaseReducersByType[D]=T,h},addMatcher(k,T){return u.sliceMatchers.push({matcher:k,reducer:T}),h},exposeAction(k,T){return u.actionCreators[k]=T,h},exposeCaseReducer(k,T){return u.sliceCaseReducersByName[k]=T,h}};o.forEach(k=>{const T=l[k],D={reducerName:k,type:IF(i,k),createNotation:typeof n.reducers=="function"};VF(T)?WF(D,T,h,e):$F(D,T,h)});function m(){const[k={},T=[],D=void 0]=typeof n.extraReducers=="function"?EP(n.extraReducers):[n.extraReducers],M={...k,...u.sliceCaseReducersByType};return RF(n.initialState,E=>{for(let _ in M)E.addCase(_,M[_]);for(let _ of u.sliceMatchers)E.addMatcher(_.matcher,_.reducer);for(let _ of T)E.addMatcher(_.matcher,_.reducer);D&&E.addDefaultCase(D)})}const p=k=>k,y=new Map,x=new WeakMap;let b;function N(k,T){return b||(b=m()),b(k,T)}function j(){return b||(b=m()),b.getInitialState()}function C(k,T=!1){function D(E){let _=E[k];return typeof _>"u"&&T&&(_=nm(x,D,j)),_}function M(E=p){const _=nm(y,T,()=>new WeakMap);return nm(_,E,()=>{const L={};for(const[I,z]of Object.entries(n.selectors??{}))L[I]=qF(z,E,()=>nm(x,E,j),T);return L})}return{reducerPath:k,getSelectors:M,get selectors(){return M(D)},selectSlice:D}}const A={name:i,reducer:N,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:j,...C(a),injectInto(k,{reducerPath:T,...D}={}){const M=T??a;return k.inject({reducerPath:M,reducer:N},D),{...A,...C(M,!0)}}};return A}}function qF(t,e,r,n){function i(a,...l){let o=e(a);return typeof o>"u"&&n&&(o=r()),t(o,...l)}return i.unwrapped=t,i}var rn=UF();function HF(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function $F({type:t,reducerName:e,createNotation:r},n,i){let a,l;if("reducer"in n){if(r&&!FF(n))throw new Error(Nn(17));a=n.reducer,l=n.prepare}else a=n;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,l?Yn(t,l):Yn(t))}function VF(t){return t._reducerDefinitionType==="asyncThunk"}function FF(t){return t._reducerDefinitionType==="reducerWithPrepare"}function WF({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Nn(18));const{payloadCreator:a,fulfilled:l,pending:o,rejected:u,settled:h,options:m}=r,p=i(t,a,m);n.exposeAction(e,p),l&&n.addCase(p.fulfilled,l),o&&n.addCase(p.pending,o),u&&n.addCase(p.rejected,u),h&&n.addMatcher(p.settled,h),n.exposeCaseReducer(e,{fulfilled:l||im,pending:o||im,rejected:u||im,settled:h||im})}function im(){}var KF="task",TP="listener",MP="completed",f2="cancelled",GF=`task-${f2}`,YF=`task-${MP}`,ew=`${TP}-${f2}`,QF=`${TP}-${MP}`,e0=class{constructor(t){this.code=t,this.message=`${KF} ${f2} (reason: ${t})`}name="TaskAbortError";message},d2=(t,e)=>{if(typeof t!="function")throw new TypeError(Nn(32))},bp=()=>{},DP=(t,e=bp)=>(t.catch(e),t),_P=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),El=t=>{if(t.aborted)throw new e0(t.reason)};function PP(t,e){let r=bp;return new Promise((n,i)=>{const a=()=>i(new e0(t.reason));if(t.aborted){a();return}r=_P(t,a),e.finally(()=>r()).then(n,i)}).finally(()=>{r=bp})}var XF=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof e0?"cancelled":"rejected",error:r}}finally{e?.()}},wp=t=>e=>DP(PP(t,e).then(r=>(El(t),r))),RP=t=>{const e=wp(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:rc}=Object,QE={},t0="listenerMiddleware",ZF=(t,e)=>{const r=n=>_P(t,()=>n.abort(t.reason));return(n,i)=>{d2(n);const a=new AbortController;r(a);const l=XF(async()=>{El(t),El(a.signal);const o=await n({pause:wp(a.signal),delay:RP(a.signal),signal:a.signal});return El(a.signal),o},()=>a.abort(YF));return i?.autoJoin&&e.push(l.catch(bp)),{result:wp(t)(l),cancel(){a.abort(GF)}}}},JF=(t,e)=>{const r=async(n,i)=>{El(e);let a=()=>{};const o=[new Promise((u,h)=>{let m=t({predicate:n,effect:(p,y)=>{y.unsubscribe(),u([p,y.getState(),y.getOriginalState()])}});a=()=>{m(),h()}})];i!=null&&o.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await PP(e,Promise.race(o));return El(e),u}finally{a()}};return(n,i)=>DP(r(n,i))},LP=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:a}=t;if(e)i=Yn(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Nn(21));return d2(a),{predicate:i,type:e,effect:a}},BP=rc(t=>{const{type:e,predicate:r,effect:n}=LP(t);return{id:BF(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Nn(22))}}},{withTypes:()=>BP}),XE=(t,e)=>{const{type:r,effect:n,predicate:i}=LP(e);return Array.from(t.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},tw=t=>{t.pending.forEach(e=>{e.abort(ew)})},eW=(t,e)=>()=>{for(const r of e.keys())tw(r);t.clear()},ZE=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},zP=rc(Yn(`${t0}/add`),{withTypes:()=>zP}),tW=Yn(`${t0}/removeAll`),IP=rc(Yn(`${t0}/remove`),{withTypes:()=>IP}),rW=(...t)=>{console.error(`${t0}/error`,...t)},dd=(t={})=>{const e=new Map,r=new Map,n=x=>{const b=r.get(x)??0;r.set(x,b+1)},i=x=>{const b=r.get(x)??1;b===1?r.delete(x):r.set(x,b-1)},{extra:a,onError:l=rW}=t;d2(l);const o=x=>(x.unsubscribe=()=>e.delete(x.id),e.set(x.id,x),b=>{x.unsubscribe(),b?.cancelActive&&tw(x)}),u=x=>{const b=XE(e,x)??BP(x);return o(b)};rc(u,{withTypes:()=>u});const h=x=>{const b=XE(e,x);return b&&(b.unsubscribe(),x.cancelActive&&tw(b)),!!b};rc(h,{withTypes:()=>h});const m=async(x,b,N,j)=>{const C=new AbortController,A=JF(u,C.signal),k=[];try{x.pending.add(C),n(x),await Promise.resolve(x.effect(b,rc({},N,{getOriginalState:j,condition:(T,D)=>A(T,D).then(Boolean),take:A,delay:RP(C.signal),pause:wp(C.signal),extra:a,signal:C.signal,fork:ZF(C.signal,k),unsubscribe:x.unsubscribe,subscribe:()=>{e.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((T,D,M)=>{T!==C&&(T.abort(ew),M.delete(T))})},cancel:()=>{C.abort(ew),x.pending.delete(C)},throwIfCancelled:()=>{El(C.signal)}})))}catch(T){T instanceof e0||ZE(l,T,{raisedBy:"effect"})}finally{await Promise.all(k),C.abort(QF),i(x),x.pending.delete(C)}},p=eW(e,r);return{middleware:x=>b=>N=>{if(!mP(N))return b(N);if(zP.match(N))return u(N.payload);if(tW.match(N)){p();return}if(IP.match(N))return h(N.payload);let j=x.getState();const C=()=>{if(j===QE)throw new Error(Nn(23));return j};let A;try{if(A=b(N),e.size>0){const k=x.getState(),T=Array.from(e.values());for(const D of T){let M=!1;try{M=D.predicate(N,k,j)}catch(E){M=!1,ZE(l,E,{raisedBy:"predicate"})}M&&m(D,N,x,C)}}}finally{j=QE}return A},startListening:u,stopListening:h,clearListeners:p}};function Nn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var nW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},UP=rn({name:"chartLayout",initialState:nW,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,i,a;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:iW,setLayout:aW,setChartSize:sW,setScale:lW}=UP.actions,oW=UP.reducer;function qP(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function Ye(t){return Number.isFinite(t)}function Hi(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function JE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JE(Object(r),!0).forEach(function(n){cW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cW(t,e,r){return(e=uW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uW(t){var e=fW(t,"string");return typeof e=="symbol"?e:e+""}function fW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vr(t,e,r){return wr(t)||wr(e)?r:qi(e)?Fg(t,e,r):typeof e=="function"?e(t):r}var dW=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:a,verticalAlign:l,layout:o}=e;if((o==="vertical"||o==="horizontal"&&l==="middle")&&a!=="center"&&Ne(t[a]))return Yo(Yo({},t),{},{[a]:t[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&l!=="middle"&&Ne(t[l]))return Yo(Yo({},t),{},{[l]:t[l]+(i||0)})}return t},Pa=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",HP=(t,e,r,n)=>{if(n)return t.map(o=>o.coordinate);var i,a,l=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||l.push(e),a||l.push(r),l},$P=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:a,scale:l,realScaleType:o,isCategorical:u,categoricalDomain:h,tickCount:m,ticks:p,niceTicks:y,axisType:x}=t;if(!l)return null;var b=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,N=i==="category"&&l.bandwidth?l.bandwidth()/b:0;if(N=x==="angleAxis"&&a&&a.length>=2?$n(a[0]-a[1])*2*N:N,p||y){var j=(p||y||[]).map((C,A)=>{var k=n?n.indexOf(C):C,T=l.map(k);return Ye(T)?{coordinate:T+N,value:C,offset:N,index:A}:null}).filter(Qr);return j}return u&&h?h.map((C,A)=>{var k=l.map(C);return Ye(k)?{coordinate:k+N,value:C,index:A,offset:N}:null}).filter(Qr):l.ticks&&m!=null?l.ticks(m).map((C,A)=>{var k=l.map(C);return Ye(k)?{coordinate:k+N,value:C,index:A,offset:N}:null}).filter(Qr):l.domain().map((C,A)=>{var k=l.map(C);return Ye(k)?{coordinate:k+N,value:n?n[C]:C,index:A,offset:N}:null}).filter(Qr)},hW=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,l=0,o=0;o<r;++o){var u=t[o],h=u?.[i];if(h!=null){var m=h[1],p=h[0],y=ja(m)?p:m;y>=0?(h[0]=a,a+=y,h[1]=a):(h[0]=l,l+=y,h[1]=l)}}}},mW=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,l=0;l<r;++l){var o=t[l],u=o?.[i];if(u!=null){var h=ja(u[1])?u[0]:u[1];h>=0?(u[0]=a,a+=h,u[1]=a):(u[0]=0,u[1]=0)}}}},pW={sign:hW,expand:L$,none:Ll,silhouette:B$,wiggle:z$,positive:mW},gW=(t,e,r)=>{var n,i=(n=pW[r])!==null&&n!==void 0?n:Ll,a=R$().keys(e).value((o,u)=>Number(vr(o,u,0))).order(V1).offset(i),l=a(t);return l.forEach((o,u)=>{o.forEach((h,m)=>{var p=vr(t[m],e[u],0);Array.isArray(p)&&p.length===2&&Ne(p[0])&&Ne(p[1])&&(h[0]=p[0],h[1]=p[1])})}),l};function eT(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:a,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!wr(i[e.dataKey])){var o=G_(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r!=null&&r[a]?r[a].coordinate+n/2:null}var u=vr(i,wr(l)?e.dataKey:l),h=e.scale.map(u);return Ne(h)?h:null}var yW=t=>{var e=t.flat(2).filter(Ne);return[Math.min(...e),Math.max(...e)]},xW=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],vW=(t,e,r)=>{if(t!=null)return xW(Object.keys(t).reduce((n,i)=>{var a=t[i];if(!a)return n;var{stackedData:l}=a,o=l.reduce((u,h)=>{var m=qP(h,e,r),p=yW(m);return!Ye(p[0])||!Ye(p[1])?u:[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},tT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sp=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=Wg(e,m=>m.coordinate),a=1/0,l=1,o=i.length;l<o;l++){var u=i[l],h=i[l-1];a=Math.min((u?.coordinate||0)-(h?.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function nT(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:a}=t;return Yo(Yo({},e),{},{dataKey:r,payload:n,value:i,name:a})}function VP(t,e){if(t)return String(t);if(typeof e=="string")return e}var bW=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},wW=(t,e)=>e==="centric"?t.angle:t.radius,Ra=t=>t.layout.width,La=t=>t.layout.height,SW=t=>t.layout.scale,FP=t=>t.layout.margin,r0=ie(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),n0=ie(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),jW="data-recharts-item-index",NW="data-recharts-item-id",hd=60;function iT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function am(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iT(Object(r),!0).forEach(function(n){CW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CW(t,e,r){return(e=kW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kW(t){var e=OW(t,"string");return typeof e=="symbol"?e:e+""}function OW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AW=t=>t.brush.height;function EW(t){var e=n0(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:hd;return r+i}return r},0)}function TW(t){var e=n0(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:hd;return r+i}return r},0)}function MW(t){var e=r0(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function DW(t){var e=r0(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Sr=ie([Ra,La,FP,AW,EW,TW,MW,DW,uP,aF],(t,e,r,n,i,a,l,o,u,h)=>{var m={left:(r.left||0)+i,right:(r.right||0)+a},p={top:(r.top||0)+l,bottom:(r.bottom||0)+o},y=am(am({},p),m),x=y.bottom;y.bottom+=n,y=dW(y,u,h);var b=t-y.left-y.right,N=e-y.top-y.bottom;return am(am({brushBottom:x},y),{},{width:Math.max(b,0),height:Math.max(N,0)})}),_W=ie(Sr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),WP=ie(Ra,La,(t,e)=>({x:0,y:0,width:t,height:e})),PW=w.createContext(null),nn=()=>w.useContext(PW)!=null,i0=t=>t.brush,a0=ie([i0,Sr,FP],(t,e,r)=>({height:t.height,x:Ne(t.x)?t.x:e.left,y:Ne(t.y)?t.y:e.top+e.height+e.brushBottom-(r?.bottom||0),width:Ne(t.width)?t.width:e.width})),hb={},mb={},pb={},aT;function RW(){return aT||(aT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:a}={}){let l,o=null;const u=a!=null&&a.includes("leading"),h=a==null||a.includes("trailing"),m=()=>{o!==null&&(r.apply(l,o),l=void 0,o=null)},p=()=>{h&&m(),N()};let y=null;const x=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},n)},b=()=>{y!==null&&(clearTimeout(y),y=null)},N=()=>{b(),l=void 0,o=null},j=()=>{m()},C=function(...A){if(i?.aborted)return;l=this,o=A;const k=y==null;x(),u&&k&&m()};return C.schedule=x,C.cancel=N,C.flush=j,i?.addEventListener("abort",N,{once:!0}),C}t.debounce=e})(pb)),pb}var sT;function LW(){return sT||(sT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RW();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:o=!0,maxWait:u}=a,h=Array(2);l&&(h[0]="leading"),o&&(h[1]="trailing");let m,p=null;const y=e.debounce(function(...N){m=n.apply(this,N),p=null},i,{edges:h}),x=function(...N){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(m=n.apply(this,N),p=Date.now(),y.cancel(),y.schedule(),m):(y.apply(this,N),m)},b=()=>(y.flush(),m);return x.cancel=y.cancel,x.flush=b,x}t.debounce=r})(mb)),mb}var lT;function BW(){return lT||(lT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LW();function r(n,i=0,a={}){const{leading:l=!0,trailing:o=!0}=a;return e.debounce(n,i,{leading:l,maxWait:i,trailing:o})}t.throttle=r})(hb)),hb}var gb,oT;function zW(){return oT||(oT=1,gb=BW().throttle),gb}var IW=zW();const UW=Vi(IW);var jp=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(r.replace(/%s/g,()=>i[l++]))}},Mi={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},KP=(t,e,r)=>{var{width:n=Mi.width,height:i=Mi.height,aspect:a,maxHeight:l}=r,o=Bl(n)?t:Number(n),u=Bl(i)?e:Number(i);return a&&a>0&&(o?u=o/a:u&&(o=u*a),l&&u!=null&&u>l&&(u=l)),{calculatedWidth:o,calculatedHeight:u}},qW={width:0,height:0,overflow:"visible"},HW={width:0,overflowX:"visible"},$W={height:0,overflowY:"visible"},VW={},FW=t=>{var{width:e,height:r}=t,n=Bl(e),i=Bl(r);return n&&i?qW:n?HW:i?$W:VW};function WW(t){var{width:e,height:r,aspect:n}=t,i=e,a=r;return i===void 0&&a===void 0?(i=Mi.width,a=Mi.height):i===void 0?i=n&&n>0?void 0:Mi.width:a===void 0&&(a=n&&n>0?void 0:Mi.height),{width:i,height:a}}function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rw.apply(null,arguments)}function cT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cT(Object(r),!0).forEach(function(n){KW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KW(t,e,r){return(e=GW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GW(t){var e=YW(t,"string");return typeof e=="symbol"?e:e+""}function YW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GP=w.createContext(Mi.initialDimension);function QW(t){return Hi(t.width)&&Hi(t.height)}function YP(t){var{children:e,width:r,height:n}=t,i=w.useMemo(()=>({width:r,height:n}),[r,n]);return QW(i)?w.createElement(GP.Provider,{value:i},e):null}var h2=()=>w.useContext(GP),XW=w.forwardRef((t,e)=>{var{aspect:r,initialDimension:n=Mi.initialDimension,width:i,height:a,minWidth:l=Mi.minWidth,minHeight:o,maxHeight:u,children:h,debounce:m=Mi.debounce,id:p,className:y,onResize:x,style:b={}}=t,N=w.useRef(null),j=w.useRef();j.current=x,w.useImperativeHandle(e,()=>N.current);var[C,A]=w.useState({containerWidth:n.width,containerHeight:n.height}),k=w.useCallback((_,L)=>{A(I=>{var z=Math.round(_),R=Math.round(L);return I.containerWidth===z&&I.containerHeight===R?I:{containerWidth:z,containerHeight:R}})},[]);w.useEffect(()=>{if(N.current==null||typeof ResizeObserver>"u")return Pc;var _=R=>{var U,W=R[0];if(W!=null){var{width:$,height:H}=W.contentRect;k($,H),(U=j.current)===null||U===void 0||U.call(j,$,H)}};m>0&&(_=UW(_,m,{trailing:!0,leading:!1}));var L=new ResizeObserver(_),{width:I,height:z}=N.current.getBoundingClientRect();return k(I,z),L.observe(N.current),()=>{L.disconnect()}},[k,m]);var{containerWidth:T,containerHeight:D}=C;jp(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:M,calculatedHeight:E}=KP(T,D,{width:i,height:a,aspect:r,maxHeight:u});return jp(M!=null&&M>0||E!=null&&E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,E,i,a,l,o,r),w.createElement("div",{id:p?"".concat(p):void 0,className:at("recharts-responsive-container",y),style:uT(uT({},b),{},{width:i,height:a,minWidth:l,minHeight:o,maxHeight:u}),ref:N},w.createElement("div",{style:FW({width:i,height:a})},w.createElement(YP,{width:M,height:E},h)))}),mc=w.forwardRef((t,e)=>{var r=h2();if(Hi(r.width)&&Hi(r.height))return t.children;var{width:n,height:i}=WW({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:l}=KP(void 0,void 0,{width:n,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ne(a)&&Ne(l)?w.createElement(YP,{width:a,height:l},t.children):w.createElement(XW,rw({},t,{width:n,height:i,ref:e}))});function m2(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var s0=()=>{var t,e=nn(),r=Ee(_W),n=Ee(a0),i=(t=Ee(i0))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},ZW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},QP=()=>{var t;return(t=Ee(Sr))!==null&&t!==void 0?t:ZW},p2=()=>Ee(Ra),g2=()=>Ee(La),JW=()=>Ee(t=>t.layout.margin),St=t=>t.layout.layoutType,Rc=()=>Ee(St),XP=()=>{var t=Rc();if(t==="horizontal"||t==="vertical")return t},ZP=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},eK=()=>{var t=Rc();return t!==void 0},md=t=>{var e=qt(),r=nn(),{width:n,height:i}=t,a=h2(),l=n,o=i;return a&&(l=a.width>0?a.width:n,o=a.height>0?a.height:i),w.useEffect(()=>{!r&&Hi(l)&&Hi(o)&&e(sW({width:l,height:o}))},[e,r,l,o]),null},JP=Symbol.for("immer-nothing"),fT=Symbol.for("immer-draftable"),Cn=Symbol.for("immer-state");function ii(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Mf=Object.getPrototypeOf;function pc(t){return!!t&&!!t[Cn]}function Il(t){return t?eR(t)||Array.isArray(t)||!!t[fT]||!!t.constructor?.[fT]||pd(t)||o0(t):!1}var tK=Object.prototype.constructor.toString(),dT=new WeakMap;function eR(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=dT.get(r);return n===void 0&&(n=Function.toString.call(r),dT.set(r,n)),n===tK}function Np(t,e,r=!0){l0(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function l0(t){const e=t[Cn];return e?e.type_:Array.isArray(t)?1:pd(t)?2:o0(t)?3:0}function nw(t,e){return l0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function tR(t,e,r){const n=l0(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function rK(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function pd(t){return t instanceof Map}function o0(t){return t instanceof Set}function pl(t){return t.copy_||t.base_}function iw(t,e){if(pd(t))return new Map(t);if(o0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=eR(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Cn];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const l=i[a],o=n[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[l]})}return Object.create(Mf(t),n)}else{const n=Mf(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function y2(t,e=!1){return c0(t)||pc(t)||!Il(t)||(l0(t)>1&&Object.defineProperties(t,{set:sm,add:sm,clear:sm,delete:sm}),Object.freeze(t),e&&Object.values(t).forEach(r=>y2(r,!0))),t}function nK(){ii(2)}var sm={value:nK};function c0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var iK={};function Ul(t){const e=iK[t];return e||ii(0,t),e}var Df;function rR(){return Df}function aK(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hT(t,e){e&&(Ul("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function aw(t){sw(t),t.drafts_.forEach(sK),t.drafts_=null}function sw(t){t===Df&&(Df=t.parent_)}function mT(t){return Df=aK(Df,t)}function sK(t){const e=t[Cn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function pT(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Cn].modified_&&(aw(e),ii(4)),Il(t)&&(t=Cp(e,t),e.parent_||kp(e,t)),e.patches_&&Ul("Patches").generateReplacementPatches_(r[Cn].base_,t,e.patches_,e.inversePatches_)):t=Cp(e,r,[]),aw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==JP?t:void 0}function Cp(t,e,r){if(c0(e))return e;const n=t.immer_.shouldUseStrictIteration(),i=e[Cn];if(!i)return Np(e,(a,l)=>gT(t,i,e,a,l,r),n),e;if(i.scope_!==t)return e;if(!i.modified_)return kp(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,o=!1;i.type_===3&&(l=new Set(a),a.clear(),o=!0),Np(l,(u,h)=>gT(t,i,a,u,h,r,o),n),kp(t,a,!1),r&&t.patches_&&Ul("Patches").generatePatches_(i,r,t.patches_,t.inversePatches_)}return i.copy_}function gT(t,e,r,n,i,a,l){if(i==null||typeof i!="object"&&!l)return;const o=c0(i);if(!(o&&!l)){if(pc(i)){const u=a&&e&&e.type_!==3&&!nw(e.assigned_,n)?a.concat(n):void 0,h=Cp(t,i,u);if(tR(r,n,h),pc(h))t.canAutoFreeze_=!1;else return}else l&&r.add(i);if(Il(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[n]===i&&o)return;Cp(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(pd(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&kp(t,i)}}}function kp(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&y2(e,r)}function lK(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:rR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=x2;r&&(i=[n],a=_f);const{revoke:l,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=l,o}var x2={get(t,e){if(e===Cn)return t;const r=pl(t);if(!nw(r,e))return oK(t,r,e);const n=r[e];return t.finalized_||!Il(n)?n:n===yb(t.base_,e)?(xb(t),t.copy_[e]=ow(n,t)):n},has(t,e){return e in pl(t)},ownKeys(t){return Reflect.ownKeys(pl(t))},set(t,e,r){const n=nR(pl(t),e);if(n?.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=yb(pl(t),e),a=i?.[Cn];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(rK(r,i)&&(r!==void 0||nw(t.base_,e)))return!0;xb(t),lw(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return yb(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,xb(t),lw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=pl(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){ii(11)},getPrototypeOf(t){return Mf(t.base_)},setPrototypeOf(){ii(12)}},_f={};Np(x2,(t,e)=>{_f[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});_f.deleteProperty=function(t,e){return _f.set.call(this,t,e,void 0)};_f.set=function(t,e,r){return x2.set.call(this,t[0],e,r,t[0])};function yb(t,e){const r=t[Cn];return(r?pl(r):t)[e]}function oK(t,e,r){const n=nR(e,r);return n?"value"in n?n.value:n.get?.call(t.draft_):void 0}function nR(t,e){if(!(e in t))return;let r=Mf(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Mf(r)}}function lw(t){t.modified_||(t.modified_=!0,t.parent_&&lw(t.parent_))}function xb(t){t.copy_||(t.copy_=iw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var cK=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const a=r;r=e;const l=this;return function(u=a,...h){return l.produce(u,m=>r.call(this,m,...h))}}typeof r!="function"&&ii(6),n!==void 0&&typeof n!="function"&&ii(7);let i;if(Il(e)){const a=mT(this),l=ow(e,void 0);let o=!0;try{i=r(l),o=!1}finally{o?aw(a):sw(a)}return hT(a,n),pT(i,a)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===JP&&(i=void 0),this.autoFreeze_&&y2(i,!0),n){const a=[],l=[];Ul("Patches").generateReplacementPatches_(e,i,a,l),n(a,l)}return i}else ii(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(l,...o)=>this.produceWithPatches(l,u=>e(u,...o));let n,i;return[this.produce(e,r,(l,o)=>{n=l,i=o}),n,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Il(t)||ii(8),pc(t)&&(t=uK(t));const e=mT(this),r=ow(t,void 0);return r[Cn].isManual_=!0,sw(e),r}finishDraft(t,e){const r=t&&t[Cn];(!r||!r.isManual_)&&ii(9);const{scope_:n}=r;return hT(n,e),pT(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=Ul("Patches").applyPatches_;return pc(t)?n(t,e):this.produce(t,i=>n(i,e))}};function ow(t,e){const r=pd(t)?Ul("MapSet").proxyMap_(t,e):o0(t)?Ul("MapSet").proxySet_(t,e):lK(t,e);return(e?e.scope_:rR()).drafts_.push(r),r}function uK(t){return pc(t)||ii(10,t),iR(t)}function iR(t){if(!Il(t)||c0(t))return t;const e=t[Cn];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=iw(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=iw(t,!0);return Np(r,(i,a)=>{tR(r,i,iR(a))},n),e&&(e.finalized_=!1),r}var fK=new cK;fK.produce;var dK={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},aR=rn({name:"legend",initialState:dK,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:gt()},replaceLegendPayload:{reducer(t,e){var{prev:r,next:n}=e.payload,i=ci(t).payload.indexOf(r);i>-1&&(t.payload[i]=n)},prepare:gt()},removeLegendPayload:{reducer(t,e){var r=ci(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)},prepare:gt()}}}),{setLegendSize:yT,setLegendSettings:hK,addLegendPayload:mK,replaceLegendPayload:pK,removeLegendPayload:gK}=aR.actions,yK=aR.reducer,xK=["contextPayload"];function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cw.apply(null,arguments)}function xT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xT(Object(r),!0).forEach(function(n){vK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vK(t,e,r){return(e=bK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bK(t){var e=wK(t,"string");return typeof e=="symbol"?e:e+""}function wK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SK(t,e){if(t==null)return{};var r,n,i=jK(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function jK(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function NK(t){return t.value}function CK(t){var{contextPayload:e}=t,r=SK(t,xK),n=sP(e,t.payloadUniqBy,NK),i=gc(gc({},r),{},{payload:n});return w.isValidElement(t.content)?w.cloneElement(t.content,i):typeof t.content=="function"?w.createElement(t.content,i):w.createElement(hV,i)}function kK(t,e,r,n,i,a){var{layout:l,align:o,verticalAlign:u}=e,h,m;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&l==="vertical"?h={left:((n||0)-a.width)/2}:h=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(u==="middle"?m={top:((i||0)-a.height)/2}:m=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),gc(gc({},h),m)}function OK(t){var e=qt();return w.useEffect(()=>{e(hK(t))},[e,t]),null}function AK(t){var e=qt();return w.useEffect(()=>(e(yT(t)),()=>{e(yT({width:0,height:0}))}),[e,t]),null}function EK(t,e,r,n){return t==="vertical"&&e!=null?{height:e}:t==="horizontal"?{width:r||n}:null}var TK={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function gd(t){var e=Ar(t,TK),r=oF(),n=a$(),i=JW(),{width:a,height:l,wrapperStyle:o,portal:u}=e,[h,m]=fP([r]),p=p2(),y=g2();if(p==null||y==null)return null;var x=p-(i?.left||0)-(i?.right||0),b=EK(e.layout,l,a,x),N=u?o:gc(gc({position:"absolute",width:b?.width||a||"auto",height:b?.height||l||"auto"},kK(o,e,i,p,y,h)),o),j=u??n;if(j==null||r==null)return null;var C=w.createElement("div",{className:"recharts-legend-wrapper",style:N,ref:m},w.createElement(OK,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!u&&w.createElement(AK,{width:h.width,height:h.height}),w.createElement(CK,cw({},e,b,{margin:i,chartWidth:p,chartHeight:y,contextPayload:r})));return IS.createPortal(C,j)}gd.displayName="Legend";function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uw.apply(null,arguments)}function vT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vT(Object(r),!0).forEach(function(n){MK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MK(t,e,r){return(e=DK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DK(t){var e=_K(t,"string");return typeof e=="symbol"?e:e+""}function _K(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PK(t){return Array.isArray(t)&&qi(t[0])&&qi(t[1])?t.join(" ~ "):t}var Uo={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},RK=t=>{var{separator:e=Uo.separator,contentStyle:r,itemStyle:n,labelStyle:i=Uo.labelStyle,payload:a,formatter:l,itemSorter:o,wrapperClassName:u,labelClassName:h,label:m,labelFormatter:p,accessibilityLayer:y=Uo.accessibilityLayer}=t,x=()=>{if(a&&a.length){var D={padding:0,margin:0},M=(o?Wg(a,o):a).map((E,_)=>{if(E.type==="none")return null;var L=E.formatter||l||PK,{value:I,name:z}=E,R=I,U=z;if(L){var W=L(I,z,E,_,a);if(Array.isArray(W))[R,U]=W;else if(W!=null)R=W;else return null}var $=Fu(Fu({},Uo.itemStyle),{},{color:E.color||Uo.itemStyle.color},n);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:$},qi(U)?w.createElement("span",{className:"recharts-tooltip-item-name"},U):null,qi(U)?w.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,w.createElement("span",{className:"recharts-tooltip-item-value"},R),w.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:D},M)}return null},b=Fu(Fu({},Uo.contentStyle),r),N=Fu({margin:0},i),j=!wr(m),C=j?m:"",A=at("recharts-default-tooltip",u),k=at("recharts-tooltip-label",h);j&&p&&a!==void 0&&a!==null&&(C=p(m,a));var T=y?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",uw({className:A,style:b},T),w.createElement("p",{className:k,style:N},w.isValidElement(C)?C:"".concat(C)),x())},Wu="recharts-tooltip-wrapper",LK={visibility:"hidden"};function BK(t){var{coordinate:e,translateX:r,translateY:n}=t;return at(Wu,{["".concat(Wu,"-right")]:Ne(r)&&e&&Ne(e.x)&&r>=e.x,["".concat(Wu,"-left")]:Ne(r)&&e&&Ne(e.x)&&r<e.x,["".concat(Wu,"-bottom")]:Ne(n)&&e&&Ne(e.y)&&n>=e.y,["".concat(Wu,"-top")]:Ne(n)&&e&&Ne(e.y)&&n<e.y})}function bT(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offset:i,position:a,reverseDirection:l,tooltipDimension:o,viewBox:u,viewBoxDimension:h}=t;if(a&&Ne(a[n]))return a[n];var m=r[n]-o-(i>0?i:0),p=r[n]+i;if(e[n])return l[n]?m:p;var y=u[n];if(y==null)return 0;if(l[n]){var x=m,b=y;return x<b?Math.max(p,y):Math.max(m,y)}if(h==null)return 0;var N=p+o,j=y+h;return N>j?Math.max(m,y):Math.max(p,y)}function zK(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function IK(t){var{allowEscapeViewBox:e,coordinate:r,offsetTop:n,offsetLeft:i,position:a,reverseDirection:l,tooltipBox:o,useTranslate3d:u,viewBox:h}=t,m,p,y;return o.height>0&&o.width>0&&r?(p=bT({allowEscapeViewBox:e,coordinate:r,key:"x",offset:i,position:a,reverseDirection:l,tooltipDimension:o.width,viewBox:h,viewBoxDimension:h.width}),y=bT({allowEscapeViewBox:e,coordinate:r,key:"y",offset:n,position:a,reverseDirection:l,tooltipDimension:o.height,viewBox:h,viewBoxDimension:h.height}),m=zK({translateX:p,translateY:y,useTranslate3d:u})):m=LK,{cssProperties:m,cssClasses:BK({translateX:p,translateY:y,coordinate:r})}}function wT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wT(Object(r),!0).forEach(function(n){fw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fw(t,e,r){return(e=UK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UK(t){var e=qK(t,"string");return typeof e=="symbol"?e:e+""}function qK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class HK extends w.PureComponent{constructor(){super(...arguments),fw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),fw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:l,hasPayload:o,isAnimationActive:u,offset:h,position:m,reverseDirection:p,useTranslate3d:y,viewBox:x,wrapperStyle:b,lastBoundingBox:N,innerRef:j,hasPortalFromProps:C}=this.props,A=typeof h=="number"?h:h.x,k=typeof h=="number"?h:h.y,{cssClasses:T,cssProperties:D}=IK({allowEscapeViewBox:r,coordinate:l,offsetLeft:A,offsetTop:k,position:m,reverseDirection:p,tooltipBox:{height:N.height,width:N.width},useTranslate3d:y,viewBox:x}),M=C?{}:lm(lm({transition:u&&e?"transform ".concat(n,"ms ").concat(i):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),E=lm(lm({},M),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},b);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:T,style:E,ref:j},a)}}var sR=()=>{var t;return(t=Ee(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dw.apply(null,arguments)}function ST(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ST(Object(r),!0).forEach(function(n){$K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ST(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $K(t,e,r){return(e=VK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VK(t){var e=FK(t,"string");return typeof e=="symbol"?e:e+""}function FK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NT={curveBasisClosed:N$,curveBasisOpen:C$,curveBasis:j$,curveBumpX:c$,curveBumpY:u$,curveLinearClosed:k$,curveLinear:$g,curveMonotoneX:O$,curveMonotoneY:A$,curveNatural:E$,curveStep:T$,curveStepAfter:D$,curveStepBefore:M$},Op=t=>Ye(t.x)&&Ye(t.y),CT=t=>t.base!=null&&Op(t.base)&&Op(t),Ku=t=>t.x,Gu=t=>t.y,WK=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(ud(t));if((r==="curveMonotone"||r==="curveBump")&&e){var n=NT["".concat(r).concat(e==="vertical"?"Y":"X")];if(n)return n}return NT[r]||$g},kT={connectNulls:!1,type:"linear"},KK=t=>{var{type:e=kT.type,points:r=[],baseLine:n,layout:i,connectNulls:a=kT.connectNulls}=t,l=WK(e,i),o=a?r.filter(Op):r;if(Array.isArray(n)){var u,h=r.map((b,N)=>jT(jT({},b),{},{base:n[N]}));i==="vertical"?u=Jh().y(Gu).x1(Ku).x0(b=>b.base.x):u=Jh().x(Ku).y1(Gu).y0(b=>b.base.y);var m=u.defined(CT).curve(l),p=a?h.filter(CT):h;return m(p)}var y;i==="vertical"&&Ne(n)?y=Jh().y(Gu).x1(Ku).x0(n):Ne(n)?y=Jh().x(Ku).y1(Gu).y0(n):y=R_().x(Ku).y(Gu);var x=y.defined(Op).curve(l);return x(o)},lR=t=>{var{className:e,points:r,path:n,pathRef:i}=t,a=Rc();if((!r||!r.length)&&!n)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},o=r&&r.length?KK(l):n;return w.createElement("path",dw({},Ui(t),n2(t),{className:at("recharts-curve",e),d:o===null?void 0:o,ref:i}))},GK=["x","y","top","left","width","height","className"];function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hw.apply(null,arguments)}function OT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YK(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(r),!0).forEach(function(n){QK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QK(t,e,r){return(e=XK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XK(t){var e=ZK(t,"string");return typeof e=="symbol"?e:e+""}function ZK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JK(t,e){if(t==null)return{};var r,n,i=eG(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function eG(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var tG=(t,e,r,n,i,a)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(a,",").concat(e,"h").concat(r),rG=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:a=0,height:l=0,className:o}=t,u=JK(t,GK),h=YK({x:e,y:r,top:n,left:i,width:a,height:l},u);return!Ne(e)||!Ne(r)||!Ne(a)||!Ne(l)||!Ne(n)||!Ne(i)?null:w.createElement("path",hw({},Lr(h),{className:at("recharts-cross",o),d:tG(e,r,a,l,n,i)}))};function nG(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function AT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ET(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AT(Object(r),!0).forEach(function(n){iG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iG(t,e,r){return(e=aG(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aG(t){var e=sG(t,"string");return typeof e=="symbol"?e:e+""}function sG(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lG=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),oR=(t,e,r)=>t.map(n=>"".concat(lG(n)," ").concat(e,"ms ").concat(r)).join(","),oG=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),Pf=(t,e)=>Object.keys(e).reduce((r,n)=>ET(ET({},r),{},{[n]:t(n,e[n])}),{});function TT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TT(Object(r),!0).forEach(function(n){cG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cG(t,e,r){return(e=uG(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uG(t){var e=fG(t,"string");return typeof e=="symbol"?e:e+""}function fG(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ap=(t,e,r)=>t+(e-t)*r,mw=t=>{var{from:e,to:r}=t;return e!==r},cR=(t,e,r)=>{var n=Pf((i,a)=>{if(mw(a)){var[l,o]=t(a.from,a.to,a.velocity);return Vt(Vt({},a),{},{from:l,velocity:o})}return a},e);return r<1?Pf((i,a)=>mw(a)&&n[i]!=null?Vt(Vt({},a),{},{velocity:Ap(a.velocity,n[i].velocity,r),from:Ap(a.from,n[i].from,r)}):a,e):cR(t,n,r-1)};function dG(t,e,r,n,i,a){var l,o=n.reduce((y,x)=>Vt(Vt({},y),{},{[x]:{from:t[x],velocity:0,to:e[x]}}),{}),u=()=>Pf((y,x)=>x.from,o),h=()=>!Object.values(o).filter(mw).length,m=null,p=y=>{l||(l=y);var x=y-l,b=x/r.dt;o=cR(r,o,b),i(Vt(Vt(Vt({},t),e),u())),l=y,h()||(m=a.setTimeout(p))};return()=>(m=a.setTimeout(p),()=>{var y;(y=m)===null||y===void 0||y()})}function hG(t,e,r,n,i,a,l){var o=null,u=i.reduce((p,y)=>{var x=t[y],b=e[y];return x==null||b==null?p:Vt(Vt({},p),{},{[y]:[x,b]})},{}),h,m=p=>{h||(h=p);var y=(p-h)/n,x=Pf((N,j)=>Ap(...j,r(y)),u);if(a(Vt(Vt(Vt({},t),e),x)),y<1)o=l.setTimeout(m);else{var b=Pf((N,j)=>Ap(...j,r(1)),u);a(Vt(Vt(Vt({},t),e),b))}};return()=>(o=l.setTimeout(m),()=>{var p;(p=o)===null||p===void 0||p()})}const mG=(t,e,r,n,i,a)=>{var l=oG(t,e);return r==null?()=>(i(Vt(Vt({},t),e)),()=>{}):r.isStepper===!0?dG(t,e,r,l,i,a):hG(t,e,r,n,l,i,a)};var Ep=1e-4,uR=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],fR=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),MT=(t,e)=>r=>{var n=uR(t,e);return fR(n,r)},pG=(t,e)=>r=>{var n=uR(t,e),i=[...n.map((a,l)=>a*l).slice(1),0];return fR(i,r)},gG=t=>{var e,r=t.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(e=r[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},yG=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=gG(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},xG=(t,e,r,n)=>{var i=MT(t,r),a=MT(e,n),l=pG(t,r),o=h=>h>1?1:h<0?0:h,u=h=>{for(var m=h>1?1:h,p=m,y=0;y<8;++y){var x=i(p)-m,b=l(p);if(Math.abs(x-m)<Ep||b<Ep)return a(p);p=o(p-x/b)}return a(p)};return u.isStepper=!1,u},DT=function(){return xG(...yG(...arguments))},vG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,a=(l,o,u)=>{var h=-(l-o)*r,m=u*n,p=u+(h-m)*i/1e3,y=u*i/1e3+l;return Math.abs(y-o)<Ep&&Math.abs(p)<Ep?[o,0]:[y,p]};return a.isStepper=!0,a.dt=i,a},bG=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return DT(t);case"spring":return vG();default:if(t.split("(")[0]==="cubic-bezier")return DT(t)}return typeof t=="function"?t:null};function wG(t){var e,r=()=>null,n=!1,i=null,a=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var o=l,[u,...h]=o;if(typeof u=="number"){i=t.setTimeout(a.bind(null,h),u);return}a(u),i=t.setTimeout(a.bind(null,h));return}typeof l=="string"&&(e=l,r(e)),typeof l=="object"&&(e=l,r(e)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,i&&(i(),i=null),a(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>t}}class SG{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=l=>{l-n>=r?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function jG(){return wG(new SG)}var NG=w.createContext(jG);function CG(t,e){var r=w.useContext(NG);return w.useMemo(()=>e??r(t),[t,e,r])}var kG=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),u0={isSsr:kG()},OG={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},_T={t:0},vb={t:1};function v2(t){var e=Ar(t,OG),{isActive:r,canBegin:n,duration:i,easing:a,begin:l,onAnimationEnd:o,onAnimationStart:u,children:h}=e,m=r==="auto"?!u0.isSsr:r,p=CG(e.animationId,e.animationManager),[y,x]=w.useState(m?_T:vb),b=w.useRef(null);return w.useEffect(()=>{m||x(vb)},[m]),w.useEffect(()=>{if(!m||!n)return Pc;var N=mG(_T,vb,bG(a),i,x,p.getTimeoutController()),j=()=>{b.current=N()};return p.start([u,l,j,i,o]),()=>{p.stop(),b.current&&b.current(),o()}},[m,n,i,a,l,u,o,p]),h(y.t)}function b2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(Of(e)),n=w.useRef(t);return n.current!==t&&(r.current=Of(e),n.current=t),r.current}var AG=["radius"],EG=["radius"],PT,RT,LT,BT,zT,IT,UT,qT,HT,$T;function VT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VT(Object(r),!0).forEach(function(n){TG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TG(t,e,r){return(e=MG(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MG(t){var e=DG(t,"string");return typeof e=="symbol"?e:e+""}function DG(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tp(){return Tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tp.apply(null,arguments)}function WT(t,e){if(t==null)return{};var r,n,i=_G(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function _G(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function bi(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var KT=(t,e,r,n,i)=>{var a=ws(r),l=ws(n),o=Math.min(Math.abs(a)/2,Math.abs(l)/2),u=l>=0?1:-1,h=a>=0?1:-1,m=l>=0&&a>=0||l<0&&a<0?1:0,p;if(o>0&&Array.isArray(i)){for(var y=[0,0,0,0],x=0,b=4;x<b;x++){var N,j=(N=i[x])!==null&&N!==void 0?N:0;y[x]=j>o?o:j}p=Ot(PT||(PT=bi(["M",",",""])),t,e+u*y[0]),y[0]>0&&(p+=Ot(RT||(RT=bi(["A ",",",",0,0,",",",",",""])),y[0],y[0],m,t+h*y[0],e)),p+=Ot(LT||(LT=bi(["L ",",",""])),t+r-h*y[1],e),y[1]>0&&(p+=Ot(BT||(BT=bi(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],m,t+r,e+u*y[1])),p+=Ot(zT||(zT=bi(["L ",",",""])),t+r,e+n-u*y[2]),y[2]>0&&(p+=Ot(IT||(IT=bi(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],m,t+r-h*y[2],e+n)),p+=Ot(UT||(UT=bi(["L ",",",""])),t+h*y[3],e+n),y[3]>0&&(p+=Ot(qT||(qT=bi(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],m,t,e+n-u*y[3])),p+="Z"}else if(o>0&&i===+i&&i>0){var C=Math.min(o,i);p=Ot(HT||(HT=bi(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+u*C,C,C,m,t+h*C,e,t+r-h*C,e,C,C,m,t+r,e+u*C,t+r,e+n-u*C,C,C,m,t+r-h*C,e+n,t+h*C,e+n,C,C,m,t,e+n-u*C)}else p=Ot($T||($T=bi(["M ",","," h "," v "," h "," Z"])),t,e,r,n,-r);return p},GT={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dR=t=>{var e=Ar(t,GT),r=w.useRef(null),[n,i]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var F=r.current.getTotalLength();F&&i(F)}catch{}},[]);var{x:a,y:l,width:o,height:u,radius:h,className:m}=e,{animationEasing:p,animationDuration:y,animationBegin:x,isAnimationActive:b,isUpdateAnimationActive:N}=e,j=w.useRef(o),C=w.useRef(u),A=w.useRef(a),k=w.useRef(l),T=w.useMemo(()=>({x:a,y:l,width:o,height:u,radius:h}),[a,l,o,u,h]),D=b2(T,"rectangle-");if(a!==+a||l!==+l||o!==+o||u!==+u||o===0||u===0)return null;var M=at("recharts-rectangle",m);if(!N){var E=Lr(e),{radius:_}=E,L=WT(E,AG);return w.createElement("path",Tp({},L,{x:ws(a),y:ws(l),width:ws(o),height:ws(u),radius:typeof h=="number"?h:void 0,className:M,d:KT(a,l,o,u,h)}))}var I=j.current,z=C.current,R=A.current,U=k.current,W="0px ".concat(n===-1?1:n,"px"),$="".concat(n,"px 0px"),H=oR(["strokeDasharray"],y,typeof p=="string"?p:GT.animationEasing);return w.createElement(v2,{animationId:D,key:D,canBegin:n>0,duration:y,easing:p,isActive:N,begin:x},F=>{var Q=Gr(I,o,F),se=Gr(z,u,F),de=Gr(R,a,F),B=Gr(U,l,F);r.current&&(j.current=Q,C.current=se,A.current=de,k.current=B);var K;b?F>0?K={transition:H,strokeDasharray:$}:K={strokeDasharray:W}:K={strokeDasharray:$};var oe=Lr(e),{radius:J}=oe,he=WT(oe,EG);return w.createElement("path",Tp({},he,{radius:typeof h=="number"?h:void 0,className:M,d:KT(de,B,Q,se,h),ref:r,style:FT(FT({},K),e.style)}))})};function YT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YT(Object(r),!0).forEach(function(n){PG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PG(t,e,r){return(e=RG(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RG(t){var e=LG(t,"string");return typeof e=="symbol"?e:e+""}function LG(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mp=Math.PI/180,BG=t=>t*180/Math.PI,xr=(t,e,r,n)=>({x:t+Math.cos(-Mp*n)*r,y:e+Math.sin(-Mp*n)*r}),zG=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},IG=(t,e)=>{var{x:r,y:n}=t,{x:i,y:a}=e;return Math.sqrt((r-i)**2+(n-a)**2)},UG=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:a}=e,l=IG({x:r,y:n},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var o=(r-i)/l,u=Math.acos(o);return n>a&&(u=2*Math.PI-u),{radius:l,angle:BG(u),angleInRadian:u}},qG=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:e-a*360,endAngle:r-a*360}},HG=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),a=Math.floor(n/360),l=Math.min(i,a);return t+l*360},$G=(t,e)=>{var{chartX:r,chartY:n}=t,{radius:i,angle:a}=UG({x:r,y:n},e),{innerRadius:l,outerRadius:o}=e;if(i<l||i>o||i===0)return null;var{startAngle:u,endAngle:h}=qG(e),m=a,p;if(u<=h){for(;m>h;)m-=360;for(;m<u;)m+=360;p=m>=u&&m<=h}else{for(;m>u;)m-=360;for(;m<h;)m+=360;p=m>=h&&m<=u}return p?QT(QT({},e),{},{radius:i,angle:HG(m,e)}):null};function hR(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:a}=t,l=xr(e,r,n,i),o=xr(e,r,n,a);return{points:[l,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}var XT,ZT,JT,eM,tM,rM,nM;function pw(){return pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pw.apply(null,arguments)}function wl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var VG=(t,e)=>{var r=$n(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},om=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:a,isExternal:l,cornerRadius:o,cornerIsExternal:u}=t,h=o*(l?1:-1)+n,m=Math.asin(o/h)/Mp,p=u?i:i+a*m,y=xr(e,r,h,p),x=xr(e,r,n,p),b=u?i-a*m:i,N=xr(e,r,h*Math.cos(m*Mp),b);return{center:y,circleTangency:x,lineTangency:N,theta:m}},mR=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:l}=t,o=VG(a,l),u=a+o,h=xr(e,r,i,a),m=xr(e,r,i,u),p=Ot(XT||(XT=wl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(o)>180),+(a>u),m.x,m.y);if(n>0){var y=xr(e,r,n,a),x=xr(e,r,n,u);p+=Ot(ZT||(ZT=wl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,n,n,+(Math.abs(o)>180),+(a<=u),y.x,y.y)}else p+=Ot(JT||(JT=wl(["L ",","," Z"])),e,r);return p},FG=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:o,startAngle:u,endAngle:h}=t,m=$n(h-u),{circleTangency:p,lineTangency:y,theta:x}=om({cx:e,cy:r,radius:i,angle:u,sign:m,cornerRadius:a,cornerIsExternal:o}),{circleTangency:b,lineTangency:N,theta:j}=om({cx:e,cy:r,radius:i,angle:h,sign:-m,cornerRadius:a,cornerIsExternal:o}),C=o?Math.abs(u-h):Math.abs(u-h)-x-j;if(C<0)return l?Ot(eM||(eM=wl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,a,a,a*2,a,a,-a*2):mR({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:u,endAngle:h});var A=Ot(tM||(tM=wl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,a,a,+(m<0),p.x,p.y,i,i,+(C>180),+(m<0),b.x,b.y,a,a,+(m<0),N.x,N.y);if(n>0){var{circleTangency:k,lineTangency:T,theta:D}=om({cx:e,cy:r,radius:n,angle:u,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:M,lineTangency:E,theta:_}=om({cx:e,cy:r,radius:n,angle:h,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),L=o?Math.abs(u-h):Math.abs(u-h)-D-_;if(L<0&&a===0)return"".concat(A,"L").concat(e,",").concat(r,"Z");A+=Ot(rM||(rM=wl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),E.x,E.y,a,a,+(m<0),M.x,M.y,n,n,+(L>180),+(m>0),k.x,k.y,a,a,+(m<0),T.x,T.y)}else A+=Ot(nM||(nM=wl(["L",",","Z"])),e,r);return A},WG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},pR=t=>{var e=Ar(t,WG),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:u,startAngle:h,endAngle:m,className:p}=e;if(a<i||h===m)return null;var y=at("recharts-sector",p),x=a-i,b=Ds(l,x,0,!0),N;return b>0&&Math.abs(h-m)<360?N=FG({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(b,x/2),forceCornerRadius:o,cornerIsExternal:u,startAngle:h,endAngle:m}):N=mR({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:h,endAngle:m}),w.createElement("path",pw({},Lr(e),{className:y,d:N}))};function KG(t,e,r){if(t==="horizontal")return[{x:e.x,y:r.top},{x:e.x,y:r.top+r.height}];if(t==="vertical")return[{x:r.left,y:e.y},{x:r.left+r.width,y:e.y}];if(Q_(e)){if(t==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:l,angle:o}=e,u=xr(n,i,a,o),h=xr(n,i,l,o);return[{x:u.x,y:u.y},{x:h.x,y:h.y}]}return hR(e)}}var bb={},wb={},Sb={},iM;function GG(){return iM||(iM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oP();function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(Sb)),Sb}var aM;function YG(){return aM||(aM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GG();function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(wb)),wb}var sM;function QG(){return sM||(sM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cP(),r=YG();function n(i,a,l){l&&typeof l!="number"&&e.isIterateeCall(i,a,l)&&(a=l=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),l=l===void 0?i<a?1:-1:r.toFinite(l);const o=Math.max(Math.ceil((a-i)/(l||1)),0),u=new Array(o);for(let h=0;h<o;h++)u[h]=i,i+=l;return u}t.range=n})(bb)),bb}var jb,lM;function XG(){return lM||(lM=1,jb=QG().range),jb}var ZG=XG();const gR=Vi(ZG);function Cs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function JG(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function w2(t){let e,r,n;t.length!==2?(e=Cs,r=(o,u)=>Cs(t(o),u),n=(o,u)=>t(o)-u):(e=t===Cs||t===JG?t:eY,r=t,n=t);function i(o,u,h=0,m=o.length){if(h<m){if(e(u,u)!==0)return m;do{const p=h+m>>>1;r(o[p],u)<0?h=p+1:m=p}while(h<m)}return h}function a(o,u,h=0,m=o.length){if(h<m){if(e(u,u)!==0)return m;do{const p=h+m>>>1;r(o[p],u)<=0?h=p+1:m=p}while(h<m)}return h}function l(o,u,h=0,m=o.length){const p=i(o,u,h,m-1);return p>h&&n(o[p-1],u)>-n(o[p],u)?p-1:p}return{left:i,center:l,right:a}}function eY(){return 0}function yR(t){return t===null?NaN:+t}function*tY(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const rY=w2(Cs),yd=rY.right;w2(yR).center;class oM extends Map{constructor(e,r=aY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(cM(this,e))}has(e){return super.has(cM(this,e))}set(e,r){return super.set(nY(this,e),r)}delete(e){return super.delete(iY(this,e))}}function cM({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function nY({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function iY({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function aY(t){return t!==null&&typeof t=="object"?t.valueOf():t}function sY(t=Cs){if(t===Cs)return xR;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function xR(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const lY=Math.sqrt(50),oY=Math.sqrt(10),cY=Math.sqrt(2);function Dp(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),l=a>=lY?10:a>=oY?5:a>=cY?2:1;let o,u,h;return i<0?(h=Math.pow(10,-i)/l,o=Math.round(t*h),u=Math.round(e*h),o/h<t&&++o,u/h>e&&--u,h=-h):(h=Math.pow(10,i)*l,o=Math.round(t/h),u=Math.round(e/h),o*h<t&&++o,u*h>e&&--u),u<o&&.5<=r&&r<2?Dp(t,e,r*2):[o,u,h]}function gw(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,l]=n?Dp(e,t,r):Dp(t,e,r);if(!(a>=i))return[];const o=a-i+1,u=new Array(o);if(n)if(l<0)for(let h=0;h<o;++h)u[h]=(a-h)/-l;else for(let h=0;h<o;++h)u[h]=(a-h)*l;else if(l<0)for(let h=0;h<o;++h)u[h]=(i+h)/-l;else for(let h=0;h<o;++h)u[h]=(i+h)*l;return u}function yw(t,e,r){return e=+e,t=+t,r=+r,Dp(t,e,r)[2]}function xw(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?yw(e,t,r):yw(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function uM(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function fM(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function vR(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?xR:sY(i);n>r;){if(n-r>600){const u=n-r+1,h=e-r+1,m=Math.log(u),p=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*p*(u-p)/u)*(h-u/2<0?-1:1),x=Math.max(r,Math.floor(e-h*p/u+y)),b=Math.min(n,Math.floor(e+(u-h)*p/u+y));vR(t,e,x,b,i)}const a=t[e];let l=r,o=n;for(Yu(t,r,e),i(t[n],a)>0&&Yu(t,r,n);l<o;){for(Yu(t,l,o),++l,--o;i(t[l],a)<0;)++l;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?Yu(t,r,o):(++o,Yu(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Yu(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function uY(t,e,r){if(t=Float64Array.from(tY(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return fM(t);if(e>=1)return uM(t);var n,i=(n-1)*e,a=Math.floor(i),l=uM(vR(t,a).subarray(0,a+1)),o=fM(t.subarray(a+1));return l+(o-l)*(i-a)}}function fY(t,e,r=yR){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),l=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return l+(o-l)*(i-a)}}function dY(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Zn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ba(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const vw=Symbol("implicit");function S2(){var t=new oM,e=[],r=[],n=vw;function i(a){let l=t.get(a);if(l===void 0){if(n!==vw)return n;t.set(a,l=e.push(a)-1)}return r[l%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new oM;for(const l of a)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return S2(e,r).unknown(n)},Zn.apply(i,arguments),i}function j2(){var t=S2().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,l,o=!1,u=0,h=0,m=.5;delete t.unknown;function p(){var y=e().length,x=i<n,b=x?i:n,N=x?n:i;a=(N-b)/Math.max(1,y-u+h*2),o&&(a=Math.floor(a)),b+=(N-b-a*(y-u))*m,l=a*(1-u),o&&(b=Math.round(b),l=Math.round(l));var j=dY(y).map(function(C){return b+a*C});return r(x?j.reverse():j)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,o=!0,p()},t.bandwidth=function(){return l},t.step=function(){return a},t.round=function(y){return arguments.length?(o=!!y,p()):o},t.padding=function(y){return arguments.length?(u=Math.min(1,h=+y),p()):u},t.paddingInner=function(y){return arguments.length?(u=Math.min(1,y),p()):u},t.paddingOuter=function(y){return arguments.length?(h=+y,p()):h},t.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),p()):m},t.copy=function(){return j2(e(),[n,i]).round(o).paddingInner(u).paddingOuter(h).align(m)},Zn.apply(p(),arguments)}function bR(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return bR(e())},t}function hY(){return bR(j2.apply(null,arguments).paddingInner(1))}function N2(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function wR(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function xd(){}var Rf=.7,_p=1/Rf,nc="\\s*([+-]?\\d+)\\s*",Lf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mY=/^#([0-9a-f]{3,8})$/,pY=new RegExp(`^rgb\\(${nc},${nc},${nc}\\)$`),gY=new RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),yY=new RegExp(`^rgba\\(${nc},${nc},${nc},${Lf}\\)$`),xY=new RegExp(`^rgba\\(${Li},${Li},${Li},${Lf}\\)$`),vY=new RegExp(`^hsl\\(${Lf},${Li},${Li}\\)$`),bY=new RegExp(`^hsla\\(${Lf},${Li},${Li},${Lf}\\)$`),dM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};N2(xd,Bf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:hM,formatHex:hM,formatHex8:wY,formatHsl:SY,formatRgb:mM,toString:mM});function hM(){return this.rgb().formatHex()}function wY(){return this.rgb().formatHex8()}function SY(){return SR(this).formatHsl()}function mM(){return this.rgb().formatRgb()}function Bf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=mY.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?pM(e):r===3?new Xr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?cm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?cm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=pY.exec(t))?new Xr(e[1],e[2],e[3],1):(e=gY.exec(t))?new Xr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=yY.exec(t))?cm(e[1],e[2],e[3],e[4]):(e=xY.exec(t))?cm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=vY.exec(t))?xM(e[1],e[2]/100,e[3]/100,1):(e=bY.exec(t))?xM(e[1],e[2]/100,e[3]/100,e[4]):dM.hasOwnProperty(t)?pM(dM[t]):t==="transparent"?new Xr(NaN,NaN,NaN,0):null}function pM(t){return new Xr(t>>16&255,t>>8&255,t&255,1)}function cm(t,e,r,n){return n<=0&&(t=e=r=NaN),new Xr(t,e,r,n)}function jY(t){return t instanceof xd||(t=Bf(t)),t?(t=t.rgb(),new Xr(t.r,t.g,t.b,t.opacity)):new Xr}function bw(t,e,r,n){return arguments.length===1?jY(t):new Xr(t,e,r,n??1)}function Xr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}N2(Xr,bw,wR(xd,{brighter(t){return t=t==null?_p:Math.pow(_p,t),new Xr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Rf:Math.pow(Rf,t),new Xr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Xr(Tl(this.r),Tl(this.g),Tl(this.b),Pp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gM,formatHex:gM,formatHex8:NY,formatRgb:yM,toString:yM}));function gM(){return`#${Sl(this.r)}${Sl(this.g)}${Sl(this.b)}`}function NY(){return`#${Sl(this.r)}${Sl(this.g)}${Sl(this.b)}${Sl((isNaN(this.opacity)?1:this.opacity)*255)}`}function yM(){const t=Pp(this.opacity);return`${t===1?"rgb(":"rgba("}${Tl(this.r)}, ${Tl(this.g)}, ${Tl(this.b)}${t===1?")":`, ${t})`}`}function Pp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Tl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Sl(t){return t=Tl(t),(t<16?"0":"")+t.toString(16)}function xM(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ai(t,e,r,n)}function SR(t){if(t instanceof ai)return new ai(t.h,t.s,t.l,t.opacity);if(t instanceof xd||(t=Bf(t)),!t)return new ai;if(t instanceof ai)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),l=NaN,o=a-i,u=(a+i)/2;return o?(e===a?l=(r-n)/o+(r<n)*6:r===a?l=(n-e)/o+2:l=(e-r)/o+4,o/=u<.5?a+i:2-a-i,l*=60):o=u>0&&u<1?0:l,new ai(l,o,u,t.opacity)}function CY(t,e,r,n){return arguments.length===1?SR(t):new ai(t,e,r,n??1)}function ai(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}N2(ai,CY,wR(xd,{brighter(t){return t=t==null?_p:Math.pow(_p,t),new ai(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Rf:Math.pow(Rf,t),new ai(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Xr(Nb(t>=240?t-240:t+120,i,n),Nb(t,i,n),Nb(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ai(vM(this.h),um(this.s),um(this.l),Pp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Pp(this.opacity);return`${t===1?"hsl(":"hsla("}${vM(this.h)}, ${um(this.s)*100}%, ${um(this.l)*100}%${t===1?")":`, ${t})`}`}}));function vM(t){return t=(t||0)%360,t<0?t+360:t}function um(t){return Math.max(0,Math.min(1,t||0))}function Nb(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const C2=t=>()=>t;function kY(t,e){return function(r){return t+r*e}}function OY(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function AY(t){return(t=+t)==1?jR:function(e,r){return r-e?OY(e,r,t):C2(isNaN(e)?r:e)}}function jR(t,e){var r=e-t;return r?kY(t,r):C2(isNaN(t)?e:t)}const bM=(function t(e){var r=AY(e);function n(i,a){var l=r((i=bw(i)).r,(a=bw(a)).r),o=r(i.g,a.g),u=r(i.b,a.b),h=jR(i.opacity,a.opacity);return function(m){return i.r=l(m),i.g=o(m),i.b=u(m),i.opacity=h(m),i+""}}return n.gamma=t,n})(1);function EY(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function TY(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function MY(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),l;for(l=0;l<n;++l)i[l]=Lc(t[l],e[l]);for(;l<r;++l)a[l]=e[l];return function(o){for(l=0;l<n;++l)a[l]=i[l](o);return a}}function DY(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Rp(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function _Y(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Lc(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var ww=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cb=new RegExp(ww.source,"g");function PY(t){return function(){return t}}function RY(t){return function(e){return t(e)+""}}function LY(t,e){var r=ww.lastIndex=Cb.lastIndex=0,n,i,a,l=-1,o=[],u=[];for(t=t+"",e=e+"";(n=ww.exec(t))&&(i=Cb.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[l]?o[l]+=a:o[++l]=a),(n=n[0])===(i=i[0])?o[l]?o[l]+=i:o[++l]=i:(o[++l]=null,u.push({i:l,x:Rp(n,i)})),r=Cb.lastIndex;return r<e.length&&(a=e.slice(r),o[l]?o[l]+=a:o[++l]=a),o.length<2?u[0]?RY(u[0].x):PY(e):(e=u.length,function(h){for(var m=0,p;m<e;++m)o[(p=u[m]).i]=p.x(h);return o.join("")})}function Lc(t,e){var r=typeof e,n;return e==null||r==="boolean"?C2(e):(r==="number"?Rp:r==="string"?(n=Bf(e))?(e=n,bM):LY:e instanceof Bf?bM:e instanceof Date?DY:TY(e)?EY:Array.isArray(e)?MY:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?_Y:Rp)(t,e)}function k2(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function BY(t,e){e===void 0&&(e=t,t=Lc);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(l){var o=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return a[o](l-o)}}function zY(t){return function(){return t}}function Lp(t){return+t}var wM=[0,1];function _r(t){return t}function Sw(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:zY(isNaN(e)?NaN:.5)}function IY(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function UY(t,e,r){var n=t[0],i=t[1],a=e[0],l=e[1];return i<n?(n=Sw(i,n),a=r(l,a)):(n=Sw(n,i),a=r(a,l)),function(o){return a(n(o))}}function qY(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),l=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<n;)i[l]=Sw(t[l],t[l+1]),a[l]=r(e[l],e[l+1]);return function(o){var u=yd(t,o,1,n)-1;return a[u](i[u](o))}}function vd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function f0(){var t=wM,e=wM,r=Lc,n,i,a,l=_r,o,u,h;function m(){var y=Math.min(t.length,e.length);return l!==_r&&(l=IY(t[0],t[y-1])),o=y>2?qY:UY,u=h=null,p}function p(y){return y==null||isNaN(y=+y)?a:(u||(u=o(t.map(n),e,r)))(n(l(y)))}return p.invert=function(y){return l(i((h||(h=o(e,t.map(n),Rp)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,Lp),m()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),m()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),r=k2,m()},p.clamp=function(y){return arguments.length?(l=y?!0:_r,m()):l!==_r},p.interpolate=function(y){return arguments.length?(r=y,m()):r},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,x){return n=y,i=x,m()}}function O2(){return f0()(_r,_r)}function HY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Bp(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function yc(t){return t=Bp(Math.abs(t)),t?t[1]:NaN}function $Y(t,e){return function(r,n){for(var i=r.length,a=[],l=0,o=t[0],u=0;i>0&&o>0&&(u+o+1>n&&(o=Math.max(1,n-u)),a.push(r.substring(i-=o,i+o)),!((u+=o+1)>n));)o=t[l=(l+1)%t.length];return a.reverse().join(e)}}function VY(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var FY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zf(t){if(!(e=FY.exec(t)))throw new Error("invalid format: "+t);var e;return new A2({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}zf.prototype=A2.prototype;function A2(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}A2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function WY(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var zp;function KY(t,e){var r=Bp(t,e);if(!r)return zp=void 0,t.toPrecision(e);var n=r[0],i=r[1],a=i-(zp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return a===l?n:a>l?n+new Array(a-l+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Bp(t,Math.max(0,e+a-1))[0]}function SM(t,e){var r=Bp(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const jM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:HY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>SM(t*100,e),r:SM,s:KY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function NM(t){return t}var CM=Array.prototype.map,kM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function GY(t){var e=t.grouping===void 0||t.thousands===void 0?NM:$Y(CM.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?NM:VY(CM.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function h(p,y){p=zf(p);var x=p.fill,b=p.align,N=p.sign,j=p.symbol,C=p.zero,A=p.width,k=p.comma,T=p.precision,D=p.trim,M=p.type;M==="n"?(k=!0,M="g"):jM[M]||(T===void 0&&(T=12),D=!0,M="g"),(C||x==="0"&&b==="=")&&(C=!0,x="0",b="=");var E=(y&&y.prefix!==void 0?y.prefix:"")+(j==="$"?r:j==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():""),_=(j==="$"?n:/[%p]/.test(M)?l:"")+(y&&y.suffix!==void 0?y.suffix:""),L=jM[M],I=/[defgprs%]/.test(M);T=T===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function z(R){var U=E,W=_,$,H,F;if(M==="c")W=L(R)+W,R="";else{R=+R;var Q=R<0||1/R<0;if(R=isNaN(R)?u:L(Math.abs(R),T),D&&(R=WY(R)),Q&&+R==0&&N!=="+"&&(Q=!1),U=(Q?N==="("?N:o:N==="-"||N==="("?"":N)+U,W=(M==="s"&&!isNaN(R)&&zp!==void 0?kM[8+zp/3]:"")+W+(Q&&N==="("?")":""),I){for($=-1,H=R.length;++$<H;)if(F=R.charCodeAt($),48>F||F>57){W=(F===46?i+R.slice($+1):R.slice($))+W,R=R.slice(0,$);break}}}k&&!C&&(R=e(R,1/0));var se=U.length+R.length+W.length,de=se<A?new Array(A-se+1).join(x):"";switch(k&&C&&(R=e(de+R,de.length?A-W.length:1/0),de=""),b){case"<":R=U+R+W+de;break;case"=":R=U+de+R+W;break;case"^":R=de.slice(0,se=de.length>>1)+U+R+W+de.slice(se);break;default:R=de+U+R+W;break}return a(R)}return z.toString=function(){return p+""},z}function m(p,y){var x=Math.max(-8,Math.min(8,Math.floor(yc(y)/3)))*3,b=Math.pow(10,-x),N=h((p=zf(p),p.type="f",p),{suffix:kM[8+x/3]});return function(j){return N(b*j)}}return{format:h,formatPrefix:m}}var fm,E2,NR;YY({thousands:",",grouping:[3],currency:["$",""]});function YY(t){return fm=GY(t),E2=fm.format,NR=fm.formatPrefix,fm}function QY(t){return Math.max(0,-yc(Math.abs(t)))}function XY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yc(e)/3)))*3-yc(Math.abs(t)))}function ZY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,yc(e)-yc(t))+1}function CR(t,e,r,n){var i=xw(t,e,r),a;switch(n=zf(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=XY(i,l))&&(n.precision=a),NR(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=ZY(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=QY(i))&&(n.precision=a-(n.type==="%")*2);break}}return E2(n)}function qs(t){var e=t.domain;return t.ticks=function(r){var n=e();return gw(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return CR(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,l=n[i],o=n[a],u,h,m=10;for(o<l&&(h=l,l=o,o=h,h=i,i=a,a=h);m-- >0;){if(h=yw(l,o,r),h===u)return n[i]=l,n[a]=o,e(n);if(h>0)l=Math.floor(l/h)*h,o=Math.ceil(o/h)*h;else if(h<0)l=Math.ceil(l*h)/h,o=Math.floor(o*h)/h;else break;u=h}return t},t}function kR(){var t=O2();return t.copy=function(){return vd(t,kR())},Zn.apply(t,arguments),qs(t)}function OR(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Lp),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return OR(t).unknown(e)},t=arguments.length?Array.from(t,Lp):[0,1],qs(r)}function AR(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],l;return a<i&&(l=r,r=n,n=l,l=i,i=a,a=l),t[r]=e.floor(i),t[n]=e.ceil(a),t}function OM(t){return Math.log(t)}function AM(t){return Math.exp(t)}function JY(t){return-Math.log(-t)}function eQ(t){return-Math.exp(-t)}function tQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function rQ(t){return t===10?tQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function nQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function EM(t){return(e,r)=>-t(-e,r)}function T2(t){const e=t(OM,AM),r=e.domain;let n=10,i,a;function l(){return i=nQ(n),a=rQ(n),r()[0]<0?(i=EM(i),a=EM(a),t(JY,eQ)):t(OM,AM),e}return e.base=function(o){return arguments.length?(n=+o,l()):n},e.domain=function(o){return arguments.length?(r(o),l()):r()},e.ticks=o=>{const u=r();let h=u[0],m=u[u.length-1];const p=m<h;p&&([h,m]=[m,h]);let y=i(h),x=i(m),b,N;const j=o==null?10:+o;let C=[];if(!(n%1)&&x-y<j){if(y=Math.floor(y),x=Math.ceil(x),h>0){for(;y<=x;++y)for(b=1;b<n;++b)if(N=y<0?b/a(-y):b*a(y),!(N<h)){if(N>m)break;C.push(N)}}else for(;y<=x;++y)for(b=n-1;b>=1;--b)if(N=y>0?b/a(-y):b*a(y),!(N<h)){if(N>m)break;C.push(N)}C.length*2<j&&(C=gw(h,m,j))}else C=gw(y,x,Math.min(x-y,j)).map(a);return p?C.reverse():C},e.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=zf(u)).precision==null&&(u.trim=!0),u=E2(u)),o===1/0)return u;const h=Math.max(1,n*o/e.ticks().length);return m=>{let p=m/a(Math.round(i(m)));return p*n<n-.5&&(p*=n),p<=h?u(m):""}},e.nice=()=>r(AR(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function ER(){const t=T2(f0()).domain([1,10]);return t.copy=()=>vd(t,ER()).base(t.base()),Zn.apply(t,arguments),t}function TM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function MM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function M2(t){var e=1,r=t(TM(e),MM(e));return r.constant=function(n){return arguments.length?t(TM(e=+n),MM(e)):e},qs(r)}function TR(){var t=M2(f0());return t.copy=function(){return vd(t,TR()).constant(t.constant())},Zn.apply(t,arguments)}function DM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function iQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function aQ(t){return t<0?-t*t:t*t}function D2(t){var e=t(_r,_r),r=1;function n(){return r===1?t(_r,_r):r===.5?t(iQ,aQ):t(DM(r),DM(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},qs(e)}function _2(){var t=D2(f0());return t.copy=function(){return vd(t,_2()).exponent(t.exponent())},Zn.apply(t,arguments),t}function sQ(){return _2.apply(null,arguments).exponent(.5)}function _M(t){return Math.sign(t)*t*t}function lQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function MR(){var t=O2(),e=[0,1],r=!1,n;function i(a){var l=lQ(t(a));return isNaN(l)?n:r?Math.round(l):l}return i.invert=function(a){return t.invert(_M(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Lp)).map(_M)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return MR(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Zn.apply(i,arguments),qs(i)}function DR(){var t=[],e=[],r=[],n;function i(){var l=0,o=Math.max(1,e.length);for(r=new Array(o-1);++l<o;)r[l-1]=fY(t,l/o);return a}function a(l){return l==null||isNaN(l=+l)?n:e[yd(r,l)]}return a.invertExtent=function(l){var o=e.indexOf(l);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let o of l)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Cs),i()},a.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},a.unknown=function(l){return arguments.length?(n=l,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return DR().domain(t).range(e).unknown(n)},Zn.apply(a,arguments)}function _R(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function l(u){return u!=null&&u<=u?i[yd(n,u,0,r)]:a}function o(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*e-(u-r)*t)/(r+1);return l}return l.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,o()):[t,e]},l.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,o()):i.slice()},l.invertExtent=function(u){var h=i.indexOf(u);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},l.unknown=function(u){return arguments.length&&(a=u),l},l.thresholds=function(){return n.slice()},l.copy=function(){return _R().domain([t,e]).range(i).unknown(a)},Zn.apply(qs(l),arguments)}function PR(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[yd(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var l=e.indexOf(a);return[t[l-1],t[l]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return PR().domain(t).range(e).unknown(r)},Zn.apply(i,arguments)}const kb=new Date,Ob=new Date;function Gt(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const l=i(a),o=i.ceil(a);return a-l<o-a?l:o},i.offset=(a,l)=>(e(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,o)=>{const u=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<l)||!(o>0))return u;let h;do u.push(h=new Date(+a)),e(a,o),t(a);while(h<a&&a<l);return u},i.filter=a=>Gt(l=>{if(l>=l)for(;t(l),!a(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;e(l,-1),!a(l););else for(;--o>=0;)for(;e(l,1),!a(l););}),r&&(i.count=(a,l)=>(kb.setTime(+a),Ob.setTime(+l),t(kb),t(Ob),Math.floor(r(kb,Ob))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?l=>n(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const Ip=Gt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ip.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Gt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Ip);Ip.range;const ya=1e3,Vn=ya*60,xa=Vn*60,Ca=xa*24,P2=Ca*7,PM=Ca*30,Ab=Ca*365,jl=Gt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ya)},(t,e)=>(e-t)/ya,t=>t.getUTCSeconds());jl.range;const R2=Gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ya)},(t,e)=>{t.setTime(+t+e*Vn)},(t,e)=>(e-t)/Vn,t=>t.getMinutes());R2.range;const L2=Gt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Vn)},(t,e)=>(e-t)/Vn,t=>t.getUTCMinutes());L2.range;const B2=Gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ya-t.getMinutes()*Vn)},(t,e)=>{t.setTime(+t+e*xa)},(t,e)=>(e-t)/xa,t=>t.getHours());B2.range;const z2=Gt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*xa)},(t,e)=>(e-t)/xa,t=>t.getUTCHours());z2.range;const bd=Gt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Vn)/Ca,t=>t.getDate()-1);bd.range;const d0=Gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ca,t=>t.getUTCDate()-1);d0.range;const RR=Gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ca,t=>Math.floor(t/Ca));RR.range;function Zl(t){return Gt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Vn)/P2)}const h0=Zl(0),Up=Zl(1),oQ=Zl(2),cQ=Zl(3),xc=Zl(4),uQ=Zl(5),fQ=Zl(6);h0.range;Up.range;oQ.range;cQ.range;xc.range;uQ.range;fQ.range;function Jl(t){return Gt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/P2)}const m0=Jl(0),qp=Jl(1),dQ=Jl(2),hQ=Jl(3),vc=Jl(4),mQ=Jl(5),pQ=Jl(6);m0.range;qp.range;dQ.range;hQ.range;vc.range;mQ.range;pQ.range;const I2=Gt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());I2.range;const U2=Gt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());U2.range;const ka=Gt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ka.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ka.range;const Oa=Gt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Oa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Oa.range;function LR(t,e,r,n,i,a){const l=[[jl,1,ya],[jl,5,5*ya],[jl,15,15*ya],[jl,30,30*ya],[a,1,Vn],[a,5,5*Vn],[a,15,15*Vn],[a,30,30*Vn],[i,1,xa],[i,3,3*xa],[i,6,6*xa],[i,12,12*xa],[n,1,Ca],[n,2,2*Ca],[r,1,P2],[e,1,PM],[e,3,3*PM],[t,1,Ab]];function o(h,m,p){const y=m<h;y&&([h,m]=[m,h]);const x=p&&typeof p.range=="function"?p:u(h,m,p),b=x?x.range(h,+m+1):[];return y?b.reverse():b}function u(h,m,p){const y=Math.abs(m-h)/p,x=w2(([,,j])=>j).right(l,y);if(x===l.length)return t.every(xw(h/Ab,m/Ab,p));if(x===0)return Ip.every(Math.max(xw(h,m,p),1));const[b,N]=l[y/l[x-1][2]<l[x][2]/y?x-1:x];return b.every(N)}return[o,u]}const[gQ,yQ]=LR(Oa,U2,m0,RR,z2,L2),[xQ,vQ]=LR(ka,I2,h0,bd,B2,R2);function Eb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Tb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Qu(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function bQ(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,l=t.shortDays,o=t.months,u=t.shortMonths,h=Xu(i),m=Zu(i),p=Xu(a),y=Zu(a),x=Xu(l),b=Zu(l),N=Xu(o),j=Zu(o),C=Xu(u),A=Zu(u),k={a:F,A:Q,b:se,B:de,c:null,d:UM,e:UM,f:$Q,g:JQ,G:tX,H:UQ,I:qQ,j:HQ,L:BR,m:VQ,M:FQ,p:B,q:K,Q:$M,s:VM,S:WQ,u:KQ,U:GQ,V:YQ,w:QQ,W:XQ,x:null,X:null,y:ZQ,Y:eX,Z:rX,"%":HM},T={a:oe,A:J,b:he,B:Y,c:null,d:qM,e:qM,f:sX,g:gX,G:xX,H:nX,I:iX,j:aX,L:IR,m:lX,M:oX,p:me,q:De,Q:$M,s:VM,S:cX,u:uX,U:fX,V:dX,w:hX,W:mX,x:null,X:null,y:pX,Y:yX,Z:vX,"%":HM},D={a:I,A:z,b:R,B:U,c:W,d:zM,e:zM,f:LQ,g:BM,G:LM,H:IM,I:IM,j:DQ,L:RQ,m:MQ,M:_Q,p:L,q:TQ,Q:zQ,s:IQ,S:PQ,u:CQ,U:kQ,V:OQ,w:NQ,W:AQ,x:$,X:H,y:BM,Y:LM,Z:EQ,"%":BQ};k.x=M(r,k),k.X=M(n,k),k.c=M(e,k),T.x=M(r,T),T.X=M(n,T),T.c=M(e,T);function M(ne,je){return function(Te){var fe=[],jt=-1,Fe=0,lr=ne.length,or,Gi,Yc;for(Te instanceof Date||(Te=new Date(+Te));++jt<lr;)ne.charCodeAt(jt)===37&&(fe.push(ne.slice(Fe,jt)),(Gi=RM[or=ne.charAt(++jt)])!=null?or=ne.charAt(++jt):Gi=or==="e"?" ":"0",(Yc=je[or])&&(or=Yc(Te,Gi)),fe.push(or),Fe=jt+1);return fe.push(ne.slice(Fe,jt)),fe.join("")}}function E(ne,je){return function(Te){var fe=Qu(1900,void 0,1),jt=_(fe,ne,Te+="",0),Fe,lr;if(jt!=Te.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(je&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(Fe=Tb(Qu(fe.y,0,1)),lr=Fe.getUTCDay(),Fe=lr>4||lr===0?qp.ceil(Fe):qp(Fe),Fe=d0.offset(Fe,(fe.V-1)*7),fe.y=Fe.getUTCFullYear(),fe.m=Fe.getUTCMonth(),fe.d=Fe.getUTCDate()+(fe.w+6)%7):(Fe=Eb(Qu(fe.y,0,1)),lr=Fe.getDay(),Fe=lr>4||lr===0?Up.ceil(Fe):Up(Fe),Fe=bd.offset(Fe,(fe.V-1)*7),fe.y=Fe.getFullYear(),fe.m=Fe.getMonth(),fe.d=Fe.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),lr="Z"in fe?Tb(Qu(fe.y,0,1)).getUTCDay():Eb(Qu(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(lr+5)%7:fe.w+fe.U*7-(lr+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,Tb(fe)):Eb(fe)}}function _(ne,je,Te,fe){for(var jt=0,Fe=je.length,lr=Te.length,or,Gi;jt<Fe;){if(fe>=lr)return-1;if(or=je.charCodeAt(jt++),or===37){if(or=je.charAt(jt++),Gi=D[or in RM?je.charAt(jt++):or],!Gi||(fe=Gi(ne,Te,fe))<0)return-1}else if(or!=Te.charCodeAt(fe++))return-1}return fe}function L(ne,je,Te){var fe=h.exec(je.slice(Te));return fe?(ne.p=m.get(fe[0].toLowerCase()),Te+fe[0].length):-1}function I(ne,je,Te){var fe=x.exec(je.slice(Te));return fe?(ne.w=b.get(fe[0].toLowerCase()),Te+fe[0].length):-1}function z(ne,je,Te){var fe=p.exec(je.slice(Te));return fe?(ne.w=y.get(fe[0].toLowerCase()),Te+fe[0].length):-1}function R(ne,je,Te){var fe=C.exec(je.slice(Te));return fe?(ne.m=A.get(fe[0].toLowerCase()),Te+fe[0].length):-1}function U(ne,je,Te){var fe=N.exec(je.slice(Te));return fe?(ne.m=j.get(fe[0].toLowerCase()),Te+fe[0].length):-1}function W(ne,je,Te){return _(ne,e,je,Te)}function $(ne,je,Te){return _(ne,r,je,Te)}function H(ne,je,Te){return _(ne,n,je,Te)}function F(ne){return l[ne.getDay()]}function Q(ne){return a[ne.getDay()]}function se(ne){return u[ne.getMonth()]}function de(ne){return o[ne.getMonth()]}function B(ne){return i[+(ne.getHours()>=12)]}function K(ne){return 1+~~(ne.getMonth()/3)}function oe(ne){return l[ne.getUTCDay()]}function J(ne){return a[ne.getUTCDay()]}function he(ne){return u[ne.getUTCMonth()]}function Y(ne){return o[ne.getUTCMonth()]}function me(ne){return i[+(ne.getUTCHours()>=12)]}function De(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var je=M(ne+="",k);return je.toString=function(){return ne},je},parse:function(ne){var je=E(ne+="",!1);return je.toString=function(){return ne},je},utcFormat:function(ne){var je=M(ne+="",T);return je.toString=function(){return ne},je},utcParse:function(ne){var je=E(ne+="",!0);return je.toString=function(){return ne},je}}}var RM={"-":"",_:" ",0:"0"},ir=/^\s*\d+/,wQ=/^%/,SQ=/[\\^$*+?|[\]().{}]/g;function Qe(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function jQ(t){return t.replace(SQ,"\\$&")}function Xu(t){return new RegExp("^(?:"+t.map(jQ).join("|")+")","i")}function Zu(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function NQ(t,e,r){var n=ir.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function CQ(t,e,r){var n=ir.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function kQ(t,e,r){var n=ir.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function OQ(t,e,r){var n=ir.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function AQ(t,e,r){var n=ir.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function LM(t,e,r){var n=ir.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function BM(t,e,r){var n=ir.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function EQ(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function TQ(t,e,r){var n=ir.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function MQ(t,e,r){var n=ir.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function zM(t,e,r){var n=ir.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function DQ(t,e,r){var n=ir.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function IM(t,e,r){var n=ir.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function _Q(t,e,r){var n=ir.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function PQ(t,e,r){var n=ir.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function RQ(t,e,r){var n=ir.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function LQ(t,e,r){var n=ir.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function BQ(t,e,r){var n=wQ.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function zQ(t,e,r){var n=ir.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function IQ(t,e,r){var n=ir.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function UM(t,e){return Qe(t.getDate(),e,2)}function UQ(t,e){return Qe(t.getHours(),e,2)}function qQ(t,e){return Qe(t.getHours()%12||12,e,2)}function HQ(t,e){return Qe(1+bd.count(ka(t),t),e,3)}function BR(t,e){return Qe(t.getMilliseconds(),e,3)}function $Q(t,e){return BR(t,e)+"000"}function VQ(t,e){return Qe(t.getMonth()+1,e,2)}function FQ(t,e){return Qe(t.getMinutes(),e,2)}function WQ(t,e){return Qe(t.getSeconds(),e,2)}function KQ(t){var e=t.getDay();return e===0?7:e}function GQ(t,e){return Qe(h0.count(ka(t)-1,t),e,2)}function zR(t){var e=t.getDay();return e>=4||e===0?xc(t):xc.ceil(t)}function YQ(t,e){return t=zR(t),Qe(xc.count(ka(t),t)+(ka(t).getDay()===4),e,2)}function QQ(t){return t.getDay()}function XQ(t,e){return Qe(Up.count(ka(t)-1,t),e,2)}function ZQ(t,e){return Qe(t.getFullYear()%100,e,2)}function JQ(t,e){return t=zR(t),Qe(t.getFullYear()%100,e,2)}function eX(t,e){return Qe(t.getFullYear()%1e4,e,4)}function tX(t,e){var r=t.getDay();return t=r>=4||r===0?xc(t):xc.ceil(t),Qe(t.getFullYear()%1e4,e,4)}function rX(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Qe(e/60|0,"0",2)+Qe(e%60,"0",2)}function qM(t,e){return Qe(t.getUTCDate(),e,2)}function nX(t,e){return Qe(t.getUTCHours(),e,2)}function iX(t,e){return Qe(t.getUTCHours()%12||12,e,2)}function aX(t,e){return Qe(1+d0.count(Oa(t),t),e,3)}function IR(t,e){return Qe(t.getUTCMilliseconds(),e,3)}function sX(t,e){return IR(t,e)+"000"}function lX(t,e){return Qe(t.getUTCMonth()+1,e,2)}function oX(t,e){return Qe(t.getUTCMinutes(),e,2)}function cX(t,e){return Qe(t.getUTCSeconds(),e,2)}function uX(t){var e=t.getUTCDay();return e===0?7:e}function fX(t,e){return Qe(m0.count(Oa(t)-1,t),e,2)}function UR(t){var e=t.getUTCDay();return e>=4||e===0?vc(t):vc.ceil(t)}function dX(t,e){return t=UR(t),Qe(vc.count(Oa(t),t)+(Oa(t).getUTCDay()===4),e,2)}function hX(t){return t.getUTCDay()}function mX(t,e){return Qe(qp.count(Oa(t)-1,t),e,2)}function pX(t,e){return Qe(t.getUTCFullYear()%100,e,2)}function gX(t,e){return t=UR(t),Qe(t.getUTCFullYear()%100,e,2)}function yX(t,e){return Qe(t.getUTCFullYear()%1e4,e,4)}function xX(t,e){var r=t.getUTCDay();return t=r>=4||r===0?vc(t):vc.ceil(t),Qe(t.getUTCFullYear()%1e4,e,4)}function vX(){return"+0000"}function HM(){return"%"}function $M(t){return+t}function VM(t){return Math.floor(+t/1e3)}var qo,qR,HR;bX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bX(t){return qo=bQ(t),qR=qo.format,qo.parse,HR=qo.utcFormat,qo.utcParse,qo}function wX(t){return new Date(t)}function SX(t){return t instanceof Date?+t:+new Date(+t)}function q2(t,e,r,n,i,a,l,o,u,h){var m=O2(),p=m.invert,y=m.domain,x=h(".%L"),b=h(":%S"),N=h("%I:%M"),j=h("%I %p"),C=h("%a %d"),A=h("%b %d"),k=h("%B"),T=h("%Y");function D(M){return(u(M)<M?x:o(M)<M?b:l(M)<M?N:a(M)<M?j:n(M)<M?i(M)<M?C:A:r(M)<M?k:T)(M)}return m.invert=function(M){return new Date(p(M))},m.domain=function(M){return arguments.length?y(Array.from(M,SX)):y().map(wX)},m.ticks=function(M){var E=y();return t(E[0],E[E.length-1],M??10)},m.tickFormat=function(M,E){return E==null?D:h(E)},m.nice=function(M){var E=y();return(!M||typeof M.range!="function")&&(M=e(E[0],E[E.length-1],M??10)),M?y(AR(E,M)):m},m.copy=function(){return vd(m,q2(t,e,r,n,i,a,l,o,u,h))},m}function jX(){return Zn.apply(q2(xQ,vQ,ka,I2,h0,bd,B2,R2,jl,qR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function NX(){return Zn.apply(q2(gQ,yQ,Oa,U2,m0,d0,z2,L2,jl,HR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function p0(){var t=0,e=1,r,n,i,a,l=_r,o=!1,u;function h(p){return p==null||isNaN(p=+p)?u:l(i===0?.5:(p=(a(p)-r)*i,o?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e]=p,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(p){return arguments.length?(o=!!p,h):o},h.interpolator=function(p){return arguments.length?(l=p,h):l};function m(p){return function(y){var x,b;return arguments.length?([x,b]=y,l=p(x,b),h):[l(0),l(1)]}}return h.range=m(Lc),h.rangeRound=m(k2),h.unknown=function(p){return arguments.length?(u=p,h):u},function(p){return a=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),h}}function Hs(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function $R(){var t=qs(p0()(_r));return t.copy=function(){return Hs(t,$R())},Ba.apply(t,arguments)}function VR(){var t=T2(p0()).domain([1,10]);return t.copy=function(){return Hs(t,VR()).base(t.base())},Ba.apply(t,arguments)}function FR(){var t=M2(p0());return t.copy=function(){return Hs(t,FR()).constant(t.constant())},Ba.apply(t,arguments)}function H2(){var t=D2(p0());return t.copy=function(){return Hs(t,H2()).exponent(t.exponent())},Ba.apply(t,arguments)}function CX(){return H2.apply(null,arguments).exponent(.5)}function WR(){var t=[],e=_r;function r(n){if(n!=null&&!isNaN(n=+n))return e((yd(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Cs),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>uY(t,a/n))},r.copy=function(){return WR(e).domain(t)},Ba.apply(r,arguments)}function g0(){var t=0,e=.5,r=1,n=1,i,a,l,o,u,h=_r,m,p=!1,y;function x(N){return isNaN(N=+N)?y:(N=.5+((N=+m(N))-a)*(n*N<n*a?o:u),h(p?Math.max(0,Math.min(1,N)):N))}x.domain=function(N){return arguments.length?([t,e,r]=N,i=m(t=+t),a=m(e=+e),l=m(r=+r),o=i===a?0:.5/(a-i),u=a===l?0:.5/(l-a),n=a<i?-1:1,x):[t,e,r]},x.clamp=function(N){return arguments.length?(p=!!N,x):p},x.interpolator=function(N){return arguments.length?(h=N,x):h};function b(N){return function(j){var C,A,k;return arguments.length?([C,A,k]=j,h=BY(N,[C,A,k]),x):[h(0),h(.5),h(1)]}}return x.range=b(Lc),x.rangeRound=b(k2),x.unknown=function(N){return arguments.length?(y=N,x):y},function(N){return m=N,i=N(t),a=N(e),l=N(r),o=i===a?0:.5/(a-i),u=a===l?0:.5/(l-a),n=a<i?-1:1,x}}function KR(){var t=qs(g0()(_r));return t.copy=function(){return Hs(t,KR())},Ba.apply(t,arguments)}function GR(){var t=T2(g0()).domain([.1,1,10]);return t.copy=function(){return Hs(t,GR()).base(t.base())},Ba.apply(t,arguments)}function YR(){var t=M2(g0());return t.copy=function(){return Hs(t,YR()).constant(t.constant())},Ba.apply(t,arguments)}function $2(){var t=D2(g0());return t.copy=function(){return Hs(t,$2()).exponent(t.exponent())},Ba.apply(t,arguments)}function kX(){return $2.apply(null,arguments).exponent(.5)}const cf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:j2,scaleDiverging:KR,scaleDivergingLog:GR,scaleDivergingPow:$2,scaleDivergingSqrt:kX,scaleDivergingSymlog:YR,scaleIdentity:OR,scaleImplicit:vw,scaleLinear:kR,scaleLog:ER,scaleOrdinal:S2,scalePoint:hY,scalePow:_2,scaleQuantile:DR,scaleQuantize:_R,scaleRadial:MR,scaleSequential:$R,scaleSequentialLog:VR,scaleSequentialPow:H2,scaleSequentialQuantile:WR,scaleSequentialSqrt:CX,scaleSequentialSymlog:FR,scaleSqrt:sQ,scaleSymlog:TR,scaleThreshold:PR,scaleTime:jX,scaleUtc:NX,tickFormat:CR},Symbol.toStringTag,{value:"Module"}));var $s=t=>t.chartData,OX=ie([$s],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),V2=(t,e,r,n)=>n?OX(t):$s(t);function Aa(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(Ye(e)&&Ye(r))return!0}return!1}function FM(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function QR(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,a;if(Ye(r))i=r;else if(typeof r=="function")return;if(Ye(n))a=n;else if(typeof n=="function")return;var l=[i,a];if(Aa(l))return l}}function AX(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(Aa(n))return FM(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,l,o;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Ne(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&tT.test(i)){var u=tT.exec(i);if(u==null||u[1]==null||e==null)l=void 0;else{var h=+u[1];l=e[0]-h}}else l=e?.[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(Ne(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e?.[1]))}catch{}else if(typeof a=="string"&&rT.test(a)){var m=rT.exec(a);if(m==null||m[1]==null||e==null)o=void 0;else{var p=+m[1];o=e[1]+p}}else o=e?.[1];var y=[l,o];if(Aa(y))return e==null?y:FM(y,e,r)}}}var Bc=1e9,EX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},W2,yt=!0,Qn="[DecimalError] ",Ml=Qn+"Invalid argument: ",F2=Qn+"Exponent out of range: ",zc=Math.floor,gl=Math.pow,TX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bn,er=1e7,mt=7,XR=9007199254740991,Hp=zc(XR/mt),ve={};ve.absoluteValue=ve.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ve.comparedTo=ve.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ve.decimalPlaces=ve.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*mt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ve.dividedBy=ve.div=function(t){return ba(this,new this.constructor(t))};ve.dividedToIntegerBy=ve.idiv=function(t){var e=this,r=e.constructor;return ot(ba(e,new r(t),0,1),r.precision)};ve.equals=ve.eq=function(t){return!this.cmp(t)};ve.exponent=function(){return It(this)};ve.greaterThan=ve.gt=function(t){return this.cmp(t)>0};ve.greaterThanOrEqualTo=ve.gte=function(t){return this.cmp(t)>=0};ve.isInteger=ve.isint=function(){return this.e>this.d.length-2};ve.isNegative=ve.isneg=function(){return this.s<0};ve.isPositive=ve.ispos=function(){return this.s>0};ve.isZero=function(){return this.s===0};ve.lessThan=ve.lt=function(t){return this.cmp(t)<0};ve.lessThanOrEqualTo=ve.lte=function(t){return this.cmp(t)<1};ve.logarithm=ve.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(bn))throw Error(Qn+"NaN");if(r.s<1)throw Error(Qn+(r.s?"NaN":"-Infinity"));return r.eq(bn)?new n(0):(yt=!1,e=ba(If(r,a),If(t,a),a),yt=!0,ot(e,i))};ve.minus=ve.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eL(e,t):ZR(e,(t.s=-t.s,t))};ve.modulo=ve.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Qn+"NaN");return r.s?(yt=!1,e=ba(r,t,0,1).times(t),yt=!0,r.minus(e)):ot(new n(r),i)};ve.naturalExponential=ve.exp=function(){return JR(this)};ve.naturalLogarithm=ve.ln=function(){return If(this)};ve.negated=ve.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ve.plus=ve.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ZR(e,t):eL(e,(t.s=-t.s,t))};ve.precision=ve.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ml+t);if(e=It(i)+1,n=i.d.length-1,r=n*mt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ve.squareRoot=ve.sqrt=function(){var t,e,r,n,i,a,l,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(Qn+"NaN")}for(t=It(o),yt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Di(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=zc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new u(e)):n=new u(i.toString()),r=u.precision,i=l=r+3;;)if(a=n,n=a.plus(ba(o,a,l+2)).times(.5),Di(a.d).slice(0,l)===(e=Di(n.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(ot(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;l+=4}return yt=!0,ot(n,r)};ve.times=ve.mul=function(t){var e,r,n,i,a,l,o,u,h,m=this,p=m.constructor,y=m.d,x=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,r=m.e+t.e,u=y.length,h=x.length,u<h&&(a=y,y=x,x=a,l=u,u=h,h=l),a=[],l=u+h,n=l;n--;)a.push(0);for(n=h;--n>=0;){for(e=0,i=u+n;i>n;)o=a[i]+x[n]*y[i-n-1]+e,a[i--]=o%er|0,e=o/er|0;a[i]=(a[i]+e)%er|0}for(;!a[--l];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,yt?ot(t,p.precision):t};ve.toDecimalPlaces=ve.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:($i(t,0,Bc),e===void 0?e=n.rounding:$i(e,0,8),ot(r,t+It(r)+1,e))};ve.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=ql(n,!0):($i(t,0,Bc),e===void 0?e=i.rounding:$i(e,0,8),n=ot(new i(n),t+1,e),r=ql(n,!0,t+1)),r};ve.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?ql(i):($i(t,0,Bc),e===void 0?e=a.rounding:$i(e,0,8),n=ot(new a(i),t+It(i)+1,e),r=ql(n.abs(),!1,t+It(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ve.toInteger=ve.toint=function(){var t=this,e=t.constructor;return ot(new e(t),It(t)+1,e.rounding)};ve.toNumber=function(){return+this};ve.toPower=ve.pow=function(t){var e,r,n,i,a,l,o=this,u=o.constructor,h=12,m=+(t=new u(t));if(!t.s)return new u(bn);if(o=new u(o),!o.s){if(t.s<1)throw Error(Qn+"Infinity");return o}if(o.eq(bn))return o;if(n=u.precision,t.eq(bn))return ot(o,n);if(e=t.e,r=t.d.length-1,l=e>=r,a=o.s,l){if((r=m<0?-m:m)<=XR){for(i=new u(bn),e=Math.ceil(n/mt+4),yt=!1;r%2&&(i=i.times(o),KM(i.d,e)),r=zc(r/2),r!==0;)o=o.times(o),KM(o.d,e);return yt=!0,t.s<0?new u(bn).div(i):ot(i,n)}}else if(a<0)throw Error(Qn+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,yt=!1,i=t.times(If(o,n+h)),yt=!0,i=JR(i),i.s=a,i};ve.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=It(i),n=ql(i,r<=a.toExpNeg||r>=a.toExpPos)):($i(t,1,Bc),e===void 0?e=a.rounding:$i(e,0,8),i=ot(new a(i),t,e),r=It(i),n=ql(i,t<=r||r<=a.toExpNeg,t)),n};ve.toSignificantDigits=ve.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):($i(t,1,Bc),e===void 0?e=n.rounding:$i(e,0,8)),ot(new n(r),t,e)};ve.toString=ve.valueOf=ve.val=ve.toJSON=ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=It(t),r=t.constructor;return ql(t,e<=r.toExpNeg||e>=r.toExpPos)};function ZR(t,e){var r,n,i,a,l,o,u,h,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),yt?ot(e,p):e;if(u=t.d,h=e.d,l=t.e,i=e.e,u=u.slice(),a=l-i,a){for(a<0?(n=u,a=-a,o=h.length):(n=h,i=l,o=u.length),l=Math.ceil(p/mt),o=l>o?l+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=u.length,a=h.length,o-a<0&&(a=o,n=h,h=u,u=n),r=0;a;)r=(u[--a]=u[a]+h[a]+r)/er|0,u[a]%=er;for(r&&(u.unshift(r),++i),o=u.length;u[--o]==0;)u.pop();return e.d=u,e.e=i,yt?ot(e,p):e}function $i(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ml+t)}function Di(t){var e,r,n,i=t.length-1,a="",l=t[0];if(i>0){for(a+=l,e=1;e<i;e++)n=t[e]+"",r=mt-n.length,r&&(a+=hs(r)),a+=n;l=t[e],n=l+"",r=mt-n.length,r&&(a+=hs(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var ba=(function(){function t(n,i){var a,l=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+l,n[o]=a%er|0,l=a/er|0;return l&&n.unshift(l),n}function e(n,i,a,l){var o,u;if(a!=l)u=a>l?1:-1;else for(o=u=0;o<a;o++)if(n[o]!=i[o]){u=n[o]>i[o]?1:-1;break}return u}function r(n,i,a){for(var l=0;a--;)n[a]-=l,l=n[a]<i[a]?1:0,n[a]=l*er+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,l){var o,u,h,m,p,y,x,b,N,j,C,A,k,T,D,M,E,_,L=n.constructor,I=n.s==i.s?1:-1,z=n.d,R=i.d;if(!n.s)return new L(n);if(!i.s)throw Error(Qn+"Division by zero");for(u=n.e-i.e,E=R.length,D=z.length,x=new L(I),b=x.d=[],h=0;R[h]==(z[h]||0);)++h;if(R[h]>(z[h]||0)&&--u,a==null?A=a=L.precision:l?A=a+(It(n)-It(i))+1:A=a,A<0)return new L(0);if(A=A/mt+2|0,h=0,E==1)for(m=0,R=R[0],A++;(h<D||m)&&A--;h++)k=m*er+(z[h]||0),b[h]=k/R|0,m=k%R|0;else{for(m=er/(R[0]+1)|0,m>1&&(R=t(R,m),z=t(z,m),E=R.length,D=z.length),T=E,N=z.slice(0,E),j=N.length;j<E;)N[j++]=0;_=R.slice(),_.unshift(0),M=R[0],R[1]>=er/2&&++M;do m=0,o=e(R,N,E,j),o<0?(C=N[0],E!=j&&(C=C*er+(N[1]||0)),m=C/M|0,m>1?(m>=er&&(m=er-1),p=t(R,m),y=p.length,j=N.length,o=e(p,N,y,j),o==1&&(m--,r(p,E<y?_:R,y))):(m==0&&(o=m=1),p=R.slice()),y=p.length,y<j&&p.unshift(0),r(N,p,j),o==-1&&(j=N.length,o=e(R,N,E,j),o<1&&(m++,r(N,E<j?_:R,j))),j=N.length):o===0&&(m++,N=[0]),b[h++]=m,o&&N[0]?N[j++]=z[T]||0:(N=[z[T]],j=1);while((T++<D||N[0]!==void 0)&&A--)}return b[0]||b.shift(),x.e=u,ot(x,l?a+It(x)+1:a)}})();function JR(t,e){var r,n,i,a,l,o,u=0,h=0,m=t.constructor,p=m.precision;if(It(t)>16)throw Error(F2+It(t));if(!t.s)return new m(bn);for(yt=!1,o=p,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(n=Math.log(gl(2,h))/Math.LN10*2+5|0,o+=n,r=i=a=new m(bn),m.precision=o;;){if(i=ot(i.times(t),o),r=r.times(++u),l=a.plus(ba(i,r,o)),Di(l.d).slice(0,o)===Di(a.d).slice(0,o)){for(;h--;)a=ot(a.times(a),o);return m.precision=p,e==null?(yt=!0,ot(a,p)):a}a=l}}function It(t){for(var e=t.e*mt,r=t.d[0];r>=10;r/=10)e++;return e}function Mb(t,e,r){if(e>t.LN10.sd())throw yt=!0,r&&(t.precision=r),Error(Qn+"LN10 precision limit exceeded");return ot(new t(t.LN10),e)}function hs(t){for(var e="";t--;)e+="0";return e}function If(t,e){var r,n,i,a,l,o,u,h,m,p=1,y=10,x=t,b=x.d,N=x.constructor,j=N.precision;if(x.s<1)throw Error(Qn+(x.s?"NaN":"-Infinity"));if(x.eq(bn))return new N(0);if(e==null?(yt=!1,h=j):h=e,x.eq(10))return e==null&&(yt=!0),Mb(N,h);if(h+=y,N.precision=h,r=Di(b),n=r.charAt(0),a=It(x),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(t),r=Di(x.d),n=r.charAt(0),p++;a=It(x),n>1?(x=new N("0."+r),a++):x=new N(n+"."+r.slice(1))}else return u=Mb(N,h+2,j).times(a+""),x=If(new N(n+"."+r.slice(1)),h-y).plus(u),N.precision=j,e==null?(yt=!0,ot(x,j)):x;for(o=l=x=ba(x.minus(bn),x.plus(bn),h),m=ot(x.times(x),h),i=3;;){if(l=ot(l.times(m),h),u=o.plus(ba(l,new N(i),h)),Di(u.d).slice(0,h)===Di(o.d).slice(0,h))return o=o.times(2),a!==0&&(o=o.plus(Mb(N,h+2,j).times(a+""))),o=ba(o,new N(p),h),N.precision=j,e==null?(yt=!0,ot(o,j)):o;o=u,i+=2}}function WM(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=zc(r/mt),t.d=[],n=(r+1)%mt,r<0&&(n+=mt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=mt;n<i;)t.d.push(+e.slice(n,n+=mt));e=e.slice(n),n=mt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),yt&&(t.e>Hp||t.e<-Hp))throw Error(F2+r)}else t.s=0,t.e=0,t.d=[0];return t}function ot(t,e,r){var n,i,a,l,o,u,h,m,p=t.d;for(l=1,a=p[0];a>=10;a/=10)l++;if(n=e-l,n<0)n+=mt,i=e,h=p[m=0];else{if(m=Math.ceil((n+1)/mt),a=p.length,m>=a)return t;for(h=a=p[m],l=1;a>=10;a/=10)l++;n%=mt,i=n-mt+l}if(r!==void 0&&(a=gl(10,l-i-1),o=h/a%10|0,u=e<0||p[m+1]!==void 0||h%a,u=r<4?(o||u)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||u||r==6&&(n>0?i>0?h/gl(10,l-i):0:p[m-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return u?(a=It(t),p.length=1,e=e-a-1,p[0]=gl(10,(mt-e%mt)%mt),t.e=zc(-e/mt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=m,a=1,m--):(p.length=m+1,a=gl(10,mt-n),p[m]=i>0?(h/gl(10,l-i)%gl(10,i)|0)*a:0),u)for(;;)if(m==0){(p[0]+=a)==er&&(p[0]=1,++t.e);break}else{if(p[m]+=a,p[m]!=er)break;p[m--]=0,a=1}for(n=p.length;p[--n]===0;)p.pop();if(yt&&(t.e>Hp||t.e<-Hp))throw Error(F2+It(t));return t}function eL(t,e){var r,n,i,a,l,o,u,h,m,p,y=t.constructor,x=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),yt?ot(e,x):e;if(u=t.d,p=e.d,n=e.e,h=t.e,u=u.slice(),l=h-n,l){for(m=l<0,m?(r=u,l=-l,o=p.length):(r=p,n=h,o=u.length),i=Math.max(Math.ceil(x/mt),o)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=u.length,o=p.length,m=i<o,m&&(o=i),i=0;i<o;i++)if(u[i]!=p[i]){m=u[i]<p[i];break}l=0}for(m&&(r=u,u=p,p=r,e.s=-e.s),o=u.length,i=p.length-o;i>0;--i)u[o++]=0;for(i=p.length;i>l;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=er-1;--u[a],u[i]+=er}u[i]-=p[i]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=n,yt?ot(e,x):e):new y(0)}function ql(t,e,r){var n,i=It(t),a=Di(t.d),l=a.length;return e?(r&&(n=r-l)>0?a=a.charAt(0)+"."+a.slice(1)+hs(n):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+hs(-i-1)+a,r&&(n=r-l)>0&&(a+=hs(n))):i>=l?(a+=hs(i+1-l),r&&(n=r-i-1)>0&&(a=a+"."+hs(n))):((n=i+1)<l&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-l)>0&&(i+1===l&&(a+="."),a+=hs(n))),t.s<0?"-"+a:a}function KM(t,e){if(t.length>e)return t.length=e,!0}function tL(t){var e,r,n;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ml+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return WM(l,a.toString())}else if(typeof a!="string")throw Error(Ml+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,TX.test(a))WM(l,a);else throw Error(Ml+a)}if(i.prototype=ve,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=tL,i.config=i.set=MX,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function MX(t){if(!t||typeof t!="object")throw Error(Qn+"Object expected");var e,r,n,i=["precision",1,Bc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(zc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Ml+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ml+r+": "+n);return this}var W2=tL(EX);bn=new W2(1);const et=W2;function rL(t){var e;return t===0?e=1:e=Math.floor(new et(t).abs().log(10).toNumber())+1,e}function nL(t,e,r){for(var n=new et(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var iL=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},aL=(t,e,r)=>{if(t.lte(0))return new et(0);var n=rL(t.toNumber()),i=new et(10).pow(n),a=t.div(i),l=n!==1?.05:.1,o=new et(Math.ceil(a.div(l).toNumber())).add(r).mul(l),u=o.mul(i);return e?new et(u.toNumber()):new et(Math.ceil(u.toNumber()))},DX=(t,e,r)=>{var n=new et(1),i=new et(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new et(10).pow(rL(t)-1),i=new et(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new et(Math.floor(t)))}else t===0?i=new et(Math.floor((e-1)/2)):r||(i=new et(Math.floor(t)));for(var l=Math.floor((e-1)/2),o=[],u=0;u<e;u++)o.push(i.add(new et(u-l).mul(n)).toNumber());return o},sL=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new et(0),tickMin:new et(0),tickMax:new et(0)};var l=aL(new et(r).sub(e).div(n-1),i,a),o;e<=0&&r>=0?o=new et(0):(o=new et(e).add(r).div(2),o=o.sub(new et(o).mod(l)));var u=Math.ceil(o.sub(e).div(l).toNumber()),h=Math.ceil(new et(r).sub(o).div(l).toNumber()),m=u+h+1;return m>n?sL(e,r,n,i,a+1):(m<n&&(h=r>0?h+(n-m):h,u=r>0?u:u+(n-m)),{step:l,tickMin:o.sub(new et(u).mul(l)),tickMax:o.add(new et(h).mul(l))})},_X=function(e){var[r,n]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[o,u]=iL([r,n]);if(o===-1/0||u===1/0){var h=u===1/0?[o,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),u];return r>n?h.reverse():h}if(o===u)return DX(o,i,a);var{step:m,tickMin:p,tickMax:y}=sL(o,u,l,a,0),x=nL(p,y.add(new et(.1).mul(m)),m);return r>n?x.reverse():x},PX=function(e,r){var[n,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,o]=iL([n,i]);if(l===-1/0||o===1/0)return[n,i];if(l===o)return[l];var u=Math.max(r,2),h=aL(new et(o).sub(l).div(u-1),a,0),m=[...nL(new et(l),new et(o),h),o];return a===!1&&(m=m.map(p=>Math.round(p))),n>i?m.reverse():m},RX=t=>t.rootProps.barCategoryGap,y0=t=>t.rootProps.stackOffset,lL=t=>t.rootProps.reverseStackOrder,K2=t=>t.options.chartName,G2=t=>t.rootProps.syncId,oL=t=>t.rootProps.syncMethod,Y2=t=>t.options.eventEmitter,Pr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ul={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},wi={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},x0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function v0(t,e,r){if(r!=="auto")return r;if(t!=null)return Pa(t,e)?"category":"number"}function GM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $p(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GM(Object(r),!0).forEach(function(n){LX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LX(t,e,r){return(e=BX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BX(t){var e=zX(t,"string");return typeof e=="symbol"?e:e+""}function zX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YM={allowDataOverflow:ul.allowDataOverflow,allowDecimals:ul.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ul.angleAxisId,includeHidden:!1,name:void 0,reversed:ul.reversed,scale:ul.scale,tick:ul.tick,tickCount:void 0,ticks:void 0,type:ul.type,unit:void 0},QM={allowDataOverflow:wi.allowDataOverflow,allowDecimals:wi.allowDecimals,allowDuplicatedCategory:wi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:wi.radiusAxisId,includeHidden:wi.includeHidden,name:void 0,reversed:wi.reversed,scale:wi.scale,tick:wi.tick,tickCount:wi.tickCount,ticks:void 0,type:wi.type,unit:void 0},IX=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},Q2=ie([IX,ZP],(t,e)=>{var r;if(t!=null)return t;var n=(r=v0(e,"angleAxis",YM.type))!==null&&r!==void 0?r:"category";return $p($p({},YM),{},{type:n})}),UX=(t,e)=>t.polarAxis.radiusAxis[e],X2=ie([UX,ZP],(t,e)=>{var r;if(t!=null)return t;var n=(r=v0(e,"radiusAxis",QM.type))!==null&&r!==void 0?r:"category";return $p($p({},QM),{},{type:n})}),b0=t=>t.polarOptions,Z2=ie([Ra,La,Sr],zG),cL=ie([b0,Z2],(t,e)=>{if(t!=null)return Ds(t.innerRadius,e,0)}),uL=ie([b0,Z2],(t,e)=>{if(t!=null)return Ds(t.outerRadius,e,e*.8)}),qX=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},fL=ie([b0],qX);ie([Q2,fL],x0);var dL=ie([Z2,cL,uL],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});ie([X2,dL],x0);var hL=ie([St,b0,cL,uL,Ra,La],(t,e,r,n,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:l,cy:o,startAngle:u,endAngle:h}=e;return{cx:Ds(l,i,i/2),cy:Ds(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:h,clockWise:!1}}}),ar=(t,e)=>e,w0=(t,e,r)=>r;function mL(t){return t?.id}function pL(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=r,l=new Map;return t.forEach(o=>{var u,h=(u=o.data)!==null&&u!==void 0?u:n;if(!(h==null||h.length===0)){var m=mL(o);h.forEach((p,y)=>{var x=a==null||i?y:String(vr(p,a,null)),b=vr(p,o.dataKey,0),N;l.has(x)?N=l.get(x):N={},Object.assign(N,{[m]:b}),l.set(x,N)})}}),Array.from(l.values())}function J2(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var S0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function j0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function HX(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return!1}var sr=t=>{var e=St(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Ic=t=>t.tooltip.settings.axisId;function $X(t){if(t in cf)return cf[t]();var e="scale".concat(ud(t));if(e in cf)return cf[e]()}function XM(t){var e=t.ticks,r=t.bandwidth,n=t.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>t.domain(),range:(function(a){function l(){return a.apply(this,arguments)}return l.toString=function(){return a.toString()},l})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var l=i[0],o=i[1];return l<=o?a>=l&&a<=o:a>=o&&a<=l},bandwidth:r?()=>r.call(t):void 0,ticks:e?a=>e.call(t,a):void 0,map:(a,l)=>{var o=t(a);if(o!=null){if(t.bandwidth&&l!==null&&l!==void 0&&l.position){var u=t.bandwidth();switch(l.position){case"middle":o+=u/2;break;case"end":o+=u;break}}return o}}}}function ZM(t,e,r){if(typeof t=="function")return XM(t.copy().domain(e).range(r));if(t!=null){var n=$X(t);if(n!=null)return n.domain(e).range(r),XM(n)}}var VX=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Aa(e)){for(var r,n,i=0;i<e.length;i++){var a=e[i];Ye(a)&&((r===void 0||a<r)&&(r=a),(n===void 0||a>n)&&(n=a))}return r!==void 0&&n!==void 0?[r,n]:void 0}return e}default:return e}};function JM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(r),!0).forEach(function(n){FX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FX(t,e,r){return(e=WX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WX(t){var e=KX(t,"string");return typeof e=="symbol"?e:e+""}function KX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jw=[0,"auto"],Zt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},gL=(t,e)=>t.cartesianAxis.xAxis[e],za=(t,e)=>{var r=gL(t,e);return r??Zt},Jt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:jw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:hd},yL=(t,e)=>t.cartesianAxis.yAxis[e],Ia=(t,e)=>{var r=yL(t,e);return r??Jt},GX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ej=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??GX},zr=(t,e,r)=>{switch(e){case"xAxis":return za(t,r);case"yAxis":return Ia(t,r);case"zAxis":return ej(t,r);case"angleAxis":return Q2(t,r);case"radiusAxis":return X2(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},YX=(t,e,r)=>{switch(e){case"xAxis":return za(t,r);case"yAxis":return Ia(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},wd=(t,e,r)=>{switch(e){case"xAxis":return za(t,r);case"yAxis":return Ia(t,r);case"angleAxis":return Q2(t,r);case"radiusAxis":return X2(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},xL=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function vL(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var bL=t=>t.graphicalItems.cartesianItems,QX=ie([ar,w0],vL),wL=(t,e,r)=>t.filter(r).filter(n=>e?.includeHidden===!0?!0:!n.hide),Sd=ie([bL,zr,QX],wL,{memoizeOptions:{resultEqualityCheck:j0}}),SL=ie([Sd],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(J2)),jL=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),XX=ie([Sd],jL),NL=t=>t.map(e=>e.data).filter(Boolean).flat(1),ZX=ie([Sd],NL,{memoizeOptions:{resultEqualityCheck:j0}}),CL=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},tj=ie([ZX,V2],CL),kL=(t,e,r)=>e?.dataKey!=null?t.map(n=>({value:vr(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:vr(i,n)}))):t.map(n=>({value:n})),N0=ie([tj,zr,Sd],kL);function OL(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Fm(t){if(qi(t)||t instanceof Date){var e=Number(t);if(Ye(e))return e}}function e5(t){if(Array.isArray(t)){var e=[Fm(t[0]),Fm(t[1])];return Aa(e)?e:void 0}var r=Fm(t);if(r!=null)return[r,r]}function Ea(t){return t.map(Fm).filter(Qr)}function JX(t,e,r){return!r||typeof e!="number"||ja(e)?[]:r.length?Ea(r.flatMap(n=>{var i=vr(t,n.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!Ye(a)||!Ye(l)))return[e-a,e+l]})):[]}var Yt=t=>{var e=sr(t),r=Ic(t);return wd(t,e,r)},jd=ie([Yt],t=>t?.dataKey),eZ=ie([SL,V2,Yt],pL),AL=(t,e,r,n)=>{var i={},a=e.reduce((l,o)=>{if(o.stackId==null)return l;var u=l[o.stackId];return u==null&&(u=[]),u.push(o),l[o.stackId]=u,l},i);return Object.fromEntries(Object.entries(a).map(l=>{var[o,u]=l,h=n?[...u].reverse():u,m=h.map(mL);return[o,{stackedData:gW(t,m,r),graphicalItems:h}]}))},tZ=ie([eZ,SL,y0,lL],AL),EL=(t,e,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(n==null&&r!=="zAxis"){var l=vW(t,i,a);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},rZ=ie([zr],t=>t.allowDataOverflow),rj=t=>{var e;if(t==null||!("domain"in t))return jw;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var r=Ea(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:jw},TL=ie([zr],rj),ML=ie([TL,rZ],QR),nZ=ie([tZ,$s,ar,ML],EL,{memoizeOptions:{resultEqualityCheck:S0}}),nj=t=>t.errorBars,iZ=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>OL(r,n)),Fp=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),o=Math.max(...a);return[l,o]}},DL=(t,e,r,n,i)=>{var a,l;if(r.length>0&&t.forEach(o=>{r.forEach(u=>{var h,m,p=(h=n[u.id])===null||h===void 0?void 0:h.filter(C=>OL(i,C)),y=vr(o,(m=e.dataKey)!==null&&m!==void 0?m:u.dataKey),x=JX(o,y,p);if(x.length>=2){var b=Math.min(...x),N=Math.max(...x);(a==null||b<a)&&(a=b),(l==null||N>l)&&(l=N)}var j=e5(y);j!=null&&(a=a==null?j[0]:Math.min(a,j[0]),l=l==null?j[1]:Math.max(l,j[1]))})}),e?.dataKey!=null&&t.forEach(o=>{var u=e5(vr(o,e.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),l=l==null?u[1]:Math.max(l,u[1]))}),Ye(a)&&Ye(l))return[a,l]},aZ=ie([tj,zr,XX,nj,ar],DL,{memoizeOptions:{resultEqualityCheck:S0}});function sZ(t){var{value:e}=t;if(qi(e)||e instanceof Date)return e}var lZ=(t,e,r)=>{var n=t.map(sZ).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&K_(n))?gR(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},_L=t=>t.referenceElements.dots,Uc=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),oZ=ie([_L,ar,w0],Uc),PL=t=>t.referenceElements.areas,cZ=ie([PL,ar,w0],Uc),RL=t=>t.referenceElements.lines,uZ=ie([RL,ar,w0],Uc),LL=(t,e)=>{if(t!=null){var r=Ea(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},fZ=ie(oZ,ar,LL),BL=(t,e)=>{if(t!=null){var r=Ea(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},dZ=ie([cZ,ar],BL);function hZ(t){var e;if(t.x!=null)return Ea([t.x]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.x);return r==null||r.length===0?[]:Ea(r)}function mZ(t){var e;if(t.y!=null)return Ea([t.y]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.y);return r==null||r.length===0?[]:Ea(r)}var zL=(t,e)=>{if(t!=null){var r=t.flatMap(n=>e==="xAxis"?hZ(n):mZ(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},pZ=ie([uZ,ar],zL),gZ=ie(fZ,pZ,dZ,(t,e,r)=>Fp(t,r,e)),IL=(t,e,r,n,i,a,l,o)=>{if(r!=null)return r;var u=l==="vertical"&&o==="xAxis"||l==="horizontal"&&o==="yAxis",h=u?Fp(n,a,i):Fp(a,i);return AX(e,h,t.allowDataOverflow)},yZ=ie([zr,TL,ML,nZ,aZ,gZ,St,ar],IL,{memoizeOptions:{resultEqualityCheck:S0}}),xZ=[0,1],UL=(t,e,r,n,i,a,l)=>{if(!((t==null||r==null||r.length===0)&&l===void 0)){var{dataKey:o,type:u}=t,h=Pa(e,a);if(h&&o==null){var m;return gR(0,(m=r?.length)!==null&&m!==void 0?m:0)}return u==="category"?lZ(n,t,h):i==="expand"?xZ:l}},ij=ie([zr,St,tj,N0,y0,ar,yZ],UL);function vZ(t){return t in cf}var qL=(t,e,r)=>{if(t!=null){var{scale:n,type:i}=t;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var a="scale".concat(ud(n));return vZ(a)?a:"point"}}},qc=ie([zr,xL,K2],qL);function aj(t,e,r,n){if(!(r==null||n==null))return typeof t.scale=="function"?ZM(t.scale,r,n):ZM(e,r,n)}var HL=(t,e,r)=>{var n=rj(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Aa(t))return _X(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Aa(t))return PX(t,e.tickCount,e.allowDecimals)}},sj=ie([ij,wd,qc],HL),$L=(t,e,r,n)=>{if(n!=="angleAxis"&&t?.type==="number"&&Aa(e)&&Array.isArray(r)&&r.length>0){var i,a,l=e[0],o=(i=r[0])!==null&&i!==void 0?i:0,u=e[1],h=(a=r[r.length-1])!==null&&a!==void 0?a:0;return[Math.min(l,o),Math.max(u,h)]}return e},bZ=ie([zr,ij,sj,ar],$L),wZ=ie(N0,zr,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(Ea(t.map(p=>p.value))).sort((p,y)=>p-y),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var l=a-i;if(l===0)return 1/0;for(var o=0;o<n.length-1;o++){var u=n[o],h=n[o+1];if(!(u==null||h==null)){var m=h-u;r=Math.min(r,m)}}return r/l}}),VL=ie(wZ,St,RX,Sr,(t,e,r,n,i)=>i,(t,e,r,n,i)=>{if(!Ye(t))return 0;var a=e==="vertical"?n.height:n.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var l=Ds(r,t*a),o=t*a/2;return o-l-(o-l)/a*l}return 0}),SZ=(t,e,r)=>{var n=za(t,e);return n==null||typeof n.padding!="string"?0:VL(t,"xAxis",e,r,n.padding)},jZ=(t,e,r)=>{var n=Ia(t,e);return n==null||typeof n.padding!="string"?0:VL(t,"yAxis",e,r,n.padding)},NZ=ie(za,SZ,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),CZ=ie(Ia,jZ,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),kZ=ie([Sr,NZ,a0,i0,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),OZ=ie([Sr,St,CZ,a0,i0,(t,e,r)=>r],(t,e,r,n,i,a)=>{var{padding:l}=i;return a?[n.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),Nd=(t,e,r,n)=>{var i;switch(e){case"xAxis":return kZ(t,r,n);case"yAxis":return OZ(t,r,n);case"zAxis":return(i=ej(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return fL(t);case"radiusAxis":return dL(t,r);default:return}},FL=ie([zr,Nd],x0),AZ=ie([qc,bZ],VX),C0=ie([zr,qc,AZ,FL],aj);ie([Sd,nj,ar],iZ);function WL(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var k0=(t,e)=>e,O0=(t,e,r)=>r,EZ=ie(r0,k0,O0,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(WL)),TZ=ie(n0,k0,O0,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(WL)),KL=(t,e)=>({width:t.width,height:e.height}),MZ=(t,e)=>{var r=typeof e.width=="number"?e.width:hd;return{width:r,height:t.height}},DZ=ie(Sr,za,KL),_Z=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},PZ=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},RZ=ie(La,Sr,EZ,k0,O0,(t,e,r,n,i)=>{var a={},l;return r.forEach(o=>{var u=KL(e,o);l==null&&(l=_Z(e,n,t));var h=n==="top"&&!i||n==="bottom"&&i;a[o.id]=l-Number(h)*u.height,l+=(h?-1:1)*u.height}),a}),LZ=ie(Ra,Sr,TZ,k0,O0,(t,e,r,n,i)=>{var a={},l;return r.forEach(o=>{var u=MZ(e,o);l==null&&(l=PZ(e,n,t));var h=n==="left"&&!i||n==="right"&&i;a[o.id]=l-Number(h)*u.width,l+=(h?-1:1)*u.width}),a}),BZ=(t,e)=>{var r=za(t,e);if(r!=null)return RZ(t,r.orientation,r.mirror)},zZ=ie([Sr,za,BZ,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),IZ=(t,e)=>{var r=Ia(t,e);if(r!=null)return LZ(t,r.orientation,r.mirror)},UZ=ie([Sr,Ia,IZ,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),qZ=ie(Sr,Ia,(t,e)=>{var r=typeof e.width=="number"?e.width:hd;return{width:r,height:t.height}}),GL=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=r,o=Pa(t,n),u=e.map(h=>h.value);if(l&&o&&a==="category"&&i&&K_(u))return u}},lj=ie([St,N0,zr,ar],GL),YL=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,l=Pa(t,n);if(l&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},oj=ie([St,N0,wd,ar],YL),t5=ie([St,YX,qc,C0,lj,oj,Nd,sj,ar],(t,e,r,n,i,a,l,o,u)=>{if(e!=null){var h=Pa(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:h,niceTicks:o,range:l,realScaleType:r,scale:n}}}),HZ=(t,e,r,n,i,a,l,o,u)=>{if(!(e==null||n==null)){var h=Pa(t,u),{type:m,ticks:p,tickCount:y}=e,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,b=m==="category"&&n.bandwidth?n.bandwidth()/x:0;b=u==="angleAxis"&&a!=null&&a.length>=2?$n(a[0]-a[1])*2*b:b;var N=p||i;return N?N.map((j,C)=>{var A=l?l.indexOf(j):j,k=n.map(A);return Ye(k)?{index:C,coordinate:k+b,value:j,offset:b}:null}).filter(Qr):h&&o?o.map((j,C)=>{var A=n.map(j);return Ye(A)?{coordinate:A+b,value:j,index:C,offset:b}:null}).filter(Qr):n.ticks?n.ticks(y).map((j,C)=>{var A=n.map(j);return Ye(A)?{coordinate:A+b,value:j,index:C,offset:b}:null}).filter(Qr):n.domain().map((j,C)=>{var A=n.map(j);return Ye(A)?{coordinate:A+b,value:l?l[j]:j,index:C,offset:b}:null}).filter(Qr)}},QL=ie([St,wd,qc,C0,sj,Nd,lj,oj,ar],HZ),$Z=(t,e,r,n,i,a,l)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var o=Pa(t,l),{tickCount:u}=e,h=0;return h=l==="angleAxis"&&n?.length>=2?$n(n[0]-n[1])*2*h:h,o&&a?a.map((m,p)=>{var y=r.map(m);return Ye(y)?{coordinate:y+h,value:m,index:p,offset:h}:null}).filter(Qr):r.ticks?r.ticks(u).map((m,p)=>{var y=r.map(m);return Ye(y)?{coordinate:y+h,value:m,index:p,offset:h}:null}).filter(Qr):r.domain().map((m,p)=>{var y=r.map(m);return Ye(y)?{coordinate:y+h,value:i?i[m]:m,index:p,offset:h}:null}).filter(Qr)}},XL=ie([St,wd,C0,Nd,lj,oj,ar],$Z),ZL=ie(zr,C0,(t,e)=>{if(!(t==null||e==null))return Vp(Vp({},t),{},{scale:e})}),VZ=ie([zr,qc,ij,FL],aj);ie((t,e,r)=>ej(t,r),VZ,(t,e)=>{if(!(t==null||e==null))return Vp(Vp({},t),{},{scale:e})});var FZ=ie([St,r0,n0],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),JL=t=>t.options.defaultTooltipEventType,e8=t=>t.options.validateTooltipEventTypes;function t8(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function cj(t,e){var r=JL(t),n=e8(t);return t8(e,r,n)}function WZ(t){return Ee(e=>cj(e,t))}var r8=(t,e)=>{var r,n=Number(e);if(!(ja(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},KZ=t=>t.tooltip.settings,xs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},GZ={itemInteraction:{click:xs,hover:xs},axisInteraction:{click:xs,hover:xs},keyboardInteraction:xs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},n8=rn({name:"tooltip",initialState:GZ,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:gt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:r,next:n}=e.payload,i=ci(t).tooltipItemPayloads.indexOf(r);i>-1&&(t.tooltipItemPayloads[i]=n)},prepare:gt()},removeTooltipEntrySettings:{reducer(t,e){var r=ci(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},prepare:gt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:YZ,replaceTooltipEntrySettings:QZ,removeTooltipEntrySettings:XZ,setTooltipSettingsState:ZZ,setActiveMouseOverItemIndex:JZ,mouseLeaveItem:Kge,mouseLeaveChart:i8,setActiveClickItemIndex:Gge,setMouseOverAxisIndex:a8,setMouseClickAxisIndex:eJ,setSyncInteraction:Nw,setKeyboardInteraction:Cw}=n8.actions,tJ=n8.reducer;function r5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r5(Object(r),!0).forEach(function(n){rJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rJ(t,e,r){return(e=nJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nJ(t){var e=iJ(t,"string");return typeof e=="symbol"?e:e+""}function iJ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aJ(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function sJ(t){return t.index!=null}var s8=(t,e,r,n)=>{if(e==null)return xs;var i=aJ(t,e,r);if(i==null)return xs;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(sJ(i)){if(a)return dm(dm({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return dm(dm({},xs),{},{coordinate:i.coordinate})};function lJ(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var r=Number(t);return Number.isFinite(r)?r:void 0}function oJ(t,e){var r=lJ(t),n=e[0],i=e[1];if(r===void 0)return!1;var a=Math.min(n,i),l=Math.max(n,i);return r>=a&&r<=l}function cJ(t,e,r){if(r==null||e==null)return!0;var n=vr(t,e);return n==null||!Aa(r)?!0:oJ(n,r)}var uj=(t,e,r,n)=>{var i=t?.index;if(i==null)return null;var a=Number(i);if(!Ye(a))return i;var l=0,o=1/0;e.length>0&&(o=e.length-1);var u=Math.max(l,Math.min(a,o)),h=e[u];return h==null||cJ(h,r,n)?String(u):null},l8=(t,e,r,n,i,a,l)=>{if(a!=null){var o=l[0],u=o?.getPosition(a);if(u!=null)return u;var h=i?.[Number(a)];if(h)return r==="horizontal"?{x:h.coordinate,y:(n.top+e)/2}:{x:(n.left+t)/2,y:h.coordinate}}},o8=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(l=>{var o;return((o=l.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},c8=t=>t.options.tooltipPayloadSearcher,Hc=t=>t.tooltip;function n5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(r),!0).forEach(function(n){uJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uJ(t,e,r){return(e=fJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fJ(t){var e=dJ(t,"string");return typeof e=="symbol"?e:e+""}function dJ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hJ(t,e){return t??e}var u8=(t,e,r,n,i,a,l)=>{if(!(e==null||a==null)){var{chartData:o,computedData:u,dataStartIndex:h,dataEndIndex:m}=r,p=[];return t.reduce((y,x)=>{var b,{dataDefinedOnItem:N,settings:j}=x,C=hJ(N,o),A=Array.isArray(C)?qP(C,h,m):C,k=(b=j?.dataKey)!==null&&b!==void 0?b:n,T=j?.nameKey,D;if(n&&Array.isArray(A)&&!Array.isArray(A[0])&&l==="axis"?D=G_(A,n,i):D=a(A,e,u,T),Array.isArray(D))D.forEach(E=>{var _=i5(i5({},j),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});y.push(nT({tooltipEntrySettings:_,dataKey:E.dataKey,payload:E.payload,value:vr(E.payload,E.dataKey),name:E.name}))});else{var M;y.push(nT({tooltipEntrySettings:j,dataKey:k,payload:D,value:vr(D,k),name:(M=vr(D,T))!==null&&M!==void 0?M:j?.name}))}return y},p)}},fj=ie([Yt,xL,K2],qL),mJ=ie([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),pJ=ie([sr,Ic],vL),$c=ie([mJ,Yt,pJ],wL,{memoizeOptions:{resultEqualityCheck:j0}}),gJ=ie([$c],t=>t.filter(J2)),yJ=ie([$c],NL,{memoizeOptions:{resultEqualityCheck:j0}}),Vc=ie([yJ,$s],CL),xJ=ie([gJ,$s,Yt],pL),dj=ie([Vc,Yt,$c],kL),f8=ie([Yt],rj),vJ=ie([Yt],t=>t.allowDataOverflow),d8=ie([f8,vJ],QR),bJ=ie([$c],t=>t.filter(J2)),wJ=ie([xJ,bJ,y0,lL],AL),SJ=ie([wJ,$s,sr,d8],EL),jJ=ie([$c],jL),NJ=ie([Vc,Yt,jJ,nj,sr],DL,{memoizeOptions:{resultEqualityCheck:S0}}),CJ=ie([_L,sr,Ic],Uc),kJ=ie([CJ,sr],LL),OJ=ie([PL,sr,Ic],Uc),AJ=ie([OJ,sr],BL),EJ=ie([RL,sr,Ic],Uc),TJ=ie([EJ,sr],zL),MJ=ie([kJ,TJ,AJ],Fp),DJ=ie([Yt,f8,d8,SJ,NJ,MJ,St,sr],IL),Cd=ie([Yt,St,Vc,dj,y0,sr,DJ],UL),_J=ie([Cd,Yt,fj],HL),PJ=ie([Yt,Cd,_J,sr],$L),h8=t=>{var e=sr(t),r=Ic(t),n=!1;return Nd(t,e,r,n)},m8=ie([Yt,h8],x0),p8=ie([Yt,fj,PJ,m8],aj),RJ=ie([St,dj,Yt,sr],GL),LJ=ie([St,dj,Yt,sr],YL),BJ=(t,e,r,n,i,a,l,o)=>{if(e){var{type:u}=e,h=Pa(t,o);if(n){var m=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=u==="category"&&n.bandwidth?n.bandwidth()/m:0;return p=o==="angleAxis"&&i!=null&&i?.length>=2?$n(i[0]-i[1])*2*p:p,h&&l?l.map((y,x)=>{var b=n.map(y);return Ye(b)?{coordinate:b+p,value:y,index:x,offset:p}:null}).filter(Qr):n.domain().map((y,x)=>{var b=n.map(y);return Ye(b)?{coordinate:b+p,value:a?a[y]:y,index:x,offset:p}:null}).filter(Qr)}}},Ua=ie([St,Yt,fj,p8,h8,RJ,LJ,sr],BJ),hj=ie([JL,e8,KZ],(t,e,r)=>t8(r.shared,t,e)),g8=t=>t.tooltip.settings.trigger,mj=t=>t.tooltip.settings.defaultIndex,kd=ie([Hc,hj,g8,mj],s8),Uf=ie([kd,Vc,jd,Cd],uj),y8=ie([Ua,Uf],r8),zJ=ie([kd],t=>{if(t)return t.dataKey});ie([kd],t=>{if(t)return t.graphicalItemId});var x8=ie([Hc,hj,g8,mj],o8),IJ=ie([Ra,La,St,Sr,Ua,mj,x8],l8),UJ=ie([kd,IJ],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),qJ=ie([kd],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),HJ=ie([x8,Uf,$s,jd,y8,c8,hj],u8),$J=ie([HJ],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function a5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function s5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a5(Object(r),!0).forEach(function(n){VJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VJ(t,e,r){return(e=FJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FJ(t){var e=WJ(t,"string");return typeof e=="symbol"?e:e+""}function WJ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KJ=()=>Ee(Yt),GJ=()=>{var t=KJ(),e=Ee(Ua),r=Ee(p8);return Sp(!t||!r?void 0:s5(s5({},t),{},{scale:r}),e)};function l5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ho(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l5(Object(r),!0).forEach(function(n){YJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YJ(t,e,r){return(e=QJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QJ(t){var e=XJ(t,"string");return typeof e=="symbol"?e:e+""}function XJ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZJ=(t,e,r,n)=>{var i=e.find(a=>a&&a.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.chartY};if(t==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},JJ=(t,e,r,n)=>{var i=e.find(h=>h&&h.index===r);if(i){if(t==="centric"){var a=i.coordinate,{radius:l}=n;return Ho(Ho(Ho({},n),xr(n.cx,n.cy,l,a)),{},{angle:a,radius:l})}var o=i.coordinate,{angle:u}=n;return Ho(Ho(Ho({},n),xr(n.cx,n.cy,o,u)),{},{angle:u,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function eee(t,e){var{chartX:r,chartY:n}=t;return r>=e.left&&r<=e.left+e.width&&n>=e.top&&n<=e.top+e.height}var v8=(t,e,r,n,i)=>{var a,l=(a=e?.length)!==null&&a!==void 0?a:0;if(l<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<l;o++){var u,h,m,p,y,x=o>0?(u=r[o-1])===null||u===void 0?void 0:u.coordinate:(h=r[l-1])===null||h===void 0?void 0:h.coordinate,b=(m=r[o])===null||m===void 0?void 0:m.coordinate,N=o>=l-1?(p=r[0])===null||p===void 0?void 0:p.coordinate:(y=r[o+1])===null||y===void 0?void 0:y.coordinate,j=void 0;if(!(x==null||b==null||N==null))if($n(b-x)!==$n(N-b)){var C=[];if($n(N-b)===$n(i[1]-i[0])){j=N;var A=b+i[1]-i[0];C[0]=Math.min(A,(A+x)/2),C[1]=Math.max(A,(A+x)/2)}else{j=x;var k=N+i[1]-i[0];C[0]=Math.min(b,(k+b)/2),C[1]=Math.max(b,(k+b)/2)}var T=[Math.min(b,(j+b)/2),Math.max(b,(j+b)/2)];if(t>T[0]&&t<=T[1]||t>=C[0]&&t<=C[1]){var D;return(D=r[o])===null||D===void 0?void 0:D.index}}else{var M=Math.min(x,N),E=Math.max(x,N);if(t>(M+b)/2&&t<=(E+b)/2){var _;return(_=r[o])===null||_===void 0?void 0:_.index}}}else if(e)for(var L=0;L<l;L++){var I=e[L];if(I!=null){var z=e[L+1],R=e[L-1];if(L===0&&z!=null&&t<=(I.coordinate+z.coordinate)/2||L===l-1&&R!=null&&t>(I.coordinate+R.coordinate)/2||L>0&&L<l-1&&R!=null&&z!=null&&t>(I.coordinate+R.coordinate)/2&&t<=(I.coordinate+z.coordinate)/2)return I.index}}return-1},tee=()=>Ee(K2),pj=(t,e)=>e,b8=(t,e,r)=>r,gj=(t,e,r,n)=>n,ree=ie(Ua,t=>Wg(t,e=>e.coordinate)),yj=ie([Hc,pj,b8,gj],s8),xj=ie([yj,Vc,jd,Cd],uj),nee=(t,e,r)=>{if(e!=null){var n=Hc(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},w8=ie([Hc,pj,b8,gj],o8),Wp=ie([Ra,La,St,Sr,Ua,gj,w8],l8),iee=ie([yj,Wp],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),S8=ie([Ua,xj],r8),aee=ie([w8,xj,$s,jd,S8,c8,pj],u8),see=ie([yj,xj],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),lee=(t,e,r,n,i,a,l)=>{if(!(!t||!r||!n||!i)&&eee(t,l)){var o=bW(t,e),u=v8(o,a,i,r,n),h=ZJ(e,i,u,t);return{activeIndex:String(u),activeCoordinate:h}}},oee=(t,e,r,n,i,a,l)=>{if(!(!t||!n||!i||!a||!r)){var o=$G(t,r);if(o){var u=wW(o,e),h=v8(u,l,a,n,i),m=JJ(e,a,h,o);return{activeIndex:String(h),activeCoordinate:m}}}},cee=(t,e,r,n,i,a,l,o)=>{if(!(!t||!e||!n||!i||!a))return e==="horizontal"||e==="vertical"?lee(t,e,n,i,a,l,o):oee(t,e,r,n,i,a,l)},uee=ie(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,r)=>r,(t,e,r)=>{if(e!=null){var n=t[e];if(n!=null)return r?n.panoramaElement:n.element}}),fee=ie(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(n=>parseInt(n,10)).concat(Object.values(Pr)),r=Array.from(new Set(e));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:HX}});function o5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o5(Object(r),!0).forEach(function(n){dee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dee(t,e,r){return(e=hee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hee(t){var e=mee(t,"string");return typeof e=="symbol"?e:e+""}function mee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pee={},gee={zIndexMap:Object.values(Pr).reduce((t,e)=>c5(c5({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),pee)},yee=new Set(Object.values(Pr));function xee(t){return yee.has(t)}var j8=rn({name:"zIndex",initialState:gee,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]?t.zIndexMap[r].consumers+=1:t.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:gt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(t.zIndexMap[r].consumers-=1,t.zIndexMap[r].consumers<=0&&!xee(r)&&delete t.zIndexMap[r])},prepare:gt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r,element:n,isPanorama:i}=e.payload;t.zIndexMap[r]?i?t.zIndexMap[r].panoramaElement=n:t.zIndexMap[r].element=n:t.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:gt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(e.payload.isPanorama?t.zIndexMap[r].panoramaElement=void 0:t.zIndexMap[r].element=void 0)},prepare:gt()}}}),{registerZIndexPortal:vee,unregisterZIndexPortal:bee,registerZIndexPortalElement:wee,unregisterZIndexPortalElement:See}=j8.actions,jee=j8.reducer;function qa(t){var{zIndex:e,children:r}=t,n=eK(),i=n&&e!==void 0&&e!==0,a=nn(),l=qt();w.useLayoutEffect(()=>i?(l(vee({zIndex:e})),()=>{l(bee({zIndex:e}))}):Pc,[l,e,i]);var o=Ee(u=>uee(u,e,a));return i?o?IS.createPortal(r,o):null:r}function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kw.apply(null,arguments)}function u5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u5(Object(r),!0).forEach(function(n){Nee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nee(t,e,r){return(e=Cee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cee(t){var e=kee(t,"string");return typeof e=="symbol"?e:e+""}function kee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oee(t){var{cursor:e,cursorComp:r,cursorProps:n}=t;return w.isValidElement(e)?w.cloneElement(e,n):w.createElement(r,n)}function Aee(t){var e,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:l,layout:o,cursor:u,tooltipEventType:h,chartName:m}=t,p=r,y=n,x=i;if(!u||!p||m!=="ScatterChart"&&h!=="axis")return null;var b,N,j;if(m==="ScatterChart")b=p,N=rG,j=Pr.cursorLine;else if(m==="BarChart")b=nG(o,p,a,l),N=dR,j=Pr.cursorRectangle;else if(o==="radial"&&Q_(p)){var{cx:C,cy:A,radius:k,startAngle:T,endAngle:D}=hR(p);b={cx:C,cy:A,startAngle:T,endAngle:D,innerRadius:k,outerRadius:k},N=pR,j=Pr.cursorLine}else b={points:KG(o,p,a)},N=lR,j=Pr.cursorLine;var M=typeof u=="object"&&"className"in u?u.className:void 0,E=hm(hm(hm(hm({stroke:"#ccc",pointerEvents:"none"},a),b),qg(u)),{},{payload:y,payloadIndex:x,className:at("recharts-tooltip-cursor",M)});return w.createElement(qa,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:j},w.createElement(Oee,{cursor:u,cursorComp:N,cursorProps:E}))}function Eee(t){var e=GJ(),r=QP(),n=Rc(),i=tee();return e==null||r==null||n==null||i==null?null:w.createElement(Aee,kw({},t,{offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var N8=w.createContext(null),Tee=()=>w.useContext(N8),Db={exports:{}},f5;function Mee(){return f5||(f5=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,h,m){this.fn=u,this.context=h,this.once=m||!1}function a(u,h,m,p,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var x=new i(m,p||u,y),b=r?r+h:h;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],x]:u._events[b].push(x):(u._events[b]=x,u._eventsCount++),u}function l(u,h){--u._eventsCount===0?u._events=new n:delete u._events[h]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var h=[],m,p;if(this._eventsCount===0)return h;for(p in m=this._events)e.call(m,p)&&h.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},o.prototype.listeners=function(h){var m=r?r+h:h,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,x=p.length,b=new Array(x);y<x;y++)b[y]=p[y].fn;return b},o.prototype.listenerCount=function(h){var m=r?r+h:h,p=this._events[m];return p?p.fn?1:p.length:0},o.prototype.emit=function(h,m,p,y,x,b){var N=r?r+h:h;if(!this._events[N])return!1;var j=this._events[N],C=arguments.length,A,k;if(j.fn){switch(j.once&&this.removeListener(h,j.fn,void 0,!0),C){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,m),!0;case 3:return j.fn.call(j.context,m,p),!0;case 4:return j.fn.call(j.context,m,p,y),!0;case 5:return j.fn.call(j.context,m,p,y,x),!0;case 6:return j.fn.call(j.context,m,p,y,x,b),!0}for(k=1,A=new Array(C-1);k<C;k++)A[k-1]=arguments[k];j.fn.apply(j.context,A)}else{var T=j.length,D;for(k=0;k<T;k++)switch(j[k].once&&this.removeListener(h,j[k].fn,void 0,!0),C){case 1:j[k].fn.call(j[k].context);break;case 2:j[k].fn.call(j[k].context,m);break;case 3:j[k].fn.call(j[k].context,m,p);break;case 4:j[k].fn.call(j[k].context,m,p,y);break;default:if(!A)for(D=1,A=new Array(C-1);D<C;D++)A[D-1]=arguments[D];j[k].fn.apply(j[k].context,A)}}return!0},o.prototype.on=function(h,m,p){return a(this,h,m,p,!1)},o.prototype.once=function(h,m,p){return a(this,h,m,p,!0)},o.prototype.removeListener=function(h,m,p,y){var x=r?r+h:h;if(!this._events[x])return this;if(!m)return l(this,x),this;var b=this._events[x];if(b.fn)b.fn===m&&(!y||b.once)&&(!p||b.context===p)&&l(this,x);else{for(var N=0,j=[],C=b.length;N<C;N++)(b[N].fn!==m||y&&!b[N].once||p&&b[N].context!==p)&&j.push(b[N]);j.length?this._events[x]=j.length===1?j[0]:j:l(this,x)}return this},o.prototype.removeAllListeners=function(h){var m;return h?(m=r?r+h:h,this._events[m]&&l(this,m)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(Db)),Db.exports}var Dee=Mee();const _ee=Vi(Dee);var qf=new _ee,Ow="recharts.syncEvent.tooltip",d5="recharts.syncEvent.brush",Pee=(t,e)=>{if(e&&Array.isArray(t)){var r=Number.parseInt(e,10);if(!ja(r))return t[r]}},Ree={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},C8=rn({name:"options",initialState:Ree,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Lee=C8.reducer,{createEventEmitter:Bee}=C8.actions;function zee(t){return t.tooltip.syncInteraction}var Iee={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},k8=rn({name:"chartData",initialState:Iee,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:h5,setDataStartEndIndexes:Uee,setComputedData:Yge}=k8.actions,qee=k8.reducer,Hee=["x","y"];function m5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $o(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m5(Object(r),!0).forEach(function(n){$ee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ee(t,e,r){return(e=Vee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vee(t){var e=Fee(t,"string");return typeof e=="symbol"?e:e+""}function Fee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wee(t,e){if(t==null)return{};var r,n,i=Kee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Kee(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Gee(){var t=Ee(G2),e=Ee(Y2),r=qt(),n=Ee(oL),i=Ee(Ua),a=Rc(),l=s0(),o=Ee(u=>u.rootProps.className);w.useEffect(()=>{if(t==null)return Pc;var u=(h,m,p)=>{if(e!==p&&t===h){if(n==="index"){var y;if(l&&m!==null&&m!==void 0&&(y=m.payload)!==null&&y!==void 0&&y.coordinate&&m.payload.sourceViewBox){var x=m.payload.coordinate,{x:b,y:N}=x,j=Wee(x,Hee),{x:C,y:A,width:k,height:T}=m.payload.sourceViewBox,D=$o($o({},j),{},{x:l.x+(k?(b-C)/k:0)*l.width,y:l.y+(T?(N-A)/T:0)*l.height});r($o($o({},m),{},{payload:$o($o({},m.payload),{},{coordinate:D})}))}else r(m);return}if(i!=null){var M;if(typeof n=="function"){var E={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},_=n(i,E);M=i[_]}else n==="value"&&(M=i.find(H=>String(H.value)===m.payload.label));var{coordinate:L}=m.payload;if(M==null||m.payload.active===!1||L==null||l==null){r(Nw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:I,y:z}=L,R=Math.min(I,l.x+l.width),U=Math.min(z,l.y+l.height),W={x:a==="horizontal"?M.coordinate:R,y:a==="horizontal"?U:M.coordinate},$=Nw({active:m.payload.active,coordinate:W,dataKey:m.payload.dataKey,index:String(M.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});r($)}}};return qf.on(Ow,u),()=>{qf.off(Ow,u)}},[o,r,e,t,n,i,a,l])}function Yee(){var t=Ee(G2),e=Ee(Y2),r=qt();w.useEffect(()=>{if(t==null)return Pc;var n=(i,a,l)=>{e!==l&&t===i&&r(Uee(a))};return qf.on(d5,n),()=>{qf.off(d5,n)}},[r,e,t])}function Qee(){var t=qt();w.useEffect(()=>{t(Bee())},[t]),Gee(),Yee()}function Xee(t,e,r,n,i,a){var l=Ee(x=>nee(x,t,e)),o=Ee(Y2),u=Ee(G2),h=Ee(oL),m=Ee(zee),p=m?.active,y=s0();w.useEffect(()=>{if(!p&&u!=null&&o!=null){var x=Nw({active:a,coordinate:r,dataKey:l,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:y,graphicalItemId:void 0});qf.emit(Ow,u,x,o)}},[p,r,l,i,n,o,u,h,a,y])}function p5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function g5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p5(Object(r),!0).forEach(function(n){Zee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zee(t,e,r){return(e=Jee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jee(t){var e=ete(t,"string");return typeof e=="symbol"?e:e+""}function ete(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tte(t){return t.dataKey}function rte(t,e){return w.isValidElement(t)?w.cloneElement(t,e):typeof t=="function"?w.createElement(t,e):w.createElement(RK,e)}var y5=[],nte={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function bc(t){var e,r,n=Ar(t,nte),{active:i,allowEscapeViewBox:a,animationDuration:l,animationEasing:o,content:u,filterNull:h,isAnimationActive:m,offset:p,payloadUniqBy:y,position:x,reverseDirection:b,useTranslate3d:N,wrapperStyle:j,cursor:C,shared:A,trigger:k,defaultIndex:T,portal:D,axisId:M}=n,E=qt(),_=typeof T=="number"?String(T):T;w.useEffect(()=>{E(ZZ({shared:A,trigger:k,axisId:M,active:i,defaultIndex:_}))},[E,A,k,M,i,_]);var L=s0(),I=sR(),z=WZ(A),{activeIndex:R,isActive:U}=(e=Ee(me=>see(me,z,k,_)))!==null&&e!==void 0?e:{},W=Ee(me=>aee(me,z,k,_)),$=Ee(me=>S8(me,z,k,_)),H=Ee(me=>iee(me,z,k,_)),F=W,Q=Tee(),se=(r=i??U)!==null&&r!==void 0?r:!1,[de,B]=fP([F,se]),K=z==="axis"?$:void 0;Xee(z,k,H,K,R,se);var oe=D??Q;if(oe==null||L==null||z==null)return null;var J=F??y5;se||(J=y5),h&&J.length&&(J=sP(J.filter(me=>me.value!=null&&(me.hide!==!0||n.includeHidden)),y,tte));var he=J.length>0,Y=w.createElement(HK,{allowEscapeViewBox:a,animationDuration:l,animationEasing:o,isAnimationActive:m,active:se,coordinate:H,hasPayload:he,offset:p,position:x,reverseDirection:b,useTranslate3d:N,viewBox:L,wrapperStyle:j,lastBoundingBox:de,innerRef:B,hasPortalFromProps:!!D},rte(u,g5(g5({},n),{},{payload:J,label:K,active:se,activeIndex:R,coordinate:H,accessibilityLayer:I})));return w.createElement(w.Fragment,null,IS.createPortal(Y,oe),se&&w.createElement(Eee,{cursor:C,tooltipEventType:z,coordinate:H,payload:J,index:R}))}function ite(t,e,r){return(e=ate(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ate(t){var e=ste(t,"string");return typeof e=="symbol"?e:e+""}function ste(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class lte{constructor(e){ite(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function x5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ote(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x5(Object(r),!0).forEach(function(n){cte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cte(t,e,r){return(e=ute(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ute(t){var e=fte(t,"string");return typeof e=="symbol"?e:e+""}function fte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dte={cacheSize:2e3,enableCache:!0},O8=ote({},dte),v5=new lte(O8.cacheSize),hte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},b5="recharts_measurement_span";function mte(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",l=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(o)}var w5=(t,e)=>{try{var r=document.getElementById(b5);r||(r=document.createElement("span"),r.setAttribute("id",b5),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,hte,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},pf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||u0.isSsr)return{width:0,height:0};if(!O8.enableCache)return w5(e,r);var n=mte(e,r),i=v5.get(n);if(i)return i;var a=w5(e,r);return v5.set(n,a),a},A8;function pte(t,e,r){return(e=gte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gte(t){var e=yte(t,"string");return typeof e=="symbol"?e:e+""}function yte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,j5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xte=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,vte=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,bte={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wte=["cm","mm","pt","pc","in","Q","px"];function Ste(t){return wte.includes(t)}var Qo="NaN";function jte(t,e){return t*bte[e]}class pr{static parse(e){var r,[,n,i]=(r=vte.exec(e))!==null&&r!==void 0?r:[];return n==null?pr.NaN:new pr(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,ja(e)&&(this.unit=""),r!==""&&!xte.test(r)&&(this.num=NaN,this.unit=""),Ste(r)&&(this.num=jte(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new pr(NaN,""):new pr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new pr(NaN,""):new pr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new pr(NaN,""):new pr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new pr(NaN,""):new pr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ja(this.num)}}A8=pr;pte(pr,"NaN",new A8(NaN,""));function E8(t){if(t==null||t.includes(Qo))return Qo;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,a]=(r=S5.exec(e))!==null&&r!==void 0?r:[],l=pr.parse(n??""),o=pr.parse(a??""),u=i==="*"?l.multiply(o):l.divide(o);if(u.isNaN())return Qo;e=e.replace(S5,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,m,p,y]=(h=j5.exec(e))!==null&&h!==void 0?h:[],x=pr.parse(m??""),b=pr.parse(y??""),N=p==="+"?x.add(b):x.subtract(b);if(N.isNaN())return Qo;e=e.replace(j5,N.toString())}return e}var N5=/\(([^()]*)\)/;function Nte(t){for(var e=t,r;(r=N5.exec(e))!=null;){var[,n]=r;e=e.replace(N5,E8(n))}return e}function Cte(t){var e=t.replace(/\s+/g,"");return e=Nte(e),e=E8(e),e}function kte(t){try{return Cte(t)}catch{return Qo}}function _b(t){var e=kte(t.slice(5,-1));return e===Qo?"":e}var Ote=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Ate=["dx","dy","angle","className","breakAll"];function Aw(){return Aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Aw.apply(null,arguments)}function C5(t,e){if(t==null)return{};var r,n,i=Ete(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ete(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var T8=/[ \f\n\r\t\v\u2028\u2029]+/,M8=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];wr(e)||(r?i=e.toString().split(""):i=e.toString().split(T8));var a=i.map(o=>({word:o,width:pf(o,n).width})),l=r?0:pf("",n).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}};function Tte(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var D8=(t,e,r,n)=>t.reduce((i,a)=>{var{word:l,width:o}=a,u=i[i.length-1];if(u&&o!=null&&(e==null||n||u.width+o+r<Number(e)))u.words.push(l),u.width+=o+r;else{var h={words:[l],width:o};i.push(h)}return i},[]),_8=t=>t.reduce((e,r)=>e.width>r.width?e:r),Mte="",k5=(t,e,r,n,i,a,l,o)=>{var u=t.slice(0,e),h=M8({breakAll:r,style:n,children:u+Mte});if(!h)return[!1,[]];var m=D8(h.wordsWithComputedWidth,a,l,o),p=m.length>i||_8(m).width>Number(a);return[p,m]},Dte=(t,e,r,n,i)=>{var{maxLines:a,children:l,style:o,breakAll:u}=t,h=Ne(a),m=String(l),p=D8(e,n,r,i);if(!h||i)return p;var y=p.length>a||_8(p).width>Number(n);if(!y)return p;for(var x=0,b=m.length-1,N=0,j;x<=b&&N<=m.length-1;){var C=Math.floor((x+b)/2),A=C-1,[k,T]=k5(m,A,u,o,a,n,r,i),[D]=k5(m,C,u,o,a,n,r,i);if(!k&&!D&&(x=C+1),k&&D&&(b=C-1),!k&&D){j=T;break}N++}return j||p},O5=t=>{var e=wr(t)?[]:t.toString().split(T8);return[{words:e,width:void 0}]},_te=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:l}=t;if((e||r)&&!u0.isSsr){var o,u,h=M8({breakAll:a,children:n,style:i});if(h){var{wordsWithComputedWidth:m,spaceWidth:p}=h;o=m,u=p}else return O5(n);return Dte({breakAll:a,children:n,maxLines:l,style:i},o,u,e,!!r)}return O5(n)},P8="#808080",Pte={angle:0,breakAll:!1,capHeight:"0.71em",fill:P8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},vj=w.forwardRef((t,e)=>{var r=Ar(t,Pte),{x:n,y:i,lineHeight:a,capHeight:l,fill:o,scaleToFit:u,textAnchor:h,verticalAnchor:m}=r,p=C5(r,Ote),y=w.useMemo(()=>_te({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:x,dy:b,angle:N,className:j,breakAll:C}=p,A=C5(p,Ate);if(!qi(n)||!qi(i)||y.length===0)return null;var k=Number(n)+(Ne(x)?x:0),T=Number(i)+(Ne(b)?b:0);if(!Ye(k)||!Ye(T))return null;var D;switch(m){case"start":D=_b("calc(".concat(l,")"));break;case"middle":D=_b("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:D=_b("calc(".concat(y.length-1," * -").concat(a,")"));break}var M=[],E=y[0];if(u&&E!=null){var _=E.width,{width:L}=p;M.push("scale(".concat(Ne(L)&&Ne(_)?L/_:1,")"))}return N&&M.push("rotate(".concat(N,", ").concat(k,", ").concat(T,")")),M.length&&(A.transform=M.join(" ")),w.createElement("text",Aw({},Lr(A),{ref:e,x:k,y:T,className:at("recharts-text",j),textAnchor:h,fill:o.includes("url")?P8:o}),y.map((I,z)=>{var R=I.words.join(C?"":" ");return w.createElement("tspan",{x:k,dy:z===0?D:a,key:"".concat(R,"-").concat(z)},R)}))});vj.displayName="Text";function A5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Si(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A5(Object(r),!0).forEach(function(n){Rte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rte(t,e,r){return(e=Lte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lte(t){var e=Bte(t,"string");return typeof e=="symbol"?e:e+""}function Bte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zte=t=>{var{viewBox:e,position:r,offset:n=0,parentViewBox:i}=t,{x:a,y:l,height:o,upperWidth:u,lowerWidth:h}=m2(e),m=a,p=a+(u-h)/2,y=(m+p)/2,x=(u+h)/2,b=m+u/2,N=o>=0?1:-1,j=N*n,C=N>0?"end":"start",A=N>0?"start":"end",k=u>=0?1:-1,T=k*n,D=k>0?"end":"start",M=k>0?"start":"end",E=i;if(r==="top"){var _={x:m+u/2,y:l-j,horizontalAnchor:"middle",verticalAnchor:C};return E&&(_.height=Math.max(l-E.y,0),_.width=u),_}if(r==="bottom"){var L={x:p+h/2,y:l+o+j,horizontalAnchor:"middle",verticalAnchor:A};return E&&(L.height=Math.max(E.y+E.height-(l+o),0),L.width=h),L}if(r==="left"){var I={x:y-T,y:l+o/2,horizontalAnchor:D,verticalAnchor:"middle"};return E&&(I.width=Math.max(I.x-E.x,0),I.height=o),I}if(r==="right"){var z={x:y+x+T,y:l+o/2,horizontalAnchor:M,verticalAnchor:"middle"};return E&&(z.width=Math.max(E.x+E.width-z.x,0),z.height=o),z}var R=E?{width:x,height:o}:{};return r==="insideLeft"?Si({x:y+T,y:l+o/2,horizontalAnchor:M,verticalAnchor:"middle"},R):r==="insideRight"?Si({x:y+x-T,y:l+o/2,horizontalAnchor:D,verticalAnchor:"middle"},R):r==="insideTop"?Si({x:m+u/2,y:l+j,horizontalAnchor:"middle",verticalAnchor:A},R):r==="insideBottom"?Si({x:p+h/2,y:l+o-j,horizontalAnchor:"middle",verticalAnchor:C},R):r==="insideTopLeft"?Si({x:m+T,y:l+j,horizontalAnchor:M,verticalAnchor:A},R):r==="insideTopRight"?Si({x:m+u-T,y:l+j,horizontalAnchor:D,verticalAnchor:A},R):r==="insideBottomLeft"?Si({x:p+T,y:l+o-j,horizontalAnchor:M,verticalAnchor:C},R):r==="insideBottomRight"?Si({x:p+h-T,y:l+o-j,horizontalAnchor:D,verticalAnchor:C},R):r&&typeof r=="object"&&(Ne(r.x)||Bl(r.x))&&(Ne(r.y)||Bl(r.y))?Si({x:a+Ds(r.x,x),y:l+Ds(r.y,o),horizontalAnchor:"end",verticalAnchor:"end"},R):Si({x:b,y:l+o/2,horizontalAnchor:"middle",verticalAnchor:"middle"},R)},Ite=["labelRef"],Ute=["content"];function E5(t,e){if(t==null)return{};var r,n,i=qte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function qte(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function T5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T5(Object(r),!0).forEach(function(n){Hte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hte(t,e,r){return(e=$te(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $te(t){var e=Vte(t,"string");return typeof e=="symbol"?e:e+""}function Vte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pa(){return pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pa.apply(null,arguments)}var R8=w.createContext(null),Fte=t=>{var{x:e,y:r,upperWidth:n,lowerWidth:i,width:a,height:l,children:o}=t,u=w.useMemo(()=>({x:e,y:r,upperWidth:n,lowerWidth:i,width:a,height:l}),[e,r,n,i,a,l]);return w.createElement(R8.Provider,{value:u},o)},L8=()=>{var t=w.useContext(R8),e=s0();return t||(e?m2(e):void 0)},Wte=w.createContext(null),Kte=()=>{var t=w.useContext(Wte),e=Ee(hL);return t||e},Gte=t=>{var{value:e,formatter:r}=t,n=wr(t.children)?e:t.children;return typeof r=="function"?r(n):n},bj=t=>t!=null&&typeof t=="function",Yte=(t,e)=>{var r=$n(e-t),n=Math.min(Math.abs(e-t),360);return r*n},Qte=(t,e,r,n,i)=>{var{offset:a,className:l}=t,{cx:o,cy:u,innerRadius:h,outerRadius:m,startAngle:p,endAngle:y,clockWise:x}=i,b=(h+m)/2,N=Yte(p,y),j=N>=0?1:-1,C,A;switch(e){case"insideStart":C=p+j*a,A=x;break;case"insideEnd":C=y-j*a,A=!x;break;case"end":C=y+j*a,A=x;break;default:throw new Error("Unsupported position ".concat(e))}A=N<=0?A:!A;var k=xr(o,u,b,C),T=xr(o,u,b,C+(A?1:-1)*359),D="M".concat(k.x,",").concat(k.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(A?0:1,`,
    `).concat(T.x,",").concat(T.y),M=wr(t.id)?Of("recharts-radial-line-"):t.id;return w.createElement("text",pa({},n,{dominantBaseline:"central",className:at("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:M,d:D})),w.createElement("textPath",{xlinkHref:"#".concat(M)},r))},Xte=(t,e,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:l,startAngle:o,endAngle:u}=t,h=(o+u)/2;if(r==="outside"){var{x:m,y:p}=xr(n,i,l+e,h);return{x:m,y:p,textAnchor:m>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+l)/2,{x,y:b}=xr(n,i,y,h);return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},Wm=t=>t!=null&&"cx"in t&&Ne(t.cx),Zte={angle:0,offset:5,zIndex:Pr.label,position:"middle",textBreakAll:!1};function Jte(t){if(!Wm(t))return t;var{cx:e,cy:r,outerRadius:n}=t,i=n*2;return{x:e-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function ms(t){var e=Ar(t,Zte),{viewBox:r,parentViewBox:n,position:i,value:a,children:l,content:o,className:u="",textBreakAll:h,labelRef:m}=e,p=Kte(),y=L8(),x=i==="center"?y:p??y,b,N,j;r==null?b=x:Wm(r)?b=r:b=m2(r);var C=Jte(b);if(!b||wr(a)&&wr(l)&&!w.isValidElement(o)&&typeof o!="function")return null;var A=uf(uf({},e),{},{viewBox:b});if(w.isValidElement(o)){var{labelRef:k}=A,T=E5(A,Ite);return w.cloneElement(o,T)}if(typeof o=="function"){var{content:D}=A,M=E5(A,Ute);if(N=w.createElement(o,M),w.isValidElement(N))return N}else N=Gte(e);var E=Lr(e);if(Wm(b)){if(i==="insideStart"||i==="insideEnd"||i==="end")return Qte(e,i,N,E,b);j=Xte(b,e.offset,e.position)}else{if(!C)return null;var _=zte({viewBox:C,position:i,offset:e.offset,parentViewBox:Wm(n)?void 0:n});j=uf(uf({x:_.x,y:_.y,textAnchor:_.horizontalAnchor,verticalAnchor:_.verticalAnchor},_.width!==void 0?{width:_.width}:{}),_.height!==void 0?{height:_.height}:{})}return w.createElement(qa,{zIndex:e.zIndex},w.createElement(vj,pa({ref:m,className:at("recharts-label",u)},E,j,{textAnchor:Tte(E.textAnchor)?E.textAnchor:j.textAnchor,breakAll:h}),N))}ms.displayName="Label";var ere=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?w.createElement(ms,pa({key:"label-implicit"},n)):qi(t)?w.createElement(ms,pa({key:"label-implicit",value:t},n)):w.isValidElement(t)?t.type===ms?w.cloneElement(t,uf({key:"label-implicit"},n)):w.createElement(ms,pa({key:"label-implicit",content:t},n)):bj(t)?w.createElement(ms,pa({key:"label-implicit",content:t},n)):t&&typeof t=="object"?w.createElement(ms,pa({},t,{key:"label-implicit"},n)):null};function tre(t){var{label:e,labelRef:r}=t,n=L8();return ere(e,n,r)||null}var Pb={},Rb={},M5;function rre(){return M5||(M5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(Rb)),Rb}var Lb={},D5;function nre(){return D5||(D5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(Lb)),Lb}var _5;function ire(){return _5||(_5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rre(),r=nre(),n=i2();function i(a){if(n.isArrayLike(a))return e.last(r.toArray(a))}t.last=i})(Pb)),Pb}var Bb,P5;function are(){return P5||(P5=1,Bb=ire().last),Bb}var sre=are();const lre=Vi(sre);var ore=["valueAccessor"],cre=["dataKey","clockWise","id","textBreakAll","zIndex"];function Kp(){return Kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kp.apply(null,arguments)}function R5(t,e){if(t==null)return{};var r,n,i=ure(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ure(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var fre=t=>Array.isArray(t.value)?lre(t.value):t.value,B8=w.createContext(void 0),dre=B8.Provider,z8=w.createContext(void 0);z8.Provider;function hre(){return w.useContext(B8)}function mre(){return w.useContext(z8)}function Km(t){var{valueAccessor:e=fre}=t,r=R5(t,ore),{dataKey:n,clockWise:i,id:a,textBreakAll:l,zIndex:o}=r,u=R5(r,cre),h=hre(),m=mre(),p=h||m;return!p||!p.length?null:w.createElement(qa,{zIndex:o??Pr.label},w.createElement(Ms,{className:"recharts-label-list"},p.map((y,x)=>{var b,N=wr(n)?e(y,x):vr(y.payload,n),j=wr(a)?{}:{id:"".concat(a,"-").concat(x)};return w.createElement(ms,Kp({key:"label-".concat(x)},Lr(y),u,j,{fill:(b=r.fill)!==null&&b!==void 0?b:y.fill,parentViewBox:y.parentViewBox,value:N,textBreakAll:l,viewBox:y.viewBox,index:x,zIndex:0}))})))}Km.displayName="LabelList";function pre(t){var{label:e}=t;return e?e===!0?w.createElement(Km,{key:"labelList-implicit"}):w.isValidElement(e)||bj(e)?w.createElement(Km,{key:"labelList-implicit",content:e}):typeof e=="object"?w.createElement(Km,Kp({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ew.apply(null,arguments)}var I8=t=>{var{cx:e,cy:r,r:n,className:i}=t,a=at("recharts-dot",i);return Ne(e)&&Ne(r)&&Ne(n)?w.createElement("circle",Ew({},Ui(t),n2(t),{className:a,cx:e,cy:r,r:n})):null},gre={radiusAxis:{},angleAxis:{}},U8=rn({name:"polarAxis",initialState:gre,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Qge,removeRadiusAxis:Xge,addAngleAxis:Zge,removeAngleAxis:Jge}=U8.actions,yre=U8.reducer;function xre(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var q8=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,zb={},L5;function vre(){return L5||(L5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(zb)),zb}var Ib,B5;function bre(){return B5||(B5=1,Ib=vre().isPlainObject),Ib}var wre=bre();const Sre=Vi(wre);var z5,I5,U5,q5,H5;function $5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function V5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$5(Object(r),!0).forEach(function(n){jre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jre(t,e,r){return(e=Nre(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nre(t){var e=Cre(t,"string");return typeof e=="symbol"?e:e+""}function Cre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gp(){return Gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gp.apply(null,arguments)}function Ju(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var F5=(t,e,r,n,i)=>{var a=r-n,l;return l=Ot(z5||(z5=Ju(["M ",",",""])),t,e),l+=Ot(I5||(I5=Ju(["L ",",",""])),t+r,e),l+=Ot(U5||(U5=Ju(["L ",",",""])),t+r-a/2,e+i),l+=Ot(q5||(q5=Ju(["L ",",",""])),t+r-a/2-n,e+i),l+=Ot(H5||(H5=Ju(["L ",","," Z"])),t,e),l},kre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ore=t=>{var e=Ar(t,kre),{x:r,y:n,upperWidth:i,lowerWidth:a,height:l,className:o}=e,{animationEasing:u,animationDuration:h,animationBegin:m,isUpdateAnimationActive:p}=e,y=w.useRef(null),[x,b]=w.useState(-1),N=w.useRef(i),j=w.useRef(a),C=w.useRef(l),A=w.useRef(r),k=w.useRef(n),T=b2(t,"trapezoid-");if(w.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var W=y.current.getTotalLength();W&&b(W)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var D=at("recharts-trapezoid",o);if(!p)return w.createElement("g",null,w.createElement("path",Gp({},Lr(e),{className:D,d:F5(r,n,i,a,l)})));var M=N.current,E=j.current,_=C.current,L=A.current,I=k.current,z="0px ".concat(x===-1?1:x,"px"),R="".concat(x,"px 0px"),U=oR(["strokeDasharray"],h,u);return w.createElement(v2,{animationId:T,key:T,canBegin:x>0,duration:h,easing:u,isActive:p,begin:m},W=>{var $=Gr(M,i,W),H=Gr(E,a,W),F=Gr(_,l,W),Q=Gr(L,r,W),se=Gr(I,n,W);y.current&&(N.current=$,j.current=H,C.current=F,A.current=Q,k.current=se);var de=W>0?{transition:U,strokeDasharray:R}:{strokeDasharray:z};return w.createElement("path",Gp({},Lr(e),{className:D,d:F5(Q,se,$,H,F),ref:y,style:V5(V5({},de),e.style)}))})},Are=["option","shapeType","activeClassName"];function Ere(t,e){if(t==null)return{};var r,n,i=Tre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Tre(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function W5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W5(Object(r),!0).forEach(function(n){Mre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mre(t,e,r){return(e=Dre(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dre(t){var e=_re(t,"string");return typeof e=="symbol"?e:e+""}function _re(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pre(t,e){return Yp(Yp({},e),t)}function Rre(t,e){return t==="symbols"}function K5(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return w.createElement(dR,r);case"trapezoid":return w.createElement(Ore,r);case"sector":return w.createElement(pR,r);case"symbols":if(Rre(e))return w.createElement(r2,r);break;case"curve":return w.createElement(lR,r);default:return null}}function Lre(t){return w.isValidElement(t)?t.props:t}function Bre(t){var{option:e,shapeType:r,activeClassName:n="recharts-active-shape"}=t,i=Ere(t,Are),a;if(w.isValidElement(e))a=w.cloneElement(e,Yp(Yp({},i),Lre(e)));else if(typeof e=="function")a=e(i,i.index);else if(Sre(e)&&typeof e!="boolean"){var l=Pre(e,i);a=w.createElement(K5,{shapeType:r,elementProps:l})}else{var o=i;a=w.createElement(K5,{shapeType:r,elementProps:o})}return i.isActive?w.createElement(Ms,{className:n},a):a}function zre(t){var{tooltipEntrySettings:e}=t,r=qt(),n=nn(),i=w.useRef(null);return w.useLayoutEffect(()=>{n||(i.current===null?r(YZ(e)):i.current!==e&&r(QZ({prev:i.current,next:e})),i.current=e)},[e,r,n]),w.useLayoutEffect(()=>()=>{i.current&&(r(XZ(i.current)),i.current=null)},[r]),null}function Ire(t){var{legendPayload:e}=t,r=qt(),n=nn(),i=w.useRef(null);return w.useLayoutEffect(()=>{n||(i.current===null?r(mK(e)):i.current!==e&&r(pK({prev:i.current,next:e})),i.current=e)},[r,n,e]),w.useLayoutEffect(()=>()=>{i.current&&(r(gK(i.current)),i.current=null)},[r]),null}var Ub,Ure=()=>{var[t]=w.useState(()=>Of("uid-"));return t},qre=(Ub=e_.useId)!==null&&Ub!==void 0?Ub:Ure;function Hre(t,e){var r=qre();return e||(t?"".concat(t,"-").concat(r):r)}var $re=w.createContext(void 0),Vre=t=>{var{id:e,type:r,children:n}=t,i=Hre("recharts-".concat(r),e);return w.createElement($re.Provider,{value:i},n(i))},Fre={cartesianItems:[],polarItems:[]},H8=rn({name:"graphicalItems",initialState:Fre,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:gt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:r,next:n}=e.payload,i=ci(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},prepare:gt()},removeCartesianGraphicalItem:{reducer(t,e){var r=ci(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},prepare:gt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:gt()},removePolarGraphicalItem:{reducer(t,e){var r=ci(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)},prepare:gt()}}}),{addCartesianGraphicalItem:Wre,replaceCartesianGraphicalItem:Kre,removeCartesianGraphicalItem:Gre,addPolarGraphicalItem:e0e,removePolarGraphicalItem:t0e}=H8.actions,Yre=H8.reducer,Qre=t=>{var e=qt(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?e(Wre(t)):r.current!==t&&e(Kre({prev:r.current,next:t})),r.current=t},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(e(Gre(r.current)),r.current=null)},[e]),null},Xre=w.memo(Qre),Zre=["points"];function G5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G5(Object(r),!0).forEach(function(n){Jre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jre(t,e,r){return(e=ene(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ene(t){var e=tne(t,"string");return typeof e=="symbol"?e:e+""}function tne(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qp(){return Qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qp.apply(null,arguments)}function rne(t,e){if(t==null)return{};var r,n,i=nne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function nne(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ine(t){var{option:e,dotProps:r,className:n}=t;if(w.isValidElement(e))return w.cloneElement(e,r);if(typeof e=="function")return e(r);var i=at(n,typeof e!="boolean"?e.className:""),a=r??{},{points:l}=a,o=rne(a,Zre);return w.createElement(I8,Qp({},o,{className:i}))}function ane(t,e){return t==null?!1:e?!0:t.length===1}function sne(t){var{points:e,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:l,needClip:o,clipPathId:u,zIndex:h=Pr.scatter}=t;if(!ane(e,r))return null;var m=q8(r),p=ZH(r),y=e.map((b,N)=>{var j,C,A=qb(qb(qb({r:3},l),p),{},{index:N,cx:(j=b.x)!==null&&j!==void 0?j:void 0,cy:(C=b.y)!==null&&C!==void 0?C:void 0,dataKey:a,value:b.value,payload:b.payload,points:e});return w.createElement(ine,{key:"dot-".concat(N),option:r,dotProps:A,className:i})}),x={};return o&&u!=null&&(x.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(u,")")),w.createElement(qa,{zIndex:h},w.createElement(Ms,Qp({className:n},x),y))}function Y5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y5(Object(r),!0).forEach(function(n){lne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lne(t,e,r){return(e=one(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function one(t){var e=cne(t,"string");return typeof e=="symbol"?e:e+""}function cne(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var une={xAxis:{},yAxis:{},zAxis:{}},$8=rn({name:"cartesianAxis",initialState:une,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:gt()},replaceXAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.xAxis[r.id],t.xAxis[n.id]=n)},prepare:gt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:gt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:gt()},replaceYAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.yAxis[r.id],t.yAxis[n.id]=n)},prepare:gt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:gt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:gt()},replaceZAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.zAxis[r.id],t.zAxis[n.id]=n)},prepare:gt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:gt()},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload,i=t.yAxis[r];if(i){var a,l=i.widthHistory||[];if(l.length===3&&l[0]===l[2]&&n===l[1]&&n!==i.width&&Math.abs(n-((a=l[0])!==null&&a!==void 0?a:0))<=1)return;var o=[...l,n].slice(-3);t.yAxis[r]=Q5(Q5({},i),{},{width:n,widthHistory:o})}}}}),{addXAxis:fne,replaceXAxis:dne,removeXAxis:hne,addYAxis:mne,replaceYAxis:pne,removeYAxis:gne,addZAxis:r0e,replaceZAxis:n0e,removeZAxis:i0e,updateYAxisWidth:yne}=$8.actions,xne=$8.reducer,vne=ie([Sr],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),bne=ie([vne,Ra,La],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),wj=()=>Ee(bne),wne=()=>Ee($J);function X5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X5(Object(r),!0).forEach(function(n){Sne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sne(t,e,r){return(e=jne(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jne(t){var e=Nne(t,"string");return typeof e=="symbol"?e:e+""}function Nne(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cne=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:l}=t;if(i===!1||e.x==null||e.y==null)return null;var o={index:r,dataKey:a,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=Hb(Hb(Hb({},o),qg(i)),n2(i)),h;return w.isValidElement(i)?h=w.cloneElement(i,u):typeof i=="function"?h=i(u):h=w.createElement(I8,u),w.createElement(Ms,{className:"recharts-active-dot",clipPath:l},h)};function kne(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:l=Pr.activeDot}=t,o=Ee(Uf),u=wne();if(e==null||u==null)return null;var h=e.find(m=>u.includes(m.payload));return wr(h)?null:w.createElement(qa,{zIndex:l},w.createElement(Cne,{point:h,childIndex:Number(o),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var One=t=>{var{chartData:e}=t,r=qt(),n=nn();return w.useEffect(()=>n?()=>{}:(r(h5(e)),()=>{r(h5(void 0))}),[e,r,n]),null},Z5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},V8=rn({name:"brush",initialState:Z5,reducers:{setBrushSettings(t,e){return e.payload==null?Z5:e.payload}}}),{setBrushSettings:a0e}=V8.actions,Ane=V8.reducer;function Ene(t){return(t%180+180)%180}var Tne=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Ene(i),l=a*Math.PI/180,o=Math.atan(n/r),u=l>o&&l<Math.PI-o?n/Math.sin(l):r/Math.cos(l);return Math.abs(u)},Mne={dots:[],areas:[],lines:[]},F8=rn({name:"referenceElements",initialState:Mne,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=ci(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=ci(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=ci(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:s0e,removeDot:l0e,addArea:o0e,removeArea:c0e,addLine:u0e,removeLine:f0e}=F8.actions,Dne=F8.reducer,_ne=w.createContext(void 0),Pne=t=>{var{children:e}=t,[r]=w.useState("".concat(Of("recharts"),"-clip")),n=wj();if(n==null)return null;var{x:i,y:a,width:l,height:o}=n;return w.createElement(_ne.Provider,{value:r},w.createElement("defs",null,w.createElement("clipPath",{id:r},w.createElement("rect",{x:i,y:a,height:o,width:l}))),e)};function W8(t,e){if(e<1)return[];if(e===1)return t;for(var r=[],n=0;n<t.length;n+=e){var i=t[n];i!==void 0&&r.push(i)}return r}function Rne(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Tne(n,r)}function Lne(t,e,r){var n=r==="width",{x:i,y:a,width:l,height:o}=t;return e===1?{start:n?i:a,end:n?i+l:a+o}:{start:n?i+l:a+o,end:n?i:a}}function Hf(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Bne(t,e){return W8(t,e+1)}function zne(t,e,r,n,i){for(var a=(n||[]).slice(),{start:l,end:o}=e,u=0,h=1,m=l,p=function(){var b=n?.[u];if(b===void 0)return{v:W8(n,h)};var N=u,j,C=()=>(j===void 0&&(j=r(b,N)),j),A=b.coordinate,k=u===0||Hf(t,A,C,m,o);k||(u=0,m=l,h+=1),k&&(m=A+t*(C()/2+i),u+=h)},y;h<=a.length;)if(y=p(),y)return y.v;return[]}function Ine(t,e,r,n,i){var a=(n||[]).slice(),l=a.length;if(l===0)return[];for(var{start:o,end:u}=e,h=1;h<=l;h++){for(var m=(l-1)%h,p=o,y=!0,x=function(){var T=n[N];if(T==null)return 0;var D=N,M,E=()=>(M===void 0&&(M=r(T,D)),M),_=T.coordinate,L=N===m||Hf(t,_,E,p,u);if(!L)return y=!1,1;L&&(p=_+t*(E()/2+i))},b,N=m;N<l&&(b=x(),!(b!==0&&b===1));N+=h);if(y){for(var j=[],C=m;C<l;C+=h){var A=n[C];A!=null&&j.push(A)}return j}}return[]}function J5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J5(Object(r),!0).forEach(function(n){Une(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Une(t,e,r){return(e=qne(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qne(t){var e=Hne(t,"string");return typeof e=="symbol"?e:e+""}function Hne(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ne(t,e,r,n,i){for(var a=(n||[]).slice(),l=a.length,{start:o}=e,{end:u}=e,h=function(y){var x=a[y];if(x==null)return 1;var b=x,N,j=()=>(N===void 0&&(N=r(x,y)),N);if(y===l-1){var C=t*(b.coordinate+t*j()/2-u);a[y]=b=Cr(Cr({},b),{},{tickCoord:C>0?b.coordinate-C*t:b.coordinate})}else a[y]=b=Cr(Cr({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var A=Hf(t,b.tickCoord,j,o,u);A&&(u=b.tickCoord-t*(j()/2+i),a[y]=Cr(Cr({},b),{},{isShow:!0}))}},m=l-1;m>=0;m--)h(m);return a}function Vne(t,e,r,n,i,a){var l=(n||[]).slice(),o=l.length,{start:u,end:h}=e;if(a){var m=n[o-1];if(m!=null){var p=r(m,o-1),y=t*(m.coordinate+t*p/2-h);if(l[o-1]=m=Cr(Cr({},m),{},{tickCoord:y>0?m.coordinate-y*t:m.coordinate}),m.tickCoord!=null){var x=Hf(t,m.tickCoord,()=>p,u,h);x&&(h=m.tickCoord-t*(p/2+i),l[o-1]=Cr(Cr({},m),{},{isShow:!0}))}}}for(var b=a?o-1:o,N=function(A){var k=l[A];if(k==null)return 1;var T=k,D,M=()=>(D===void 0&&(D=r(k,A)),D);if(A===0){var E=t*(T.coordinate-t*M()/2-u);l[A]=T=Cr(Cr({},T),{},{tickCoord:E<0?T.coordinate-E*t:T.coordinate})}else l[A]=T=Cr(Cr({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var _=Hf(t,T.tickCoord,M,u,h);_&&(u=T.tickCoord+t*(M()/2+i),l[A]=Cr(Cr({},T),{},{isShow:!0}))}},j=0;j<b;j++)N(j);return l}function Sj(t,e,r){var{tick:n,ticks:i,viewBox:a,minTickGap:l,orientation:o,interval:u,tickFormatter:h,unit:m,angle:p}=t;if(!i||!i.length||!n)return[];if(Ne(u)||u0.isSsr){var y;return(y=Bne(i,Ne(u)?u:0))!==null&&y!==void 0?y:[]}var x=[],b=o==="top"||o==="bottom"?"width":"height",N=m&&b==="width"?pf(m,{fontSize:e,letterSpacing:r}):{width:0,height:0},j=(D,M)=>{var E=typeof h=="function"?h(D.value,M):D.value;return b==="width"?Rne(pf(E,{fontSize:e,letterSpacing:r}),N,p):pf(E,{fontSize:e,letterSpacing:r})[b]},C=i[0],A=i[1],k=i.length>=2&&C!=null&&A!=null?$n(A.coordinate-C.coordinate):1,T=Lne(a,k,b);return u==="equidistantPreserveStart"?zne(k,T,j,i,l):u==="equidistantPreserveEnd"?Ine(k,T,j,i,l):(u==="preserveStart"||u==="preserveStartEnd"?x=Vne(k,T,j,i,l,u==="preserveStartEnd"):x=$ne(k,T,j,i,l),x.filter(D=>D.isShow))}var Fne=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=t,l=0;if(e){Array.from(e).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>l&&(l=p.width)}});var o=r?r.getBoundingClientRect().width:0,u=i+a,h=l+u+o+(r?n:0);return Math.round(h)}return 0},Wne=["axisLine","width","height","className","hide","ticks","axisType"];function Kne(t,e){if(t==null)return{};var r,n,i=Gne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Gne(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Hl(){return Hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hl.apply(null,arguments)}function e4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(r),!0).forEach(function(n){Yne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yne(t,e,r){return(e=Qne(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qne(t){var e=Xne(t,"string");return typeof e=="symbol"?e:e+""}function Xne(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wa={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Pr.axis};function Zne(t){var{x:e,y:r,width:n,height:i,orientation:a,mirror:l,axisLine:o,otherSvgProps:u}=t;if(!o)return null;var h=kt(kt(kt({},u),Ui(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var m=+(a==="top"&&!l||a==="bottom"&&l);h=kt(kt({},h),{},{x1:e,y1:r+m*i,x2:e+n,y2:r+m*i})}else{var p=+(a==="left"&&!l||a==="right"&&l);h=kt(kt({},h),{},{x1:e+p*n,y1:r,x2:e+p*n,y2:r+i})}return w.createElement("line",Hl({},h,{className:at("recharts-cartesian-axis-line",Fg(o,"className"))}))}function Jne(t,e,r,n,i,a,l,o,u){var h,m,p,y,x,b,N=o?-1:1,j=t.tickSize||l,C=Ne(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":h=m=t.coordinate,y=r+ +!o*i,p=y-N*j,b=p-N*u,x=C;break;case"left":p=y=t.coordinate,m=e+ +!o*n,h=m-N*j,x=h-N*u,b=C;break;case"right":p=y=t.coordinate,m=e+ +o*n,h=m+N*j,x=h+N*u,b=C;break;default:h=m=t.coordinate,y=r+ +o*i,p=y+N*j,b=p+N*u,x=C;break}return{line:{x1:h,y1:p,x2:m,y2:y},tick:{x,y:b}}}function eie(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function tie(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function rie(t){var{option:e,tickProps:r,value:n}=t,i,a=at(r.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(e))i=w.cloneElement(e,kt(kt({},r),{},{className:a}));else if(typeof e=="function")i=e(kt(kt({},r),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=at(l,xre(e))),i=w.createElement(vj,Hl({},r,{className:l}),n)}return i}var nie=w.forwardRef((t,e)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:l,unit:o,padding:u,tickTextProps:h,orientation:m,mirror:p,x:y,y:x,width:b,height:N,tickSize:j,tickMargin:C,fontSize:A,letterSpacing:k,getTicksConfig:T,events:D,axisType:M}=t,E=Sj(kt(kt({},T),{},{ticks:r}),A,k),_=eie(m,p),L=tie(m,p),I=Ui(T),z=qg(n),R={};typeof i=="object"&&(R=i);var U=kt(kt({},I),{},{fill:"none"},R),W=E.map(F=>kt({entry:F},Jne(F,y,x,b,N,m,j,p,C))),$=W.map(F=>{var{entry:Q,line:se}=F;return w.createElement(Ms,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},i&&w.createElement("line",Hl({},U,se,{className:at("recharts-cartesian-axis-tick-line",Fg(i,"className"))})))}),H=W.map((F,Q)=>{var se,de,{entry:B,tick:K}=F,oe=kt(kt(kt(kt({verticalAnchor:L},I),{},{textAnchor:_,stroke:"none",fill:a},K),{},{index:Q,payload:B,visibleTicksCount:E.length,tickFormatter:l,padding:u},h),{},{angle:(se=(de=h?.angle)!==null&&de!==void 0?de:I.angle)!==null&&se!==void 0?se:0}),J=kt(kt({},oe),z);return w.createElement(Ms,Hl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},X_(D,B,Q)),n&&w.createElement(rie,{option:n,tickProps:J,value:"".concat(typeof l=="function"?l(B.value,Q):B.value).concat(o||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},H.length>0&&w.createElement(qa,{zIndex:Pr.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:e},H)),$.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},$))}),iie=w.forwardRef((t,e)=>{var{axisLine:r,width:n,height:i,className:a,hide:l,ticks:o,axisType:u}=t,h=Kne(t,Wne),[m,p]=w.useState(""),[y,x]=w.useState(""),b=w.useRef(null);w.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var j;return Fne({ticks:b.current,label:(j=t.labelRef)===null||j===void 0?void 0:j.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var N=w.useCallback(j=>{if(j){var C=j.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=C;var A=C[0];if(A){var k=window.getComputedStyle(A),T=k.fontSize,D=k.letterSpacing;(T!==m||D!==y)&&(p(T),x(D))}}},[m,y]);return l||n!=null&&n<=0||i!=null&&i<=0?null:w.createElement(qa,{zIndex:t.zIndex},w.createElement(Ms,{className:at("recharts-cartesian-axis",a)},w.createElement(Zne,{x:t.x,y:t.y,width:n,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:Ui(t)}),w.createElement(nie,{ref:N,axisType:u,events:h,fontSize:m,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),w.createElement(Fte,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},w.createElement(tre,{label:t.label,labelRef:t.labelRef}),t.children)))}),jj=w.forwardRef((t,e)=>{var r=Ar(t,wa);return w.createElement(iie,Hl({},r,{ref:e}))});jj.displayName="CartesianAxis";var aie=["x1","y1","x2","y2","key"],sie=["offset"],lie=["xAxisId","yAxisId"],oie=["xAxisId","yAxisId"];function t4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Or(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t4(Object(r),!0).forEach(function(n){cie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cie(t,e,r){return(e=uie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uie(t){var e=fie(t,"string");return typeof e=="symbol"?e:e+""}function fie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nl(){return Nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nl.apply(null,arguments)}function Xp(t,e){if(t==null)return{};var r,n,i=die(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function die(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var hie=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:l,ry:o}=t;return w.createElement("rect",{x:n,y:i,ry:o,width:a,height:l,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function K8(t){var{option:e,lineItemProps:r}=t,n;if(w.isValidElement(e))n=w.cloneElement(e,r);else if(typeof e=="function")n=e(r);else{var i,{x1:a,y1:l,x2:o,y2:u,key:h}=r,m=Xp(r,aie),p=(i=Ui(m))!==null&&i!==void 0?i:{},{offset:y}=p,x=Xp(p,sie);n=w.createElement("line",Nl({},x,{x1:a,y1:l,x2:o,y2:u,fill:"none",key:h}))}return n}function mie(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,o=Xp(t,lie),u=i.map((h,m)=>{var p=Or(Or({},o),{},{x1:e,y1:h,x2:e+r,y2:h,key:"line-".concat(m),index:m});return w.createElement(K8,{key:"line-".concat(m),option:n,lineItemProps:p})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function pie(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,o=Xp(t,oie),u=i.map((h,m)=>{var p=Or(Or({},o),{},{x1:h,y1:e,x2:h,y2:e+r,key:"line-".concat(m),index:m});return w.createElement(K8,{option:n,lineItemProps:p,key:"line-".concat(m)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function gie(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:a,height:l,horizontalPoints:o,horizontal:u=!0}=t;if(!u||!e||!e.length||o==null)return null;var h=o.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==h[0]&&h.unshift(0);var m=h.map((p,y)=>{var x=h[y+1],b=x==null,N=b?i+l-p:x-p;if(N<=0)return null;var j=y%e.length;return w.createElement("rect",{key:"react-".concat(y),y:p,x:n,height:N,width:a,stroke:"none",fill:e[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function yie(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:l,height:o,verticalPoints:u}=t;if(!e||!r||!r.length)return null;var h=u.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==h[0]&&h.unshift(0);var m=h.map((p,y)=>{var x=h[y+1],b=x==null,N=b?i+l-p:x-p;if(N<=0)return null;var j=y%r.length;return w.createElement("rect",{key:"react-".concat(y),x:p,y:a,width:N,height:o,stroke:"none",fill:r[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var xie=(t,e)=>{var{xAxis:r,width:n,height:i,offset:a}=t;return HP(Sj(Or(Or(Or({},wa),r),{},{ticks:$P(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,e)},vie=(t,e)=>{var{yAxis:r,width:n,height:i,offset:a}=t;return HP(Sj(Or(Or(Or({},wa),r),{},{ticks:$P(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,e)},bie={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Pr.grid};function $l(t){var e=p2(),r=g2(),n=QP(),i=Or(Or({},Ar(t,bie)),{},{x:Ne(t.x)?t.x:n.left,y:Ne(t.y)?t.y:n.top,width:Ne(t.width)?t.width:n.width,height:Ne(t.height)?t.height:n.height}),{xAxisId:a,yAxisId:l,x:o,y:u,width:h,height:m,syncWithTicks:p,horizontalValues:y,verticalValues:x}=i,b=nn(),N=Ee(L=>t5(L,"xAxis",a,b)),j=Ee(L=>t5(L,"yAxis",l,b));if(!Hi(h)||!Hi(m)||!Ne(o)||!Ne(u))return null;var C=i.verticalCoordinatesGenerator||xie,A=i.horizontalCoordinatesGenerator||vie,{horizontalPoints:k,verticalPoints:T}=i;if((!k||!k.length)&&typeof A=="function"){var D=y&&y.length,M=A({yAxis:j?Or(Or({},j),{},{ticks:D?y:j.ticks}):void 0,width:e??h,height:r??m,offset:n},D?!0:p);jp(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(k=M)}if((!T||!T.length)&&typeof C=="function"){var E=x&&x.length,_=C({xAxis:N?Or(Or({},N),{},{ticks:E?x:N.ticks}):void 0,width:e??h,height:r??m,offset:n},E?!0:p);jp(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(T=_)}return w.createElement(qa,{zIndex:i.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(hie,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(gie,Nl({},i,{horizontalPoints:k})),w.createElement(yie,Nl({},i,{verticalPoints:T})),w.createElement(mie,Nl({},i,{offset:n,horizontalPoints:k,xAxis:N,yAxis:j})),w.createElement(pie,Nl({},i,{offset:n,verticalPoints:T,xAxis:N,yAxis:j}))))}$l.displayName="CartesianGrid";var wie={},G8=rn({name:"errorBars",initialState:wie,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:i}=e.payload;t[r]&&(t[r]=t[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:d0e,replaceErrorBar:h0e,removeErrorBar:m0e}=G8.actions,Sie=G8.reducer,jie=["children"];function Nie(t,e){if(t==null)return{};var r,n,i=Cie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Cie(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var kie={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Oie=w.createContext(kie);function Aie(t){var{children:e}=t,r=Nie(t,jie);return w.createElement(Oie.Provider,{value:r},e)}function Y8(t,e){var r,n,i=Ee(h=>za(h,t)),a=Ee(h=>Ia(h,e)),l=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:Zt.allowDataOverflow,o=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:Jt.allowDataOverflow,u=l||o;return{needClip:u,needClipX:l,needClipY:o}}function Eie(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=wj(),{needClipX:a,needClipY:l,needClip:o}=Y8(e,r);if(!o||!i)return null;var{x:u,y:h,width:m,height:p}=i;return w.createElement("clipPath",{id:"clipPath-".concat(n)},w.createElement("rect",{x:a?u:u-m/2,y:l?h:h-p/2,width:a?m:m*2,height:l?p:p*2}))}var Q8=(t,e,r,n)=>ZL(t,"xAxis",e,n),X8=(t,e,r,n)=>XL(t,"xAxis",e,n),Z8=(t,e,r,n)=>ZL(t,"yAxis",r,n),J8=(t,e,r,n)=>XL(t,"yAxis",r,n),Tie=ie([St,Q8,Z8,X8,J8],(t,e,r,n,i)=>Pa(t,"xAxis")?Sp(e,n,!1):Sp(r,i,!1)),Mie=(t,e,r,n,i)=>i;function Die(t){return t.type==="line"}var _ie=ie([bL,Mie],(t,e)=>t.filter(Die).find(r=>r.id===e)),Pie=ie([St,Q8,Z8,X8,J8,_ie,Tie,V2],(t,e,r,n,i,a,l,o)=>{var{chartData:u,dataStartIndex:h,dataEndIndex:m}=o;if(!(a==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:p,data:y}=a,x;if(y!=null&&y.length>0?x=y:x=u?.slice(h,m+1),x!=null)return wae({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:p,bandSize:l,displayedData:x})}});function Rie(t){var e=qg(t),r=3,n=2;if(e!=null){var{r:i,strokeWidth:a}=e,l=Number(i),o=Number(a);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(o)||o<0)&&(o=n),{r:l,strokeWidth:o}}return{r,strokeWidth:n}}var $b={exports:{}},Vb={};var r4;function Lie(){if(r4)return Vb;r4=1;var t=Ac();function e(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,o=t.useDebugValue;return Vb.useSyncExternalStoreWithSelector=function(u,h,m,p,y){var x=i(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=l(function(){function j(D){if(!C){if(C=!0,A=D,D=p(D),y!==void 0&&b.hasValue){var M=b.value;if(y(M,D))return k=M}return k=D}if(M=k,r(A,D))return M;var E=p(D);return y!==void 0&&y(M,E)?(A=D,M):(A=D,k=E)}var C=!1,A,k,T=m===void 0?null:m;return[function(){return j(h())},T===null?void 0:function(){return j(T())}]},[h,m,p,y]);var N=n(u,x[0],x[1]);return a(function(){b.hasValue=!0,b.value=N},[N]),o(N),N},Vb}var n4;function Bie(){return n4||(n4=1,$b.exports=Lie()),$b.exports}Bie();function zie(t){t()}function Iie(){let t=null,e=null;return{clear(){t=null,e=null},notify(){zie(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var i4={notify(){},get:()=>[]};function Uie(t,e){let r,n=i4,i=0,a=!1;function l(N){m();const j=n.subscribe(N);let C=!1;return()=>{C||(C=!0,j(),p())}}function o(){n.notify()}function u(){b.onStateChange&&b.onStateChange()}function h(){return a}function m(){i++,r||(r=t.subscribe(u),n=Iie())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=i4)}function y(){a||(a=!0,m())}function x(){a&&(a=!1,p())}const b={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:h,trySubscribe:y,tryUnsubscribe:x,getListeners:()=>n};return b}var qie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Hie=qie(),$ie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Vie=$ie(),Fie=()=>Hie||Vie?w.useLayoutEffect:w.useEffect,Wie=Fie();function a4(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Kie(t,e){if(a4(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!a4(t[r[i]],e[r[i]]))return!1;return!0}var Gie=Symbol.for("react-redux-context"),Yie=typeof globalThis<"u"?globalThis:{};function Qie(){if(!w.createContext)return{};const t=Yie[Gie]??=new Map;let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var Xie=Qie();function Zie(t){const{children:e,context:r,serverState:n,store:i}=t,a=w.useMemo(()=>{const u=Uie(i);return{store:i,subscription:u,getServerState:n?()=>n:void 0}},[i,n]),l=w.useMemo(()=>i.getState(),[i]);Wie(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,l]);const o=r||Xie;return w.createElement(o.Provider,{value:a},e)}var Jie=Zie,eae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function tae(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Nj(t,e){var r=new Set([...Object.keys(t),...Object.keys(e)]);for(var n of r)if(eae.has(n)){if(t[n]==null&&e[n]==null)continue;if(!Kie(t[n],e[n]))return!1}else if(!tae(t[n],e[n]))return!1;return!0}var rae=["id"],nae=["type","layout","connectNulls","needClip","shape"],iae=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function $f(){return $f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$f.apply(null,arguments)}function s4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s4(Object(r),!0).forEach(function(n){aae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aae(t,e,r){return(e=sae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sae(t){var e=lae(t,"string");return typeof e=="symbol"?e:e+""}function lae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cj(t,e){if(t==null)return{};var r,n,i=oae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function oae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var cae=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:VP(r,e),payload:t}]},uae=w.memo(t=>{var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:a,name:l,hide:o,unit:u,tooltipType:h,id:m}=t,p={dataDefinedOnItem:r,getPosition:Pc,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:VP(l,e),hide:o,type:h,color:n,unit:u,graphicalItemId:m}};return w.createElement(zre,{tooltipEntrySettings:p})}),e6=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function fae(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var dae=(t,e,r)=>{var n=r.reduce((x,b)=>x+b);if(!n)return e6(e,t);for(var i=Math.floor(t/n),a=t%n,l=e-t,o=[],u=0,h=0;u<r.length;h+=(m=r[u])!==null&&m!==void 0?m:0,++u){var m,p=r[u];if(p!=null&&h+p>a){o=[...r.slice(0,u),a-h];break}}var y=o.length%2===0?[0,l]:[l];return[...fae(r,i),...o,...y].map(x=>"".concat(x,"px")).join(", ")};function hae(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:a,needClip:l}=n,{id:o}=n,u=Cj(n,rae),h=Ui(u);return w.createElement(sne,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:h,needClip:l,clipPathId:e})}function mae(t){var{showLabels:e,children:r,points:n}=t,i=w.useMemo(()=>n?.map(a=>{var l,o,u={x:(l=a.x)!==null&&l!==void 0?l:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Oi(Oi({},u),{},{value:a.value,payload:a.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[n]);return w.createElement(dre,{value:e?i:void 0},r)}function l4(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:a}=t,{type:l,layout:o,connectNulls:u,needClip:h,shape:m}=a,p=Cj(a,nae),y=Oi(Oi({},Lr(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:n,type:l,layout:o,connectNulls:u,strokeDasharray:i??a.strokeDasharray});return w.createElement(w.Fragment,null,n?.length>1&&w.createElement(Bre,$f({shapeType:"curve",option:m},y,{pathRef:r})),w.createElement(hae,{points:n,clipPathId:e,props:a}))}function pae(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function gae(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:l,strokeDasharray:o,isAnimationActive:u,animationBegin:h,animationDuration:m,animationEasing:p,animateNewValues:y,width:x,height:b,onAnimationEnd:N,onAnimationStart:j}=r,C=i.current,A=b2(l,"recharts-line-"),k=w.useRef(A),[T,D]=w.useState(!1),M=!T,E=w.useCallback(()=>{typeof N=="function"&&N(),D(!1)},[N]),_=w.useCallback(()=>{typeof j=="function"&&j(),D(!0)},[j]),L=pae(n.current),I=w.useRef(0);k.current!==A&&(I.current=a.current,k.current=A);var z=I.current;return w.createElement(mae,{points:l,showLabels:M},r.children,w.createElement(v2,{animationId:A,begin:h,duration:m,isActive:u,easing:p,onAnimationEnd:E,onAnimationStart:_,key:A},R=>{var U=Gr(z,L+z,R),W=Math.min(U,L),$;if(u)if(o){var H="".concat(o).split(/[,\s]+/gim).map(se=>parseFloat(se));$=dae(W,L,H)}else $=e6(L,W);else $=o==null?void 0:String(o);if(R>0&&L>0&&(i.current=l,a.current=Math.max(a.current,W)),C){var F=C.length/l.length,Q=R===1?l:l.map((se,de)=>{var B=Math.floor(de*F);if(C[B]){var K=C[B];return Oi(Oi({},se),{},{x:Gr(K.x,se.x,R),y:Gr(K.y,se.y,R)})}return y?Oi(Oi({},se),{},{x:Gr(x*2,se.x,R),y:Gr(b/2,se.y,R)}):Oi(Oi({},se),{},{x:se.x,y:se.y})});return i.current=Q,w.createElement(l4,{props:r,points:Q,clipPathId:e,pathRef:n,strokeDasharray:$})}return w.createElement(l4,{props:r,points:l,clipPathId:e,pathRef:n,strokeDasharray:$})}),w.createElement(pre,{label:r.label}))}function yae(t){var{clipPathId:e,props:r}=t,n=w.useRef(null),i=w.useRef(0),a=w.useRef(null);return w.createElement(gae,{props:r,clipPathId:e,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var xae=(t,e)=>{var r,n;return{x:(r=t.x)!==null&&r!==void 0?r:void 0,y:(n=t.y)!==null&&n!==void 0?n:void 0,value:t.value,errorVal:vr(t.payload,e)}};class vae extends w.Component{render(){var{hide:e,dot:r,points:n,className:i,xAxisId:a,yAxisId:l,top:o,left:u,width:h,height:m,id:p,needClip:y,zIndex:x}=this.props;if(e)return null;var b=at("recharts-line",i),N=p,{r:j,strokeWidth:C}=Rie(r),A=q8(r),k=j*2+C,T=y?"url(#clipPath-".concat(A?"":"dots-").concat(N,")"):void 0;return w.createElement(qa,{zIndex:x},w.createElement(Ms,{className:b},y&&w.createElement("defs",null,w.createElement(Eie,{clipPathId:N,xAxisId:a,yAxisId:l}),!A&&w.createElement("clipPath",{id:"clipPath-dots-".concat(N)},w.createElement("rect",{x:u-k/2,y:o-k/2,width:h+k,height:m+k}))),w.createElement(Aie,{xAxisId:a,yAxisId:l,data:n,dataPointFormatter:xae,errorBarOffset:0},w.createElement(yae,{props:this.props,clipPathId:N}))),w.createElement(kne,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:T}))}}var t6={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Pr.line,type:"linear"};function bae(t){var e=Ar(t,t6),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:o,dot:u,hide:h,isAnimationActive:m,label:p,legendType:y,xAxisId:x,yAxisId:b,id:N}=e,j=Cj(e,iae),{needClip:C}=Y8(x,b),A=wj(),k=Rc(),T=nn(),D=Ee(I=>Pie(I,x,b,T,N));if(k!=="horizontal"&&k!=="vertical"||D==null||A==null)return null;var{height:M,width:E,x:_,y:L}=A;return w.createElement(vae,$f({},j,{id:N,connectNulls:o,dot:u,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:l,isAnimationActive:m,hide:h,label:p,legendType:y,xAxisId:x,yAxisId:b,points:D,layout:k,height:M,width:E,left:_,top:L,needClip:C}))}function wae(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:l,bandSize:o,displayedData:u}=t;return u.map((h,m)=>{var p=vr(h,l);if(e==="horizontal"){var y=eT({axis:r,ticks:i,bandSize:o,entry:h,index:m}),x=wr(p)?null:n.scale.map(p);return{x:y,y:x??null,value:p,payload:h}}var b=wr(p)?null:r.scale.map(p),N=eT({axis:n,ticks:a,bandSize:o,entry:h,index:m});return b==null||N==null?null:{x:b,y:N,value:p,payload:h}}).filter(Boolean)}function Sae(t){var e=Ar(t,t6),r=nn();return w.createElement(Vre,{id:e.id,type:"line"},n=>w.createElement(w.Fragment,null,w.createElement(Ire,{legendPayload:cae(e)}),w.createElement(uae,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:n}),w.createElement(Xre,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),w.createElement(bae,$f({},e,{id:n}))))}var Vl=w.memo(Sae,Nj);Vl.displayName="Line";var jae=["domain","range"],Nae=["domain","range"];function o4(t,e){if(t==null)return{};var r,n,i=Cae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Cae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function c4(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function r6(t,e){if(t===e)return!0;var{domain:r,range:n}=t,i=o4(t,jae),{domain:a,range:l}=e,o=o4(e,Nae);return!c4(r,a)||!c4(n,l)?!1:Nj(i,o)}var kae=["type"],Oae=["dangerouslySetInnerHTML","ticks","scale"],Aae=["id","scale"];function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tw.apply(null,arguments)}function u4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function f4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u4(Object(r),!0).forEach(function(n){Eae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eae(t,e,r){return(e=Tae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tae(t){var e=Mae(t,"string");return typeof e=="symbol"?e:e+""}function Mae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mw(t,e){if(t==null)return{};var r,n,i=Dae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Dae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function _ae(t){var e=qt(),r=w.useRef(null),n=XP(),{type:i}=t,a=Mw(t,kae),l=v0(n,"xAxis",i),o=w.useMemo(()=>{if(l!=null)return f4(f4({},a),{},{type:l})},[a,l]);return w.useLayoutEffect(()=>{o!=null&&(r.current===null?e(fne(o)):r.current!==o&&e(dne({prev:r.current,next:o})),r.current=o)},[o,e]),w.useLayoutEffect(()=>()=>{r.current&&(e(hne(r.current)),r.current=null)},[e]),null}var Pae=t=>{var{xAxisId:e,className:r}=t,n=Ee(WP),i=nn(),a="xAxis",l=Ee(C=>QL(C,a,e,i)),o=Ee(C=>DZ(C,e)),u=Ee(C=>zZ(C,e)),h=Ee(C=>gL(C,e));if(o==null||u==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:p,scale:y}=t,x=Mw(t,Oae),{id:b,scale:N}=h,j=Mw(h,Aae);return w.createElement(jj,Tw({},x,j,{x:u.x,y:u.y,width:o.width,height:o.height,className:at("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:l,axisType:a}))},Rae={allowDataOverflow:Zt.allowDataOverflow,allowDecimals:Zt.allowDecimals,allowDuplicatedCategory:Zt.allowDuplicatedCategory,angle:Zt.angle,axisLine:wa.axisLine,height:Zt.height,hide:!1,includeHidden:Zt.includeHidden,interval:Zt.interval,label:!1,minTickGap:Zt.minTickGap,mirror:Zt.mirror,orientation:Zt.orientation,padding:Zt.padding,reversed:Zt.reversed,scale:Zt.scale,tick:Zt.tick,tickCount:Zt.tickCount,tickLine:wa.tickLine,tickSize:wa.tickSize,type:Zt.type,xAxisId:0},Lae=t=>{var e=Ar(t,Rae);return w.createElement(w.Fragment,null,w.createElement(_ae,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),w.createElement(Pae,e))},Fl=w.memo(Lae,r6);Fl.displayName="XAxis";var Bae=["type"],zae=["dangerouslySetInnerHTML","ticks","scale"],Iae=["id","scale"];function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dw.apply(null,arguments)}function d4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function h4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d4(Object(r),!0).forEach(function(n){Uae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uae(t,e,r){return(e=qae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qae(t){var e=Hae(t,"string");return typeof e=="symbol"?e:e+""}function Hae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _w(t,e){if(t==null)return{};var r,n,i=$ae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function $ae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Vae(t){var e=qt(),r=w.useRef(null),n=XP(),{type:i}=t,a=_w(t,Bae),l=v0(n,"yAxis",i),o=w.useMemo(()=>{if(l!=null)return h4(h4({},a),{},{type:l})},[l,a]);return w.useLayoutEffect(()=>{o!=null&&(r.current===null?e(mne(o)):r.current!==o&&e(pne({prev:r.current,next:o})),r.current=o)},[o,e]),w.useLayoutEffect(()=>()=>{r.current&&(e(gne(r.current)),r.current=null)},[e]),null}function Fae(t){var{yAxisId:e,className:r,width:n,label:i}=t,a=w.useRef(null),l=w.useRef(null),o=Ee(WP),u=nn(),h=qt(),m="yAxis",p=Ee(M=>qZ(M,e)),y=Ee(M=>UZ(M,e)),x=Ee(M=>QL(M,m,e,u)),b=Ee(M=>yL(M,e));if(w.useLayoutEffect(()=>{if(!(n!=="auto"||!p||bj(i)||w.isValidElement(i)||b==null)){var M=a.current;if(M){var E=M.getCalculatedWidth();Math.round(p.width)!==Math.round(E)&&h(yne({id:e,width:E}))}}},[x,p,h,i,e,n,b]),p==null||y==null||b==null)return null;var{dangerouslySetInnerHTML:N,ticks:j,scale:C}=t,A=_w(t,zae),{id:k,scale:T}=b,D=_w(b,Iae);return w.createElement(jj,Dw({},A,D,{ref:a,labelRef:l,x:y.x,y:y.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:at("recharts-".concat(m," ").concat(m),r),viewBox:o,ticks:x,axisType:m}))}var Wae={allowDataOverflow:Jt.allowDataOverflow,allowDecimals:Jt.allowDecimals,allowDuplicatedCategory:Jt.allowDuplicatedCategory,angle:Jt.angle,axisLine:wa.axisLine,hide:!1,includeHidden:Jt.includeHidden,interval:Jt.interval,label:!1,minTickGap:Jt.minTickGap,mirror:Jt.mirror,orientation:Jt.orientation,padding:Jt.padding,reversed:Jt.reversed,scale:Jt.scale,tick:Jt.tick,tickCount:Jt.tickCount,tickLine:wa.tickLine,tickSize:wa.tickSize,type:Jt.type,width:Jt.width,yAxisId:0},Kae=t=>{var e=Ar(t,Wae);return w.createElement(w.Fragment,null,w.createElement(Vae,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),w.createElement(Fae,e))},Wl=w.memo(Kae,r6);Wl.displayName="YAxis";var Gae=(t,e)=>e,kj=ie([Gae,St,hL,sr,m8,Ua,ree,Sr],cee),Oj=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},n6=Yn("mouseClick"),i6=dd();i6.startListening({actionCreator:n6,effect:(t,e)=>{var r=t.payload,n=kj(e.getState(),Oj(r));n?.activeIndex!=null&&e.dispatch(eJ({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Pw=Yn("mouseMove"),a6=dd(),mm=null;a6.startListening({actionCreator:Pw,effect:(t,e)=>{var r=t.payload;mm!==null&&cancelAnimationFrame(mm);var n=Oj(r);mm=requestAnimationFrame(()=>{var i=e.getState(),a=cj(i,i.tooltip.settings.shared);if(a==="axis"){var l=kj(i,n);l?.activeIndex!=null?e.dispatch(a8({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(i8())}mm=null})}});function Yae(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var m4={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},s6=rn({name:"rootProps",initialState:m4,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:m4.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Qae=s6.reducer,{updateOptions:Xae}=s6.actions,Zae=null,Jae={updatePolarOptions:(t,e)=>e.payload},l6=rn({name:"polarOptions",initialState:Zae,reducers:Jae}),{updatePolarOptions:p0e}=l6.actions,ese=l6.reducer,o6=Yn("keyDown"),c6=Yn("focus"),Aj=dd();Aj.startListening({actionCreator:o6,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=uj(i,Vc(r),jd(r),Cd(r)),o=l==null?-1:Number(l);if(!(!Number.isFinite(o)||o<0)){var u=Ua(r);if(a==="Enter"){var h=Wp(r,"axis","hover",String(i.index));e.dispatch(Cw({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var m=FZ(r),p=m==="left-to-right"?1:-1,y=a==="ArrowRight"?1:-1,x=o+y*p;if(!(u==null||x>=u.length||x<0)){var b=Wp(r,"axis","hover",String(x));e.dispatch(Cw({active:!0,activeIndex:x.toString(),activeCoordinate:b}))}}}}}});Aj.startListening({actionCreator:c6,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",l=Wp(r,"axis","hover",String(a));e.dispatch(Cw({active:!0,activeIndex:a,activeCoordinate:l}))}}}});var Un=Yn("externalEvent"),u6=dd(),Fb=new Map;u6.startListening({actionCreator:Un,effect:(t,e)=>{var{handler:r,reactEvent:n}=t.payload;if(r!=null){n.persist();var i=n.type,a=Fb.get(i);a!==void 0&&cancelAnimationFrame(a);var l=requestAnimationFrame(()=>{try{var o=e.getState(),u={activeCoordinate:UJ(o),activeDataKey:zJ(o),activeIndex:Uf(o),activeLabel:y8(o),activeTooltipIndex:Uf(o),isTooltipActive:qJ(o)};r(u,n)}finally{Fb.delete(i)}});Fb.set(i,l)}}});var tse=ie([Hc],t=>t.tooltipItemPayloads),rse=ie([tse,(t,e)=>e,(t,e,r)=>r],(t,e,r)=>{if(e!=null){var n=t.find(a=>a.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(e)}}}),f6=Yn("touchMove"),d6=dd();d6.startListening({actionCreator:f6,effect:(t,e)=>{var r=t.payload;if(!(r.touches==null||r.touches.length===0)){var n=e.getState(),i=cj(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var l=kj(n,Oj({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));l?.activeIndex!=null&&e.dispatch(a8({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var o,u=r.touches[0];if(document.elementFromPoint==null||u==null)return;var h=document.elementFromPoint(u.clientX,u.clientY);if(!h||!h.getAttribute)return;var m=h.getAttribute(jW),p=(o=h.getAttribute(NW))!==null&&o!==void 0?o:void 0,y=$c(n).find(N=>N.id===p);if(m==null||y==null||p==null)return;var{dataKey:x}=y,b=rse(n,m,p);e.dispatch(JZ({activeDataKey:x,activeIndex:m,activeCoordinate:b,activeGraphicalItemId:p}))}}}});var nse=hP({brush:Ane,cartesianAxis:xne,chartData:qee,errorBars:Sie,graphicalItems:Yre,layout:oW,legend:yK,options:Lee,polarAxis:yre,polarOptions:ese,referenceElements:Dne,rootProps:Qae,tooltip:tJ,zIndex:jee}),ise=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return _F({reducer:nse,preloadedState:e,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([i6.middleware,a6.middleware,Aj.middleware,u6.middleware,d6.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(AP({type:"raf"}))},devTools:{serialize:{replacer:Yae},name:"recharts-".concat(r)}})};function ase(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=nn(),a=w.useRef(null);if(i)return r;a.current==null&&(a.current=ise(e,n));var l=s2;return w.createElement(Jie,{context:l,store:a.current},r)}function sse(t){var{layout:e,margin:r}=t,n=qt(),i=nn();return w.useEffect(()=>{i||(n(aW(e)),n(iW(r)))},[n,i,e,r]),null}var lse=w.memo(sse,Nj);function ose(t){var e=qt();return w.useEffect(()=>{e(Xae(t))},[e,t]),null}function p4(t){var{zIndex:e,isPanorama:r}=t,n=w.useRef(null),i=qt();return w.useLayoutEffect(()=>(n.current&&i(wee({zIndex:e,element:n.current,isPanorama:r})),()=>{i(See({zIndex:e,isPanorama:r}))}),[i,e,r]),w.createElement("g",{tabIndex:-1,ref:n})}function g4(t){var{children:e,isPanorama:r}=t,n=Ee(fee);if(!n||n.length===0)return e;var i=n.filter(l=>l<0),a=n.filter(l=>l>0);return w.createElement(w.Fragment,null,i.map(l=>w.createElement(p4,{key:l,zIndex:l,isPanorama:r})),e,a.map(l=>w.createElement(p4,{key:l,zIndex:l,isPanorama:r})))}var cse=["children"];function use(t,e){if(t==null)return{};var r,n,i=fse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function fse(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Zp(){return Zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zp.apply(null,arguments)}var dse={width:"100%",height:"100%",display:"block"},hse=w.forwardRef((t,e)=>{var r=p2(),n=g2(),i=sR();if(!Hi(r)||!Hi(n))return null;var{children:a,otherAttributes:l,title:o,desc:u}=t,h,m;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?m=l.role:m=i?"application":void 0),w.createElement(YS,Zp({},l,{title:o,desc:u,role:m,tabIndex:h,width:r,height:n,style:dse,ref:e}),a)}),mse=t=>{var{children:e}=t,r=Ee(a0);if(!r)return null;var{width:n,height:i,y:a,x:l}=r;return w.createElement(YS,{width:n,height:i,x:l,y:a},e)},y4=w.forwardRef((t,e)=>{var{children:r}=t,n=use(t,cse),i=nn();return i?w.createElement(mse,null,w.createElement(g4,{isPanorama:!0},r)):w.createElement(hse,Zp({ref:e},n),w.createElement(g4,{isPanorama:!1},r))});function pse(){var t=qt(),[e,r]=w.useState(null),n=Ee(SW);return w.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Ye(a)&&a!==n&&t(lW(a))}},[e,t,n]),r}function x4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gse(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x4(Object(r),!0).forEach(function(n){yse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yse(t,e,r){return(e=xse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xse(t){var e=vse(t,"string");return typeof e=="symbol"?e:e+""}function vse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ks(){return ks=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ks.apply(null,arguments)}var bse=()=>(Qee(),null);function Jp(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var wse=w.forwardRef((t,e)=>{var r,n,i=w.useRef(null),[a,l]=w.useState({containerWidth:Jp((r=t.style)===null||r===void 0?void 0:r.width),containerHeight:Jp((n=t.style)===null||n===void 0?void 0:n.height)}),o=w.useCallback((h,m)=>{l(p=>{var y=Math.round(h),x=Math.round(m);return p.containerWidth===y&&p.containerHeight===x?p:{containerWidth:y,containerHeight:x}})},[]),u=w.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=h.getBoundingClientRect();o(m,p);var y=b=>{var N=b[0];if(N!=null){var{width:j,height:C}=N.contentRect;o(j,C)}},x=new ResizeObserver(y);x.observe(h),i.current=x}},[e,o]);return w.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[o]),w.createElement(w.Fragment,null,w.createElement(md,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",ks({ref:u},t)))}),Sse=w.forwardRef((t,e)=>{var{width:r,height:n}=t,[i,a]=w.useState({containerWidth:Jp(r),containerHeight:Jp(n)}),l=w.useCallback((u,h)=>{a(m=>{var p=Math.round(u),y=Math.round(h);return m.containerWidth===p&&m.containerHeight===y?m:{containerWidth:p,containerHeight:y}})},[]),o=w.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:h,height:m}=u.getBoundingClientRect();l(h,m)}},[e,l]);return w.createElement(w.Fragment,null,w.createElement(md,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",ks({ref:o},t)))}),jse=w.forwardRef((t,e)=>{var{width:r,height:n}=t;return w.createElement(w.Fragment,null,w.createElement(md,{width:r,height:n}),w.createElement("div",ks({ref:e},t)))}),Nse=w.forwardRef((t,e)=>{var{width:r,height:n}=t;return typeof r=="string"||typeof n=="string"?w.createElement(Sse,ks({},t,{ref:e})):typeof r=="number"&&typeof n=="number"?w.createElement(jse,ks({},t,{width:r,height:n,ref:e})):w.createElement(w.Fragment,null,w.createElement(md,{width:r,height:n}),w.createElement("div",ks({ref:e},t)))});function Cse(t){return t?wse:Nse}var kse=w.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:l,onDoubleClick:o,onMouseDown:u,onMouseEnter:h,onMouseLeave:m,onMouseMove:p,onMouseUp:y,onTouchEnd:x,onTouchMove:b,onTouchStart:N,style:j,width:C,responsive:A,dispatchTouchEvents:k=!0}=t,T=w.useRef(null),D=qt(),[M,E]=w.useState(null),[_,L]=w.useState(null),I=pse(),z=h2(),R=z?.width>0?z.width:C,U=z?.height>0?z.height:i,W=w.useCallback(ne=>{I(ne),typeof e=="function"&&e(ne),E(ne),L(ne),ne!=null&&(T.current=ne)},[I,e,E,L]),$=w.useCallback(ne=>{D(n6(ne)),D(Un({handler:a,reactEvent:ne}))},[D,a]),H=w.useCallback(ne=>{D(Pw(ne)),D(Un({handler:h,reactEvent:ne}))},[D,h]),F=w.useCallback(ne=>{D(i8()),D(Un({handler:m,reactEvent:ne}))},[D,m]),Q=w.useCallback(ne=>{D(Pw(ne)),D(Un({handler:p,reactEvent:ne}))},[D,p]),se=w.useCallback(()=>{D(c6())},[D]),de=w.useCallback(ne=>{D(o6(ne.key))},[D]),B=w.useCallback(ne=>{D(Un({handler:l,reactEvent:ne}))},[D,l]),K=w.useCallback(ne=>{D(Un({handler:o,reactEvent:ne}))},[D,o]),oe=w.useCallback(ne=>{D(Un({handler:u,reactEvent:ne}))},[D,u]),J=w.useCallback(ne=>{D(Un({handler:y,reactEvent:ne}))},[D,y]),he=w.useCallback(ne=>{D(Un({handler:N,reactEvent:ne}))},[D,N]),Y=w.useCallback(ne=>{k&&D(f6(ne)),D(Un({handler:b,reactEvent:ne}))},[D,k,b]),me=w.useCallback(ne=>{D(Un({handler:x,reactEvent:ne}))},[D,x]),De=Cse(A);return w.createElement(N8.Provider,{value:M},w.createElement(E_.Provider,{value:_},w.createElement(De,{width:R??j?.width,height:U??j?.height,className:at("recharts-wrapper",n),style:gse({position:"relative",cursor:"default",width:R,height:U},j),onClick:$,onContextMenu:B,onDoubleClick:K,onFocus:se,onKeyDown:de,onMouseDown:oe,onMouseEnter:H,onMouseLeave:F,onMouseMove:Q,onMouseUp:J,onTouchEnd:me,onTouchMove:Y,onTouchStart:he,ref:W},w.createElement(bse,null),r)))}),Ose=["width","height","responsive","children","className","style","compact","title","desc"];function Ase(t,e){if(t==null)return{};var r,n,i=Ese(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ese(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Tse=w.forwardRef((t,e)=>{var{width:r,height:n,responsive:i,children:a,className:l,style:o,compact:u,title:h,desc:m}=t,p=Ase(t,Ose),y=Ui(p);return u?w.createElement(w.Fragment,null,w.createElement(md,{width:r,height:n}),w.createElement(y4,{otherAttributes:y,title:h,desc:m},a)):w.createElement(kse,{className:l,style:o,width:r,height:n,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(y4,{otherAttributes:y,title:h,desc:m,ref:e},w.createElement(Pne,null,a)))});function Rw(){return Rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rw.apply(null,arguments)}var Mse={top:5,right:5,bottom:5,left:5},Dse={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Mse,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},_se=w.forwardRef(function(e,r){var n,i=Ar(e.categoricalChartProps,Dse),{chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,categoricalChartProps:h}=e,m={chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,eventEmitter:void 0};return w.createElement(ase,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:a},w.createElement(One,{chartData:h.data}),w.createElement(lse,{layout:i.layout,margin:i.margin}),w.createElement(ose,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(Tse,Rw({},i,{ref:r})))}),Pse=["axis"],wc=w.forwardRef((t,e)=>w.createElement(_se,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Pse,tooltipPayloadSearcher:Pee,categoricalChartProps:t,ref:e}));function vt(){return Date.now()}function Ft(t){return new Date(t).toISOString()}function $t(t,e,r,n,i=0){const a=t+e*Math.sin(2*Math.PI*n/r);return Math.round((a+(Math.random()-.5)*i)*100)/100}function fl(t,e,r,n,i){const a=[];for(let l=t;l<=e;l+=r)a.push([Ft(l),...n(l)]);return a}const Vf=["telegraf","app_metrics","iot_sensors","_internal"],Lw={telegraf:["cpu","mem","disk","diskio","net","system","swap"],app_metrics:["http_requests","response_time","active_users","error_rate"],iot_sensors:["temperature","humidity","pressure","battery_level"],_internal:["database","httpd","queryExecutor","runtime","shard","tsm1_engine"]},h6={cpu:["host","cpu"],mem:["host"],disk:["host","path","device","fstype"],diskio:["host","name"],net:["host","interface"],system:["host"],swap:["host"],http_requests:["method","status","endpoint"],response_time:["endpoint","method"],active_users:["region"],error_rate:["service","severity"],temperature:["sensor_id","location","building"],humidity:["sensor_id","location"],pressure:["sensor_id","location"],battery_level:["sensor_id","device_type"]},m6={cpu:[{key:"usage_user",type:"float"},{key:"usage_system",type:"float"},{key:"usage_idle",type:"float"},{key:"usage_iowait",type:"float"}],mem:[{key:"used_percent",type:"float"},{key:"available",type:"integer"},{key:"total",type:"integer"},{key:"used",type:"integer"}],disk:[{key:"used_percent",type:"float"},{key:"free",type:"integer"},{key:"total",type:"integer"}],http_requests:[{key:"count",type:"integer"},{key:"duration_ms",type:"float"}],response_time:[{key:"p50",type:"float"},{key:"p95",type:"float"},{key:"p99",type:"float"}],temperature:[{key:"value",type:"float"}],humidity:[{key:"value",type:"float"}],pressure:[{key:"value",type:"float"}],battery_level:[{key:"percent",type:"float"}]},Bw={telegraf:[{name:"autogen",duration:"0s",shardGroupDuration:"168h0m0s",replicaN:1,default:!0},{name:"30d",duration:"720h0m0s",shardGroupDuration:"24h0m0s",replicaN:1,default:!1}],app_metrics:[{name:"autogen",duration:"0s",shardGroupDuration:"168h0m0s",replicaN:1,default:!0}],iot_sensors:[{name:"autogen",duration:"0s",shardGroupDuration:"168h0m0s",replicaN:1,default:!0},{name:"90d",duration:"2160h0m0s",shardGroupDuration:"24h0m0s",replicaN:1,default:!1}],_internal:[{name:"monitor",duration:"168h0m0s",shardGroupDuration:"24h0m0s",replicaN:1,default:!0}]},p6=[{user:"admin",admin:!0},{user:"grafana_reader",admin:!1},{user:"telegraf_writer",admin:!1}],g6=[{name:"_internal",columns:["name","query"],values:[]},{name:"telegraf",columns:["name","query"],values:[["cq_cpu_5m",'CREATE CONTINUOUS QUERY cq_cpu_5m ON telegraf BEGIN SELECT mean(usage_user) AS mean_usage_user INTO telegraf."30d".cpu_5m FROM cpu GROUP BY time(5m), host END']]}];function Rse(t,e){const r=t.toUpperCase().trim();if(r.startsWith("SHOW DATABASES"))return{results:[{statement_id:0,series:[{name:"databases",columns:["name"],values:Vf.map(u=>[u])}]}]};if(r.startsWith("SHOW MEASUREMENTS")){const u=e&&Lw[e]||Lw.telegraf;return{results:[{statement_id:0,series:[{name:"measurements",columns:["name"],values:u.map(h=>[h])}]}]}}if(r.startsWith("SHOW TAG KEYS")){const h=t.match(/FROM\s+"?(\w+)"?/i)?.[1]||"cpu",m=h6[h]||["host"];return{results:[{statement_id:0,series:[{name:h,columns:["tagKey"],values:m.map(p=>[p])}]}]}}if(r.includes("SHOW TAG VALUES")){const h=t.match(/WITH\s+KEY\s*=\s*"?(\w+)"?/i)?.[1]||"host",p={host:["web-server-01","web-server-02","db-server-01","worker-01"],cpu:["cpu-total","cpu0","cpu1","cpu2","cpu3"],region:["us-east-1","us-west-2","eu-west-1"],sensor_id:["sensor-001","sensor-002","sensor-003","sensor-004"],location:["floor-1","floor-2","floor-3","warehouse"],method:["GET","POST","PUT","DELETE"],status:["200","201","301","404","500"],endpoint:["/api/users","/api/products","/api/orders","/health"],building:["HQ","Warehouse-A","Warehouse-B"]}[h]||["value-1","value-2"];return{results:[{statement_id:0,series:[{name:h,columns:["key","value"],values:p.map(y=>[h,y])}]}]}}if(r.startsWith("SHOW FIELD KEYS")){const h=t.match(/FROM\s+"?(\w+)"?/i)?.[1]||"cpu",m=m6[h]||[{key:"value",type:"float"}];return{results:[{statement_id:0,series:[{name:h,columns:["fieldKey","fieldType"],values:m.map(p=>[p.key,p.type])}]}]}}if(r.startsWith("SHOW RETENTION POLICIES")||r.startsWith("SHOW RETENTION")){const u=e&&Bw[e]||Bw.telegraf;return{results:[{statement_id:0,series:[{name:"results",columns:["name","duration","shardGroupDuration","replicaN","default"],values:u.map(h=>[h.name,h.duration,h.shardGroupDuration,h.replicaN,h.default])}]}]}}if(r.includes("SERIES CARDINALITY")||r.includes("SERIES EXACT CARDINALITY"))return{results:[{statement_id:0,series:[{columns:["count"],values:[[4287]]}]}]};if(r.startsWith("SHOW USERS"))return{results:[{statement_id:0,series:[{columns:["user","admin"],values:p6.map(u=>[u.user,u.admin])}]}]};if(r.startsWith("SHOW GRANTS"))return{results:[{statement_id:0,series:[{columns:["database","privilege"],values:[["telegraf","ALL PRIVILEGES"],["app_metrics","READ"]]}]}]};if(r.startsWith("SHOW QUERIES"))return{results:[{statement_id:0,series:[{columns:["qid","query","database","duration"],values:[[1,"SELECT mean(usage_user) FROM cpu WHERE time > now() - 1h GROUP BY time(1m)","telegraf","2ms"]]}]}]};if(r.startsWith("SHOW CONTINUOUS QUERIES")||r.startsWith("SHOW CONTINUOUS"))return{results:[{statement_id:0,series:g6}]};if(r.includes("SHARD GROUPS")||r.includes("SHARD"))return{results:[{statement_id:0,series:[{columns:["id","database","retention_policy","start_time","end_time","expiry_time"],values:[[1,"telegraf","autogen",Ft(vt()-7*864e5),Ft(vt()),Ft(vt()+7*864e5)],[2,"telegraf","30d",Ft(vt()-864e5),Ft(vt()),Ft(vt()+30*864e5)]]}]}]};if(r.includes("SUBSCRIPTIONS"))return{results:[{statement_id:0,series:[]}]};if(r.includes("DIAGNOSTICS"))return{results:[{statement_id:0,series:[{name:"system",columns:["PID","currentTime","started","uptime"],rows:[[12345,Ft(vt()),Ft(vt()-864e5*3),"72h15m32s"]]},{name:"build",columns:["Branch","Commit","Version"],rows:[["main","abc1234","1.8.10"]]},{name:"runtime",columns:["GOARCH","GOMAXPROCS","GOOS","version"],rows:[["amd64",4,"linux","go1.21.6"]]},{name:"network",columns:["hostname"],rows:[["playground-server"]]}]}]};if(r.includes("STATS"))return{results:[{statement_id:0,series:[{name:"queryExecutor",columns:["queriesActive","queriesExecuted","queriesFinished","queryDurationNs","recoveredPanics"],values:[[1,47821,47820,1203847291,0]]},{name:"httpd",columns:["auth","clientError","pingReq","pointsWrittenOK","queryReq","queryReqDurationNs","recoveredPanics","req","serverError","statusReq","writeReq","writeReqDurationNs"],values:[[0,12,9481,2847193,47821,9381274010,0,57314,0,0,9481,4827391023]]},{name:"write",columns:["pointReq","pointReqLocal","req","subWriteOk","writeOk"],values:[[2847193,2847193,9481,9481,9481]]},{name:"database",tags:{database:"telegraf"},columns:["numMeasurements","numSeries"],values:[[7,3142]]},{name:"database",tags:{database:"app_metrics"},columns:["numMeasurements","numSeries"],values:[[4,847]]},{name:"database",tags:{database:"iot_sensors"},columns:["numMeasurements","numSeries"],values:[[4,298]]}]}]};const n=vt(),i=n-36e5,a=1e4,o=t.match(/FROM\s+"?(\w+)"?/i)?.[1]||"cpu";return o==="cpu"||r.includes("USAGE")?{results:[{statement_id:0,series:[{name:"cpu",tags:{host:"web-server-01",cpu:"cpu-total"},columns:["time","usage_user","usage_system","usage_idle"],values:fl(i,n,a,u=>[$t(35,15,6e5,u,5),$t(8,4,9e5,u,2),$t(55,15,6e5,u+3e5,5)])},{name:"cpu",tags:{host:"web-server-02",cpu:"cpu-total"},columns:["time","usage_user","usage_system","usage_idle"],values:fl(i,n,a,u=>[$t(25,10,5e5,u+1e5,4),$t(5,3,8e5,u+2e5,2),$t(68,10,5e5,u,4)])}]}]}:o==="mem"||r.includes("MEM")?{results:[{statement_id:0,series:[{name:"mem",tags:{host:"web-server-01"},columns:["time","used_percent"],values:fl(i,n,a,u=>[$t(62,8,18e5,u,3)])}]}]}:o==="http_requests"||r.includes("HTTP")?{results:[{statement_id:0,series:[{name:"http_requests",tags:{method:"GET",endpoint:"/api/users"},columns:["time","count","duration_ms"],values:fl(i,n,a,u=>[Math.round($t(120,40,9e5,u,20)),$t(45,15,6e5,u,10)])}]}]}:o==="temperature"||r.includes("TEMPERATURE")?{results:[{statement_id:0,series:[{name:"temperature",tags:{sensor_id:"sensor-001",location:"floor-1"},columns:["time","value"],values:fl(i,n,a,u=>[$t(22.5,2.5,36e5,u,.5)])},{name:"temperature",tags:{sensor_id:"sensor-002",location:"floor-2"},columns:["time","value"],values:fl(i,n,a,u=>[$t(21,1.5,36e5,u+9e5,.3)])}]}]}:{results:[{statement_id:0,series:[{name:o,columns:["time","value"],values:fl(i,n,a,u=>[$t(50,20,9e5,u,5)])}]}]}}const eg=["up","process_cpu_seconds_total","process_resident_memory_bytes","http_requests_total","http_request_duration_seconds_bucket","http_request_duration_seconds_sum","http_request_duration_seconds_count","go_goroutines","go_memstats_alloc_bytes","go_gc_duration_seconds","node_cpu_seconds_total","node_memory_MemTotal_bytes","node_memory_MemAvailable_bytes","node_filesystem_avail_bytes","node_network_receive_bytes_total","prometheus_tsdb_head_series","prometheus_tsdb_head_chunks","prometheus_engine_query_duration_seconds","prometheus_http_requests_total","scrape_duration_seconds","scrape_samples_scraped"];function Lse(t,e,r,n){const i=a=>{const l=[];for(let o=e;o<=r;o+=n)l.push([o,String(Math.round(a(o)*100)/100)]);return l};return t==="up"||t.startsWith("up")?{status:"success",data:{resultType:"matrix",result:[{metric:{__name__:"up",instance:"localhost:9090",job:"prometheus"},values:i(()=>1)},{metric:{__name__:"up",instance:"web-01:9100",job:"node"},values:i(()=>1)},{metric:{__name__:"up",instance:"web-02:9100",job:"node"},values:i(()=>1)},{metric:{__name__:"up",instance:"db-01:9100",job:"node"},values:i(a=>a>r-(r-e)*.3?0:1)}]}}:t.includes("rate")||t.includes("http")?{status:"success",data:{resultType:"matrix",result:[{metric:{method:"GET",code:"200",handler:"/api/v1/query"},values:i(a=>$t(45,20,600,a,5))},{metric:{method:"POST",code:"200",handler:"/api/v1/write"},values:i(a=>$t(15,8,900,a,3))}]}}:t.includes("cpu")||t.includes("process_cpu")?{status:"success",data:{resultType:"matrix",result:[{metric:{instance:"web-01:9100",job:"node"},values:i(a=>$t(.35,.15,600,a,.05))},{metric:{instance:"web-02:9100",job:"node"},values:i(a=>$t(.25,.1,500,a,.04))}]}}:t.includes("memory")||t.includes("mem")?{status:"success",data:{resultType:"matrix",result:[{metric:{instance:"web-01:9100",job:"node"},values:i(a=>$t(42e8,3e8,1800,a,1e8))},{metric:{instance:"web-02:9100",job:"node"},values:i(a=>$t(31e8,2e8,1200,a,8e7))}]}}:{status:"success",data:{resultType:"matrix",result:[{metric:{__name__:t.split(/[({]/)[0],instance:"localhost:9090"},values:i(a=>$t(50,20,900,a,5))}]}}}const Bse={data:{activeTargets:[{discoveredLabels:{__address__:"localhost:9090",__scheme__:"http",job:"prometheus"},labels:{instance:"localhost:9090",job:"prometheus"},scrapePool:"prometheus",scrapeUrl:"http://localhost:9090/metrics",globalUrl:"http://playground-server:9090/metrics",lastError:"",lastScrape:Ft(vt()-5e3),lastScrapeDuration:.012,health:"up",scrapeInterval:"15s",scrapeTimeout:"10s"},{discoveredLabels:{__address__:"web-01:9100",__scheme__:"http",job:"node"},labels:{instance:"web-01:9100",job:"node"},scrapePool:"node",scrapeUrl:"http://web-01:9100/metrics",globalUrl:"http://web-01:9100/metrics",lastError:"",lastScrape:Ft(vt()-8e3),lastScrapeDuration:.025,health:"up",scrapeInterval:"15s",scrapeTimeout:"10s"},{discoveredLabels:{__address__:"web-02:9100",__scheme__:"http",job:"node"},labels:{instance:"web-02:9100",job:"node"},scrapePool:"node",scrapeUrl:"http://web-02:9100/metrics",globalUrl:"http://web-02:9100/metrics",lastError:"",lastScrape:Ft(vt()-3e3),lastScrapeDuration:.018,health:"up",scrapeInterval:"15s",scrapeTimeout:"10s"},{discoveredLabels:{__address__:"db-01:9100",__scheme__:"http",job:"node"},labels:{instance:"db-01:9100",job:"node"},scrapePool:"node",scrapeUrl:"http://db-01:9100/metrics",globalUrl:"http://db-01:9100/metrics",lastError:"connection refused",lastScrape:Ft(vt()-2e3),lastScrapeDuration:0,health:"down",scrapeInterval:"15s",scrapeTimeout:"10s"}]}},zse={data:{groups:[{name:"node_alerts",file:"/etc/prometheus/rules/node.yml",rules:[{state:"firing",name:"InstanceDown",query:"up == 0",duration:300,labels:{severity:"critical"},annotations:{summary:"Instance {{ $labels.instance }} is down",description:"Instance has been unreachable for more than 5 minutes."},alerts:[{labels:{instance:"db-01:9100",job:"node",severity:"critical"},annotations:{summary:"Instance db-01:9100 is down"},state:"firing",activeAt:Ft(vt()-6e5),value:"0"}],health:"ok",type:"alerting",evaluationTime:.001,lastEvaluation:Ft(vt()-15e3)},{state:"inactive",name:"HighCPU",query:'rate(node_cpu_seconds_total{mode="user"}[5m]) > 0.8',duration:600,labels:{severity:"warning"},annotations:{summary:"High CPU usage on {{ $labels.instance }}"},alerts:[],health:"ok",type:"alerting",evaluationTime:.003,lastEvaluation:Ft(vt()-15e3)}],interval:15},{name:"recording_rules",file:"/etc/prometheus/rules/recording.yml",rules:[{name:"job:http_requests_total:rate5m",query:"sum(rate(http_requests_total[5m])) by (job)",labels:{},health:"ok",type:"recording",evaluationTime:.002,lastEvaluation:Ft(vt()-15e3)}],interval:15}]}},Ise={data:{headStats:{numSeries:24713,numLabelPairs:1847,chunkCount:98452},seriesCountByMetricName:[{name:"node_cpu_seconds_total",value:128},{name:"http_requests_total",value:96},{name:"http_request_duration_seconds_bucket",value:480},{name:"go_goroutines",value:12},{name:"process_cpu_seconds_total",value:8}],labelValueCountByLabelName:[{name:"__name__",value:312},{name:"instance",value:18},{name:"job",value:6},{name:"le",value:14},{name:"code",value:8}]}};Ft(vt()-864e5*3),Ft(vt()-36e5);const Use={data:{yaml:`global:
  scrape_interval: 15s
  evaluation_interval: 15s

rule_files:
  - /etc/prometheus/rules/*.yml

scrape_configs:
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']

  - job_name: 'node'
    static_configs:
      - targets: ['web-01:9100', 'web-02:9100', 'db-01:9100']
`}},qse={up:[{type:"gauge",help:"Target is up (1) or down (0).",unit:""}],http_requests_total:[{type:"counter",help:"Total HTTP requests processed.",unit:""}],process_cpu_seconds_total:[{type:"counter",help:"Total user and system CPU time spent in seconds.",unit:""}],go_goroutines:[{type:"gauge",help:"Number of goroutines that currently exist.",unit:""}],node_cpu_seconds_total:[{type:"counter",help:"Seconds the cpus spent in each mode.",unit:""}],process_resident_memory_bytes:[{type:"gauge",help:"Resident memory size in bytes.",unit:""}],scrape_duration_seconds:[{type:"gauge",help:"Duration of the scrape.",unit:""}]},Hse={data:[{duration:"0.234s",id:"1",remote_addr:"10.0.0.5:42817",query:"rate(http_requests_total[5m])",start:Math.floor(vt()/1e3)-3600,end:Math.floor(vt()/1e3),step:15},{duration:"1.102s",id:"2",remote_addr:"10.0.0.12:51923",query:"sum by (job) (up)",start:Math.floor(vt()/1e3)-900,end:Math.floor(vt()/1e3),step:15}]},$se={data:{topByCount:[{query:"up",count:4821,timeRangeSeconds:3600,avgDurationSeconds:.002},{query:"rate(http_requests_total[5m])",count:2104,timeRangeSeconds:3600,avgDurationSeconds:.015},{query:"node_cpu_seconds_total",count:1247,timeRangeSeconds:3600,avgDurationSeconds:.008}]}},v4={data:{totalSeries:31247,seriesCountByMetricName:[{name:"node_cpu_seconds_total",value:128},{name:"http_request_duration_seconds_bucket",value:480},{name:"http_requests_total",value:96},{name:"go_memstats_alloc_bytes",value:24}],labelValueCountByLabelName:[{name:"__name__",value:312},{name:"instance",value:18},{name:"job",value:6}]}},Vse=["20240115-120000-abc1234","20240114-060000-def5678"],b4=[{label:"CPU Usage (last 1h)",query:'SELECT mean("usage_user") FROM "cpu" WHERE time > now() - 1h GROUP BY time(10s), "host" fill(none)',db:"telegraf",description:"Average CPU usage per host over the last hour"},{label:"Memory Usage",query:'SELECT mean("used_percent") FROM "mem" WHERE time > now() - 1h GROUP BY time(10s) fill(none)',db:"telegraf",description:"Memory utilization percentage over the last hour"},{label:"HTTP Requests",query:'SELECT sum("count") FROM "http_requests" WHERE time > now() - 1h GROUP BY time(1m), "method" fill(0)',db:"app_metrics",description:"HTTP request count by method"},{label:"Temperature Sensors",query:'SELECT mean("value") FROM "temperature" WHERE time > now() - 1h GROUP BY time(30s), "sensor_id" fill(none)',db:"iot_sensors",description:"Temperature readings from IoT sensors"},{label:"Show Databases",query:"SHOW DATABASES",description:"List all databases on the server"},{label:"Show Measurements",query:"SHOW MEASUREMENTS",db:"telegraf",description:"List all measurements in telegraf database"}],Fse=[{label:"Target Status",query:"up",description:"Check which targets are up or down"},{label:"HTTP Request Rate",query:"rate(http_requests_total[5m])",description:"Per-second rate of HTTP requests over 5 minutes"},{label:"CPU Usage",query:"rate(process_cpu_seconds_total[5m])",description:"CPU usage rate by process"},{label:"Memory Usage",query:"process_resident_memory_bytes",description:"Resident memory usage per process"},{label:"Goroutines",query:"go_goroutines",description:"Number of goroutines per instance"},{label:"Scrape Duration",query:"scrape_duration_seconds",description:"Duration of each Prometheus scrape"}],Wse=[{label:"Target Status",query:"up",description:"Check which targets are up or down"},{label:"HTTP Request Rate",query:"rate(http_requests_total[5m])",description:"Per-second rate of HTTP requests over 5 minutes"},{label:"CPU Usage",query:"rate(process_cpu_seconds_total[5m])",description:"CPU usage rate by process"},{label:"Memory Usage",query:"process_resident_memory_bytes",description:"Resident memory usage per process"},{label:"Active Series",query:'vm_cache_entries{type="storage/metricName"}',description:"VictoriaMetrics active series count"},{label:"Ingestion Rate",query:"rate(vm_rows_inserted_total[5m])",description:"Data ingestion rate"}],w4=["#3b82f6","#8b5cf6","#ec4899","#f59e0b","#22c55e","#06b6d4"];function Kse(){const[t,e]=w.useState("telegraf"),[r,n]=w.useState(b4[0].query),[i,a]=w.useState(null),[l,o]=w.useState(null),[u,h]=w.useState(null),[m,p]=w.useState("chart"),[y,x]=w.useState([]),[b,N]=w.useState(!1),[j,C]=w.useState(new Set(["telegraf"])),[A,k]=w.useState(new Set),T=R=>{C(U=>{const W=new Set(U);return W.has(R)?W.delete(R):W.add(R),W})},D=R=>{k(U=>{const W=new Set(U);return W.has(R)?W.delete(R):W.add(R),W})},M=w.useCallback(()=>{const R=Date.now();o(null);try{const U=Rse(r,t);U.results?.[0]?.error?(o(U.results[0].error),a(null)):(a(U),x(W=>[r,...W.filter(H=>H!==r)].slice(0,20)))}catch(U){o(U.message),a(null)}h(Date.now()-R)},[r,t]),E=R=>{n(R.query),R.db&&e(R.db)},_=[],L=[];if(i?.results?.[0]?.series){const R=i.results[0].series,U=new Map;R.forEach((W,$)=>{const H=W.columns||[],F=W.tags?Object.values(W.tags).join("/"):"",Q=F?`${W.name||""}[${F}]`:W.name||`series-${$}`,se=H.filter((de,B)=>B>0&&typeof W.values?.[0]?.[B]=="number");se.forEach(de=>{const B=se.length>1?`${Q}.${de}`:Q;L.push(B)}),(W.values||[]).forEach(de=>{const B=de[0];U.has(B)||U.set(B,{time:B});const K=U.get(B);se.forEach(oe=>{const J=H.indexOf(oe),he=se.length>1?`${Q}.${oe}`:Q;K[he]=de[J]})})}),_.push(...Array.from(U.values()).sort((W,$)=>W.time<$.time?-1:1))}const I=[],z=[];if(i?.results?.[0]?.series?.[0]){const R=i.results[0].series[0];I.push(...R.columns||[]),R.tags&&Object.keys(R.tags).forEach(U=>{I.includes(U)||I.push(U)}),(i.results[0].series||[]).forEach(U=>{(U.values||[]).forEach(W=>{const $=[...W];U.tags&&Object.values(U.tags).forEach(H=>$.push(H)),z.push($)})})}return f.jsxs("div",{className:"flex h-full",children:[f.jsx("div",{className:"w-56 border-r border-gray-800 overflow-y-auto flex-shrink-0 bg-gray-900/50",children:f.jsxs("div",{className:"p-3",children:[f.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Schema Browser"}),Vf.map(R=>f.jsxs("div",{children:[f.jsxs("button",{onClick:()=>T(R),className:"flex items-center gap-1 w-full text-left text-xs py-1 px-1 hover:bg-gray-800 rounded text-gray-300",children:[j.has(R)?f.jsx(zi,{size:12}):f.jsx(Es,{size:12}),f.jsx("span",{className:"font-medium",children:R})]}),j.has(R)&&(Lw[R]||[]).map(U=>{const W=`${R}/${U}`;return f.jsxs("div",{className:"ml-3",children:[f.jsxs("button",{onClick:()=>D(W),className:"flex items-center gap-1 w-full text-left text-[11px] py-0.5 px-1 hover:bg-gray-800 rounded text-gray-400",children:[A.has(W)?f.jsx(zi,{size:10}):f.jsx(Es,{size:10}),U]}),A.has(W)&&f.jsxs("div",{className:"ml-4 text-[10px] text-gray-500 space-y-0.5 py-0.5",children:[(h6[U]||[]).map($=>f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"text-blue-400",children:"tag"})," ",$]},$)),(m6[U]||[]).map($=>f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"text-green-400",children:$.type})," ",$.key]},$.key))]})]},W)})]},R))]})}),f.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[f.jsxs("div",{className:"border-b border-gray-800 px-4 py-2 flex items-center gap-2 flex-wrap bg-gray-900/30",children:[f.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Examples:"}),b4.map(R=>f.jsx("button",{onClick:()=>E(R),title:R.description,className:"text-[11px] px-2 py-0.5 rounded bg-gray-800 text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",children:R.label},R.label))]}),f.jsxs("div",{className:"border-b border-gray-800 p-4 space-y-2",children:[f.jsxs("div",{className:"flex gap-2 items-start",children:[f.jsx("select",{value:t,onChange:R=>e(R.target.value),className:"bg-gray-800 border border-gray-700 rounded text-xs text-gray-300 px-2 py-2",children:Vf.map(R=>f.jsx("option",{value:R,children:R},R))}),f.jsx("textarea",{value:r,onChange:R=>n(R.target.value),onKeyDown:R=>{(R.ctrlKey||R.metaKey)&&R.key==="Enter"&&(R.preventDefault(),M())},rows:3,className:"flex-1 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-sm font-mono text-gray-200 focus:outline-none focus:border-blue-500 resize-y",placeholder:"Enter InfluxQL query..."}),f.jsxs("button",{onClick:M,className:"flex items-center gap-1.5 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded text-sm font-medium transition-colors",children:[f.jsx(Pl,{size:14}),"Run"]})]}),f.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[f.jsx("span",{children:"Ctrl+Enter to run"}),u!==null&&f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(Sa,{size:10})," ",u,"ms"]}),f.jsxs("button",{onClick:()=>N(!b),className:"flex items-center gap-1 text-gray-500 hover:text-gray-300 transition-colors",children:[f.jsx(Sa,{size:10})," History (",y.length,")"]})]}),b&&y.length>0&&f.jsx("div",{className:"bg-gray-800/50 rounded p-2 max-h-32 overflow-y-auto space-y-1",children:y.map((R,U)=>f.jsx("button",{onClick:()=>{n(R),N(!1)},className:"block w-full text-left text-xs font-mono text-gray-400 hover:text-white truncate px-2 py-0.5 hover:bg-gray-700 rounded",children:R},U))})]}),f.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[l&&f.jsx("div",{className:"bg-red-900/30 border border-red-800 rounded p-3 text-sm text-red-300 mb-4",children:l}),i&&!l&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsxs("button",{onClick:()=>p("chart"),className:`flex items-center gap-1 px-3 py-1 rounded text-xs font-medium transition-colors ${m==="chart"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:[f.jsx(va,{size:12})," Chart"]}),f.jsxs("button",{onClick:()=>p("table"),className:`flex items-center gap-1 px-3 py-1 rounded text-xs font-medium transition-colors ${m==="table"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:[f.jsx(Ug,{size:12})," Table"]}),i?.results?.[0]?.series&&f.jsxs("span",{className:"text-xs text-gray-500",children:[i.results[0].series.length," series, ",z.length," rows"]})]}),m==="chart"&&_.length>0&&L.length>0&&f.jsx("div",{className:"h-80 w-full",children:f.jsx(mc,{width:"100%",height:"100%",children:f.jsxs(wc,{data:_,children:[f.jsx($l,{strokeDasharray:"3 3",stroke:"#374151"}),f.jsx(Fl,{dataKey:"time",tick:{fontSize:10,fill:"#9ca3af"},tickFormatter:R=>new Date(R).toLocaleTimeString()}),f.jsx(Wl,{tick:{fontSize:10,fill:"#9ca3af"}}),f.jsx(bc,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"6px",fontSize:"12px"},labelFormatter:R=>new Date(R).toLocaleString()}),f.jsx(gd,{wrapperStyle:{fontSize:"11px"}}),L.slice(0,6).map((R,U)=>f.jsx(Vl,{type:"monotone",dataKey:R,stroke:w4[U%w4.length],dot:!1,strokeWidth:1.5},R))]})})}),m==="table"&&I.length>0&&f.jsxs("div",{className:"overflow-x-auto",children:[f.jsxs("table",{className:"w-full text-xs",children:[f.jsx("thead",{children:f.jsx("tr",{className:"border-b border-gray-700",children:I.map(R=>f.jsx("th",{className:"text-left px-3 py-2 text-gray-400 font-semibold",children:R},R))})}),f.jsx("tbody",{children:z.slice(0,200).map((R,U)=>f.jsx("tr",{className:"border-b border-gray-800/50 hover:bg-gray-800/30",children:R.map((W,$)=>f.jsx("td",{className:"px-3 py-1.5 text-gray-300 font-mono",children:typeof W=="number"?W.toLocaleString():String(W??"")},$))},U))})]}),z.length>200&&f.jsxs("p",{className:"text-xs text-gray-500 mt-2 px-3",children:["Showing 200 of ",z.length," rows"]})]}),m==="chart"&&(_.length===0||L.length===0)&&f.jsx("div",{className:"text-gray-500 text-sm py-8 text-center",children:"No chart data  this query returns metadata. Switch to Table view."})]}),!i&&!l&&f.jsxs("div",{className:"text-gray-500 text-sm py-12 text-center",children:[f.jsx(Rl,{size:24,className:"mx-auto mb-2 text-gray-600"}),"Select an example query or write your own, then click ",f.jsx("strong",{children:"Run"}),"."]})]})]})]})}const S4=["#3b82f6","#ef4444","#22c55e","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#f97316","#14b8a6","#a855f7"],j4=[{label:"15m",seconds:900},{label:"1h",seconds:3600},{label:"3h",seconds:10800},{label:"6h",seconds:21600},{label:"1d",seconds:86400}];function Gse(t){return t<=3600?15:t<=21600?60:t<=86400?300:600}function N4(t){const e=t.__name__||"",r=Object.entries(t).filter(([n])=>n!=="__name__").map(([n,i])=>`${n}="${i}"`).join(", ");return r?`${e}{${r}}`:e}function C4(){const{backendType:t}=KS(),e=t==="victoriametrics",r=e?Wse:Fse,[n,i]=w.useState("up"),[a,l]=w.useState(1),[o,u]=w.useState("chart"),[h,m]=w.useState(null),[p,y]=w.useState(null),[x,b]=w.useState(null),[,N]=w.useState([]),[j,C]=w.useState(!1),[A,k]=w.useState(""),T=w.useCallback(()=>{const _=Date.now();b(null);try{const L=j4[a],I=Math.floor(Date.now()/1e3),z=I-L.seconds,R=Gse(L.seconds),U=Lse(n,z,I,R);m(U),N(W=>[n,...W.filter($=>$!==n)].slice(0,20))}catch(L){b(L.message),m(null)}y(Date.now()-_)},[n,a]),D=[],M=[];if(h?.data?.result){const _=h.data.result;_.forEach(I=>{const z=N4(I.metric);M.push(z)});const L=new Map;_.forEach((I,z)=>{const R=M[z];(I.values||[]).forEach(([U,W])=>{L.has(U)||L.set(U,{time:U}),L.get(U)[R]=parseFloat(W)})}),D.push(...Array.from(L.values()).sort((I,z)=>I.time-z.time))}const E=eg.filter(_=>!A||_.toLowerCase().includes(A.toLowerCase()));return f.jsxs("div",{className:"flex flex-col h-full",children:[f.jsxs("div",{className:"border-b border-gray-800 px-4 py-2 flex items-center gap-2 flex-wrap bg-gray-900/30",children:[f.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Examples:"}),r.map(_=>f.jsx("button",{onClick:()=>i(_.query),title:_.description,className:"text-[11px] px-2 py-0.5 rounded bg-gray-800 text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",children:_.label},_.label))]}),f.jsxs("div",{className:"border-b border-gray-800 p-4 space-y-2",children:[f.jsxs("div",{className:"flex gap-2 items-start",children:[f.jsxs("div",{className:"flex-1 space-y-1",children:[f.jsx("textarea",{value:n,onChange:_=>i(_.target.value),onKeyDown:_=>{(_.ctrlKey||_.metaKey)&&_.key==="Enter"&&(_.preventDefault(),T())},rows:2,className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-sm font-mono text-gray-200 focus:outline-none focus:border-blue-500 resize-y",placeholder:e?"Enter MetricsQL query...":"Enter PromQL query..."}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[10px] text-gray-500",children:"Metrics:"}),f.jsx("button",{onClick:()=>C(!j),className:"text-[10px] text-blue-400 hover:text-blue-300",children:j?"Hide":`Browse (${eg.length})`})]})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("div",{className:"flex gap-1",children:j4.map((_,L)=>f.jsx("button",{onClick:()=>l(L),className:`px-2 py-1 rounded text-xs font-medium transition-colors ${a===L?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:_.label},_.label))}),f.jsxs("button",{onClick:T,className:"flex items-center justify-center gap-1.5 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded text-sm font-medium transition-colors",children:[f.jsx(Pl,{size:14}),"Execute"]})]})]}),p!==null&&f.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[f.jsx(Sa,{size:10})," ",p,"ms"]})]}),j&&f.jsxs("div",{className:"border-b border-gray-800 px-4 py-2 bg-gray-900/50 max-h-40 overflow-y-auto",children:[f.jsx("input",{type:"text",placeholder:"Filter metrics...",value:A,onChange:_=>k(_.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-gray-300 mb-1 focus:outline-none focus:border-blue-500"}),f.jsx("div",{className:"flex flex-wrap gap-1",children:E.map(_=>f.jsx("button",{onClick:()=>{i(_),C(!1)},className:"text-[10px] px-1.5 py-0.5 rounded bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-white font-mono",children:_},_))})]}),f.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[x&&f.jsx("div",{className:"bg-red-900/30 border border-red-800 rounded p-3 text-sm text-red-300 mb-4",children:x}),h&&!x&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsxs("button",{onClick:()=>u("chart"),className:`flex items-center gap-1 px-3 py-1 rounded text-xs font-medium transition-colors ${o==="chart"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:[f.jsx(va,{size:12})," Chart"]}),f.jsxs("button",{onClick:()=>u("table"),className:`flex items-center gap-1 px-3 py-1 rounded text-xs font-medium transition-colors ${o==="table"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:[f.jsx(Ug,{size:12})," Table"]}),f.jsxs("span",{className:"text-xs text-gray-500",children:[h.data?.result?.length||0," series"]})]}),o==="chart"&&D.length>0&&f.jsx("div",{className:"h-80 w-full",children:f.jsx(mc,{width:"100%",height:"100%",children:f.jsxs(wc,{data:D,children:[f.jsx($l,{strokeDasharray:"3 3",stroke:"#374151"}),f.jsx(Fl,{dataKey:"time",tick:{fontSize:10,fill:"#9ca3af"},tickFormatter:_=>new Date(_*1e3).toLocaleTimeString()}),f.jsx(Wl,{tick:{fontSize:10,fill:"#9ca3af"}}),f.jsx(bc,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"6px",fontSize:"12px"},labelFormatter:_=>new Date(_*1e3).toLocaleString()}),f.jsx(gd,{wrapperStyle:{fontSize:"11px"}}),M.slice(0,10).map((_,L)=>f.jsx(Vl,{type:"monotone",dataKey:_,stroke:S4[L%S4.length],dot:!1,strokeWidth:1.5},_))]})})}),o==="table"&&h.data?.result&&f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-gray-700",children:[f.jsx("th",{className:"text-left px-3 py-2 text-gray-400 font-semibold",children:"Series"}),f.jsx("th",{className:"text-left px-3 py-2 text-gray-400 font-semibold",children:"Timestamp"}),f.jsx("th",{className:"text-left px-3 py-2 text-gray-400 font-semibold",children:"Value"})]})}),f.jsx("tbody",{children:h.data.result.map((_,L)=>{const I=N4(_.metric),z=_.values||(_.value?[_.value]:[]);return z.slice(0,50).map(([R,U],W)=>f.jsxs("tr",{className:"border-b border-gray-800/50 hover:bg-gray-800/30",children:[W===0&&f.jsx("td",{rowSpan:Math.min(z.length,50),className:"px-3 py-1.5 text-gray-300 font-mono align-top",children:I}),f.jsx("td",{className:"px-3 py-1.5 text-gray-400 font-mono",children:new Date(R*1e3).toLocaleString()}),f.jsx("td",{className:"px-3 py-1.5 text-gray-200 font-mono",children:U})]},`${L}-${W}`))})})]})})]}),!h&&!x&&f.jsxs("div",{className:"text-gray-500 text-sm py-12 text-center",children:[f.jsx(Rl,{size:24,className:"mx-auto mb-2 text-gray-600"}),"Select an example query or write your own, then click ",f.jsx("strong",{children:"Execute"}),"."]})]})]})}function an({feature:t}){return f.jsxs("div",{className:"bg-amber-900/20 border border-amber-700/50 rounded-lg p-3 mb-4 flex items-start gap-2",children:[f.jsx(eH,{size:14,className:"text-amber-400 flex-shrink-0 mt-0.5"}),f.jsxs("p",{className:"text-xs text-amber-300/90",children:[f.jsx("strong",{children:"Playground Mode:"})," ",t," operations are read-only with sample data. To use write/admin features, run the binary with your actual database connection."]})]})}function Yse(){const[t,e]=w.useState("dbs");return f.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-4",children:[f.jsx("h1",{className:"text-xl font-bold text-white",children:"Database Admin"}),f.jsx(an,{feature:"Create/drop database and user management"}),f.jsx("div",{className:"flex gap-2 mb-4",children:["dbs","cqs","users"].map(r=>f.jsx("button",{onClick:()=>e(r),className:`px-3 py-1.5 rounded text-xs font-medium transition-colors ${t===r?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:r==="dbs"?"Databases":r==="cqs"?"Continuous Queries":"Users"},r))}),t==="dbs"&&f.jsx("div",{className:"space-y-3",children:Vf.map(r=>{const n=Bw[r]||[];return f.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[f.jsx("h3",{className:"text-sm font-semibold text-white mb-2",children:r}),f.jsxs("table",{className:"w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-gray-700",children:[f.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Retention Policy"}),f.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Duration"}),f.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Shard Duration"}),f.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Replica"}),f.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Default"})]})}),f.jsx("tbody",{children:n.map(i=>f.jsxs("tr",{className:"border-b border-gray-800/50",children:[f.jsx("td",{className:"px-2 py-1.5 text-gray-200 font-mono",children:i.name}),f.jsx("td",{className:"px-2 py-1.5 text-gray-300",children:i.duration==="0s"?"INF":i.duration}),f.jsx("td",{className:"px-2 py-1.5 text-gray-300",children:i.shardGroupDuration}),f.jsx("td",{className:"px-2 py-1.5 text-gray-300",children:i.replicaN}),f.jsx("td",{className:"px-2 py-1.5",children:i.default?f.jsx(kf,{size:12,className:"text-green-400"}):f.jsx("span",{className:"text-gray-600",children:"-"})})]},i.name))})]})]},r)})}),t==="cqs"&&f.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:g6.map(r=>f.jsxs("div",{className:"mb-3",children:[f.jsx("h3",{className:"text-xs font-semibold text-gray-400 mb-1",children:r.name}),r.values.length===0?f.jsx("p",{className:"text-xs text-gray-600",children:"No continuous queries"}):r.values.map((n,i)=>f.jsxs("div",{className:"bg-gray-800 rounded p-2 mb-1",children:[f.jsx("span",{className:"text-xs text-blue-400 font-medium",children:n[0]}),f.jsx("pre",{className:"text-[10px] text-gray-400 font-mono mt-1 whitespace-pre-wrap",children:n[1]})]},i))]},r.name))}),t==="users"&&f.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:f.jsxs("table",{className:"w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-gray-700",children:[f.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Username"}),f.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Admin"})]})}),f.jsx("tbody",{children:p6.map(r=>f.jsxs("tr",{className:"border-b border-gray-800/50",children:[f.jsx("td",{className:"px-2 py-1.5 text-gray-200 font-mono",children:r.user}),f.jsx("td",{className:"px-2 py-1.5",children:r.admin?f.jsx(kf,{size:12,className:"text-green-400"}):f.jsx(Lg,{size:12,className:"text-gray-600"})})]},r.user))})]})})]})}function Qse(){const[t,e]=w.useState("cpu,host=web-01 usage_user=42.5,usage_system=8.2 1609459200000000000"),[r,n]=w.useState(!1);return f.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-4",children:[f.jsx("h1",{className:"text-xl font-bold text-white",children:"Write Data"}),f.jsx(an,{feature:"Write"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Database"}),f.jsx("select",{className:"bg-gray-800 border border-gray-700 rounded text-xs text-gray-300 px-2 py-1.5",children:Vf.map(i=>f.jsx("option",{children:i},i))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Line Protocol Data"}),f.jsx("textarea",{value:t,onChange:i=>e(i.target.value),rows:6,className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-sm font-mono text-gray-200 focus:outline-none focus:border-blue-500"})]}),f.jsx("button",{onClick:()=>n(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded text-sm font-medium transition-colors",children:"Write (Simulated)"}),r&&f.jsxs("div",{className:"bg-green-900/30 border border-green-700/50 rounded p-3 text-xs text-green-300",children:[f.jsx(kf,{size:12,className:"inline mr-1"}),"Simulated write accepted. In production, this would write to your actual InfluxDB instance."]})]})]})}function Xse(){return f.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-4",children:[f.jsx("h1",{className:"text-xl font-bold text-white",children:"System Health"}),f.jsx(an,{feature:"System health monitoring"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[f.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[f.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Version"}),f.jsx("div",{className:"text-lg font-semibold text-white",children:"1.8.10"})]}),f.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[f.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Uptime"}),f.jsx("div",{className:"text-lg font-semibold text-white",children:"72h 15m"})]}),f.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[f.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Total Series"}),f.jsx("div",{className:"text-lg font-semibold text-white",children:"4,287"})]})]}),f.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[f.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Runtime Stats"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-500",children:"Queries Executed"}),f.jsx("div",{className:"text-white font-mono mt-0.5",children:"47,821"})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-500",children:"Points Written"}),f.jsx("div",{className:"text-white font-mono mt-0.5",children:"2,847,193"})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-500",children:"Write Requests"}),f.jsx("div",{className:"text-white font-mono mt-0.5",children:"9,481"})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-500",children:"GOMAXPROCS"}),f.jsx("div",{className:"text-white font-mono mt-0.5",children:"4"})]})]})]}),f.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[f.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Database Stats"}),f.jsxs("table",{className:"w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-gray-700",children:[f.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Database"}),f.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Measurements"}),f.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Series"})]})}),f.jsxs("tbody",{children:[f.jsxs("tr",{className:"border-b border-gray-800/50",children:[f.jsx("td",{className:"px-2 py-1.5 text-gray-200",children:"telegraf"}),f.jsx("td",{className:"px-2 py-1.5 text-gray-300",children:"7"}),f.jsx("td",{className:"px-2 py-1.5 text-gray-300",children:"3,142"})]}),f.jsxs("tr",{className:"border-b border-gray-800/50",children:[f.jsx("td",{className:"px-2 py-1.5 text-gray-200",children:"app_metrics"}),f.jsx("td",{className:"px-2 py-1.5 text-gray-300",children:"4"}),f.jsx("td",{className:"px-2 py-1.5 text-gray-300",children:"847"})]}),f.jsxs("tr",{className:"border-b border-gray-800/50",children:[f.jsx("td",{className:"px-2 py-1.5 text-gray-200",children:"iot_sensors"}),f.jsx("td",{className:"px-2 py-1.5 text-gray-300",children:"4"}),f.jsx("td",{className:"px-2 py-1.5 text-gray-300",children:"298"})]})]})]})]})]})}function k4(){const t=Bse.data.activeTargets;return f.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-4",children:[f.jsx("h1",{className:"text-xl font-bold text-white",children:"Targets"}),f.jsx(an,{feature:"Target management"}),f.jsx("div",{className:"grid gap-3",children:t.map((e,r)=>f.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[e.health==="up"?f.jsx(kf,{size:16,className:"text-green-400"}):f.jsx(Lg,{size:16,className:"text-red-400"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium text-white",children:e.labels.instance}),f.jsxs("div",{className:"text-xs text-gray-400",children:["Job: ",e.labels.job,"  Pool: ",e.scrapePool]})]})]}),f.jsxs("div",{className:"text-right text-xs",children:[f.jsxs("div",{className:"text-gray-400",children:[e.scrapeInterval," interval"]}),f.jsxs("div",{className:"text-gray-500",children:["Last: ",e.lastScrapeDuration.toFixed(3),"s ago"]}),e.lastError&&f.jsx("div",{className:"text-red-400 mt-0.5",children:e.lastError})]})]},r))})]})}function O4(){const t=zse.data.groups;return f.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-4",children:[f.jsx("h1",{className:"text-xl font-bold text-white",children:"Alert Rules"}),f.jsx(an,{feature:"Alert rule management"}),t.map(e=>f.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[f.jsxs("h3",{className:"text-sm font-semibold text-white mb-2",children:[e.name," ",f.jsx("span",{className:"text-xs text-gray-500 font-normal",children:e.file})]}),f.jsx("div",{className:"space-y-2",children:e.rules.map((r,n)=>f.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.type==="alerting"&&f.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-medium ${r.state==="firing"?"bg-red-600/30 text-red-300":r.state==="pending"?"bg-yellow-600/30 text-yellow-300":"bg-green-600/30 text-green-300"}`,children:r.state?.toUpperCase()||"INACTIVE"}),f.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-medium ${r.type==="alerting"?"bg-orange-600/20 text-orange-300":"bg-blue-600/20 text-blue-300"}`,children:r.type}),f.jsx("span",{className:"text-sm font-medium text-white",children:r.name})]}),f.jsx("pre",{className:"text-[11px] text-gray-400 font-mono",children:r.query}),r.alerts&&r.alerts.length>0&&f.jsxs("div",{className:"mt-2 text-xs text-red-300",children:[f.jsx(tc,{size:10,className:"inline mr-1"}),r.alerts.length," active alert(s)"]})]},n))})]},e.name))]})}function A4(){const{backendType:t}=KS(),e=t==="victoriametrics",r=e?v4.data:Ise.data,n=r.headStats;return f.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-4",children:[f.jsx("h1",{className:"text-xl font-bold text-white",children:"TSDB Status"}),f.jsx(an,{feature:"TSDB"}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e?f.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[f.jsx("div",{className:"text-xs text-gray-500",children:"Total Series"}),f.jsx("div",{className:"text-xl font-semibold text-white",children:v4.data.totalSeries.toLocaleString()})]}):n?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[f.jsx("div",{className:"text-xs text-gray-500",children:"Head Series"}),f.jsx("div",{className:"text-xl font-semibold text-white",children:n.numSeries.toLocaleString()})]}),f.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[f.jsx("div",{className:"text-xs text-gray-500",children:"Label Pairs"}),f.jsx("div",{className:"text-xl font-semibold text-white",children:n.numLabelPairs.toLocaleString()})]}),f.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[f.jsx("div",{className:"text-xs text-gray-500",children:"Chunks"}),f.jsx("div",{className:"text-xl font-semibold text-white",children:n.chunkCount.toLocaleString()})]})]}):null}),f.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[f.jsx("h3",{className:"text-sm font-semibold text-white mb-2",children:"Top Series by Metric Name"}),f.jsxs("table",{className:"w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-gray-700",children:[f.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Metric"}),f.jsx("th",{className:"text-right px-2 py-1 text-gray-400",children:"Series Count"})]})}),f.jsx("tbody",{children:r.seriesCountByMetricName.map(i=>f.jsxs("tr",{className:"border-b border-gray-800/50",children:[f.jsx("td",{className:"px-2 py-1.5 text-gray-200 font-mono",children:i.name}),f.jsx("td",{className:"px-2 py-1.5 text-gray-300 text-right",children:i.value.toLocaleString()})]},i.name))})]})]}),f.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[f.jsx("h3",{className:"text-sm font-semibold text-white mb-2",children:"Label Value Count by Label"}),f.jsxs("table",{className:"w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-gray-700",children:[f.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Label"}),f.jsx("th",{className:"text-right px-2 py-1 text-gray-400",children:"Value Count"})]})}),f.jsx("tbody",{children:r.labelValueCountByLabelName.map(i=>f.jsxs("tr",{className:"border-b border-gray-800/50",children:[f.jsx("td",{className:"px-2 py-1.5 text-gray-200 font-mono",children:i.name}),f.jsx("td",{className:"px-2 py-1.5 text-gray-300 text-right",children:i.value.toLocaleString()})]},i.name))})]})]})]})}function E4(){const[t,e]=w.useState(""),r=eg.filter(n=>!t||n.toLowerCase().includes(t.toLowerCase()));return f.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-4",children:[f.jsx("h1",{className:"text-xl font-bold text-white",children:"Metrics Explorer"}),f.jsx(an,{feature:"Metrics exploration"}),f.jsx("input",{type:"text",placeholder:"Filter metrics...",value:t,onChange:n=>e(n.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-sm text-gray-300 focus:outline-none focus:border-blue-500"}),f.jsx("div",{className:"space-y-1",children:r.map(n=>{const i=qse[n];return f.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded p-3 flex items-center justify-between",children:[f.jsx("span",{className:"font-mono text-sm text-gray-200",children:n}),i&&f.jsxs("div",{className:"text-xs text-gray-500",children:[f.jsx("span",{className:"bg-gray-800 px-1.5 py-0.5 rounded",children:i[0].type}),i[0].help&&f.jsx("span",{className:"ml-2",children:i[0].help})]})]},n)})}),f.jsxs("p",{className:"text-xs text-gray-500",children:[r.length," of ",eg.length," metrics"]})]})}function T4(){return f.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-4",children:[f.jsx("h1",{className:"text-xl font-bold text-white",children:"Configuration"}),f.jsx(an,{feature:"Configuration viewing"}),f.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:f.jsx("pre",{className:"text-xs font-mono text-gray-300 whitespace-pre-wrap",children:Use.data.yaml})})]})}function Zse(){const t=Hse.data;return f.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-4",children:[f.jsx("h1",{className:"text-xl font-bold text-white",children:"Active Queries"}),f.jsx(an,{feature:"Query management"}),f.jsxs("table",{className:"w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-gray-700",children:[f.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"ID"}),f.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Query"}),f.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Duration"}),f.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Remote"})]})}),f.jsx("tbody",{children:t.map(e=>f.jsxs("tr",{className:"border-b border-gray-800/50",children:[f.jsx("td",{className:"px-2 py-1.5 text-gray-300",children:e.id}),f.jsx("td",{className:"px-2 py-1.5 text-gray-200 font-mono",children:e.query}),f.jsx("td",{className:"px-2 py-1.5 text-gray-400",children:e.duration}),f.jsx("td",{className:"px-2 py-1.5 text-gray-500",children:e.remote_addr})]},e.id))})]}),f.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"Top Queries"}),f.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[f.jsx("h3",{className:"text-xs font-semibold text-gray-400 mb-2",children:"By Count"}),$se.data.topByCount.map((e,r)=>f.jsxs("div",{className:"flex items-center justify-between py-1 border-b border-gray-800/50",children:[f.jsx("span",{className:"text-xs font-mono text-gray-300 truncate flex-1",children:e.query}),f.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:[e.count," calls"]})]},r))]})]})}function Jse(){return f.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-4",children:[f.jsx("h1",{className:"text-xl font-bold text-white",children:"Snapshots"}),f.jsx(an,{feature:"Snapshot creation/deletion"}),f.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 space-y-2",children:Vse.map(t=>f.jsxs("div",{className:"flex items-center justify-between bg-gray-800 rounded p-3",children:[f.jsx("span",{className:"text-sm font-mono text-gray-200",children:t}),f.jsx("span",{className:"text-xs text-gray-500",children:"Read-only in playground"})]},t))})]})}function ele(){return f.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-4",children:[f.jsx("h1",{className:"text-xl font-bold text-white",children:"Export / Import"}),f.jsx(an,{feature:"Data export and import"}),f.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:f.jsx("p",{className:"text-sm text-gray-400",children:"In production, this page lets you export data in JSON, CSV, or native format and import data from various sources. Connect a real VictoriaMetrics instance to use this feature."})})]})}function tle(){return f.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-4",children:[f.jsx("h1",{className:"text-xl font-bold text-white",children:"Admin Operations"}),f.jsx(an,{feature:"Admin operations (force merge, cache reset, series deletion)"}),f.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:f.jsxs("div",{className:"grid gap-3",children:[f.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[f.jsx("h3",{className:"text-sm font-medium text-white mb-1",children:"Force Merge"}),f.jsx("p",{className:"text-xs text-gray-400",children:"Triggers immediate compaction of data files. Disabled in playground."})]}),f.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[f.jsx("h3",{className:"text-sm font-medium text-white mb-1",children:"Reset Rollup Cache"}),f.jsx("p",{className:"text-xs text-gray-400",children:"Clears the rollup result cache. Disabled in playground."})]}),f.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[f.jsx("h3",{className:"text-sm font-medium text-white mb-1",children:"Delete Series"}),f.jsx("p",{className:"text-xs text-gray-400",children:"Deletes time series matching a selector. Disabled in playground."})]})]})})]})}function rle(){return f.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-4",children:[f.jsx("h1",{className:"text-xl font-bold text-white",children:"Service Discovery"}),f.jsx(an,{feature:"Service discovery"}),f.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[f.jsx("h3",{className:"text-sm font-medium text-white",children:"prometheus"}),f.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Static config  1 target: localhost:9090"})]}),f.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[f.jsx("h3",{className:"text-sm font-medium text-white",children:"node"}),f.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Static config  3 targets: web-01:9100, web-02:9100, db-01:9100"})]})]})})]})}function M4(){return f.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-4",children:[f.jsx("h1",{className:"text-xl font-bold text-white",children:"Alertmanager"}),f.jsx(an,{feature:"Alertmanager integration"}),f.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:f.jsx("p",{className:"text-sm text-gray-400",children:"No Alertmanager connected in playground mode. In production, this page shows active alerts, silences, and lets you create/manage silences."})})]})}function nle(){return f.jsx(BH,{children:f.jsx(GH,{children:f.jsxs(f_,{children:[f.jsx(Oe,{path:"/",element:f.jsx(Fo,{to:"/influxdb/query",replace:!0})}),f.jsx(Oe,{path:"/influxdb/query",element:f.jsx(Kse,{})}),f.jsx(Oe,{path:"/influxdb/admin",element:f.jsx(Yse,{})}),f.jsx(Oe,{path:"/influxdb/write",element:f.jsx(Qse,{})}),f.jsx(Oe,{path:"/influxdb/health",element:f.jsx(Xse,{})}),f.jsx(Oe,{path:"/prometheus/query",element:f.jsx(C4,{})}),f.jsx(Oe,{path:"/prometheus/targets",element:f.jsx(k4,{})}),f.jsx(Oe,{path:"/prometheus/alerts",element:f.jsx(O4,{})}),f.jsx(Oe,{path:"/prometheus/alertmanager",element:f.jsx(M4,{})}),f.jsx(Oe,{path:"/prometheus/tsdb",element:f.jsx(A4,{})}),f.jsx(Oe,{path:"/prometheus/metrics",element:f.jsx(E4,{})}),f.jsx(Oe,{path:"/prometheus/config",element:f.jsx(T4,{})}),f.jsx(Oe,{path:"/prometheus/service-discovery",element:f.jsx(rle,{})}),f.jsx(Oe,{path:"/victoriametrics/query",element:f.jsx(C4,{})}),f.jsx(Oe,{path:"/victoriametrics/targets",element:f.jsx(k4,{})}),f.jsx(Oe,{path:"/victoriametrics/alerts",element:f.jsx(O4,{})}),f.jsx(Oe,{path:"/victoriametrics/alertmanager",element:f.jsx(M4,{})}),f.jsx(Oe,{path:"/victoriametrics/metrics",element:f.jsx(E4,{})}),f.jsx(Oe,{path:"/victoriametrics/config",element:f.jsx(T4,{})}),f.jsx(Oe,{path:"/victoriametrics/tsdb",element:f.jsx(A4,{})}),f.jsx(Oe,{path:"/victoriametrics/active-queries",element:f.jsx(Zse,{})}),f.jsx(Oe,{path:"/victoriametrics/snapshots",element:f.jsx(Jse,{})}),f.jsx(Oe,{path:"/victoriametrics/export-import",element:f.jsx(ele,{})}),f.jsx(Oe,{path:"/victoriametrics/admin",element:f.jsx(tle,{})})]})})})}function zw(){return zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zw.apply(null,arguments)}function ile(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}let Iw=[],y6=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,r=0;e<t.length;e++)(e%2?y6:Iw).push(r=r+t[e])})();function ale(t){if(t<768)return!1;for(let e=0,r=Iw.length;;){let n=e+r>>1;if(t<Iw[n])r=n;else if(t>=y6[n])e=n+1;else return!0;if(e==r)return!1}}function D4(t){return t>=127462&&t<=127487}const _4=8205;function sle(t,e,r=!0,n=!0){return(r?x6:lle)(t,e,n)}function x6(t,e,r){if(e==t.length)return e;e&&v6(t.charCodeAt(e))&&b6(t.charCodeAt(e-1))&&e--;let n=Wb(t,e);for(e+=P4(n);e<t.length;){let i=Wb(t,e);if(n==_4||i==_4||r&&ale(i))e+=P4(i),n=i;else if(D4(i)){let a=0,l=e-2;for(;l>=0&&D4(Wb(t,l));)a++,l-=2;if(a%2==0)break;e+=2}else break}return e}function lle(t,e,r){for(;e>0;){let n=x6(t,e-2,r);if(n<e)return n;e--}return 0}function Wb(t,e){let r=t.charCodeAt(e);if(!b6(r)||e+1==t.length)return r;let n=t.charCodeAt(e+1);return v6(n)?(r-55296<<10)+(n-56320)+65536:r}function v6(t){return t>=56320&&t<57344}function b6(t){return t>=55296&&t<56320}function P4(t){return t<65536?1:2}class Ge{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,r,n){[e,r]=Sc(this,e,r);let i=[];return this.decompose(0,e,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(r,this.length,i,1),Ai.from(i,this.length-(r-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,r=this.length){[e,r]=Sc(this,e,r);let n=[];return this.decompose(e,r,n,0),Ai.from(n,r-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let r=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),i=new gf(this),a=new gf(e);for(let l=r,o=r;;){if(i.next(l),a.next(l),l=0,i.lineBreak!=a.lineBreak||i.done!=a.done||i.value!=a.value)return!1;if(o+=i.value.length,i.done||o>=n)return!0}}iter(e=1){return new gf(this,e)}iterRange(e,r=this.length){return new w6(this,e,r)}iterLines(e,r){let n;if(e==null)n=this.iter();else{r==null&&(r=this.lines+1);let i=this.line(e).from;n=this.iterRange(i,Math.max(i,r==this.lines+1?this.length:r<=1?0:this.line(r-1).to))}return new S6(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Ge.empty:e.length<=32?new Mt(e):Ai.from(Mt.split(e,[]))}}class Mt extends Ge{constructor(e,r=ole(e)){super(),this.text=e,this.length=r}get lines(){return this.text.length}get children(){return null}lineInner(e,r,n,i){for(let a=0;;a++){let l=this.text[a],o=i+l.length;if((r?n:o)>=e)return new cle(i,o,n,l);i=o+1,n++}}decompose(e,r,n,i){let a=e<=0&&r>=this.length?this:new Mt(R4(this.text,e,r),Math.min(r,this.length)-Math.max(0,e));if(i&1){let l=n.pop(),o=Gm(a.text,l.text.slice(),0,a.length);if(o.length<=32)n.push(new Mt(o,l.length+a.length));else{let u=o.length>>1;n.push(new Mt(o.slice(0,u)),new Mt(o.slice(u)))}}else n.push(a)}replace(e,r,n){if(!(n instanceof Mt))return super.replace(e,r,n);[e,r]=Sc(this,e,r);let i=Gm(this.text,Gm(n.text,R4(this.text,0,e)),r),a=this.length+n.length-(r-e);return i.length<=32?new Mt(i,a):Ai.from(Mt.split(i,[]),a)}sliceString(e,r=this.length,n=`
`){[e,r]=Sc(this,e,r);let i="";for(let a=0,l=0;a<=r&&l<this.text.length;l++){let o=this.text[l],u=a+o.length;a>e&&l&&(i+=n),e<u&&r>a&&(i+=o.slice(Math.max(0,e-a),r-a)),a=u+1}return i}flatten(e){for(let r of this.text)e.push(r)}scanIdentical(){return 0}static split(e,r){let n=[],i=-1;for(let a of e)n.push(a),i+=a.length+1,n.length==32&&(r.push(new Mt(n,i)),n=[],i=-1);return i>-1&&r.push(new Mt(n,i)),r}}class Ai extends Ge{constructor(e,r){super(),this.children=e,this.length=r,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,r,n,i){for(let a=0;;a++){let l=this.children[a],o=i+l.length,u=n+l.lines-1;if((r?u:o)>=e)return l.lineInner(e,r,n,i);i=o+1,n=u+1}}decompose(e,r,n,i){for(let a=0,l=0;l<=r&&a<this.children.length;a++){let o=this.children[a],u=l+o.length;if(e<=u&&r>=l){let h=i&((l<=e?1:0)|(u>=r?2:0));l>=e&&u<=r&&!h?n.push(o):o.decompose(e-l,r-l,n,h)}l=u+1}}replace(e,r,n){if([e,r]=Sc(this,e,r),n.lines<this.lines)for(let i=0,a=0;i<this.children.length;i++){let l=this.children[i],o=a+l.length;if(e>=a&&r<=o){let u=l.replace(e-a,r-a,n),h=this.lines-l.lines+u.lines;if(u.lines<h>>4&&u.lines>h>>6){let m=this.children.slice();return m[i]=u,new Ai(m,this.length-(r-e)+n.length)}return super.replace(a,o,u)}a=o+1}return super.replace(e,r,n)}sliceString(e,r=this.length,n=`
`){[e,r]=Sc(this,e,r);let i="";for(let a=0,l=0;a<this.children.length&&l<=r;a++){let o=this.children[a],u=l+o.length;l>e&&a&&(i+=n),e<u&&r>l&&(i+=o.sliceString(e-l,r-l,n)),l=u+1}return i}flatten(e){for(let r of this.children)r.flatten(e)}scanIdentical(e,r){if(!(e instanceof Ai))return 0;let n=0,[i,a,l,o]=r>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=r,a+=r){if(i==l||a==o)return n;let u=this.children[i],h=e.children[a];if(u!=h)return n+u.scanIdentical(h,r);n+=u.length+1}}static from(e,r=e.reduce((n,i)=>n+i.length+1,-1)){let n=0;for(let x of e)n+=x.lines;if(n<32){let x=[];for(let b of e)b.flatten(x);return new Mt(x,r)}let i=Math.max(32,n>>5),a=i<<1,l=i>>1,o=[],u=0,h=-1,m=[];function p(x){let b;if(x.lines>a&&x instanceof Ai)for(let N of x.children)p(N);else x.lines>l&&(u>l||!u)?(y(),o.push(x)):x instanceof Mt&&u&&(b=m[m.length-1])instanceof Mt&&x.lines+b.lines<=32?(u+=x.lines,h+=x.length+1,m[m.length-1]=new Mt(b.text.concat(x.text),b.length+1+x.length)):(u+x.lines>i&&y(),u+=x.lines,h+=x.length+1,m.push(x))}function y(){u!=0&&(o.push(m.length==1?m[0]:Ai.from(m,h)),h=-1,u=m.length=0)}for(let x of e)p(x);return y(),o.length==1?o[0]:new Ai(o,r)}}Ge.empty=new Mt([""],0);function ole(t){let e=-1;for(let r of t)e+=r.length+1;return e}function Gm(t,e,r=0,n=1e9){for(let i=0,a=0,l=!0;a<t.length&&i<=n;a++){let o=t[a],u=i+o.length;u>=r&&(u>n&&(o=o.slice(0,n-i)),i<r&&(o=o.slice(r-i)),l?(e[e.length-1]+=o,l=!1):e.push(o)),i=u+1}return e}function R4(t,e,r){return Gm(t,[""],e,r)}class gf{constructor(e,r=1){this.dir=r,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[r>0?1:(e instanceof Mt?e.text.length:e.children.length)<<1]}nextInner(e,r){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],a=this.offsets[n],l=a>>1,o=i instanceof Mt?i.text.length:i.children.length;if(l==(r>0?o:0)){if(n==0)return this.done=!0,this.value="",this;r>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((a&1)==(r>0?0:1)){if(this.offsets[n]+=r,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Mt){let u=i.text[l+(r<0?-1:0)];if(this.offsets[n]+=r,u.length>Math.max(0,e))return this.value=e==0?u:r>0?u.slice(e):u.slice(0,u.length-e),this;e-=u.length}else{let u=i.children[l+(r<0?-1:0)];e>u.length?(e-=u.length,this.offsets[n]+=r):(r<0&&this.offsets[n]--,this.nodes.push(u),this.offsets.push(r>0?1:(u instanceof Mt?u.text.length:u.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class w6{constructor(e,r,n){this.value="",this.done=!1,this.cursor=new gf(e,r>n?-1:1),this.pos=r>n?e.length:0,this.from=Math.min(r,n),this.to=Math.max(r,n)}nextInner(e,r){if(r<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,r<0?this.pos-this.to:this.from-this.pos);let n=r<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*r,this.value=i.length<=n?i:r<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class S6{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:r,lineBreak:n,value:i}=this.inner.next(e);return r&&this.afterBreak?(this.value="",this.afterBreak=!1):r?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Ge.prototype[Symbol.iterator]=function(){return this.iter()},gf.prototype[Symbol.iterator]=w6.prototype[Symbol.iterator]=S6.prototype[Symbol.iterator]=function(){return this});class cle{constructor(e,r,n,i){this.from=e,this.to=r,this.number=n,this.text=i}get length(){return this.to-this.from}}function Sc(t,e,r){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,r))]}function rr(t,e,r=!0,n=!0){return sle(t,e,r,n)}function ule(t){return t>=56320&&t<57344}function fle(t){return t>=55296&&t<56320}function Wr(t,e){let r=t.charCodeAt(e);if(!fle(r)||e+1==t.length)return r;let n=t.charCodeAt(e+1);return ule(n)?(r-55296<<10)+(n-56320)+65536:r}function Ej(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Ei(t){return t<65536?1:2}const Uw=/\r\n?|\n/;var Dr=(function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t})(Dr||(Dr={}));class Bi{constructor(e){this.sections=e}get length(){let e=0;for(let r=0;r<this.sections.length;r+=2)e+=this.sections[r];return e}get newLength(){let e=0;for(let r=0;r<this.sections.length;r+=2){let n=this.sections[r+1];e+=n<0?this.sections[r]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let r=0,n=0,i=0;r<this.sections.length;){let a=this.sections[r++],l=this.sections[r++];l<0?(e(n,i,a),i+=a):i+=l,n+=a}}iterChangedRanges(e,r=!1){qw(this,e,r)}get invertedDesc(){let e=[];for(let r=0;r<this.sections.length;){let n=this.sections[r++],i=this.sections[r++];i<0?e.push(n,i):e.push(i,n)}return new Bi(e)}composeDesc(e){return this.empty?e:e.empty?this:j6(this,e)}mapDesc(e,r=!1){return e.empty?this:Hw(this,e,r)}mapPos(e,r=-1,n=Dr.Simple){let i=0,a=0;for(let l=0;l<this.sections.length;){let o=this.sections[l++],u=this.sections[l++],h=i+o;if(u<0){if(h>e)return a+(e-i);a+=o}else{if(n!=Dr.Simple&&h>=e&&(n==Dr.TrackDel&&i<e&&h>e||n==Dr.TrackBefore&&i<e||n==Dr.TrackAfter&&h>e))return null;if(h>e||h==e&&r<0&&!o)return e==i||r<0?a:a+u;a+=u}i=h}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return a}touchesRange(e,r=e){for(let n=0,i=0;n<this.sections.length&&i<=r;){let a=this.sections[n++],l=this.sections[n++],o=i+a;if(l>=0&&i<=r&&o>=e)return i<e&&o>r?"cover":!0;i=o}return!1}toString(){let e="";for(let r=0;r<this.sections.length;){let n=this.sections[r++],i=this.sections[r++];e+=(e?" ":"")+n+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(r=>typeof r!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Bi(e)}static create(e){return new Bi(e)}}class Wt extends Bi{constructor(e,r){super(e),this.inserted=r}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return qw(this,(r,n,i,a,l)=>e=e.replace(i,i+(n-r),l),!1),e}mapDesc(e,r=!1){return Hw(this,e,r,!0)}invert(e){let r=this.sections.slice(),n=[];for(let i=0,a=0;i<r.length;i+=2){let l=r[i],o=r[i+1];if(o>=0){r[i]=o,r[i+1]=l;let u=i>>1;for(;n.length<u;)n.push(Ge.empty);n.push(l?e.slice(a,a+l):Ge.empty)}a+=l}return new Wt(r,n)}compose(e){return this.empty?e:e.empty?this:j6(this,e,!0)}map(e,r=!1){return e.empty?this:Hw(this,e,r,!0)}iterChanges(e,r=!1){qw(this,e,r)}get desc(){return Bi.create(this.sections)}filter(e){let r=[],n=[],i=[],a=new Ff(this);e:for(let l=0,o=0;;){let u=l==e.length?1e9:e[l++];for(;o<u||o==u&&a.len==0;){if(a.done)break e;let m=Math.min(a.len,u-o);kr(i,m,-1);let p=a.ins==-1?-1:a.off==0?a.ins:0;kr(r,m,p),p>0&&Ss(n,r,a.text),a.forward(m),o+=m}let h=e[l++];for(;o<h;){if(a.done)break e;let m=Math.min(a.len,h-o);kr(r,m,-1),kr(i,m,a.ins==-1?-1:a.off==0?a.ins:0),a.forward(m),o+=m}}return{changes:new Wt(r,n),filtered:Bi.create(i)}}toJSON(){let e=[];for(let r=0;r<this.sections.length;r+=2){let n=this.sections[r],i=this.sections[r+1];i<0?e.push(n):i==0?e.push([n]):e.push([n].concat(this.inserted[r>>1].toJSON()))}return e}static of(e,r,n){let i=[],a=[],l=0,o=null;function u(m=!1){if(!m&&!i.length)return;l<r&&kr(i,r-l,-1);let p=new Wt(i,a);o=o?o.compose(p.map(o)):p,i=[],a=[],l=0}function h(m){if(Array.isArray(m))for(let p of m)h(p);else if(m instanceof Wt){if(m.length!=r)throw new RangeError(`Mismatched change set length (got ${m.length}, expected ${r})`);u(),o=o?o.compose(m.map(o)):m}else{let{from:p,to:y=p,insert:x}=m;if(p>y||p<0||y>r)throw new RangeError(`Invalid change range ${p} to ${y} (in doc of length ${r})`);let b=x?typeof x=="string"?Ge.of(x.split(n||Uw)):x:Ge.empty,N=b.length;if(p==y&&N==0)return;p<l&&u(),p>l&&kr(i,p-l,-1),kr(i,y-p,N),Ss(a,i,b),l=y}}return h(e),u(!o),o}static empty(e){return new Wt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let r=[],n=[];for(let i=0;i<e.length;i++){let a=e[i];if(typeof a=="number")r.push(a,-1);else{if(!Array.isArray(a)||typeof a[0]!="number"||a.some((l,o)=>o&&typeof l!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(a.length==1)r.push(a[0],0);else{for(;n.length<i;)n.push(Ge.empty);n[i]=Ge.of(a.slice(1)),r.push(a[0],n[i].length)}}}return new Wt(r,n)}static createSet(e,r){return new Wt(e,r)}}function kr(t,e,r,n=!1){if(e==0&&r<=0)return;let i=t.length-2;i>=0&&r<=0&&r==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=r:n?(t[i]+=e,t[i+1]+=r):t.push(e,r)}function Ss(t,e,r){if(r.length==0)return;let n=e.length-2>>1;if(n<t.length)t[t.length-1]=t[t.length-1].append(r);else{for(;t.length<n;)t.push(Ge.empty);t.push(r)}}function qw(t,e,r){let n=t.inserted;for(let i=0,a=0,l=0;l<t.sections.length;){let o=t.sections[l++],u=t.sections[l++];if(u<0)i+=o,a+=o;else{let h=i,m=a,p=Ge.empty;for(;h+=o,m+=u,u&&n&&(p=p.append(n[l-2>>1])),!(r||l==t.sections.length||t.sections[l+1]<0);)o=t.sections[l++],u=t.sections[l++];e(i,h,a,m,p),i=h,a=m}}}function Hw(t,e,r,n=!1){let i=[],a=n?[]:null,l=new Ff(t),o=new Ff(e);for(let u=-1;;){if(l.done&&o.len||o.done&&l.len)throw new Error("Mismatched change set lengths");if(l.ins==-1&&o.ins==-1){let h=Math.min(l.len,o.len);kr(i,h,-1),l.forward(h),o.forward(h)}else if(o.ins>=0&&(l.ins<0||u==l.i||l.off==0&&(o.len<l.len||o.len==l.len&&!r))){let h=o.len;for(kr(i,o.ins,-1);h;){let m=Math.min(l.len,h);l.ins>=0&&u<l.i&&l.len<=m&&(kr(i,0,l.ins),a&&Ss(a,i,l.text),u=l.i),l.forward(m),h-=m}o.next()}else if(l.ins>=0){let h=0,m=l.len;for(;m;)if(o.ins==-1){let p=Math.min(m,o.len);h+=p,m-=p,o.forward(p)}else if(o.ins==0&&o.len<m)m-=o.len,o.next();else break;kr(i,h,u<l.i?l.ins:0),a&&u<l.i&&Ss(a,i,l.text),u=l.i,l.forward(l.len-m)}else{if(l.done&&o.done)return a?Wt.createSet(i,a):Bi.create(i);throw new Error("Mismatched change set lengths")}}}function j6(t,e,r=!1){let n=[],i=r?[]:null,a=new Ff(t),l=new Ff(e);for(let o=!1;;){if(a.done&&l.done)return i?Wt.createSet(n,i):Bi.create(n);if(a.ins==0)kr(n,a.len,0,o),a.next();else if(l.len==0&&!l.done)kr(n,0,l.ins,o),i&&Ss(i,n,l.text),l.next();else{if(a.done||l.done)throw new Error("Mismatched change set lengths");{let u=Math.min(a.len2,l.len),h=n.length;if(a.ins==-1){let m=l.ins==-1?-1:l.off?0:l.ins;kr(n,u,m,o),i&&m&&Ss(i,n,l.text)}else l.ins==-1?(kr(n,a.off?0:a.len,u,o),i&&Ss(i,n,a.textBit(u))):(kr(n,a.off?0:a.len,l.off?0:l.ins,o),i&&!l.off&&Ss(i,n,l.text));o=(a.ins>u||l.ins>=0&&l.len>u)&&(o||n.length>h),a.forward2(u),l.forward(u)}}}}class Ff{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length?Ge.empty:e[r]}textBit(e){let{inserted:r}=this.set,n=this.i-2>>1;return n>=r.length&&!e?Ge.empty:r[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Cl{constructor(e,r,n){this.from=e,this.to=r,this.flags=n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,r=-1){let n,i;return this.empty?n=i=e.mapPos(this.from,r):(n=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),n==this.from&&i==this.to?this:new Cl(n,i,this.flags)}extend(e,r=e){if(e<=this.anchor&&r>=this.anchor)return ue.range(e,r);let n=Math.abs(e-this.anchor)>Math.abs(r-this.anchor)?e:r;return ue.range(this.anchor,n)}eq(e,r=!1){return this.anchor==e.anchor&&this.head==e.head&&this.goalColumn==e.goalColumn&&(!r||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return ue.range(e.anchor,e.head)}static create(e,r,n){return new Cl(e,r,n)}}class ue{constructor(e,r){this.ranges=e,this.mainIndex=r}map(e,r=-1){return e.empty?this:ue.create(this.ranges.map(n=>n.map(e,r)),this.mainIndex)}eq(e,r=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],r))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new ue([this.main],0)}addRange(e,r=!0){return ue.create([e].concat(this.ranges),r?0:this.mainIndex+1)}replaceRange(e,r=this.mainIndex){let n=this.ranges.slice();return n[r]=e,ue.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new ue(e.ranges.map(r=>Cl.fromJSON(r)),e.main)}static single(e,r=e){return new ue([ue.range(e,r)],0)}static create(e,r=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<e.length;i++){let a=e[i];if(a.empty?a.from<=n:a.from<n)return ue.normalized(e.slice(),r);n=a.to}return new ue(e,r)}static cursor(e,r=0,n,i){return Cl.create(e,e,(r==0?0:r<0?8:16)|(n==null?7:Math.min(6,n))|(i??16777215)<<6)}static range(e,r,n,i){let a=(n??16777215)<<6|(i==null?7:Math.min(6,i));return r<e?Cl.create(r,e,48|a):Cl.create(e,r,(r>e?8:0)|a)}static normalized(e,r=0){let n=e[r];e.sort((i,a)=>i.from-a.from),r=e.indexOf(n);for(let i=1;i<e.length;i++){let a=e[i],l=e[i-1];if(a.empty?a.from<=l.to:a.from<l.to){let o=l.from,u=Math.max(a.to,l.to);i<=r&&r--,e.splice(--i,2,a.anchor>a.head?ue.range(u,o):ue.range(o,u))}}return new ue(e,r)}}function N6(t,e){for(let r of t.ranges)if(r.to>e)throw new RangeError("Selection points outside of document")}let Tj=0;class xe{constructor(e,r,n,i,a){this.combine=e,this.compareInput=r,this.compare=n,this.isStatic=i,this.id=Tj++,this.default=e([]),this.extensions=typeof a=="function"?a(this):a}get reader(){return this}static define(e={}){return new xe(e.combine||(r=>r),e.compareInput||((r,n)=>r===n),e.compare||(e.combine?(r,n)=>r===n:Mj),!!e.static,e.enables)}of(e){return new Ym([],this,0,e)}compute(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ym(e,this,1,r)}computeN(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ym(e,this,2,r)}from(e,r){return r||(r=n=>n),this.compute([e],n=>r(n.field(e)))}}function Mj(t,e){return t==e||t.length==e.length&&t.every((r,n)=>r===e[n])}class Ym{constructor(e,r,n,i){this.dependencies=e,this.facet=r,this.type=n,this.value=i,this.id=Tj++}dynamicSlot(e){var r;let n=this.value,i=this.facet.compareInput,a=this.id,l=e[a]>>1,o=this.type==2,u=!1,h=!1,m=[];for(let p of this.dependencies)p=="doc"?u=!0:p=="selection"?h=!0:(((r=e[p.id])!==null&&r!==void 0?r:1)&1)==0&&m.push(e[p.id]);return{create(p){return p.values[l]=n(p),1},update(p,y){if(u&&y.docChanged||h&&(y.docChanged||y.selection)||$w(p,m)){let x=n(p);if(o?!L4(x,p.values[l],i):!i(x,p.values[l]))return p.values[l]=x,1}return 0},reconfigure:(p,y)=>{let x,b=y.config.address[a];if(b!=null){let N=rg(y,b);if(this.dependencies.every(j=>j instanceof xe?y.facet(j)===p.facet(j):j instanceof jr?y.field(j,!1)==p.field(j,!1):!0)||(o?L4(x=n(p),N,i):i(x=n(p),N)))return p.values[l]=N,0}else x=n(p);return p.values[l]=x,1}}}}function L4(t,e,r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!r(t[n],e[n]))return!1;return!0}function $w(t,e){let r=!1;for(let n of e)yf(t,n)&1&&(r=!0);return r}function dle(t,e,r){let n=r.map(u=>t[u.id]),i=r.map(u=>u.type),a=n.filter(u=>!(u&1)),l=t[e.id]>>1;function o(u){let h=[];for(let m=0;m<n.length;m++){let p=rg(u,n[m]);if(i[m]==2)for(let y of p)h.push(y);else h.push(p)}return e.combine(h)}return{create(u){for(let h of n)yf(u,h);return u.values[l]=o(u),1},update(u,h){if(!$w(u,a))return 0;let m=o(u);return e.compare(m,u.values[l])?0:(u.values[l]=m,1)},reconfigure(u,h){let m=$w(u,n),p=h.config.facets[e.id],y=h.facet(e);if(p&&!m&&Mj(r,p))return u.values[l]=y,0;let x=o(u);return e.compare(x,y)?(u.values[l]=y,0):(u.values[l]=x,1)}}}const pm=xe.define({static:!0});class jr{constructor(e,r,n,i,a){this.id=e,this.createF=r,this.updateF=n,this.compareF=i,this.spec=a,this.provides=void 0}static define(e){let r=new jr(Tj++,e.create,e.update,e.compare||((n,i)=>n===i),e);return e.provide&&(r.provides=e.provide(r)),r}create(e){let r=e.facet(pm).find(n=>n.field==this);return(r?.create||this.createF)(e)}slot(e){let r=e[this.id]>>1;return{create:n=>(n.values[r]=this.create(n),1),update:(n,i)=>{let a=n.values[r],l=this.updateF(a,i);return this.compareF(a,l)?0:(n.values[r]=l,1)},reconfigure:(n,i)=>{let a=n.facet(pm),l=i.facet(pm),o;return(o=a.find(u=>u.field==this))&&o!=l.find(u=>u.field==this)?(n.values[r]=o.create(n),1):i.config.address[this.id]!=null?(n.values[r]=i.field(this),0):(n.values[r]=this.create(n),1)}}}init(e){return[this,pm.of({field:this,create:e})]}get extension(){return this}}const vl={lowest:4,low:3,default:2,high:1,highest:0};function ef(t){return e=>new C6(e,t)}const eo={highest:ef(vl.highest),high:ef(vl.high),default:ef(vl.default),low:ef(vl.low),lowest:ef(vl.lowest)};class C6{constructor(e,r){this.inner=e,this.prec=r}}class A0{of(e){return new Vw(this,e)}reconfigure(e){return A0.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Vw{constructor(e,r){this.compartment=e,this.inner=r}}class tg{constructor(e,r,n,i,a,l){for(this.base=e,this.compartments=r,this.dynamicSlots=n,this.address=i,this.staticValues=a,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let r=this.address[e.id];return r==null?e.default:this.staticValues[r>>1]}static resolve(e,r,n){let i=[],a=Object.create(null),l=new Map;for(let y of hle(e,r,l))y instanceof jr?i.push(y):(a[y.facet.id]||(a[y.facet.id]=[])).push(y);let o=Object.create(null),u=[],h=[];for(let y of i)o[y.id]=h.length<<1,h.push(x=>y.slot(x));let m=n?.config.facets;for(let y in a){let x=a[y],b=x[0].facet,N=m&&m[y]||[];if(x.every(j=>j.type==0))if(o[b.id]=u.length<<1|1,Mj(N,x))u.push(n.facet(b));else{let j=b.combine(x.map(C=>C.value));u.push(n&&b.compare(j,n.facet(b))?n.facet(b):j)}else{for(let j of x)j.type==0?(o[j.id]=u.length<<1|1,u.push(j.value)):(o[j.id]=h.length<<1,h.push(C=>j.dynamicSlot(C)));o[b.id]=h.length<<1,h.push(j=>dle(j,b,x))}}let p=h.map(y=>y(o));return new tg(e,l,p,o,u,a)}}function hle(t,e,r){let n=[[],[],[],[],[]],i=new Map;function a(l,o){let u=i.get(l);if(u!=null){if(u<=o)return;let h=n[u].indexOf(l);h>-1&&n[u].splice(h,1),l instanceof Vw&&r.delete(l.compartment)}if(i.set(l,o),Array.isArray(l))for(let h of l)a(h,o);else if(l instanceof Vw){if(r.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(l.compartment)||l.inner;r.set(l.compartment,h),a(h,o)}else if(l instanceof C6)a(l.inner,l.prec);else if(l instanceof jr)n[o].push(l),l.provides&&a(l.provides,o);else if(l instanceof Ym)n[o].push(l),l.facet.extensions&&a(l.facet.extensions,vl.default);else{let h=l.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);a(h,o)}}return a(t,vl.default),n.reduce((l,o)=>l.concat(o))}function yf(t,e){if(e&1)return 2;let r=e>>1,n=t.status[r];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;t.status[r]=4;let i=t.computeSlot(t,t.config.dynamicSlots[r]);return t.status[r]=2|i}function rg(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const k6=xe.define(),Fw=xe.define({combine:t=>t.some(e=>e),static:!0}),O6=xe.define({combine:t=>t.length?t[0]:void 0,static:!0}),A6=xe.define(),E6=xe.define(),T6=xe.define(),M6=xe.define({combine:t=>t.length?t[0]:!1});class Fi{constructor(e,r){this.type=e,this.value=r}static define(){return new mle}}class mle{of(e){return new Fi(this,e)}}class ple{constructor(e){this.map=e}of(e){return new Pe(this,e)}}class Pe{constructor(e,r){this.type=e,this.value=r}map(e){let r=this.type.map(this.value,e);return r===void 0?void 0:r==this.value?this:new Pe(this.type,r)}is(e){return this.type==e}static define(e={}){return new ple(e.map||(r=>r))}static mapEffects(e,r){if(!e.length)return e;let n=[];for(let i of e){let a=i.map(r);a&&n.push(a)}return n}}Pe.reconfigure=Pe.define();Pe.appendConfig=Pe.define();class Kt{constructor(e,r,n,i,a,l){this.startState=e,this.changes=r,this.selection=n,this.effects=i,this.annotations=a,this.scrollIntoView=l,this._doc=null,this._state=null,n&&N6(n,r.newLength),a.some(o=>o.type==Kt.time)||(this.annotations=a.concat(Kt.time.of(Date.now())))}static create(e,r,n,i,a,l){return new Kt(e,r,n,i,a,l)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let r of this.annotations)if(r.type==e)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let r=this.annotation(Kt.userEvent);return!!(r&&(r==e||r.length>e.length&&r.slice(0,e.length)==e&&r[e.length]=="."))}}Kt.time=Fi.define();Kt.userEvent=Fi.define();Kt.addToHistory=Fi.define();Kt.remote=Fi.define();function gle(t,e){let r=[];for(let n=0,i=0;;){let a,l;if(n<t.length&&(i==e.length||e[i]>=t[n]))a=t[n++],l=t[n++];else if(i<e.length)a=e[i++],l=e[i++];else return r;!r.length||r[r.length-1]<a?r.push(a,l):r[r.length-1]<l&&(r[r.length-1]=l)}}function D6(t,e,r){var n;let i,a,l;return r?(i=e.changes,a=Wt.empty(e.changes.length),l=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),a=t.changes.mapDesc(e.changes,!0),l=t.changes.compose(i)),{changes:l,selection:e.selection?e.selection.map(a):(n=t.selection)===null||n===void 0?void 0:n.map(i),effects:Pe.mapEffects(t.effects,i).concat(Pe.mapEffects(e.effects,a)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Ww(t,e,r){let n=e.selection,i=ic(e.annotations);return e.userEvent&&(i=i.concat(Kt.userEvent.of(e.userEvent))),{changes:e.changes instanceof Wt?e.changes:Wt.of(e.changes||[],r,t.facet(O6)),selection:n&&(n instanceof ue?n:ue.single(n.anchor,n.head)),effects:ic(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function _6(t,e,r){let n=Ww(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(r=!1);for(let a=1;a<e.length;a++){e[a].filter===!1&&(r=!1);let l=!!e[a].sequential;n=D6(n,Ww(t,e[a],l?n.changes.newLength:t.doc.length),l)}let i=Kt.create(t,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return xle(r?yle(i):i)}function yle(t){let e=t.startState,r=!0;for(let i of e.facet(A6)){let a=i(t);if(a===!1){r=!1;break}Array.isArray(a)&&(r=r===!0?a:gle(r,a))}if(r!==!0){let i,a;if(r===!1)a=t.changes.invertedDesc,i=Wt.empty(e.doc.length);else{let l=t.changes.filter(r);i=l.changes,a=l.filtered.mapDesc(l.changes).invertedDesc}t=Kt.create(e,i,t.selection&&t.selection.map(a),Pe.mapEffects(t.effects,a),t.annotations,t.scrollIntoView)}let n=e.facet(E6);for(let i=n.length-1;i>=0;i--){let a=n[i](t);a instanceof Kt?t=a:Array.isArray(a)&&a.length==1&&a[0]instanceof Kt?t=a[0]:t=_6(e,ic(a),!1)}return t}function xle(t){let e=t.startState,r=e.facet(T6),n=t;for(let i=r.length-1;i>=0;i--){let a=r[i](t);a&&Object.keys(a).length&&(n=D6(n,Ww(e,a,t.changes.newLength),!0))}return n==t?t:Kt.create(e,t.changes,t.selection,n.effects,n.annotations,n.scrollIntoView)}const vle=[];function ic(t){return t==null?vle:Array.isArray(t)?t:[t]}var xt=(function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t})(xt||(xt={}));const ble=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Kw;try{Kw=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function wle(t){if(Kw)return Kw.test(t);for(let e=0;e<t.length;e++){let r=t[e];if(/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||ble.test(r)))return!0}return!1}function Sle(t){return e=>{if(!/\S/.test(e))return xt.Space;if(wle(e))return xt.Word;for(let r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return xt.Word;return xt.Other}}class Ve{constructor(e,r,n,i,a,l){this.config=e,this.doc=r,this.selection=n,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=a,l&&(l._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)yf(this,o<<1);this.computeSlot=null}field(e,r=!0){let n=this.config.address[e.id];if(n==null){if(r)throw new RangeError("Field is not present in this state");return}return yf(this,n),rg(this,n)}update(...e){return _6(this,e,!0)}applyTransaction(e){let r=this.config,{base:n,compartments:i}=r;for(let o of e.effects)o.is(A0.reconfigure)?(r&&(i=new Map,r.compartments.forEach((u,h)=>i.set(h,u)),r=null),i.set(o.value.compartment,o.value.extension)):o.is(Pe.reconfigure)?(r=null,n=o.value):o.is(Pe.appendConfig)&&(r=null,n=ic(n).concat(o.value));let a;r?a=e.startState.values.slice():(r=tg.resolve(n,i,this),a=new Ve(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(u,h)=>h.reconfigure(u,this),null).values);let l=e.startState.facet(Fw)?e.newSelection:e.newSelection.asSingle();new Ve(r,e.newDoc,l,a,(o,u)=>u.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:e},range:ue.cursor(r.from+e.length)}))}changeByRange(e){let r=this.selection,n=e(r.ranges[0]),i=this.changes(n.changes),a=[n.range],l=ic(n.effects);for(let o=1;o<r.ranges.length;o++){let u=e(r.ranges[o]),h=this.changes(u.changes),m=h.map(i);for(let y=0;y<o;y++)a[y]=a[y].map(m);let p=i.mapDesc(h,!0);a.push(u.range.map(p)),i=i.compose(m),l=Pe.mapEffects(l,m).concat(Pe.mapEffects(ic(u.effects),p))}return{changes:i,selection:ue.create(a,r.mainIndex),effects:l}}changes(e=[]){return e instanceof Wt?e:Wt.of(e,this.doc.length,this.facet(Ve.lineSeparator))}toText(e){return Ge.of(e.split(this.facet(Ve.lineSeparator)||Uw))}sliceDoc(e=0,r=this.doc.length){return this.doc.sliceString(e,r,this.lineBreak)}facet(e){let r=this.config.address[e.id];return r==null?e.default:(yf(this,r),rg(this,r))}toJSON(e){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let i=e[n];i instanceof jr&&this.config.address[i.id]!=null&&(r[n]=i.spec.toJSON(this.field(e[n]),this))}return r}static fromJSON(e,r={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(n){for(let a in n)if(Object.prototype.hasOwnProperty.call(e,a)){let l=n[a],o=e[a];i.push(l.init(u=>l.spec.fromJSON(o,u)))}}return Ve.create({doc:e.doc,selection:ue.fromJSON(e.selection),extensions:r.extensions?i.concat([r.extensions]):i})}static create(e={}){let r=tg.resolve(e.extensions||[],new Map),n=e.doc instanceof Ge?e.doc:Ge.of((e.doc||"").split(r.staticFacet(Ve.lineSeparator)||Uw)),i=e.selection?e.selection instanceof ue?e.selection:ue.single(e.selection.anchor,e.selection.head):ue.single(0);return N6(i,n.length),r.staticFacet(Fw)||(i=i.asSingle()),new Ve(r,n,i,r.dynamicSlots.map(()=>null),(a,l)=>l.create(a),null)}get tabSize(){return this.facet(Ve.tabSize)}get lineBreak(){return this.facet(Ve.lineSeparator)||`
`}get readOnly(){return this.facet(M6)}phrase(e,...r){for(let n of this.facet(Ve.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return r.length&&(e=e.replace(/\$(\$|\d*)/g,(n,i)=>{if(i=="$")return"$";let a=+(i||1);return!a||a>r.length?n:r[a-1]})),e}languageDataAt(e,r,n=-1){let i=[];for(let a of this.facet(k6))for(let l of a(this,r,n))Object.prototype.hasOwnProperty.call(l,e)&&i.push(l[e]);return i}charCategorizer(e){let r=this.languageDataAt("wordChars",e);return Sle(r.length?r[0]:"")}wordAt(e){let{text:r,from:n,length:i}=this.doc.lineAt(e),a=this.charCategorizer(e),l=e-n,o=e-n;for(;l>0;){let u=rr(r,l,!1);if(a(r.slice(u,l))!=xt.Word)break;l=u}for(;o<i;){let u=rr(r,o);if(a(r.slice(o,u))!=xt.Word)break;o=u}return l==o?null:ue.range(l+n,o+n)}}Ve.allowMultipleSelections=Fw;Ve.tabSize=xe.define({combine:t=>t.length?t[0]:4});Ve.lineSeparator=O6;Ve.readOnly=M6;Ve.phrases=xe.define({compare(t,e){let r=Object.keys(t),n=Object.keys(e);return r.length==n.length&&r.every(i=>t[i]==e[i])}});Ve.languageData=k6;Ve.changeFilter=A6;Ve.transactionFilter=E6;Ve.transactionExtender=T6;A0.reconfigure=Pe.define();function Wi(t,e,r={}){let n={};for(let i of t)for(let a of Object.keys(i)){let l=i[a],o=n[a];if(o===void 0)n[a]=l;else if(!(o===l||l===void 0))if(Object.hasOwnProperty.call(r,a))n[a]=r[a](o,l);else throw new Error("Config merge conflict for field "+a)}for(let i in e)n[i]===void 0&&(n[i]=e[i]);return n}class _s{eq(e){return this==e}range(e,r=e){return Gw.create(e,r,this)}}_s.prototype.startSide=_s.prototype.endSide=0;_s.prototype.point=!1;_s.prototype.mapMode=Dr.TrackDel;function Dj(t,e){return t==e||t.constructor==e.constructor&&t.eq(e)}let Gw=class P6{constructor(e,r,n){this.from=e,this.to=r,this.value=n}static create(e,r,n){return new P6(e,r,n)}};function Yw(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class _j{constructor(e,r,n,i){this.from=e,this.to=r,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,r,n,i=0){let a=n?this.to:this.from;for(let l=i,o=a.length;;){if(l==o)return l;let u=l+o>>1,h=a[u]-e||(n?this.value[u].endSide:this.value[u].startSide)-r;if(u==l)return h>=0?l:o;h>=0?o=u:l=u+1}}between(e,r,n,i){for(let a=this.findIndex(r,-1e9,!0),l=this.findIndex(n,1e9,!1,a);a<l;a++)if(i(this.from[a]+e,this.to[a]+e,this.value[a])===!1)return!1}map(e,r){let n=[],i=[],a=[],l=-1,o=-1;for(let u=0;u<this.value.length;u++){let h=this.value[u],m=this.from[u]+e,p=this.to[u]+e,y,x;if(m==p){let b=r.mapPos(m,h.startSide,h.mapMode);if(b==null||(y=x=b,h.startSide!=h.endSide&&(x=r.mapPos(m,h.endSide),x<y)))continue}else if(y=r.mapPos(m,h.startSide),x=r.mapPos(p,h.endSide),y>x||y==x&&h.startSide>0&&h.endSide<=0)continue;(x-y||h.endSide-h.startSide)<0||(l<0&&(l=y),h.point&&(o=Math.max(o,x-y)),n.push(h),i.push(y-l),a.push(x-l))}return{mapped:n.length?new _j(i,a,n,o):null,pos:l}}}class Ue{constructor(e,r,n,i){this.chunkPos=e,this.chunk=r,this.nextLayer=n,this.maxPoint=i}static create(e,r,n,i){return new Ue(e,r,n,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let r of this.chunk)e+=r.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:r=[],sort:n=!1,filterFrom:i=0,filterTo:a=this.length}=e,l=e.filter;if(r.length==0&&!l)return this;if(n&&(r=r.slice().sort(Yw)),this.isEmpty)return r.length?Ue.of(r):this;let o=new R6(this,null,-1).goto(0),u=0,h=[],m=new Ta;for(;o.value||u<r.length;)if(u<r.length&&(o.from-r[u].from||o.startSide-r[u].value.startSide)>=0){let p=r[u++];m.addInner(p.from,p.to,p.value)||h.push(p)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(u==r.length||this.chunkEnd(o.chunkIndex)<r[u].from)&&(!l||i>this.chunkEnd(o.chunkIndex)||a<this.chunkPos[o.chunkIndex])&&m.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!l||i>o.to||a<o.from||l(o.from,o.to,o.value))&&(m.addInner(o.from,o.to,o.value)||h.push(Gw.create(o.from,o.to,o.value))),o.next());return m.finishInner(this.nextLayer.isEmpty&&!h.length?Ue.empty:this.nextLayer.update({add:h,filter:l,filterFrom:i,filterTo:a}))}map(e){if(e.empty||this.isEmpty)return this;let r=[],n=[],i=-1;for(let l=0;l<this.chunk.length;l++){let o=this.chunkPos[l],u=this.chunk[l],h=e.touchesRange(o,o+u.length);if(h===!1)i=Math.max(i,u.maxPoint),r.push(u),n.push(e.mapPos(o));else if(h===!0){let{mapped:m,pos:p}=u.map(o,e);m&&(i=Math.max(i,m.maxPoint),r.push(m),n.push(p))}}let a=this.nextLayer.map(e);return r.length==0?a:new Ue(n,r,a||Ue.empty,i)}between(e,r,n){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let a=this.chunkPos[i],l=this.chunk[i];if(r>=a&&e<=a+l.length&&l.between(a,e-a,r-a,n)===!1)return}this.nextLayer.between(e,r,n)}}iter(e=0){return Wf.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,r=0){return Wf.from(e).goto(r)}static compare(e,r,n,i,a=-1){let l=e.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=a),o=r.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=a),u=B4(l,o,n),h=new tf(l,u,a),m=new tf(o,u,a);n.iterGaps((p,y,x)=>z4(h,p,m,y,x,i)),n.empty&&n.length==0&&z4(h,0,m,0,0,i)}static eq(e,r,n=0,i){i==null&&(i=999999999);let a=e.filter(m=>!m.isEmpty&&r.indexOf(m)<0),l=r.filter(m=>!m.isEmpty&&e.indexOf(m)<0);if(a.length!=l.length)return!1;if(!a.length)return!0;let o=B4(a,l),u=new tf(a,o,0).goto(n),h=new tf(l,o,0).goto(n);for(;;){if(u.to!=h.to||!Qw(u.active,h.active)||u.point&&(!h.point||!Dj(u.point,h.point)))return!1;if(u.to>i)return!0;u.next(),h.next()}}static spans(e,r,n,i,a=-1){let l=new tf(e,null,a).goto(r),o=r,u=l.openStart;for(;;){let h=Math.min(l.to,n);if(l.point){let m=l.activeForPoint(l.to),p=l.pointFrom<r?m.length+1:l.point.startSide<0?m.length:Math.min(m.length,u);i.point(o,h,l.point,m,p,l.pointRank),u=Math.min(l.openEnd(h),m.length)}else h>o&&(i.span(o,h,l.active,u),u=l.openEnd(h));if(l.to>n)return u+(l.point&&l.to>n?1:0);o=l.to,l.next()}}static of(e,r=!1){let n=new Ta;for(let i of e instanceof Gw?[e]:r?jle(e):e)n.add(i.from,i.to,i.value);return n.finish()}static join(e){if(!e.length)return Ue.empty;let r=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let i=e[n];i!=Ue.empty;i=i.nextLayer)r=new Ue(i.chunkPos,i.chunk,r,Math.max(i.maxPoint,r.maxPoint));return r}}Ue.empty=new Ue([],[],null,-1);function jle(t){if(t.length>1)for(let e=t[0],r=1;r<t.length;r++){let n=t[r];if(Yw(e,n)>0)return t.slice().sort(Yw);e=n}return t}Ue.empty.nextLayer=Ue.empty;class Ta{finishChunk(e){this.chunks.push(new _j(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,r,n){this.addInner(e,r,n)||(this.nextLayer||(this.nextLayer=new Ta)).add(e,r,n)}addInner(e,r,n){let i=e-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(r-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=r,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,r-e)),!0)}addChunk(e,r){if((e-this.lastTo||r.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,r.maxPoint),this.chunks.push(r),this.chunkPos.push(e);let n=r.value.length-1;return this.last=r.value[n],this.lastFrom=r.from[n]+e,this.lastTo=r.to[n]+e,!0}finish(){return this.finishInner(Ue.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let r=Ue.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,r}}function B4(t,e,r){let n=new Map;for(let a of t)for(let l=0;l<a.chunk.length;l++)a.chunk[l].maxPoint<=0&&n.set(a.chunk[l],a.chunkPos[l]);let i=new Set;for(let a of e)for(let l=0;l<a.chunk.length;l++){let o=n.get(a.chunk[l]);o!=null&&(r?r.mapPos(o):o)==a.chunkPos[l]&&!r?.touchesRange(o,o+a.chunk[l].length)&&i.add(a.chunk[l])}return i}class R6{constructor(e,r,n,i=0){this.layer=e,this.skip=r,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,r=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,r,!1),this}gotoInner(e,r,n){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],r,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,r){(this.to-e||this.endSide-r)<0&&this.gotoInner(e,r,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],r=this.layer.chunk[this.chunkIndex],n=e+r.from[this.rangeIndex];if(this.from=n,this.to=e+r.to[this.rangeIndex],this.value=r.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Wf{constructor(e){this.heap=e}static from(e,r=null,n=-1){let i=[];for(let a=0;a<e.length;a++)for(let l=e[a];!l.isEmpty;l=l.nextLayer)l.maxPoint>=n&&i.push(new R6(l,r,n,a));return i.length==1?i[0]:new Wf(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,r=-1e9){for(let n of this.heap)n.goto(e,r);for(let n=this.heap.length>>1;n>=0;n--)Kb(this.heap,n);return this.next(),this}forward(e,r){for(let n of this.heap)n.forward(e,r);for(let n=this.heap.length>>1;n>=0;n--)Kb(this.heap,n);(this.to-e||this.value.endSide-r)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Kb(this.heap,0)}}}function Kb(t,e){for(let r=t[e];;){let n=(e<<1)+1;if(n>=t.length)break;let i=t[n];if(n+1<t.length&&i.compare(t[n+1])>=0&&(i=t[n+1],n++),r.compare(i)<0)break;t[n]=r,t[e]=i,e=n}}class tf{constructor(e,r,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Wf.from(e,r,n)}goto(e,r=-1e9){return this.cursor.goto(e,r),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=r,this.openStart=-1,this.next(),this}forward(e,r){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-r)<0;)this.removeActive(this.minActive);this.cursor.forward(e,r)}removeActive(e){gm(this.active,e),gm(this.activeTo,e),gm(this.activeRank,e),this.minActive=I4(this.active,this.activeTo)}addActive(e){let r=0,{value:n,to:i,rank:a}=this.cursor;for(;r<this.activeRank.length&&(a-this.activeRank[r]||i-this.activeTo[r])>0;)r++;ym(this.active,r,n),ym(this.activeTo,r,i),ym(this.activeRank,r,a),e&&ym(e,r,this.cursor.from),this.minActive=I4(this.active,this.activeTo)}next(){let e=this.to,r=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&gm(n,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let a=this.cursor.value;if(!a.point)this.addActive(n),this.cursor.next();else if(r&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=a,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=a.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let i=n.length-1;i>=0&&n[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let r=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&r.push(this.active[n]);return r.reverse()}openEnd(e){let r=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)r++;return r}}function z4(t,e,r,n,i,a){t.goto(e),r.goto(n);let l=n+i,o=n,u=n-e,h=!!a.boundChange;for(let m=!1;;){let p=t.to+u-r.to,y=p||t.endSide-r.endSide,x=y<0?t.to+u:r.to,b=Math.min(x,l);if(t.point||r.point?(t.point&&r.point&&Dj(t.point,r.point)&&Qw(t.activeForPoint(t.to),r.activeForPoint(r.to))||a.comparePoint(o,b,t.point,r.point),m=!1):(m&&a.boundChange(o),b>o&&!Qw(t.active,r.active)&&a.compareRange(o,b,t.active,r.active),h&&b<l&&(p||t.openEnd(x)!=r.openEnd(x))&&(m=!0)),x>l)break;o=x,y<=0&&t.next(),y>=0&&r.next()}}function Qw(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!=e[r]&&!Dj(t[r],e[r]))return!1;return!0}function gm(t,e){for(let r=e,n=t.length-1;r<n;r++)t[r]=t[r+1];t.pop()}function ym(t,e,r){for(let n=t.length-1;n>=e;n--)t[n+1]=t[n];t[e]=r}function I4(t,e){let r=-1,n=1e9;for(let i=0;i<e.length;i++)(e[i]-n||t[i].endSide-t[r].endSide)<0&&(r=i,n=e[i]);return r}function Fc(t,e,r=t.length){let n=0;for(let i=0;i<r&&i<t.length;)t.charCodeAt(i)==9?(n+=e-n%e,i++):(n++,i=rr(t,i));return n}function Xw(t,e,r,n){for(let i=0,a=0;;){if(a>=e)return i;if(i==t.length)break;a+=t.charCodeAt(i)==9?r-a%r:1,i=rr(t,i)}return n===!0?-1:t.length}const Zw="",U4=typeof Symbol>"u"?"__"+Zw:Symbol.for(Zw),Jw=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),q4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Ps{constructor(e,r){this.rules=[];let{finish:n}=r||{};function i(l){return/^@/.test(l)?[l]:l.split(/,\s*/)}function a(l,o,u,h){let m=[],p=/^@(\w+)\b/.exec(l[0]),y=p&&p[1]=="keyframes";if(p&&o==null)return u.push(l[0]+";");for(let x in o){let b=o[x];if(/&/.test(x))a(x.split(/,\s*/).map(N=>l.map(j=>N.replace(/&/,j))).reduce((N,j)=>N.concat(j)),b,u);else if(b&&typeof b=="object"){if(!p)throw new RangeError("The value of a property ("+x+") should be a primitive value.");a(i(x),b,m,y)}else b!=null&&m.push(x.replace(/_.*/,"").replace(/[A-Z]/g,N=>"-"+N.toLowerCase())+": "+b+";")}(m.length||y)&&u.push((n&&!p&&!h?l.map(n):l).join(", ")+" {"+m.join(" ")+"}")}for(let l in e)a(i(l),e[l],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=q4[U4]||1;return q4[U4]=e+1,Zw+e.toString(36)}static mount(e,r,n){let i=e[Jw],a=n&&n.nonce;i?a&&i.setNonce(a):i=new Nle(e,a),i.mount(Array.isArray(r)?r:[r],e)}}let H4=new Map;class Nle{constructor(e,r){let n=e.ownerDocument||e,i=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let a=H4.get(n);if(a)return e[Jw]=a;this.sheet=new i.CSSStyleSheet,H4.set(n,this)}else this.styleTag=n.createElement("style"),r&&this.styleTag.setAttribute("nonce",r);this.modules=[],e[Jw]=this}mount(e,r){let n=this.sheet,i=0,a=0;for(let l=0;l<e.length;l++){let o=e[l],u=this.modules.indexOf(o);if(u<a&&u>-1&&(this.modules.splice(u,1),a--,u=-1),u==-1){if(this.modules.splice(a++,0,o),n)for(let h=0;h<o.rules.length;h++)n.insertRule(o.rules[h],i++)}else{for(;a<u;)i+=this.modules[a++].rules.length;i+=o.rules.length,a++}}if(n)r.adoptedStyleSheets.indexOf(this.sheet)<0&&(r.adoptedStyleSheets=[this.sheet,...r.adoptedStyleSheets]);else{let l="";for(let u=0;u<this.modules.length;u++)l+=this.modules[u].getRules()+`
`;this.styleTag.textContent=l;let o=r.head||r;this.styleTag.parentNode!=o&&o.insertBefore(this.styleTag,o.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Rs={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Kf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Cle=typeof navigator<"u"&&/Mac/.test(navigator.platform),kle=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var yr=0;yr<10;yr++)Rs[48+yr]=Rs[96+yr]=String(yr);for(var yr=1;yr<=24;yr++)Rs[yr+111]="F"+yr;for(var yr=65;yr<=90;yr++)Rs[yr]=String.fromCharCode(yr+32),Kf[yr]=String.fromCharCode(yr);for(var Gb in Rs)Kf.hasOwnProperty(Gb)||(Kf[Gb]=Rs[Gb]);function Ole(t){var e=Cle&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||kle&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?Kf:Rs)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}function it(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,r=arguments[1];if(r&&typeof r=="object"&&r.nodeType==null&&!Array.isArray(r)){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var i=r[n];typeof i=="string"?t.setAttribute(n,i):i!=null&&(t[n]=i)}e++}for(;e<arguments.length;e++)L6(t,arguments[e]);return t}function L6(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var r=0;r<e.length;r++)L6(t,e[r]);else throw new RangeError("Unsupported child node: "+e)}let Mr=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},eS=typeof document<"u"?document:{documentElement:{style:{}}};const tS=/Edge\/(\d+)/.exec(Mr.userAgent),B6=/MSIE \d/.test(Mr.userAgent),rS=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Mr.userAgent),E0=!!(B6||rS||tS),$4=!E0&&/gecko\/(\d+)/i.test(Mr.userAgent),Yb=!E0&&/Chrome\/(\d+)/.exec(Mr.userAgent),Ale="webkitFontSmoothing"in eS.documentElement.style,nS=!E0&&/Apple Computer/.test(Mr.vendor),V4=nS&&(/Mobile\/\w+/.test(Mr.userAgent)||Mr.maxTouchPoints>2);var ye={mac:V4||/Mac/.test(Mr.platform),windows:/Win/.test(Mr.platform),linux:/Linux|X11/.test(Mr.platform),ie:E0,ie_version:B6?eS.documentMode||6:rS?+rS[1]:tS?+tS[1]:0,gecko:$4,gecko_version:$4?+(/Firefox\/(\d+)/.exec(Mr.userAgent)||[0,0])[1]:0,chrome:!!Yb,chrome_version:Yb?+Yb[1]:0,ios:V4,android:/Android\b/.test(Mr.userAgent),webkit_version:Ale?+(/\bAppleWebKit\/(\d+)/.exec(Mr.userAgent)||[0,0])[1]:0,safari:nS,safari_version:nS?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Mr.userAgent)||[0,0])[1]:0,tabSize:eS.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function Pj(t,e){for(let r in t)r=="class"&&e.class?e.class+=" "+t.class:r=="style"&&e.style?e.style+=";"+t.style:e[r]=t[r];return e}const ng=Object.create(null);function Rj(t,e,r){if(t==e)return!0;t||(t=ng),e||(e=ng);let n=Object.keys(t),i=Object.keys(e);if(n.length-0!=i.length-0)return!1;for(let a of n)if(a!=r&&(i.indexOf(a)==-1||t[a]!==e[a]))return!1;return!0}function Ele(t,e){for(let r=t.attributes.length-1;r>=0;r--){let n=t.attributes[r].name;e[n]==null&&t.removeAttribute(n)}for(let r in e){let n=e[r];r=="style"?t.style.cssText=n:t.getAttribute(r)!=n&&t.setAttribute(r,n)}}function F4(t,e,r){let n=!1;if(e)for(let i in e)r&&i in r||(n=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(r)for(let i in r)e&&e[i]==r[i]||(n=!0,i=="style"?t.style.cssText=r[i]:t.setAttribute(i,r[i]));return n}function Tle(t){let e=Object.create(null);for(let r=0;r<t.attributes.length;r++){let n=t.attributes[r];e[n.name]=n.value}return e}class Ki{eq(e){return!1}updateDOM(e,r){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,r,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var br=(function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t})(br||(br={}));class Ae extends _s{constructor(e,r,n,i){super(),this.startSide=e,this.endSide=r,this.widget=n,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Od(e)}static widget(e){let r=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return r+=n&&!e.inlineOrder?r>0?3e8:-4e8:r>0?1e8:-1e8,new Kl(e,r,r,n,e.widget||null,!1)}static replace(e){let r=!!e.block,n,i;if(e.isBlockGap)n=-5e8,i=4e8;else{let{start:a,end:l}=z6(e,r);n=(a?r?-3e8:-1:5e8)-1,i=(l?r?2e8:1:-6e8)+1}return new Kl(e,n,i,r,e.widget||null,!0)}static line(e){return new Ad(e)}static set(e,r=!1){return Ue.of(e,r)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Ae.none=Ue.empty;class Od extends Ae{constructor(e){let{start:r,end:n}=z6(e);super(r?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?Pj(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||ng}eq(e){return this==e||e instanceof Od&&this.tagName==e.tagName&&Rj(this.attrs,e.attrs)}range(e,r=e){if(e>=r)throw new RangeError("Mark decorations may not be empty");return super.range(e,r)}}Od.prototype.point=!1;class Ad extends Ae{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Ad&&this.spec.class==e.spec.class&&Rj(this.spec.attributes,e.spec.attributes)}range(e,r=e){if(r!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,r)}}Ad.prototype.mapMode=Dr.TrackBefore;Ad.prototype.point=!0;class Kl extends Ae{constructor(e,r,n,i,a,l){super(r,n,a,e),this.block=i,this.isReplace=l,this.mapMode=i?r<=0?Dr.TrackBefore:Dr.TrackAfter:Dr.TrackDel}get type(){return this.startSide!=this.endSide?br.WidgetRange:this.startSide<=0?br.WidgetBefore:br.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Kl&&Mle(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,r=e){if(this.isReplace&&(e>r||e==r&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&r!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,r)}}Kl.prototype.point=!0;function z6(t,e=!1){let{inclusiveStart:r,inclusiveEnd:n}=t;return r==null&&(r=t.inclusive),n==null&&(n=t.inclusive),{start:r??e,end:n??e}}function Mle(t,e){return t==e||!!(t&&e&&t.compare(e))}function ac(t,e,r,n=0){let i=r.length-1;i>=0&&r[i]+n>=t?r[i]=Math.max(r[i],e):r.push(t,e)}class Gf extends _s{constructor(e,r){super(),this.tagName=e,this.attributes=r}eq(e){return e==this||e instanceof Gf&&this.tagName==e.tagName&&Rj(this.attributes,e.attributes)}static create(e){return new Gf(e.tagName,e.attributes||ng)}static set(e,r=!1){return Ue.of(e,r)}}Gf.prototype.startSide=Gf.prototype.endSide=-1;function Yf(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function iS(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function xf(t,e){if(!e.anchorNode)return!1;try{return iS(t,e.anchorNode)}catch{return!1}}function vf(t){return t.nodeType==3?Xf(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function bf(t,e,r,n){return r?W4(t,e,r,n,-1)||W4(t,e,r,n,1):!1}function Ls(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function ig(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function W4(t,e,r,n,i){for(;;){if(t==r&&e==n)return!0;if(e==(i<0?0:Ma(t))){if(t.nodeName=="DIV")return!1;let a=t.parentNode;if(!a||a.nodeType!=1)return!1;e=Ls(t)+(i<0?0:1),t=a}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?Ma(t):0}else return!1}}function Ma(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Qf(t,e){let r=e?t.left:t.right;return{left:r,right:r,top:t.top,bottom:t.bottom}}function Dle(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function I6(t,e){let r=e.width/t.offsetWidth,n=e.height/t.offsetHeight;return(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.width-t.offsetWidth)<1)&&(r=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.height-t.offsetHeight)<1)&&(n=1),{scaleX:r,scaleY:n}}function _le(t,e,r,n,i,a,l,o){let u=t.ownerDocument,h=u.defaultView||window;for(let m=t,p=!1;m&&!p;)if(m.nodeType==1){let y,x=m==u.body,b=1,N=1;if(x)y=Dle(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(m).position)&&(p=!0),m.scrollHeight<=m.clientHeight&&m.scrollWidth<=m.clientWidth){m=m.assignedSlot||m.parentNode;continue}let A=m.getBoundingClientRect();({scaleX:b,scaleY:N}=I6(m,A)),y={left:A.left,right:A.left+m.clientWidth*b,top:A.top,bottom:A.top+m.clientHeight*N}}let j=0,C=0;if(i=="nearest")e.top<y.top?(C=e.top-(y.top+l),r>0&&e.bottom>y.bottom+C&&(C=e.bottom-y.bottom+l)):e.bottom>y.bottom&&(C=e.bottom-y.bottom+l,r<0&&e.top-C<y.top&&(C=e.top-(y.top+l)));else{let A=e.bottom-e.top,k=y.bottom-y.top;C=(i=="center"&&A<=k?e.top+A/2-k/2:i=="start"||i=="center"&&r<0?e.top-l:e.bottom-k+l)-y.top}if(n=="nearest"?e.left<y.left?(j=e.left-(y.left+a),r>0&&e.right>y.right+j&&(j=e.right-y.right+a)):e.right>y.right&&(j=e.right-y.right+a,r<0&&e.left<y.left+j&&(j=e.left-(y.left+a))):j=(n=="center"?e.left+(e.right-e.left)/2-(y.right-y.left)/2:n=="start"==o?e.left-a:e.right-(y.right-y.left)+a)-y.left,j||C)if(x)h.scrollBy(j,C);else{let A=0,k=0;if(C){let T=m.scrollTop;m.scrollTop+=C/N,k=(m.scrollTop-T)*N}if(j){let T=m.scrollLeft;m.scrollLeft+=j/b,A=(m.scrollLeft-T)*b}e={left:e.left-A,top:e.top-k,right:e.right-A,bottom:e.bottom-k},A&&Math.abs(A-j)<1&&(n="nearest"),k&&Math.abs(k-C)<1&&(i="nearest")}if(x)break;(e.top<y.top||e.bottom>y.bottom||e.left<y.left||e.right>y.right)&&(e={left:Math.max(e.left,y.left),right:Math.min(e.right,y.right),top:Math.max(e.top,y.top),bottom:Math.min(e.bottom,y.bottom)}),m=m.assignedSlot||m.parentNode}else if(m.nodeType==11)m=m.host;else break}function Ple(t){let e=t.ownerDocument,r,n;for(let i=t.parentNode;i&&!(i==e.body||r&&n);)if(i.nodeType==1)!n&&i.scrollHeight>i.clientHeight&&(n=i),!r&&i.scrollWidth>i.clientWidth&&(r=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:r,y:n}}class Rle{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:r,focusNode:n}=e;this.set(r,Math.min(e.anchorOffset,r?Ma(r):0),n,Math.min(e.focusOffset,n?Ma(n):0))}set(e,r,n,i){this.anchorNode=e,this.anchorOffset=r,this.focusNode=n,this.focusOffset=i}}let yl=null;ye.safari&&ye.safari_version>=26&&(yl=!1);function U6(t){if(t.setActive)return t.setActive();if(yl)return t.focus(yl);let e=[];for(let r=t;r&&(e.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(t.focus(yl==null?{get preventScroll(){return yl={preventScroll:!0},!0}}:void 0),!yl){yl=!1;for(let r=0;r<e.length;){let n=e[r++],i=e[r++],a=e[r++];n.scrollTop!=i&&(n.scrollTop=i),n.scrollLeft!=a&&(n.scrollLeft=a)}}}let K4;function Xf(t,e,r=e){let n=K4||(K4=document.createRange());return n.setEnd(t,r),n.setStart(t,e),n}function sc(t,e,r,n){let i={key:e,code:e,keyCode:r,which:r,cancelable:!0};n&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=n);let a=new KeyboardEvent("keydown",i);a.synthetic=!0,t.dispatchEvent(a);let l=new KeyboardEvent("keyup",i);return l.synthetic=!0,t.dispatchEvent(l),a.defaultPrevented||l.defaultPrevented}function Lle(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function Ble(t,e){let r=e.focusNode,n=e.focusOffset;if(!r||e.anchorNode!=r||e.anchorOffset!=n)return!1;for(n=Math.min(n,Ma(r));;)if(n){if(r.nodeType!=1)return!1;let i=r.childNodes[n-1];i.contentEditable=="false"?n--:(r=i,n=Ma(r))}else{if(r==t)return!0;n=Ls(r),r=r.parentNode}}function q6(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function H6(t,e){for(let r=t,n=e;;){if(r.nodeType==3&&n>0)return{node:r,offset:n};if(r.nodeType==1&&n>0){if(r.contentEditable=="false")return null;r=r.childNodes[n-1],n=Ma(r)}else if(r.parentNode&&!ig(r))n=Ls(r),r=r.parentNode;else return null}}function $6(t,e){for(let r=t,n=e;;){if(r.nodeType==3&&n<r.nodeValue.length)return{node:r,offset:n};if(r.nodeType==1&&n<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[n],n=0}else if(r.parentNode&&!ig(r))n=Ls(r)+1,r=r.parentNode;else return null}}class li{constructor(e,r,n=!0){this.node=e,this.offset=r,this.precise=n}static before(e,r){return new li(e.parentNode,Ls(e),r)}static after(e,r){return new li(e.parentNode,Ls(e)+1,r)}}var ct=(function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t})(ct||(ct={}));const Gl=ct.LTR,Lj=ct.RTL;function V6(t){let e=[];for(let r=0;r<t.length;r++)e.push(1<<+t[r]);return e}const zle=V6("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Ile=V6("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),aS=Object.create(null),ji=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),r=t.charCodeAt(1);aS[e]=r,aS[r]=-e}function F6(t){return t<=247?zle[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Ile[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const Ule=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class _i{get dir(){return this.level%2?Lj:Gl}constructor(e,r,n){this.from=e,this.to=r,this.level=n}side(e,r){return this.dir==r==e?this.to:this.from}forward(e,r){return e==(this.dir==r)}static find(e,r,n,i){let a=-1;for(let l=0;l<e.length;l++){let o=e[l];if(o.from<=r&&o.to>=r){if(o.level==n)return l;(a<0||(i!=0?i<0?o.from<r:o.to>r:e[a].level>o.level))&&(a=l)}}if(a<0)throw new RangeError("Index out of range");return a}}function W6(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++){let n=t[r],i=e[r];if(n.from!=i.from||n.to!=i.to||n.direction!=i.direction||!W6(n.inner,i.inner))return!1}return!0}const lt=[];function qle(t,e,r,n,i){for(let a=0;a<=n.length;a++){let l=a?n[a-1].to:e,o=a<n.length?n[a].from:r,u=a?256:i;for(let h=l,m=u,p=u;h<o;h++){let y=F6(t.charCodeAt(h));y==512?y=m:y==8&&p==4&&(y=16),lt[h]=y==4?2:y,y&7&&(p=y),m=y}for(let h=l,m=u,p=u;h<o;h++){let y=lt[h];if(y==128)h<o-1&&m==lt[h+1]&&m&24?y=lt[h]=m:lt[h]=256;else if(y==64){let x=h+1;for(;x<o&&lt[x]==64;)x++;let b=h&&m==8||x<r&&lt[x]==8?p==1?1:8:256;for(let N=h;N<x;N++)lt[N]=b;h=x-1}else y==8&&p==1&&(lt[h]=1);m=y,y&7&&(p=y)}}}function Hle(t,e,r,n,i){let a=i==1?2:1;for(let l=0,o=0,u=0;l<=n.length;l++){let h=l?n[l-1].to:e,m=l<n.length?n[l].from:r;for(let p=h,y,x,b;p<m;p++)if(x=aS[y=t.charCodeAt(p)])if(x<0){for(let N=o-3;N>=0;N-=3)if(ji[N+1]==-x){let j=ji[N+2],C=j&2?i:j&4?j&1?a:i:0;C&&(lt[p]=lt[ji[N]]=C),o=N;break}}else{if(ji.length==189)break;ji[o++]=p,ji[o++]=y,ji[o++]=u}else if((b=lt[p])==2||b==1){let N=b==i;u=N?0:1;for(let j=o-3;j>=0;j-=3){let C=ji[j+2];if(C&2)break;if(N)ji[j+2]|=2;else{if(C&4)break;ji[j+2]|=4}}}}}function $le(t,e,r,n){for(let i=0,a=n;i<=r.length;i++){let l=i?r[i-1].to:t,o=i<r.length?r[i].from:e;for(let u=l;u<o;){let h=lt[u];if(h==256){let m=u+1;for(;;)if(m==o){if(i==r.length)break;m=r[i++].to,o=i<r.length?r[i].from:e}else if(lt[m]==256)m++;else break;let p=a==1,y=(m<e?lt[m]:n)==1,x=p==y?p?1:2:n;for(let b=m,N=i,j=N?r[N-1].to:t;b>u;)b==j&&(b=r[--N].from,j=N?r[N-1].to:t),lt[--b]=x;u=m}else a=h,u++}}}function sS(t,e,r,n,i,a,l){let o=n%2?2:1;if(n%2==i%2)for(let u=e,h=0;u<r;){let m=!0,p=!1;if(h==a.length||u<a[h].from){let N=lt[u];N!=o&&(m=!1,p=N==16)}let y=!m&&o==1?[]:null,x=m?n:n+1,b=u;e:for(;;)if(h<a.length&&b==a[h].from){if(p)break e;let N=a[h];if(!m)for(let j=N.to,C=h+1;;){if(j==r)break e;if(C<a.length&&a[C].from==j)j=a[C++].to;else{if(lt[j]==o)break e;break}}if(h++,y)y.push(N);else{N.from>u&&l.push(new _i(u,N.from,x));let j=N.direction==Gl!=!(x%2);lS(t,j?n+1:n,i,N.inner,N.from,N.to,l),u=N.to}b=N.to}else{if(b==r||(m?lt[b]!=o:lt[b]==o))break;b++}y?sS(t,u,b,n+1,i,y,l):u<b&&l.push(new _i(u,b,x)),u=b}else for(let u=r,h=a.length;u>e;){let m=!0,p=!1;if(!h||u>a[h-1].to){let N=lt[u-1];N!=o&&(m=!1,p=N==16)}let y=!m&&o==1?[]:null,x=m?n:n+1,b=u;e:for(;;)if(h&&b==a[h-1].to){if(p)break e;let N=a[--h];if(!m)for(let j=N.from,C=h;;){if(j==e)break e;if(C&&a[C-1].to==j)j=a[--C].from;else{if(lt[j-1]==o)break e;break}}if(y)y.push(N);else{N.to<u&&l.push(new _i(N.to,u,x));let j=N.direction==Gl!=!(x%2);lS(t,j?n+1:n,i,N.inner,N.from,N.to,l),u=N.from}b=N.from}else{if(b==e||(m?lt[b-1]!=o:lt[b-1]==o))break;b--}y?sS(t,b,u,n+1,i,y,l):b<u&&l.push(new _i(b,u,x)),u=b}}function lS(t,e,r,n,i,a,l){let o=e%2?2:1;qle(t,i,a,n,o),Hle(t,i,a,n,o),$le(i,a,n,o),sS(t,i,a,e,r,n,l)}function Vle(t,e,r){if(!t)return[new _i(0,0,e==Lj?1:0)];if(e==Gl&&!r.length&&!Ule.test(t))return K6(t.length);if(r.length)for(;t.length>lt.length;)lt[lt.length]=256;let n=[],i=e==Gl?0:1;return lS(t,i,i,r,0,t.length,n),n}function K6(t){return[new _i(0,t,0)]}let G6="";function Fle(t,e,r,n,i){var a;let l=n.head-t.from,o=_i.find(e,l,(a=n.bidiLevel)!==null&&a!==void 0?a:-1,n.assoc),u=e[o],h=u.side(i,r);if(l==h){let y=o+=i?1:-1;if(y<0||y>=e.length)return null;u=e[o=y],l=u.side(!i,r),h=u.side(i,r)}let m=rr(t.text,l,u.forward(i,r));(m<u.from||m>u.to)&&(m=h),G6=t.text.slice(Math.min(l,m),Math.max(l,m));let p=o==(i?e.length-1:0)?null:e[o+(i?1:-1)];return p&&m==h&&p.level+(i?0:1)<u.level?ue.cursor(p.side(!i,r)+t.from,p.forward(i,r)?1:-1,p.level):ue.cursor(m+t.from,u.forward(i,r)?-1:1,u.level)}function Wle(t,e,r){for(let n=e;n<r;n++){let i=F6(t.charCodeAt(n));if(i==1)return Gl;if(i==2||i==4)return Lj}return Gl}const Y6=xe.define(),Q6=xe.define(),X6=xe.define(),Z6=xe.define(),oS=xe.define(),J6=xe.define(),eB=xe.define(),Bj=xe.define(),zj=xe.define(),tB=xe.define({combine:t=>t.some(e=>e)}),rB=xe.define({combine:t=>t.some(e=>e)}),nB=xe.define();class lc{constructor(e,r="nearest",n="nearest",i=5,a=5,l=!1){this.range=e,this.y=r,this.x=n,this.yMargin=i,this.xMargin=a,this.isSnapshot=l}map(e){return e.empty?this:new lc(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new lc(ue.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const xm=Pe.define({map:(t,e)=>t.map(e)}),iB=Pe.define();function Zr(t,e,r){let n=t.facet(Z6);n.length?n[0](e):window.onerror&&window.onerror(String(e),r,void 0,void 0,e)||(r?console.error(r+":",e):console.error(e))}const ga=xe.define({combine:t=>t.length?t[0]:!0});let Kle=0;const Xo=xe.define({combine(t){return t.filter((e,r)=>{for(let n=0;n<r;n++)if(t[n].plugin==e.plugin)return!1;return!0})}});class Pt{constructor(e,r,n,i,a){this.id=e,this.create=r,this.domEventHandlers=n,this.domEventObservers=i,this.baseExtensions=a(this),this.extension=this.baseExtensions.concat(Xo.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Xo.of({plugin:this,arg:e}))}static define(e,r){const{eventHandlers:n,eventObservers:i,provide:a,decorations:l}=r||{};return new Pt(Kle++,e,n,i,o=>{let u=[];return l&&u.push(T0.of(h=>{let m=h.plugin(o);return m?l(m):Ae.none})),a&&u.push(a(o)),u})}static fromClass(e,r){return Pt.define((n,i)=>new e(n,i),r)}}class Qb{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let r=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(r)}catch(n){if(Zr(r.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(r){Zr(e.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var r;if(!((r=this.value)===null||r===void 0)&&r.destroy)try{this.value.destroy()}catch(n){Zr(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const aB=xe.define(),Ij=xe.define(),T0=xe.define(),sB=xe.define(),Uj=xe.define(),Ed=xe.define(),lB=xe.define();function G4(t,e){let r=t.state.facet(lB);if(!r.length)return r;let n=r.map(a=>a instanceof Function?a(t):a),i=[];return Ue.spans(n,e.from,e.to,{point(){},span(a,l,o,u){let h=a-e.from,m=l-e.from,p=i;for(let y=o.length-1;y>=0;y--,u--){let x=o[y].spec.bidiIsolate,b;if(x==null&&(x=Wle(e.text,h,m)),u>0&&p.length&&(b=p[p.length-1]).to==h&&b.direction==x)b.to=m,p=b.inner;else{let N={from:h,to:m,direction:x,inner:[]};p.push(N),p=N.inner}}}}),i}const oB=xe.define();function qj(t){let e=0,r=0,n=0,i=0;for(let a of t.state.facet(oB)){let l=a(t);l&&(l.left!=null&&(e=Math.max(e,l.left)),l.right!=null&&(r=Math.max(r,l.right)),l.top!=null&&(n=Math.max(n,l.top)),l.bottom!=null&&(i=Math.max(i,l.bottom)))}return{left:e,right:r,top:n,bottom:i}}const ff=xe.define();class Fn{constructor(e,r,n,i){this.fromA=e,this.toA=r,this.fromB=n,this.toB=i}join(e){return new Fn(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let r=e.length,n=this;for(;r>0;r--){let i=e[r-1];if(!(i.fromA>n.toA)){if(i.toA<n.fromA)break;n=n.join(i),e.splice(r-1,1)}}return e.splice(r,0,n),e}static extendWithRanges(e,r){if(r.length==0)return e;let n=[];for(let i=0,a=0,l=0;;){let o=i<e.length?e[i].fromB:1e9,u=a<r.length?r[a]:1e9,h=Math.min(o,u);if(h==1e9)break;let m=h+l,p=h,y=m;for(;;)if(a<r.length&&r[a]<=p){let x=r[a+1];a+=2,p=Math.max(p,x);for(let b=i;b<e.length&&e[b].fromB<=p;b++)l=e[b].toA-e[b].toB;y=Math.max(y,x+l)}else if(i<e.length&&e[i].fromB<=p){let x=e[i++];p=Math.max(p,x.toB),y=Math.max(y,x.toA),l=x.toA-x.toB}else break;n.push(new Fn(m,y,h,p))}return n}}class ag{constructor(e,r,n){this.view=e,this.state=r,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=Wt.empty(this.startState.doc.length);for(let a of n)this.changes=this.changes.compose(a.changes);let i=[];this.changes.iterChangedRanges((a,l,o,u)=>i.push(new Fn(a,l,o,u))),this.changedRanges=i}static create(e,r,n){return new ag(e,r,n)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const Gle=[];class Ut{constructor(e,r,n=0){this.dom=e,this.length=r,this.flags=n,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return Gle}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let r=this.domAttrs;r&&Ele(this.dom,r)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,r=this.posAtStart){let n=r;for(let i of this.children){if(i==e)return n;n+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,r){return null}domPosFor(e,r){let n=Ls(this.dom),i=this.length?e>0:r>0;return new li(this.parent.dom,n+(i?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof D0)return e;return null}static get(e){return e.cmTile}}class M0 extends Ut{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let r=this.dom,n=null,i,a=e?.node==r?e:null,l=0;for(let o of this.children){if(o.sync(e),l+=o.length+o.breakAfter,i=n?n.nextSibling:r.firstChild,a&&i!=o.dom&&(a.written=!0),o.dom.parentNode==r)for(;i&&i!=o.dom;)i=Y4(i);else r.insertBefore(o.dom,i);n=o.dom}for(i=n?n.nextSibling:r.firstChild,a&&i&&(a.written=!0);i;)i=Y4(i);this.length=l}}function Y4(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class D0 extends M0{constructor(e,r){super(r),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let r=Ut.get(e);if(r&&this.owns(r))return r;e=e.parentNode}}blockTiles(e){for(let r=[],n=this,i=0,a=0;;)if(i==n.children.length){if(!r.length)return;n=n.parent,n.breakAfter&&a++,i=r.pop()}else{let l=n.children[i++];if(l instanceof Os)r.push(i),n=l,i=0;else{let o=a+l.length,u=e(l,a);if(u!==void 0)return u;a=o+l.breakAfter}}}resolveBlock(e,r){let n,i=-1,a,l=-1;if(this.blockTiles((o,u)=>{let h=u+o.length;if(e>=u&&e<=h){if(o.isWidget()&&r>=-1&&r<=1){if(o.flags&32)return!0;o.flags&16&&(n=void 0)}(u<e||e==h&&(r<-1?o.length:o.covers(1)))&&(!n||!o.isWidget()&&n.isWidget())&&(n=o,i=e-u),(h>e||e==u&&(r>1?o.length:o.covers(-1)))&&(!a||!o.isWidget()&&a.isWidget())&&(a=o,l=e-u)}}),!n&&!a)throw new Error("No tile at position "+e);return n&&r<0||!a?{tile:n,offset:i}:{tile:a,offset:l}}}class Os extends M0{constructor(e,r){super(e),this.wrapper=r}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,r){let n=new Os(r||document.createElement(e.tagName),e);return r||(n.flags|=4),n}}class jc extends M0{constructor(e,r){super(e),this.attrs=r}isLine(){return!0}static start(e,r,n){let i=new jc(r||document.createElement("div"),e);return(!r||!n)&&(i.flags|=4),i}get domAttrs(){return this.attrs}resolveInline(e,r,n){let i=null,a=-1,l=null,o=-1;function u(m,p){for(let y=0,x=0;y<m.children.length&&x<=p;y++){let b=m.children[y],N=x+b.length;N>=p&&(b.isComposite()?u(b,p-x):(!l||l.isHidden&&(r>0||n&&Qle(l,b)))&&(N>p||b.flags&32)?(l=b,o=p-x):(x<p||b.flags&16&&!b.isHidden)&&(i=b,a=p-x)),x=N}}u(this,e);let h=(r<0?i:l)||i||l;return h?{tile:h,offset:h==i?a:o}:null}coordsIn(e,r){let n=this.resolveInline(e,r,!0);return n?n.tile.coordsIn(Math.max(0,n.offset),r):Yle(this)}domIn(e,r){let n=this.resolveInline(e,r);if(n){let{tile:i,offset:a}=n;if(this.dom.contains(i.dom))return i.isText()?new li(i.dom,Math.min(i.dom.nodeValue.length,a)):i.domPosFor(a,i.flags&16?1:i.flags&32?-1:r);let l=n.tile.parent,o=!1;for(let u of l.children){if(o)return new li(u.dom,0);u==n.tile&&(o=!0)}}return new li(this.dom,0)}}function Yle(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let r=vf(e);return r[r.length-1]||null}function Qle(t,e){let r=t.coordsIn(0,1),n=e.coordsIn(0,1);return r&&n&&n.top<r.bottom}class Yr extends M0{constructor(e,r){super(e),this.mark=r}get domAttrs(){return this.mark.attrs}static of(e,r){let n=new Yr(r||document.createElement(e.tagName),e);return r||(n.flags|=4),n}}class kl extends Ut{constructor(e,r){super(e,r.length),this.text=r}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,r){let n=this.dom.nodeValue.length;e>n&&(e=n);let i=e,a=e,l=0;e==0&&r<0||e==n&&r>=0?ye.chrome||ye.gecko||(e?(i--,l=1):a<n&&(a++,l=-1)):r<0?i--:a<n&&a++;let o=Xf(this.dom,i,a).getClientRects();if(!o.length)return null;let u=o[(l?l<0:r>=0)?0:o.length-1];return ye.safari&&!l&&u.width==0&&(u=Array.prototype.find.call(o,h=>h.width)||u),l?Qf(u,l<0):u||null}static of(e,r){let n=new kl(r||document.createTextNode(e),e);return r||(n.flags|=2),n}}class Yl extends Ut{constructor(e,r,n,i){super(e,r,i),this.widget=n}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,r){return this.coordsInWidget(e,r,!1)}coordsInWidget(e,r,n){let i=this.widget.coordsAt(this.dom,e,r);if(i)return i;if(n)return Qf(this.dom.getBoundingClientRect(),this.length?e==0:r<=0);{let a=this.dom.getClientRects(),l=null;if(!a.length)return null;let o=this.flags&16?!0:this.flags&32?!1:e>0;for(let u=o?a.length-1:0;l=a[u],!(e>0?u==0:u==a.length-1||l.top<l.bottom);u+=o?-1:1);return Qf(l,!o)}}get overrideDOMText(){if(!this.length)return Ge.empty;let{root:e}=this;if(!e)return Ge.empty;let r=this.posAtStart;return e.view.state.doc.slice(r,r+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,r,n,i,a){return a||(a=e.toDOM(r),e.editable||(a.contentEditable="false")),new Yl(a,n,e,i)}}class sg extends Ut{constructor(e){let r=document.createElement("img");r.className="cm-widgetBuffer",r.setAttribute("aria-hidden","true"),super(r,0,e)}get isHidden(){return!0}get overrideDOMText(){return Ge.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class Xle{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,r,n){let{tile:i,index:a,beforeBreak:l,parents:o}=this;for(;e||r>0;)if(i.isComposite())if(l){if(!e)break;n&&n.break(),e--,l=!1}else if(a==i.children.length){if(!e&&!o.length)break;n&&n.leave(i),l=!!i.breakAfter,{tile:i,index:a}=o.pop(),a++}else{let u=i.children[a],h=u.breakAfter;(r>0?u.length<=e:u.length<e)&&(!n||n.skip(u,0,u.length)!==!1||!u.isComposite)?(l=!!h,a++,e-=u.length):(o.push({tile:i,index:a}),i=u,a=0,n&&u.isComposite()&&n.enter(u))}else if(a==i.length)l=!!i.breakAfter,{tile:i,index:a}=o.pop(),a++;else if(e){let u=Math.min(e,i.length-a);n&&n.skip(i,a,a+u),e-=u,a+=u}else break;return this.tile=i,this.index=a,this.beforeBreak=l,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class Zle{constructor(e,r,n,i){this.from=e,this.to=r,this.wrapper=n,this.rank=i}}class Jle{constructor(e,r,n){this.cache=e,this.root=r,this.blockWrappers=n,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,r,n,i){var a;this.flushBuffer();let l=this.ensureMarks(r,n),o=l.lastChild;if(o&&o.isText()&&!(o.flags&8)&&o.length+e.length<512){this.cache.reused.set(o,2);let u=l.children[l.children.length-1]=new kl(o.dom,o.text+e);u.parent=l}else l.append(i||kl.of(e,(a=this.cache.find(kl))===null||a===void 0?void 0:a.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,r){let n=this.curLine;n.dom!=r.line.dom&&(n.setDOM(this.cache.reused.has(r.line)?Xb(r.line.dom):r.line.dom),this.cache.reused.set(r.line,2));let i=n;for(let o=r.marks.length-1;o>=0;o--){let u=r.marks[o],h=i.lastChild;if(h instanceof Yr&&h.mark.eq(u.mark))h.dom!=u.dom&&h.setDOM(Xb(u.dom)),i=h;else{if(this.cache.reused.get(u)){let p=Ut.get(u.dom);p&&p.setDOM(Xb(u.dom))}let m=Yr.of(u.mark,u.dom);i.append(m),i=m}this.cache.reused.set(u,2)}let a=Ut.get(e.text);a&&this.cache.reused.set(a,2);let l=new kl(e.text,e.text.nodeValue);l.flags|=8,i.append(l)}addInlineWidget(e,r,n){let i=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);i||this.flushBuffer();let a=this.ensureMarks(r,n);!i&&!(e.flags&16)&&a.append(this.getBuffer(1)),a.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,r,n){this.flushBuffer(),this.ensureMarks(r,n).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let r=this.afterWidget||this.lastBlock;r.length+=e,this.pos+=e}addLineStart(e,r){var n;e||(e=cB);let i=jc.start(e,r||((n=this.cache.find(jc))===null||n===void 0?void 0:n.dom),!!r);this.getBlockPos().append(this.lastBlock=this.curLine=i)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,r){var n;let i=this.curLine;for(let a=e.length-1;a>=0;a--){let l=e[a],o;if(r>0&&(o=i.lastChild)&&o instanceof Yr&&o.mark.eq(l))i=o,r--;else{let u=Yr.of(l,(n=this.cache.find(Yr,h=>h.mark.eq(l)))===null||n===void 0?void 0:n.dom);i.append(u),i=u,r=0}}return i}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!Q4(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(ye.ios&&Q4(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(Zb,0,32)||new Yl(Zb.toDOM(),0,Zb,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let r=new Zle(e.from,e.to,e.value,e.rank),n=this.wrappers.length;for(;n>0&&(this.wrappers[n-1].rank-r.rank||this.wrappers[n-1].to-r.to)<0;)n--;this.wrappers.splice(n,0,r)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let r=this.root;for(let n of this.wrappers){let i=r.lastChild;if(n.from<this.pos&&i instanceof Os&&i.wrapper.eq(n.wrapper))r=i;else{let a=Os.of(n.wrapper,(e=this.cache.find(Os,l=>l.wrapper.eq(n.wrapper)))===null||e===void 0?void 0:e.dom);r.append(a),r=a}}return r}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let r=2|(e<0?16:32),n=this.cache.find(sg,void 0,1);return n&&(n.flags=r),n||new sg(r)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class eoe{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:i,lineBreak:a,done:l}=this.cursor.next(this.skipCount);if(this.skipCount=0,l)throw new Error("Ran out of text content when drawing inline views");this.text=i;let o=this.textOff=Math.min(e,i.length);return a?null:i.slice(0,o)}let r=Math.min(this.text.length,this.textOff+e),n=this.text.slice(this.textOff,r);return this.textOff=r,n}}const lg=[Yl,jc,kl,Yr,sg,Os,D0];for(let t=0;t<lg.length;t++)lg[t].bucket=t;class toe{constructor(e){this.view=e,this.buckets=lg.map(()=>[]),this.index=lg.map(()=>0),this.reused=new Map}add(e){let r=e.constructor.bucket,n=this.buckets[r];n.length<6?n.push(e):n[this.index[r]=(this.index[r]+1)%6]=e}find(e,r,n=2){let i=e.bucket,a=this.buckets[i],l=this.index[i];for(let o=a.length-1;o>=0;o--){let u=(o+l)%a.length,h=a[u];if((!r||r(h))&&!this.reused.has(h))return a.splice(u,1),u<l&&this.index[i]--,this.reused.set(h,n),h}return null}findWidget(e,r,n){let i=this.buckets[0];if(i.length)for(let a=0,l=0;;a++){if(a==i.length){if(l)return null;l=1,a=0}let o=i[a];if(!this.reused.has(o)&&(l==0?o.widget.compare(e):o.widget.constructor==e.constructor&&e.updateDOM(o.dom,this.view)))return i.splice(a,1),a<this.index[0]&&this.index[0]--,o.widget==e&&o.length==r&&(o.flags&497)==n?(this.reused.set(o,1),o):(this.reused.set(o,2),new Yl(o.dom,r,e,o.flags&-498|n))}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,r=2){if(!this.reused.has(e))return this.reused.set(e,r),e.dom}clear(){for(let e=0;e<this.buckets.length;e++)this.buckets[e].length=this.index[e]=0}}class roe{constructor(e,r,n,i,a){this.view=e,this.decorations=i,this.disallowBlockEffectsFor=a,this.openWidget=!1,this.openMarks=0,this.cache=new toe(e),this.text=new eoe(e.state.doc),this.builder=new Jle(this.cache,new D0(e,e.contentDOM),Ue.iter(n)),this.cache.reused.set(r,2),this.old=new Xle(r),this.reuseWalker={skip:(l,o,u)=>{if(this.cache.add(l),l.isComposite())return!1},enter:l=>this.cache.add(l),leave:()=>{},break:()=>{}}}run(e,r){let n=r&&this.getCompositionContext(r.text);for(let i=0,a=0,l=0;;){let o=l<e.length?e[l++]:null,u=o?o.fromA:this.old.root.length;if(u>i){let h=u-i;this.preserve(h,!l,!o),i=u,a+=h}if(!o)break;r&&o.fromA<=r.range.fromA&&o.toA>=r.range.toA?(this.forward(o.fromA,r.range.fromA,r.range.fromA<r.range.toA?1:-1),this.emit(a,r.range.fromB),this.cache.clear(),this.builder.addComposition(r,n),this.text.skip(r.range.toB-r.range.fromB),this.forward(r.range.fromA,o.toA),this.emit(r.range.toB,o.toB)):(this.forward(o.fromA,o.toA),this.emit(a,o.toB)),a=o.toB,i=o.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,r,n){let i=aoe(this.old),a=this.openMarks;this.old.advance(e,n?1:-1,{skip:(l,o,u)=>{if(l.isWidget())if(this.openWidget)this.builder.continueWidget(u-o);else{let h=u>0||o<l.length?Yl.of(l.widget,this.view,u-o,l.flags&496,this.cache.maybeReuse(l)):this.cache.reuse(l);h.flags&256?(h.flags&=-2,this.builder.addBlockWidget(h)):(this.builder.ensureLine(null),this.builder.addInlineWidget(h,i,a),a=i.length)}else if(l.isText())this.builder.ensureLine(null),!o&&u==l.length?this.builder.addText(l.text,i,a,this.cache.reuse(l)):(this.cache.add(l),this.builder.addText(l.text.slice(o,u),i,a)),a=i.length;else if(l.isLine())l.flags&=-2,this.cache.reused.set(l,1),this.builder.addLine(l);else if(l instanceof sg)this.cache.add(l);else if(l instanceof Yr)this.builder.ensureLine(null),this.builder.addMark(l,i,a),this.cache.reused.set(l,1),a=i.length;else return!1;this.openWidget=!1},enter:l=>{l.isLine()?this.builder.addLineStart(l.attrs,this.cache.maybeReuse(l)):(this.cache.add(l),l instanceof Yr&&i.unshift(l.mark)),this.openWidget=!1},leave:l=>{l.isLine()?i.length&&(i.length=a=0):l instanceof Yr&&(i.shift(),a=Math.min(a,i.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,r){let n=null,i=this.builder,a=0,l=Ue.spans(this.decorations,e,r,{point:(o,u,h,m,p,y)=>{if(h instanceof Kl){if(this.disallowBlockEffectsFor[y]){if(h.block)throw new RangeError("Block decorations may not be specified via plugins");if(u>this.view.state.doc.lineAt(o).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(a=m.length,p>m.length)i.continueWidget(u-o);else{let x=h.widget||(h.block?Nc.block:Nc.inline),b=noe(h),N=this.cache.findWidget(x,u-o,b)||Yl.of(x,this.view,u-o,b);h.block?(h.startSide>0&&i.addLineStartIfNotCovered(n),i.addBlockWidget(N)):(i.ensureLine(n),i.addInlineWidget(N,m,p))}n=null}else n=ioe(n,h);u>o&&this.text.skip(u-o)},span:(o,u,h,m)=>{for(let p=o;p<u;){let y=this.text.next(Math.min(512,u-p));y==null?(i.addLineStartIfNotCovered(n),i.addBreak(),p++):(i.ensureLine(n),i.addText(y,h,p==o?m:h.length),p+=y.length),n=null}}});i.addLineStartIfNotCovered(n),this.openWidget=l>a,this.openMarks=l}forward(e,r,n=1){r-e<=10?this.old.advance(r-e,n,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(r-e-10,-1),this.old.advance(5,n,this.reuseWalker))}getCompositionContext(e){let r=[],n=null;for(let i=e.parentNode;;i=i.parentNode){let a=Ut.get(i);if(i==this.view.contentDOM)break;a instanceof Yr?r.push(a):a?.isLine()?n=a:i.nodeName=="DIV"&&!n&&i!=this.view.contentDOM?n=new jc(i,cB):r.push(Yr.of(new Od({tagName:i.nodeName.toLowerCase(),attributes:Tle(i)}),i))}return{line:n,marks:r}}}function Q4(t,e){let r=n=>{for(let i of n.children)if((e?i.isText():i.length)||r(i))return!0;return!1};return r(t)}function noe(t){let e=t.isReplace?(t.startSide<0?64:0)|(t.endSide>0?128:0):t.startSide>0?32:16;return t.block&&(e|=256),e}const cB={class:"cm-line"};function ioe(t,e){let r=e.spec.attributes,n=e.spec.class;return!r&&!n||(t||(t={class:"cm-line"}),r&&Pj(r,t),n&&(t.class+=" "+n)),t}function aoe(t){let e=[];for(let r=t.parents.length;r>1;r--){let n=r==t.parents.length?t.tile:t.parents[r].tile;n instanceof Yr&&e.push(n.mark)}return e}function Xb(t){let e=Ut.get(t);return e&&e.setDOM(t.cloneNode()),t}class Nc extends Ki{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Nc.inline=new Nc("span");Nc.block=new Nc("div");const Zb=new class extends Ki{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class X4{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=Ae.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new D0(e,e.contentDOM),this.updateInner([new Fn(0,0,0,e.state.doc.length)],null)}update(e){var r;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:m,toA:p})=>p<this.minWidthFrom||m>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((r=this.domChanged)===null||r===void 0)&&r.newSel?i=this.domChanged.newSel.head:!moe(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let a=i>-1?loe(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){let{from:m,to:p}=this.hasComposition;n=new Fn(m,p,e.changes.mapPos(m,-1),e.changes.mapPos(p,1)).addToSet(n.slice())}this.hasComposition=a?{from:a.range.fromB,to:a.range.toB}:null,(ye.ie||ye.chrome)&&!a&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let l=this.decorations,o=this.blockWrappers;this.updateDeco();let u=uoe(l,this.decorations,e.changes);u.length&&(n=Fn.extendWithRanges(n,u));let h=doe(o,this.blockWrappers,e.changes);return h.length&&(n=Fn.extendWithRanges(n,h)),a&&!n.some(m=>m.fromA<=a.range.fromA&&m.toA>=a.range.toA)&&(n=a.range.addToSet(n.slice())),this.tile.flags&2&&n.length==0?!1:(this.updateInner(n,a),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,r){this.view.viewState.mustMeasureContent=!0;let{observer:n}=this.view;n.ignore(()=>{if(r||e.length){let l=this.tile,o=new roe(this.view,l,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=o.run(e,r),cS(l,o.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=ye.chrome||ye.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(a),a&&(a.written||n.selectionRange.focusNode!=a.node||!this.tile.dom.contains(a.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.tile.children)a.isWidget()&&a.widget instanceof Jb&&i.push(a.dom);n.updateGaps(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let r of e.transactions)for(let n of r.effects)n.is(iB)&&(this.editContextFormatting=n.value)}updateSelection(e=!1,r=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:n}=this.tile,i=this.view.root.activeElement,a=i==n,l=!a&&!(this.view.state.facet(ga)||n.tabIndex>-1)&&xf(n,this.view.observer.selectionRange)&&!(i&&n.contains(i));if(!(a||r||l))return;let o=this.forceSelection;this.forceSelection=!1;let u=this.view.state.selection.main,h,m;if(u.empty?m=h=this.inlineDOMNearPos(u.anchor,u.assoc||1):(m=this.inlineDOMNearPos(u.head,u.head==u.from?1:-1),h=this.inlineDOMNearPos(u.anchor,u.anchor==u.from?1:-1)),ye.gecko&&u.empty&&!this.hasComposition&&soe(h)){let y=document.createTextNode("");this.view.observer.ignore(()=>h.node.insertBefore(y,h.node.childNodes[h.offset]||null)),h=m=new li(y,0),o=!0}let p=this.view.observer.selectionRange;(o||!p.focusNode||(!bf(h.node,h.offset,p.anchorNode,p.anchorOffset)||!bf(m.node,m.offset,p.focusNode,p.focusOffset))&&!this.suppressWidgetCursorChange(p,u))&&(this.view.observer.ignore(()=>{ye.android&&ye.chrome&&n.contains(p.focusNode)&&hoe(p.focusNode,n)&&(n.blur(),n.focus({preventScroll:!0}));let y=Yf(this.view.root);if(y)if(u.empty){if(ye.gecko){let x=ooe(h.node,h.offset);if(x&&x!=3){let b=(x==1?H6:$6)(h.node,h.offset);b&&(h=new li(b.node,b.offset))}}y.collapse(h.node,h.offset),u.bidiLevel!=null&&y.caretBidiLevel!==void 0&&(y.caretBidiLevel=u.bidiLevel)}else if(y.extend){y.collapse(h.node,h.offset);try{y.extend(m.node,m.offset)}catch{}}else{let x=document.createRange();u.anchor>u.head&&([h,m]=[m,h]),x.setEnd(m.node,m.offset),x.setStart(h.node,h.offset),y.removeAllRanges(),y.addRange(x)}l&&this.view.root.activeElement==n&&(n.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(h,m)),this.impreciseAnchor=h.precise?null:new li(p.anchorNode,p.anchorOffset),this.impreciseHead=m.precise?null:new li(p.focusNode,p.focusOffset)}suppressWidgetCursorChange(e,r){return this.hasComposition&&r.empty&&bf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==r.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,r=e.state.selection.main,n=Yf(e.root),{anchorNode:i,anchorOffset:a}=e.observer.selectionRange;if(!n||!r.empty||!r.assoc||!n.modify)return;let l=this.lineAt(r.head,r.assoc);if(!l)return;let o=l.posAtStart;if(r.head==o||r.head==o+l.length)return;let u=this.coordsAt(r.head,-1),h=this.coordsAt(r.head,1);if(!u||!h||u.bottom>h.top)return;let m=this.domAtPos(r.head+r.assoc,r.assoc);n.collapse(m.node,m.offset),n.modify("move",r.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let p=e.observer.selectionRange;e.docView.posFromDOM(p.anchorNode,p.anchorOffset)!=r.from&&n.collapse(i,a)}posFromDOM(e,r){let n=this.tile.nearest(e);if(!n)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let i=n.posAtStart;if(n.isComposite()){let a;if(e==n.dom)a=n.dom.childNodes[r];else{let l=Ma(e)==0?0:r==0?-1:1;for(;;){let o=e.parentNode;if(o==n.dom)break;l==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?l=-1:l=1),e=o}l<0?a=e:a=e.nextSibling}if(a==n.dom.firstChild)return i;for(;a&&!Ut.get(a);)a=a.nextSibling;if(!a)return i+n.length;for(let l=0,o=i;;l++){let u=n.children[l];if(u.dom==a)return o;o+=u.length+u.breakAfter}}else return n.isText()?e==n.dom?i+r:i+(r?n.length:0):i}domAtPos(e,r){let{tile:n,offset:i}=this.tile.resolveBlock(e,r);return n.isWidget()?n.domPosFor(e,r):n.domIn(i,r)}inlineDOMNearPos(e,r){let n,i=-1,a=!1,l,o=-1,u=!1;return this.tile.blockTiles((h,m)=>{if(h.isWidget()){if(h.flags&32&&m>=e)return!0;h.flags&16&&(a=!0)}else{let p=m+h.length;if(m<=e&&(n=h,i=e-m,a=p<e),p>=e&&!l&&(l=h,o=e-m,u=m>e),m>e&&l)return!0}}),!n&&!l?this.domAtPos(e,r):(a&&l?n=null:u&&n&&(l=null),n&&r<0||!l?n.domIn(i,r):l.domIn(o,r))}coordsAt(e,r){let{tile:n,offset:i}=this.tile.resolveBlock(e,r);return n.isWidget()?n.widget instanceof Jb?null:n.coordsInWidget(i,r,!0):n.coordsIn(i,r)}lineAt(e,r){let{tile:n}=this.tile.resolveBlock(e,r);return n.isLine()?n:null}coordsForChar(e){let{tile:r,offset:n}=this.tile.resolveBlock(e,1);if(!r.isLine())return null;function i(a,l){if(a.isComposite())for(let o of a.children){if(o.length>=l){let u=i(o,l);if(u)return u}if(l-=o.length,l<0)break}else if(a.isText()&&l<a.length){let o=rr(a.text,l);if(o==l)return null;let u=Xf(a.dom,l,o).getClientRects();for(let h=0;h<u.length;h++){let m=u[h];if(h==u.length-1||m.top<m.bottom&&m.left<m.right)return m}}return null}return i(r,n)}measureVisibleLineHeights(e){let r=[],{from:n,to:i}=e,a=this.view.contentDOM.clientWidth,l=a>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,u=this.view.textDirection==ct.LTR,h=0,m=(p,y,x)=>{for(let b=0;b<p.children.length&&!(y>i);b++){let N=p.children[b],j=y+N.length,C=N.dom.getBoundingClientRect(),{height:A}=C;if(x&&!b&&(h+=C.top-x.top),N instanceof Os)j>n&&m(N,y,C);else if(y>=n&&(h>0&&r.push(-h),r.push(A+h),h=0,l)){let k=N.dom.lastChild,T=k?vf(k):[];if(T.length){let D=T[T.length-1],M=u?D.right-C.left:C.right-D.left;M>o&&(o=M,this.minWidth=a,this.minWidthFrom=y,this.minWidthTo=j)}}x&&b==p.children.length-1&&(h+=x.bottom-C.bottom),y=j+N.breakAfter}};return m(this.tile,0,null),r}textDirectionAt(e){let{tile:r}=this.tile.resolveBlock(e,1);return getComputedStyle(r.dom).direction=="rtl"?ct.RTL:ct.LTR}measureTextSize(){let e=this.tile.blockTiles(l=>{if(l.isLine()&&l.children.length&&l.length<=20){let o=0,u;for(let h of l.children){if(!h.isText()||/[^ -~]/.test(h.text))return;let m=vf(h.dom);if(m.length!=1)return;o+=m[0].width,u=m[0].height}if(o)return{lineHeight:l.dom.getBoundingClientRect().height,charWidth:o/l.length,textHeight:u}}});if(e)return e;let r=document.createElement("div"),n,i,a;return r.className="cm-line",r.style.width="99999px",r.style.position="absolute",r.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(r);let l=vf(r.firstChild)[0];n=r.getBoundingClientRect().height,i=l&&l.width?l.width/27:7,a=l&&l.height?l.height:n,r.remove()}),{lineHeight:n,charWidth:i,textHeight:a}}computeBlockGapDeco(){let e=[],r=this.view.viewState;for(let n=0,i=0;;i++){let a=i==r.viewports.length?null:r.viewports[i],l=a?a.from-1:this.view.state.doc.length;if(l>n){let o=(r.lineBlockAt(l).bottom-r.lineBlockAt(n).top)/this.view.scaleY;e.push(Ae.replace({widget:new Jb(o),block:!0,inclusive:!0,isBlockGap:!0}).range(n,l))}if(!a)break;n=a.to+1}return Ae.set(e)}updateDeco(){let e=1,r=this.view.state.facet(T0).map(a=>(this.dynamicDecorationMap[e++]=typeof a=="function")?a(this.view):a),n=!1,i=this.view.state.facet(Uj).map((a,l)=>{let o=typeof a=="function";return o&&(n=!0),o?a(this.view):a});for(i.length&&(this.dynamicDecorationMap[e++]=n,r.push(Ue.join(i))),this.decorations=[this.editContextFormatting,...r,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(sB).map(a=>typeof a=="function"?a(this.view):a)}scrollIntoView(e){if(e.isSnapshot){let h=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=h.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let h of this.view.state.facet(nB))try{if(h(this.view,e.range,e))return!0}catch(m){Zr(this.view.state,m,"scroll handler")}let{range:r}=e,n=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1),i;if(!n)return;!r.empty&&(i=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(n={left:Math.min(n.left,i.left),top:Math.min(n.top,i.top),right:Math.max(n.right,i.right),bottom:Math.max(n.bottom,i.bottom)});let a=qj(this.view),l={left:n.left-a.left,top:n.top-a.top,right:n.right+a.right,bottom:n.bottom+a.bottom},{offsetWidth:o,offsetHeight:u}=this.view.scrollDOM;_le(this.view.scrollDOM,l,r.head<r.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,o),-o),Math.max(Math.min(e.yMargin,u),-u),this.view.textDirection==ct.LTR)}lineHasWidget(e){let r=n=>n.isWidget()||n.children.some(r);return r(this.tile.resolveBlock(e,1).tile)}destroy(){cS(this.tile)}}function cS(t,e){let r=e?.get(t);if(r!=1){r==null&&t.destroy();for(let n of t.children)cS(n,e)}}function soe(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function uB(t,e){let r=t.observer.selectionRange;if(!r.focusNode)return null;let n=H6(r.focusNode,r.focusOffset),i=$6(r.focusNode,r.focusOffset),a=n||i;if(i&&n&&i.node!=n.node){let o=Ut.get(i.node);if(!o||o.isText()&&o.text!=i.node.nodeValue)a=i;else if(t.docView.lastCompositionAfterCursor){let u=Ut.get(n.node);!u||u.isText()&&u.text!=n.node.nodeValue||(a=i)}}if(t.docView.lastCompositionAfterCursor=a!=n,!a)return null;let l=e-a.offset;return{from:l,to:l+a.node.nodeValue.length,node:a.node}}function loe(t,e,r){let n=uB(t,r);if(!n)return null;let{node:i,from:a,to:l}=n,o=i.nodeValue;if(/[\n\r]/.test(o)||t.state.doc.sliceString(n.from,n.to)!=o)return null;let u=e.invertedDesc;return{range:new Fn(u.mapPos(a),u.mapPos(l),a,l),text:i}}function ooe(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let coe=class{constructor(){this.changes=[]}compareRange(e,r){ac(e,r,this.changes)}comparePoint(e,r){ac(e,r,this.changes)}boundChange(e){ac(e,e,this.changes)}};function uoe(t,e,r){let n=new coe;return Ue.compare(t,e,r,n),n.changes}class foe{constructor(){this.changes=[]}compareRange(e,r){ac(e,r,this.changes)}comparePoint(){}boundChange(e){ac(e,e,this.changes)}}function doe(t,e,r){let n=new foe;return Ue.compare(t,e,r,n),n.changes}function hoe(t,e){for(let r=t;r&&r!=e;r=r.assignedSlot||r.parentNode)if(r.nodeType==1&&r.contentEditable=="false")return!0;return!1}function moe(t,e){let r=!1;return e&&t.iterChangedRanges((n,i)=>{n<e.to&&i>e.from&&(r=!0)}),r}class Jb extends Ki{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function poe(t,e,r=1){let n=t.charCategorizer(e),i=t.doc.lineAt(e),a=e-i.from;if(i.length==0)return ue.cursor(e);a==0?r=1:a==i.length&&(r=-1);let l=a,o=a;r<0?l=rr(i.text,a,!1):o=rr(i.text,a);let u=n(i.text.slice(l,o));for(;l>0;){let h=rr(i.text,l,!1);if(n(i.text.slice(h,l))!=u)break;l=h}for(;o<i.length;){let h=rr(i.text,o);if(n(i.text.slice(o,h))!=u)break;o=h}return ue.range(l+i.from,o+i.from)}function goe(t,e,r,n,i){let a=Math.round((n-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&r.height>t.defaultLineHeight*1.5){let o=t.viewState.heightOracle.textHeight,u=Math.floor((i-r.top-(t.defaultLineHeight-o)*.5)/o);a+=u*t.viewState.heightOracle.lineLength}let l=t.state.sliceDoc(r.from,r.to);return r.from+Xw(l,a,t.state.tabSize)}function uS(t,e,r){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){let i;for(let a of n.type){if(a.from>e)break;if(!(a.to<e)){if(a.from<e&&a.to>e)return a;(!i||a.type==br.Text&&(i.type!=a.type||(r<0?a.from<e:a.to>e)))&&(i=a)}}return i||n}return n}function yoe(t,e,r,n){let i=uS(t,e.head,e.assoc||-1),a=!n||i.type!=br.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(a){let l=t.dom.getBoundingClientRect(),o=t.textDirectionAt(i.from),u=t.posAtCoords({x:r==(o==ct.LTR)?l.right-1:l.left+1,y:(a.top+a.bottom)/2});if(u!=null)return ue.cursor(u,r?-1:1)}return ue.cursor(r?i.to:i.from,r?-1:1)}function Z4(t,e,r,n){let i=t.state.doc.lineAt(e.head),a=t.bidiSpans(i),l=t.textDirectionAt(i.from);for(let o=e,u=null;;){let h=Fle(i,a,l,o,r),m=G6;if(!h){if(i.number==(r?t.state.doc.lines:1))return o;m=`
`,i=t.state.doc.line(i.number+(r?1:-1)),a=t.bidiSpans(i),h=t.visualLineSide(i,!r)}if(u){if(!u(m))return o}else{if(!n)return h;u=n(m)}o=h}}function xoe(t,e,r){let n=t.state.charCategorizer(e),i=n(r);return a=>{let l=n(a);return i==xt.Space&&(i=l),i==l}}function voe(t,e,r,n){let i=e.head,a=r?1:-1;if(i==(r?t.state.doc.length:0))return ue.cursor(i,e.assoc);let l=e.goalColumn,o,u=t.contentDOM.getBoundingClientRect(),h=t.coordsAtPos(i,(e.empty?e.assoc:0)||(r?1:-1)),m=t.documentTop;if(h)l==null&&(l=h.left-u.left),o=a<0?h.top:h.bottom;else{let b=t.viewState.lineBlockAt(i);l==null&&(l=Math.min(u.right-u.left,t.defaultCharacterWidth*(i-b.from))),o=(a<0?b.top:b.bottom)+m}let p=u.left+l,y=n??t.viewState.heightOracle.textHeight>>1,x=fS(t,{x:p,y:o+y*a},!1,a);return ue.cursor(x.pos,x.assoc,void 0,l)}function wf(t,e,r){for(;;){let n=0;for(let i of t)i.between(e-1,e+1,(a,l,o)=>{if(e>a&&e<l){let u=n||r||(e-a<l-e?-1:1);e=u<0?a:l,n=u}});if(!n)return e}}function fB(t,e){let r=null;for(let n=0;n<e.ranges.length;n++){let i=e.ranges[n],a=null;if(i.empty){let l=wf(t,i.from,0);l!=i.from&&(a=ue.cursor(l,-1))}else{let l=wf(t,i.from,-1),o=wf(t,i.to,1);(l!=i.from||o!=i.to)&&(a=ue.range(i.from==i.anchor?l:o,i.from==i.head?l:o))}a&&(r||(r=e.ranges.slice()),r[n]=a)}return r?ue.create(r,e.mainIndex):e}function e1(t,e,r){let n=wf(t.state.facet(Ed).map(i=>i(t)),r.from,e.head>r.from?-1:1);return n==r.from?r:ue.cursor(n,n<r.from?1:-1)}class Ti{constructor(e,r){this.pos=e,this.assoc=r}}function fS(t,e,r,n){let i=t.contentDOM.getBoundingClientRect(),a=i.top+t.viewState.paddingTop,{x:l,y:o}=e,u=o-a,h;for(;;){if(u<0)return new Ti(0,1);if(u>t.viewState.docHeight)return new Ti(t.state.doc.length,-1);if(h=t.elementAtHeight(u),n==null)break;if(h.type==br.Text){if(n<0?h.to<t.viewport.from:h.from>t.viewport.to)break;let y=t.docView.coordsAt(n<0?h.from:h.to,n>0?-1:1);if(y&&(n<0?y.top<=u+a:y.bottom>=u+a))break}let p=t.viewState.heightOracle.textHeight/2;u=n>0?h.bottom+p:h.top-p}if(t.viewport.from>=h.to||t.viewport.to<=h.from){if(r)return null;if(h.type==br.Text){let p=goe(t,i,h,l,o);return new Ti(p,p==h.from?1:-1)}}if(h.type!=br.Text)return u<(h.top+h.bottom)/2?new Ti(h.from,1):new Ti(h.to,-1);let m=t.docView.lineAt(h.from,2);return(!m||m.length!=h.length)&&(m=t.docView.lineAt(h.from,-2)),new boe(t,l,o,t.textDirectionAt(h.from)).scanTile(m,h.from)}class boe{constructor(e,r,n,i){this.view=e,this.x=r,this.y=n,this.baseDir=i,this.line=null,this.spans=null}bidiSpansAt(e){return(!this.line||this.line.from>e||this.line.to<e)&&(this.line=this.view.state.doc.lineAt(e),this.spans=this.view.bidiSpans(this.line)),this}baseDirAt(e,r){let{line:n,spans:i}=this.bidiSpansAt(e);return i[_i.find(i,e-n.from,-1,r)].level==this.baseDir}dirAt(e,r){let{line:n,spans:i}=this.bidiSpansAt(e);return i[_i.find(i,e-n.from,-1,r)].dir}bidiIn(e,r){let{spans:n,line:i}=this.bidiSpansAt(e);return n.length>1||n.length&&(n[0].level!=this.baseDir||n[0].to+i.from<r)}scan(e,r){let n=0,i=e.length-1,a=new Set,l=this.bidiIn(e[0],e[i]),o,u,h=-1,m=1e9,p;e:for(;n<i;){let x=i-n,b=n+i>>1;t:if(a.has(b)){let j=n+Math.floor(Math.random()*x);for(let C=0;C<x;C++){if(!a.has(j)){b=j;break t}j++,j==i&&(j=n)}break e}a.add(b);let N=r(b);if(N)for(let j=0;j<N.length;j++){let C=N[j],A=0;if(C.bottom<this.y)(!o||o.bottom<C.bottom)&&(o=C),A=1;else if(C.top>this.y)(!u||u.top>C.top)&&(u=C),A=-1;else{let k=C.left>this.x?this.x-C.left:C.right<this.x?this.x-C.right:0,T=Math.abs(k);T<m&&(h=b,m=T,p=C),k&&(A=k<0==(this.baseDir==ct.LTR)?-1:1)}A==-1&&(!l||this.baseDirAt(e[b],1))?i=b:A==1&&(!l||this.baseDirAt(e[b+1],-1))&&(n=b+1)}}if(!p){let x=o&&(!u||this.y-o.bottom<u.top-this.y)?o:u;return this.y=(x.top+x.bottom)/2,this.scan(e,r)}let y=(l?this.dirAt(e[h],1):this.baseDir)==ct.LTR;return{i:h,after:this.x>(p.left+p.right)/2==y}}scanText(e,r){let n=[];for(let a=0;a<e.length;a=rr(e.text,a))n.push(r+a);n.push(r+e.length);let i=this.scan(n,a=>{let l=n[a]-r,o=n[a+1]-r;return Xf(e.dom,l,o).getClientRects()});return i.after?new Ti(n[i.i+1],-1):new Ti(n[i.i],1)}scanTile(e,r){if(!e.length)return new Ti(r,1);if(e.children.length==1){let o=e.children[0];if(o.isText())return this.scanText(o,r);if(o.isComposite())return this.scanTile(o,r)}let n=[r];for(let o=0,u=r;o<e.children.length;o++)n.push(u+=e.children[o].length);let i=this.scan(n,o=>{let u=e.children[o];return u.flags&48?null:(u.dom.nodeType==1?u.dom:Xf(u.dom,0,u.length)).getClientRects()}),a=e.children[i.i],l=n[i.i];return a.isText()?this.scanText(a,l):a.isComposite()?this.scanTile(a,l):i.after?new Ti(n[i.i+1],-1):new Ti(l,1)}}const df="";class woe{constructor(e,r){this.points=e,this.view=r,this.text="",this.lineSeparator=r.state.facet(Ve.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=df}readRange(e,r){if(!e)return this;let n=e.parentNode;for(let i=e;;){this.findPointBefore(n,i);let a=this.text.length;this.readNode(i);let l=Ut.get(i),o=i.nextSibling;if(o==r){l?.breakAfter&&!o&&n!=this.view.contentDOM&&this.lineBreak();break}let u=Ut.get(o);(l&&u?l.breakAfter:(l?l.breakAfter:ig(i))||ig(o)&&(i.nodeName!="BR"||l?.isWidget())&&this.text.length>a)&&!joe(o,r)&&this.lineBreak(),i=o}return this.findPointBefore(n,r),this}readTextNode(e){let r=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,r.length));for(let n=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let a=-1,l=1,o;if(this.lineSeparator?(a=r.indexOf(this.lineSeparator,n),l=this.lineSeparator.length):(o=i.exec(r))&&(a=o.index,l=o[0].length),this.append(r.slice(n,a<0?r.length:a)),a<0)break;if(this.lineBreak(),l>1)for(let u of this.points)u.node==e&&u.pos>this.text.length&&(u.pos-=l-1);n=a+l}}readNode(e){let r=Ut.get(e),n=r&&r.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let i=n.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,r){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==r&&(n.pos=this.text.length)}findPointInside(e,r){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(Soe(e,n.node,n.offset)?r:0))}}function Soe(t,e,r){for(;;){if(!e||r<Ma(e))return!1;if(e==t)return!0;r=Ls(e)+1,e=e.parentNode}}function joe(t,e){let r;for(;!(t==e||!t);t=t.nextSibling){let n=Ut.get(t);if(!n?.isWidget())return!1;n&&(r||(r=[])).push(n)}if(r)for(let n of r){let i=n.overrideDOMText;if(i?.length)return!1}return!0}class J4{constructor(e,r){this.node=e,this.offset=r,this.pos=-1}}class Noe{constructor(e,r,n,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=r>-1;let{impreciseHead:a,impreciseAnchor:l}=e.docView;if(e.state.readOnly&&r>-1)this.newSel=null;else if(r>-1&&(this.bounds=dB(e.docView.tile,r,n,0))){let o=a||l?[]:koe(e),u=new woe(o,e);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=Ooe(o,this.bounds.from)}else{let o=e.observer.selectionRange,u=a&&a.node==o.focusNode&&a.offset==o.focusOffset||!iS(e.contentDOM,o.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(o.focusNode,o.focusOffset),h=l&&l.node==o.anchorNode&&l.offset==o.anchorOffset||!iS(e.contentDOM,o.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(o.anchorNode,o.anchorOffset),m=e.viewport;if((ye.ios||ye.chrome)&&e.state.selection.main.empty&&u!=h&&(m.from>0||m.to<e.state.doc.length)){let p=Math.min(u,h),y=Math.max(u,h),x=m.from-p,b=m.to-y;(x==0||x==1||p==0)&&(b==0||b==-1||y==e.state.doc.length)&&(u=0,h=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(ue.range(h,u)):this.newSel=ue.single(h,u)}}}function dB(t,e,r,n){if(t.isComposite()){let i=-1,a=-1,l=-1,o=-1;for(let u=0,h=n,m=n;u<t.children.length;u++){let p=t.children[u],y=h+p.length;if(h<e&&y>r)return dB(p,e,r,h);if(y>=e&&i==-1&&(i=u,a=h),h>r&&p.dom.parentNode==t.dom){l=u,o=m;break}m=y,h=y+p.breakAfter}return{from:a,to:o<0?n+t.length:o,startDOM:(i?t.children[i-1].dom.nextSibling:null)||t.dom.firstChild,endDOM:l<t.children.length&&l>=0?t.children[l].dom:null}}else return t.isText()?{from:n,to:n+t.length,startDOM:t.dom,endDOM:t.dom.nextSibling}:null}function hB(t,e){let r,{newSel:n}=e,i=t.state.selection.main,a=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:l,to:o}=e.bounds,u=i.from,h=null;(a===8||ye.android&&e.text.length<o-l)&&(u=i.to,h="end");let m=mB(t.state.doc.sliceString(l,o,df),e.text,u-l,h);m&&(ye.chrome&&a==13&&m.toB==m.from+2&&e.text.slice(m.from,m.toB)==df+df&&m.toB--,r={from:l+m.from,to:l+m.toA,insert:Ge.of(e.text.slice(m.from,m.toB).split(df))})}else n&&(!t.hasFocus&&t.state.facet(ga)||og(n,i))&&(n=null);if(!r&&!n)return!1;if(!r&&e.typeOver&&!i.empty&&n&&n.main.empty?r={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(ye.mac||ye.android)&&r&&r.from==r.to&&r.from==i.head-1&&/^\. ?$/.test(r.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(n&&r.insert.length==2&&(n=ue.single(n.main.anchor-1,n.main.head-1)),r={from:r.from,to:r.to,insert:Ge.of([r.insert.toString().replace("."," ")])}):r&&r.from>=i.from&&r.to<=i.to&&(r.from!=i.from||r.to!=i.to)&&i.to-i.from-(r.to-r.from)<=4?r={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,r.from).append(r.insert).append(t.state.doc.slice(r.to,i.to))}:t.state.doc.lineAt(i.from).to<i.to&&t.docView.lineHasWidget(i.to)&&t.inputState.insertingTextAt>Date.now()-50?r={from:i.from,to:i.to,insert:t.state.toText(t.inputState.insertingText)}:ye.chrome&&r&&r.from==r.to&&r.from==i.head&&r.insert.toString()==`
 `&&t.lineWrapping&&(n&&(n=ue.single(n.main.anchor-1,n.main.head-1)),r={from:i.from,to:i.to,insert:Ge.of([" "])}),r)return Hj(t,r,n,a);if(n&&!og(n,i)){let l=!1,o="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(l=!0),o=t.inputState.lastSelectionOrigin,o=="select.pointer"&&(n=fB(t.state.facet(Ed).map(u=>u(t)),n))),t.dispatch({selection:n,scrollIntoView:l,userEvent:o}),!0}else return!1}function Hj(t,e,r,n=-1){if(ye.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(ye.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&sc(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||n==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&sc(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&sc(t.contentDOM,"Delete",46)))return!0;let a=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let l,o=()=>l||(l=Coe(t,e,r));return t.state.facet(J6).some(u=>u(t,e.from,e.to,a,o))||t.dispatch(o()),!0}function Coe(t,e,r){let n,i=t.state,a=i.selection.main,l=-1;if(e.from==e.to&&e.from<a.from||e.from>a.to){let u=e.from<a.from?-1:1,h=u<0?a.from:a.to,m=wf(i.facet(Ed).map(p=>p(t)),h,u);e.from==m&&(l=m)}if(l>-1)n={changes:e,selection:ue.cursor(e.from+e.insert.length,-1)};else if(e.from>=a.from&&e.to<=a.to&&e.to-e.from>=(a.to-a.from)/3&&(!r||r.main.empty&&r.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let u=a.from<e.from?i.sliceDoc(a.from,e.from):"",h=a.to>e.to?i.sliceDoc(e.to,a.to):"";n=i.replaceSelection(t.state.toText(u+e.insert.sliceString(0,void 0,t.state.lineBreak)+h))}else{let u=i.changes(e),h=r&&r.main.to<=u.newLength?r.main:void 0;if(i.selection.ranges.length>1&&(t.inputState.composing>=0||t.inputState.compositionPendingChange)&&e.to<=a.to+10&&e.to>=a.to-10){let m=t.state.sliceDoc(e.from,e.to),p,y=r&&uB(t,r.main.head);if(y){let b=e.insert.length-(e.to-e.from);p={from:y.from,to:y.to-b}}else p=t.state.doc.lineAt(a.head);let x=a.to-e.to;n=i.changeByRange(b=>{if(b.from==a.from&&b.to==a.to)return{changes:u,range:h||b.map(u)};let N=b.to-x,j=N-m.length;if(t.state.sliceDoc(j,N)!=m||N>=p.from&&j<=p.to)return{range:b};let C=i.changes({from:j,to:N,insert:e.insert}),A=b.to-a.to;return{changes:C,range:h?ue.range(Math.max(0,h.anchor+A),Math.max(0,h.head+A)):b.map(C)}})}else n={changes:u,selection:h&&i.selection.replaceRange(h)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),i.update(n,{userEvent:o,scrollIntoView:!0})}function mB(t,e,r,n){let i=Math.min(t.length,e.length),a=0;for(;a<i&&t.charCodeAt(a)==e.charCodeAt(a);)a++;if(a==i&&t.length==e.length)return null;let l=t.length,o=e.length;for(;l>0&&o>0&&t.charCodeAt(l-1)==e.charCodeAt(o-1);)l--,o--;if(n=="end"){let u=Math.max(0,a-Math.min(l,o));r-=l+u-a}if(l<a&&t.length<e.length){let u=r<=a&&r>=l?a-r:0;a-=u,o=a+(o-l),l=a}else if(o<a){let u=r<=a&&r>=o?a-r:0;a-=u,l=a+(l-o),o=a}return{from:a,toA:l,toB:o}}function koe(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:a}=t.observer.selectionRange;return r&&(e.push(new J4(r,n)),(i!=r||a!=n)&&e.push(new J4(i,a))),e}function Ooe(t,e){if(t.length==0)return null;let r=t[0].pos,n=t.length==2?t[1].pos:r;return r>-1&&n>-1?ue.single(r+e,n+e):null}function og(t,e){return e.head==t.main.head&&e.anchor==t.main.anchor}class Aoe{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ye.safari&&e.contentDOM.addEventListener("input",()=>null),ye.gecko&&$oe(e.contentDOM.ownerDocument)}handleEvent(e){!Loe(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,r){let n=this.handlers[e];if(n){for(let i of n.observers)i(this.view,r);for(let i of n.handlers){if(r.defaultPrevented)break;if(i(this.view,r)){r.preventDefault();break}}}}ensureHandlers(e){let r=Eoe(e),n=this.handlers,i=this.view.contentDOM;for(let a in r)if(a!="scroll"){let l=!r[a].handlers.length,o=n[a];o&&l!=!o.handlers.length&&(i.removeEventListener(a,this.handleEvent),o=null),o||i.addEventListener(a,this.handleEvent,{passive:l})}for(let a in n)a!="scroll"&&!r[a]&&i.removeEventListener(a,this.handleEvent);this.handlers=r}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&gB.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ye.android&&ye.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let r;return ye.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((r=pB.find(n=>n.keyCode==e.keyCode))&&!e.ctrlKey||Toe.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=r||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let r=this.pendingIOSKey;return!r||r.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,sc(this.view.contentDOM,r.key,r.keyCode,r instanceof KeyboardEvent?r:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:ye.safari&&!ye.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function eD(t,e){return(r,n)=>{try{return e.call(t,n,r)}catch(i){Zr(r.state,i)}}}function Eoe(t){let e=Object.create(null);function r(n){return e[n]||(e[n]={observers:[],handlers:[]})}for(let n of t){let i=n.spec,a=i&&i.plugin.domEventHandlers,l=i&&i.plugin.domEventObservers;if(a)for(let o in a){let u=a[o];u&&r(o).handlers.push(eD(n.value,u))}if(l)for(let o in l){let u=l[o];u&&r(o).observers.push(eD(n.value,u))}}for(let n in di)r(n).handlers.push(di[n]);for(let n in Xn)r(n).observers.push(Xn[n]);return e}const pB=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Toe="dthko",gB=[16,17,18,20,91,92,224,225],vm=6;function bm(t){return Math.max(0,t)*.7+8}function Moe(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class Doe{constructor(e,r,n,i){this.view=e,this.startEvent=r,this.style=n,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=r,this.scrollParents=Ple(e.contentDOM),this.atoms=e.state.facet(Ed).map(l=>l(e));let a=e.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this)),a.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=r.shiftKey,this.multiple=e.state.facet(Ve.allowMultipleSelections)&&_oe(e,r),this.dragging=Roe(e,r)&&vB(r)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Moe(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let r=0,n=0,i=0,a=0,l=this.view.win.innerWidth,o=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:l}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:a,bottom:o}=this.scrollParents.y.getBoundingClientRect());let u=qj(this.view);e.clientX-u.left<=i+vm?r=-bm(i-e.clientX):e.clientX+u.right>=l-vm&&(r=bm(e.clientX-l)),e.clientY-u.top<=a+vm?n=-bm(a-e.clientY):e.clientY+u.bottom>=o-vm&&(n=bm(e.clientY-o)),this.setScrollSpeed(r,n)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,r){this.scrollSpeed={x:e,y:r},e||r?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:r}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),r&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=r,r=0),(e||r)&&this.view.win.scrollBy(e,r),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:r}=this,n=fB(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(r.state.selection,this.dragging===!1))&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(r=>r.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function _oe(t,e){let r=t.state.facet(Y6);return r.length?r[0](e):ye.mac?e.metaKey:e.ctrlKey}function Poe(t,e){let r=t.state.facet(Q6);return r.length?r[0](e):ye.mac?!e.altKey:!e.ctrlKey}function Roe(t,e){let{main:r}=t.state.selection;if(r.empty)return!1;let n=Yf(t.root);if(!n||n.rangeCount==0)return!0;let i=n.getRangeAt(0).getClientRects();for(let a=0;a<i.length;a++){let l=i[a];if(l.left<=e.clientX&&l.right>=e.clientX&&l.top<=e.clientY&&l.bottom>=e.clientY)return!0}return!1}function Loe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target,n;r!=t.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||(n=Ut.get(r))&&n.isWidget()&&!n.isHidden&&n.widget.ignoreEvent(e))return!1;return!0}const di=Object.create(null),Xn=Object.create(null),yB=ye.ie&&ye.ie_version<15||ye.ios&&ye.webkit_version<604;function Boe(t){let e=t.dom.parentNode;if(!e)return;let r=e.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.remove(),xB(t,r.value)},50)}function _0(t,e,r){for(let n of t.facet(e))r=n(r,t);return r}function xB(t,e){e=_0(t.state,Bj,e);let{state:r}=t,n,i=1,a=r.toText(e),l=a.lines==r.selection.ranges.length;if(dS!=null&&r.selection.ranges.every(u=>u.empty)&&dS==a.toString()){let u=-1;n=r.changeByRange(h=>{let m=r.doc.lineAt(h.from);if(m.from==u)return{range:h};u=m.from;let p=r.toText((l?a.line(i++).text:e)+r.lineBreak);return{changes:{from:m.from,insert:p},range:ue.cursor(h.from+p.length)}})}else l?n=r.changeByRange(u=>{let h=a.line(i++);return{changes:{from:u.from,to:u.to,insert:h.text},range:ue.cursor(u.from+h.length)}}):n=r.replaceSelection(a);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}Xn.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};di.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);Xn.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Xn.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};di.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let r=null;for(let n of t.state.facet(X6))if(r=n(t,e),r)break;if(!r&&e.button==0&&(r=Ioe(t,e)),r){let n=!t.hasFocus;t.inputState.startMouseSelection(new Doe(t,e,r,n)),n&&t.observer.ignore(()=>{U6(t.contentDOM);let a=t.root.activeElement;a&&!a.contains(t.contentDOM)&&a.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function tD(t,e,r,n){if(n==1)return ue.cursor(e,r);if(n==2)return poe(t.state,e,r);{let i=t.docView.lineAt(e,r),a=t.state.doc.lineAt(i?i.posAtEnd:e),l=i?i.posAtStart:a.from,o=i?i.posAtEnd:a.to;return o<t.state.doc.length&&o==a.to&&o++,ue.range(l,o)}}const zoe=ye.ie&&ye.ie_version<=11;let rD=null,nD=0,iD=0;function vB(t){if(!zoe)return t.detail;let e=rD,r=iD;return rD=t,iD=Date.now(),nD=!e||r>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(nD+1)%3:1}function Ioe(t,e){let r=t.posAndSideAtCoords({x:e.clientX,y:e.clientY},!1),n=vB(e),i=t.state.selection;return{update(a){a.docChanged&&(r.pos=a.changes.mapPos(r.pos),i=i.map(a.changes))},get(a,l,o){let u=t.posAndSideAtCoords({x:a.clientX,y:a.clientY},!1),h,m=tD(t,u.pos,u.assoc,n);if(r.pos!=u.pos&&!l){let p=tD(t,r.pos,r.assoc,n),y=Math.min(p.from,m.from),x=Math.max(p.to,m.to);m=y<m.from?ue.range(y,x):ue.range(x,y)}return l?i.replaceRange(i.main.extend(m.from,m.to)):o&&n==1&&i.ranges.length>1&&(h=Uoe(i,u.pos))?h:o?i.addRange(m):ue.create([m])}}}function Uoe(t,e){for(let r=0;r<t.ranges.length;r++){let{from:n,to:i}=t.ranges[r];if(n<=e&&i>=e)return ue.create(t.ranges.slice(0,r).concat(t.ranges.slice(r+1)),t.mainIndex==r?0:t.mainIndex-(t.mainIndex>r?1:0))}return null}di.dragstart=(t,e)=>{let{selection:{main:r}}=t.state;if(e.target.draggable){let i=t.docView.tile.nearest(e.target);if(i&&i.isWidget()){let a=i.posAtStart,l=a+i.length;(a>=r.to||l<=r.from)&&(r=ue.range(a,l))}}let{inputState:n}=t;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=r,e.dataTransfer&&(e.dataTransfer.setData("Text",_0(t.state,zj,t.state.sliceDoc(r.from,r.to))),e.dataTransfer.effectAllowed="copyMove"),!1};di.dragend=t=>(t.inputState.draggedContent=null,!1);function aD(t,e,r,n){if(r=_0(t.state,Bj,r),!r)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:a}=t.inputState,l=n&&a&&Poe(t,e)?{from:a.from,to:a.to}:null,o={from:i,insert:r},u=t.state.changes(l?[l,o]:o);t.focus(),t.dispatch({changes:u,selection:{anchor:u.mapPos(i,-1),head:u.mapPos(i,1)},userEvent:l?"move.drop":"input.drop"}),t.inputState.draggedContent=null}di.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let r=e.dataTransfer.files;if(r&&r.length){let n=Array(r.length),i=0,a=()=>{++i==r.length&&aD(t,e,n.filter(l=>l!=null).join(t.state.lineBreak),!1)};for(let l=0;l<r.length;l++){let o=new FileReader;o.onerror=a,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(n[l]=o.result),a()},o.readAsText(r[l])}return!0}else{let n=e.dataTransfer.getData("Text");if(n)return aD(t,e,n,!0),!0}return!1};di.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let r=yB?null:e.clipboardData;return r?(xB(t,r.getData("text/plain")||r.getData("text/uri-list")),!0):(Boe(t),!1)};function qoe(t,e){let r=t.dom.parentNode;if(!r)return;let n=r.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),t.focus()},50)}function Hoe(t){let e=[],r=[],n=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),r.push(i));if(!e.length){let i=-1;for(let{from:a}of t.selection.ranges){let l=t.doc.lineAt(a);l.number>i&&(e.push(l.text),r.push({from:l.from,to:Math.min(t.doc.length,l.to+1)})),i=l.number}n=!0}return{text:_0(t,zj,e.join(t.lineBreak)),ranges:r,linewise:n}}let dS=null;di.copy=di.cut=(t,e)=>{if(!xf(t.contentDOM,t.observer.selectionRange))return!1;let{text:r,ranges:n,linewise:i}=Hoe(t.state);if(!r&&!i)return!1;dS=i?r:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let a=yB?null:e.clipboardData;return a?(a.clearData(),a.setData("text/plain",r),!0):(qoe(t,r),!1)};const bB=Fi.define();function wB(t,e){let r=[];for(let n of t.facet(eB)){let i=n(t,e);i&&r.push(i)}return r.length?t.update({effects:r,annotations:bB.of(!0)}):null}function SB(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let r=wB(t.state,e);r?t.dispatch(r):t.update([])}},10)}Xn.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),SB(t)};Xn.blur=t=>{t.observer.clearSelectionRange(),SB(t)};Xn.compositionstart=Xn.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};Xn.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,ye.chrome&&ye.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};Xn.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};di.beforeinput=(t,e)=>{var r,n;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(t.inputState.insertingText=e.data,t.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&t.observer.editContext){let a=(r=e.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain"),l=e.getTargetRanges();if(a&&l.length){let o=l[0],u=t.posAtDOM(o.startContainer,o.startOffset),h=t.posAtDOM(o.endContainer,o.endOffset);return Hj(t,{from:u,to:h,insert:t.state.toText(a)},null),!0}}let i;if(ye.chrome&&ye.android&&(i=pB.find(a=>a.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let a=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var l;(((l=window.visualViewport)===null||l===void 0?void 0:l.height)||0)>a+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return ye.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),ye.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>Xn.compositionend(t,e),20),!1};const sD=new Set;function $oe(t){sD.has(t)||(sD.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const lD=["pre-wrap","normal","pre-line","break-spaces"];let Cc=!1;function oD(){Cc=!1}class Voe{constructor(e){this.lineWrapping=e,this.doc=Ge.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,r){let n=this.doc.lineAt(r).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((r-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return lD.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let r=!1;for(let n=0;n<e.length;n++){let i=e[n];i<0?n++:this.heightSamples[Math.floor(i*10)]||(r=!0,this.heightSamples[Math.floor(i*10)]=!0)}return r}refresh(e,r,n,i,a,l){let o=lD.indexOf(e)>-1,u=Math.abs(r-this.lineHeight)>.3||this.lineWrapping!=o||Math.abs(n-this.charWidth)>.1;if(this.lineWrapping=o,this.lineHeight=r,this.charWidth=n,this.textHeight=i,this.lineLength=a,u){this.heightSamples={};for(let h=0;h<l.length;h++){let m=l[h];m<0?h++:this.heightSamples[Math.floor(m*10)]=!0}}return u}}class Foe{constructor(e,r){this.from=e,this.heights=r,this.index=0}get more(){return this.index<this.heights.length}}class si{constructor(e,r,n,i,a){this.from=e,this.length=r,this.top=n,this.height=i,this._content=a}get type(){return typeof this._content=="number"?br.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Kl?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let r=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new si(this.from,this.length+e.length,this.top,this.height+e.height,r)}}var ft=(function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t})(ft||(ft={}));const Qm=.001;class Rr{constructor(e,r,n=2){this.length=e,this.height=r,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Qm&&(Cc=!0),this.height=e)}replace(e,r,n){return Rr.of(n)}decomposeLeft(e,r){r.push(this)}decomposeRight(e,r){r.push(this)}applyChanges(e,r,n,i){let a=this,l=n.doc;for(let o=i.length-1;o>=0;o--){let{fromA:u,toA:h,fromB:m,toB:p}=i[o],y=a.lineAt(u,ft.ByPosNoHeight,n.setDoc(r),0,0),x=y.to>=h?y:a.lineAt(h,ft.ByPosNoHeight,n,0,0);for(p+=x.to-h,h=x.to;o>0&&y.from<=i[o-1].toA;)u=i[o-1].fromA,m=i[o-1].fromB,o--,u<y.from&&(y=a.lineAt(u,ft.ByPosNoHeight,n,0,0));m+=y.from-u,u=y.from;let b=$j.build(n.setDoc(l),e,m,p);a=cg(a,a.replace(u,h,b))}return a.updateHeight(n,0)}static empty(){return new vn(0,0,0)}static of(e){if(e.length==1)return e[0];let r=0,n=e.length,i=0,a=0;for(;;)if(r==n)if(i>a*2){let o=e[r-1];o.break?e.splice(--r,1,o.left,null,o.right):e.splice(--r,1,o.left,o.right),n+=1+o.break,i-=o.size}else if(a>i*2){let o=e[n];o.break?e.splice(n,1,o.left,null,o.right):e.splice(n,1,o.left,o.right),n+=2+o.break,a-=o.size}else break;else if(i<a){let o=e[r++];o&&(i+=o.size)}else{let o=e[--n];o&&(a+=o.size)}let l=0;return e[r-1]==null?(l=1,r--):e[r]==null&&(l=1,n++),new Koe(Rr.of(e.slice(0,r)),l,Rr.of(e.slice(n)))}}function cg(t,e){return t==e?t:(t.constructor!=e.constructor&&(Cc=!0),e)}Rr.prototype.size=1;const Woe=Ae.replace({});class jB extends Rr{constructor(e,r,n){super(e,r),this.deco=n,this.spaceAbove=0}mainBlock(e,r){return new si(r,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,r,n,i){return this.spaceAbove&&e<n+this.spaceAbove?new si(i,0,n,this.spaceAbove,Woe):this.mainBlock(n,i)}lineAt(e,r,n,i,a){let l=this.mainBlock(i,a);return this.spaceAbove?this.blockAt(0,n,i,a).join(l):l}forEachLine(e,r,n,i,a,l){e<=a+this.length&&r>=a&&l(this.lineAt(0,ft.ByPos,n,i,a))}setMeasuredHeight(e){let r=e.heights[e.index++];r<0?(this.spaceAbove=-r,r=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(r)}updateHeight(e,r=0,n=!1,i){return i&&i.from<=r&&i.more&&this.setMeasuredHeight(i),this.outdated=!1,this}toString(){return`block(${this.length})`}}class vn extends jB{constructor(e,r,n){super(e,r,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=n}mainBlock(e,r){return new si(r,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,r,n){let i=n[0];return n.length==1&&(i instanceof vn||i instanceof gr&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof gr?i=new vn(i.length,this.height,this.spaceAbove):i.height=this.height,this.outdated||(i.outdated=!1),i):Rr.of(n)}updateHeight(e,r=0,n=!1,i){return i&&i.from<=r&&i.more?this.setMeasuredHeight(i):(n||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class gr extends Rr{constructor(e){super(e,0)}heightMetrics(e,r){let n=e.doc.lineAt(r).number,i=e.doc.lineAt(r+this.length).number,a=i-n+1,l,o=0;if(e.lineWrapping){let u=Math.min(this.height,e.lineHeight*a);l=u/a,this.length>a+1&&(o=(this.height-u)/(this.length-a-1))}else l=this.height/a;return{firstLine:n,lastLine:i,perLine:l,perChar:o}}blockAt(e,r,n,i){let{firstLine:a,lastLine:l,perLine:o,perChar:u}=this.heightMetrics(r,i);if(r.lineWrapping){let h=i+(e<r.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),m=r.doc.lineAt(h),p=o+m.length*u,y=Math.max(n,e-p/2);return new si(m.from,m.length,y,p,0)}else{let h=Math.max(0,Math.min(l-a,Math.floor((e-n)/o))),{from:m,length:p}=r.doc.line(a+h);return new si(m,p,n+o*h,o,0)}}lineAt(e,r,n,i,a){if(r==ft.ByHeight)return this.blockAt(e,n,i,a);if(r==ft.ByPosNoHeight){let{from:x,to:b}=n.doc.lineAt(e);return new si(x,b-x,0,0,0)}let{firstLine:l,perLine:o,perChar:u}=this.heightMetrics(n,a),h=n.doc.lineAt(e),m=o+h.length*u,p=h.number-l,y=i+o*p+u*(h.from-a-p);return new si(h.from,h.length,Math.max(i,Math.min(y,i+this.height-m)),m,0)}forEachLine(e,r,n,i,a,l){e=Math.max(e,a),r=Math.min(r,a+this.length);let{firstLine:o,perLine:u,perChar:h}=this.heightMetrics(n,a);for(let m=e,p=i;m<=r;){let y=n.doc.lineAt(m);if(m==e){let b=y.number-o;p+=u*b+h*(e-a-b)}let x=u+h*y.length;l(new si(y.from,y.length,p,x,0)),p+=x,m=y.to+1}}replace(e,r,n){let i=this.length-r;if(i>0){let a=n[n.length-1];a instanceof gr?n[n.length-1]=new gr(a.length+i):n.push(null,new gr(i-1))}if(e>0){let a=n[0];a instanceof gr?n[0]=new gr(e+a.length):n.unshift(new gr(e-1),null)}return Rr.of(n)}decomposeLeft(e,r){r.push(new gr(e-1),null)}decomposeRight(e,r){r.push(null,new gr(this.length-e-1))}updateHeight(e,r=0,n=!1,i){let a=r+this.length;if(i&&i.from<=r+this.length&&i.more){let l=[],o=Math.max(r,i.from),u=-1;for(i.from>r&&l.push(new gr(i.from-r-1).updateHeight(e,r));o<=a&&i.more;){let m=e.doc.lineAt(o).length;l.length&&l.push(null);let p=i.heights[i.index++],y=0;p<0&&(y=-p,p=i.heights[i.index++]),u==-1?u=p:Math.abs(p-u)>=Qm&&(u=-2);let x=new vn(m,p,y);x.outdated=!1,l.push(x),o+=m+1}o<=a&&l.push(null,new gr(a-o).updateHeight(e,o));let h=Rr.of(l);return(u<0||Math.abs(h.height-this.height)>=Qm||Math.abs(u-this.heightMetrics(e,r).perLine)>=Qm)&&(Cc=!0),cg(this,h)}else(n||this.outdated)&&(this.setHeight(e.heightForGap(r,r+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Koe extends Rr{constructor(e,r,n){super(e.length+r+n.length,e.height+n.height,r|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,r,n,i){let a=n+this.left.height;return e<a?this.left.blockAt(e,r,n,i):this.right.blockAt(e,r,a,i+this.left.length+this.break)}lineAt(e,r,n,i,a){let l=i+this.left.height,o=a+this.left.length+this.break,u=r==ft.ByHeight?e<l:e<o,h=u?this.left.lineAt(e,r,n,i,a):this.right.lineAt(e,r,n,l,o);if(this.break||(u?h.to<o:h.from>o))return h;let m=r==ft.ByPosNoHeight?ft.ByPosNoHeight:ft.ByPos;return u?h.join(this.right.lineAt(o,m,n,l,o)):this.left.lineAt(o,m,n,i,a).join(h)}forEachLine(e,r,n,i,a,l){let o=i+this.left.height,u=a+this.left.length+this.break;if(this.break)e<u&&this.left.forEachLine(e,r,n,i,a,l),r>=u&&this.right.forEachLine(e,r,n,o,u,l);else{let h=this.lineAt(u,ft.ByPos,n,i,a);e<h.from&&this.left.forEachLine(e,h.from-1,n,i,a,l),h.to>=e&&h.from<=r&&l(h),r>h.to&&this.right.forEachLine(h.to+1,r,n,o,u,l)}}replace(e,r,n){let i=this.left.length+this.break;if(r<i)return this.balanced(this.left.replace(e,r,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,r-i,n));let a=[];e>0&&this.decomposeLeft(e,a);let l=a.length;for(let o of n)a.push(o);if(e>0&&cD(a,l-1),r<this.length){let o=a.length;this.decomposeRight(r,a),cD(a,o)}return Rr.of(a)}decomposeLeft(e,r){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,r);r.push(this.left),this.break&&(n++,e>=n&&r.push(null)),e>n&&this.right.decomposeLeft(e-n,r)}decomposeRight(e,r){let n=this.left.length,i=n+this.break;if(e>=i)return this.right.decomposeRight(e-i,r);e<n&&this.left.decomposeRight(e,r),this.break&&e<i&&r.push(null),r.push(this.right)}balanced(e,r){return e.size>2*r.size||r.size>2*e.size?Rr.of(this.break?[e,null,r]:[e,r]):(this.left=cg(this.left,e),this.right=cg(this.right,r),this.setHeight(e.height+r.height),this.outdated=e.outdated||r.outdated,this.size=e.size+r.size,this.length=e.length+this.break+r.length,this)}updateHeight(e,r=0,n=!1,i){let{left:a,right:l}=this,o=r+a.length+this.break,u=null;return i&&i.from<=r+a.length&&i.more?u=a=a.updateHeight(e,r,n,i):a.updateHeight(e,r,n),i&&i.from<=o+l.length&&i.more?u=l=l.updateHeight(e,o,n,i):l.updateHeight(e,o,n),u?this.balanced(a,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function cD(t,e){let r,n;t[e]==null&&(r=t[e-1])instanceof gr&&(n=t[e+1])instanceof gr&&t.splice(e-1,3,new gr(r.length+1+n.length))}const Goe=5;class $j{constructor(e,r){this.pos=e,this.oracle=r,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,r){if(this.lineStart>-1){let n=Math.min(r,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof vn?i.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new vn(n-this.pos,-1,0)),this.writtenTo=n,r>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=r}point(e,r,n){if(e<r||n.heightRelevant){let i=n.widget?n.widget.estimatedHeight:0,a=n.widget?n.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let l=r-e;n.block?this.addBlock(new jB(l,i,n)):(l||a||i>=Goe)&&this.addLineDeco(i,a,l)}else r>e&&this.span(e,r);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:r}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=r,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new vn(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,r){let n=new gr(r-e);return this.oracle.doc.lineAt(e).to==r&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof vn)return e;let r=new vn(0,-1,0);return this.nodes.push(r),r}addBlock(e){this.enterLine();let r=e.deco;r&&r.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,r&&r.endSide>0&&(this.covering=e)}addLineDeco(e,r,n){let i=this.ensureLine();i.length+=n,i.collapsed+=n,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=r,this.writtenTo=this.pos=this.pos+n}finish(e){let r=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(r instanceof vn)&&!this.isCovered?this.nodes.push(new vn(0,-1,0)):(this.writtenTo<this.pos||r==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let i of this.nodes)i instanceof vn&&i.updateHeight(this.oracle,n),n+=i?i.length:1;return this.nodes}static build(e,r,n,i){let a=new $j(n,e);return Ue.spans(r,n,i,a,0),a.finish(n)}}function Yoe(t,e,r){let n=new Qoe;return Ue.compare(t,e,r,n,0),n.changes}class Qoe{constructor(){this.changes=[]}compareRange(){}comparePoint(e,r,n,i){(e<r||n&&n.heightRelevant||i&&i.heightRelevant)&&ac(e,r,this.changes,5)}}function Xoe(t,e){let r=t.getBoundingClientRect(),n=t.ownerDocument,i=n.defaultView||window,a=Math.max(0,r.left),l=Math.min(i.innerWidth,r.right),o=Math.max(0,r.top),u=Math.min(i.innerHeight,r.bottom);for(let h=t.parentNode;h&&h!=n.body;)if(h.nodeType==1){let m=h,p=window.getComputedStyle(m);if((m.scrollHeight>m.clientHeight||m.scrollWidth>m.clientWidth)&&p.overflow!="visible"){let y=m.getBoundingClientRect();a=Math.max(a,y.left),l=Math.min(l,y.right),o=Math.max(o,y.top),u=Math.min(h==t.parentNode?i.innerHeight:u,y.bottom)}h=p.position=="absolute"||p.position=="fixed"?m.offsetParent:m.parentNode}else if(h.nodeType==11)h=h.host;else break;return{left:a-r.left,right:Math.max(a,l)-r.left,top:o-(r.top+e),bottom:Math.max(o,u)-(r.top+e)}}function Zoe(t){let e=t.getBoundingClientRect(),r=t.ownerDocument.defaultView||window;return e.left<r.innerWidth&&e.right>0&&e.top<r.innerHeight&&e.bottom>0}function Joe(t,e){let r=t.getBoundingClientRect();return{left:0,right:r.right-r.left,top:e,bottom:r.bottom-(r.top+e)}}class t1{constructor(e,r,n,i){this.from=e,this.to=r,this.size=n,this.displaySize=i}static same(e,r){if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],a=r[n];if(i.from!=a.from||i.to!=a.to||i.size!=a.size)return!1}return!0}draw(e,r){return Ae.replace({widget:new ece(this.displaySize*(r?e.scaleY:e.scaleX),r)}).range(this.from,this.to)}}class ece extends Ki{constructor(e,r){super(),this.size=e,this.vertical=r}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class uD{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=fD,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=ct.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let r=e.facet(Ij).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new Voe(r),this.stateDeco=dD(e),this.heightMap=Rr.empty().applyChanges(this.stateDeco,Ge.empty,this.heightOracle.setDoc(e.doc),[new Fn(0,0,0,e.doc.length)]);for(let n=0;n<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());n++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ae.set(this.lineGaps.map(n=>n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:r}=this.state.selection;for(let n=0;n<=1;n++){let i=n?r.head:r.anchor;if(!e.some(({from:a,to:l})=>i>=a&&i<=l)){let{from:a,to:l}=this.lineBlockAt(i);e.push(new wm(a,l))}}return this.viewports=e.sort((n,i)=>n.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?fD:new Vj(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(hf(e,this.scaler))})}update(e,r=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=dD(this.state);let i=e.changedRanges,a=Fn.extendWithRanges(i,Yoe(n,this.stateDeco,e?e.changes:Wt.empty(this.state.doc.length))),l=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);oD(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),a),(this.heightMap.height!=l||Cc)&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=l);let u=a.length?this.mapViewport(this.viewport,e.changes):this.viewport;(r&&(r.range.head<u.from||r.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,r));let h=u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,e.flags|=this.updateForViewport(),(h||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),r&&(this.scrollTarget=r),!this.mustEnforceCursorAssoc&&(e.selectionSet||e.focusChanged)&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(rB)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let r=e.contentDOM,n=window.getComputedStyle(r),i=this.heightOracle,a=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?ct.RTL:ct.LTR;let l=this.heightOracle.mustRefreshForWrapping(a)||this.mustMeasureContent,o=r.getBoundingClientRect(),u=l||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let h=0,m=0;if(o.width&&o.height){let{scaleX:T,scaleY:D}=I6(r,o);(T>.005&&Math.abs(this.scaleX-T)>.005||D>.005&&Math.abs(this.scaleY-D)>.005)&&(this.scaleX=T,this.scaleY=D,h|=16,l=u=!0)}let p=(parseInt(n.paddingTop)||0)*this.scaleY,y=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=p||this.paddingBottom!=y)&&(this.paddingTop=p,this.paddingBottom=y,h|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(u=!0),this.editorWidth=e.scrollDOM.clientWidth,h|=16);let x=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=x&&(this.scrollAnchorHeight=-1,this.scrollTop=x),this.scrolledToBottom=q6(e.scrollDOM);let b=(this.printing?Joe:Xoe)(r,this.paddingTop),N=b.top-this.pixelViewport.top,j=b.bottom-this.pixelViewport.bottom;this.pixelViewport=b;let C=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(C!=this.inView&&(this.inView=C,C&&(u=!0)),!this.inView&&!this.scrollTarget&&!Zoe(e.dom))return 0;let A=o.width;if((this.contentDOMWidth!=A||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,h|=16),u){let T=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(T)&&(l=!0),l||i.lineWrapping&&Math.abs(A-this.contentDOMWidth)>i.charWidth){let{lineHeight:D,charWidth:M,textHeight:E}=e.docView.measureTextSize();l=D>0&&i.refresh(a,D,M,E,Math.max(5,A/M),T),l&&(e.docView.minWidth=0,h|=16)}N>0&&j>0?m=Math.max(N,j):N<0&&j<0&&(m=Math.min(N,j)),oD();for(let D of this.viewports){let M=D.from==this.viewport.from?T:e.docView.measureVisibleLineHeights(D);this.heightMap=(l?Rr.empty().applyChanges(this.stateDeco,Ge.empty,this.heightOracle,[new Fn(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,l,new Foe(D.from,M))}Cc&&(h|=2)}let k=!this.viewportIsAppropriate(this.viewport,m)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return k&&(h&2&&(h|=this.updateScaler()),this.viewport=this.getViewport(m,this.scrollTarget),h|=this.updateForViewport()),(h&2||k)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps,e)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,r){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,a=this.heightOracle,{visibleTop:l,visibleBottom:o}=this,u=new wm(i.lineAt(l-n*1e3,ft.ByHeight,a,0,0).from,i.lineAt(o+(1-n)*1e3,ft.ByHeight,a,0,0).to);if(r){let{head:h}=r.range;if(h<u.from||h>u.to){let m=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),p=i.lineAt(h,ft.ByPos,a,0,0),y;r.y=="center"?y=(p.top+p.bottom)/2-m/2:r.y=="start"||r.y=="nearest"&&h<u.from?y=p.top:y=p.bottom-m,u=new wm(i.lineAt(y-1e3/2,ft.ByHeight,a,0,0).from,i.lineAt(y+m+1e3/2,ft.ByHeight,a,0,0).to)}}return u}mapViewport(e,r){let n=r.mapPos(e.from,-1),i=r.mapPos(e.to,1);return new wm(this.heightMap.lineAt(n,ft.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,ft.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:r},n=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,ft.ByPos,this.heightOracle,0,0),{bottom:a}=this.heightMap.lineAt(r,ft.ByPos,this.heightOracle,0,0),{visibleTop:l,visibleBottom:o}=this;return(e==0||i<=l-Math.max(10,Math.min(-n,250)))&&(r==this.state.doc.length||a>=o+Math.max(10,Math.min(n,250)))&&i>l-2*1e3&&a<o+2*1e3}mapLineGaps(e,r){if(!e.length||r.empty)return e;let n=[];for(let i of e)r.touchesRange(i.from,i.to)||n.push(new t1(r.mapPos(i.from),r.mapPos(i.to),i.size,i.displaySize));return n}ensureLineGaps(e,r){let n=this.heightOracle.lineWrapping,i=n?1e4:2e3,a=i>>1,l=i<<1;if(this.defaultTextDirection!=ct.LTR&&!n)return[];let o=[],u=(m,p,y,x)=>{if(p-m<a)return;let b=this.state.selection.main,N=[b.from];b.empty||N.push(b.to);for(let C of N)if(C>m&&C<p){u(m,C-10,y,x),u(C+10,p,y,x);return}let j=rce(e,C=>C.from>=y.from&&C.to<=y.to&&Math.abs(C.from-m)<a&&Math.abs(C.to-p)<a&&!N.some(A=>C.from<A&&C.to>A));if(!j){if(p<y.to&&r&&n&&r.visibleRanges.some(k=>k.from<=p&&k.to>=p)){let k=r.moveToLineBoundary(ue.cursor(p),!1,!0).head;k>m&&(p=k)}let C=this.gapSize(y,m,p,x),A=n||C<2e6?C:2e6;j=new t1(m,p,C,A)}o.push(j)},h=m=>{if(m.length<l||m.type!=br.Text)return;let p=tce(m.from,m.to,this.stateDeco);if(p.total<l)return;let y=this.scrollTarget?this.scrollTarget.range.head:null,x,b;if(n){let N=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,j,C;if(y!=null){let A=jm(p,y),k=((this.visibleBottom-this.visibleTop)/2+N)/m.height;j=A-k,C=A+k}else j=(this.visibleTop-m.top-N)/m.height,C=(this.visibleBottom-m.top+N)/m.height;x=Sm(p,j),b=Sm(p,C)}else{let N=p.total*this.heightOracle.charWidth,j=i*this.heightOracle.charWidth,C=0;if(N>2e6)for(let M of e)M.from>=m.from&&M.from<m.to&&M.size!=M.displaySize&&M.from*this.heightOracle.charWidth+C<this.pixelViewport.left&&(C=M.size-M.displaySize);let A=this.pixelViewport.left+C,k=this.pixelViewport.right+C,T,D;if(y!=null){let M=jm(p,y),E=((k-A)/2+j)/N;T=M-E,D=M+E}else T=(A-j)/N,D=(k+j)/N;x=Sm(p,T),b=Sm(p,D)}x>m.from&&u(m.from,x,m,p),b<m.to&&u(b,m.to,m,p)};for(let m of this.viewportLines)Array.isArray(m.type)?m.type.forEach(h):h(m);return o}gapSize(e,r,n,i){let a=jm(i,n)-jm(i,r);return this.heightOracle.lineWrapping?e.height*a:i.total*this.heightOracle.charWidth*a}updateLineGaps(e){t1.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ae.set(e.map(r=>r.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let r=this.stateDeco;this.lineGaps.length&&(r=r.concat(this.lineGapDeco));let n=[];Ue.spans(r,this.viewport.from,this.viewport.to,{span(a,l){n.push({from:a,to:l})},point(){}},20);let i=0;if(n.length!=this.visibleRanges.length)i=12;else for(let a=0;a<n.length&&!(i&8);a++){let l=this.visibleRanges[a],o=n[a];(l.from!=o.from||l.to!=o.to)&&(i|=4,e&&e.mapPos(l.from,-1)==o.from&&e.mapPos(l.to,1)==o.to||(i|=8))}return this.visibleRanges=n,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(r=>r.from<=e&&r.to>=e)||hf(this.heightMap.lineAt(e,ft.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(r=>r.top<=e&&r.bottom>=e)||hf(this.heightMap.lineAt(this.scaler.fromDOM(e),ft.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let r=this.lineBlockAtHeight(e+8);return r.from>=this.viewport.from||this.viewportLines[0].top-e>200?r:this.viewportLines[0]}elementAtHeight(e){return hf(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class wm{constructor(e,r){this.from=e,this.to=r}}function tce(t,e,r){let n=[],i=t,a=0;return Ue.spans(r,t,e,{span(){},point(l,o){l>i&&(n.push({from:i,to:l}),a+=l-i),i=o}},20),i<e&&(n.push({from:i,to:e}),a+=e-i),{total:a,ranges:n}}function Sm({total:t,ranges:e},r){if(r<=0)return e[0].from;if(r>=1)return e[e.length-1].to;let n=Math.floor(t*r);for(let i=0;;i++){let{from:a,to:l}=e[i],o=l-a;if(n<=o)return a+n;n-=o}}function jm(t,e){let r=0;for(let{from:n,to:i}of t.ranges){if(e<=i){r+=e-n;break}r+=i-n}return r/t.total}function rce(t,e){for(let r of t)if(e(r))return r}const fD={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};function dD(t){let e=t.facet(T0).filter(n=>typeof n!="function"),r=t.facet(Uj).filter(n=>typeof n!="function");return r.length&&e.push(Ue.join(r)),e}class Vj{constructor(e,r,n){let i=0,a=0,l=0;this.viewports=n.map(({from:o,to:u})=>{let h=r.lineAt(o,ft.ByPos,e,0,0).top,m=r.lineAt(u,ft.ByPos,e,0,0).bottom;return i+=m-h,{from:o,to:u,top:h,bottom:m,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(r.height-i);for(let o of this.viewports)o.domTop=l+(o.top-a)*this.scale,l=o.domBottom=o.domTop+(o.bottom-o.top),a=o.bottom}toDOM(e){for(let r=0,n=0,i=0;;r++){let a=r<this.viewports.length?this.viewports[r]:null;if(!a||e<a.top)return i+(e-n)*this.scale;if(e<=a.bottom)return a.domTop+(e-a.top);n=a.bottom,i=a.domBottom}}fromDOM(e){for(let r=0,n=0,i=0;;r++){let a=r<this.viewports.length?this.viewports[r]:null;if(!a||e<a.domTop)return n+(e-i)/this.scale;if(e<=a.domBottom)return a.top+(e-a.domTop);n=a.bottom,i=a.domBottom}}eq(e){return e instanceof Vj?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((r,n)=>r.from==e.viewports[n].from&&r.to==e.viewports[n].to):!1}}function hf(t,e){if(e.scale==1)return t;let r=e.toDOM(t.top),n=e.toDOM(t.bottom);return new si(t.from,t.length,r,n-r,Array.isArray(t._content)?t._content.map(i=>hf(i,e)):t._content)}const Nm=xe.define({combine:t=>t.join(" ")}),hS=xe.define({combine:t=>t.indexOf(!0)>-1}),mS=Ps.newName(),NB=Ps.newName(),CB=Ps.newName(),kB={"&light":"."+NB,"&dark":"."+CB};function pS(t,e,r){return new Ps(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,i=>{if(i=="&")return t;if(!r||!r[i])throw new RangeError(`Unsupported selector: ${i}`);return r[i]}):t+" "+n}})}const nce=pS("."+mS,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},kB),ice={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},r1=ye.ie&&ye.ie_version<=11;class ace{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new Rle,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let n of r)this.queue.push(n);(ye.ie&&ye.ie_version<=11||ye.ios&&e.composing)&&r.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&ye.android&&e.constructor.EDIT_CONTEXT!==!1&&!(ye.chrome&&ye.chrome_version<126)&&(this.editContext=new lce(e),e.state.facet(ga)&&(e.contentDOM.editContext=this.editContext.editContext)),r1&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var r;((r=this.view.docView)===null||r===void 0?void 0:r.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((r,n)=>r!=e[n]))){this.gapIntersection.disconnect();for(let r of e)this.gapIntersection.observe(r);this.gaps=e}}onSelectionChange(e){let r=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,i=this.selectionRange;if(n.state.facet(ga)?n.root.activeElement!=this.dom:!xf(this.dom,i))return;let a=i.anchorNode&&n.docView.tile.nearest(i.anchorNode);if(a&&a.isWidget()&&a.widget.ignoreEvent(e)){r||(this.selectionChanged=!1);return}(ye.ie&&ye.ie_version<=11||ye.android&&ye.chrome)&&!n.state.selection.main.empty&&i.focusNode&&bf(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,r=Yf(e.root);if(!r)return!1;let n=ye.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&sce(this.view,r)||r;if(!n||this.selectionRange.eq(n))return!1;let i=xf(this.dom,n);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Ble(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,r){this.selectionRange.set(e.node,e.offset,r.node,r.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,r=null;for(let n=this.dom;n;)if(n.nodeType==1)!r&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:r||(r=this.scrollTargets.slice(0,e)),r&&r.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!r&&(r=this.scrollTargets.slice(0,e)),r){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=r)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,ice),r1&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),r1&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,r){var n;if(!this.delayedAndroidKey){let i=()=>{let a=this.delayedAndroidKey;a&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=a.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&a.force&&sc(this.dom,a.key,a.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:r,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let r=-1,n=-1,i=!1;for(let a of e){let l=this.readMutation(a);l&&(l.typeOver&&(i=!0),r==-1?{from:r,to:n}=l:(r=Math.min(l.from,r),n=Math.max(l.to,n)))}return{from:r,to:n,typeOver:i}}readChange(){let{from:e,to:r,typeOver:n}=this.processRecords(),i=this.selectionChanged&&xf(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let a=new Noe(this.view,e,r,n);return this.view.docView.domChanged={newSel:a.newSel?a.newSel.main:null},a}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let r=this.readChange();if(!r)return this.view.requestMeasure(),!1;let n=this.view.state,i=hB(this.view,r);return this.view.state==n&&(r.domChanged||r.newSel&&!og(this.view.state.selection,r.newSel.main))&&this.view.update([]),i}readMutation(e){let r=this.view.docView.tile.nearest(e.target);if(!r||r.isWidget())return null;if(r.markDirty(e.type=="attributes"),e.type=="childList"){let n=hD(r,e.previousSibling||e.target.previousSibling,-1),i=hD(r,e.nextSibling||e.target.nextSibling,1);return{from:n?r.posAfter(n):r.posAtStart,to:i?r.posBefore(i):r.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(ga)!=e.state.facet(ga)&&(e.view.contentDOM.editContext=e.state.facet(ga)?this.editContext.editContext:null))}destroy(){var e,r,n;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(r=this.gapIntersection)===null||r===void 0||r.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function hD(t,e,r){for(;e;){let n=Ut.get(e);if(n&&n.parent==t)return n;let i=e.parentNode;e=i!=t.dom?i:r>0?e.nextSibling:e.previousSibling}return null}function mD(t,e){let r=e.startContainer,n=e.startOffset,i=e.endContainer,a=e.endOffset,l=t.docView.domAtPos(t.state.selection.main.anchor,1);return bf(l.node,l.offset,i,a)&&([r,n,i,a]=[i,a,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:a}}function sce(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return mD(t,i)}let r=null;function n(i){i.preventDefault(),i.stopImmediatePropagation(),r=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),r?mD(t,r):null}class lce{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let r=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=n=>{let i=e.state.selection.main,{anchor:a,head:l}=i,o=this.toEditorPos(n.updateRangeStart),u=this.toEditorPos(n.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:n.updateRangeStart,editorBase:o,drifted:!1});let h=u-o>n.text.length;o==this.from&&a<this.from?o=a:u==this.to&&a>this.to&&(u=a);let m=mB(e.state.sliceDoc(o,u),n.text,(h?i.from:i.to)-o,h?"end":null);if(!m){let y=ue.single(this.toEditorPos(n.selectionStart),this.toEditorPos(n.selectionEnd));og(y,i)||e.dispatch({selection:y,userEvent:"select"});return}let p={from:m.from+o,to:m.toA+o,insert:Ge.of(n.text.slice(m.from,m.toB).split(`
`))};if((ye.mac||ye.android)&&p.from==l-1&&/^\. ?$/.test(n.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(p={from:o,to:u,insert:Ge.of([n.text.replace("."," ")])}),this.pendingContextChange=p,!e.state.readOnly){let y=this.to-this.from+(p.to-p.from+p.insert.length);Hj(e,p,ue.single(this.toEditorPos(n.selectionStart,y),this.toEditorPos(n.selectionEnd,y)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),p.from<p.to&&!p.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(r.text.slice(Math.max(0,n.updateRangeStart-1),Math.min(r.text.length,n.updateRangeStart+1)))&&this.handlers.compositionend(n)},this.handlers.characterboundsupdate=n=>{let i=[],a=null;for(let l=this.toEditorPos(n.rangeStart),o=this.toEditorPos(n.rangeEnd);l<o;l++){let u=e.coordsForChar(l);a=u&&new DOMRect(u.left,u.top,u.right-u.left,u.bottom-u.top)||a||new DOMRect,i.push(a)}r.updateCharacterBounds(n.rangeStart,i)},this.handlers.textformatupdate=n=>{let i=[];for(let a of n.getTextFormats()){let l=a.underlineStyle,o=a.underlineThickness;if(!/none/i.test(l)&&!/none/i.test(o)){let u=this.toEditorPos(a.rangeStart),h=this.toEditorPos(a.rangeEnd);if(u<h){let m=`text-decoration: underline ${/^[a-z]/.test(l)?l+" ":l=="Dashed"?"dashed ":l=="Squiggle"?"wavy ":""}${/thin/i.test(o)?1:2}px`;i.push(Ae.mark({attributes:{style:m}}).range(u,h))}}}e.dispatch({effects:iB.of(Ae.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:n}=this.composing;this.composing=null,n&&this.reset(e.state)}};for(let n in this.handlers)r.addEventListener(n,this.handlers[n]);this.measureReq={read:n=>{this.editContext.updateControlBounds(n.contentDOM.getBoundingClientRect());let i=Yf(n.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let r=0,n=!1,i=this.pendingContextChange;return e.changes.iterChanges((a,l,o,u,h)=>{if(n)return;let m=h.length-(l-a);if(i&&l>=i.to)if(i.from==a&&i.to==l&&i.insert.eq(h)){i=this.pendingContextChange=null,r+=m,this.to+=m;return}else i=null,this.revertPending(e.state);if(a+=r,l+=r,l<=this.from)this.from+=m,this.to+=m;else if(a<this.to){if(a<this.from||l>this.to||this.to-this.from+h.length>3e4){n=!0;return}this.editContext.updateText(this.toContextPos(a),this.toContextPos(l),h.toString()),this.to+=m}r+=m}),i&&!n&&this.revertPending(e.state),!n}update(e){let r=this.pendingContextChange,n=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(n.from,n.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||r)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:r}=e.selection.main;this.from=Math.max(0,r-1e4),this.to=Math.min(e.doc.length,r+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let r=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(r.from),this.toContextPos(r.from+r.insert.length),e.doc.sliceString(r.from,r.to))}setSelection(e){let{main:r}=e.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,r.anchor))),i=this.toContextPos(r.head);(this.editContext.selectionStart!=n||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(n,i)}rangeIsValid(e){let{head:r}=e.selection.main;return!(this.from>0&&r-this.from<500||this.to<e.doc.length&&this.to-r<500||this.to-this.from>1e4*3)}toEditorPos(e,r=this.to-this.from){e=Math.min(e,r);let n=this.composing;return n&&n.drifted?n.editorBase+(e-n.contextBase):e+this.from}toContextPos(e){let r=this.composing;return r&&r.drifted?r.contextBase+(e-r.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class ge{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var r;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(i=>i.forEach(a=>n(a,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||Lle(e.parent)||document,this.viewState=new uD(e.state||Ve.create(e)),e.scrollTo&&e.scrollTo.is(xm)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Xo).map(i=>new Qb(i));for(let i of this.plugins)i.update(this);this.observer=new ace(this),this.inputState=new Aoe(this),this.inputState.ensureHandlers(this.plugins),this.docView=new X4(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((r=document.fonts)===null||r===void 0)&&r.ready&&document.fonts.ready.then(()=>{this.viewState.mustMeasureContent=!0,this.requestMeasure()})}dispatch(...e){let r=e.length==1&&e[0]instanceof Kt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(r,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let r=!1,n=!1,i,a=this.state;for(let y of e){if(y.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=y.state}if(this.destroyed){this.viewState.state=a;return}let l=this.hasFocus,o=0,u=null;e.some(y=>y.annotation(bB))?(this.inputState.notifiedFocused=l,o=1):l!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=l,u=wB(a,l),u||(o=1));let h=this.observer.delayedAndroidKey,m=null;if(h?(this.observer.clearDelayedAndroidKey(),m=this.observer.readChange(),(m&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(m=null)):this.observer.clear(),a.facet(Ve.phrases)!=this.state.facet(Ve.phrases))return this.setState(a);i=ag.create(this,a,e),i.flags|=o;let p=this.viewState.scrollTarget;try{this.updateState=2;for(let y of e){if(p&&(p=p.map(y.changes)),y.scrollIntoView){let{main:x}=y.state.selection;p=new lc(x.empty?x:ue.cursor(x.head,x.head>x.anchor?-1:1))}for(let x of y.effects)x.is(xm)&&(p=x.value.clip(this.state))}this.viewState.update(i,p),this.bidiCache=ug.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),r=this.docView.update(i),this.state.facet(ff)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some(y=>y.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Nm)!=i.state.facet(Nm)&&(this.viewState.mustMeasureContent=!0),(r||n||p||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),r&&this.docViewUpdate(),!i.empty)for(let y of this.state.facet(oS))try{y(i)}catch(x){Zr(this.state,x,"update listener")}(u||m)&&Promise.resolve().then(()=>{u&&this.state==u.startState&&this.dispatch(u),m&&!hB(this,m)&&h.force&&sc(this.contentDOM,h.key,h.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let r=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new uD(e),this.plugins=e.facet(Xo).map(n=>new Qb(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView.destroy(),this.docView=new X4(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}r&&this.focus(),this.requestMeasure()}updatePlugins(e){let r=e.startState.facet(Xo),n=e.state.facet(Xo);if(r!=n){let i=[];for(let a of n){let l=r.indexOf(a);if(l<0)i.push(new Qb(a));else{let o=this.plugins[l];o.mustUpdate=e,i.push(o)}}for(let a of this.plugins)a.mustUpdate!=e&&a.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);r!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let r=e.value;if(r&&r.docViewUpdate)try{r.docViewUpdate(this)}catch(n){Zr(this.state,n,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let r=null,n=this.scrollDOM,i=n.scrollTop*this.scaleY,{scrollAnchorPos:a,scrollAnchorHeight:l}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(l=-1),this.viewState.scrollAnchorHeight=-1;try{for(let o=0;;o++){if(l<0)if(q6(n))a=-1,l=this.viewState.heightMap.height;else{let x=this.viewState.scrollAnchorAt(i);a=x.from,l=x.top}this.updateState=1;let u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];u&4||([this.measureRequests,h]=[h,this.measureRequests]);let m=h.map(x=>{try{return x.read(this)}catch(b){return Zr(this.state,b),pD}}),p=ag.create(this,this.state,[]),y=!1;p.flags|=u,r?r.flags|=u:r=p,this.updateState=2,p.empty||(this.updatePlugins(p),this.inputState.update(p),this.updateAttrs(),y=this.docView.update(p),y&&this.docViewUpdate());for(let x=0;x<h.length;x++)if(m[x]!=pD)try{let b=h[x];b.write&&b.write(m[x],this)}catch(b){Zr(this.state,b)}if(y&&this.docView.updateSelection(!0),!p.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=-1;continue}else{let b=(a<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(a).top)-l;if(b>1||b<-1){i=i+b,n.scrollTop=i/this.scaleY,l=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty)for(let o of this.state.facet(oS))o(r)}get themeClasses(){return mS+" "+(this.state.facet(hS)?CB:NB)+" "+this.state.facet(Nm)}updateAttrs(){let e=gD(this,aB,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(ga)?"true":"false",class:"cm-content",style:`${ye.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),gD(this,Ij,r);let n=this.observer.ignore(()=>{let i=F4(this.contentDOM,this.contentAttrs,r),a=F4(this.dom,this.editorAttrs,e);return i||a});return this.editorAttrs=e,this.contentAttrs=r,n}showAnnouncements(e){let r=!0;for(let n of e)for(let i of n.effects)if(i.is(ge.announce)){r&&(this.announceDOM.textContent=""),r=!1;let a=this.announceDOM.appendChild(document.createElement("div"));a.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(ff);let e=this.state.facet(ge.cspNonce);Ps.mount(this.root,this.styleModules.concat(nce).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===e.key){this.measureRequests[r]=e;return}}this.measureRequests.push(e)}}plugin(e){let r=this.pluginMap.get(e);return(r===void 0||r&&r.plugin!=e)&&this.pluginMap.set(e,r=this.plugins.find(n=>n.plugin==e)||null),r&&r.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,r,n){return e1(this,e,Z4(this,e,r,n))}moveByGroup(e,r){return e1(this,e,Z4(this,e,r,n=>xoe(this,e.head,n)))}visualLineSide(e,r){let n=this.bidiSpans(e),i=this.textDirectionAt(e.from),a=n[r?n.length-1:0];return ue.cursor(a.side(r,i)+e.from,a.forward(!r,i)?1:-1)}moveToLineBoundary(e,r,n=!0){return yoe(this,e,r,n)}moveVertically(e,r,n){return e1(this,e,voe(this,e,r,n))}domAtPos(e,r=1){return this.docView.domAtPos(e,r)}posAtDOM(e,r=0){return this.docView.posFromDOM(e,r)}posAtCoords(e,r=!0){this.readMeasured();let n=fS(this,e,r);return n&&n.pos}posAndSideAtCoords(e,r=!0){return this.readMeasured(),fS(this,e,r)}coordsAtPos(e,r=1){this.readMeasured();let n=this.docView.coordsAt(e,r);if(!n||n.left==n.right)return n;let i=this.state.doc.lineAt(e),a=this.bidiSpans(i),l=a[_i.find(a,e-i.from,-1,r)];return Qf(n,l.dir==ct.LTR==r>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(tB)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>oce)return K6(e.length);let r=this.textDirectionAt(e.from),n;for(let a of this.bidiCache)if(a.from==e.from&&a.dir==r&&(a.fresh||W6(a.isolates,n=G4(this,e))))return a.order;n||(n=G4(this,e));let i=Vle(e.text,r,n);return this.bidiCache.push(new ug(e.from,e.to,r,n,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ye.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{U6(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,r={}){return xm.of(new lc(typeof e=="number"?ue.cursor(e):e,r.y,r.x,r.yMargin,r.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:r}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return xm.of(new lc(ue.cursor(n.from),"start","start",n.top-e,r,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Pt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Pt.define(()=>({}),{eventObservers:e})}static theme(e,r){let n=Ps.newName(),i=[Nm.of(n),ff.of(pS(`.${n}`,e))];return r&&r.dark&&i.push(hS.of(!0)),i}static baseTheme(e){return eo.lowest(ff.of(pS("."+mS,e,kB)))}static findFromDOM(e){var r;let n=e.querySelector(".cm-content"),i=n&&Ut.get(n)||Ut.get(e);return((r=i?.root)===null||r===void 0?void 0:r.view)||null}}ge.styleModule=ff;ge.inputHandler=J6;ge.clipboardInputFilter=Bj;ge.clipboardOutputFilter=zj;ge.scrollHandler=nB;ge.focusChangeEffect=eB;ge.perLineTextDirection=tB;ge.exceptionSink=Z6;ge.updateListener=oS;ge.editable=ga;ge.mouseSelectionStyle=X6;ge.dragMovesSelection=Q6;ge.clickAddsSelectionRange=Y6;ge.decorations=T0;ge.blockWrappers=sB;ge.outerDecorations=Uj;ge.atomicRanges=Ed;ge.bidiIsolatedRanges=lB;ge.scrollMargins=oB;ge.darkTheme=hS;ge.cspNonce=xe.define({combine:t=>t.length?t[0]:""});ge.contentAttributes=Ij;ge.editorAttributes=aB;ge.lineWrapping=ge.contentAttributes.of({class:"cm-lineWrapping"});ge.announce=Pe.define();const oce=4096,pD={};class ug{constructor(e,r,n,i,a,l){this.from=e,this.to=r,this.dir=n,this.isolates=i,this.fresh=a,this.order=l}static update(e,r){if(r.empty&&!e.some(a=>a.fresh))return e;let n=[],i=e.length?e[e.length-1].dir:ct.LTR;for(let a=Math.max(0,e.length-10);a<e.length;a++){let l=e[a];l.dir==i&&!r.touchesRange(l.from,l.to)&&n.push(new ug(r.mapPos(l.from,1),r.mapPos(l.to,-1),l.dir,l.isolates,!1,l.order))}return n}}function gD(t,e,r){for(let n=t.state.facet(e),i=n.length-1;i>=0;i--){let a=n[i],l=typeof a=="function"?a(t):a;l&&Pj(l,r)}return r}const cce=ye.mac?"mac":ye.windows?"win":ye.linux?"linux":"key";function uce(t,e){const r=t.split(/-(?!$)/);let n=r[r.length-1];n=="Space"&&(n=" ");let i,a,l,o;for(let u=0;u<r.length-1;++u){const h=r[u];if(/^(cmd|meta|m)$/i.test(h))o=!0;else if(/^a(lt)?$/i.test(h))i=!0;else if(/^(c|ctrl|control)$/i.test(h))a=!0;else if(/^s(hift)?$/i.test(h))l=!0;else if(/^mod$/i.test(h))e=="mac"?o=!0:a=!0;else throw new Error("Unrecognized modifier name: "+h)}return i&&(n="Alt-"+n),a&&(n="Ctrl-"+n),o&&(n="Meta-"+n),l&&(n="Shift-"+n),n}function Cm(t,e,r){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r!==!1&&e.shiftKey&&(t="Shift-"+t),t}const fce=eo.default(ge.domEventHandlers({keydown(t,e){return AB(OB(e.state),t,e,"editor")}})),P0=xe.define({enables:fce}),yD=new WeakMap;function OB(t){let e=t.facet(P0),r=yD.get(e);return r||yD.set(e,r=mce(e.reduce((n,i)=>n.concat(i),[]))),r}function dce(t,e,r){return AB(OB(t.state),e,t,r)}let vs=null;const hce=4e3;function mce(t,e=cce){let r=Object.create(null),n=Object.create(null),i=(l,o)=>{let u=n[l];if(u==null)n[l]=o;else if(u!=o)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},a=(l,o,u,h,m)=>{var p,y;let x=r[l]||(r[l]=Object.create(null)),b=o.split(/ (?!$)/).map(C=>uce(C,e));for(let C=1;C<b.length;C++){let A=b.slice(0,C).join(" ");i(A,!0),x[A]||(x[A]={preventDefault:!0,stopPropagation:!1,run:[k=>{let T=vs={view:k,prefix:A,scope:l};return setTimeout(()=>{vs==T&&(vs=null)},hce),!0}]})}let N=b.join(" ");i(N,!1);let j=x[N]||(x[N]={preventDefault:!1,stopPropagation:!1,run:((y=(p=x._any)===null||p===void 0?void 0:p.run)===null||y===void 0?void 0:y.slice())||[]});u&&j.run.push(u),h&&(j.preventDefault=!0),m&&(j.stopPropagation=!0)};for(let l of t){let o=l.scope?l.scope.split(" "):["editor"];if(l.any)for(let h of o){let m=r[h]||(r[h]=Object.create(null));m._any||(m._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:p}=l;for(let y in m)m[y].run.push(x=>p(x,gS))}let u=l[e]||l.key;if(u)for(let h of o)a(h,u,l.run,l.preventDefault,l.stopPropagation),l.shift&&a(h,"Shift-"+u,l.shift,l.preventDefault,l.stopPropagation)}return r}let gS=null;function AB(t,e,r,n){gS=e;let i=Ole(e),a=Wr(i,0),l=Ei(a)==i.length&&i!=" ",o="",u=!1,h=!1,m=!1;vs&&vs.view==r&&vs.scope==n&&(o=vs.prefix+" ",gB.indexOf(e.keyCode)<0&&(h=!0,vs=null));let p=new Set,y=j=>{if(j){for(let C of j.run)if(!p.has(C)&&(p.add(C),C(r)))return j.stopPropagation&&(m=!0),!0;j.preventDefault&&(j.stopPropagation&&(m=!0),h=!0)}return!1},x=t[n],b,N;return x&&(y(x[o+Cm(i,e,!l)])?u=!0:l&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ye.windows&&e.ctrlKey&&e.altKey)&&!(ye.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(b=Rs[e.keyCode])&&b!=i?(y(x[o+Cm(b,e,!0)])||e.shiftKey&&(N=Kf[e.keyCode])!=i&&N!=b&&y(x[o+Cm(N,e,!1)]))&&(u=!0):l&&e.shiftKey&&y(x[o+Cm(i,e,!0)])&&(u=!0),!u&&y(x._any)&&(u=!0)),h&&(u=!0),u&&m&&e.stopPropagation(),gS=null,u}class Td{constructor(e,r,n,i,a){this.className=e,this.left=r,this.top=n,this.width=i,this.height=a}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,r){return r.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,r,n){if(n.empty){let i=e.coordsAtPos(n.head,n.assoc||1);if(!i)return[];let a=EB(e);return[new Td(r,i.left-a.left,i.top-a.top,null,i.bottom-i.top)]}else return pce(e,r,n)}}function EB(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==ct.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function xD(t,e,r,n){let i=t.coordsAtPos(e,r*2);if(!i)return n;let a=t.dom.getBoundingClientRect(),l=(i.top+i.bottom)/2,o=t.posAtCoords({x:a.left+1,y:l}),u=t.posAtCoords({x:a.right-1,y:l});return o==null||u==null?n:{from:Math.max(n.from,Math.min(o,u)),to:Math.min(n.to,Math.max(o,u))}}function pce(t,e,r){if(r.to<=t.viewport.from||r.from>=t.viewport.to)return[];let n=Math.max(r.from,t.viewport.from),i=Math.min(r.to,t.viewport.to),a=t.textDirection==ct.LTR,l=t.contentDOM,o=l.getBoundingClientRect(),u=EB(t),h=l.querySelector(".cm-line"),m=h&&window.getComputedStyle(h),p=o.left+(m?parseInt(m.paddingLeft)+Math.min(0,parseInt(m.textIndent)):0),y=o.right-(m?parseInt(m.paddingRight):0),x=uS(t,n,1),b=uS(t,i,-1),N=x.type==br.Text?x:null,j=b.type==br.Text?b:null;if(N&&(t.lineWrapping||x.widgetLineBreaks)&&(N=xD(t,n,1,N)),j&&(t.lineWrapping||b.widgetLineBreaks)&&(j=xD(t,i,-1,j)),N&&j&&N.from==j.from&&N.to==j.to)return A(k(r.from,r.to,N));{let D=N?k(r.from,null,N):T(x,!1),M=j?k(null,r.to,j):T(b,!0),E=[];return(N||x).to<(j||b).from-(N&&j?1:0)||x.widgetLineBreaks>1&&D.bottom+t.defaultLineHeight/2<M.top?E.push(C(p,D.bottom,y,M.top)):D.bottom<M.top&&t.elementAtHeight((D.bottom+M.top)/2).type==br.Text&&(D.bottom=M.top=(D.bottom+M.top)/2),A(D).concat(E).concat(A(M))}function C(D,M,E,_){return new Td(e,D-u.left,M-u.top,Math.max(0,E-D),_-M)}function A({top:D,bottom:M,horizontal:E}){let _=[];for(let L=0;L<E.length;L+=2)_.push(C(E[L],D,E[L+1],M));return _}function k(D,M,E){let _=1e9,L=-1e9,I=[];function z(W,$,H,F,Q){let se=t.coordsAtPos(W,W==E.to?-2:2),de=t.coordsAtPos(H,H==E.from?2:-2);!se||!de||(_=Math.min(se.top,de.top,_),L=Math.max(se.bottom,de.bottom,L),Q==ct.LTR?I.push(a&&$?p:se.left,a&&F?y:de.right):I.push(!a&&F?p:de.left,!a&&$?y:se.right))}let R=D??E.from,U=M??E.to;for(let W of t.visibleRanges)if(W.to>R&&W.from<U)for(let $=Math.max(W.from,R),H=Math.min(W.to,U);;){let F=t.state.doc.lineAt($);for(let Q of t.bidiSpans(F)){let se=Q.from+F.from,de=Q.to+F.from;if(se>=H)break;de>$&&z(Math.max(se,$),D==null&&se<=R,Math.min(de,H),M==null&&de>=U,Q.dir)}if($=F.to+1,$>=H)break}return I.length==0&&z(R,D==null,U,M==null,t.textDirection),{top:_,bottom:L,horizontal:I}}function T(D,M){let E=o.top+(M?D.top:D.bottom);return{top:E,bottom:E,horizontal:[]}}}function gce(t,e){return t.constructor==e.constructor&&t.eq(e)}class yce{constructor(e,r){this.view=e,this.layer=r,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),r.above&&this.dom.classList.add("cm-layer-above"),r.class&&this.dom.classList.add(r.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),r.mount&&r.mount(this.dom,e)}update(e){e.startState.facet(Xm)!=e.state.facet(Xm)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let r=0,n=e.facet(Xm);for(;r<n.length&&n[r]!=this.layer;)r++;this.dom.style.zIndex=String((this.layer.above?150:-1)-r)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:r}=this.view;(e!=this.scaleX||r!=this.scaleY)&&(this.scaleX=e,this.scaleY=r,this.dom.style.transform=`scale(${1/e}, ${1/r})`)}draw(e){if(e.length!=this.drawn.length||e.some((r,n)=>!gce(r,this.drawn[n]))){let r=this.dom.firstChild,n=0;for(let i of e)i.update&&r&&i.constructor&&this.drawn[n].constructor&&i.update(r,this.drawn[n])?(r=r.nextSibling,n++):this.dom.insertBefore(i.draw(),r);for(;r;){let i=r.nextSibling;r.remove(),r=i}this.drawn=e,ye.safari&&ye.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Xm=xe.define();function TB(t){return[Pt.define(e=>new yce(e,t)),Xm.of(t)]}const Zf=xe.define({combine(t){return Wi(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,r)=>Math.min(e,r),drawRangeCursor:(e,r)=>e||r})}});function xce(t={}){return[Zf.of(t),vce,bce,wce,rB.of(!0)]}function MB(t){return t.startState.facet(Zf)!=t.state.facet(Zf)}const vce=TB({above:!0,markers(t){let{state:e}=t,r=e.facet(Zf),n=[];for(let i of e.selection.ranges){let a=i==e.selection.main;if(i.empty||r.drawRangeCursor){let l=a?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",o=i.empty?i:ue.cursor(i.head,i.head>i.anchor?-1:1);for(let u of Td.forRange(t,l,o))n.push(u)}}return n},update(t,e){t.transactions.some(n=>n.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let r=MB(t);return r&&vD(t.state,e),t.docChanged||t.selectionSet||r},mount(t,e){vD(e.state,t)},class:"cm-cursorLayer"});function vD(t,e){e.style.animationDuration=t.facet(Zf).cursorBlinkRate+"ms"}const bce=TB({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:Td.forRange(t,"cm-selectionBackground",e)).reduce((e,r)=>e.concat(r))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||MB(t)},class:"cm-selectionLayer"}),wce=eo.highest(ge.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),DB=Pe.define({map(t,e){return t==null?null:e.mapPos(t)}}),mf=jr.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((r,n)=>n.is(DB)?n.value:r,t)}}),Sce=Pt.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let r=t.state.field(mf);r==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(mf)!=r||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(mf),r=e!=null&&t.coordsAtPos(e);if(!r)return null;let n=t.scrollDOM.getBoundingClientRect();return{left:r.left-n.left+t.scrollDOM.scrollLeft*t.scaleX,top:r.top-n.top+t.scrollDOM.scrollTop*t.scaleY,height:r.bottom-r.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:r}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/r+"px",this.cursor.style.height=t.height/r+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(mf)!=t&&this.view.dispatch({effects:DB.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function jce(){return[mf,Sce]}function bD(t,e,r,n,i){e.lastIndex=0;for(let a=t.iterRange(r,n),l=r,o;!a.next().done;l+=a.value.length)if(!a.lineBreak)for(;o=e.exec(a.value);)i(l+o.index,o)}function Nce(t,e){let r=t.visibleRanges;if(r.length==1&&r[0].from==t.viewport.from&&r[0].to==t.viewport.to)return r;let n=[];for(let{from:i,to:a}of r)i=Math.max(t.state.doc.lineAt(i).from,i-e),a=Math.min(t.state.doc.lineAt(a).to,a+e),n.length&&n[n.length-1].to>=i?n[n.length-1].to=a:n.push({from:i,to:a});return n}class Cce{constructor(e){const{regexp:r,decoration:n,decorate:i,boundary:a,maxLength:l=1e3}=e;if(!r.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=r,i)this.addMatch=(o,u,h,m)=>i(m,h,h+o[0].length,o,u);else if(typeof n=="function")this.addMatch=(o,u,h,m)=>{let p=n(o,u,h);p&&m(h,h+o[0].length,p)};else if(n)this.addMatch=(o,u,h,m)=>m(h,h+o[0].length,n);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=a,this.maxLength=l}createDeco(e){let r=new Ta,n=r.add.bind(r);for(let{from:i,to:a}of Nce(e,this.maxLength))bD(e.state.doc,this.regexp,i,a,(l,o)=>this.addMatch(o,e,l,n));return r.finish()}updateDeco(e,r){let n=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((a,l,o,u)=>{u>=e.view.viewport.from&&o<=e.view.viewport.to&&(n=Math.min(o,n),i=Math.max(u,i))}),e.viewportMoved||i-n>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,r.map(e.changes),n,i):r}updateRange(e,r,n,i){for(let a of e.visibleRanges){let l=Math.max(a.from,n),o=Math.min(a.to,i);if(o>=l){let u=e.state.doc.lineAt(l),h=u.to<o?e.state.doc.lineAt(o):u,m=Math.max(a.from,u.from),p=Math.min(a.to,h.to);if(this.boundary){for(;l>u.from;l--)if(this.boundary.test(u.text[l-1-u.from])){m=l;break}for(;o<h.to;o++)if(this.boundary.test(h.text[o-h.from])){p=o;break}}let y=[],x,b=(N,j,C)=>y.push(C.range(N,j));if(u==h)for(this.regexp.lastIndex=m-u.from;(x=this.regexp.exec(u.text))&&x.index<p-u.from;)this.addMatch(x,e,x.index+u.from,b);else bD(e.state.doc,this.regexp,m,p,(N,j)=>this.addMatch(j,e,N,b));r=r.update({filterFrom:m,filterTo:p,filter:(N,j)=>N<m||j>p,add:y})}}return r}}const yS=/x/.unicode!=null?"gu":"g",kce=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,yS),Oce={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let n1=null;function Ace(){var t;if(n1==null&&typeof document<"u"&&document.body){let e=document.body.style;n1=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return n1||!1}const Zm=xe.define({combine(t){let e=Wi(t,{render:null,specialChars:kce,addSpecialChars:null});return(e.replaceTabs=!Ace())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,yS)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,yS)),e}});function Ece(t={}){return[Zm.of(t),Tce()]}let wD=null;function Tce(){return wD||(wD=Pt.fromClass(class{constructor(t){this.view=t,this.decorations=Ae.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Zm)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new Cce({regexp:t.specialChars,decoration:(e,r,n)=>{let{doc:i}=r.state,a=Wr(e[0],0);if(a==9){let l=i.lineAt(n),o=r.state.tabSize,u=Fc(l.text,o,n-l.from);return Ae.replace({widget:new Pce((o-u%o)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[a]||(this.decorationCache[a]=Ae.replace({widget:new _ce(t,a)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Zm);t.startState.facet(Zm)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const Mce="";function Dce(t){return t>=32?Mce:t==10?"":String.fromCharCode(9216+t)}class _ce extends Ki{constructor(e,r){super(),this.options=e,this.code=r}eq(e){return e.code==this.code}toDOM(e){let r=Dce(this.code),n=e.state.phrase("Control character")+" "+(Oce[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,n,r);if(i)return i;let a=document.createElement("span");return a.textContent=r,a.title=n,a.setAttribute("aria-label",n),a.className="cm-specialChar",a}ignoreEvent(){return!1}}class Pce extends Ki{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function Rce(){return Bce}const Lce=Ae.line({class:"cm-activeLine"}),Bce=Pt.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,r=[];for(let n of t.state.selection.ranges){let i=t.lineBlockAt(n.head);i.from>e&&(r.push(Lce.range(i.from)),e=i.from)}return Ae.set(r)}},{decorations:t=>t.decorations});class zce extends Ki{constructor(e){super(),this.content=e}toDOM(e){let r=document.createElement("span");return r.className="cm-placeholder",r.style.pointerEvents="none",r.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),r.setAttribute("aria-hidden","true"),r}coordsAt(e){let r=e.firstChild?vf(e.firstChild):[];if(!r.length)return null;let n=window.getComputedStyle(e.parentNode),i=Qf(r[0],n.direction!="rtl"),a=parseInt(n.lineHeight);return i.bottom-i.top>a*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+a}:i}ignoreEvent(){return!1}}function Ice(t){let e=Pt.fromClass(class{constructor(r){this.view=r,this.placeholder=t?Ae.set([Ae.widget({widget:new zce(t),side:1}).range(0)]):Ae.none}get decorations(){return this.view.state.doc.length?Ae.none:this.placeholder}},{decorations:r=>r.decorations});return typeof t=="string"?[e,ge.contentAttributes.of({"aria-placeholder":t})]:e}const xS=2e3;function Uce(t,e,r){let n=Math.min(e.line,r.line),i=Math.max(e.line,r.line),a=[];if(e.off>xS||r.off>xS||e.col<0||r.col<0){let l=Math.min(e.off,r.off),o=Math.max(e.off,r.off);for(let u=n;u<=i;u++){let h=t.doc.line(u);h.length<=o&&a.push(ue.range(h.from+l,h.to+o))}}else{let l=Math.min(e.col,r.col),o=Math.max(e.col,r.col);for(let u=n;u<=i;u++){let h=t.doc.line(u),m=Xw(h.text,l,t.tabSize,!0);if(m<0)a.push(ue.cursor(h.to));else{let p=Xw(h.text,o,t.tabSize);a.push(ue.range(h.from+m,h.from+p))}}}return a}function qce(t,e){let r=t.coordsAtPos(t.viewport.from);return r?Math.round(Math.abs((r.left-e)/t.defaultCharacterWidth)):-1}function SD(t,e){let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1),n=t.state.doc.lineAt(r),i=r-n.from,a=i>xS?-1:i==n.length?qce(t,e.clientX):Fc(n.text,t.state.tabSize,r-n.from);return{line:n.number,col:a,off:i}}function Hce(t,e){let r=SD(t,e),n=t.state.selection;return r?{update(i){if(i.docChanged){let a=i.changes.mapPos(i.startState.doc.line(r.line).from),l=i.state.doc.lineAt(a);r={line:l.number,col:r.col,off:Math.min(r.off,l.length)},n=n.map(i.changes)}},get(i,a,l){let o=SD(t,i);if(!o)return n;let u=Uce(t.state,r,o);return u.length?l?ue.create(u.concat(n.ranges)):ue.create(u):n}}:null}function $ce(t){let e=(r=>r.altKey&&r.button==0);return ge.mouseSelectionStyle.of((r,n)=>e(n)?Hce(r,n):null)}const Vce={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},Fce={style:"cursor: crosshair"};function Wce(t={}){let[e,r]=Vce[t.key||"Alt"],n=Pt.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||r(i))},keyup(i){(i.keyCode==e||!r(i))&&this.set(!1)},mousemove(i){this.set(r(i))}}});return[n,ge.contentAttributes.of(i=>{var a;return!((a=i.plugin(n))===null||a===void 0)&&a.isDown?Fce:null})]}const km="-10000px";class _B{constructor(e,r,n,i){this.facet=r,this.createTooltipView=n,this.removeTooltipView=i,this.input=e.state.facet(r),this.tooltips=this.input.filter(l=>l);let a=null;this.tooltipViews=this.tooltips.map(l=>a=n(l,a))}update(e,r){var n;let i=e.state.facet(this.facet),a=i.filter(u=>u);if(i===this.input){for(let u of this.tooltipViews)u.update&&u.update(e);return!1}let l=[],o=r?[]:null;for(let u=0;u<a.length;u++){let h=a[u],m=-1;if(h){for(let p=0;p<this.tooltips.length;p++){let y=this.tooltips[p];y&&y.create==h.create&&(m=p)}if(m<0)l[u]=this.createTooltipView(h,u?l[u-1]:null),o&&(o[u]=!!h.above);else{let p=l[u]=this.tooltipViews[m];o&&(o[u]=r[m]),p.update&&p.update(e)}}}for(let u of this.tooltipViews)l.indexOf(u)<0&&(this.removeTooltipView(u),(n=u.destroy)===null||n===void 0||n.call(u));return r&&(o.forEach((u,h)=>r[h]=u),r.length=o.length),this.input=i,this.tooltips=a,this.tooltipViews=l,!0}}function Kce(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const i1=xe.define({combine:t=>{var e,r,n;return{position:ye.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((r=t.find(i=>i.parent))===null||r===void 0?void 0:r.parent)||null,tooltipSpace:((n=t.find(i=>i.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||Kce}}}),jD=new WeakMap,Fj=Pt.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(i1);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new _B(t,Wj,(r,n)=>this.createTooltip(r,n),r=>{this.resizeObserver&&this.resizeObserver.unobserve(r.dom),r.dom.remove()}),this.above=this.manager.tooltips.map(r=>!!r.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(r=>{Date.now()>this.lastTransaction-50&&r.length>0&&r[r.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let r=e||t.geometryChanged,n=t.state.facet(i1);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;r=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(t,e){let r=t.create(this.view),n=e?e.dom:null;if(r.dom.classList.add("cm-tooltip"),t.arrow&&!r.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",r.dom.appendChild(i)}return r.dom.style.position=this.position,r.dom.style.top=km,r.dom.style.left="0px",this.container.insertBefore(r.dom,n),r.mount&&r.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(r.dom),r}destroy(){var t,e,r;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(t=n.destroy)===null||t===void 0||t.call(n);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(r=this.intersectionObserver)===null||r===void 0||r.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:a}=this.manager.tooltipViews[0];if(ye.safari){let l=a.getBoundingClientRect();r=Math.abs(l.top+1e4)>1||Math.abs(l.left)>1}else r=!!a.offsetParent&&a.offsetParent!=this.container.ownerDocument.body}if(r||this.position=="absolute")if(this.parent){let a=this.parent.getBoundingClientRect();a.width&&a.height&&(t=a.width/this.parent.offsetWidth,e=a.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let n=this.view.scrollDOM.getBoundingClientRect(),i=qj(this.view);return{visible:{left:n.left+i.left,top:n.top+i.top,right:n.right-i.right,bottom:n.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((a,l)=>{let o=this.manager.tooltipViews[l];return o.getCoords?o.getCoords(a.pos):this.view.coordsAtPos(a.pos)}),size:this.manager.tooltipViews.map(({dom:a})=>a.getBoundingClientRect()),space:this.view.state.facet(i1).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:r}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let o of this.manager.tooltipViews)o.dom.style.position="absolute"}let{visible:r,space:n,scaleX:i,scaleY:a}=t,l=[];for(let o=0;o<this.manager.tooltips.length;o++){let u=this.manager.tooltips[o],h=this.manager.tooltipViews[o],{dom:m}=h,p=t.pos[o],y=t.size[o];if(!p||u.clip!==!1&&(p.bottom<=Math.max(r.top,n.top)||p.top>=Math.min(r.bottom,n.bottom)||p.right<Math.max(r.left,n.left)-.1||p.left>Math.min(r.right,n.right)+.1)){m.style.top=km;continue}let x=u.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,b=x?7:0,N=y.right-y.left,j=(e=jD.get(h))!==null&&e!==void 0?e:y.bottom-y.top,C=h.offset||Yce,A=this.view.textDirection==ct.LTR,k=y.width>n.right-n.left?A?n.left:n.right-y.width:A?Math.max(n.left,Math.min(p.left-(x?14:0)+C.x,n.right-N)):Math.min(Math.max(n.left,p.left-N+(x?14:0)-C.x),n.right-N),T=this.above[o];!u.strictSide&&(T?p.top-j-b-C.y<n.top:p.bottom+j+b+C.y>n.bottom)&&T==n.bottom-p.bottom>p.top-n.top&&(T=this.above[o]=!T);let D=(T?p.top-n.top:n.bottom-p.bottom)-b;if(D<j&&h.resize!==!1){if(D<this.view.defaultLineHeight){m.style.top=km;continue}jD.set(h,j),m.style.height=(j=D)/a+"px"}else m.style.height&&(m.style.height="");let M=T?p.top-j-b-C.y:p.bottom+b+C.y,E=k+N;if(h.overlap!==!0)for(let _ of l)_.left<E&&_.right>k&&_.top<M+j&&_.bottom>M&&(M=T?_.top-j-2-b:_.bottom+b+2);if(this.position=="absolute"?(m.style.top=(M-t.parent.top)/a+"px",ND(m,(k-t.parent.left)/i)):(m.style.top=M/a+"px",ND(m,k/i)),x){let _=p.left+(A?C.x:-C.x)-(k+14-7);x.style.left=_/i+"px"}h.overlap!==!0&&l.push({left:k,top:M,right:E,bottom:M+j}),m.classList.toggle("cm-tooltip-above",T),m.classList.toggle("cm-tooltip-below",!T),h.positioned&&h.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=km}},{eventObservers:{scroll(){this.maybeMeasure()}}});function ND(t,e){let r=parseInt(t.style.left,10);(isNaN(r)||Math.abs(e-r)>1)&&(t.style.left=e+"px")}const Gce=ge.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Yce={x:0,y:0},Wj=xe.define({enables:[Fj,Gce]}),fg=xe.define({combine:t=>t.reduce((e,r)=>e.concat(r),[])});class R0{static create(e){return new R0(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new _B(e,fg,(r,n)=>this.createHostedView(r,n),r=>r.dom.remove())}createHostedView(e,r){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,r?r.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let r of this.manager.tooltipViews)r.mount&&r.mount(e);this.mounted=!0}positioned(e){for(let r of this.manager.tooltipViews)r.positioned&&r.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let r of this.manager.tooltipViews)(e=r.destroy)===null||e===void 0||e.call(r)}passProp(e){let r;for(let n of this.manager.tooltipViews){let i=n[e];if(i!==void 0){if(r===void 0)r=i;else if(r!==i)return}}return r}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Qce=Wj.compute([fg],t=>{let e=t.facet(fg);return e.length===0?null:{pos:Math.min(...e.map(r=>r.pos)),end:Math.max(...e.map(r=>{var n;return(n=r.end)!==null&&n!==void 0?n:r.pos})),create:R0.create,above:e[0].above,arrow:e.some(r=>r.arrow)}});class Xce{constructor(e,r,n,i,a){this.view=e,this.source=r,this.field=n,this.setHover=i,this.hoverTime=a,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:r}=this,n=e.docView.tile.nearest(r.target);if(!n)return;let i,a=1;if(n.isWidget())i=n.posAtStart;else{if(i=e.posAtCoords(r),i==null)return;let o=e.coordsAtPos(i);if(!o||r.y<o.top||r.y>o.bottom||r.x<o.left-e.defaultCharacterWidth||r.x>o.right+e.defaultCharacterWidth)return;let u=e.bidiSpans(e.state.doc.lineAt(i)).find(m=>m.from<=i&&m.to>=i),h=u&&u.dir==ct.RTL?-1:1;a=r.x<o.left?-h:h}let l=this.source(e,i,a);if(l?.then){let o=this.pending={pos:i};l.then(u=>{this.pending==o&&(this.pending=null,u&&!(Array.isArray(u)&&!u.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(u)?u:[u])}))},u=>Zr(e.state,u,"hover tooltip"))}else l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])})}get tooltip(){let e=this.view.plugin(Fj),r=e?e.manager.tooltips.findIndex(n=>n.create==R0.create):-1;return r>-1?e.manager.tooltipViews[r]:null}mousemove(e){var r,n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:a}=this;if(i.length&&a&&!Zce(a.dom,e)||this.pending){let{pos:l}=i[0]||this.pending,o=(n=(r=i[0])===null||r===void 0?void 0:r.end)!==null&&n!==void 0?n:l;(l==o?this.view.posAtCoords(this.lastMove)!=l:!Jce(this.view,l,o,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:r}=this;if(r.length){let{tooltip:n}=this;n&&n.dom.contains(e.relatedTarget)?this.watchTooltipLeave(n.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let r=n=>{e.removeEventListener("mouseleave",r),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",r)}destroy(){clearTimeout(this.hoverTimeout),clearTimeout(this.restartTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Om=4;function Zce(t,e){let{left:r,right:n,top:i,bottom:a}=t.getBoundingClientRect(),l;if(l=t.querySelector(".cm-tooltip-arrow")){let o=l.getBoundingClientRect();i=Math.min(o.top,i),a=Math.max(o.bottom,a)}return e.clientX>=r-Om&&e.clientX<=n+Om&&e.clientY>=i-Om&&e.clientY<=a+Om}function Jce(t,e,r,n,i,a){let l=t.scrollDOM.getBoundingClientRect(),o=t.documentTop+t.documentPadding.top+t.contentHeight;if(l.left>n||l.right<n||l.top>i||Math.min(l.bottom,o)<i)return!1;let u=t.posAtCoords({x:n,y:i},!1);return u>=e&&u<=r}function eue(t,e={}){let r=Pe.define(),n=jr.define({create(){return[]},update(i,a){if(i.length&&(e.hideOnChange&&(a.docChanged||a.selection)?i=[]:e.hideOn&&(i=i.filter(l=>!e.hideOn(a,l))),a.docChanged)){let l=[];for(let o of i){let u=a.changes.mapPos(o.pos,-1,Dr.TrackDel);if(u!=null){let h=Object.assign(Object.create(null),o);h.pos=u,h.end!=null&&(h.end=a.changes.mapPos(h.end)),l.push(h)}}i=l}for(let l of a.effects)l.is(r)&&(i=l.value),l.is(tue)&&(i=[]);return i},provide:i=>fg.from(i)});return{active:n,extension:[n,Pt.define(i=>new Xce(i,t,n,r,e.hoverTime||300)),Qce]}}function PB(t,e){let r=t.plugin(Fj);if(!r)return null;let n=r.manager.tooltips.indexOf(e);return n<0?null:r.manager.tooltipViews[n]}const tue=Pe.define(),CD=xe.define({combine(t){let e,r;for(let n of t)e=e||n.topContainer,r=r||n.bottomContainer;return{topContainer:e,bottomContainer:r}}});function Kj(t,e){let r=t.plugin(RB),n=r?r.specs.indexOf(e):-1;return n>-1?r.panels[n]:null}const RB=Pt.fromClass(class{constructor(t){this.input=t.state.facet(Jf),this.specs=this.input.filter(r=>r),this.panels=this.specs.map(r=>r(t));let e=t.state.facet(CD);this.top=new Am(t,!0,e.topContainer),this.bottom=new Am(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(r=>r.top)),this.bottom.sync(this.panels.filter(r=>!r.top));for(let r of this.panels)r.dom.classList.add("cm-panel"),r.mount&&r.mount()}update(t){let e=t.state.facet(CD);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Am(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Am(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=t.state.facet(Jf);if(r!=this.input){let n=r.filter(u=>u),i=[],a=[],l=[],o=[];for(let u of n){let h=this.specs.indexOf(u),m;h<0?(m=u(t.view),o.push(m)):(m=this.panels[h],m.update&&m.update(t)),i.push(m),(m.top?a:l).push(m)}this.specs=n,this.panels=i,this.top.sync(a),this.bottom.sync(l);for(let u of o)u.dom.classList.add("cm-panel"),u.mount&&u.mount()}else for(let n of this.panels)n.update&&n.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>ge.scrollMargins.of(e=>{let r=e.plugin(t);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}})});class Am{constructor(e,r,n){this.view=e,this.top=r,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let r of this.panels)r.destroy&&e.indexOf(r)<0&&r.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let r=this.container||this.view.dom;r.insertBefore(this.dom,this.top?r.firstChild:null)}let e=this.dom.firstChild;for(let r of this.panels)if(r.dom.parentNode==this.dom){for(;e!=r.dom;)e=kD(e);e=e.nextSibling}else this.dom.insertBefore(r.dom,e);for(;e;)e=kD(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function kD(t){let e=t.nextSibling;return t.remove(),e}const Jf=xe.define({enables:RB});function rue(t,e){let r,n=new Promise(l=>r=l),i=l=>nue(l,e,r);t.state.field(a1,!1)?t.dispatch({effects:LB.of(i)}):t.dispatch({effects:Pe.appendConfig.of(a1.init(()=>[i]))});let a=BB.of(i);return{close:a,result:n.then(l=>((t.win.queueMicrotask||(u=>t.win.setTimeout(u,10)))(()=>{t.state.field(a1).indexOf(i)>-1&&t.dispatch({effects:a})}),l))}}const a1=jr.define({create(){return[]},update(t,e){for(let r of e.effects)r.is(LB)?t=[r.value].concat(t):r.is(BB)&&(t=t.filter(n=>n!=r.value));return t},provide:t=>Jf.computeN([t],e=>e.field(t))}),LB=Pe.define(),BB=Pe.define();function nue(t,e,r){let n=e.content?e.content(t,()=>l(null)):null;if(!n){if(n=it("form"),e.input){let o=it("input",e.input);/^(text|password|number|email|tel|url)$/.test(o.type)&&o.classList.add("cm-textfield"),o.name||(o.name="input"),n.appendChild(it("label",(e.label||"")+": ",o))}else n.appendChild(document.createTextNode(e.label||""));n.appendChild(document.createTextNode(" ")),n.appendChild(it("button",{class:"cm-button",type:"submit"},e.submitLabel||"OK"))}let i=n.nodeName=="FORM"?[n]:n.querySelectorAll("form");for(let o=0;o<i.length;o++){let u=i[o];u.addEventListener("keydown",h=>{h.keyCode==27?(h.preventDefault(),l(null)):h.keyCode==13&&(h.preventDefault(),l(u))}),u.addEventListener("submit",h=>{h.preventDefault(),l(u)})}let a=it("div",n,it("button",{onclick:()=>l(null),"aria-label":t.state.phrase("close"),class:"cm-dialog-close",type:"button"},[""]));e.class&&(a.className=e.class),a.classList.add("cm-dialog");function l(o){a.contains(a.ownerDocument.activeElement)&&t.focus(),r(o)}return{dom:a,top:e.top,mount:()=>{if(e.focus){let o;typeof e.focus=="string"?o=n.querySelector(e.focus):o=n.querySelector("input")||n.querySelector("button"),o&&"select"in o?o.select():o&&"focus"in o&&o.focus()}}}}class Da extends _s{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Da.prototype.elementClass="";Da.prototype.toDOM=void 0;Da.prototype.mapMode=Dr.TrackBefore;Da.prototype.startSide=Da.prototype.endSide=-1;Da.prototype.point=!0;const Jm=xe.define(),iue=xe.define(),aue={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Ue.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},Sf=xe.define();function sue(t){return[zB(),Sf.of({...aue,...t})]}const OD=xe.define({combine:t=>t.some(e=>e)});function zB(t){return[lue]}const lue=Pt.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Sf).map(e=>new ED(t,e)),this.fixed=!t.state.facet(OD);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,r=t.view.viewport,n=Math.min(e.to,r.to)-Math.max(e.from,r.from);this.syncGutters(n<(r.to-r.from)*.8)}if(t.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(OD)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let r=Ue.iter(this.view.state.facet(Jm),this.view.viewport.from),n=[],i=this.gutters.map(a=>new oue(a,this.view.viewport,-this.view.documentPadding.top));for(let a of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(a.type)){let l=!0;for(let o of a.type)if(o.type==br.Text&&l){vS(r,n,o.from);for(let u of i)u.line(this.view,o,n);l=!1}else if(o.widget)for(let u of i)u.widget(this.view,o)}else if(a.type==br.Text){vS(r,n,a.from);for(let l of i)l.line(this.view,a,n)}else if(a.widget)for(let l of i)l.widget(this.view,a);for(let a of i)a.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet(Sf),r=t.state.facet(Sf),n=t.docChanged||t.heightChanged||t.viewportChanged||!Ue.eq(t.startState.facet(Jm),t.state.facet(Jm),t.view.viewport.from,t.view.viewport.to);if(e==r)for(let i of this.gutters)i.update(t)&&(n=!0);else{n=!0;let i=[];for(let a of r){let l=e.indexOf(a);l<0?i.push(new ED(this.view,a)):(this.gutters[l].update(t),i.push(this.gutters[l]))}for(let a of this.gutters)a.dom.remove(),i.indexOf(a)<0&&a.destroy();for(let a of i)a.config.side=="after"?this.getDOMAfter().appendChild(a.dom):this.dom.appendChild(a.dom);this.gutters=i}return n}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>ge.scrollMargins.of(e=>{let r=e.plugin(t);if(!r||r.gutters.length==0||!r.fixed)return null;let n=r.dom.offsetWidth*e.scaleX,i=r.domAfter?r.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==ct.LTR?{left:n,right:i}:{right:n,left:i}})});function AD(t){return Array.isArray(t)?t:[t]}function vS(t,e,r){for(;t.value&&t.from<=r;)t.from==r&&e.push(t.value),t.next()}class oue{constructor(e,r,n){this.gutter=e,this.height=n,this.i=0,this.cursor=Ue.iter(e.markers,r.from)}addElement(e,r,n){let{gutter:i}=this,a=(r.top-this.height)/e.scaleY,l=r.height/e.scaleY;if(this.i==i.elements.length){let o=new IB(e,l,a,n);i.elements.push(o),i.dom.appendChild(o.dom)}else i.elements[this.i].update(e,l,a,n);this.height=r.bottom,this.i++}line(e,r,n){let i=[];vS(this.cursor,i,r.from),n.length&&(i=i.concat(n));let a=this.gutter.config.lineMarker(e,r,i);a&&i.unshift(a);let l=this.gutter;i.length==0&&!l.config.renderEmptyElements||this.addElement(e,r,i)}widget(e,r){let n=this.gutter.config.widgetMarker(e,r.widget,r),i=n?[n]:null;for(let a of e.state.facet(iue)){let l=a(e,r.widget,r);l&&(i||(i=[])).push(l)}i&&this.addElement(e,r,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let r=e.elements.pop();e.dom.removeChild(r.dom),r.destroy()}}}class ED{constructor(e,r){this.view=e,this.config=r,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in r.domEventHandlers)this.dom.addEventListener(n,i=>{let a=i.target,l;if(a!=this.dom&&this.dom.contains(a)){for(;a.parentNode!=this.dom;)a=a.parentNode;let u=a.getBoundingClientRect();l=(u.top+u.bottom)/2}else l=i.clientY;let o=e.lineBlockAtHeight(l-e.documentTop);r.domEventHandlers[n](e,o,i)&&i.preventDefault()});this.markers=AD(r.markers(e)),r.initialSpacer&&(this.spacer=new IB(e,0,0,[r.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let r=this.markers;if(this.markers=AD(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let n=e.view.viewport;return!Ue.eq(this.markers,r,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class IB{constructor(e,r,n,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,r,n,i)}update(e,r,n,i){this.height!=r&&(this.height=r,this.dom.style.height=r+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),cue(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,r){let n="cm-gutterElement",i=this.dom.firstChild;for(let a=0,l=0;;){let o=l,u=a<r.length?r[a++]:null,h=!1;if(u){let m=u.elementClass;m&&(n+=" "+m);for(let p=l;p<this.markers.length;p++)if(this.markers[p].compare(u)){o=p,h=!0;break}}else o=this.markers.length;for(;l<o;){let m=this.markers[l++];if(m.toDOM){m.destroy(i);let p=i.nextSibling;i.remove(),i=p}}if(!u)break;u.toDOM&&(h?i=i.nextSibling:this.dom.insertBefore(u.toDOM(e),i)),h&&l++}this.dom.className=n,this.markers=r}destroy(){this.setMarkers(null,[])}}function cue(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].compare(e[r]))return!1;return!0}const uue=xe.define(),fue=xe.define(),Zo=xe.define({combine(t){return Wi(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,r){let n=Object.assign({},e);for(let i in r){let a=n[i],l=r[i];n[i]=a?(o,u,h)=>a(o,u,h)||l(o,u,h):l}return n}})}});class s1 extends Da{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function l1(t,e){return t.state.facet(Zo).formatNumber(e,t.state)}const due=Sf.compute([Zo],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(uue)},lineMarker(e,r,n){return n.some(i=>i.toDOM)?null:new s1(l1(e,e.state.doc.lineAt(r.from).number))},widgetMarker:(e,r,n)=>{for(let i of e.state.facet(fue)){let a=i(e,r,n);if(a)return a}return null},lineMarkerChange:e=>e.startState.facet(Zo)!=e.state.facet(Zo),initialSpacer(e){return new s1(l1(e,TD(e.state.doc.lines)))},updateSpacer(e,r){let n=l1(r.view,TD(r.view.state.doc.lines));return n==e.number?e:new s1(n)},domEventHandlers:t.facet(Zo).domEventHandlers,side:"before"}));function hue(t={}){return[Zo.of(t),zB(),due]}function TD(t){let e=9;for(;e<t;)e=e*10+9;return e}const mue=new class extends Da{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},pue=Jm.compute(["selection"],t=>{let e=[],r=-1;for(let n of t.selection.ranges){let i=t.doc.lineAt(n.head).from;i>r&&(r=i,e.push(mue.range(i)))}return Ue.of(e)});function gue(){return pue}const UB=1024;let yue=0;class o1{constructor(e,r){this.from=e,this.to=r}}class Be{constructor(e={}){this.id=yue++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=tn.match(e)),r=>{let n=e(r);return n===void 0?null:[this,n]}}}Be.closedBy=new Be({deserialize:t=>t.split(" ")});Be.openedBy=new Be({deserialize:t=>t.split(" ")});Be.group=new Be({deserialize:t=>t.split(" ")});Be.isolate=new Be({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});Be.contextHash=new Be({perNode:!0});Be.lookAhead=new Be({perNode:!0});Be.mounted=new Be({perNode:!0});class jf{constructor(e,r,n,i=!1){this.tree=e,this.overlay=r,this.parser=n,this.bracketed=i}static get(e){return e&&e.props&&e.props[Be.mounted.id]}}const xue=Object.create(null);class tn{constructor(e,r,n,i=0){this.name=e,this.props=r,this.id=n,this.flags=i}static define(e){let r=e.props&&e.props.length?Object.create(null):xue,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new tn(e.name||"",r,e.id,n);if(e.props){for(let a of e.props)if(Array.isArray(a)||(a=a(i)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");r[a[0].id]=a[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let r=this.prop(Be.group);return r?r.indexOf(e)>-1:!1}return this.id==e}static match(e){let r=Object.create(null);for(let n in e)for(let i of n.split(" "))r[i]=e[n];return n=>{for(let i=n.prop(Be.group),a=-1;a<(i?i.length:0);a++){let l=r[a<0?n.name:i[a]];if(l)return l}}}}tn.none=new tn("",Object.create(null),0,8);class Gj{constructor(e){this.types=e;for(let r=0;r<e.length;r++)if(e[r].id!=r)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let r=[];for(let n of this.types){let i=null;for(let a of e){let l=a(n);if(l){i||(i=Object.assign({},n.props));let o=l[1],u=l[0];u.combine&&u.id in i&&(o=u.combine(i[u.id],o)),i[u.id]=o}}r.push(i?new tn(n.name,i,n.id,n.flags):n)}return new Gj(r)}}const Em=new WeakMap,MD=new WeakMap;var At;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays",t[t.EnterBracketed=16]="EnterBracketed"})(At||(At={}));class _t{constructor(e,r,n,i,a){if(this.type=e,this.children=r,this.positions=n,this.length=i,this.props=null,a&&a.length){this.props=Object.create(null);for(let[l,o]of a)this.props[typeof l=="number"?l:l.id]=o}}toString(){let e=jf.get(this);if(e&&!e.overlay)return e.tree.toString();let r="";for(let n of this.children){let i=n.toString();i&&(r&&(r+=","),r+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}cursor(e=0){return new wS(this.topNode,e)}cursorAt(e,r=0,n=0){let i=Em.get(this)||this.topNode,a=new wS(i);return a.moveTo(e,r),Em.set(this,a._tree),a}get topNode(){return new Gn(this,0,0,null)}resolve(e,r=0){let n=ed(Em.get(this)||this.topNode,e,r,!1);return Em.set(this,n),n}resolveInner(e,r=0){let n=ed(MD.get(this)||this.topNode,e,r,!0);return MD.set(this,n),n}resolveStack(e,r=0){return wue(this,e,r)}iterate(e){let{enter:r,leave:n,from:i=0,to:a=this.length}=e,l=e.mode||0,o=(l&At.IncludeAnonymous)>0;for(let u=this.cursor(l|At.IncludeAnonymous);;){let h=!1;if(u.from<=a&&u.to>=i&&(!o&&u.type.isAnonymous||r(u)!==!1)){if(u.firstChild())continue;h=!0}for(;h&&n&&(o||!u.type.isAnonymous)&&n(u),!u.nextSibling();){if(!u.parent())return;h=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let r in this.props)e.push([+r,this.props[r]]);return e}balance(e={}){return this.children.length<=8?this:Xj(tn.none,this.children,this.positions,0,this.children.length,0,this.length,(r,n,i)=>new _t(this.type,r,n,i,this.propValues),e.makeTree||((r,n,i)=>new _t(tn.none,r,n,i)))}static build(e){return Sue(e)}}_t.empty=new _t(tn.none,[],[],0);class Yj{constructor(e,r){this.buffer=e,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Yj(this.buffer,this.index)}}class Bs{constructor(e,r,n){this.buffer=e,this.length=r,this.set=n}get type(){return tn.none}toString(){let e=[];for(let r=0;r<this.buffer.length;)e.push(this.childString(r)),r=this.buffer[r+3];return e.join(",")}childString(e){let r=this.buffer[e],n=this.buffer[e+3],i=this.set.types[r],a=i.name;if(/\W/.test(a)&&!i.isError&&(a=JSON.stringify(a)),e+=4,n==e)return a;let l=[];for(;e<n;)l.push(this.childString(e)),e=this.buffer[e+3];return a+"("+l.join(",")+")"}findChild(e,r,n,i,a){let{buffer:l}=this,o=-1;for(let u=e;u!=r&&!(qB(a,i,l[u+1],l[u+2])&&(o=u,n>0));u=l[u+3]);return o}slice(e,r,n){let i=this.buffer,a=new Uint16Array(r-e),l=0;for(let o=e,u=0;o<r;){a[u++]=i[o++],a[u++]=i[o++]-n;let h=a[u++]=i[o++]-n;a[u++]=i[o++]-e,l=Math.max(l,h)}return new Bs(a,l,this.set)}}function qB(t,e,r,n){switch(t){case-2:return r<e;case-1:return n>=e&&r<e;case 0:return r<e&&n>e;case 1:return r<=e&&n>e;case 2:return n>e;case 4:return!0}}function ed(t,e,r,n){for(var i;t.from==t.to||(r<1?t.from>=e:t.from>e)||(r>-1?t.to<=e:t.to<e);){let l=!n&&t instanceof Gn&&t.index<0?null:t.parent;if(!l)return t;t=l}let a=n?0:At.IgnoreOverlays;if(n)for(let l=t,o=l.parent;o;l=o,o=l.parent)l instanceof Gn&&l.index<0&&((i=o.enter(e,r,a))===null||i===void 0?void 0:i.from)!=l.from&&(t=o);for(;;){let l=t.enter(e,r,a);if(!l)return t;t=l}}class HB{cursor(e=0){return new wS(this,e)}getChild(e,r=null,n=null){let i=DD(this,e,r,n);return i.length?i[0]:null}getChildren(e,r=null,n=null){return DD(this,e,r,n)}resolve(e,r=0){return ed(this,e,r,!1)}resolveInner(e,r=0){return ed(this,e,r,!0)}matchContext(e){return bS(this.parent,e)}enterUnfinishedNodesBefore(e){let r=this.childBefore(e),n=this;for(;r;){let i=r.lastChild;if(!i||i.to!=r.to)break;i.type.isError&&i.from==i.to?(n=r,r=i.prevSibling):r=i}return n}get node(){return this}get next(){return this.parent}}class Gn extends HB{constructor(e,r,n,i){super(),this._tree=e,this.from=r,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,r,n,i,a=0){for(let l=this;;){for(let{children:o,positions:u}=l._tree,h=r>0?o.length:-1;e!=h;e+=r){let m=o[e],p=u[e]+l.from,y;if(!(!(a&At.EnterBracketed&&m instanceof _t&&(y=jf.get(m))&&!y.overlay&&y.bracketed&&n>=p&&n<=p+m.length)&&!qB(i,n,p,p+m.length))){if(m instanceof Bs){if(a&At.ExcludeBuffers)continue;let x=m.findChild(0,m.buffer.length,r,n-p,i);if(x>-1)return new js(new vue(l,m,e,p),null,x)}else if(a&At.IncludeAnonymous||!m.type.isAnonymous||Qj(m)){let x;if(!(a&At.IgnoreMounts)&&(x=jf.get(m))&&!x.overlay)return new Gn(x.tree,p,e,l);let b=new Gn(m,p,e,l);return a&At.IncludeAnonymous||!b.type.isAnonymous?b:b.nextChild(r<0?m.children.length-1:0,r,n,i,a)}}}if(a&At.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?e=l.index+r:e=r<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,r,n=0){let i;if(!(n&At.IgnoreOverlays)&&(i=jf.get(this._tree))&&i.overlay){let a=e-this.from,l=n&At.EnterBracketed&&i.bracketed;for(let{from:o,to:u}of i.overlay)if((r>0||l?o<=a:o<a)&&(r<0||l?u>=a:u>a))return new Gn(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,r,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function DD(t,e,r,n){let i=t.cursor(),a=[];if(!i.firstChild())return a;if(r!=null){for(let l=!1;!l;)if(l=i.type.is(r),!i.nextSibling())return a}for(;;){if(n!=null&&i.type.is(n))return a;if(i.type.is(e)&&a.push(i.node),!i.nextSibling())return n==null?a:[]}}function bS(t,e,r=e.length-1){for(let n=t;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[r]&&e[r]!=n.name)return!1;r--}}return!0}class vue{constructor(e,r,n,i){this.parent=e,this.buffer=r,this.index=n,this.start=i}}class js extends HB{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,r,n){super(),this.context=e,this._parent=r,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,r,n){let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],e,r-this.context.start,n);return a<0?null:new js(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,r,n=0){if(n&At.ExcludeBuffers)return null;let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],r>0?1:-1,e-this.context.start,r);return a<0?null:new js(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,r=e.buffer[this.index+3];return r<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new js(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new js(this.context,this._parent,e.findChild(r,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],r=[],{buffer:n}=this.context,i=this.index+4,a=n.buffer[this.index+3];if(a>i){let l=n.buffer[this.index+1];e.push(n.slice(i,a,l)),r.push(0)}return new _t(this.type,e,r,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function $B(t){if(!t.length)return null;let e=0,r=t[0];for(let a=1;a<t.length;a++){let l=t[a];(l.from>r.from||l.to<r.to)&&(r=l,e=a)}let n=r instanceof Gn&&r.index<0?null:r.parent,i=t.slice();return n?i[e]=n:i.splice(e,1),new bue(i,r)}class bue{constructor(e,r){this.heads=e,this.node=r}get next(){return $B(this.heads)}}function wue(t,e,r){let n=t.resolveInner(e,r),i=null;for(let a=n instanceof Gn?n:n.context.parent;a;a=a.parent)if(a.index<0){let l=a.parent;(i||(i=[n])).push(l.resolve(e,r)),a=l}else{let l=jf.get(a.tree);if(l&&l.overlay&&l.overlay[0].from<=e&&l.overlay[l.overlay.length-1].to>=e){let o=new Gn(l.tree,l.overlay[0].from+a.from,-1,a);(i||(i=[n])).push(ed(o,e,r,!1))}}return i?$B(i):n}class wS{get name(){return this.type.name}constructor(e,r=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=r&~At.EnterBracketed,e instanceof Gn)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,r){this.index=e;let{start:n,buffer:i}=this.buffer;return this.type=r||i.set.types[i.buffer[e]],this.from=n+i.buffer[e+1],this.to=n+i.buffer[e+2],!0}yield(e){return e?e instanceof Gn?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,r,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,r,n,this.mode));let{buffer:i}=this.buffer,a=i.findChild(this.index+4,i.buffer[this.index+3],e,r-this.buffer.start,n);return a<0?!1:(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,r,n=this.mode){return this.buffer?n&At.ExcludeBuffers?!1:this.enterChild(1,e,r):this.yield(this._tree.enter(e,r,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&At.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&At.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:r}=this.buffer,n=this.stack.length-1;if(e<0){let i=n<0?0:this.stack[n]+4;if(this.index!=i)return this.yieldBuf(r.findChild(i,this.index,-1,0,4))}else{let i=r.buffer[this.index+3];if(i<(n<0?r.buffer.length:r.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let r,n,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(i.buffer.buffer[a+3]<this.index)return!1;({index:r,parent:n}=i)}else({index:r,_parent:n}=this._tree);for(;n;{index:r,_parent:n}=n)if(r>-1)for(let a=r+e,l=e<0?-1:n._tree.children.length;a!=l;a+=e){let o=n._tree.children[a];if(this.mode&At.IncludeAnonymous||o instanceof Bs||!o.type.isAnonymous||Qj(o))return!1}return!0}move(e,r){if(r&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,r=0){for(;(this.from==this.to||(r<1?this.from>=e:this.from>e)||(r>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,r););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,r=null,n=0;if(e&&e.context==this.buffer)e:for(let i=this.index,a=this.stack.length;a>=0;){for(let l=e;l;l=l._parent)if(l.index==i){if(i==this.index)return l;r=l,n=a+1;break e}i=this.stack[--a]}for(let i=n;i<this.stack.length;i++)r=new js(this.buffer,r,this.stack[i]);return this.bufferNode=new js(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,r){for(let n=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&r&&r(this),i=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,i=!0}}}matchContext(e){if(!this.buffer)return bS(this.node.parent,e);let{buffer:r}=this.buffer,{types:n}=r.set;for(let i=e.length-1,a=this.stack.length-1;i>=0;a--){if(a<0)return bS(this._tree,e,i);let l=n[r.buffer[this.stack[a]]];if(!l.isAnonymous){if(e[i]&&e[i]!=l.name)return!1;i--}}return!0}}function Qj(t){return t.children.some(e=>e instanceof Bs||!e.type.isAnonymous||Qj(e))}function Sue(t){var e;let{buffer:r,nodeSet:n,maxBufferLength:i=UB,reused:a=[],minRepeatType:l=n.types.length}=t,o=Array.isArray(r)?new Yj(r,r.length):r,u=n.types,h=0,m=0;function p(D,M,E,_,L,I){let{id:z,start:R,end:U,size:W}=o,$=m,H=h;if(W<0)if(o.next(),W==-1){let B=a[z];E.push(B),_.push(R-D);return}else if(W==-3){h=z;return}else if(W==-4){m=z;return}else throw new RangeError(`Unrecognized record size: ${W}`);let F=u[z],Q,se,de=R-D;if(U-R<=i&&(se=j(o.pos-M,L))){let B=new Uint16Array(se.size-se.skip),K=o.pos-se.size,oe=B.length;for(;o.pos>K;)oe=C(se.start,B,oe);Q=new Bs(B,U-se.start,n),de=se.start-D}else{let B=o.pos-W;o.next();let K=[],oe=[],J=z>=l?z:-1,he=0,Y=U;for(;o.pos>B;)J>=0&&o.id==J&&o.size>=0?(o.end<=Y-i&&(b(K,oe,R,he,o.end,Y,J,$,H),he=K.length,Y=o.end),o.next()):I>2500?y(R,B,K,oe):p(R,B,K,oe,J,I+1);if(J>=0&&he>0&&he<K.length&&b(K,oe,R,he,R,Y,J,$,H),K.reverse(),oe.reverse(),J>-1&&he>0){let me=x(F,H);Q=Xj(F,K,oe,0,K.length,0,U-R,me,me)}else Q=N(F,K,oe,U-R,$-U,H)}E.push(Q),_.push(de)}function y(D,M,E,_){let L=[],I=0,z=-1;for(;o.pos>M;){let{id:R,start:U,end:W,size:$}=o;if($>4)o.next();else{if(z>-1&&U<z)break;z<0&&(z=W-i),L.push(R,U,W),I++,o.next()}}if(I){let R=new Uint16Array(I*4),U=L[L.length-2];for(let W=L.length-3,$=0;W>=0;W-=3)R[$++]=L[W],R[$++]=L[W+1]-U,R[$++]=L[W+2]-U,R[$++]=$;E.push(new Bs(R,L[2]-U,n)),_.push(U-D)}}function x(D,M){return(E,_,L)=>{let I=0,z=E.length-1,R,U;if(z>=0&&(R=E[z])instanceof _t){if(!z&&R.type==D&&R.length==L)return R;(U=R.prop(Be.lookAhead))&&(I=_[z]+R.length+U)}return N(D,E,_,L,I,M)}}function b(D,M,E,_,L,I,z,R,U){let W=[],$=[];for(;D.length>_;)W.push(D.pop()),$.push(M.pop()+E-L);D.push(N(n.types[z],W,$,I-L,R-I,U)),M.push(L-E)}function N(D,M,E,_,L,I,z){if(I){let R=[Be.contextHash,I];z=z?[R].concat(z):[R]}if(L>25){let R=[Be.lookAhead,L];z=z?[R].concat(z):[R]}return new _t(D,M,E,_,z)}function j(D,M){let E=o.fork(),_=0,L=0,I=0,z=E.end-i,R={size:0,start:0,skip:0};e:for(let U=E.pos-D;E.pos>U;){let W=E.size;if(E.id==M&&W>=0){R.size=_,R.start=L,R.skip=I,I+=4,_+=4,E.next();continue}let $=E.pos-W;if(W<0||$<U||E.start<z)break;let H=E.id>=l?4:0,F=E.start;for(E.next();E.pos>$;){if(E.size<0)if(E.size==-3||E.size==-4)H+=4;else break e;else E.id>=l&&(H+=4);E.next()}L=F,_+=W,I+=H}return(M<0||_==D)&&(R.size=_,R.start=L,R.skip=I),R.size>4?R:void 0}function C(D,M,E){let{id:_,start:L,end:I,size:z}=o;if(o.next(),z>=0&&_<l){let R=E;if(z>4){let U=o.pos-(z-4);for(;o.pos>U;)E=C(D,M,E)}M[--E]=R,M[--E]=I-D,M[--E]=L-D,M[--E]=_}else z==-3?h=_:z==-4&&(m=_);return E}let A=[],k=[];for(;o.pos>0;)p(t.start||0,t.bufferStart||0,A,k,-1,0);let T=(e=t.length)!==null&&e!==void 0?e:A.length?k[0]+A[0].length:0;return new _t(u[t.topID],A.reverse(),k.reverse(),T)}const _D=new WeakMap;function ep(t,e){if(!t.isAnonymous||e instanceof Bs||e.type!=t)return 1;let r=_D.get(e);if(r==null){r=1;for(let n of e.children){if(n.type!=t||!(n instanceof _t)){r=1;break}r+=ep(t,n)}_D.set(e,r)}return r}function Xj(t,e,r,n,i,a,l,o,u){let h=0;for(let b=n;b<i;b++)h+=ep(t,e[b]);let m=Math.ceil(h*1.5/8),p=[],y=[];function x(b,N,j,C,A){for(let k=j;k<C;){let T=k,D=N[k],M=ep(t,b[k]);for(k++;k<C;k++){let E=ep(t,b[k]);if(M+E>=m)break;M+=E}if(k==T+1){if(M>m){let E=b[T];x(E.children,E.positions,0,E.children.length,N[T]+A);continue}p.push(b[T])}else{let E=N[k-1]+b[k-1].length-D;p.push(Xj(t,b,N,T,k,D,E,null,u))}y.push(D+A-a)}}return x(e,r,n,i,0),(o||u)(p,y,l)}class Dl{constructor(e,r,n,i,a=!1,l=!1){this.from=e,this.to=r,this.tree=n,this.offset=i,this.open=(a?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,r=[],n=!1){let i=[new Dl(0,e.length,e,0,!1,n)];for(let a of r)a.to>e.length&&i.push(a);return i}static applyChanges(e,r,n=128){if(!r.length)return e;let i=[],a=1,l=e.length?e[0]:null;for(let o=0,u=0,h=0;;o++){let m=o<r.length?r[o]:null,p=m?m.fromA:1e9;if(p-u>=n)for(;l&&l.from<p;){let y=l;if(u>=y.from||p<=y.to||h){let x=Math.max(y.from,u)-h,b=Math.min(y.to,p)-h;y=x>=b?null:new Dl(x,b,y.tree,y.offset+h,o>0,!!m)}if(y&&i.push(y),l.to>p)break;l=a<e.length?e[a++]:null}if(!m)break;u=m.toA,h=m.toA-m.toB}return i}}class VB{startParse(e,r,n){return typeof e=="string"&&(e=new jue(e)),n=n?n.length?n.map(i=>new o1(i.from,i.to)):[new o1(0,0)]:[new o1(0,e.length)],this.createParse(e,r||[],n)}parse(e,r,n){let i=this.startParse(e,r,n);for(;;){let a=i.advance();if(a)return a}}}class jue{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,r){return this.string.slice(e,r)}}new Be({perNode:!0});let Nue=0;class Hn{constructor(e,r,n,i){this.name=e,this.set=r,this.base=n,this.modified=i,this.id=Nue++}toString(){let{name:e}=this;for(let r of this.modified)r.name&&(e=`${r.name}(${e})`);return e}static define(e,r){let n=typeof e=="string"?e:"?";if(e instanceof Hn&&(r=e),r?.base)throw new Error("Can not derive from a modified tag");let i=new Hn(n,[],null,[]);if(i.set.push(i),r)for(let a of r.set)i.set.push(a);return i}static defineModifier(e){let r=new dg(e);return n=>n.modified.indexOf(r)>-1?n:dg.get(n.base||n,n.modified.concat(r).sort((i,a)=>i.id-a.id))}}let Cue=0;class dg{constructor(e){this.name=e,this.instances=[],this.id=Cue++}static get(e,r){if(!r.length)return e;let n=r[0].instances.find(o=>o.base==e&&kue(r,o.modified));if(n)return n;let i=[],a=new Hn(e.name,i,e,r);for(let o of r)o.instances.push(a);let l=Oue(r);for(let o of e.set)if(!o.modified.length)for(let u of l)i.push(dg.get(o,u));return a}}function kue(t,e){return t.length==e.length&&t.every((r,n)=>r==e[n])}function Oue(t){let e=[[]];for(let r=0;r<t.length;r++)for(let n=0,i=e.length;n<i;n++)e.push(e[n].concat(t[r]));return e.sort((r,n)=>n.length-r.length)}function FB(t){let e=Object.create(null);for(let r in t){let n=t[r];Array.isArray(n)||(n=[n]);for(let i of r.split(" "))if(i){let a=[],l=2,o=i;for(let p=0;;){if(o=="..."&&p>0&&p+3==i.length){l=1;break}let y=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!y)throw new RangeError("Invalid path: "+i);if(a.push(y[0]=="*"?"":y[0][0]=='"'?JSON.parse(y[0]):y[0]),p+=y[0].length,p==i.length)break;let x=i[p++];if(p==i.length&&x=="!"){l=0;break}if(x!="/")throw new RangeError("Invalid path: "+i);o=i.slice(p)}let u=a.length-1,h=a[u];if(!h)throw new RangeError("Invalid path: "+i);let m=new td(n,l,u>0?a.slice(0,u):null);e[h]=m.sort(e[h])}}return WB.add(e)}const WB=new Be({combine(t,e){let r,n,i;for(;t||e;){if(!t||e&&t.depth>=e.depth?(i=e,e=e.next):(i=t,t=t.next),r&&r.mode==i.mode&&!i.context&&!r.context)continue;let a=new td(i.tags,i.mode,i.context);r?r.next=a:n=a,r=a}return n}});class td{constructor(e,r,n,i){this.tags=e,this.mode=r,this.context=n,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}td.empty=new td([],2,null);function KB(t,e){let r=Object.create(null);for(let a of t)if(!Array.isArray(a.tag))r[a.tag.id]=a.class;else for(let l of a.tag)r[l.id]=a.class;let{scope:n,all:i=null}=e||{};return{style:a=>{let l=i;for(let o of a)for(let u of o.set){let h=r[u.id];if(h){l=l?l+" "+h:h;break}}return l},scope:n}}function Aue(t,e){let r=null;for(let n of t){let i=n.style(e);i&&(r=r?r+" "+i:i)}return r}function Eue(t,e,r,n=0,i=t.length){let a=new Tue(n,Array.isArray(e)?e:[e],r);a.highlightRange(t.cursor(),n,i,"",a.highlighters),a.flush(i)}class Tue{constructor(e,r,n){this.at=e,this.highlighters=r,this.span=n,this.class=""}startSpan(e,r){r!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=r)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,r,n,i,a){let{type:l,from:o,to:u}=e;if(o>=n||u<=r)return;l.isTop&&(a=this.highlighters.filter(x=>!x.scope||x.scope(l)));let h=i,m=Mue(e)||td.empty,p=Aue(a,m.tags);if(p&&(h&&(h+=" "),h+=p,m.mode==1&&(i+=(i?" ":"")+p)),this.startSpan(Math.max(r,o),h),m.opaque)return;let y=e.tree&&e.tree.prop(Be.mounted);if(y&&y.overlay){let x=e.node.enter(y.overlay[0].from+o,1),b=this.highlighters.filter(j=>!j.scope||j.scope(y.tree.type)),N=e.firstChild();for(let j=0,C=o;;j++){let A=j<y.overlay.length?y.overlay[j]:null,k=A?A.from+o:u,T=Math.max(r,C),D=Math.min(n,k);if(T<D&&N)for(;e.from<D&&(this.highlightRange(e,T,D,i,a),this.startSpan(Math.min(D,e.to),h),!(e.to>=k||!e.nextSibling())););if(!A||k>n)break;C=A.to+o,C>r&&(this.highlightRange(x.cursor(),Math.max(r,A.from+o),Math.min(n,C),"",b),this.startSpan(Math.min(n,C),h))}N&&e.parent()}else if(e.firstChild()){y&&(i="");do if(!(e.to<=r)){if(e.from>=n)break;this.highlightRange(e,r,n,i,a),this.startSpan(Math.min(n,e.to),h)}while(e.nextSibling());e.parent()}}}function Mue(t){let e=t.type.prop(WB);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const pe=Hn.define,Tm=pe(),ps=pe(),PD=pe(ps),RD=pe(ps),gs=pe(),Mm=pe(gs),c1=pe(gs),ki=pe(),dl=pe(ki),Ni=pe(),Ci=pe(),SS=pe(),rf=pe(SS),Dm=pe(),te={comment:Tm,lineComment:pe(Tm),blockComment:pe(Tm),docComment:pe(Tm),name:ps,variableName:pe(ps),typeName:PD,tagName:pe(PD),propertyName:RD,attributeName:pe(RD),className:pe(ps),labelName:pe(ps),namespace:pe(ps),macroName:pe(ps),literal:gs,string:Mm,docString:pe(Mm),character:pe(Mm),attributeValue:pe(Mm),number:c1,integer:pe(c1),float:pe(c1),bool:pe(gs),regexp:pe(gs),escape:pe(gs),color:pe(gs),url:pe(gs),keyword:Ni,self:pe(Ni),null:pe(Ni),atom:pe(Ni),unit:pe(Ni),modifier:pe(Ni),operatorKeyword:pe(Ni),controlKeyword:pe(Ni),definitionKeyword:pe(Ni),moduleKeyword:pe(Ni),operator:Ci,derefOperator:pe(Ci),arithmeticOperator:pe(Ci),logicOperator:pe(Ci),bitwiseOperator:pe(Ci),compareOperator:pe(Ci),updateOperator:pe(Ci),definitionOperator:pe(Ci),typeOperator:pe(Ci),controlOperator:pe(Ci),punctuation:SS,separator:pe(SS),bracket:rf,angleBracket:pe(rf),squareBracket:pe(rf),paren:pe(rf),brace:pe(rf),content:ki,heading:dl,heading1:pe(dl),heading2:pe(dl),heading3:pe(dl),heading4:pe(dl),heading5:pe(dl),heading6:pe(dl),contentSeparator:pe(ki),list:pe(ki),quote:pe(ki),emphasis:pe(ki),strong:pe(ki),link:pe(ki),monospace:pe(ki),strikethrough:pe(ki),inserted:pe(),deleted:pe(),changed:pe(),invalid:pe(),meta:Dm,documentMeta:pe(Dm),annotation:pe(Dm),processingInstruction:pe(Dm),definition:Hn.defineModifier("definition"),constant:Hn.defineModifier("constant"),function:Hn.defineModifier("function"),standard:Hn.defineModifier("standard"),local:Hn.defineModifier("local"),special:Hn.defineModifier("special")};for(let t in te){let e=te[t];e instanceof Hn&&(e.name=t)}KB([{tag:te.link,class:"tok-link"},{tag:te.heading,class:"tok-heading"},{tag:te.emphasis,class:"tok-emphasis"},{tag:te.strong,class:"tok-strong"},{tag:te.keyword,class:"tok-keyword"},{tag:te.atom,class:"tok-atom"},{tag:te.bool,class:"tok-bool"},{tag:te.url,class:"tok-url"},{tag:te.labelName,class:"tok-labelName"},{tag:te.inserted,class:"tok-inserted"},{tag:te.deleted,class:"tok-deleted"},{tag:te.literal,class:"tok-literal"},{tag:te.string,class:"tok-string"},{tag:te.number,class:"tok-number"},{tag:[te.regexp,te.escape,te.special(te.string)],class:"tok-string2"},{tag:te.variableName,class:"tok-variableName"},{tag:te.local(te.variableName),class:"tok-variableName tok-local"},{tag:te.definition(te.variableName),class:"tok-variableName tok-definition"},{tag:te.special(te.variableName),class:"tok-variableName2"},{tag:te.definition(te.propertyName),class:"tok-propertyName tok-definition"},{tag:te.typeName,class:"tok-typeName"},{tag:te.namespace,class:"tok-namespace"},{tag:te.className,class:"tok-className"},{tag:te.macroName,class:"tok-macroName"},{tag:te.propertyName,class:"tok-propertyName"},{tag:te.operator,class:"tok-operator"},{tag:te.comment,class:"tok-comment"},{tag:te.meta,class:"tok-meta"},{tag:te.invalid,class:"tok-invalid"},{tag:te.punctuation,class:"tok-punctuation"}]);var u1;const Jo=new Be;function Due(t){return xe.define({combine:t?e=>e.concat(t):void 0})}const _ue=new Be;class oi{constructor(e,r,n=[],i=""){this.data=e,this.name=i,Ve.prototype.hasOwnProperty("tree")||Object.defineProperty(Ve.prototype,"tree",{get(){return nr(this)}}),this.parser=r,this.extension=[zs.of(this),Ve.languageData.of((a,l,o)=>{let u=LD(a,l,o),h=u.type.prop(Jo);if(!h)return[];let m=a.facet(h),p=u.type.prop(_ue);if(p){let y=u.resolve(l-u.from,o);for(let x of p)if(x.test(y,a)){let b=a.facet(x.facet);return x.type=="replace"?b:b.concat(m)}}return m})].concat(n)}isActiveAt(e,r,n=-1){return LD(e,r,n).type.prop(Jo)==this.data}findRegions(e){let r=e.facet(zs);if(r?.data==this.data)return[{from:0,to:e.doc.length}];if(!r||!r.allowsNesting)return[];let n=[],i=(a,l)=>{if(a.prop(Jo)==this.data){n.push({from:l,to:l+a.length});return}let o=a.prop(Be.mounted);if(o){if(o.tree.prop(Jo)==this.data){if(o.overlay)for(let u of o.overlay)n.push({from:u.from+l,to:u.to+l});else n.push({from:l,to:l+a.length});return}else if(o.overlay){let u=n.length;if(i(o.tree,o.overlay[0].from+l),n.length>u)return}}for(let u=0;u<a.children.length;u++){let h=a.children[u];h instanceof _t&&i(h,a.positions[u]+l)}};return i(nr(e),0),n}get allowsNesting(){return!0}}oi.setState=Pe.define();function LD(t,e,r){let n=t.facet(zs),i=nr(t).topNode;if(!n||n.allowsNesting)for(let a=i;a;a=a.enter(e,r,At.ExcludeBuffers|At.EnterBracketed))a.type.isTop&&(i=a);return i}class hg extends oi{constructor(e,r,n){super(e,r,[],n),this.parser=r}static define(e){let r=Due(e.languageData);return new hg(r,e.parser.configure({props:[Jo.add(n=>n.isTop?r:void 0)]}),e.name)}configure(e,r){return new hg(this.data,this.parser.configure(e),r||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function nr(t){let e=t.field(oi.state,!1);return e?e.tree:_t.empty}class Pue{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,r){let n=this.cursorPos-this.string.length;return e<n||r>=this.cursorPos?this.doc.sliceString(e,r):this.string.slice(e-n,r-n)}}let nf=null;class mg{constructor(e,r,n=[],i,a,l,o,u){this.parser=e,this.state=r,this.fragments=n,this.tree=i,this.treeLen=a,this.viewport=l,this.skipped=o,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}static create(e,r,n){return new mg(e,r,[],_t.empty,0,n,[],null)}startParse(){return this.parser.startParse(new Pue(this.state.doc),this.fragments)}work(e,r){return r!=null&&r>=this.state.doc.length&&(r=void 0),this.tree!=_t.empty&&this.isDone(r??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),r!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&r<this.state.doc.length&&this.parse.stopAt(r);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Dl.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(r??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,r;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(r=this.parse.advance()););}),this.treeLen=e,this.tree=r,this.fragments=this.withoutTempSkipped(Dl.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let r=nf;nf=this;try{return e()}finally{nf=r}}withoutTempSkipped(e){for(let r;r=this.tempSkipped.pop();)e=BD(e,r.from,r.to);return e}changes(e,r){let{fragments:n,tree:i,treeLen:a,viewport:l,skipped:o}=this;if(this.takeTree(),!e.empty){let u=[];if(e.iterChangedRanges((h,m,p,y)=>u.push({fromA:h,toA:m,fromB:p,toB:y})),n=Dl.applyChanges(n,u),i=_t.empty,a=0,l={from:e.mapPos(l.from,-1),to:e.mapPos(l.to,1)},this.skipped.length){o=[];for(let h of this.skipped){let m=e.mapPos(h.from,1),p=e.mapPos(h.to,-1);m<p&&o.push({from:m,to:p})}}}return new mg(this.parser,r,n,i,a,l,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let r=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:i,to:a}=this.skipped[n];i<e.to&&a>e.from&&(this.fragments=BD(this.fragments,i,a),this.skipped.splice(n--,1))}return this.skipped.length>=r?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,r){this.skipped.push({from:e,to:r})}static getSkippingParser(e){return new class extends VB{createParse(r,n,i){let a=i[0].from,l=i[i.length-1].to;return{parsedPos:a,advance(){let u=nf;if(u){for(let h of i)u.tempSkipped.push(h);e&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,e]):e)}return this.parsedPos=l,new _t(tn.none,[],[],l-a)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let r=this.fragments;return this.treeLen>=e&&r.length&&r[0].from==0&&r[0].to>=e}static get(){return nf}}function BD(t,e,r){return Dl.applyChanges(t,[{fromA:e,toA:r,fromB:e,toB:r}])}class kc{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let r=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),r.viewport.to);return r.work(20,n)||r.takeTree(),new kc(r)}static init(e){let r=Math.min(3e3,e.doc.length),n=mg.create(e.facet(zs).parser,e,{from:0,to:r});return n.work(20,r)||n.takeTree(),new kc(n)}}oi.state=jr.define({create:kc.init,update(t,e){for(let r of e.effects)if(r.is(oi.setState))return r.value;return e.startState.facet(zs)!=e.state.facet(zs)?kc.init(e.state):t.apply(e)}});let GB=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(GB=t=>{let e=-1,r=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(r):cancelIdleCallback(e)});const f1=typeof navigator<"u"&&(!((u1=navigator.scheduling)===null||u1===void 0)&&u1.isInputPending)?()=>navigator.scheduling.isInputPending():null,Rue=Pt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let r=this.view.state.field(oi.state).context;(r.updateViewport(e.view.viewport)||this.view.viewport.to>r.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(r)}scheduleWork(){if(this.working)return;let{state:e}=this.view,r=e.field(oi.state);(r.tree!=r.context.tree||!r.context.isDone(e.doc.length))&&(this.working=GB(this.work))}work(e){this.working=null;let r=Date.now();if(this.chunkEnd<r&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=r+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,a=n.field(oi.state);if(a.tree==a.context.tree&&a.context.isDone(i+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,e&&!f1?Math.max(25,e.timeRemaining()-5):1e9),o=a.context.treeLen<i&&n.doc.length>i+1e3,u=a.context.work(()=>f1&&f1()||Date.now()>l,i+(o?0:1e5));this.chunkBudget-=Date.now()-r,(u||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:oi.setState.of(new kc(a.context))})),this.chunkBudget>0&&!(u&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(r=>Zr(this.view.state,r)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),zs=xe.define({combine(t){return t.length?t[0]:null},enables:t=>[oi.state,Rue,ge.contentAttributes.compute([t],e=>{let r=e.facet(t);return r&&r.name?{"data-language":r.name}:{}})]});class Lue{constructor(e,r=[]){this.language=e,this.support=r,this.extension=[e,r]}}const Bue=xe.define(),L0=xe.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(r=>r!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function pg(t){let e=t.facet(L0);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function rd(t,e){let r="",n=t.tabSize,i=t.facet(L0)[0];if(i=="	"){for(;e>=n;)r+="	",e-=n;i=" "}for(let a=0;a<e;a++)r+=i;return r}function Zj(t,e){t instanceof Ve&&(t=new B0(t));for(let n of t.state.facet(Bue)){let i=n(t,e);if(i!==void 0)return i}let r=nr(t.state);return r.length>=e?zue(t,r,e):null}class B0{constructor(e,r={}){this.state=e,this.options=r,this.unit=pg(e)}lineAt(e,r=1){let n=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:a}=this.options;return i!=null&&i>=n.from&&i<=n.to?a&&i==e?{text:"",from:e}:(r<0?i<e:i<=e)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}textAfterPos(e,r=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:i}=this.lineAt(e,r);return n.slice(e-i,Math.min(n.length,e+100-i))}column(e,r=1){let{text:n,from:i}=this.lineAt(e,r),a=this.countColumn(n,e-i),l=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return l>-1&&(a+=l-this.countColumn(n,n.search(/\S|$/))),a}countColumn(e,r=e.length){return Fc(e,this.state.tabSize,r)}lineIndent(e,r=1){let{text:n,from:i}=this.lineAt(e,r),a=this.options.overrideIndentation;if(a){let l=a(i);if(l>-1)return l}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const YB=new Be;function zue(t,e,r){let n=e.resolveStack(r),i=e.resolveInner(r,-1).resolve(r,0).enterUnfinishedNodesBefore(r);if(i!=n.node){let a=[];for(let l=i;l&&!(l.from<n.node.from||l.to>n.node.to||l.from==n.node.from&&l.type==n.node.type);l=l.parent)a.push(l);for(let l=a.length-1;l>=0;l--)n={node:a[l],next:n}}return QB(n,t,r)}function QB(t,e,r){for(let n=t;n;n=n.next){let i=Uue(n.node);if(i)return i(Jj.create(e,r,n))}return 0}function Iue(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function Uue(t){let e=t.type.prop(YB);if(e)return e;let r=t.firstChild,n;if(r&&(n=r.type.prop(Be.closedBy))){let i=t.lastChild,a=i&&n.indexOf(i.name)>-1;return l=>Vue(l,!0,1,void 0,a&&!Iue(l)?i.from:void 0)}return t.parent==null?que:null}function que(){return 0}class Jj extends B0{constructor(e,r,n){super(e.state,e.options),this.base=e,this.pos=r,this.context=n}get node(){return this.context.node}static create(e,r,n){return new Jj(e,r,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let r=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(r.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(Hue(n,e))break;r=this.state.doc.lineAt(n.from)}return this.lineIndent(r.from)}continue(){return QB(this.context.next,this.base,this.pos)}}function Hue(t,e){for(let r=e;r;r=r.parent)if(t==r)return!0;return!1}function $ue(t){let e=t.node,r=e.childAfter(e.from),n=e.lastChild;if(!r)return null;let i=t.options.simulateBreak,a=t.state.doc.lineAt(r.from),l=i==null||i<=a.from?a.to:Math.min(a.to,i);for(let o=r.to;;){let u=e.childAfter(o);if(!u||u==n)return null;if(!u.type.isSkipped){if(u.from>=l)return null;let h=/^ */.exec(a.text.slice(r.to-a.from))[0].length;return{from:r.from,to:r.to+h}}o=u.to}}function Vue(t,e,r,n,i){let a=t.textAfter,l=a.match(/^\s*/)[0].length,o=n&&a.slice(l,l+n.length)==n||i==t.pos+l,u=$ue(t);return u?o?t.column(u.from):t.column(u.to):t.baseIndent+(o?0:t.unit*r)}function Fue({except:t,units:e=1}={}){return r=>{let n=t&&t.test(r.textAfter);return r.baseIndent+(n?0:e*r.unit)}}const Wue=200;function Kue(){return Ve.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let r=t.newDoc,{head:n}=t.newSelection.main,i=r.lineAt(n);if(n>i.from+Wue)return t;let a=r.sliceString(i.from,n);if(!e.some(h=>h.test(a)))return t;let{state:l}=t,o=-1,u=[];for(let{head:h}of l.selection.ranges){let m=l.doc.lineAt(h);if(m.from==o)continue;o=m.from;let p=Zj(l,m.from);if(p==null)continue;let y=/^\s*/.exec(m.text)[0],x=rd(l,p);y!=x&&u.push({from:m.from,to:m.from+y.length,insert:x})}return u.length?[t,{changes:u,sequential:!0}]:t})}const Gue=xe.define(),XB=new Be;function Yue(t,e,r){let n=nr(t);if(n.length<r)return null;let i=n.resolveStack(r,1),a=null;for(let l=i;l;l=l.next){let o=l.node;if(o.to<=r||o.from>r)continue;if(a&&o.from<e)break;let u=o.type.prop(XB);if(u&&(o.to<n.length-50||n.length==t.doc.length||!Que(o))){let h=u(o,t);h&&h.from<=r&&h.from>=e&&h.to>r&&(a=h)}}return a}function Que(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function gg(t,e,r){for(let n of t.facet(Gue)){let i=n(t,e,r);if(i)return i}return Yue(t,e,r)}function ZB(t,e){let r=e.mapPos(t.from,1),n=e.mapPos(t.to,-1);return r>=n?void 0:{from:r,to:n}}const z0=Pe.define({map:ZB}),Md=Pe.define({map:ZB});function JB(t){let e=[];for(let{head:r}of t.state.selection.ranges)e.some(n=>n.from<=r&&n.to>=r)||e.push(t.lineBlockAt(r));return e}const Ql=jr.define({create(){return Ae.none},update(t,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((r,n)=>t=zD(t,r,n)),t=t.map(e.changes);for(let r of e.effects)if(r.is(z0)&&!Xue(t,r.value.from,r.value.to)){let{preparePlaceholder:n}=e.state.facet(rz),i=n?Ae.replace({widget:new ife(n(e.state,r.value))}):ID;t=t.update({add:[i.range(r.value.from,r.value.to)]})}else r.is(Md)&&(t=t.update({filter:(n,i)=>r.value.from!=n||r.value.to!=i,filterFrom:r.value.from,filterTo:r.value.to}));return e.selection&&(t=zD(t,e.selection.main.head)),t},provide:t=>ge.decorations.from(t),toJSON(t,e){let r=[];return t.between(0,e.doc.length,(n,i)=>{r.push(n,i)}),r},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let r=0;r<t.length;){let n=t[r++],i=t[r++];if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(ID.range(n,i))}return Ae.set(e,!0)}});function zD(t,e,r=e){let n=!1;return t.between(e,r,(i,a)=>{i<r&&a>e&&(n=!0)}),n?t.update({filterFrom:e,filterTo:r,filter:(i,a)=>i>=r||a<=e}):t}function yg(t,e,r){var n;let i=null;return(n=t.field(Ql,!1))===null||n===void 0||n.between(e,r,(a,l)=>{(!i||i.from>a)&&(i={from:a,to:l})}),i}function Xue(t,e,r){let n=!1;return t.between(e,e,(i,a)=>{i==e&&a==r&&(n=!0)}),n}function ez(t,e){return t.field(Ql,!1)?e:e.concat(Pe.appendConfig.of(nz()))}const Zue=t=>{for(let e of JB(t)){let r=gg(t.state,e.from,e.to);if(r)return t.dispatch({effects:ez(t.state,[z0.of(r),tz(t,r)])}),!0}return!1},Jue=t=>{if(!t.state.field(Ql,!1))return!1;let e=[];for(let r of JB(t)){let n=yg(t.state,r.from,r.to);n&&e.push(Md.of(n),tz(t,n,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function tz(t,e,r=!0){let n=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return ge.announce.of(`${t.state.phrase(r?"Folded lines":"Unfolded lines")} ${n} ${t.state.phrase("to")} ${i}.`)}const efe=t=>{let{state:e}=t,r=[];for(let n=0;n<e.doc.length;){let i=t.lineBlockAt(n),a=gg(e,i.from,i.to);a&&r.push(z0.of(a)),n=(a?t.lineBlockAt(a.to):i).to+1}return r.length&&t.dispatch({effects:ez(t.state,r)}),!!r.length},tfe=t=>{let e=t.state.field(Ql,!1);if(!e||!e.size)return!1;let r=[];return e.between(0,t.state.doc.length,(n,i)=>{r.push(Md.of({from:n,to:i}))}),t.dispatch({effects:r}),!0},rfe=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Zue},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Jue},{key:"Ctrl-Alt-[",run:efe},{key:"Ctrl-Alt-]",run:tfe}],nfe={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},rz=xe.define({combine(t){return Wi(t,nfe)}});function nz(t){return[Ql,lfe]}function iz(t,e){let{state:r}=t,n=r.facet(rz),i=l=>{let o=t.lineBlockAt(t.posAtDOM(l.target)),u=yg(t.state,o.from,o.to);u&&t.dispatch({effects:Md.of(u)}),l.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(t,i,e);let a=document.createElement("span");return a.textContent=n.placeholderText,a.setAttribute("aria-label",r.phrase("folded code")),a.title=r.phrase("unfold"),a.className="cm-foldPlaceholder",a.onclick=i,a}const ID=Ae.replace({widget:new class extends Ki{toDOM(t){return iz(t,null)}}});class ife extends Ki{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return iz(e,this.value)}}const afe={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class d1 extends Da{constructor(e,r){super(),this.config=e,this.open=r}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let r=document.createElement("span");return r.textContent=this.open?this.config.openText:this.config.closedText,r.title=e.state.phrase(this.open?"Fold line":"Unfold line"),r}}function sfe(t={}){let e={...afe,...t},r=new d1(e,!0),n=new d1(e,!1),i=Pt.fromClass(class{constructor(l){this.from=l.viewport.from,this.markers=this.buildMarkers(l)}update(l){(l.docChanged||l.viewportChanged||l.startState.facet(zs)!=l.state.facet(zs)||l.startState.field(Ql,!1)!=l.state.field(Ql,!1)||nr(l.startState)!=nr(l.state)||e.foldingChanged(l))&&(this.markers=this.buildMarkers(l.view))}buildMarkers(l){let o=new Ta;for(let u of l.viewportLineBlocks){let h=yg(l.state,u.from,u.to)?n:gg(l.state,u.from,u.to)?r:null;h&&o.add(u.from,u.from,h)}return o.finish()}}),{domEventHandlers:a}=e;return[i,sue({class:"cm-foldGutter",markers(l){var o;return((o=l.plugin(i))===null||o===void 0?void 0:o.markers)||Ue.empty},initialSpacer(){return new d1(e,!1)},domEventHandlers:{...a,click:(l,o,u)=>{if(a.click&&a.click(l,o,u))return!0;let h=yg(l.state,o.from,o.to);if(h)return l.dispatch({effects:Md.of(h)}),!0;let m=gg(l.state,o.from,o.to);return m?(l.dispatch({effects:z0.of(m)}),!0):!1}}}),nz()]}const lfe=ge.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Dd{constructor(e,r){this.specs=e;let n;function i(o){let u=Ps.newName();return(n||(n=Object.create(null)))["."+u]=o,u}const a=typeof r.all=="string"?r.all:r.all?i(r.all):void 0,l=r.scope;this.scope=l instanceof oi?o=>o.prop(Jo)==l.data:l?o=>o==l:void 0,this.style=KB(e.map(o=>({tag:o.tag,class:o.class||i(Object.assign({},o,{tag:null}))})),{all:a}).style,this.module=n?new Ps(n):null,this.themeType=r.themeType}static define(e,r){return new Dd(e,r||{})}}const jS=xe.define(),az=xe.define({combine(t){return t.length?[t[0]]:null}});function h1(t){let e=t.facet(jS);return e.length?e:t.facet(az)}function sz(t,e){let r=[cfe],n;return t instanceof Dd&&(t.module&&r.push(ge.styleModule.of(t.module)),n=t.themeType),e?.fallback?r.push(az.of(t)):n?r.push(jS.computeN([ge.darkTheme],i=>i.facet(ge.darkTheme)==(n=="dark")?[t]:[])):r.push(jS.of(t)),r}class ofe{constructor(e){this.markCache=Object.create(null),this.tree=nr(e.state),this.decorations=this.buildDeco(e,h1(e.state)),this.decoratedTo=e.viewport.to}update(e){let r=nr(e.state),n=h1(e.state),i=n!=h1(e.startState),{viewport:a}=e.view,l=e.changes.mapPos(this.decoratedTo,1);r.length<a.to&&!i&&r.type==this.tree.type&&l>=a.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=l):(r!=this.tree||e.viewportChanged||i)&&(this.tree=r,this.decorations=this.buildDeco(e.view,n),this.decoratedTo=a.to)}buildDeco(e,r){if(!r||!this.tree.length)return Ae.none;let n=new Ta;for(let{from:i,to:a}of e.visibleRanges)Eue(this.tree,r,(l,o,u)=>{n.add(l,o,this.markCache[u]||(this.markCache[u]=Ae.mark({class:u})))},i,a);return n.finish()}}const cfe=eo.high(Pt.fromClass(ofe,{decorations:t=>t.decorations})),ufe=Dd.define([{tag:te.meta,color:"#404740"},{tag:te.link,textDecoration:"underline"},{tag:te.heading,textDecoration:"underline",fontWeight:"bold"},{tag:te.emphasis,fontStyle:"italic"},{tag:te.strong,fontWeight:"bold"},{tag:te.strikethrough,textDecoration:"line-through"},{tag:te.keyword,color:"#708"},{tag:[te.atom,te.bool,te.url,te.contentSeparator,te.labelName],color:"#219"},{tag:[te.literal,te.inserted],color:"#164"},{tag:[te.string,te.deleted],color:"#a11"},{tag:[te.regexp,te.escape,te.special(te.string)],color:"#e40"},{tag:te.definition(te.variableName),color:"#00f"},{tag:te.local(te.variableName),color:"#30a"},{tag:[te.typeName,te.namespace],color:"#085"},{tag:te.className,color:"#167"},{tag:[te.special(te.variableName),te.macroName],color:"#256"},{tag:te.definition(te.propertyName),color:"#00c"},{tag:te.comment,color:"#940"},{tag:te.invalid,color:"#f00"}]),ffe=ge.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),lz=1e4,oz="()[]{}",cz=xe.define({combine(t){return Wi(t,{afterCursor:!0,brackets:oz,maxScanDistance:lz,renderMatch:mfe})}}),dfe=Ae.mark({class:"cm-matchingBracket"}),hfe=Ae.mark({class:"cm-nonmatchingBracket"});function mfe(t){let e=[],r=t.matched?dfe:hfe;return e.push(r.range(t.start.from,t.start.to)),t.end&&e.push(r.range(t.end.from,t.end.to)),e}const pfe=jr.define({create(){return Ae.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let r=[],n=e.state.facet(cz);for(let i of e.state.selection.ranges){if(!i.empty)continue;let a=Pi(e.state,i.head,-1,n)||i.head>0&&Pi(e.state,i.head-1,1,n)||n.afterCursor&&(Pi(e.state,i.head,1,n)||i.head<e.state.doc.length&&Pi(e.state,i.head+1,-1,n));a&&(r=r.concat(n.renderMatch(a,e.state)))}return Ae.set(r,!0)},provide:t=>ge.decorations.from(t)}),gfe=[pfe,ffe];function yfe(t={}){return[cz.of(t),gfe]}const xfe=new Be;function NS(t,e,r){let n=t.prop(e<0?Be.openedBy:Be.closedBy);if(n)return n;if(t.name.length==1){let i=r.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[r[i+e]]}return null}function CS(t){let e=t.type.prop(xfe);return e?e(t.node):t}function Pi(t,e,r,n={}){let i=n.maxScanDistance||lz,a=n.brackets||oz,l=nr(t),o=l.resolveInner(e,r);for(let u=o;u;u=u.parent){let h=NS(u.type,r,a);if(h&&u.from<u.to){let m=CS(u);if(m&&(r>0?e>=m.from&&e<m.to:e>m.from&&e<=m.to))return vfe(t,e,r,u,m,h,a)}}return bfe(t,e,r,l,o.type,i,a)}function vfe(t,e,r,n,i,a,l){let o=n.parent,u={from:i.from,to:i.to},h=0,m=o?.cursor();if(m&&(r<0?m.childBefore(n.from):m.childAfter(n.to)))do if(r<0?m.to<=n.from:m.from>=n.to){if(h==0&&a.indexOf(m.type.name)>-1&&m.from<m.to){let p=CS(m);return{start:u,end:p?{from:p.from,to:p.to}:void 0,matched:!0}}else if(NS(m.type,r,l))h++;else if(NS(m.type,-r,l)){if(h==0){let p=CS(m);return{start:u,end:p&&p.from<p.to?{from:p.from,to:p.to}:void 0,matched:!1}}h--}}while(r<0?m.prevSibling():m.nextSibling());return{start:u,matched:!1}}function bfe(t,e,r,n,i,a,l){let o=r<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),u=l.indexOf(o);if(u<0||u%2==0!=r>0)return null;let h={from:r<0?e-1:e,to:r>0?e+1:e},m=t.doc.iterRange(e,r>0?t.doc.length:0),p=0;for(let y=0;!m.next().done&&y<=a;){let x=m.value;r<0&&(y+=x.length);let b=e+y*r;for(let N=r>0?0:x.length-1,j=r>0?x.length:-1;N!=j;N+=r){let C=l.indexOf(x[N]);if(!(C<0||n.resolveInner(b+N,1).type!=i))if(C%2==0==r>0)p++;else{if(p==1)return{start:h,end:{from:b+N,to:b+N+1},matched:C>>1==u>>1};p--}}r>0&&(y+=x.length)}return m.done?{start:h,matched:!1}:null}const wfe=Object.create(null),UD=[tn.none],qD=[],HD=Object.create(null),Sfe=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Sfe[t]=jfe(wfe,e);function m1(t,e){qD.indexOf(t)>-1||(qD.push(t),console.warn(e))}function jfe(t,e){let r=[];for(let o of e.split(" ")){let u=[];for(let h of o.split(".")){let m=t[h]||te[h];m?typeof m=="function"?u.length?u=u.map(m):m1(h,`Modifier ${h} used at start of tag`):u.length?m1(h,`Tag ${h} used as modifier`):u=Array.isArray(m)?m:[m]:m1(h,`Unknown highlighting tag ${h}`)}for(let h of u)r.push(h)}if(!r.length)return 0;let n=e.replace(/ /g,"_"),i=n+" "+r.map(o=>o.id),a=HD[i];if(a)return a.id;let l=HD[i]=tn.define({id:UD.length,name:n,props:[FB({[n]:r})]});return UD.push(l),l.id}ct.RTL,ct.LTR;const Nfe=t=>{let{state:e}=t,r=e.doc.lineAt(e.selection.main.from),n=tN(t.state,r.from);return n.line?Cfe(t):n.block?Ofe(t):!1};function eN(t,e){return({state:r,dispatch:n})=>{if(r.readOnly)return!1;let i=t(e,r);return i?(n(r.update(i)),!0):!1}}const Cfe=eN(Tfe,0),kfe=eN(uz,0),Ofe=eN((t,e)=>uz(t,e,Efe(e)),0);function tN(t,e){let r=t.languageDataAt("commentTokens",e,1);return r.length?r[0]:{}}const af=50;function Afe(t,{open:e,close:r},n,i){let a=t.sliceDoc(n-af,n),l=t.sliceDoc(i,i+af),o=/\s*$/.exec(a)[0].length,u=/^\s*/.exec(l)[0].length,h=a.length-o;if(a.slice(h-e.length,h)==e&&l.slice(u,u+r.length)==r)return{open:{pos:n-o,margin:o&&1},close:{pos:i+u,margin:u&&1}};let m,p;i-n<=2*af?m=p=t.sliceDoc(n,i):(m=t.sliceDoc(n,n+af),p=t.sliceDoc(i-af,i));let y=/^\s*/.exec(m)[0].length,x=/\s*$/.exec(p)[0].length,b=p.length-x-r.length;return m.slice(y,y+e.length)==e&&p.slice(b,b+r.length)==r?{open:{pos:n+y+e.length,margin:/\s/.test(m.charAt(y+e.length))?1:0},close:{pos:i-x-r.length,margin:/\s/.test(p.charAt(b-1))?1:0}}:null}function Efe(t){let e=[];for(let r of t.selection.ranges){let n=t.doc.lineAt(r.from),i=r.to<=n.to?n:t.doc.lineAt(r.to);i.from>n.from&&i.from==r.to&&(i=r.to==n.to+1?n:t.doc.lineAt(r.to-1));let a=e.length-1;a>=0&&e[a].to>n.from?e[a].to=i.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:i.to})}return e}function uz(t,e,r=e.selection.ranges){let n=r.map(a=>tN(e,a.from).block);if(!n.every(a=>a))return null;let i=r.map((a,l)=>Afe(e,n[l],a.from,a.to));if(t!=2&&!i.every(a=>a))return{changes:e.changes(r.map((a,l)=>i[l]?[]:[{from:a.from,insert:n[l].open+" "},{from:a.to,insert:" "+n[l].close}]))};if(t!=1&&i.some(a=>a)){let a=[];for(let l=0,o;l<i.length;l++)if(o=i[l]){let u=n[l],{open:h,close:m}=o;a.push({from:h.pos-u.open.length,to:h.pos+h.margin},{from:m.pos-m.margin,to:m.pos+u.close.length})}return{changes:a}}return null}function Tfe(t,e,r=e.selection.ranges){let n=[],i=-1;e:for(let{from:a,to:l}of r){let o=n.length,u=1e9,h;for(let m=a;m<=l;){let p=e.doc.lineAt(m);if(h==null&&(h=tN(e,p.from).line,!h))continue e;if(p.from>i&&(a==l||l>p.from)){i=p.from;let y=/^\s*/.exec(p.text)[0].length,x=y==p.length,b=p.text.slice(y,y+h.length)==h?y:-1;y<p.text.length&&y<u&&(u=y),n.push({line:p,comment:b,token:h,indent:y,empty:x,single:!1})}m=p.to+1}if(u<1e9)for(let m=o;m<n.length;m++)n[m].indent<n[m].line.text.length&&(n[m].indent=u);n.length==o+1&&(n[o].single=!0)}if(t!=2&&n.some(a=>a.comment<0&&(!a.empty||a.single))){let a=[];for(let{line:o,token:u,indent:h,empty:m,single:p}of n)(p||!m)&&a.push({from:o.from+h,insert:u+" "});let l=e.changes(a);return{changes:l,selection:e.selection.map(l,1)}}else if(t!=1&&n.some(a=>a.comment>=0)){let a=[];for(let{line:l,comment:o,token:u}of n)if(o>=0){let h=l.from+o,m=h+u.length;l.text[m-l.from]==" "&&m++,a.push({from:h,to:m})}return{changes:a}}return null}const kS=Fi.define(),Mfe=Fi.define(),Dfe=xe.define(),fz=xe.define({combine(t){return Wi(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,r)=>r},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,r)=>(n,i)=>e(n,i)||r(n,i)})}}),dz=jr.define({create(){return Ri.empty},update(t,e){let r=e.state.facet(fz),n=e.annotation(kS);if(n){let u=Jr.fromTransaction(e,n.selection),h=n.side,m=h==0?t.undone:t.done;return u?m=xg(m,m.length,r.minDepth,u):m=pz(m,e.startState.selection),new Ri(h==0?n.rest:m,h==0?m:n.rest)}let i=e.annotation(Mfe);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Kt.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let a=Jr.fromTransaction(e),l=e.annotation(Kt.time),o=e.annotation(Kt.userEvent);return a?t=t.addChanges(a,l,o,r,e):e.selection&&(t=t.addSelection(e.startState.selection,l,o,r.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Ri(t.done.map(Jr.fromJSON),t.undone.map(Jr.fromJSON))}});function _fe(t={}){return[dz,fz.of(t),ge.domEventHandlers({beforeinput(e,r){let n=e.inputType=="historyUndo"?hz:e.inputType=="historyRedo"?OS:null;return n?(e.preventDefault(),n(r)):!1}})]}function I0(t,e){return function({state:r,dispatch:n}){if(!e&&r.readOnly)return!1;let i=r.field(dz,!1);if(!i)return!1;let a=i.pop(t,r,e);return a?(n(a),!0):!1}}const hz=I0(0,!1),OS=I0(1,!1),Pfe=I0(0,!0),Rfe=I0(1,!0);class Jr{constructor(e,r,n,i,a){this.changes=e,this.effects=r,this.mapped=n,this.startSelection=i,this.selectionsAfter=a}setSelAfter(e){return new Jr(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,r,n;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(r=this.mapped)===null||r===void 0?void 0:r.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new Jr(e.changes&&Wt.fromJSON(e.changes),[],e.mapped&&Bi.fromJSON(e.mapped),e.startSelection&&ue.fromJSON(e.startSelection),e.selectionsAfter.map(ue.fromJSON))}static fromTransaction(e,r){let n=Wn;for(let i of e.startState.facet(Dfe)){let a=i(e);a.length&&(n=n.concat(a))}return!n.length&&e.changes.empty?null:new Jr(e.changes.invert(e.startState.doc),n,void 0,r||e.startState.selection,Wn)}static selection(e){return new Jr(void 0,Wn,void 0,void 0,e)}}function xg(t,e,r,n){let i=e+1>r+20?e-r-1:0,a=t.slice(i,e);return a.push(n),a}function Lfe(t,e){let r=[],n=!1;return t.iterChangedRanges((i,a)=>r.push(i,a)),e.iterChangedRanges((i,a,l,o)=>{for(let u=0;u<r.length;){let h=r[u++],m=r[u++];o>=h&&l<=m&&(n=!0)}}),n}function Bfe(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((r,n)=>r.empty!=e.ranges[n].empty).length===0}function mz(t,e){return t.length?e.length?t.concat(e):t:e}const Wn=[],zfe=200;function pz(t,e){if(t.length){let r=t[t.length-1],n=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-zfe));return n.length&&n[n.length-1].eq(e)?t:(n.push(e),xg(t,t.length-1,1e9,r.setSelAfter(n)))}else return[Jr.selection([e])]}function Ife(t){let e=t[t.length-1],r=t.slice();return r[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),r}function p1(t,e){if(!t.length)return t;let r=t.length,n=Wn;for(;r;){let i=Ufe(t[r-1],e,n);if(i.changes&&!i.changes.empty||i.effects.length){let a=t.slice(0,r);return a[r-1]=i,a}else e=i.mapped,r--,n=i.selectionsAfter}return n.length?[Jr.selection(n)]:Wn}function Ufe(t,e,r){let n=mz(t.selectionsAfter.length?t.selectionsAfter.map(o=>o.map(e)):Wn,r);if(!t.changes)return Jr.selection(n);let i=t.changes.map(e),a=e.mapDesc(t.changes,!0),l=t.mapped?t.mapped.composeDesc(a):a;return new Jr(i,Pe.mapEffects(t.effects,e),l,t.startSelection.map(a),n)}const qfe=/^(input\.type|delete)($|\.)/;class Ri{constructor(e,r,n=0,i=void 0){this.done=e,this.undone=r,this.prevTime=n,this.prevUserEvent=i}isolate(){return this.prevTime?new Ri(this.done,this.undone):this}addChanges(e,r,n,i,a){let l=this.done,o=l[l.length-1];return o&&o.changes&&!o.changes.empty&&e.changes&&(!n||qfe.test(n))&&(!o.selectionsAfter.length&&r-this.prevTime<i.newGroupDelay&&i.joinToEvent(a,Lfe(o.changes,e.changes))||n=="input.type.compose")?l=xg(l,l.length-1,i.minDepth,new Jr(e.changes.compose(o.changes),mz(Pe.mapEffects(e.effects,o.changes),o.effects),o.mapped,o.startSelection,Wn)):l=xg(l,l.length,i.minDepth,e),new Ri(l,Wn,r,n)}addSelection(e,r,n,i){let a=this.done.length?this.done[this.done.length-1].selectionsAfter:Wn;return a.length>0&&r-this.prevTime<i&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&Bfe(a[a.length-1],e)?this:new Ri(pz(this.done,e),this.undone,r,n)}addMapping(e){return new Ri(p1(this.done,e),p1(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,r,n){let i=e==0?this.done:this.undone;if(i.length==0)return null;let a=i[i.length-1],l=a.selectionsAfter[0]||(a.startSelection?a.startSelection.map(a.changes.invertedDesc,1):r.selection);if(n&&a.selectionsAfter.length)return r.update({selection:a.selectionsAfter[a.selectionsAfter.length-1],annotations:kS.of({side:e,rest:Ife(i),selection:l}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(a.changes){let o=i.length==1?Wn:i.slice(0,i.length-1);return a.mapped&&(o=p1(o,a.mapped)),r.update({changes:a.changes,selection:a.startSelection,effects:a.effects,annotations:kS.of({side:e,rest:o,selection:l}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Ri.empty=new Ri(Wn,Wn);const Hfe=[{key:"Mod-z",run:hz,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:OS,preventDefault:!0},{linux:"Ctrl-Shift-z",run:OS,preventDefault:!0},{key:"Mod-u",run:Pfe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Rfe,preventDefault:!0}];function Wc(t,e){return ue.create(t.ranges.map(e),t.mainIndex)}function mi(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function pi({state:t,dispatch:e},r){let n=Wc(t.selection,r);return n.eq(t.selection,!0)?!1:(e(mi(t,n)),!0)}function U0(t,e){return ue.cursor(e?t.to:t.from)}function gz(t,e){return pi(t,r=>r.empty?t.moveByChar(r,e):U0(r,e))}function Er(t){return t.textDirectionAt(t.state.selection.main.head)==ct.LTR}const yz=t=>gz(t,!Er(t)),xz=t=>gz(t,Er(t));function vz(t,e){return pi(t,r=>r.empty?t.moveByGroup(r,e):U0(r,e))}const $fe=t=>vz(t,!Er(t)),Vfe=t=>vz(t,Er(t));function Ffe(t,e,r){if(e.type.prop(r))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function q0(t,e,r){let n=nr(t).resolveInner(e.head),i=r?Be.closedBy:Be.openedBy;for(let u=e.head;;){let h=r?n.childAfter(u):n.childBefore(u);if(!h)break;Ffe(t,h,i)?n=h:u=r?h.to:h.from}let a=n.type.prop(i),l,o;return a&&(l=r?Pi(t,n.from,1):Pi(t,n.to,-1))&&l.matched?o=r?l.end.to:l.end.from:o=r?n.to:n.from,ue.cursor(o,r?-1:1)}const Wfe=t=>pi(t,e=>q0(t.state,e,!Er(t))),Kfe=t=>pi(t,e=>q0(t.state,e,Er(t)));function bz(t,e){return pi(t,r=>{if(!r.empty)return U0(r,e);let n=t.moveVertically(r,e);return n.head!=r.head?n:t.moveToLineBoundary(r,e)})}const wz=t=>bz(t,!1),Sz=t=>bz(t,!0);function jz(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,r=0,n=0,i;if(e){for(let a of t.state.facet(ge.scrollMargins)){let l=a(t);l?.top&&(r=Math.max(l?.top,r)),l?.bottom&&(n=Math.max(l?.bottom,n))}i=t.scrollDOM.clientHeight-r-n}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:n,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function Nz(t,e){let r=jz(t),{state:n}=t,i=Wc(n.selection,l=>l.empty?t.moveVertically(l,e,r.height):U0(l,e));if(i.eq(n.selection))return!1;let a;if(r.selfScroll){let l=t.coordsAtPos(n.selection.main.head),o=t.scrollDOM.getBoundingClientRect(),u=o.top+r.marginTop,h=o.bottom-r.marginBottom;l&&l.top>u&&l.bottom<h&&(a=ge.scrollIntoView(i.main.head,{y:"start",yMargin:l.top-u}))}return t.dispatch(mi(n,i),{effects:a}),!0}const $D=t=>Nz(t,!1),AS=t=>Nz(t,!0);function Vs(t,e,r){let n=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,r);if(i.head==e.head&&i.head!=(r?n.to:n.from)&&(i=t.moveToLineBoundary(e,r,!1)),!r&&i.head==n.from&&n.length){let a=/^\s*/.exec(t.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;a&&e.head!=n.from+a&&(i=ue.cursor(n.from+a))}return i}const Gfe=t=>pi(t,e=>Vs(t,e,!0)),Yfe=t=>pi(t,e=>Vs(t,e,!1)),Qfe=t=>pi(t,e=>Vs(t,e,!Er(t))),Xfe=t=>pi(t,e=>Vs(t,e,Er(t))),Zfe=t=>pi(t,e=>ue.cursor(t.lineBlockAt(e.head).from,1)),Jfe=t=>pi(t,e=>ue.cursor(t.lineBlockAt(e.head).to,-1));function ede(t,e,r){let n=!1,i=Wc(t.selection,a=>{let l=Pi(t,a.head,-1)||Pi(t,a.head,1)||a.head>0&&Pi(t,a.head-1,1)||a.head<t.doc.length&&Pi(t,a.head+1,-1);if(!l||!l.end)return a;n=!0;let o=l.start.from==a.head?l.end.to:l.end.from;return ue.cursor(o)});return n?(e(mi(t,i)),!0):!1}const tde=({state:t,dispatch:e})=>ede(t,e);function Jn(t,e){let r=Wc(t.state.selection,n=>{let i=e(n);return ue.range(n.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return r.eq(t.state.selection)?!1:(t.dispatch(mi(t.state,r)),!0)}function Cz(t,e){return Jn(t,r=>t.moveByChar(r,e))}const kz=t=>Cz(t,!Er(t)),Oz=t=>Cz(t,Er(t));function Az(t,e){return Jn(t,r=>t.moveByGroup(r,e))}const rde=t=>Az(t,!Er(t)),nde=t=>Az(t,Er(t)),ide=t=>Jn(t,e=>q0(t.state,e,!Er(t))),ade=t=>Jn(t,e=>q0(t.state,e,Er(t)));function Ez(t,e){return Jn(t,r=>t.moveVertically(r,e))}const Tz=t=>Ez(t,!1),Mz=t=>Ez(t,!0);function Dz(t,e){return Jn(t,r=>t.moveVertically(r,e,jz(t).height))}const VD=t=>Dz(t,!1),FD=t=>Dz(t,!0),sde=t=>Jn(t,e=>Vs(t,e,!0)),lde=t=>Jn(t,e=>Vs(t,e,!1)),ode=t=>Jn(t,e=>Vs(t,e,!Er(t))),cde=t=>Jn(t,e=>Vs(t,e,Er(t))),ude=t=>Jn(t,e=>ue.cursor(t.lineBlockAt(e.head).from)),fde=t=>Jn(t,e=>ue.cursor(t.lineBlockAt(e.head).to)),WD=({state:t,dispatch:e})=>(e(mi(t,{anchor:0})),!0),KD=({state:t,dispatch:e})=>(e(mi(t,{anchor:t.doc.length})),!0),GD=({state:t,dispatch:e})=>(e(mi(t,{anchor:t.selection.main.anchor,head:0})),!0),YD=({state:t,dispatch:e})=>(e(mi(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),dde=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),hde=({state:t,dispatch:e})=>{let r=H0(t).map(({from:n,to:i})=>ue.range(n,Math.min(i+1,t.doc.length)));return e(t.update({selection:ue.create(r),userEvent:"select"})),!0},mde=({state:t,dispatch:e})=>{let r=Wc(t.selection,n=>{let i=nr(t),a=i.resolveStack(n.from,1);if(n.empty){let l=i.resolveStack(n.from,-1);l.node.from>=a.node.from&&l.node.to<=a.node.to&&(a=l)}for(let l=a;l;l=l.next){let{node:o}=l;if((o.from<n.from&&o.to>=n.to||o.to>n.to&&o.from<=n.from)&&l.next)return ue.range(o.to,o.from)}return n});return r.eq(t.selection)?!1:(e(mi(t,r)),!0)};function _z(t,e){let{state:r}=t,n=r.selection,i=r.selection.ranges.slice();for(let a of r.selection.ranges){let l=r.doc.lineAt(a.head);if(e?l.to<t.state.doc.length:l.from>0)for(let o=a;;){let u=t.moveVertically(o,e);if(u.head<l.from||u.head>l.to){i.some(h=>h.head==u.head)||i.push(u);break}else{if(u.head==o.head)break;o=u}}}return i.length==n.ranges.length?!1:(t.dispatch(mi(r,ue.create(i,i.length-1))),!0)}const pde=t=>_z(t,!1),gde=t=>_z(t,!0),yde=({state:t,dispatch:e})=>{let r=t.selection,n=null;return r.ranges.length>1?n=ue.create([r.main]):r.main.empty||(n=ue.create([ue.cursor(r.main.head)])),n?(e(mi(t,n)),!0):!1};function _d(t,e){if(t.state.readOnly)return!1;let r="delete.selection",{state:n}=t,i=n.changeByRange(a=>{let{from:l,to:o}=a;if(l==o){let u=e(a);u<l?(r="delete.backward",u=_m(t,u,!1)):u>l&&(r="delete.forward",u=_m(t,u,!0)),l=Math.min(l,u),o=Math.max(o,u)}else l=_m(t,l,!1),o=_m(t,o,!0);return l==o?{range:a}:{changes:{from:l,to:o},range:ue.cursor(l,l<a.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(n.update(i,{scrollIntoView:!0,userEvent:r,effects:r=="delete.selection"?ge.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function _m(t,e,r){if(t instanceof ge)for(let n of t.state.facet(ge.atomicRanges).map(i=>i(t)))n.between(e,e,(i,a)=>{i<e&&a>e&&(e=r?a:i)});return e}const Pz=(t,e,r)=>_d(t,n=>{let i=n.from,{state:a}=t,l=a.doc.lineAt(i),o,u;if(r&&!e&&i>l.from&&i<l.from+200&&!/[^ \t]/.test(o=l.text.slice(0,i-l.from))){if(o[o.length-1]=="	")return i-1;let h=Fc(o,a.tabSize),m=h%pg(a)||pg(a);for(let p=0;p<m&&o[o.length-1-p]==" ";p++)i--;u=i}else u=rr(l.text,i-l.from,e,e)+l.from,u==i&&l.number!=(e?a.doc.lines:1)?u+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(l.text.slice(u-l.from,i-l.from))&&(u=rr(l.text,u-l.from,!1,!1)+l.from);return u}),ES=t=>Pz(t,!1,!0),Rz=t=>Pz(t,!0,!1),Lz=(t,e)=>_d(t,r=>{let n=r.head,{state:i}=t,a=i.doc.lineAt(n),l=i.charCategorizer(n);for(let o=null;;){if(n==(e?a.to:a.from)){n==r.head&&a.number!=(e?i.doc.lines:1)&&(n+=e?1:-1);break}let u=rr(a.text,n-a.from,e)+a.from,h=a.text.slice(Math.min(n,u)-a.from,Math.max(n,u)-a.from),m=l(h);if(o!=null&&m!=o)break;(h!=" "||n!=r.head)&&(o=m),n=u}return n}),Bz=t=>Lz(t,!1),xde=t=>Lz(t,!0),vde=t=>_d(t,e=>{let r=t.lineBlockAt(e.head).to;return e.head<r?r:Math.min(t.state.doc.length,e.head+1)}),bde=t=>_d(t,e=>{let r=t.moveToLineBoundary(e,!1).head;return e.head>r?r:Math.max(0,e.head-1)}),wde=t=>_d(t,e=>{let r=t.moveToLineBoundary(e,!0).head;return e.head<r?r:Math.min(t.state.doc.length,e.head+1)}),Sde=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:Ge.of(["",""])},range:ue.cursor(n.from)}));return e(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0},jde=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(n=>{if(!n.empty||n.from==0||n.from==t.doc.length)return{range:n};let i=n.from,a=t.doc.lineAt(i),l=i==a.from?i-1:rr(a.text,i-a.from,!1)+a.from,o=i==a.to?i+1:rr(a.text,i-a.from,!0)+a.from;return{changes:{from:l,to:o,insert:t.doc.slice(i,o).append(t.doc.slice(l,i))},range:ue.cursor(o)}});return r.changes.empty?!1:(e(t.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function H0(t){let e=[],r=-1;for(let n of t.selection.ranges){let i=t.doc.lineAt(n.from),a=t.doc.lineAt(n.to);if(!n.empty&&n.to==a.from&&(a=t.doc.lineAt(n.to-1)),r>=i.number){let l=e[e.length-1];l.to=a.to,l.ranges.push(n)}else e.push({from:i.from,to:a.to,ranges:[n]});r=a.number+1}return e}function zz(t,e,r){if(t.readOnly)return!1;let n=[],i=[];for(let a of H0(t)){if(r?a.to==t.doc.length:a.from==0)continue;let l=t.doc.lineAt(r?a.to+1:a.from-1),o=l.length+1;if(r){n.push({from:a.to,to:l.to},{from:a.from,insert:l.text+t.lineBreak});for(let u of a.ranges)i.push(ue.range(Math.min(t.doc.length,u.anchor+o),Math.min(t.doc.length,u.head+o)))}else{n.push({from:l.from,to:a.from},{from:a.to,insert:t.lineBreak+l.text});for(let u of a.ranges)i.push(ue.range(u.anchor-o,u.head-o))}}return n.length?(e(t.update({changes:n,scrollIntoView:!0,selection:ue.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Nde=({state:t,dispatch:e})=>zz(t,e,!1),Cde=({state:t,dispatch:e})=>zz(t,e,!0);function Iz(t,e,r){if(t.readOnly)return!1;let n=[];for(let a of H0(t))r?n.push({from:a.from,insert:t.doc.slice(a.from,a.to)+t.lineBreak}):n.push({from:a.to,insert:t.lineBreak+t.doc.slice(a.from,a.to)});let i=t.changes(n);return e(t.update({changes:i,selection:t.selection.map(i,r?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const kde=({state:t,dispatch:e})=>Iz(t,e,!1),Ode=({state:t,dispatch:e})=>Iz(t,e,!0),Ade=t=>{if(t.state.readOnly)return!1;let{state:e}=t,r=e.changes(H0(e).map(({from:i,to:a})=>(i>0?i--:a<e.doc.length&&a++,{from:i,to:a}))),n=Wc(e.selection,i=>{let a;if(t.lineWrapping){let l=t.lineBlockAt(i.head),o=t.coordsAtPos(i.head,i.assoc||1);o&&(a=l.bottom+t.documentTop-o.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,a)}).map(r);return t.dispatch({changes:r,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Ede(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let r=nr(t).resolveInner(e),n=r.childBefore(e),i=r.childAfter(e),a;return n&&i&&n.to<=e&&i.from>=e&&(a=n.type.prop(Be.closedBy))&&a.indexOf(i.name)>-1&&t.doc.lineAt(n.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(n.to,i.from))?{from:n.to,to:i.from}:null}const QD=Uz(!1),Tde=Uz(!0);function Uz(t){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let n=e.changeByRange(i=>{let{from:a,to:l}=i,o=e.doc.lineAt(a),u=!t&&a==l&&Ede(e,a);t&&(a=l=(l<=o.to?o:e.doc.lineAt(l)).to);let h=new B0(e,{simulateBreak:a,simulateDoubleBreak:!!u}),m=Zj(h,a);for(m==null&&(m=Fc(/^\s*/.exec(e.doc.lineAt(a).text)[0],e.tabSize));l<o.to&&/\s/.test(o.text[l-o.from]);)l++;u?{from:a,to:l}=u:a>o.from&&a<o.from+100&&!/\S/.test(o.text.slice(0,a))&&(a=o.from);let p=["",rd(e,m)];return u&&p.push(rd(e,h.lineIndent(o.from,-1))),{changes:{from:a,to:l,insert:Ge.of(p)},range:ue.cursor(a+1+p[1].length)}});return r(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function rN(t,e){let r=-1;return t.changeByRange(n=>{let i=[];for(let l=n.from;l<=n.to;){let o=t.doc.lineAt(l);o.number>r&&(n.empty||n.to>o.from)&&(e(o,i,n),r=o.number),l=o.to+1}let a=t.changes(i);return{changes:i,range:ue.range(a.mapPos(n.anchor,1),a.mapPos(n.head,1))}})}const Mde=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=Object.create(null),n=new B0(t,{overrideIndentation:a=>{let l=r[a];return l??-1}}),i=rN(t,(a,l,o)=>{let u=Zj(n,a.from);if(u==null)return;/\S/.test(a.text)||(u=0);let h=/^\s*/.exec(a.text)[0],m=rd(t,u);(h!=m||o.from<a.from+h.length)&&(r[a.from]=u,l.push({from:a.from,to:a.from+h.length,insert:m}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},qz=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(rN(t,(r,n)=>{n.push({from:r.from,insert:t.facet(L0)})}),{userEvent:"input.indent"})),!0),Hz=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(rN(t,(r,n)=>{let i=/^\s*/.exec(r.text)[0];if(!i)return;let a=Fc(i,t.tabSize),l=0,o=rd(t,Math.max(0,a-pg(t)));for(;l<i.length&&l<o.length&&i.charCodeAt(l)==o.charCodeAt(l);)l++;n.push({from:r.from+l,to:r.from+i.length,insert:o.slice(l)})}),{userEvent:"delete.dedent"})),!0),Dde=t=>(t.setTabFocusMode(),!0),_de=[{key:"Ctrl-b",run:yz,shift:kz,preventDefault:!0},{key:"Ctrl-f",run:xz,shift:Oz},{key:"Ctrl-p",run:wz,shift:Tz},{key:"Ctrl-n",run:Sz,shift:Mz},{key:"Ctrl-a",run:Zfe,shift:ude},{key:"Ctrl-e",run:Jfe,shift:fde},{key:"Ctrl-d",run:Rz},{key:"Ctrl-h",run:ES},{key:"Ctrl-k",run:vde},{key:"Ctrl-Alt-h",run:Bz},{key:"Ctrl-o",run:Sde},{key:"Ctrl-t",run:jde},{key:"Ctrl-v",run:AS}],Pde=[{key:"ArrowLeft",run:yz,shift:kz,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:$fe,shift:rde,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Qfe,shift:ode,preventDefault:!0},{key:"ArrowRight",run:xz,shift:Oz,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:Vfe,shift:nde,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Xfe,shift:cde,preventDefault:!0},{key:"ArrowUp",run:wz,shift:Tz,preventDefault:!0},{mac:"Cmd-ArrowUp",run:WD,shift:GD},{mac:"Ctrl-ArrowUp",run:$D,shift:VD},{key:"ArrowDown",run:Sz,shift:Mz,preventDefault:!0},{mac:"Cmd-ArrowDown",run:KD,shift:YD},{mac:"Ctrl-ArrowDown",run:AS,shift:FD},{key:"PageUp",run:$D,shift:VD},{key:"PageDown",run:AS,shift:FD},{key:"Home",run:Yfe,shift:lde,preventDefault:!0},{key:"Mod-Home",run:WD,shift:GD},{key:"End",run:Gfe,shift:sde,preventDefault:!0},{key:"Mod-End",run:KD,shift:YD},{key:"Enter",run:QD,shift:QD},{key:"Mod-a",run:dde},{key:"Backspace",run:ES,shift:ES,preventDefault:!0},{key:"Delete",run:Rz,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Bz,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:xde,preventDefault:!0},{mac:"Mod-Backspace",run:bde,preventDefault:!0},{mac:"Mod-Delete",run:wde,preventDefault:!0}].concat(_de.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),Rde=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Wfe,shift:ide},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Kfe,shift:ade},{key:"Alt-ArrowUp",run:Nde},{key:"Shift-Alt-ArrowUp",run:kde},{key:"Alt-ArrowDown",run:Cde},{key:"Shift-Alt-ArrowDown",run:Ode},{key:"Mod-Alt-ArrowUp",run:pde},{key:"Mod-Alt-ArrowDown",run:gde},{key:"Escape",run:yde},{key:"Mod-Enter",run:Tde},{key:"Alt-l",mac:"Ctrl-l",run:hde},{key:"Mod-i",run:mde,preventDefault:!0},{key:"Mod-[",run:Hz},{key:"Mod-]",run:qz},{key:"Mod-Alt-\\",run:Mde},{key:"Shift-Mod-k",run:Ade},{key:"Shift-Mod-\\",run:tde},{key:"Mod-/",run:Nfe},{key:"Alt-A",run:kfe},{key:"Ctrl-m",mac:"Shift-Alt-m",run:Dde}].concat(Pde),Lde={key:"Tab",run:qz,shift:Hz},XD=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class Oc{constructor(e,r,n=0,i=e.length,a,l){this.test=l,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,i),this.bufferStart=n,this.normalize=a?o=>a(XD(o)):XD,this.query=this.normalize(r)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Wr(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let r=Ej(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=Ei(e);let i=this.normalize(r);if(i.length)for(let a=0,l=n;;a++){let o=i.charCodeAt(a),u=this.match(o,l,this.bufferPos+this.bufferStart);if(a==i.length-1){if(u)return this.value=u,this;break}l==n&&a<r.length&&r.charCodeAt(a)==o&&l++}}}match(e,r,n){let i=null;for(let a=0;a<this.matches.length;a+=2){let l=this.matches[a],o=!1;this.query.charCodeAt(l)==e&&(l==this.query.length-1?i={from:this.matches[a+1],to:n}:(this.matches[a]++,o=!0)),o||(this.matches.splice(a,2),a-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:r,to:n}:this.matches.push(1,r)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Oc.prototype[Symbol.iterator]=function(){return this});const $z={from:-1,to:-1,match:/.*/.exec("")},nN="gm"+(/x/.unicode==null?"":"u");class Vz{constructor(e,r,n,i=0,a=e.length){if(this.text=e,this.to=a,this.curLine="",this.done=!1,this.value=$z,/\\[sWDnr]|\n|\r|\[\^/.test(r))return new Fz(e,r,n,i,a);this.re=new RegExp(r,nN+(n?.ignoreCase?"i":"")),this.test=n?.test,this.iter=e.iter();let l=e.lineAt(i);this.curLineStart=l.from,this.matchPos=vg(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let r=this.matchPos<=this.to&&this.re.exec(this.curLine);if(r){let n=this.curLineStart+r.index,i=n+r[0].length;if(this.matchPos=vg(this.text,i+(n==i?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<i||n>this.value.to)&&(!this.test||this.test(n,i,r)))return this.value={from:n,to:i,match:r},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const g1=new WeakMap;class oc{constructor(e,r){this.from=e,this.text=r}get to(){return this.from+this.text.length}static get(e,r,n){let i=g1.get(e);if(!i||i.from>=n||i.to<=r){let o=new oc(r,e.sliceString(r,n));return g1.set(e,o),o}if(i.from==r&&i.to==n)return i;let{text:a,from:l}=i;return l>r&&(a=e.sliceString(r,l)+a,l=r),i.to<n&&(a+=e.sliceString(i.to,n)),g1.set(e,new oc(l,a)),new oc(r,a.slice(r-l,n-l))}}class Fz{constructor(e,r,n,i,a){this.text=e,this.to=a,this.done=!1,this.value=$z,this.matchPos=vg(e,i),this.re=new RegExp(r,nN+(n?.ignoreCase?"i":"")),this.test=n?.test,this.flat=oc.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,r=this.re.exec(this.flat.text);if(r&&!r[0]&&r.index==e&&(this.re.lastIndex=e+1,r=this.re.exec(this.flat.text)),r){let n=this.flat.from+r.index,i=n+r[0].length;if((this.flat.to>=this.to||r.index+r[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,i,r)))return this.value={from:n,to:i,match:r},this.matchPos=vg(this.text,i+(n==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=oc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(Vz.prototype[Symbol.iterator]=Fz.prototype[Symbol.iterator]=function(){return this});function Bde(t){try{return new RegExp(t,nN),!0}catch{return!1}}function vg(t,e){if(e>=t.length)return e;let r=t.lineAt(e),n;for(;e<r.to&&(n=r.text.charCodeAt(e-r.from))>=56320&&n<57344;)e++;return e}const zde=t=>{let{state:e}=t,r=String(e.doc.lineAt(t.state.selection.main.head).number),{close:n,result:i}=rue(t,{label:e.phrase("Go to line"),input:{type:"text",name:"line",value:r},focus:!0,submitLabel:e.phrase("go")});return i.then(a=>{let l=a&&/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(a.elements.line.value);if(!l){t.dispatch({effects:n});return}let o=e.doc.lineAt(e.selection.main.head),[,u,h,m,p]=l,y=m?+m.slice(1):0,x=h?+h:o.number;if(h&&p){let j=x/100;u&&(j=j*(u=="-"?-1:1)+o.number/e.doc.lines),x=Math.round(e.doc.lines*j)}else h&&u&&(x=x*(u=="-"?-1:1)+o.number);let b=e.doc.line(Math.max(1,Math.min(e.doc.lines,x))),N=ue.cursor(b.from+Math.max(0,Math.min(y,b.length)));t.dispatch({effects:[n,ge.scrollIntoView(N.from,{y:"center"})],selection:N})}),!0},Ide={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Ude=xe.define({combine(t){return Wi(t,Ide,{highlightWordAroundCursor:(e,r)=>e||r,minSelectionLength:Math.min,maxMatches:Math.min})}});function qde(t){return[Wde,Fde]}const Hde=Ae.mark({class:"cm-selectionMatch"}),$de=Ae.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function ZD(t,e,r,n){return(r==0||t(e.sliceDoc(r-1,r))!=xt.Word)&&(n==e.doc.length||t(e.sliceDoc(n,n+1))!=xt.Word)}function Vde(t,e,r,n){return t(e.sliceDoc(r,r+1))==xt.Word&&t(e.sliceDoc(n-1,n))==xt.Word}const Fde=Pt.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(Ude),{state:r}=t,n=r.selection;if(n.ranges.length>1)return Ae.none;let i=n.main,a,l=null;if(i.empty){if(!e.highlightWordAroundCursor)return Ae.none;let u=r.wordAt(i.head);if(!u)return Ae.none;l=r.charCategorizer(i.head),a=r.sliceDoc(u.from,u.to)}else{let u=i.to-i.from;if(u<e.minSelectionLength||u>200)return Ae.none;if(e.wholeWords){if(a=r.sliceDoc(i.from,i.to),l=r.charCategorizer(i.head),!(ZD(l,r,i.from,i.to)&&Vde(l,r,i.from,i.to)))return Ae.none}else if(a=r.sliceDoc(i.from,i.to),!a)return Ae.none}let o=[];for(let u of t.visibleRanges){let h=new Oc(r.doc,a,u.from,u.to);for(;!h.next().done;){let{from:m,to:p}=h.value;if((!l||ZD(l,r,m,p))&&(i.empty&&m<=i.from&&p>=i.to?o.push($de.range(m,p)):(m>=i.to||p<=i.from)&&o.push(Hde.range(m,p)),o.length>e.maxMatches))return Ae.none}}return Ae.set(o)}},{decorations:t=>t.decorations}),Wde=ge.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Kde=({state:t,dispatch:e})=>{let{selection:r}=t,n=ue.create(r.ranges.map(i=>t.wordAt(i.head)||ue.cursor(i.head)),r.mainIndex);return n.eq(r)?!1:(e(t.update({selection:n})),!0)};function Gde(t,e){let{main:r,ranges:n}=t.selection,i=t.wordAt(r.head),a=i&&i.from==r.from&&i.to==r.to;for(let l=!1,o=new Oc(t.doc,e,n[n.length-1].to);;)if(o.next(),o.done){if(l)return null;o=new Oc(t.doc,e,0,Math.max(0,n[n.length-1].from-1)),l=!0}else{if(l&&n.some(u=>u.from==o.value.from))continue;if(a){let u=t.wordAt(o.value.from);if(!u||u.from!=o.value.from||u.to!=o.value.to)continue}return o.value}}const Yde=({state:t,dispatch:e})=>{let{ranges:r}=t.selection;if(r.some(a=>a.from===a.to))return Kde({state:t,dispatch:e});let n=t.sliceDoc(r[0].from,r[0].to);if(t.selection.ranges.some(a=>t.sliceDoc(a.from,a.to)!=n))return!1;let i=Gde(t,n);return i?(e(t.update({selection:t.selection.addRange(ue.range(i.from,i.to),!1),effects:ge.scrollIntoView(i.to)})),!0):!1},Kc=xe.define({combine(t){return Wi(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new che(e),scrollToMatch:e=>ge.scrollIntoView(e)})}});class Wz{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||Bde(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord,this.test=e.test}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(r,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord&&this.test==e.test}create(){return this.regexp?new the(this):new Zde(this)}getCursor(e,r=0,n){let i=e.doc?e:Ve.create({doc:e});return n==null&&(n=i.doc.length),this.regexp?Go(this,i,r,n):Ko(this,i,r,n)}}class Kz{constructor(e){this.spec=e}}function Qde(t,e,r){return(n,i,a,l)=>{if(r&&!r(n,i,a,l))return!1;let o=n>=l&&i<=l+a.length?a.slice(n-l,i-l):e.doc.sliceString(n,i);return t(o,e,n,i)}}function Ko(t,e,r,n){let i;return t.wholeWord&&(i=Xde(e.doc,e.charCategorizer(e.selection.main.head))),t.test&&(i=Qde(t.test,e,i)),new Oc(e.doc,t.unquoted,r,n,t.caseSensitive?void 0:a=>a.toLowerCase(),i)}function Xde(t,e){return(r,n,i,a)=>((a>r||a+i.length<n)&&(a=Math.max(0,r-2),i=t.sliceString(a,Math.min(t.length,n+2))),(e(bg(i,r-a))!=xt.Word||e(wg(i,r-a))!=xt.Word)&&(e(wg(i,n-a))!=xt.Word||e(bg(i,n-a))!=xt.Word))}class Zde extends Kz{constructor(e){super(e)}nextMatch(e,r,n){let i=Ko(this.spec,e,n,e.doc.length).nextOverlapping();if(i.done){let a=Math.min(e.doc.length,r+this.spec.unquoted.length);i=Ko(this.spec,e,0,a).nextOverlapping()}return i.done||i.value.from==r&&i.value.to==n?null:i.value}prevMatchInRange(e,r,n){for(let i=n;;){let a=Math.max(r,i-1e4-this.spec.unquoted.length),l=Ko(this.spec,e,a,i),o=null;for(;!l.nextOverlapping().done;)o=l.value;if(o)return o;if(a==r)return null;i-=1e4}}prevMatch(e,r,n){let i=this.prevMatchInRange(e,0,r);return i||(i=this.prevMatchInRange(e,Math.max(0,n-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=r||i.to!=n)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,r){let n=Ko(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=r)return null;i.push(n.value)}return i}highlight(e,r,n,i){let a=Ko(this.spec,e,Math.max(0,r-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!a.next().done;)i(a.value.from,a.value.to)}}function Jde(t,e,r){return(n,i,a)=>(!r||r(n,i,a))&&t(a[0],e,n,i)}function Go(t,e,r,n){let i;return t.wholeWord&&(i=ehe(e.charCategorizer(e.selection.main.head))),t.test&&(i=Jde(t.test,e,i)),new Vz(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:i},r,n)}function bg(t,e){return t.slice(rr(t,e,!1),e)}function wg(t,e){return t.slice(e,rr(t,e))}function ehe(t){return(e,r,n)=>!n[0].length||(t(bg(n.input,n.index))!=xt.Word||t(wg(n.input,n.index))!=xt.Word)&&(t(wg(n.input,n.index+n[0].length))!=xt.Word||t(bg(n.input,n.index+n[0].length))!=xt.Word)}class the extends Kz{nextMatch(e,r,n){let i=Go(this.spec,e,n,e.doc.length).next();return i.done&&(i=Go(this.spec,e,0,r).next()),i.done?null:i.value}prevMatchInRange(e,r,n){for(let i=1;;i++){let a=Math.max(r,n-i*1e4),l=Go(this.spec,e,a,n),o=null;for(;!l.next().done;)o=l.value;if(o&&(a==r||o.from>a+10))return o;if(a==r)return null}}prevMatch(e,r,n){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(r,n)=>{if(n=="&")return e.match[0];if(n=="$")return"$";for(let i=n.length;i>0;i--){let a=+n.slice(0,i);if(a>0&&a<e.match.length)return e.match[a]+n.slice(i)}return r})}matchAll(e,r){let n=Go(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=r)return null;i.push(n.value)}return i}highlight(e,r,n,i){let a=Go(this.spec,e,Math.max(0,r-250),Math.min(n+250,e.doc.length));for(;!a.next().done;)i(a.value.from,a.value.to)}}const nd=Pe.define(),iN=Pe.define(),As=jr.define({create(t){return new y1(TS(t).create(),null)},update(t,e){for(let r of e.effects)r.is(nd)?t=new y1(r.value.create(),t.panel):r.is(iN)&&(t=new y1(t.query,r.value?aN:null));return t},provide:t=>Jf.from(t,e=>e.panel)});class y1{constructor(e,r){this.query=e,this.panel=r}}const rhe=Ae.mark({class:"cm-searchMatch"}),nhe=Ae.mark({class:"cm-searchMatch cm-searchMatch-selected"}),ihe=Pt.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(As))}update(t){let e=t.state.field(As);(e!=t.startState.field(As)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Ae.none;let{view:r}=this,n=new Ta;for(let i=0,a=r.visibleRanges,l=a.length;i<l;i++){let{from:o,to:u}=a[i];for(;i<l-1&&u>a[i+1].from-500;)u=a[++i].to;t.highlight(r.state,o,u,(h,m)=>{let p=r.state.selection.ranges.some(y=>y.from==h&&y.to==m);n.add(h,m,p?nhe:rhe)})}return n.finish()}},{decorations:t=>t.decorations});function Pd(t){return e=>{let r=e.state.field(As,!1);return r&&r.query.spec.valid?t(e,r):Qz(e)}}const Sg=Pd((t,{query:e})=>{let{to:r}=t.state.selection.main,n=e.nextMatch(t.state,r,r);if(!n)return!1;let i=ue.single(n.from,n.to),a=t.state.facet(Kc);return t.dispatch({selection:i,effects:[sN(t,n),a.scrollToMatch(i.main,t)],userEvent:"select.search"}),Yz(t),!0}),jg=Pd((t,{query:e})=>{let{state:r}=t,{from:n}=r.selection.main,i=e.prevMatch(r,n,n);if(!i)return!1;let a=ue.single(i.from,i.to),l=t.state.facet(Kc);return t.dispatch({selection:a,effects:[sN(t,i),l.scrollToMatch(a.main,t)],userEvent:"select.search"}),Yz(t),!0}),ahe=Pd((t,{query:e})=>{let r=e.matchAll(t.state,1e3);return!r||!r.length?!1:(t.dispatch({selection:ue.create(r.map(n=>ue.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),she=({state:t,dispatch:e})=>{let r=t.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:n,to:i}=r.main,a=[],l=0;for(let o=new Oc(t.doc,t.sliceDoc(n,i));!o.next().done;){if(a.length>1e3)return!1;o.value.from==n&&(l=a.length),a.push(ue.range(o.value.from,o.value.to))}return e(t.update({selection:ue.create(a,l),userEvent:"select.search.matches"})),!0},JD=Pd((t,{query:e})=>{let{state:r}=t,{from:n,to:i}=r.selection.main;if(r.readOnly)return!1;let a=e.nextMatch(r,n,n);if(!a)return!1;let l=a,o=[],u,h,m=[];l.from==n&&l.to==i&&(h=r.toText(e.getReplacement(l)),o.push({from:l.from,to:l.to,insert:h}),l=e.nextMatch(r,l.from,l.to),m.push(ge.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(n).number)+".")));let p=t.state.changes(o);return l&&(u=ue.single(l.from,l.to).map(p),m.push(sN(t,l)),m.push(r.facet(Kc).scrollToMatch(u.main,t))),t.dispatch({changes:p,selection:u,effects:m,userEvent:"input.replace"}),!0}),lhe=Pd((t,{query:e})=>{if(t.state.readOnly)return!1;let r=e.matchAll(t.state,1e9).map(i=>{let{from:a,to:l}=i;return{from:a,to:l,insert:e.getReplacement(i)}});if(!r.length)return!1;let n=t.state.phrase("replaced $ matches",r.length)+".";return t.dispatch({changes:r,effects:ge.announce.of(n),userEvent:"input.replace.all"}),!0});function aN(t){return t.state.facet(Kc).createPanel(t)}function TS(t,e){var r,n,i,a,l;let o=t.selection.main,u=o.empty||o.to>o.from+100?"":t.sliceDoc(o.from,o.to);if(e&&!u)return e;let h=t.facet(Kc);return new Wz({search:((r=e?.literal)!==null&&r!==void 0?r:h.literal)?u:u.replace(/\n/g,"\\n"),caseSensitive:(n=e?.caseSensitive)!==null&&n!==void 0?n:h.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:h.literal,regexp:(a=e?.regexp)!==null&&a!==void 0?a:h.regexp,wholeWord:(l=e?.wholeWord)!==null&&l!==void 0?l:h.wholeWord})}function Gz(t){let e=Kj(t,aN);return e&&e.dom.querySelector("[main-field]")}function Yz(t){let e=Gz(t);e&&e==t.root.activeElement&&e.select()}const Qz=t=>{let e=t.state.field(As,!1);if(e&&e.panel){let r=Gz(t);if(r&&r!=t.root.activeElement){let n=TS(t.state,e.query.spec);n.valid&&t.dispatch({effects:nd.of(n)}),r.focus(),r.select()}}else t.dispatch({effects:[iN.of(!0),e?nd.of(TS(t.state,e.query.spec)):Pe.appendConfig.of(fhe)]});return!0},Xz=t=>{let e=t.state.field(As,!1);if(!e||!e.panel)return!1;let r=Kj(t,aN);return r&&r.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:iN.of(!1)}),!0},ohe=[{key:"Mod-f",run:Qz,scope:"editor search-panel"},{key:"F3",run:Sg,shift:jg,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Sg,shift:jg,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Xz,scope:"editor search-panel"},{key:"Mod-Shift-l",run:she},{key:"Mod-Alt-g",run:zde},{key:"Mod-d",run:Yde,preventDefault:!0}];class che{constructor(e){this.view=e;let r=this.query=e.state.field(As).query.spec;this.commit=this.commit.bind(this),this.searchField=it("input",{value:r.search,placeholder:gn(e,"Find"),"aria-label":gn(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=it("input",{value:r.replace,placeholder:gn(e,"Replace"),"aria-label":gn(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=it("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=it("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=it("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit});function n(i,a,l){return it("button",{class:"cm-button",name:i,onclick:a,type:"button"},l)}this.dom=it("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,n("next",()=>Sg(e),[gn(e,"next")]),n("prev",()=>jg(e),[gn(e,"previous")]),n("select",()=>ahe(e),[gn(e,"all")]),it("label",null,[this.caseField,gn(e,"match case")]),it("label",null,[this.reField,gn(e,"regexp")]),it("label",null,[this.wordField,gn(e,"by word")]),...e.state.readOnly?[]:[it("br"),this.replaceField,n("replace",()=>JD(e),[gn(e,"replace")]),n("replaceAll",()=>lhe(e),[gn(e,"replace all")])],it("button",{name:"close",onclick:()=>Xz(e),"aria-label":gn(e,"close"),type:"button"},[""])])}commit(){let e=new Wz({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:nd.of(e)}))}keydown(e){dce(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?jg:Sg)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),JD(this.view))}update(e){for(let r of e.transactions)for(let n of r.effects)n.is(nd)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Kc).top}}function gn(t,e){return t.state.phrase(e)}const Pm=30,Rm=/[\s\.,:;?!]/;function sN(t,{from:e,to:r}){let n=t.state.doc.lineAt(e),i=t.state.doc.lineAt(r).to,a=Math.max(n.from,e-Pm),l=Math.min(i,r+Pm),o=t.state.sliceDoc(a,l);if(a!=n.from){for(let u=0;u<Pm;u++)if(!Rm.test(o[u+1])&&Rm.test(o[u])){o=o.slice(u);break}}if(l!=i){for(let u=o.length-1;u>o.length-Pm;u--)if(!Rm.test(o[u-1])&&Rm.test(o[u])){o=o.slice(0,u);break}}return ge.announce.of(`${t.state.phrase("current match")}. ${o} ${t.state.phrase("on line")} ${n.number}.`)}const uhe=ge.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),fhe=[As,eo.low(ihe),uhe];class Zz{constructor(e,r,n,i){this.state=e,this.pos=r,this.explicit=n,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let r=nr(this.state).resolveInner(this.pos,-1);for(;r&&e.indexOf(r.name)<0;)r=r.parent;return r?{from:r.from,to:this.pos,text:this.state.sliceDoc(r.from,this.pos),type:r.type}:null}matchBefore(e){let r=this.state.doc.lineAt(this.pos),n=Math.max(r.from,this.pos-250),i=r.text.slice(n-r.from,this.pos-r.from),a=i.search(eI(e,!1));return a<0?null:{from:n+a,to:this.pos,text:i.slice(a)}}get aborted(){return this.abortListeners==null}addEventListener(e,r,n){e=="abort"&&this.abortListeners&&(this.abortListeners.push(r),n&&n.onDocChange&&(this.abortOnDocChange=!0))}}function e3(t){let e=Object.keys(t).join(""),r=/\w/.test(e);return r&&(e=e.replace(/\w/g,"")),`[${r?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function dhe(t){let e=Object.create(null),r=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let a=1;a<i.length;a++)r[i[a]]=!0}let n=e3(e)+e3(r)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function Jz(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[r,n]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:dhe(e);return i=>{let a=i.matchBefore(n);return a||i.explicit?{from:a?a.from:i.pos,options:e,validFor:r}:null}}function hhe(t,e){return r=>{for(let n=nr(r.state).resolveInner(r.pos,-1);n;n=n.parent){if(t.indexOf(n.name)>-1)return null;if(n.type.isTop)break}return e(r)}}class t3{constructor(e,r,n,i){this.completion=e,this.source=r,this.match=n,this.score=i}}function _l(t){return t.selection.main.from}function eI(t,e){var r;let{source:n}=t,i=e&&n[0]!="^",a=n[n.length-1]!="$";return!i&&!a?t:new RegExp(`${i?"^":""}(?:${n})${a?"$":""}`,(r=t.flags)!==null&&r!==void 0?r:t.ignoreCase?"i":"")}const tI=Fi.define();function mhe(t,e,r,n){let{main:i}=t.selection,a=r-i.from,l=n-i.from;return{...t.changeByRange(o=>{if(o!=i&&r!=n&&t.sliceDoc(o.from+a,o.from+l)!=t.sliceDoc(r,n))return{range:o};let u=t.toText(e);return{changes:{from:o.from+a,to:n==i.from?o.to:o.from+l,insert:u},range:ue.cursor(o.from+a+u.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const r3=new WeakMap;function phe(t){if(!Array.isArray(t))return t;let e=r3.get(t);return e||r3.set(t,e=Jz(t)),e}const Ng=Pe.define(),id=Pe.define();class ghe{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let r=0;r<e.length;){let n=Wr(e,r),i=Ei(n);this.chars.push(n);let a=e.slice(r,r+i),l=a.toUpperCase();this.folded.push(Wr(l==a?a.toLowerCase():l,0)),r+=i}this.astral=e.length!=this.chars.length}ret(e,r){return this.score=e,this.matched=r,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:r,folded:n,any:i,precise:a,byWord:l}=this;if(r.length==1){let A=Wr(e,0),k=Ei(A),T=k==e.length?0:-100;if(A!=r[0])if(A==n[0])T+=-200;else return null;return this.ret(T,[0,k])}let o=e.indexOf(this.pattern);if(o==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let u=r.length,h=0;if(o<0){for(let A=0,k=Math.min(e.length,200);A<k&&h<u;){let T=Wr(e,A);(T==r[h]||T==n[h])&&(i[h++]=A),A+=Ei(T)}if(h<u)return null}let m=0,p=0,y=!1,x=0,b=-1,N=-1,j=/[a-z]/.test(e),C=!0;for(let A=0,k=Math.min(e.length,200),T=0;A<k&&p<u;){let D=Wr(e,A);o<0&&(m<u&&D==r[m]&&(a[m++]=A),x<u&&(D==r[x]||D==n[x]?(x==0&&(b=A),N=A+1,x++):x=0));let M,E=D<255?D>=48&&D<=57||D>=97&&D<=122?2:D>=65&&D<=90?1:0:(M=Ej(D))!=M.toLowerCase()?1:M!=M.toUpperCase()?2:0;(!A||E==1&&j||T==0&&E!=0)&&(r[p]==D||n[p]==D&&(y=!0)?l[p++]=A:l.length&&(C=!1)),T=E,A+=Ei(D)}return p==u&&l[0]==0&&C?this.result(-100+(y?-200:0),l,e):x==u&&b==0?this.ret(-200-e.length+(N==e.length?0:-100),[0,N]):o>-1?this.ret(-700-e.length,[o,o+this.pattern.length]):x==u?this.ret(-900-e.length,[b,N]):p==u?this.result(-100+(y?-200:0)+-700+(C?0:-1100),l,e):r.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,r,n){let i=[],a=0;for(let l of r){let o=l+(this.astral?Ei(Wr(n,l)):1);a&&i[a-1]==l?i[a-1]=o:(i[a++]=l,i[a++]=o)}return this.ret(e-n.length,i)}}class yhe{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let r=e.slice(0,this.pattern.length),n=r==this.pattern?0:r.toLowerCase()==this.folded?-200:null;return n==null?null:(this.matched=[0,r.length],this.score=n+(e.length==this.pattern.length?0:-100),this)}}const tr=xe.define({combine(t){return Wi(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:xhe,filterStrict:!1,compareCompletions:(e,r)=>(e.sortText||e.label).localeCompare(r.sortText||r.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,r)=>e&&r,closeOnBlur:(e,r)=>e&&r,icons:(e,r)=>e&&r,tooltipClass:(e,r)=>n=>n3(e(n),r(n)),optionClass:(e,r)=>n=>n3(e(n),r(n)),addToOptions:(e,r)=>e.concat(r),filterStrict:(e,r)=>e||r})}});function n3(t,e){return t?e?t+" "+e:t:e}function xhe(t,e,r,n,i,a){let l=t.textDirection==ct.RTL,o=l,u=!1,h="top",m,p,y=e.left-i.left,x=i.right-e.right,b=n.right-n.left,N=n.bottom-n.top;if(o&&y<Math.min(b,x)?o=!1:!o&&x<Math.min(b,y)&&(o=!0),b<=(o?y:x))m=Math.max(i.top,Math.min(r.top,i.bottom-N))-e.top,p=Math.min(400,o?y:x);else{u=!0,p=Math.min(400,(l?e.right:i.right-e.left)-30);let A=i.bottom-e.bottom;A>=N||A>e.top?m=r.bottom-e.top:(h="bottom",m=e.bottom-r.top)}let j=(e.bottom-e.top)/a.offsetHeight,C=(e.right-e.left)/a.offsetWidth;return{style:`${h}: ${m/j}px; max-width: ${p/C}px`,class:"cm-completionInfo-"+(u?l?"left-narrow":"right-narrow":o?"left":"right")}}function vhe(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(r){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),r.type&&n.classList.add(...r.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),n.setAttribute("aria-hidden","true"),n},position:20}),e.push({render(r,n,i,a){let l=document.createElement("span");l.className="cm-completionLabel";let o=r.displayLabel||r.label,u=0;for(let h=0;h<a.length;){let m=a[h++],p=a[h++];m>u&&l.appendChild(document.createTextNode(o.slice(u,m)));let y=l.appendChild(document.createElement("span"));y.appendChild(document.createTextNode(o.slice(m,p))),y.className="cm-completionMatchedText",u=p}return u<o.length&&l.appendChild(document.createTextNode(o.slice(u))),l},position:50},{render(r){if(!r.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=r.detail,n},position:80}),e.sort((r,n)=>r.position-n.position).map(r=>r.render)}function x1(t,e,r){if(t<=r)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/r);return{from:i*r,to:(i+1)*r}}let n=Math.floor((t-e)/r);return{from:t-(n+1)*r,to:t-n*r}}class bhe{constructor(e,r,n){this.view=e,this.stateField=r,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:u=>this.placeInfo(u),key:this},this.space=null,this.currentClass="";let i=e.state.field(r),{options:a,selected:l}=i.open,o=e.state.facet(tr);this.optionContent=vhe(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=x1(a.length,l,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",u=>{let{options:h}=e.state.field(r).open;for(let m=u.target,p;m&&m!=this.dom;m=m.parentNode)if(m.nodeName=="LI"&&(p=/-(\d+)$/.exec(m.id))&&+p[1]<h.length){this.applyCompletion(e,h[+p[1]]),u.preventDefault();return}}),this.dom.addEventListener("focusout",u=>{let h=e.state.field(this.stateField,!1);h&&h.tooltip&&e.state.facet(tr).closeOnBlur&&u.relatedTarget!=e.contentDOM&&e.dispatch({effects:id.of(null)})}),this.showOptions(a,i.id)}mount(){this.updateSel()}showOptions(e,r){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,r,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var r;let n=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=i){let{options:a,selected:l,disabled:o}=n.open;(!i.open||i.open.options!=a)&&(this.range=x1(a.length,l,e.state.facet(tr).maxRenderedOptions),this.showOptions(a,n.id)),this.updateSel(),o!=((r=i.open)===null||r===void 0?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(e){let r=this.tooltipClass(e);if(r!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of r.split(" "))n&&this.dom.classList.add(n);this.currentClass=r}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),r=e.open;(r.selected>-1&&r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=x1(r.options.length,r.selected,this.view.state.facet(tr).maxRenderedOptions),this.showOptions(r.options,e.id));let n=this.updateSelectedOption(r.selected);if(n){this.destroyInfo();let{completion:i}=r.options[r.selected],{info:a}=i;if(!a)return;let l=typeof a=="string"?document.createTextNode(a):a(i);if(!l)return;"then"in l?l.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,i)}).catch(o=>Zr(this.view.state,o,"completion info")):(this.addInfoPane(l,i),n.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,r){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",n.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)n.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:a}=e;n.appendChild(i),this.infoDestroy=a||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let r=null;for(let n=this.list.firstChild,i=this.range.from;n;n=n.nextSibling,i++)n.nodeName!="LI"||!n.id?i--:i==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),r=n):n.hasAttribute("aria-selected")&&(n.removeAttribute("aria-selected"),n.removeAttribute("aria-describedby"));return r&&She(this.list,r),r}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let r=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),a=this.space;if(!a){let l=this.dom.ownerDocument.documentElement;a={left:0,top:0,right:l.clientWidth,bottom:l.clientHeight}}return i.top>Math.min(a.bottom,r.bottom)-10||i.bottom<Math.max(a.top,r.top)+10?null:this.view.state.facet(tr).positionInfo(this.view,r,i,n,a,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,r,n){const i=document.createElement("ul");i.id=r,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",l=>{l.target==i&&l.preventDefault()});let a=null;for(let l=n.from;l<n.to;l++){let{completion:o,match:u}=e[l],{section:h}=o;if(h){let y=typeof h=="string"?h:h.name;if(y!=a&&(l>n.from||n.from==0))if(a=y,typeof h!="string"&&h.header)i.appendChild(h.header(h));else{let x=i.appendChild(document.createElement("completion-section"));x.textContent=y}}const m=i.appendChild(document.createElement("li"));m.id=r+"-"+l,m.setAttribute("role","option");let p=this.optionClass(o);p&&(m.className=p);for(let y of this.optionContent){let x=y(o,this.view.state,this.view,u);x&&m.appendChild(x)}}return n.from&&i.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function whe(t,e){return r=>new bhe(r,t,e)}function She(t,e){let r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),i=r.height/t.offsetHeight;n.top<r.top?t.scrollTop-=(r.top-n.top)/i:n.bottom>r.bottom&&(t.scrollTop+=(n.bottom-r.bottom)/i)}function i3(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function jhe(t,e){let r=[],n=null,i=null,a=m=>{r.push(m);let{section:p}=m.completion;if(p){n||(n=[]);let y=typeof p=="string"?p:p.name;n.some(x=>x.name==y)||n.push(typeof p=="string"?{name:y}:p)}},l=e.facet(tr);for(let m of t)if(m.hasResult()){let p=m.result.getMatch;if(m.result.filter===!1)for(let y of m.result.options)a(new t3(y,m.source,p?p(y):[],1e9-r.length));else{let y=e.sliceDoc(m.from,m.to),x,b=l.filterStrict?new yhe(y):new ghe(y);for(let N of m.result.options)if(x=b.match(N.label)){let j=N.displayLabel?p?p(N,x.matched):[]:x.matched,C=x.score+(N.boost||0);if(a(new t3(N,m.source,j,C)),typeof N.section=="object"&&N.section.rank==="dynamic"){let{name:A}=N.section;i||(i=Object.create(null)),i[A]=Math.max(C,i[A]||-1e9)}}}}if(n){let m=Object.create(null),p=0,y=(x,b)=>(x.rank==="dynamic"&&b.rank==="dynamic"?i[b.name]-i[x.name]:0)||(typeof x.rank=="number"?x.rank:1e9)-(typeof b.rank=="number"?b.rank:1e9)||(x.name<b.name?-1:1);for(let x of n.sort(y))p-=1e5,m[x.name]=p;for(let x of r){let{section:b}=x.completion;b&&(x.score+=m[typeof b=="string"?b:b.name])}}let o=[],u=null,h=l.compareCompletions;for(let m of r.sort((p,y)=>y.score-p.score||h(p.completion,y.completion))){let p=m.completion;!u||u.label!=p.label||u.detail!=p.detail||u.type!=null&&p.type!=null&&u.type!=p.type||u.apply!=p.apply||u.boost!=p.boost?o.push(m):i3(m.completion)>i3(u)&&(o[o.length-1]=m),u=m.completion}return o}class ec{constructor(e,r,n,i,a,l){this.options=e,this.attrs=r,this.tooltip=n,this.timestamp=i,this.selected=a,this.disabled=l}setSelected(e,r){return e==this.selected||e>=this.options.length?this:new ec(this.options,a3(r,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,r,n,i,a,l){if(i&&!l&&e.some(h=>h.isPending))return i.setDisabled();let o=jhe(e,r);if(!o.length)return i&&e.some(h=>h.isPending)?i.setDisabled():null;let u=r.facet(tr).selectOnOpen?0:-1;if(i&&i.selected!=u&&i.selected!=-1){let h=i.options[i.selected].completion;for(let m=0;m<o.length;m++)if(o[m].completion==h){u=m;break}}return new ec(o,a3(n,u),{pos:e.reduce((h,m)=>m.hasResult()?Math.min(h,m.from):h,1e8),create:Ehe,above:a.aboveCursor},i?i.timestamp:Date.now(),u,!1)}map(e){return new ec(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new ec(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Cg{constructor(e,r,n){this.active=e,this.id=r,this.open=n}static start(){return new Cg(Ohe,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:r}=e,n=r.facet(tr),a=(n.override||r.languageDataAt("autocomplete",_l(r)).map(phe)).map(u=>(this.active.find(m=>m.source==u)||new Kn(u,this.active.some(m=>m.state!=0)?1:0)).update(e,n));a.length==this.active.length&&a.every((u,h)=>u==this.active[h])&&(a=this.active);let l=this.open,o=e.effects.some(u=>u.is(lN));l&&e.docChanged&&(l=l.map(e.changes)),e.selection||a.some(u=>u.hasResult()&&e.changes.touchesRange(u.from,u.to))||!Nhe(a,this.active)||o?l=ec.build(a,r,this.id,l,n,o):l&&l.disabled&&!a.some(u=>u.isPending)&&(l=null),!l&&a.every(u=>!u.isPending)&&a.some(u=>u.hasResult())&&(a=a.map(u=>u.hasResult()?new Kn(u.source,0):u));for(let u of e.effects)u.is(nI)&&(l=l&&l.setSelected(u.value,this.id));return a==this.active&&l==this.open?this:new Cg(a,this.id,l)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Che:khe}}function Nhe(t,e){if(t==e)return!0;for(let r=0,n=0;;){for(;r<t.length&&!t[r].hasResult();)r++;for(;n<e.length&&!e[n].hasResult();)n++;let i=r==t.length,a=n==e.length;if(i||a)return i==a;if(t[r++].result!=e[n++].result)return!1}}const Che={"aria-autocomplete":"list"},khe={};function a3(t,e){let r={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(r["aria-activedescendant"]=t+"-"+e),r}const Ohe=[];function rI(t,e){if(t.isUserEvent("input.complete")){let n=t.annotation(tI);if(n&&e.activateOnCompletion(n))return 12}let r=t.isUserEvent("input.type");return r&&e.activateOnTyping?5:r?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class Kn{constructor(e,r,n=!1){this.source=e,this.state=r,this.explicit=n}hasResult(){return!1}get isPending(){return this.state==1}update(e,r){let n=rI(e,r),i=this;(n&8||n&16&&this.touches(e))&&(i=new Kn(i.source,0)),n&4&&i.state==0&&(i=new Kn(this.source,1)),i=i.updateFor(e,n);for(let a of e.effects)if(a.is(Ng))i=new Kn(i.source,1,a.value);else if(a.is(id))i=new Kn(i.source,0);else if(a.is(lN))for(let l of a.value)l.source==i.source&&(i=l);return i}updateFor(e,r){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(_l(e.state))}}class cc extends Kn{constructor(e,r,n,i,a,l){super(e,3,r),this.limit=n,this.result=i,this.from=a,this.to=l}hasResult(){return!0}updateFor(e,r){var n;if(!(r&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let a=e.changes.mapPos(this.from),l=e.changes.mapPos(this.to,1),o=_l(e.state);if(o>l||!i||r&2&&(_l(e.startState)==this.from||o<this.limit))return new Kn(this.source,r&4?1:0);let u=e.changes.mapPos(this.limit);return Ahe(i.validFor,e.state,a,l)?new cc(this.source,this.explicit,u,i,a,l):i.update&&(i=i.update(i,a,l,new Zz(e.state,o,!1)))?new cc(this.source,this.explicit,u,i,i.from,(n=i.to)!==null&&n!==void 0?n:_l(e.state)):new Kn(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new cc(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Kn(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function Ahe(t,e,r,n){if(!t)return!1;let i=e.sliceDoc(r,n);return typeof t=="function"?t(i,r,n,e):eI(t,!0).test(i)}const lN=Pe.define({map(t,e){return t.map(r=>r.map(e))}}),nI=Pe.define(),Kr=jr.define({create(){return Cg.start()},update(t,e){return t.update(e)},provide:t=>[Wj.from(t,e=>e.tooltip),ge.contentAttributes.from(t,e=>e.attrs)]});function oN(t,e){const r=e.completion.apply||e.completion.label;let n=t.state.field(Kr).active.find(i=>i.source==e.source);return n instanceof cc?(typeof r=="string"?t.dispatch({...mhe(t.state,r,n.from,n.to),annotations:tI.of(e.completion)}):r(t,e.completion,n.from,n.to),!0):!1}const Ehe=whe(Kr,oN);function Lm(t,e="option"){return r=>{let n=r.state.field(Kr,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<r.state.facet(tr).interactionDelay)return!1;let i=1,a;e=="page"&&(a=PB(r,n.open.tooltip))&&(i=Math.max(2,Math.floor(a.dom.offsetHeight/a.dom.querySelector("li").offsetHeight)-1));let{length:l}=n.open.options,o=n.open.selected>-1?n.open.selected+i*(t?1:-1):t?0:l-1;return o<0?o=e=="page"?0:l-1:o>=l&&(o=e=="page"?l-1:0),r.dispatch({effects:nI.of(o)}),!0}}const The=t=>{let e=t.state.field(Kr,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(tr).interactionDelay?!1:oN(t,e.open.options[e.open.selected])},v1=t=>t.state.field(Kr,!1)?(t.dispatch({effects:Ng.of(!0)}),!0):!1,Mhe=t=>{let e=t.state.field(Kr,!1);return!e||!e.active.some(r=>r.state!=0)?!1:(t.dispatch({effects:id.of(null)}),!0)};class Dhe{constructor(e,r){this.active=e,this.context=r,this.time=Date.now(),this.updates=[],this.done=void 0}}const _he=50,Phe=1e3,Rhe=Pt.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Kr).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(Kr),r=t.state.facet(tr);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Kr)==e)return;let n=t.transactions.some(a=>{let l=rI(a,r);return l&8||(a.selection||a.docChanged)&&!(l&3)});for(let a=0;a<this.running.length;a++){let l=this.running[a];if(n||l.context.abortOnDocChange&&t.docChanged||l.updates.length+t.transactions.length>_he&&Date.now()-l.time>Phe){for(let o of l.context.abortListeners)try{o()}catch(u){Zr(this.view.state,u)}l.context.abortListeners=null,this.running.splice(a--,1)}else l.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(a=>a.effects.some(l=>l.is(Ng)))&&(this.pendingStart=!0);let i=this.pendingStart?50:r.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(a=>a.isPending&&!this.running.some(l=>l.active.source==a.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let a of t.transactions)a.isUserEvent("input.type")?this.composing=2:this.composing==2&&a.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Kr);for(let r of e.active)r.isPending&&!this.running.some(n=>n.active.source==r.source)&&this.startQuery(r);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(tr).updateSyncTime))}startQuery(t){let{state:e}=this.view,r=_l(e),n=new Zz(e,r,t.explicit,this.view),i=new Dhe(t,n);this.running.push(i),Promise.resolve(t.source(n)).then(a=>{i.context.aborted||(i.done=a||null,this.scheduleAccept())},a=>{this.view.dispatch({effects:id.of(null)}),Zr(this.view.state,a)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(tr).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],r=this.view.state.facet(tr),n=this.view.state.field(Kr);for(let i=0;i<this.running.length;i++){let a=this.running[i];if(a.done===void 0)continue;if(this.running.splice(i--,1),a.done){let o=_l(a.updates.length?a.updates[0].startState:this.view.state),u=Math.min(o,a.done.from+(a.active.explicit?0:1)),h=new cc(a.active.source,a.active.explicit,u,a.done,a.done.from,(t=a.done.to)!==null&&t!==void 0?t:o);for(let m of a.updates)h=h.update(m,r);if(h.hasResult()){e.push(h);continue}}let l=n.active.find(o=>o.source==a.active.source);if(l&&l.isPending)if(a.done==null){let o=new Kn(a.active.source,0);for(let u of a.updates)o=o.update(u,r);o.isPending||e.push(o)}else this.startQuery(l)}(e.length||n.open&&n.open.disabled)&&this.view.dispatch({effects:lN.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Kr,!1);if(e&&e.tooltip&&this.view.state.facet(tr).closeOnBlur){let r=e.open&&PB(this.view,e.open.tooltip);(!r||!r.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:id.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Ng.of(!1)}),20),this.composing=0}}}),Lhe=typeof navigator=="object"&&/Win/.test(navigator.platform),Bhe=eo.highest(ge.domEventHandlers({keydown(t,e){let r=e.state.field(Kr,!1);if(!r||!r.open||r.open.disabled||r.open.selected<0||t.key.length>1||t.ctrlKey&&!(Lhe&&t.altKey)||t.metaKey)return!1;let n=r.open.options[r.open.selected],i=r.active.find(l=>l.source==n.source),a=n.completion.commitCharacters||i.result.commitCharacters;return a&&a.indexOf(t.key)>-1&&oN(e,n),!1}})),zhe=ge.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),ad={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Ol=Pe.define({map(t,e){let r=e.mapPos(t,-1,Dr.TrackAfter);return r??void 0}}),cN=new class extends _s{};cN.startSide=1;cN.endSide=-1;const iI=jr.define({create(){return Ue.empty},update(t,e){if(t=t.map(e.changes),e.selection){let r=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:n=>n>=r.from&&n<=r.to})}for(let r of e.effects)r.is(Ol)&&(t=t.update({add:[cN.range(r.value,r.value+1)]}));return t}});function Ihe(){return[qhe,iI]}const b1="()[]{}<>";function aI(t){for(let e=0;e<b1.length;e+=2)if(b1.charCodeAt(e)==t)return b1.charAt(e+1);return Ej(t<128?t:t+1)}function sI(t,e){return t.languageDataAt("closeBrackets",e)[0]||ad}const Uhe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),qhe=ge.inputHandler.of((t,e,r,n)=>{if((Uhe?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(n.length>2||n.length==2&&Ei(Wr(n,0))==1||e!=i.from||r!=i.to)return!1;let a=Vhe(t.state,n);return a?(t.dispatch(a),!0):!1}),Hhe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=sI(t,t.selection.main.head).brackets||ad.brackets,i=null,a=t.changeByRange(l=>{if(l.empty){let o=Fhe(t.doc,l.head);for(let u of n)if(u==o&&$0(t.doc,l.head)==aI(Wr(u,0)))return{changes:{from:l.head-u.length,to:l.head+u.length},range:ue.cursor(l.head-u.length)}}return{range:i=l}});return i||e(t.update(a,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},$he=[{key:"Backspace",run:Hhe}];function Vhe(t,e){let r=sI(t,t.selection.main.head),n=r.brackets||ad.brackets;for(let i of n){let a=aI(Wr(i,0));if(e==i)return a==i?Ghe(t,i,n.indexOf(i+i+i)>-1,r):Whe(t,i,a,r.before||ad.before);if(e==a&&lI(t,t.selection.main.from))return Khe(t,i,a)}return null}function lI(t,e){let r=!1;return t.field(iI).between(0,t.doc.length,n=>{n==e&&(r=!0)}),r}function $0(t,e){let r=t.sliceString(e,e+2);return r.slice(0,Ei(Wr(r,0)))}function Fhe(t,e){let r=t.sliceString(e-2,e);return Ei(Wr(r,0))==r.length?r:r.slice(1)}function Whe(t,e,r,n){let i=null,a=t.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:r,from:l.to}],effects:Ol.of(l.to+e.length),range:ue.range(l.anchor+e.length,l.head+e.length)};let o=$0(t.doc,l.head);return!o||/\s/.test(o)||n.indexOf(o)>-1?{changes:{insert:e+r,from:l.head},effects:Ol.of(l.head+e.length),range:ue.cursor(l.head+e.length)}:{range:i=l}});return i?null:t.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function Khe(t,e,r){let n=null,i=t.changeByRange(a=>a.empty&&$0(t.doc,a.head)==r?{changes:{from:a.head,to:a.head+r.length,insert:r},range:ue.cursor(a.head+r.length)}:n={range:a});return n?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function Ghe(t,e,r,n){let i=n.stringPrefixes||ad.stringPrefixes,a=null,l=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:e,from:o.to}],effects:Ol.of(o.to+e.length),range:ue.range(o.anchor+e.length,o.head+e.length)};let u=o.head,h=$0(t.doc,u),m;if(h==e){if(s3(t,u))return{changes:{insert:e+e,from:u},effects:Ol.of(u+e.length),range:ue.cursor(u+e.length)};if(lI(t,u)){let y=r&&t.sliceDoc(u,u+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:u,to:u+y.length,insert:y},range:ue.cursor(u+y.length)}}}else{if(r&&t.sliceDoc(u-2*e.length,u)==e+e&&(m=l3(t,u-2*e.length,i))>-1&&s3(t,m))return{changes:{insert:e+e+e+e,from:u},effects:Ol.of(u+e.length),range:ue.cursor(u+e.length)};if(t.charCategorizer(u)(h)!=xt.Word&&l3(t,u,i)>-1&&!Yhe(t,u,e,i))return{changes:{insert:e+e,from:u},effects:Ol.of(u+e.length),range:ue.cursor(u+e.length)}}return{range:a=o}});return a?null:t.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function s3(t,e){let r=nr(t).resolveInner(e+1);return r.parent&&r.from==e}function Yhe(t,e,r,n){let i=nr(t).resolveInner(e,-1),a=n.reduce((l,o)=>Math.max(l,o.length),0);for(let l=0;l<5;l++){let o=t.sliceDoc(i.from,Math.min(i.to,i.from+r.length+a)),u=o.indexOf(r);if(!u||u>-1&&n.indexOf(o.slice(0,u))>-1){let m=i.firstChild;for(;m&&m.from==i.from&&m.to-m.from>r.length+u;){if(t.sliceDoc(m.to-r.length,m.to)==r)return!1;m=m.firstChild}return!0}let h=i.to==e&&i.parent;if(!h)break;i=h}return!1}function l3(t,e,r){let n=t.charCategorizer(e);if(n(t.sliceDoc(e-1,e))!=xt.Word)return e;for(let i of r){let a=e-i.length;if(t.sliceDoc(a,e)==i&&n(t.sliceDoc(a-1,a))!=xt.Word)return a}return-1}function Qhe(t={}){return[Bhe,Kr,tr.of(t),Rhe,Xhe,zhe]}const oI=[{key:"Ctrl-Space",run:v1},{mac:"Alt-`",run:v1},{mac:"Alt-i",run:v1},{key:"Escape",run:Mhe},{key:"ArrowDown",run:Lm(!0)},{key:"ArrowUp",run:Lm(!1)},{key:"PageDown",run:Lm(!0,"page")},{key:"PageUp",run:Lm(!1,"page")},{key:"Enter",run:The}],Xhe=eo.highest(P0.computeN([tr],t=>t.facet(tr).defaultKeymap?[oI]:[]));class o3{constructor(e,r,n){this.from=e,this.to=r,this.diagnostic=n}}class bl{constructor(e,r,n){this.diagnostics=e,this.panel=r,this.selected=n}static init(e,r,n){let i=n.facet(sd).markerFilter;i&&(e=i(e,n));let a=e.slice().sort((x,b)=>x.from-b.from||x.to-b.to),l=new Ta,o=[],u=0,h=n.doc.iter(),m=0,p=n.doc.length;for(let x=0;;){let b=x==a.length?null:a[x];if(!b&&!o.length)break;let N,j;if(o.length)N=u,j=o.reduce((k,T)=>Math.min(k,T.to),b&&b.from>N?b.from:1e8);else{if(N=b.from,N>p)break;j=b.to,o.push(b),x++}for(;x<a.length;){let k=a[x];if(k.from==N&&(k.to>k.from||k.to==N))o.push(k),x++,j=Math.min(k.to,j);else{j=Math.min(k.from,j);break}}j=Math.min(j,p);let C=!1;if(o.some(k=>k.from==N&&(k.to==j||j==p))&&(C=N==j,!C&&j-N<10)){let k=N-(m+h.value.length);k>0&&(h.next(k),m=N);for(let T=N;;){if(T>=j){C=!0;break}if(!h.lineBreak&&m+h.value.length>T)break;T=m+h.value.length,m+=h.value.length,h.next()}}let A=ume(o);if(C)l.add(N,N,Ae.widget({widget:new sme(A),diagnostics:o.slice()}));else{let k=o.reduce((T,D)=>D.markClass?T+" "+D.markClass:T,"");l.add(N,j,Ae.mark({class:"cm-lintRange cm-lintRange-"+A+k,diagnostics:o.slice(),inclusiveEnd:o.some(T=>T.to>j)}))}if(u=j,u==p)break;for(let k=0;k<o.length;k++)o[k].to<=u&&o.splice(k--,1)}let y=l.finish();return new bl(y,r,Is(y))}}function Is(t,e=null,r=0){let n=null;return t.between(r,1e9,(i,a,{spec:l})=>{if(!(e&&l.diagnostics.indexOf(e)<0))if(!n)n=new o3(i,a,e||l.diagnostics[0]);else{if(l.diagnostics.indexOf(n.diagnostic)<0)return!1;n=new o3(n.from,a,n.diagnostic)}}),n}function Zhe(t,e){let r=e.pos,n=e.end||r,i=t.state.facet(sd).hideOn(t,r,n);if(i!=null)return i;let a=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(l=>l.is(cI))||t.changes.touchesRange(a.from,Math.max(a.to,n)))}function Jhe(t,e){return t.field(Sn,!1)?e:e.concat(Pe.appendConfig.of(fme))}const cI=Pe.define(),uN=Pe.define(),uI=Pe.define(),Sn=jr.define({create(){return new bl(Ae.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let r=t.diagnostics.map(e.changes),n=null,i=t.panel;if(t.selected){let a=e.changes.mapPos(t.selected.from,1);n=Is(r,t.selected.diagnostic,a)||Is(r,null,a)}!r.size&&i&&e.state.facet(sd).autoPanel&&(i=null),t=new bl(r,i,n)}for(let r of e.effects)if(r.is(cI)){let n=e.state.facet(sd).autoPanel?r.value.length?ld.open:null:t.panel;t=bl.init(r.value,n,e.state)}else r.is(uN)?t=new bl(t.diagnostics,r.value?ld.open:null,t.selected):r.is(uI)&&(t=new bl(t.diagnostics,t.panel,r.value));return t},provide:t=>[Jf.from(t,e=>e.panel),ge.decorations.from(t,e=>e.diagnostics)]}),eme=Ae.mark({class:"cm-lintRange cm-lintRange-active"});function tme(t,e,r){let{diagnostics:n}=t.state.field(Sn),i,a=-1,l=-1;n.between(e-(r<0?1:0),e+(r>0?1:0),(u,h,{spec:m})=>{if(e>=u&&e<=h&&(u==h||(e>u||r>0)&&(e<h||r<0)))return i=m.diagnostics,a=u,l=h,!1});let o=t.state.facet(sd).tooltipFilter;return i&&o&&(i=o(i,t.state)),i?{pos:a,end:l,above:t.state.doc.lineAt(a).to<l,create(){return{dom:rme(t,i)}}}:null}function rme(t,e){return it("ul",{class:"cm-tooltip-lint"},e.map(r=>dI(t,r,!1)))}const nme=t=>{let e=t.state.field(Sn,!1);(!e||!e.panel)&&t.dispatch({effects:Jhe(t.state,[uN.of(!0)])});let r=Kj(t,ld.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0},c3=t=>{let e=t.state.field(Sn,!1);return!e||!e.panel?!1:(t.dispatch({effects:uN.of(!1)}),!0)},ime=t=>{let e=t.state.field(Sn,!1);if(!e)return!1;let r=t.state.selection.main,n=Is(e.diagnostics,null,r.to+1);return!n&&(n=Is(e.diagnostics,null,0),!n||n.from==r.from&&n.to==r.to)?!1:(t.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)},ame=[{key:"Mod-Shift-m",run:nme,preventDefault:!0},{key:"F8",run:ime}],sd=xe.define({combine(t){return{sources:t.map(e=>e.source).filter(e=>e!=null),...Wi(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:u3,tooltipFilter:u3,needsRefresh:(e,r)=>e?r?n=>e(n)||r(n):e:r,hideOn:(e,r)=>e?r?(n,i,a)=>e(n,i,a)||r(n,i,a):e:r,autoPanel:(e,r)=>e||r})}}});function u3(t,e){return t?e?(r,n)=>e(t(r,n),n):t:e}function fI(t){let e=[];if(t)e:for(let{name:r}of t){for(let n=0;n<r.length;n++){let i=r[n];if(/[a-zA-Z]/.test(i)&&!e.some(a=>a.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function dI(t,e,r){var n;let i=r?fI(e.actions):[];return it("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},it("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(n=e.actions)===null||n===void 0?void 0:n.map((a,l)=>{let o=!1,u=x=>{if(x.preventDefault(),o)return;o=!0;let b=Is(t.state.field(Sn).diagnostics,e);b&&a.apply(t,b.from,b.to)},{name:h}=a,m=i[l]?h.indexOf(i[l]):-1,p=m<0?h:[h.slice(0,m),it("u",h.slice(m,m+1)),h.slice(m+1)],y=a.markClass?" "+a.markClass:"";return it("button",{type:"button",class:"cm-diagnosticAction"+y,onclick:u,onmousedown:u,"aria-label":` Action: ${h}${m<0?"":` (access key "${i[l]})"`}.`},p)}),e.source&&it("div",{class:"cm-diagnosticSource"},e.source))}class sme extends Ki{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return it("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class f3{constructor(e,r){this.diagnostic=r,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=dI(e,r,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class ld{constructor(e){this.view=e,this.items=[];let r=i=>{if(!(i.ctrlKey||i.altKey||i.metaKey)){if(i.keyCode==27)c3(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:a}=this.items[this.selectedIndex],l=fI(a.actions);for(let o=0;o<l.length;o++)if(l[o].toUpperCase().charCodeAt(0)==i.keyCode){let u=Is(this.view.state.field(Sn).diagnostics,a);u&&a.actions[o].apply(e,u.from,u.to)}}else return;i.preventDefault()}},n=i=>{for(let a=0;a<this.items.length;a++)this.items[a].dom.contains(i.target)&&this.moveSelection(a)};this.list=it("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:r,onclick:n}),this.dom=it("div",{class:"cm-panel-lint"},this.list,it("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>c3(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Sn).selected;if(!e)return-1;for(let r=0;r<this.items.length;r++)if(this.items[r].diagnostic==e.diagnostic)return r;return-1}update(){let{diagnostics:e,selected:r}=this.view.state.field(Sn),n=0,i=!1,a=null,l=new Set;for(e.between(0,this.view.state.doc.length,(o,u,{spec:h})=>{for(let m of h.diagnostics){if(l.has(m))continue;l.add(m);let p=-1,y;for(let x=n;x<this.items.length;x++)if(this.items[x].diagnostic==m){p=x;break}p<0?(y=new f3(this.view,m),this.items.splice(n,0,y),i=!0):(y=this.items[p],p>n&&(this.items.splice(n,p-n),i=!0)),r&&y.diagnostic==r.diagnostic?y.dom.hasAttribute("aria-selected")||(y.dom.setAttribute("aria-selected","true"),a=y):y.dom.hasAttribute("aria-selected")&&y.dom.removeAttribute("aria-selected"),n++}});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new f3(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:()=>({sel:a.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:u})=>{let h=u.height/this.list.offsetHeight;o.top<u.top?this.list.scrollTop-=(u.top-o.top)/h:o.bottom>u.bottom&&(this.list.scrollTop+=(o.bottom-u.bottom)/h)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function r(){let n=e;e=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)r();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)r()}moveSelection(e){if(this.selectedIndex<0)return;let r=this.view.state.field(Sn),n=Is(r.diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:uI.of(n)})}static open(e){return new ld(e)}}function lme(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Bm(t){return lme(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const ome=ge.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Bm("#d11")},".cm-lintRange-warning":{backgroundImage:Bm("orange")},".cm-lintRange-info":{backgroundImage:Bm("#999")},".cm-lintRange-hint":{backgroundImage:Bm("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function cme(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function ume(t){let e="hint",r=1;for(let n of t){let i=cme(n.severity);i>r&&(r=i,e=n.severity)}return e}const fme=[Sn,ge.decorations.compute([Sn],t=>{let{selected:e,panel:r}=t.field(Sn);return!e||!r||e.from==e.to?Ae.none:Ae.set([eme.range(e.from,e.to)])}),eue(tme,{hideOn:Zhe}),ome];var d3=function(e){e===void 0&&(e={});var{crosshairCursor:r=!1}=e,n=[];e.closeBracketsKeymap!==!1&&(n=n.concat($he)),e.defaultKeymap!==!1&&(n=n.concat(Rde)),e.searchKeymap!==!1&&(n=n.concat(ohe)),e.historyKeymap!==!1&&(n=n.concat(Hfe)),e.foldKeymap!==!1&&(n=n.concat(rfe)),e.completionKeymap!==!1&&(n=n.concat(oI)),e.lintKeymap!==!1&&(n=n.concat(ame));var i=[];return e.lineNumbers!==!1&&i.push(hue()),e.highlightActiveLineGutter!==!1&&i.push(gue()),e.highlightSpecialChars!==!1&&i.push(Ece()),e.history!==!1&&i.push(_fe()),e.foldGutter!==!1&&i.push(sfe()),e.drawSelection!==!1&&i.push(xce()),e.dropCursor!==!1&&i.push(jce()),e.allowMultipleSelections!==!1&&i.push(Ve.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(Kue()),e.syntaxHighlighting!==!1&&i.push(sz(ufe,{fallback:!0})),e.bracketMatching!==!1&&i.push(yfe()),e.closeBrackets!==!1&&i.push(Ihe()),e.autocompletion!==!1&&i.push(Qhe()),e.rectangularSelection!==!1&&i.push($ce()),r!==!1&&i.push(Wce()),e.highlightActiveLine!==!1&&i.push(Rce()),e.highlightSelectionMatches!==!1&&i.push(qde()),e.tabSize&&typeof e.tabSize=="number"&&i.push(L0.of(" ".repeat(e.tabSize))),i.concat([P0.of(n.flat())]).filter(Boolean)};const dme="#e5c07b",h3="#e06c75",hme="#56b6c2",mme="#ffffff",tp="#abb2bf",MS="#7d8799",pme="#61afef",gme="#98c379",m3="#d19a66",yme="#c678dd",xme="#21252b",p3="#2c313a",g3="#282c34",w1="#353a42",vme="#3E4451",y3="#528bff",bme=ge.theme({"&":{color:tp,backgroundColor:g3},".cm-content":{caretColor:y3},".cm-cursor, .cm-dropCursor":{borderLeftColor:y3},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:vme},".cm-panels":{backgroundColor:xme,color:tp},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:g3,color:MS,border:"none"},".cm-activeLineGutter":{backgroundColor:p3},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:w1},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:w1,borderBottomColor:w1},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:p3,color:tp}}},{dark:!0}),wme=Dd.define([{tag:te.keyword,color:yme},{tag:[te.name,te.deleted,te.character,te.propertyName,te.macroName],color:h3},{tag:[te.function(te.variableName),te.labelName],color:pme},{tag:[te.color,te.constant(te.name),te.standard(te.name)],color:m3},{tag:[te.definition(te.name),te.separator],color:tp},{tag:[te.typeName,te.className,te.number,te.changed,te.annotation,te.modifier,te.self,te.namespace],color:dme},{tag:[te.operator,te.operatorKeyword,te.url,te.escape,te.regexp,te.link,te.special(te.string)],color:hme},{tag:[te.meta,te.comment],color:MS},{tag:te.strong,fontWeight:"bold"},{tag:te.emphasis,fontStyle:"italic"},{tag:te.strikethrough,textDecoration:"line-through"},{tag:te.link,color:MS,textDecoration:"underline"},{tag:te.heading,fontWeight:"bold",color:h3},{tag:[te.atom,te.bool,te.special(te.variableName)],color:m3},{tag:[te.processingInstruction,te.string,te.inserted],color:gme},{tag:te.invalid,color:mme}]),Sme=[bme,sz(wme)];var jme=ge.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),Nme=function(e){e===void 0&&(e={});var{indentWithTab:r=!0,editable:n=!0,readOnly:i=!1,theme:a="light",placeholder:l="",basicSetup:o=!0}=e,u=[];switch(r&&u.unshift(P0.of([Lde])),o&&(typeof o=="boolean"?u.unshift(d3()):u.unshift(d3(o))),l&&u.unshift(Ice(l)),a){case"light":u.push(jme);break;case"dark":u.push(Sme);break;case"none":break;default:u.push(a);break}return n===!1&&u.push(ge.editable.of(!1)),i&&u.push(Ve.readOnly.of(!0)),[...u]},Cme=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)});class kme{constructor(e,r){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=r,this.timeoutMS=r,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(r=>{try{r()}catch(n){console.error("TimeoutLatch callback error:",n)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class x3{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var S1=null,Ome=()=>typeof window>"u"?new x3:(S1||(S1=new x3),S1),v3=Fi.define(),Ame=200,Eme=[];function Tme(t){var{value:e,selection:r,onChange:n,onStatistics:i,onCreateEditor:a,onUpdate:l,extensions:o=Eme,autoFocus:u,theme:h="light",height:m=null,minHeight:p=null,maxHeight:y=null,width:x=null,minWidth:b=null,maxWidth:N=null,placeholder:j="",editable:C=!0,readOnly:A=!1,indentWithTab:k=!0,basicSetup:T=!0,root:D,initialState:M}=t,[E,_]=w.useState(),[L,I]=w.useState(),[z,R]=w.useState(),U=w.useState(()=>({current:null}))[0],W=w.useState(()=>({current:null}))[0],$=ge.theme({"&":{height:m,minHeight:p,maxHeight:y,width:x,minWidth:b,maxWidth:N},"& .cm-scroller":{height:"100% !important"}}),H=ge.updateListener.of(se=>{if(se.docChanged&&typeof n=="function"&&!se.transactions.some(K=>K.annotation(v3))){U.current?U.current.reset():(U.current=new kme(()=>{if(W.current){var K=W.current;W.current=null,K()}U.current=null},Ame),Ome().add(U.current));var de=se.state.doc,B=de.toString();n(B,se)}i&&i(Cme(se))}),F=Nme({theme:h,editable:C,readOnly:A,placeholder:j,indentWithTab:k,basicSetup:T}),Q=[H,$,...F];return l&&typeof l=="function"&&Q.push(ge.updateListener.of(l)),Q=Q.concat(o),w.useLayoutEffect(()=>{if(E&&!z){var se={doc:e,selection:r,extensions:Q},de=M?Ve.fromJSON(M.json,se,M.fields):Ve.create(se);if(R(de),!L){var B=new ge({state:de,parent:E,root:D});I(B),a&&a(B,de)}}return()=>{L&&(R(void 0),I(void 0))}},[E,z]),w.useEffect(()=>{t.container&&_(t.container)},[t.container]),w.useEffect(()=>()=>{L&&(L.destroy(),I(void 0)),U.current&&(U.current.cancel(),U.current=null)},[L]),w.useEffect(()=>{u&&L&&L.focus()},[u,L]),w.useEffect(()=>{L&&L.dispatch({effects:Pe.reconfigure.of(Q)})},[h,o,m,p,y,x,b,N,j,C,A,k,T,n,l]),w.useEffect(()=>{if(e!==void 0){var se=L?L.state.doc.toString():"";if(L&&e!==se){var de=U.current&&!U.current.isDone,B=()=>{L&&e!==L.state.doc.toString()&&L.dispatch({changes:{from:0,to:L.state.doc.toString().length,insert:e||""},annotations:[v3.of(!0)]})};de?W.current=B:B()}}},[e,L]),{state:z,setState:R,view:L,setView:I,container:E,setContainer:_}}var Mme=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],fN=w.forwardRef((t,e)=>{var{className:r,value:n="",selection:i,extensions:a=[],onChange:l,onStatistics:o,onCreateEditor:u,onUpdate:h,autoFocus:m,theme:p="light",height:y,minHeight:x,maxHeight:b,width:N,minWidth:j,maxWidth:C,basicSetup:A,placeholder:k,indentWithTab:T,editable:D,readOnly:M,root:E,initialState:_}=t,L=ile(t,Mme),I=w.useRef(null),{state:z,view:R,container:U,setContainer:W}=Tme({root:E,value:n,autoFocus:m,theme:p,height:y,minHeight:x,maxHeight:b,width:N,minWidth:j,maxWidth:C,basicSetup:A,placeholder:k,indentWithTab:T,editable:D,readOnly:M,selection:i,onChange:l,onStatistics:o,onCreateEditor:u,onUpdate:h,extensions:a,initialState:_});w.useImperativeHandle(e,()=>({editor:I.current,state:z,view:R}),[I,U,z,R]);var $=w.useCallback(F=>{I.current=F,W(F)},[W]);if(typeof n!="string")throw new Error("value must be typeof string but got "+typeof n);var H=typeof p=="string"?"cm-theme-"+p:"cm-theme";return f.jsx("div",zw({ref:$,className:""+H+(r?" "+r:"")},L))});fN.displayName="CodeMirror";var b3={};class kg{constructor(e,r,n,i,a,l,o,u,h,m=0,p){this.p=e,this.stack=r,this.state=n,this.reducePos=i,this.pos=a,this.score=l,this.buffer=o,this.bufferBase=u,this.curContext=h,this.lookAhead=m,this.parent=p}toString(){return`[${this.stack.filter((e,r)=>r%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,r,n=0){let i=e.parser.context;return new kg(e,[],r,n,n,0,[],0,i?new w3(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,r){this.stack.push(this.state,r,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var r;let n=e>>19,i=e&65535,{parser:a}=this.p,l=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),o=a.dynamicPrecedence(i);if(o&&(this.score+=o),n==0){this.pushState(a.getGoto(this.state,i,!0),this.reducePos),i<a.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,l?8:4,!0),this.reduceContext(i,this.reducePos);return}let u=this.stack.length-(n-1)*3-(e&262144?6:0),h=u?this.stack[u-2]:this.p.ranges[0].from,m=this.reducePos-h;m>=2e3&&!(!((r=this.p.parser.nodeSet.types[i])===null||r===void 0)&&r.isAnonymous)&&(h==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=m):this.p.lastBigReductionSize<m&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=h,this.p.lastBigReductionSize=m));let p=u?this.stack[u-1]:0,y=this.bufferBase+this.buffer.length-p;if(i<a.minRepeatTerm||e&131072){let x=a.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,h,x,y+4,!0)}if(e&262144)this.state=this.stack[u];else{let x=this.stack[u-3];this.state=a.getGoto(x,i,!0)}for(;this.stack.length>u;)this.stack.pop();this.reduceContext(i,h)}storeNode(e,r,n,i=4,a=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let l=this,o=this.buffer.length;if(o==0&&l.parent&&(o=l.bufferBase-l.parent.bufferBase,l=l.parent),o>0&&l.buffer[o-4]==0&&l.buffer[o-1]>-1){if(r==n)return;if(l.buffer[o-2]>=r){l.buffer[o-2]=n;return}}}if(!a||this.pos==n)this.buffer.push(e,r,n,i);else{let l=this.buffer.length;if(l>0&&(this.buffer[l-4]!=0||this.buffer[l-1]<0)){let o=!1;for(let u=l;u>0&&this.buffer[u-2]>n;u-=4)if(this.buffer[u-1]>=0){o=!0;break}if(o)for(;l>0&&this.buffer[l-2]>n;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,i>4&&(i-=4)}this.buffer[l]=e,this.buffer[l+1]=r,this.buffer[l+2]=n,this.buffer[l+3]=i}}shift(e,r,n,i){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let a=e,{parser:l}=this.p;this.pos=i;let o=l.stateFlag(a,1);!o&&(i>n||r<=l.maxNode)&&(this.reducePos=i),this.pushState(a,o?n:Math.min(n,this.reducePos)),this.shiftContext(r,n),r<=l.maxNode&&this.buffer.push(r,n,i,4)}else this.pos=i,this.shiftContext(r,n),r<=this.p.parser.maxNode&&this.buffer.push(r,n,i,4)}apply(e,r,n,i){e&65536?this.reduce(e):this.shift(e,r,n,i)}useNode(e,r){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(r,i),this.buffer.push(n,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,r=e.buffer.length;for(;r>0&&e.buffer[r-2]>e.reducePos;)r-=4;let n=e.buffer.slice(r),i=e.bufferBase+r;for(;e&&i==e.bufferBase;)e=e.parent;return new kg(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,r){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,r,4),this.storeNode(0,this.pos,r,n?8:4),this.pos=this.reducePos=r,this.score-=190}canShift(e){for(let r=new Dme(this);;){let n=this.p.parser.stateSlot(r.state,4)||this.p.parser.hasAction(r.state,e);if(n==0)return!1;if((n&65536)==0)return!0;r.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let r=this.p.parser.nextStates(this.state);if(r.length>8||this.stack.length>=120){let i=[];for(let a=0,l;a<r.length;a+=2)(l=r[a+1])!=this.state&&this.p.parser.hasAction(l,e)&&i.push(r[a],l);if(this.stack.length<120)for(let a=0;i.length<8&&a<r.length;a+=2){let l=r[a+1];i.some((o,u)=>u&1&&o==l)||i.push(r[a],l)}r=i}let n=[];for(let i=0;i<r.length&&n.length<4;i+=2){let a=r[i+1];if(a==this.state)continue;let l=this.split();l.pushState(a,this.pos),l.storeNode(0,l.pos,l.pos,4,!0),l.shiftContext(r[i],this.pos),l.reducePos=this.pos,l.score-=200,n.push(l)}return n}forceReduce(){let{parser:e}=this.p,r=e.stateSlot(this.state,5);if((r&65536)==0)return!1;if(!e.validAction(this.state,r)){let n=r>>19,i=r&65535,a=this.stack.length-n*3;if(a<0||e.getGoto(this.stack[a],i,!1)<0){let l=this.findForcedReduction();if(l==null)return!1;r=l}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(r),!0}findForcedReduction(){let{parser:e}=this.p,r=[],n=(i,a)=>{if(!r.includes(i))return r.push(i),e.allActions(i,l=>{if(!(l&393216))if(l&65536){let o=(l>>19)-a;if(o>1){let u=l&65535,h=this.stack.length-o*3;if(h>=0&&e.getGoto(this.stack[h],u,!1)>=0)return o<<19|65536|u}}else{let o=n(l,a+1);if(o!=null)return o}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let r=0;r<this.stack.length;r+=3)if(this.stack[r]!=e.stack[r])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(r)))}reduceContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(r)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let r=new w3(this.curContext.tracker,e);r.hash!=this.curContext.hash&&this.emitContext(),this.curContext=r}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class w3{constructor(e,r){this.tracker=e,this.context=r,this.hash=e.strict?e.hash(r):0}}class Dme{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let r=e&65535,n=e>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],r,!0);this.state=i}}class Og{constructor(e,r,n){this.stack=e,this.pos=r,this.index=n,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,r=e.bufferBase+e.buffer.length){return new Og(e,r,r-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Og(this.stack,this.pos,this.index)}}function zm(t,e=Uint16Array){if(typeof t!="string")return t;let r=null;for(let n=0,i=0;n<t.length;){let a=0;for(;;){let l=t.charCodeAt(n++),o=!1;if(l==126){a=65535;break}l>=92&&l--,l>=34&&l--;let u=l-32;if(u>=46&&(u-=46,o=!0),a+=u,o)break;a*=46}r?r[i++]=a:r=new e(a)}return r}class rp{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const S3=new rp;class _me{constructor(e,r){this.input=e,this.ranges=r,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=S3,this.rangeIndex=0,this.pos=this.chunkPos=r[0].from,this.range=r[0],this.end=r[r.length-1].to,this.readNext()}resolveOffset(e,r){let n=this.range,i=this.rangeIndex,a=this.pos+e;for(;a<n.from;){if(!i)return null;let l=this.ranges[--i];a-=n.from-l.to,n=l}for(;r<0?a>n.to:a>=n.to;){if(i==this.ranges.length-1)return null;let l=this.ranges[++i];a+=l.from-n.to,n=l}return a}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let r of this.ranges)if(r.to>e)return Math.max(e,r.from);return this.end}peek(e){let r=this.chunkOff+e,n,i;if(r>=0&&r<this.chunk.length)n=this.pos+e,i=this.chunk.charCodeAt(r);else{let a=this.resolveOffset(e,1);if(a==null)return-1;if(n=a,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let l=this.rangeIndex,o=this.range;for(;o.to<=n;)o=this.ranges[++l];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-n)),i=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),i}acceptToken(e,r=0){let n=r?this.resolveOffset(r,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}acceptTokenTo(e,r){this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:r}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=r,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),r=this.pos+e.length;this.chunk=r>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,r){if(r?(this.token=r,r.start=e,r.lookAhead=e+1,r.value=r.extended=-1):this.token=S3,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,r){if(e>=this.chunkPos&&r<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,r-this.chunkPos);if(e>=this.chunk2Pos&&r<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,r-this.chunk2Pos);if(e>=this.range.from&&r<=this.range.to)return this.input.read(e,r);let n="";for(let i of this.ranges){if(i.from>=r)break;i.to>e&&(n+=this.input.read(Math.max(i.from,e),Math.min(i.to,r)))}return n}}class uc{constructor(e,r){this.data=e,this.id=r}token(e,r){let{parser:n}=r.p;Rme(this.data,e,r,this.id,n.data,n.tokenPrecTable)}}uc.prototype.contextual=uc.prototype.fallback=uc.prototype.extend=!1;uc.prototype.fallback=uc.prototype.extend=!1;class Pme{constructor(e,r={}){this.token=e,this.contextual=!!r.contextual,this.fallback=!!r.fallback,this.extend=!!r.extend}}function Rme(t,e,r,n,i,a){let l=0,o=1<<n,{dialect:u}=r.p.parser;e:for(;(o&t[l])!=0;){let h=t[l+1];for(let x=l+3;x<h;x+=2)if((t[x+1]&o)>0){let b=t[x];if(u.allows(b)&&(e.token.value==-1||e.token.value==b||Lme(b,e.token.value,i,a))){e.acceptToken(b);break}}let m=e.next,p=0,y=t[l+2];if(e.next<0&&y>p&&t[h+y*3-3]==65535){l=t[h+y*3-1];continue e}for(;p<y;){let x=p+y>>1,b=h+x+(x<<1),N=t[b],j=t[b+1]||65536;if(m<N)y=x;else if(m>=j)p=x+1;else{l=t[b+2],e.advance();continue e}}break}}function j3(t,e,r){for(let n=e,i;(i=t[n])!=65535;n++)if(i==r)return n-e;return-1}function Lme(t,e,r,n){let i=j3(r,n,e);return i<0||j3(r,n,t)<i}const yn=typeof process<"u"&&b3&&/\bparse\b/.test(b3.LOG);let j1=null;function N3(t,e,r){let n=t.cursor(At.IncludeAnonymous);for(n.moveTo(e);;)if(!(r<0?n.childBefore(e):n.childAfter(e)))for(;;){if((r<0?n.to<e:n.from>e)&&!n.type.isError)return r<0?Math.max(0,Math.min(n.to-1,e-25)):Math.min(t.length,Math.max(n.from+1,e+25));if(r<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return r<0?0:t.length}}class Bme{constructor(e,r){this.fragments=e,this.nodeSet=r,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?N3(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?N3(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let r=this.trees.length-1;if(r<0)return this.nextFragment(),null;let n=this.trees[r],i=this.index[r];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let a=n.children[i],l=this.start[r]+n.positions[i];if(l>e)return this.nextStart=l,null;if(a instanceof _t){if(l==e){if(l<this.safeFrom)return null;let o=l+a.length;if(o<=this.safeTo){let u=a.prop(Be.lookAhead);if(!u||o+u<this.fragment.to)return a}}this.index[r]++,l+a.length>=Math.max(this.safeFrom,e)&&(this.trees.push(a),this.start.push(l),this.index.push(0))}else this.index[r]++,this.nextStart=l+a.length}}}class zme{constructor(e,r){this.stream=r,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(n=>new rp)}getActions(e){let r=0,n=null,{parser:i}=e.p,{tokenizers:a}=i,l=i.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,u=0;for(let h=0;h<a.length;h++){if((1<<h&l)==0)continue;let m=a[h],p=this.tokens[h];if(!(n&&!m.fallback)&&((m.contextual||p.start!=e.pos||p.mask!=l||p.context!=o)&&(this.updateCachedToken(p,m,e),p.mask=l,p.context=o),p.lookAhead>p.end+25&&(u=Math.max(p.lookAhead,u)),p.value!=0)){let y=r;if(p.extended>-1&&(r=this.addActions(e,p.extended,p.end,r)),r=this.addActions(e,p.value,p.end,r),!m.extend&&(n=p,r>y))break}}for(;this.actions.length>r;)this.actions.pop();return u&&e.setLookAhead(u),!n&&e.pos==this.stream.end&&(n=new rp,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,r=this.addActions(e,n.value,n.end,r)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let r=new rp,{pos:n,p:i}=e;return r.start=n,r.end=Math.min(n+1,i.stream.end),r.value=n==i.stream.end?i.parser.eofTerm:0,r}updateCachedToken(e,r,n){let i=this.stream.clipPos(n.pos);if(r.token(this.stream.reset(i,e),n),e.value>-1){let{parser:a}=n.p;for(let l=0;l<a.specialized.length;l++)if(a.specialized[l]==e.value){let o=a.specializers[l](this.stream.read(e.start,e.end),n);if(o>=0&&n.p.parser.dialect.allows(o>>1)){(o&1)==0?e.value=o>>1:e.extended=o>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,r,n,i){for(let a=0;a<i;a+=3)if(this.actions[a]==e)return i;return this.actions[i++]=e,this.actions[i++]=r,this.actions[i++]=n,i}addActions(e,r,n,i){let{state:a}=e,{parser:l}=e.p,{data:o}=l;for(let u=0;u<2;u++)for(let h=l.stateSlot(a,u?2:1);;h+=3){if(o[h]==65535)if(o[h+1]==1)h=ma(o,h+2);else{i==0&&o[h+1]==2&&(i=this.putAction(ma(o,h+2),r,n,i));break}o[h]==r&&(i=this.putAction(ma(o,h+1),r,n,i))}return i}}class Ime{constructor(e,r,n,i){this.parser=e,this.input=r,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new _me(r,i),this.tokens=new zme(e,this.stream),this.topTerm=e.top[1];let{from:a}=i[0];this.stacks=[kg.start(this,e.top[0],a)],this.fragments=n.length&&this.stream.end-a>e.bufferLength*4?new Bme(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,r=this.minStackPos,n=this.stacks=[],i,a;if(this.bigReductionCount>300&&e.length==1){let[l]=e;for(;l.forceReduce()&&l.stack.length&&l.stack[l.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let l=0;l<e.length;l++){let o=e[l];for(;;){if(this.tokens.mainToken=null,o.pos>r)n.push(o);else{if(this.advanceStack(o,n,e))continue;{i||(i=[],a=[]),i.push(o);let u=this.tokens.getMainToken(o);a.push(u.value,u.end)}}break}}if(!n.length){let l=i&&qme(i);if(l)return yn&&console.log("Finish with "+this.stackID(l)),this.stackToTree(l);if(this.parser.strict)throw yn&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&i){let l=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,a,n);if(l)return yn&&console.log("Force-finish "+this.stackID(l)),this.stackToTree(l.forceAll())}if(this.recovering){let l=this.recovering==1?1:this.recovering*3;if(n.length>l)for(n.sort((o,u)=>u.score-o.score);n.length>l;)n.pop();n.some(o=>o.reducePos>r)&&this.recovering--}else if(n.length>1){e:for(let l=0;l<n.length-1;l++){let o=n[l];for(let u=l+1;u<n.length;u++){let h=n[u];if(o.sameState(h)||o.buffer.length>500&&h.buffer.length>500)if((o.score-h.score||o.buffer.length-h.buffer.length)>0)n.splice(u--,1);else{n.splice(l--,1);continue e}}}n.length>12&&(n.sort((l,o)=>o.score-l.score),n.splice(12,n.length-12))}this.minStackPos=n[0].pos;for(let l=1;l<n.length;l++)n[l].pos<this.minStackPos&&(this.minStackPos=n[l].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,r,n){let i=e.pos,{parser:a}=this,l=yn?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let h=e.curContext&&e.curContext.tracker.strict,m=h?e.curContext.hash:0;for(let p=this.fragments.nodeAt(i);p;){let y=this.parser.nodeSet.types[p.type.id]==p.type?a.getGoto(e.state,p.type.id):-1;if(y>-1&&p.length&&(!h||(p.prop(Be.contextHash)||0)==m))return e.useNode(p,y),yn&&console.log(l+this.stackID(e)+` (via reuse of ${a.getName(p.type.id)})`),!0;if(!(p instanceof _t)||p.children.length==0||p.positions[0]>0)break;let x=p.children[0];if(x instanceof _t&&p.positions[0]==0)p=x;else break}}let o=a.stateSlot(e.state,4);if(o>0)return e.reduce(o),yn&&console.log(l+this.stackID(e)+` (via always-reduce ${a.getName(o&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let u=this.tokens.getActions(e);for(let h=0;h<u.length;){let m=u[h++],p=u[h++],y=u[h++],x=h==u.length||!n,b=x?e:e.split(),N=this.tokens.mainToken;if(b.apply(m,p,N?N.start:b.pos,y),yn&&console.log(l+this.stackID(b)+` (via ${(m&65536)==0?"shift":`reduce of ${a.getName(m&65535)}`} for ${a.getName(p)} @ ${i}${b==e?"":", split"})`),x)return!0;b.pos>i?r.push(b):n.push(b)}return!1}advanceFully(e,r){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return C3(e,r),!0}}runRecovery(e,r,n){let i=null,a=!1;for(let l=0;l<e.length;l++){let o=e[l],u=r[l<<1],h=r[(l<<1)+1],m=yn?this.stackID(o)+" -> ":"";if(o.deadEnd&&(a||(a=!0,o.restart(),yn&&console.log(m+this.stackID(o)+" (restarted)"),this.advanceFully(o,n))))continue;let p=o.split(),y=m;for(let x=0;x<10&&p.forceReduce()&&(yn&&console.log(y+this.stackID(p)+" (via force-reduce)"),!this.advanceFully(p,n));x++)yn&&(y=this.stackID(p)+" -> ");for(let x of o.recoverByInsert(u))yn&&console.log(m+this.stackID(x)+" (via recover-insert)"),this.advanceFully(x,n);this.stream.end>o.pos?(h==o.pos&&(h++,u=0),o.recoverByDelete(u,h),yn&&console.log(m+this.stackID(o)+` (via recover-delete ${this.parser.getName(u)})`),C3(o,n)):(!i||i.score<p.score)&&(i=p)}return i}stackToTree(e){return e.close(),_t.build({buffer:Og.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let r=(j1||(j1=new WeakMap)).get(e);return r||j1.set(e,r=String.fromCodePoint(this.nextStackID++)),r+e}}function C3(t,e){for(let r=0;r<e.length;r++){let n=e[r];if(n.pos==t.pos&&n.sameState(t)){e[r].score<t.score&&(e[r]=t);return}}e.push(t)}class Ume{constructor(e,r,n){this.source=e,this.flags=r,this.disabled=n}allows(e){return!this.disabled||this.disabled[e]==0}}class Ag extends VB{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let r=e.nodeNames.split(" ");this.minRepeatTerm=r.length;for(let o=0;o<e.repeatNodeCount;o++)r.push("");let n=Object.keys(e.topRules).map(o=>e.topRules[o][1]),i=[];for(let o=0;o<r.length;o++)i.push([]);function a(o,u,h){i[o].push([u,u.deserialize(String(h))])}if(e.nodeProps)for(let o of e.nodeProps){let u=o[0];typeof u=="string"&&(u=Be[u]);for(let h=1;h<o.length;){let m=o[h++];if(m>=0)a(m,u,o[h++]);else{let p=o[h+-m];for(let y=-m;y>0;y--)a(o[h++],u,p);h++}}}this.nodeSet=new Gj(r.map((o,u)=>tn.define({name:u>=this.minRepeatTerm?void 0:o,id:u,props:i[u],top:n.indexOf(u)>-1,error:u==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(u)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=UB;let l=zm(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(k3),this.states=zm(e.states,Uint32Array),this.data=zm(e.stateData),this.goto=zm(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(o=>typeof o=="number"?new uc(l,o):o),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,r,n){let i=new Ime(this,e,r,n);for(let a of this.wrappers)i=a(i,e,r,n);return i}getGoto(e,r,n=!1){let i=this.goto;if(r>=i[0])return-1;for(let a=i[r+1];;){let l=i[a++],o=l&1,u=i[a++];if(o&&n)return u;for(let h=a+(l>>1);a<h;a++)if(i[a]==e)return u;if(o)return-1}}hasAction(e,r){let n=this.data;for(let i=0;i<2;i++)for(let a=this.stateSlot(e,i?2:1),l;;a+=3){if((l=n[a])==65535)if(n[a+1]==1)l=n[a=ma(n,a+2)];else{if(n[a+1]==2)return ma(n,a+2);break}if(l==r||l==0)return ma(n,a+1)}return 0}stateSlot(e,r){return this.states[e*6+r]}stateFlag(e,r){return(this.stateSlot(e,0)&r)>0}validAction(e,r){return!!this.allActions(e,n=>n==r?!0:null)}allActions(e,r){let n=this.stateSlot(e,4),i=n?r(n):void 0;for(let a=this.stateSlot(e,1);i==null;a+=3){if(this.data[a]==65535)if(this.data[a+1]==1)a=ma(this.data,a+2);else break;i=r(ma(this.data,a+1))}return i}nextStates(e){let r=[];for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=ma(this.data,n+2);else break;if((this.data[n+2]&1)==0){let i=this.data[n+1];r.some((a,l)=>l&1&&a==i)||r.push(this.data[n],i)}}return r}configure(e){let r=Object.assign(Object.create(Ag.prototype),this);if(e.props&&(r.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);r.top=n}return e.tokenizers&&(r.tokenizers=this.tokenizers.map(n=>{let i=e.tokenizers.find(a=>a.from==n);return i?i.to:n})),e.specializers&&(r.specializers=this.specializers.slice(),r.specializerSpecs=this.specializerSpecs.map((n,i)=>{let a=e.specializers.find(o=>o.from==n.external);if(!a)return n;let l=Object.assign(Object.assign({},n),{external:a.to});return r.specializers[i]=k3(l),l})),e.contextTracker&&(r.context=e.contextTracker),e.dialect&&(r.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(r.strict=e.strict),e.wrap&&(r.wrappers=r.wrappers.concat(e.wrap)),e.bufferLength!=null&&(r.bufferLength=e.bufferLength),r}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let r=this.dynamicPrecedences;return r==null?0:r[e]||0}parseDialect(e){let r=Object.keys(this.dialects),n=r.map(()=>!1);if(e)for(let a of e.split(" ")){let l=r.indexOf(a);l>=0&&(n[l]=!0)}let i=null;for(let a=0;a<r.length;a++)if(!n[a])for(let l=this.dialects[r[a]],o;(o=this.data[l++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[o]=1;return new Ume(e,n,i)}static deserialize(e){return new Ag(e)}}function ma(t,e){return t[e]|t[e+1]<<16}function qme(t){let e=null;for(let r of t){let n=r.p.stoppedAt;(r.pos==r.p.stream.end||n!=null&&r.pos>n)&&r.p.parser.stateFlag(r.state,2)&&(!e||e.score<r.score)&&(e=r)}return e}function k3(t){if(t.external){let e=t.extend?1:0;return(r,n)=>t.external(r,n)<<1|e}return t.get}const Hme=36,O3=1,$me=2,Vo=3,N1=4,Vme=5,Fme=6,Wme=7,Kme=8,Gme=9,Yme=10,Qme=11,Xme=12,Zme=13,Jme=14,epe=15,tpe=16,rpe=17,A3=18,npe=19,hI=20,mI=21,E3=22,ipe=23,ape=24;function DS(t){return t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57}function spe(t){return t>=48&&t<=57||t>=97&&t<=102||t>=65&&t<=70}function xl(t,e,r){for(let n=!1;;){if(t.next<0)return;if(t.next==e&&!n){t.advance();return}n=r&&!n&&t.next==92,t.advance()}}function lpe(t,e){e:for(;;){if(t.next<0)return;if(t.next==36){t.advance();for(let r=0;r<e.length;r++){if(t.next!=e.charCodeAt(r))continue e;t.advance()}if(t.next==36){t.advance();return}}else t.advance()}}function ope(t,e){let r="[{<(".indexOf(String.fromCharCode(e)),n=r<0?e:"]}>)".charCodeAt(r);for(;;){if(t.next<0)return;if(t.next==n&&t.peek(1)==39){t.advance(2);return}t.advance()}}function _S(t,e){for(;!(t.next!=95&&!DS(t.next));)e!=null&&(e+=String.fromCharCode(t.next)),t.advance();return e}function cpe(t){if(t.next==39||t.next==34||t.next==96){let e=t.next;t.advance(),xl(t,e,!1)}else _S(t)}function T3(t,e){for(;t.next==48||t.next==49;)t.advance();e&&t.next==e&&t.advance()}function M3(t,e){for(;;){if(t.next==46){if(e)break;e=!0}else if(t.next<48||t.next>57)break;t.advance()}if(t.next==69||t.next==101)for(t.advance(),(t.next==43||t.next==45)&&t.advance();t.next>=48&&t.next<=57;)t.advance()}function D3(t){for(;!(t.next<0||t.next==10);)t.advance()}function hl(t,e){for(let r=0;r<e.length;r++)if(e.charCodeAt(r)==t)return!0;return!1}const C1=` 	\r
`;function pI(t,e,r){let n=Object.create(null);n.true=n.false=Vme,n.null=n.unknown=Fme;for(let i of t.split(" "))i&&(n[i]=hI);for(let i of e.split(" "))i&&(n[i]=mI);for(let i of(r||"").split(" "))i&&(n[i]=ape);return n}const upe="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",fpe="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",PS={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',caseInsensitiveIdentifiers:!1,words:pI(fpe,upe)};function dpe(t,e,r,n){let i={};for(let a in PS)i[a]=(t.hasOwnProperty(a)?t:PS)[a];return e&&(i.words=pI(e,r||"",n)),i}function gI(t){return new Pme(e=>{var r;let{next:n}=e;if(e.advance(),hl(n,C1)){for(;hl(e.next,C1);)e.advance();e.acceptToken(Hme)}else if(n==36&&t.doubleDollarQuotedStrings){let i=_S(e,"");e.next==36&&(e.advance(),lpe(e,i),e.acceptToken(Vo))}else if(n==39||n==34&&t.doubleQuotedStrings)xl(e,n,t.backslashEscapes),e.acceptToken(Vo);else if(n==35&&t.hashComments||n==47&&e.next==47&&t.slashComments)D3(e),e.acceptToken(O3);else if(n==45&&e.next==45&&(!t.spaceAfterDashes||e.peek(1)==32))D3(e),e.acceptToken(O3);else if(n==47&&e.next==42){e.advance();for(let i=1;;){let a=e.next;if(e.next<0)break;if(e.advance(),a==42&&e.next==47){if(i--,e.advance(),!i)break}else a==47&&e.next==42&&(i++,e.advance())}e.acceptToken($me)}else if((n==101||n==69)&&e.next==39)e.advance(),xl(e,39,!0),e.acceptToken(Vo);else if((n==110||n==78)&&e.next==39&&t.charSetCasts)e.advance(),xl(e,39,t.backslashEscapes),e.acceptToken(Vo);else if(n==95&&t.charSetCasts)for(let i=0;;i++){if(e.next==39&&i>1){e.advance(),xl(e,39,t.backslashEscapes),e.acceptToken(Vo);break}if(!DS(e.next))break;e.advance()}else if(t.plsqlQuotingMechanism&&(n==113||n==81)&&e.next==39&&e.peek(1)>0&&!hl(e.peek(1),C1)){let i=e.peek(1);e.advance(2),ope(e,i),e.acceptToken(Vo)}else if(hl(n,t.identifierQuotes)){const i=n==91?93:n;xl(e,i,!1),e.acceptToken(npe)}else if(n==40)e.acceptToken(Wme);else if(n==41)e.acceptToken(Kme);else if(n==123)e.acceptToken(Gme);else if(n==125)e.acceptToken(Yme);else if(n==91)e.acceptToken(Qme);else if(n==93)e.acceptToken(Xme);else if(n==59)e.acceptToken(Zme);else if(t.unquotedBitLiterals&&n==48&&e.next==98)e.advance(),T3(e),e.acceptToken(E3);else if((n==98||n==66)&&(e.next==39||e.next==34)){const i=e.next;e.advance(),t.treatBitsAsBytes?(xl(e,i,t.backslashEscapes),e.acceptToken(ipe)):(T3(e,i),e.acceptToken(E3))}else if(n==48&&(e.next==120||e.next==88)||(n==120||n==88)&&e.next==39){let i=e.next==39;for(e.advance();spe(e.next);)e.advance();i&&e.next==39&&e.advance(),e.acceptToken(N1)}else if(n==46&&e.next>=48&&e.next<=57)M3(e,!0),e.acceptToken(N1);else if(n==46)e.acceptToken(Jme);else if(n>=48&&n<=57)M3(e,!1),e.acceptToken(N1);else if(hl(n,t.operatorChars)){for(;hl(e.next,t.operatorChars);)e.advance();e.acceptToken(epe)}else if(hl(n,t.specialVar))e.next==n&&e.advance(),cpe(e),e.acceptToken(rpe);else if(n==58||n==44)e.acceptToken(tpe);else if(DS(n)){let i=_S(e,String.fromCharCode(n));e.acceptToken(e.next==46||e.peek(-i.length-1)==46?A3:(r=t.words[i.toLowerCase()])!==null&&r!==void 0?r:A3)}})}const yI=gI(PS),hpe=Ag.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:" LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,yI],topRules:{Script:[0,25]},tokenPrec:0});function RS(t){let e=t.cursor().moveTo(t.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function od(t,e){let r=t.sliceString(e.from,e.to),n=/^([`'"\[])(.*)([`'"\]])$/.exec(r);return n?n[2]:r}function Eg(t){return t&&(t.name=="Identifier"||t.name=="QuotedIdentifier")}function mpe(t,e){if(e.name=="CompositeIdentifier"){let r=[];for(let n=e.firstChild;n;n=n.nextSibling)Eg(n)&&r.push(od(t,n));return r}return[od(t,e)]}function _3(t,e){for(let r=[];;){if(!e||e.name!=".")return r;let n=RS(e);if(!Eg(n))return r;r.unshift(od(t,n)),e=RS(n)}}function ppe(t,e){let r=nr(t).resolveInner(e,-1),n=ype(t.doc,r);return r.name=="Identifier"||r.name=="QuotedIdentifier"||r.name=="Keyword"?{from:r.from,quoted:r.name=="QuotedIdentifier"?t.doc.sliceString(r.from,r.from+1):null,parents:_3(t.doc,RS(r)),aliases:n}:r.name=="."?{from:e,quoted:null,parents:_3(t.doc,r),aliases:n}:{from:e,quoted:null,parents:[],empty:!0,aliases:n}}const gpe=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function ype(t,e){let r;for(let i=e;!r;i=i.parent){if(!i)return null;i.name=="Statement"&&(r=i)}let n=null;for(let i=r.firstChild,a=!1,l=null;i;i=i.nextSibling){let o=i.name=="Keyword"?t.sliceString(i.from,i.to).toLowerCase():null,u=null;if(!a)a=o=="from";else if(o=="as"&&l&&Eg(i.nextSibling))u=od(t,i.nextSibling);else{if(o&&gpe.has(o))break;l&&Eg(i)&&(u=od(t,i))}u&&(n||(n=Object.create(null)),n[u]=mpe(t,l)),l=/Identifier$/.test(i.name)?i:null}return n}function xpe(t,e,r){return r.map(n=>({...n,label:n.label[0]==t?n.label:t+n.label+e,apply:void 0}))}const vpe=/^\w*$/,bpe=/^[`'"\[]?\w*[`'"\]]?$/;function P3(t){return t.self&&typeof t.self.label=="string"}class dN{constructor(e,r){this.idQuote=e,this.idCaseInsensitive=r,this.list=[],this.children=void 0}child(e){let r=this.children||(this.children=Object.create(null)),n=r[e];return n||(e&&!this.list.some(i=>i.label==e)&&this.list.push(R3(e,"type",this.idQuote,this.idCaseInsensitive)),r[e]=new dN(this.idQuote,this.idCaseInsensitive))}maybeChild(e){return this.children?this.children[e]:null}addCompletion(e){let r=this.list.findIndex(n=>n.label==e.label);r>-1?this.list[r]=e:this.list.push(e)}addCompletions(e){for(let r of e)this.addCompletion(typeof r=="string"?R3(r,"property",this.idQuote,this.idCaseInsensitive):r)}addNamespace(e){Array.isArray(e)?this.addCompletions(e):P3(e)?this.addNamespace(e.children):this.addNamespaceObject(e)}addNamespaceObject(e){for(let r of Object.keys(e)){let n=e[r],i=null,a=r.replace(/\\?\./g,o=>o=="."?"\0":o).split("\0"),l=this;P3(n)&&(i=n.self,n=n.children);for(let o=0;o<a.length;o++)i&&o==a.length-1&&l.addCompletion(i),l=l.child(a[o].replace(/\\\./g,"."));l.addNamespace(n)}}}function R3(t,e,r,n){return new RegExp("^[a-z_][a-z_\\d]*$",n?"i":"").test(t)?{label:t,type:e}:{label:t,type:e,apply:r+t+xI(r)}}function xI(t){return t==="["?"]":t}function wpe(t,e,r,n,i,a){var l;let o=((l=a?.spec.identifierQuotes)===null||l===void 0?void 0:l[0])||'"',u=new dN(o,!!a?.spec.caseInsensitiveIdentifiers),h=i?u.child(i):null;return u.addNamespace(t),e&&(h||u).addCompletions(e),r&&u.addCompletions(r),h&&u.addCompletions(h.list),n&&u.addCompletions((h||u).child(n).list),m=>{let{parents:p,from:y,quoted:x,empty:b,aliases:N}=ppe(m.state,m.pos);if(b&&!m.explicit)return null;N&&p.length==1&&(p=N[p[0]]||p);let j=u;for(let A of p){for(;!j.children||!j.children[A];)if(j==u&&h)j=h;else if(j==h&&n)j=j.child(n);else return null;let k=j.maybeChild(A);if(!k)return null;j=k}let C=j.list;if(j==u&&N&&(C=C.concat(Object.keys(N).map(A=>({label:A,type:"constant"})))),x){let A=x[0],k=xI(A),T=m.state.sliceDoc(m.pos,m.pos+1)==k;return{from:y,to:T?m.pos+1:void 0,options:xpe(A,k,C),validFor:bpe}}else return{from:y,options:C,validFor:vpe}}}function Spe(t){return t==mI?"type":t==hI?"keyword":"variable"}function jpe(t,e,r){let n=Object.keys(t).map(i=>r(e?i.toUpperCase():i,Spe(t[i])));return hhe(["QuotedIdentifier","String","LineComment","BlockComment","."],Jz(n))}let Npe=hpe.configure({props:[YB.add({Statement:Fue()}),XB.add({Statement(t,e){return{from:Math.min(t.from+100,e.doc.lineAt(t.from).to),to:t.to}},BlockComment(t){return{from:t.from+2,to:t.to-2}}}),FB({Keyword:te.keyword,Type:te.typeName,Builtin:te.standard(te.name),Bits:te.number,Bytes:te.string,Bool:te.bool,Null:te.null,Number:te.number,String:te.string,Identifier:te.name,QuotedIdentifier:te.special(te.string),SpecialVar:te.special(te.name),LineComment:te.lineComment,BlockComment:te.blockComment,Operator:te.operator,"Semi Punctuation":te.punctuation,"( )":te.paren,"{ }":te.brace,"[ ]":te.squareBracket})]});class Tg{constructor(e,r,n){this.dialect=e,this.language=r,this.spec=n}get extension(){return this.language.extension}configureLanguage(e,r){return new Tg(this.dialect,this.language.configure(e,r),this.spec)}static define(e){let r=dpe(e,e.keywords,e.types,e.builtin),n=hg.define({name:"sql",parser:Npe.configure({tokenizers:[{from:yI,to:gI(r)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new Tg(r,n,e)}}function Cpe(t,e){return{label:t,type:e,boost:-1}}function kpe(t,e=!1,r){return jpe(t.dialect.words,e,r||Cpe)}function Ope(t){return t.schema?wpe(t.schema,t.tables,t.schemas,t.defaultTable,t.defaultSchema,t.dialect||hN):()=>null}function Ape(t){return t.schema?(t.dialect||hN).language.data.of({autocomplete:Ope(t)}):[]}function Epe(t={}){let e=t.dialect||hN;return new Lue(e.language,[Ape(t),e.language.data.of({autocomplete:kpe(e,t.upperCaseKeywords,t.keywordCompletion)})])}const hN=Tg.define({}),vI="tidedb_query_history",bI="tidedb_last_db",Tpe=30,L3=["#3b82f6","#8b5cf6","#ec4899","#f59e0b","#22c55e","#06b6d4"],Mpe=[{value:"",label:"Default"},{value:"rfc3339",label:"RFC3339"},{value:"ns",label:"ns"},{value:"us",label:"us"},{value:"ms",label:"ms"},{value:"s",label:"s"}];function Dpe(t,e){if(t==null)return"";const r=String(t);if(typeof t=="string"&&/^\d{4}-\d{2}-\d{2}T/.test(t)){const l=new Date(t);return isNaN(l.getTime())?r:l.toLocaleString()}const n=Number(t);if(isNaN(n))return r;let i;switch(e){case"ns":i=n/1e6;break;case"us":i=n/1e3;break;case"ms":i=n;break;case"s":i=n*1e3;break;default:n>1e15?i=n/1e6:n>1e12?i=n/1e3:n>1e10?i=n:i=n*1e3;break}const a=new Date(i);return isNaN(a.getTime())?r:a.toLocaleString()}const _pe=["SELECT","FROM","WHERE","GROUP BY","ORDER BY","LIMIT","OFFSET","INTO","SHOW","CREATE","DROP","ALTER","GRANT","REVOKE","SET","AND","OR","AS","ON","BY","FILL","SLIMIT","SOFFSET","WITH","KEY","IN","NOT","ASC","DESC","DISTINCT","MEAN","SUM","COUNT","MIN","MAX","FIRST","LAST","STDDEV","MEDIAN","PERCENTILE","DERIVATIVE","NON_NEGATIVE_DERIVATIVE","DIFFERENCE","MOVING_AVERAGE","CUMULATIVE_SUM","HOLT_WINTERS","ELAPSED","TIME","NOW","NULL","TRUE","FALSE"],Ppe={float:"text-blue-400",integer:"text-green-400",string:"text-amber-400",boolean:"text-purple-400"};function wI(){try{return JSON.parse(localStorage.getItem(vI)||"[]")}catch{return[]}}function Rpe(t){try{localStorage.setItem(vI,JSON.stringify(t.slice(0,Tpe)))}catch{}}function Lpe(t){const e=wI().filter(r=>r!==t);e.unshift(t),Rpe(e)}function Bpe(){return localStorage.getItem(bI)||""}function k1(t){try{localStorage.setItem(bI,t)}catch{}}function zpe(t){return t<1e3?`${t}ms`:`${(t/1e3).toFixed(2)}s`}function Ipe(t){let e=t;const r=[..._pe].sort((n,i)=>i.length-n.length);for(const n of r){const i=n.replace(/\s+/g,"\\s+");e=e.replace(new RegExp(`\\b${i}\\b`,"gi"),n)}return e}function Upe(t){const e=[];for(const r of t?.results??[])if(!r.error)for(const n of r.series??[]){const i=(n.values??[]).map(a=>{const l={};return n.columns.forEach((o,u)=>{l[o]=a[u]}),l});e.push({name:n.name,tags:n.tags??{},columns:n.columns,rows:i})}return e}function SI(t,e,r){const n=new Blob([t],{type:r}),i=URL.createObjectURL(n),a=document.createElement("a");a.href=i,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)}function qpe(t){const e=[];for(const r of t){t.length>1&&e.push(`# ${r.name}${Object.keys(r.tags).length?" "+JSON.stringify(r.tags):""}`),e.push(r.columns.join(","));for(const n of r.rows)e.push(r.columns.map(i=>{const a=n[i];if(a==null)return"";const l=String(a);return l.includes(",")||l.includes('"')||l.includes(`
`)?`"${l.replace(/"/g,'""')}"`:l}).join(","));e.push("")}SI(e.join(`
`),"query_results.csv","text/csv")}function Hpe(t){const e=t.map(r=>({name:r.name,tags:r.tags,columns:r.columns,values:r.rows}));SI(JSON.stringify(e,null,2),"query_results.json","application/json")}function LS(t){const e=Object.entries(t);return e.length===0?"":"{"+e.map(([r,n])=>`${r}=${n}`).join(",")+"}"}function $pe({onInsert:t}){const[e,r]=w.useState([]),[n,i]=w.useState(new Set),[a,l]=w.useState({}),[o,u]=w.useState(new Set),[h,m]=w.useState(""),[p,y]=w.useState({});w.useEffect(()=>{we.getDatabases().then(r).catch(()=>{})},[]);const x=w.useCallback(async(k,T,D,M,E,_)=>{if(i(L=>{const I=new Set(L);return I.has(k)?I.delete(k):I.add(k),I}),!a[k]){u(L=>new Set(L).add(k));try{if(T==="database"&&D){const I=(await we.getRetentionPolicies(D)).map(z=>({type:"rp",name:z.name,dbName:D}));l(z=>({...z,[k]:I}))}else if(T==="rp"&&D){const I=(await we.getMeasurements(D)).map(z=>({type:"measurement",name:z,dbName:D,rpName:_}));l(z=>({...z,[k]:I}))}else if(T==="measurement"&&D&&E){const[L,I]=await Promise.all([we.getFieldKeys(D,E),we.getTagKeys(D,E)]),z=L.map(W=>({type:"field",name:W.key,fieldType:W.type,dbName:D,measurementName:E})),R=I.map(W=>({type:"tag",name:W,dbName:D,measurementName:E})),U=[{type:"fields-header",name:"Fields",children:z},{type:"tags-header",name:"Tags",children:R}];l(W=>({...W,[k]:U}))}}catch{}finally{u(L=>{const I=new Set(L);return I.delete(k),I})}}},[a]),b=()=>{const k=[],T=D=>{const M=`db:${D}`,E=n.has(M);if(k.push({type:"database",name:D,dbName:D,depth:0,id:M,expanded:E}),!E)return;const _=a[M]??[];for(const L of _){const I=`rp:${D}:${L.name}`,z=n.has(I);if(k.push({...L,depth:1,id:I,expanded:z}),!z)continue;const R=a[I]??[];for(const U of R){const W=`meas:${D}:${U.name}`,$=n.has(W);if(k.push({...U,depth:2,id:W,expanded:$}),!$)continue;const H=a[W]??[];for(const F of H){const Q=`group:${D}:${U.name}:${F.name}`,se=n.has(Q);if(k.push({...F,depth:3,id:Q,expanded:se}),!!se)for(const de of F.children??[]){const B=`leaf:${D}:${U.name}:${F.name}:${de.name}`;k.push({...de,depth:4,id:B})}}}}};for(const D of e)T(D);return k},N=h.trim()?b().filter(k=>k.name.toLowerCase().includes(h.toLowerCase())):b(),j=k=>{if(k.type==="database")x(k.id,"database",k.dbName,void 0,void 0,k.name);else if(k.type==="rp")x(k.id,"rp",k.dbName,k.name,void 0,k.name);else if(k.type==="measurement")x(k.id,"measurement",k.dbName,k.rpName,k.name,k.name),t(`FROM "${k.name}"`);else if(k.type==="fields-header"||k.type==="tags-header")i(T=>{const D=new Set(T);return D.has(k.id)?D.delete(k.id):D.add(k.id),D});else if(k.type==="field")t(`"${k.name}"`);else if(k.type==="tag"){t(`"${k.name}"`);const T=`tv:${k.dbName}:${k.measurementName}:${k.name}`;p[T]?y(D=>{const M={...D};return delete M[T],M}):k.dbName&&k.measurementName&&(u(D=>new Set(D).add(T)),we.getTagValues(k.dbName,k.measurementName,k.name).then(D=>y(M=>({...M,[T]:D}))).catch(()=>{}).finally(()=>u(D=>{const M=new Set(D);return M.delete(T),M})))}},C=k=>{const T=o.has(k.id);return["database","rp","measurement","fields-header","tags-header"].includes(k.type)?T?f.jsxs("svg",{className:"w-4 h-4 animate-spin text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):k.expanded?f.jsx(zi,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}):f.jsx(Es,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}):f.jsx("span",{className:"w-4 h-4 inline-block"})},A=k=>{const T=k.type==="field"&&k.fieldType?Ppe[k.fieldType]??"text-gray-300":"text-gray-300";return f.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[f.jsx("span",{className:`truncate text-sm ${T}`,children:k.name}),k.type==="field"&&k.fieldType&&f.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-1",children:k.fieldType})]})};return f.jsxs("div",{className:"flex flex-col h-full bg-gray-900",children:[f.jsxs("div",{className:"px-3 py-2 border-b border-gray-700",children:[f.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Schema Explorer"}),f.jsxs("div",{className:"relative",children:[f.jsx(Dc,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-gray-500"}),f.jsx("input",{type:"text",value:h,onChange:k=>m(k.target.value),placeholder:"Filter...",className:"w-full bg-gray-800 text-gray-300 text-xs pl-7 pr-2 py-1.5 rounded border border-gray-700 focus:outline-none focus:border-blue-500 placeholder-gray-600"})]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto py-1",children:[N.length===0&&e.length===0&&f.jsx("div",{className:"text-xs text-gray-500 px-3 py-4 text-center",children:"Loading databases..."}),N.length===0&&e.length>0&&h&&f.jsxs("div",{className:"text-xs text-gray-500 px-3 py-4 text-center",children:['No results for "',h,'"']}),N.map(k=>{const T=k.type==="tag"?`tv:${k.dbName}:${k.measurementName}:${k.name}`:"",D=T&&o.has(T),M=T?p[T]:void 0;return f.jsxs("div",{children:[f.jsxs("div",{style:{paddingLeft:`${k.depth*16+8}px`},className:"flex items-center gap-1.5 py-0.5 pr-2 cursor-pointer hover:bg-gray-800 transition-colors duration-150 group select-none",onClick:()=>j(k),children:[f.jsx("span",{className:"flex-shrink-0",children:C(k)}),A(k),D&&f.jsxs("svg",{className:"w-3 h-3 animate-spin text-gray-500 ml-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]})]}),M&&M.length>0&&f.jsx("div",{style:{paddingLeft:`${(k.depth+1)*16+8}px`},className:"py-0.5",children:f.jsxs("div",{className:"flex flex-wrap gap-1 py-1",children:[M.slice(0,50).map(E=>f.jsx("span",{onClick:()=>t(`'${E}'`),className:"inline-block px-1.5 py-0.5 text-[10px] bg-gray-800 border border-gray-700 rounded text-cyan-300 cursor-pointer hover:bg-gray-700 font-mono truncate max-w-[120px]",title:E,children:E},E)),M.length>50&&f.jsxs("span",{className:"text-[10px] text-gray-500",children:["+",M.length-50," more"]})]})})]},k.id)})]})]})}function Vpe({series:t,humanTime:e,epochUnit:r=""}){const[n,i]=w.useState(null),[a,l]=w.useState("asc");if(t.length===0)return f.jsx("div",{className:"text-gray-500 text-sm text-center py-8",children:"No results"});const o=u=>{n===u?l(h=>h==="asc"?"desc":"asc"):(i(u),l("asc"))};return f.jsx("div",{className:"flex flex-col gap-4 h-full overflow-y-auto",children:t.map((u,h)=>{const m=u.name+LS(u.tags);let p=[...u.rows];return n&&u.columns.includes(n)&&p.sort((y,x)=>{const b=y[n],N=x[n];if(b==null)return 1;if(N==null)return-1;const j=b<N?-1:b>N?1:0;return a==="asc"?j:-j}),f.jsxs("div",{className:"flex flex-col min-w-0",children:[t.length>1&&f.jsx("div",{className:"text-xs font-medium text-blue-400 px-1 mb-1",children:m}),f.jsx("div",{className:"overflow-x-auto rounded border border-gray-700",children:f.jsxs("table",{className:"min-w-full text-xs bg-gray-800",children:[f.jsx("thead",{children:f.jsx("tr",{className:"border-b border-gray-700",children:u.columns.map(y=>f.jsx("th",{onClick:()=>o(y),className:"px-3 py-2 text-left font-semibold text-gray-400 cursor-pointer hover:text-gray-200 hover:bg-gray-750 select-none whitespace-nowrap transition-colors duration-150",children:f.jsxs("span",{className:"flex items-center gap-1",children:[y,n===y&&f.jsx("span",{className:"text-blue-400",children:a==="asc"?"":""})]})},y))})}),f.jsx("tbody",{children:p.map((y,x)=>f.jsx("tr",{className:"border-b border-gray-700/50 hover:bg-gray-700/30 transition-colors duration-150",children:u.columns.map(b=>{const N=y[b],j=/^time$/i.test(b);let C;if(N==null)C=f.jsx("span",{className:"text-gray-600 italic",children:"null"});else if(e&&j){const A=Dpe(N,r);C=f.jsx("span",{title:String(N),children:A})}else C=String(N);return f.jsx("td",{className:"px-3 py-1.5 text-gray-300 whitespace-nowrap font-mono",children:C},b)})},x))})]})}),f.jsxs("div",{className:"text-xs text-gray-500 mt-1 px-1",children:[p.length," row",p.length!==1?"s":""]})]},h)})})}function Fpe({series:t}){if(t.length===0)return f.jsx("div",{className:"text-gray-500 text-sm text-center py-8",children:"No results"});const e=t[0],r=e.columns.find(u=>u==="time")??null,n=e.columns.filter(u=>u!=="time"&&u!=="name");if(!r)return f.jsx("div",{className:"text-gray-500 text-sm text-center py-8",children:"Chart requires a 'time' column in the results."});const i=new Map;t.forEach(u=>{const h=LS(u.tags);u.rows.forEach(m=>{const p=String(m[r]);i.has(p)||i.set(p,{time:p});const y=i.get(p);n.forEach(x=>{const b=t.length>1?`${u.name}${h||""}.${x}`:x,N=m[x];N!=null&&(y[b]=typeof N=="number"?N:parseFloat(N))})})});const a=Array.from(i.values()).sort((u,h)=>u.time<h.time?-1:u.time>h.time?1:0),l=[];t.forEach(u=>{const h=LS(u.tags);n.forEach(m=>{const p=t.length>1?`${u.name}${h||""}.${m}`:m;l.includes(p)||l.push(p)})});const o=u=>{try{const h=new Date(u);if(!isNaN(h.getTime()))return h.toLocaleTimeString()}catch{}return u};return f.jsx("div",{className:"w-full h-full min-h-0",children:f.jsx(mc,{width:"100%",height:"100%",children:f.jsxs(wc,{data:a,margin:{top:8,right:24,left:0,bottom:8},children:[f.jsx($l,{strokeDasharray:"3 3",stroke:"#374151"}),f.jsx(Fl,{dataKey:"time",tickFormatter:o,tick:{fill:"#9ca3af",fontSize:11},axisLine:{stroke:"#4b5563"},tickLine:{stroke:"#4b5563"}}),f.jsx(Wl,{tick:{fill:"#9ca3af",fontSize:11},axisLine:{stroke:"#4b5563"},tickLine:{stroke:"#4b5563"},width:60}),f.jsx(bc,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"6px"},labelStyle:{color:"#9ca3af",fontSize:11},itemStyle:{color:"#d1d5db",fontSize:12},formatter:u=>[typeof u=="number"?u.toLocaleString():u]}),f.jsx(gd,{wrapperStyle:{fontSize:12,color:"#9ca3af",paddingTop:"8px"}}),l.map((u,h)=>f.jsx(Vl,{type:"monotone",dataKey:u,stroke:L3[h%L3.length],dot:!1,strokeWidth:2,connectNulls:!1},u))]})})})}function Wpe({onSelect:t}){const[e,r]=w.useState(!1),[n,i]=w.useState([]),a=w.useRef(null),l=()=>i(wI());return w.useEffect(()=>{if(!e)return;l();const o=u=>{a.current&&!a.current.contains(u.target)&&r(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[e]),f.jsxs("div",{className:"relative",ref:a,children:[f.jsxs("button",{onClick:()=>r(o=>!o),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded border border-gray-600 transition-colors duration-150",children:[f.jsx(Sa,{className:"w-3.5 h-3.5"}),"History",f.jsx(zi,{className:"w-3 h-3 text-gray-500"})]}),e&&f.jsx("div",{className:"absolute right-0 top-full mt-1 w-96 bg-gray-800 border border-gray-600 rounded shadow-2xl z-50 max-h-80 overflow-y-auto",children:n.length===0?f.jsx("div",{className:"text-gray-500 text-xs text-center py-4",children:"No query history"}):n.map((o,u)=>f.jsx("div",{onClick:()=>{t(o),r(!1)},className:"px-3 py-2 text-xs text-gray-300 hover:bg-gray-700 cursor-pointer truncate border-b border-gray-700 last:border-0 font-mono transition-colors duration-150",title:o,children:o},u))})]})}function Kpe(){const[t,e]=w.useState([]),[r,n]=w.useState(Bpe()),[i,a]=w.useState([]),[l,o]=w.useState(""),[u,h]=w.useState("rfc3339"),[m,p]=w.useState('SELECT * FROM "measurement" LIMIT 100'),[y,x]=w.useState(null),[b,N]=w.useState(!1),[j,C]=w.useState("table"),[A,k]=w.useState(!0),[T,D]=w.useState(0);w.useEffect(()=>{const z=()=>{D(R=>R+1),x(null),n(""),a([]),o(""),we.getDatabases().then(R=>{e(R),R.length>0&&(n(R[0]),k1(R[0]))}).catch(()=>{e([])})};return window.addEventListener("tidedb-connection-change",z),()=>window.removeEventListener("tidedb-connection-change",z)},[]),w.useEffect(()=>{we.getDatabases().then(z=>{e(z),!r&&z.length>0&&(n(z[0]),k1(z[0]))}).catch(()=>{})},[]),w.useEffect(()=>{if(!r){a([]),o("");return}k1(r),we.getRetentionPolicies(r).then(z=>{a(z);const R=z.find(U=>U.default);o(R?.name??z[0]?.name??"")}).catch(()=>{a([]),o("")})},[r]);const M=w.useCallback(async()=>{if(!m.trim()||b)return;N(!0);const z=performance.now();try{Lpe(m.trim());const R=await we.query(m.trim(),r||void 0,u||void 0),U=Math.round(performance.now()-z),W=R.results?.[0]?.error,$=Upe(R);x({series:$,duration:U,error:W})}catch(R){const U=Math.round(performance.now()-z);x({series:[],duration:U,error:R?.message??"Unknown error"})}finally{N(!1)}},[m,r,u,b]),E=()=>{p(z=>Ipe(z))},_=w.useCallback(z=>{p(R=>{const U=R.trimEnd(),W=U.length>0?" ":"";return U+W+z})},[]),L=z=>{z.key==="Enter"&&(z.ctrlKey||z.metaKey)&&(z.preventDefault(),M())},I=y?.series.reduce((z,R)=>z+R.rows.length,0)??0;return f.jsxs("div",{className:"flex flex-col h-full bg-gray-950 text-gray-100",children:[f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-gray-900 border-b border-gray-700 flex-shrink-0",children:[f.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Query Explorer"}),f.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[f.jsx("label",{className:"text-xs text-gray-500",children:"Database"}),f.jsxs("select",{value:r,onChange:z=>n(z.target.value),className:"bg-gray-800 border border-gray-600 text-gray-200 text-xs rounded px-2 py-1 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:[f.jsx("option",{value:"",children:" select "}),t.map(z=>f.jsx("option",{value:z,children:z},z))]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("label",{className:"text-xs text-gray-500",children:"RP"}),f.jsxs("select",{value:l,onChange:z=>o(z.target.value),className:"bg-gray-800 border border-gray-600 text-gray-200 text-xs rounded px-2 py-1 focus:outline-none focus:border-blue-500 transition-colors duration-150",disabled:i.length===0,children:[f.jsx("option",{value:"",children:" default "}),i.map(z=>f.jsxs("option",{value:z.name,children:[z.name,z.default?" (default)":""]},z.name))]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("label",{className:"text-xs text-gray-500",children:"Epoch"}),f.jsx("select",{value:u,onChange:z=>h(z.target.value),className:"bg-gray-800 border border-gray-600 text-gray-200 text-xs rounded px-2 py-1 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:Mpe.map(z=>f.jsx("option",{value:z.value,children:z.label},z.value))})]})]}),f.jsxs("div",{className:"flex flex-1 min-h-0 overflow-hidden",children:[f.jsx("div",{className:"flex-shrink-0 border-r border-gray-700 overflow-hidden flex flex-col",style:{width:"250px"},children:f.jsx($pe,{onInsert:_},T)}),f.jsxs("div",{className:"flex flex-col flex-1 min-w-0 overflow-hidden",children:[f.jsxs("div",{className:"flex-shrink-0 border-b border-gray-700 flex flex-col",style:{height:"200px"},children:[f.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 bg-gray-900 border-b border-gray-700",children:[f.jsx("span",{className:"text-xs text-gray-500",children:"InfluxQL    Ctrl+Enter to run"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:E,className:"px-2.5 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded border border-gray-600 transition-colors duration-150",children:"Format"}),f.jsx(Wpe,{onSelect:p}),f.jsxs("button",{onClick:()=>{const z=m.trim();z&&!z.toUpperCase().startsWith("EXPLAIN")&&p("EXPLAIN "+z),M()},disabled:b,title:"Explain query plan",className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs bg-amber-700 hover:bg-amber-600 disabled:bg-amber-900 disabled:text-amber-400 text-white rounded transition-colors duration-150",children:[f.jsx(Rl,{className:"w-3.5 h-3.5"}),"Explain"]}),f.jsxs("button",{onClick:M,disabled:b,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold bg-blue-600 hover:bg-blue-700 disabled:bg-blue-900 disabled:text-blue-400 text-white rounded transition-colors duration-150",children:[f.jsx(Pl,{className:"w-3.5 h-3.5"}),b?"Running":"Run"]})]})]}),f.jsx("div",{className:"flex-1 overflow-hidden",onKeyDown:L,children:f.jsx(fN,{value:m,onChange:p,extensions:[Epe()],theme:"dark",height:"150px",style:{height:"150px",fontSize:"13px",backgroundColor:"#1f2937"},basicSetup:{lineNumbers:!0,highlightActiveLineGutter:!0,highlightActiveLine:!0,bracketMatching:!0,autocompletion:!0,indentOnInput:!0}})})]}),f.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[f.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 bg-gray-900 border-b border-gray-700 flex-shrink-0",children:[f.jsxs("button",{onClick:()=>C("table"),className:`flex items-center gap-1.5 px-3 py-1 text-xs rounded transition-colors duration-150 ${j==="table"?"bg-gray-700 text-gray-100":"text-gray-400 hover:text-gray-200 hover:bg-gray-800"}`,children:[f.jsx(Ug,{className:"w-3.5 h-3.5"}),"Table"]}),f.jsxs("button",{onClick:()=>C("chart"),className:`flex items-center gap-1.5 px-3 py-1 text-xs rounded transition-colors duration-150 ${j==="chart"?"bg-gray-700 text-gray-100":"text-gray-400 hover:text-gray-200 hover:bg-gray-800"}`,children:[f.jsx(va,{className:"w-3.5 h-3.5"}),"Chart"]}),y&&!y.error&&f.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[f.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer select-none",title:"Toggle between raw epoch and readable timestamps",children:[f.jsx(Sa,{className:"w-3 h-3 text-gray-500"}),f.jsx("span",{className:"text-xs text-gray-500",children:"Readable time"}),f.jsx("button",{type:"button",role:"switch","aria-checked":A,onClick:()=>k(z=>!z),className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors duration-200 ${A?"bg-blue-600":"bg-gray-600"}`,children:f.jsx("span",{className:`inline-block h-3 w-3 rounded-full bg-white transition-transform duration-200 ${A?"translate-x-3.5":"translate-x-0.5"}`})})]}),f.jsx("span",{className:"text-xs text-gray-600",children:"|"}),f.jsxs("span",{className:"text-xs text-gray-500",children:[I," row",I!==1?"s":""]}),f.jsxs("button",{onClick:()=>qpe(y.series),title:"Download CSV",className:"flex items-center gap-1 px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded border border-gray-600 transition-colors duration-150",children:[f.jsx(dc,{className:"w-3 h-3"})," CSV"]}),f.jsxs("button",{onClick:()=>Hpe(y.series),title:"Download JSON",className:"flex items-center gap-1 px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded border border-gray-600 transition-colors duration-150",children:[f.jsx(Hq,{className:"w-3 h-3"})," JSON"]})]})]}),f.jsxs("div",{className:"flex-1 overflow-hidden min-h-0 bg-gray-950 p-3",children:[!y&&f.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-2 text-gray-600",children:[f.jsx(Pl,{className:"w-8 h-8 opacity-30"}),f.jsx("span",{className:"text-sm",children:"Run a query to see results"})]}),y&&y.error&&f.jsx("div",{className:"bg-red-950/50 border border-red-700 rounded p-3 text-red-300 text-sm font-mono",children:y.error}),y&&!y.error&&f.jsxs("div",{className:"h-full overflow-hidden",children:[j==="table"&&f.jsx(Vpe,{series:y.series,humanTime:A,epochUnit:u}),j==="chart"&&f.jsx(Fpe,{series:y.series})]})]}),f.jsxs("div",{className:"flex-shrink-0 flex items-center gap-3 px-3 py-1 bg-gray-900 border-t border-gray-700 text-xs text-gray-500",children:[b&&f.jsxs("span",{className:"flex items-center gap-1.5 text-blue-400",children:[f.jsxs("svg",{className:"w-3 h-3 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Executing"]}),y&&!b&&f.jsxs(f.Fragment,{children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(Sa,{className:"w-3 h-3"}),zpe(y.duration)]}),!y.error&&f.jsxs("span",{children:[I," row",I!==1?"s":""," returned"]}),y.error&&f.jsx("span",{className:"text-red-400",children:"Query failed"})]}),!y&&!b&&f.jsx("span",{children:"Ready"})]})]})]})]})]})}function cd({title:t,message:e,confirmLabel:r="Confirm",onConfirm:n,onCancel:i,danger:a=!0,requireTypedConfirmation:l}){const[o,u]=w.useState(""),h=!l||o===l;return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:f.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-100 mb-2",children:t}),f.jsx("p",{className:"text-sm text-gray-400 mb-4",children:e}),l&&f.jsxs("div",{className:"mb-4",children:[f.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Type ",f.jsx("span",{className:"font-mono text-red-400 font-semibold",children:l})," to confirm:"]}),f.jsx("input",{type:"text",value:o,onChange:m=>u(m.target.value),autoFocus:!0,placeholder:l,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-600 focus:outline-none focus:border-red-500 transition-colors duration-150 font-mono"})]}),f.jsxs("div",{className:"flex justify-end gap-3",children:[f.jsx("button",{onClick:i,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150",children:"Cancel"}),f.jsx("button",{onClick:n,disabled:!h,className:`px-4 py-2 text-sm font-semibold text-white rounded-md transition-colors duration-150 disabled:opacity-40 disabled:cursor-not-allowed ${a?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:r})]})]})})}function Gpe({message:t,onDismiss:e}){return f.jsxs("div",{className:"flex items-start justify-between bg-red-950/60 border border-red-700 rounded-md px-4 py-3 mb-4 text-sm text-red-300",children:[f.jsx("span",{className:"font-mono break-all",children:t}),f.jsx("button",{onClick:e,className:"ml-4 flex-shrink-0 text-red-400 hover:text-red-200 transition-colors duration-150",children:""})]})}function Ype({message:t,onDismiss:e}){return f.jsxs("div",{className:"flex items-start justify-between bg-green-950/60 border border-green-700 rounded-md px-4 py-3 mb-4 text-sm text-green-300",children:[f.jsx("span",{children:t}),f.jsx("button",{onClick:e,className:"ml-4 flex-shrink-0 text-green-400 hover:text-green-200 transition-colors duration-150",children:""})]})}function Qpe({onClose:t,onCreated:e}){const[r,n]=w.useState(""),[i,a]=w.useState("30d"),[l,o]=w.useState(!1),[u,h]=w.useState(""),m=async()=>{const p=r.trim();if(!p){h("Database name is required.");return}o(!0),h("");try{const y=i.trim()||"INF";await we.query(`CREATE DATABASE "${p}" WITH DURATION ${y}`),e(),t()}catch(y){h(y?.message??"Failed to create database.")}finally{o(!1)}};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:f.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[f.jsx(en,{className:"w-5 h-5 text-blue-400"}),"Create Database"]}),u&&f.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono",children:u}),f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Database Name"}),f.jsx("input",{type:"text",value:r,onChange:p=>n(p.target.value),placeholder:"my_database",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Default RP Duration",f.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(e.g. 30d, 1h, INF)"})]}),f.jsx("input",{type:"text",value:i,onChange:p=>a(p.target.value),placeholder:"30d",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]})]}),f.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[f.jsx("button",{onClick:t,disabled:l,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),f.jsxs("button",{onClick:m,disabled:l,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 flex items-center gap-2",children:[l&&f.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Create Database"]})]})]})})}function Xpe({database:t,onClose:e,onCreated:r}){const[n,i]=w.useState(""),[a,l]=w.useState("30d"),[o,u]=w.useState(""),[h,m]=w.useState("1"),[p,y]=w.useState(!1),[x,b]=w.useState(!1),[N,j]=w.useState(""),C=async()=>{const A=n.trim();if(!A){j("Retention policy name is required.");return}const k=a.trim();if(!k){j("Duration is required.");return}b(!0),j("");try{let T=`CREATE RETENTION POLICY "${A}" ON "${t}" DURATION ${k} REPLICATION ${h||"1"}`;o.trim()&&(T+=` SHARD DURATION ${o.trim()}`),p&&(T+=" DEFAULT"),await we.query(T),r(),e()}catch(T){j(T?.message??"Failed to create retention policy.")}finally{b(!1)}};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:f.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-1 flex items-center gap-2",children:[f.jsx(Ii,{className:"w-5 h-5 text-blue-400"}),"Create Retention Policy"]}),f.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["on database ",f.jsx("span",{className:"text-blue-400 font-mono",children:t})]}),N&&f.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono",children:N}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Policy Name"}),f.jsx("input",{type:"text",value:n,onChange:A=>i(A.target.value),placeholder:"my_policy",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Duration",f.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(e.g. 7d, 30d, INF)"})]}),f.jsx("input",{type:"text",value:a,onChange:A=>l(A.target.value),placeholder:"30d",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Shard Group Duration",f.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(optional, e.g. 1d)"})]}),f.jsx("input",{type:"text",value:o,onChange:A=>u(A.target.value),placeholder:"auto",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Replication Factor"}),f.jsx("input",{type:"number",min:"1",value:h,onChange:A=>m(A.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[f.jsx("input",{type:"checkbox",checked:p,onChange:A=>y(A.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500 focus:ring-offset-gray-800"}),f.jsx("span",{className:"text-sm text-gray-300",children:"Set as default retention policy"})]})]}),f.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[f.jsx("button",{onClick:e,disabled:x,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),f.jsxs("button",{onClick:C,disabled:x,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 flex items-center gap-2",children:[x&&f.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Create Policy"]})]})]})})}function Zpe({database:t,rp:e,onClose:r,onAltered:n}){const[i,a]=w.useState(e.duration||""),[l,o]=w.useState(e.shardGroupDuration||""),[u,h]=w.useState(String(e.replicaN??1)),[m,p]=w.useState(e.default),[y,x]=w.useState(!1),[b,N]=w.useState(""),j=async()=>{x(!0),N("");try{let C=`ALTER RETENTION POLICY "${e.name}" ON "${t}"`;i.trim()&&(C+=` DURATION ${i.trim()}`),C+=` REPLICATION ${u||"1"}`,l.trim()&&(C+=` SHARD DURATION ${l.trim()}`),m&&(C+=" DEFAULT"),await we.query(C),n(),r()}catch(C){N(C?.message??"Failed to alter retention policy.")}finally{x(!1)}};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:f.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-1 flex items-center gap-2",children:[f.jsx(FS,{className:"w-5 h-5 text-blue-400"}),"Alter Retention Policy"]}),f.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:[f.jsx("span",{className:"text-blue-400 font-mono",children:e.name})," on ",f.jsx("span",{className:"text-blue-400 font-mono",children:t})]}),b&&f.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono",children:b}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Duration ",f.jsx("span",{className:"text-xs text-gray-500",children:"(e.g. 7d, 30d, INF)"})]}),f.jsx("input",{type:"text",value:i,onChange:C=>a(C.target.value),placeholder:"30d",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Shard Group Duration ",f.jsx("span",{className:"text-xs text-gray-500",children:"(optional)"})]}),f.jsx("input",{type:"text",value:l,onChange:C=>o(C.target.value),placeholder:"auto",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Replication Factor"}),f.jsx("input",{type:"number",min:"1",value:u,onChange:C=>h(C.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[f.jsx("input",{type:"checkbox",checked:m,onChange:C=>p(C.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500 focus:ring-offset-gray-800"}),f.jsx("span",{className:"text-sm text-gray-300",children:"Set as default retention policy"})]})]}),f.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[f.jsx("button",{onClick:r,disabled:y,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),f.jsxs("button",{onClick:j,disabled:y,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 flex items-center gap-2",children:[y&&f.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Alter Policy"]})]})]})})}function Jpe({onError:t,onSuccess:e}){const[r,n]=w.useState([]),[i,a]=w.useState(!0),[l,o]=w.useState(!1),[u,h]=w.useState(null),[m,p]=w.useState(null),[y,x]=w.useState(null),[b,N]=w.useState(null),j=w.useCallback(async()=>{a(!0);try{const E=await we.getDatabases();n(_=>{const L=new Map(_.map(I=>[I.name,I]));return E.map(I=>L.get(I)??{name:I,expanded:!1,retentionPolicies:null,seriesCardinality:null,loadingRPs:!1,loadingCardinality:!1})})}catch(E){t(E?.message??"Failed to load databases.")}finally{a(!1)}},[t]);w.useEffect(()=>{j()},[j]);const C=w.useCallback(async E=>{n(L=>L.map(I=>I.name!==E?I:{...I,expanded:!I.expanded}));const _=r.find(L=>L.name===E);if(!(!_||_.retentionPolicies!==null)){n(L=>L.map(I=>I.name===E?{...I,loadingRPs:!0,loadingCardinality:!0}:I));try{const[L,I]=await Promise.all([we.getRetentionPolicies(E),we.getSeriesCardinality(E)]),z=L.map(R=>({name:R.name,duration:R.duration,shardGroupDuration:R.shardGroupDuration,replicaN:R.replicaN,default:R.default}));n(R=>R.map(U=>U.name===E?{...U,retentionPolicies:z,seriesCardinality:I,loadingRPs:!1,loadingCardinality:!1}:U))}catch(L){n(I=>I.map(z=>z.name===E?{...z,loadingRPs:!1,loadingCardinality:!1}:z)),t(L?.message??`Failed to load details for ${E}.`)}}},[r,t]),A=async E=>{h(null);try{await we.query(`DROP DATABASE "${E}"`),e(`Database "${E}" dropped successfully.`),j()}catch(_){t(_?.message??`Failed to drop database "${E}".`)}},k=E=>{n(_=>_.map(L=>L.name===E?{...L,retentionPolicies:null,seriesCardinality:null}:L))},T=E=>{k(E),e(`Retention policy created on "${E}".`)},D=async(E,_)=>{N(null);try{await we.query(`DROP RETENTION POLICY "${_}" ON "${E}"`),k(E),e(`Retention policy "${_}" dropped from "${E}".`),n(L=>L.map(I=>I.name===E?{...I,expanded:!1}:I)),setTimeout(()=>C(E),100)}catch(L){t(L?.message??`Failed to drop retention policy "${_}".`)}},M=E=>{k(E),e(`Retention policy altered on "${E}".`),n(_=>_.map(L=>L.name===E?{...L,expanded:!1}:L)),setTimeout(()=>C(E),100)};return f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[f.jsx(en,{className:"w-5 h-5 text-blue-400"}),"Databases"]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:j,disabled:i,title:"Refresh",className:"p-2 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-gray-200 rounded-md border border-gray-700 transition-colors duration-150 disabled:opacity-50",children:f.jsx(wt,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),f.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150",children:[f.jsx(Ii,{className:"w-4 h-4"}),"Create Database"]})]})]}),i&&r.length===0?f.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[f.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading databases..."]}):r.length===0?f.jsxs("div",{className:"text-center py-16 text-gray-500",children:[f.jsx(en,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),f.jsx("p",{className:"text-sm",children:"No databases found."})]}):f.jsx("div",{className:"flex flex-col gap-2",children:r.map(E=>f.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[f.jsxs("button",{onClick:()=>C(E.name),className:"flex items-center gap-2 text-left group",children:[f.jsx("span",{className:`text-gray-400 transition-transform duration-150 ${E.expanded?"rotate-90":"rotate-0"}`,children:""}),f.jsx(en,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),f.jsx("span",{className:"text-sm font-medium text-gray-100 group-hover:text-white transition-colors duration-150 font-mono",children:E.name})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("button",{onClick:()=>p(E.name),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-md border border-gray-600 transition-colors duration-150",children:[f.jsx(Ii,{className:"w-3.5 h-3.5"}),"Create RP"]}),f.jsxs("button",{onClick:()=>h(E.name),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors duration-150",children:[f.jsx(ui,{className:"w-3.5 h-3.5"}),"Drop"]})]})]}),E.expanded&&f.jsx("div",{className:"border-t border-gray-700 px-4 py-3",children:E.loadingRPs?f.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm py-2",children:[f.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading details..."]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx("span",{className:"text-xs text-gray-500",children:"Series Cardinality:"}),f.jsx("span",{className:"text-xs font-mono text-blue-300",children:E.seriesCardinality!==null?E.seriesCardinality.toLocaleString():"N/A"})]}),f.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Retention Policies"}),E.retentionPolicies&&E.retentionPolicies.length>0?f.jsx("div",{className:"rounded border border-gray-700 overflow-hidden",children:f.jsxs("table",{className:"min-w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[f.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Name"}),f.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Duration"}),f.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Shard Group Duration"}),f.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Replication"}),f.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Default"}),f.jsx("th",{className:"px-3 py-2 text-right font-semibold text-gray-400 whitespace-nowrap",children:"Actions"})]})}),f.jsx("tbody",{children:E.retentionPolicies.map(_=>f.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[f.jsx("td",{className:"px-3 py-2 font-mono text-gray-200",children:_.name}),f.jsx("td",{className:"px-3 py-2 text-gray-300",children:_.duration||"INF"}),f.jsx("td",{className:"px-3 py-2 text-gray-300",children:_.shardGroupDuration||"auto"}),f.jsx("td",{className:"px-3 py-2 text-gray-300",children:_.replicaN}),f.jsx("td",{className:"px-3 py-2",children:_.default?f.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-semibold bg-blue-900/60 text-blue-300 border border-blue-700",children:"default"}):f.jsx("span",{className:"text-gray-600",children:""})}),f.jsx("td",{className:"px-3 py-2 text-right",children:f.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[f.jsx("button",{onClick:()=>x({db:E.name,rp:_}),title:"Edit",className:"p-1.5 text-gray-400 hover:text-blue-300 hover:bg-gray-700 rounded transition-colors duration-150",children:f.jsx(FS,{className:"w-3.5 h-3.5"})}),f.jsx("button",{onClick:()=>N({db:E.name,rpName:_.name}),title:"Drop",className:"p-1.5 text-gray-400 hover:text-red-300 hover:bg-gray-700 rounded transition-colors duration-150",children:f.jsx(ui,{className:"w-3.5 h-3.5"})})]})})]},_.name))})]})}):f.jsx("p",{className:"text-sm text-gray-500",children:"No retention policies found."})]})})]},E.name))}),l&&f.jsx(Qpe,{onClose:()=>o(!1),onCreated:()=>{e("Database created successfully."),j()}}),u&&f.jsx(cd,{title:"Drop Database",message:`Are you sure you want to drop the database "${u}"? This action is irreversible and all data will be permanently deleted.`,confirmLabel:"Drop Database",requireTypedConfirmation:u,onConfirm:()=>A(u),onCancel:()=>h(null)}),m&&f.jsx(Xpe,{database:m,onClose:()=>p(null),onCreated:()=>T(m)}),y&&f.jsx(Zpe,{database:y.db,rp:y.rp,onClose:()=>x(null),onAltered:()=>M(y.db)}),b&&f.jsx(cd,{title:"Drop Retention Policy",message:`Are you sure you want to drop the retention policy "${b.rpName}" on database "${b.db}"? All data in this policy will be permanently deleted.`,confirmLabel:"Drop RP",requireTypedConfirmation:b.rpName,onConfirm:()=>D(b.db,b.rpName),onCancel:()=>N(null)})]})}function ege({databases:t,onClose:e,onCreated:r}){const[n,i]=w.useState(""),[a,l]=w.useState(t[0]??""),[o,u]=w.useState(""),[h,m]=w.useState(""),[p,y]=w.useState(""),[x,b]=w.useState(!1),[N,j]=w.useState(""),C=async()=>{const A=n.trim();if(!A){j("Continuous query name is required.");return}if(!a){j("Database is required.");return}const k=p.trim();if(!k){j("SELECT query is required.");return}b(!0),j("");try{let T="";const D=o.trim(),M=h.trim();(D||M)&&(T=" RESAMPLE",D&&(T+=` EVERY ${D}`),M&&(T+=` FOR ${M}`));const E=`CREATE CONTINUOUS QUERY "${A}" ON "${a}"${T} BEGIN ${k} END`;await we.query(E),r(),e()}catch(T){j(T?.message??"Failed to create continuous query.")}finally{b(!1)}};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:f.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-lg mx-4 p-6",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[f.jsx(wt,{className:"w-5 h-5 text-blue-400"}),"Create Continuous Query"]}),N&&f.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono break-all",children:N}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"CQ Name"}),f.jsx("input",{type:"text",value:n,onChange:A=>i(A.target.value),placeholder:"my_cq",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Database"}),f.jsx("select",{value:a,onChange:A=>l(A.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:t.map(A=>f.jsx("option",{value:A,children:A},A))})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Resample Every",f.jsx("span",{className:"ml-1 text-xs text-gray-500",children:"(optional)"})]}),f.jsx("input",{type:"text",value:o,onChange:A=>u(A.target.value),placeholder:"e.g. 1h",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Resample For",f.jsx("span",{className:"ml-1 text-xs text-gray-500",children:"(optional)"})]}),f.jsx("input",{type:"text",value:h,onChange:A=>m(A.target.value),placeholder:"e.g. 2h",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["SELECT Query",f.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(the full SELECT ... INTO ... FROM ... GROUP BY time(...) statement)"})]}),f.jsx("textarea",{value:p,onChange:A=>y(A.target.value),placeholder:'SELECT mean("value") INTO "downsampled"."autogen"."cpu" FROM "cpu" GROUP BY time(1h)',rows:4,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150 font-mono resize-y"})]})]}),f.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[f.jsx("button",{onClick:e,disabled:x,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),f.jsxs("button",{onClick:C,disabled:x,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 flex items-center gap-2",children:[x&&f.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Create CQ"]})]})]})})}function tge({onError:t,onSuccess:e}){const[r,n]=w.useState([]),[i,a]=w.useState(!0),[l,o]=w.useState(!1),[u,h]=w.useState([]),[m,p]=w.useState(null),y=w.useCallback(async()=>{try{const j=await we.getDatabases();h(j)}catch{}},[]),x=w.useCallback(async()=>{a(!0);try{const C=(await we.getContinuousQueries()).map(A=>{const k=A.columns?.indexOf("name")??0,T=A.columns?.indexOf("query")??1,D=(A.values??[]).map(M=>({name:M[k],query:M[T]}));return{database:A.name,queries:D}});n(C)}catch(j){t(j?.message??"Failed to load continuous queries.")}finally{a(!1)}},[t]);w.useEffect(()=>{x(),y()},[x,y]);const b=async(j,C)=>{p(null);try{await we.query(`DROP CONTINUOUS QUERY "${j}" ON "${C}"`),e(`Continuous query "${j}" dropped from "${C}".`),x()}catch(A){t(A?.message??`Failed to drop continuous query "${j}".`)}},N=r.reduce((j,C)=>j+C.queries.length,0);return f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[f.jsx(wt,{className:"w-5 h-5 text-blue-400"}),"Continuous Queries",!i&&f.jsxs("span",{className:"ml-1 text-xs font-normal text-gray-500",children:["(",N," total)"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:x,disabled:i,title:"Refresh",className:"p-2 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-gray-200 rounded-md border border-gray-700 transition-colors duration-150 disabled:opacity-50",children:f.jsx(wt,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),f.jsxs("button",{onClick:()=>{y(),o(!0)},className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150",children:[f.jsx(Ii,{className:"w-4 h-4"}),"Create CQ"]})]})]}),i?f.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[f.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading continuous queries..."]}):r.length===0||N===0?f.jsxs("div",{className:"text-center py-16 text-gray-500",children:[f.jsx(wt,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),f.jsx("p",{className:"text-sm",children:"No continuous queries found."})]}):f.jsx("div",{className:"flex flex-col gap-4",children:r.filter(j=>j.queries.length>0).map(j=>f.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[f.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 border-b border-gray-700 bg-gray-800",children:[f.jsx(en,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),f.jsx("span",{className:"text-sm font-semibold text-gray-200 font-mono",children:j.database}),f.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",j.queries.length," ",j.queries.length===1?"query":"queries",")"]})]}),f.jsxs("table",{className:"min-w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[f.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-400 w-40",children:"Name"}),f.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-400",children:"Query"}),f.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-400 w-24",children:"Actions"})]})}),f.jsx("tbody",{children:j.queries.map(C=>f.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[f.jsx("td",{className:"px-4 py-2.5 font-mono text-blue-300 align-top whitespace-nowrap",children:C.name}),f.jsx("td",{className:"px-4 py-2.5 text-gray-300 font-mono break-all align-top",children:f.jsx("span",{className:"whitespace-pre-wrap text-xs leading-relaxed",children:C.query})}),f.jsx("td",{className:"px-4 py-2.5 text-right align-top",children:f.jsxs("button",{onClick:()=>p({name:C.name,db:j.database}),className:"flex items-center gap-1 px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors duration-150 ml-auto",children:[f.jsx(ui,{className:"w-3 h-3"}),"Drop"]})})]},C.name))})]})]},j.database))}),m&&f.jsx(cd,{title:"Drop Continuous Query",message:`Are you sure you want to drop the continuous query "${m.name}" on database "${m.db}"?`,confirmLabel:"Drop CQ",onConfirm:()=>b(m.name,m.db),onCancel:()=>p(null)}),l&&f.jsx(ege,{databases:u,onClose:()=>o(!1),onCreated:()=>{e("Continuous query created successfully."),x()}})]})}function rge({onCreated:t,onError:e,onSuccess:r}){const[n,i]=w.useState(""),[a,l]=w.useState(""),[o,u]=w.useState(!1),[h,m]=w.useState(!1),p=async()=>{const y=n.trim();if(!y){e("Username is required.");return}if(!a){e("Password is required.");return}m(!0);try{await we.query(`CREATE USER "${y}" WITH PASSWORD '${a}'`),o&&await we.query(`GRANT ALL PRIVILEGES TO "${y}"`),r(`User "${y}" created successfully.`),i(""),l(""),u(!1),t()}catch(x){e(x?.message??"Failed to create user.")}finally{m(!1)}};return f.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4 mb-6",children:[f.jsxs("h3",{className:"text-sm font-semibold text-gray-300 mb-3 flex items-center gap-2",children:[f.jsx(Ii,{className:"w-4 h-4 text-blue-400"}),"Create User"]}),f.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[f.jsxs("div",{className:"flex-1 min-w-36",children:[f.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Username"}),f.jsx("input",{type:"text",value:n,onChange:y=>i(y.target.value),placeholder:"username",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),f.jsxs("div",{className:"flex-1 min-w-36",children:[f.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Password"}),f.jsx("input",{type:"password",value:a,onChange:y=>l(y.target.value),placeholder:"password",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),f.jsx("div",{className:"flex items-center gap-2 pb-0.5",children:f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[f.jsx("input",{type:"checkbox",checked:o,onChange:y=>u(y.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500 focus:ring-offset-gray-800"}),f.jsxs("span",{className:"text-sm text-gray-300 flex items-center gap-1",children:[f.jsx(Ts,{className:"w-3.5 h-3.5 text-amber-400"}),"Admin"]})]})}),f.jsxs("button",{onClick:p,disabled:h,className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[h?f.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):f.jsx(Ii,{className:"w-4 h-4"}),"Create User"]})]})]})}function nge({username:t,onClose:e,onSuccess:r,onError:n}){const[i,a]=w.useState(""),[l,o]=w.useState(""),[u,h]=w.useState(!1),m=async()=>{if(!i){n("Password is required.");return}if(i!==l){n("Passwords do not match.");return}h(!0);try{await we.query(`SET PASSWORD FOR "${t}" = '${i}'`),r(`Password changed for "${t}".`),e()}catch(p){n(p?.message??"Failed to change password.")}finally{h(!1)}};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:f.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-sm mx-4 p-6",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[f.jsx(b_,{className:"w-5 h-5 text-blue-400"}),"Change Password"]}),f.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["for user ",f.jsx("span",{className:"text-blue-400 font-mono",children:t})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx("input",{type:"password",value:i,onChange:p=>a(p.target.value),placeholder:"New password",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"}),f.jsx("input",{type:"password",value:l,onChange:p=>o(p.target.value),placeholder:"Confirm password",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),f.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[f.jsx("button",{onClick:e,disabled:u,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),f.jsx("button",{onClick:m,disabled:u||!i||i!==l,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:"Change Password"})]})]})})}function ige({username:t,databases:e,onClose:r,onSuccess:n,onError:i}){const[a,l]=w.useState(e[0]??""),[o,u]=w.useState("ALL"),[h,m]=w.useState(!1),p=async()=>{if(!a){i("Database is required.");return}m(!0);try{await we.query(`GRANT ${o} ON "${a}" TO "${t}"`),n(`Granted ${o} on "${a}" to "${t}".`),r()}catch(y){i(y?.message??"Failed to grant privilege.")}finally{m(!1)}};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:f.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-sm mx-4 p-6",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[f.jsx(Ts,{className:"w-5 h-5 text-blue-400"}),"Grant Privilege"]}),f.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["to user ",f.jsx("span",{className:"text-blue-400 font-mono",children:t})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Database"}),f.jsx("select",{value:a,onChange:y=>l(y.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:e.map(y=>f.jsx("option",{value:y,children:y},y))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Privilege"}),f.jsxs("select",{value:o,onChange:y=>u(y.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:[f.jsx("option",{value:"ALL",children:"ALL PRIVILEGES"}),f.jsx("option",{value:"READ",children:"READ"}),f.jsx("option",{value:"WRITE",children:"WRITE"})]})]})]}),f.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[f.jsx("button",{onClick:r,disabled:h,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),f.jsx("button",{onClick:p,disabled:h,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:"Grant"})]})]})})}function age({onError:t,onSuccess:e}){const[r,n]=w.useState([]),[i,a]=w.useState(!0),[l,o]=w.useState(null),[u,h]=w.useState(null),[m,p]=w.useState(null),[y,x]=w.useState([]),[b,N]=w.useState(null),[j,C]=w.useState({}),[A,k]=w.useState(null),T=w.useCallback(async()=>{a(!0);try{const L=await we.getUsers();n(Array.isArray(L)?L:[])}catch(L){t(L?.message??"Failed to load users.")}finally{a(!1)}},[t]),D=w.useCallback(async()=>{try{x(await we.getDatabases())}catch{}},[]);w.useEffect(()=>{T(),D()},[T,D]);const M=async L=>{o(null);try{await we.query(`DROP USER "${L}"`),e(`User "${L}" dropped successfully.`),T()}catch(I){t(I?.message??`Failed to drop user "${L}".`)}},E=async L=>{if(b===L){N(null);return}if(N(L),!j[L]){k(L);try{const I=await we.getUserGrants(L);C(z=>({...z,[L]:I}))}catch(I){t(I?.message??`Failed to load grants for "${L}".`)}finally{k(null)}}},_=async(L,I,z)=>{try{await we.query(`REVOKE ${z} ON "${I}" FROM "${L}"`),e(`Revoked ${z} on "${I}" from "${L}".`);const R=await we.getUserGrants(L);C(U=>({...U,[L]:R}))}catch(R){t(R?.message??"Failed to revoke privilege.")}};return f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[f.jsx(DA,{className:"w-5 h-5 text-blue-400"}),"Users"]}),f.jsx("button",{onClick:T,disabled:i,title:"Refresh",className:"p-2 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-gray-200 rounded-md border border-gray-700 transition-colors duration-150 disabled:opacity-50",children:f.jsx(wt,{className:`w-4 h-4 ${i?"animate-spin":""}`})})]}),f.jsx(rge,{onCreated:T,onError:t,onSuccess:e}),i?f.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[f.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading users..."]}):r.length===0?f.jsxs("div",{className:"text-center py-12 text-gray-500",children:[f.jsx(DA,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),f.jsx("p",{className:"text-sm",children:"No users found."})]}):f.jsx("div",{className:"flex flex-col gap-2",children:r.map(L=>f.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"font-mono text-gray-100 text-sm",children:L.user}),L.admin?f.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-semibold bg-amber-900/60 text-amber-300 border border-amber-700",children:[f.jsx(Ts,{className:"w-3 h-3"})," Admin"]}):f.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-semibold bg-gray-700 text-gray-400 border border-gray-600",children:"User"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsxs("button",{onClick:()=>E(L.user),title:"View Grants",className:"flex items-center gap-1 px-2.5 py-1.5 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-md border border-gray-600 transition-colors duration-150",children:[f.jsx(Uq,{className:"w-3.5 h-3.5"}),"Grants",b===L.user?f.jsx(VS,{className:"w-3 h-3"}):f.jsx(zi,{className:"w-3 h-3"})]}),f.jsxs("button",{onClick:()=>h(L.user),title:"Change Password",className:"flex items-center gap-1 px-2.5 py-1.5 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-md border border-gray-600 transition-colors duration-150",children:[f.jsx(b_,{className:"w-3.5 h-3.5"}),"Password"]}),f.jsxs("button",{onClick:()=>{D(),p(L.user)},title:"Grant Privilege",className:"flex items-center gap-1 px-2.5 py-1.5 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150",children:[f.jsx(Ts,{className:"w-3.5 h-3.5"}),"Grant"]}),f.jsxs("button",{onClick:()=>o(L.user),className:"flex items-center gap-1 px-2.5 py-1.5 text-xs bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors duration-150",children:[f.jsx(ui,{className:"w-3.5 h-3.5"}),"Drop"]})]})]}),b===L.user&&f.jsxs("div",{className:"border-t border-gray-700 px-4 py-3 bg-gray-850",children:[f.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Database Grants"}),A===L.user?f.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-xs py-2",children:[f.jsxs("svg",{className:"w-3 h-3 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading grants..."]}):(j[L.user]??[]).length===0?f.jsx("p",{className:"text-xs text-gray-500",children:"No database-specific grants."}):f.jsx("div",{className:"rounded border border-gray-700 overflow-hidden",children:f.jsxs("table",{className:"min-w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[f.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400",children:"Database"}),f.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400",children:"Privilege"}),f.jsx("th",{className:"px-3 py-2 text-right font-semibold text-gray-400",children:"Actions"})]})}),f.jsx("tbody",{children:(j[L.user]??[]).map((I,z)=>f.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[f.jsx("td",{className:"px-3 py-2 font-mono text-blue-300",children:I.database}),f.jsx("td",{className:"px-3 py-2 text-gray-300",children:I.privilege}),f.jsx("td",{className:"px-3 py-2 text-right",children:f.jsx("button",{onClick:()=>_(L.user,I.database,I.privilege),className:"px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white rounded transition-colors duration-150",children:"Revoke"})})]},z))})]})})]})]},L.user))}),l&&f.jsx(cd,{title:"Drop User",message:`Are you sure you want to drop the user "${l}"? This action cannot be undone.`,confirmLabel:"Drop User",onConfirm:()=>M(l),onCancel:()=>o(null)}),u&&f.jsx(nge,{username:u,onClose:()=>h(null),onSuccess:e,onError:t}),m&&f.jsx(ige,{username:m,databases:y,onClose:()=>{p(null)},onSuccess:L=>{e(L),b===m&&we.getUserGrants(m).then(I=>C(z=>({...z,[m]:I}))).catch(()=>{})},onError:t})]})}function sge({onError:t}){const[e,r]=w.useState([]),[n,i]=w.useState(!1),[a,l]=w.useState(!1),o=async()=>{i(!0),l(!1);try{const x=await we.getDatabases();let b={};try{const j=await we.getShardGroups();for(const C of j){const A=C.database||C.Database,k=C.end_time||C["end time"]||C.expiry_time;if(A&&k){const T=new Date(k);!isNaN(T.getTime())&&(!b[A]||T>b[A])&&(b[A]=T)}}}catch{}const N=await Promise.all(x.map(async j=>{let C=0,A=[],k=0;try{C=await we.getSeriesCardinality(j)}catch{}try{A=await we.getMeasurements(j)}catch{}try{k=(await we.getRetentionPolicies(j)).length}catch{}let T=null;const D=A.slice(0,5);for(const _ of D)try{const I=(await we.query(`SELECT * FROM "${_}" ORDER BY time DESC LIMIT 1`,j,"rfc3339")).results?.[0]?.series?.[0];if(I&&I.values?.[0]){const z=I.columns.indexOf("time"),R=z>=0?String(I.values[0][z]):null;R&&(!T||R>T)&&(T=R)}}catch{}const M=b[j]||null;let E=null;return M&&(E=Math.max(0,Math.floor((Date.now()-M.getTime())/(1e3*60*60*24)))),{name:j,seriesCardinality:C,measurementCount:A.length,rpCount:k,latestShardEnd:M,staleDays:E,lastDataAt:T}}));N.sort((j,C)=>C.seriesCardinality-j.seriesCardinality),r(N),l(!0)}catch(x){t(x?.message??"Analysis failed.")}finally{i(!1)}},u=x=>x.staleDays===null?"":x.staleDays===0?"Today":x.staleDays===1?"1 day ago":`${x.staleDays}d ago`,h=7,m=e.reduce((x,b)=>x+b.seriesCardinality,0),p=e.reduce((x,b)=>x+b.measurementCount,0),y=e.filter(x=>x.staleDays!==null&&x.staleDays>h).length;return f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[f.jsx(va,{className:"w-5 h-5 text-blue-400"}),"Usage Insights"]}),f.jsxs("button",{onClick:o,disabled:n,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[n?f.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):f.jsx(va,{className:"w-4 h-4"}),n?"Analyzing...":a?"Re-analyze":"Analyze Usage"]})]}),!a&&!n&&f.jsxs("div",{className:"text-center py-16 text-gray-500",children:[f.jsx(va,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),f.jsx("p",{className:"text-sm",children:'Click "Analyze Usage" to scan all databases.'}),f.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Queries each database for series cardinality, measurements, and shard groups."})]}),n&&f.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[f.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Analyzing databases... this may take a moment."]}),a&&!n&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 mb-6",children:[f.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 px-4 py-3",children:[f.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Databases"}),f.jsx("div",{className:"text-lg font-bold text-gray-100",children:e.length})]}),f.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 px-4 py-3",children:[f.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Total Series"}),f.jsx("div",{className:"text-lg font-bold text-gray-100",children:m.toLocaleString()})]}),f.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 px-4 py-3",children:[f.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Total Measurements"}),f.jsx("div",{className:"text-lg font-bold text-gray-100",children:p.toLocaleString()})]}),f.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 px-4 py-3",children:[f.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["Stale (",">","7d)"]}),f.jsx("div",{className:`text-lg font-bold ${y>0?"text-amber-400":"text-green-400"}`,children:y})]})]}),e.length===0?f.jsxs("div",{className:"text-center py-12 text-gray-500",children:[f.jsx(en,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),f.jsx("p",{className:"text-sm",children:"No databases found."})]}):f.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:f.jsxs("table",{className:"min-w-full text-sm",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[f.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400",children:"Database"}),f.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"Series"}),f.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"Measurements"}),f.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"RPs"}),f.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"Latest Shard"}),f.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"Last Data At"}),f.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-400",children:"Status"})]})}),f.jsx("tbody",{children:e.map(x=>{const b=x.staleDays!==null&&x.staleDays>h,N=x.name==="_internal";return f.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[f.jsxs("td",{className:"px-4 py-3 font-mono text-gray-100",children:[x.name,N&&f.jsx("span",{className:"ml-2 text-[10px] text-gray-500 font-sans",children:"(system)"})]}),f.jsx("td",{className:"px-4 py-3 text-right font-mono text-gray-300",children:x.seriesCardinality.toLocaleString()}),f.jsx("td",{className:"px-4 py-3 text-right font-mono text-gray-300",children:x.measurementCount.toLocaleString()}),f.jsx("td",{className:"px-4 py-3 text-right font-mono text-gray-300",children:x.rpCount}),f.jsx("td",{className:"px-4 py-3 text-right text-gray-400 text-xs",children:u(x)}),f.jsx("td",{className:"px-4 py-3 text-right text-xs font-mono",children:x.lastDataAt?f.jsx("span",{className:"text-gray-300",title:x.lastDataAt,children:(()=>{try{const j=new Date(x.lastDataAt);if(!isNaN(j.getTime()))return j.toLocaleString()}catch{}return x.lastDataAt})()}):f.jsx("span",{className:"text-gray-600",children:""})}),f.jsx("td",{className:"px-4 py-3 text-center",children:b&&!N?f.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-semibold bg-amber-900/60 text-amber-300 border border-amber-700",children:[f.jsx(tc,{className:"w-3 h-3"}),"Stale"]}):x.staleDays!==null?f.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-green-900/40 text-green-400 border border-green-800",children:"Active"}):f.jsx("span",{className:"text-gray-600 text-xs",children:""})})]},x.name)})})]})})]})]})}function lge({onError:t,onSuccess:e}){const[r,n]=w.useState([]),[i,a]=w.useState(!0),[l,o]=w.useState(!1),[u,h]=w.useState([]),[m,p]=w.useState(null),[y,x]=w.useState(""),[b,N]=w.useState(""),[j,C]=w.useState(""),[A,k]=w.useState("ANY"),[T,D]=w.useState(""),[M,E]=w.useState(!1),[_,L]=w.useState(""),I=w.useCallback(async()=>{a(!0);try{const $=await we.getSubscriptions();n($)}catch($){t($?.message??"Failed to load subscriptions.")}finally{a(!1)}},[t]),z=w.useCallback(async()=>{try{h(await we.getDatabases())}catch{}},[]);w.useEffect(()=>{I(),z()},[I,z]);const R=async($,H,F)=>{p(null);try{await we.query(`DROP SUBSCRIPTION "${$}" ON "${H}"."${F}"`),e(`Subscription "${$}" dropped.`),I()}catch(Q){t(Q?.message??`Failed to drop subscription "${$}".`)}},U=async()=>{if(!j.trim()){L("Subscription name is required.");return}if(!y){L("Database is required.");return}if(!b.trim()){L("Retention policy is required.");return}if(!T.trim()){L("At least one destination is required.");return}E(!0),L("");try{const $=T.split(",").map(H=>`'${H.trim()}'`).join(", ");await we.query(`CREATE SUBSCRIPTION "${j.trim()}" ON "${y}"."${b.trim()}" DESTINATIONS ${A} ${$}`),e("Subscription created successfully."),o(!1),C(""),N(""),D(""),I()}catch($){L($?.message??"Failed to create subscription.")}finally{E(!1)}},W=r.reduce(($,H)=>$+(H.values?.length??0),0);return f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[f.jsx(dv,{className:"w-5 h-5 text-blue-400"}),"Subscriptions",!i&&f.jsxs("span",{className:"ml-1 text-xs font-normal text-gray-500",children:["(",W," total)"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:I,disabled:i,title:"Refresh",className:"p-2 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-gray-200 rounded-md border border-gray-700 transition-colors duration-150 disabled:opacity-50",children:f.jsx(wt,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),f.jsxs("button",{onClick:()=>{z(),o(!0)},className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150",children:[f.jsx(Ii,{className:"w-4 h-4"})," Create Subscription"]})]})]}),i?f.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[f.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading subscriptions..."]}):W===0?f.jsxs("div",{className:"text-center py-16 text-gray-500",children:[f.jsx(dv,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),f.jsx("p",{className:"text-sm",children:"No subscriptions found."})]}):f.jsx("div",{className:"flex flex-col gap-4",children:r.filter($=>$.values?.length>0).map($=>f.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[f.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 border-b border-gray-700 bg-gray-800",children:[f.jsx(en,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),f.jsx("span",{className:"text-sm font-semibold text-gray-200 font-mono",children:$.name})]}),f.jsxs("table",{className:"min-w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[($.columns??[]).map(H=>f.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-400",children:H},H)),f.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-400 w-24",children:"Actions"})]})}),f.jsx("tbody",{children:($.values??[]).map((H,F)=>{const Q=($.columns??[]).indexOf("name"),se=($.columns??[]).indexOf("retention_policy");return f.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[H.map((de,B)=>f.jsx("td",{className:"px-4 py-2.5 text-gray-300 font-mono break-all",children:String(de??"")},B)),f.jsx("td",{className:"px-4 py-2.5 text-right",children:f.jsx("button",{onClick:()=>p({name:H[Q]??"",db:$.name,rp:H[se]??""}),className:"px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white rounded transition-colors duration-150",children:"Drop"})})]},F)})})]})]},$.name))}),m&&f.jsx(cd,{title:"Drop Subscription",message:`Drop subscription "${m.name}" on "${m.db}"."${m.rp}"?`,confirmLabel:"Drop",onConfirm:()=>R(m.name,m.db,m.rp),onCancel:()=>p(null)}),l&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:f.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[f.jsx(dv,{className:"w-5 h-5 text-blue-400"})," Create Subscription"]}),_&&f.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono",children:_}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Subscription Name"}),f.jsx("input",{type:"text",value:j,onChange:$=>C($.target.value),placeholder:"my_subscription",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Database"}),f.jsxs("select",{value:y,onChange:$=>x($.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:[f.jsx("option",{value:"",children:"Select database"}),u.map($=>f.jsx("option",{value:$,children:$},$))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Retention Policy"}),f.jsx("input",{type:"text",value:b,onChange:$=>N($.target.value),placeholder:"autogen",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Mode"}),f.jsxs("select",{value:A,onChange:$=>k($.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:[f.jsx("option",{value:"ANY",children:"ANY"}),f.jsx("option",{value:"ALL",children:"ALL"})]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Destinations ",f.jsx("span",{className:"text-xs text-gray-500",children:"(comma-separated URIs)"})]}),f.jsx("input",{type:"text",value:T,onChange:$=>D($.target.value),placeholder:"udp://host1:9090, udp://host2:9090",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]})]}),f.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[f.jsx("button",{onClick:()=>o(!1),disabled:M,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),f.jsx("button",{onClick:U,disabled:M,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:"Create"})]})]})})]})}function oge({onError:t}){const[e,r]=w.useState([]),[n,i]=w.useState([]),[a,l]=w.useState({}),[o,u]=w.useState(!1),[h,m]=w.useState(!1),p=async()=>{u(!0);try{const[b,N]=await Promise.all([we.getUsers(),we.getDatabases()]);r(Array.isArray(b)?b:[]),i(N);const j={};await Promise.all((b??[]).map(async C=>{try{const A=await we.getUserGrants(C.user),k={};for(const T of A)k[T.database]=T.privilege;j[C.user]=k}catch{j[C.user]={}}})),l(j),m(!0)}catch(b){t(b?.message??"Failed to load privilege matrix.")}finally{u(!1)}},y=b=>!b||b==="NO PRIVILEGES"?"text-gray-600":b==="ALL PRIVILEGES"?"text-green-400":b==="READ"?"text-blue-400":b==="WRITE"?"text-amber-400":"text-gray-300",x=b=>!b||b==="NO PRIVILEGES"?"-":b==="ALL PRIVILEGES"?"ALL":b;return f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[f.jsx(Ts,{className:"w-5 h-5 text-blue-400"}),"Privilege Matrix"]}),f.jsxs("button",{onClick:p,disabled:o,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[o?f.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):f.jsx(wt,{className:"w-4 h-4"}),o?"Loading...":h?"Refresh":"Load Matrix"]})]}),!h&&!o&&f.jsxs("div",{className:"text-center py-16 text-gray-500",children:[f.jsx(Ts,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),f.jsx("p",{className:"text-sm",children:'Click "Load Matrix" to view the per-database privilege grid.'}),f.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Shows SHOW GRANTS for each user across all databases."})]}),o&&f.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[f.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading privilege matrix..."]}),h&&!o&&f.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-x-auto",children:f.jsxs("table",{className:"min-w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[f.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 sticky left-0 bg-gray-800 z-10",children:"User"}),f.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-400",children:"Admin"}),n.map(b=>f.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-400 font-mono whitespace-nowrap",children:b},b))]})}),f.jsx("tbody",{children:e.map(b=>f.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[f.jsx("td",{className:"px-4 py-3 font-mono text-gray-100 sticky left-0 bg-gray-800",children:b.user}),f.jsx("td",{className:"px-4 py-3 text-center",children:b.admin?f.jsx("span",{className:"text-amber-400 font-semibold",children:"Yes"}):f.jsx("span",{className:"text-gray-600",children:"No"})}),n.map(N=>{const j=a[b.user]?.[N]??"";return f.jsx("td",{className:`px-4 py-3 text-center font-semibold ${y(j)}`,children:x(j)},N)})]},b.user))})]})})]})}const cge=[{id:"databases",label:"Databases & RPs"},{id:"continuous_queries",label:"Continuous Queries"},{id:"users",label:"Users"},{id:"subscriptions",label:"Subscriptions"},{id:"privileges",label:"Privileges"},{id:"insights",label:"Usage Insights"}];function uge(){const[t,e]=w.useState("databases"),[r,n]=w.useState(""),[i,a]=w.useState(""),[l,o]=w.useState(0);w.useEffect(()=>{const m=()=>{o(p=>p+1),n(""),a("")};return window.addEventListener("tidedb-connection-change",m),()=>window.removeEventListener("tidedb-connection-change",m)},[]);const u=w.useCallback(m=>{n(m),a("")},[]),h=w.useCallback(m=>{a(m),n("")},[]);return f.jsxs("div",{className:"min-h-full bg-gray-950 text-gray-100",children:[f.jsxs("div",{className:"border-b border-gray-800 px-6 py-4",children:[f.jsxs("h1",{className:"text-xl font-bold text-gray-100 flex items-center gap-2",children:[f.jsx(en,{className:"w-6 h-6 text-blue-400"}),"Database Administration"]}),f.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Manage databases, retention policies, continuous queries, and users."})]}),f.jsx("div",{className:"flex items-center gap-1 px-6 pt-4 pb-0",children:cge.map(m=>f.jsx("button",{onClick:()=>{e(m.id),n(""),a("")},className:`px-4 py-2 text-sm font-medium rounded-t-md transition-colors duration-150 ${t===m.id?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-gray-200 hover:bg-gray-700"}`,children:m.label},m.id))}),f.jsxs("div",{className:"px-6 py-5",children:[r&&f.jsx(Gpe,{message:r,onDismiss:()=>n("")}),i&&f.jsx(Ype,{message:i,onDismiss:()=>a("")}),t==="databases"&&f.jsx(Jpe,{onError:u,onSuccess:h},l),t==="continuous_queries"&&f.jsx(tge,{onError:u,onSuccess:h},l),t==="users"&&f.jsx(age,{onError:u,onSuccess:h},l),t==="subscriptions"&&f.jsx(lge,{onError:u,onSuccess:h},l),t==="privileges"&&f.jsx(oge,{onError:u},l),t==="insights"&&f.jsx(sge,{onError:u},l)]})]})}const fge=[{value:"ns",label:"ns  Nanoseconds"},{value:"us",label:"us  Microseconds"},{value:"ms",label:"ms  Milliseconds"},{value:"s",label:"s   Seconds"}],dge=`Enter line protocol data here...
cpu,host=server01 usage_idle=98.2 1622505600000000000`;function O1(t){return t.split(`
`).filter(e=>e.trim().length>0&&!e.trim().startsWith("#")).length}function BS(t){const e=[];let r="",n=!1;for(let i=0;i<t.length;i++){const a=t[i];n?a==='"'&&t[i+1]==='"'?(r+='"',i++):a==='"'?n=!1:r+=a:a==='"'?n=!0:a===","?(e.push(r),r=""):r+=a}return e.push(r),e}function B3(t,e,r,n){const i=t.split(`
`).filter(o=>o.trim().length>0);if(i.length<2)return"";const a=BS(i[0]).map(o=>o.trim()),l=[];for(let o=1;o<i.length;o++){const u=BS(i[o]);if(u.length!==a.length)continue;let h="";const m=[];let p="";if(a.forEach((x,b)=>{const N=u[b]?.trim()??"";if(N)if(x===n){const j=Number(N);if(!isNaN(j))p=String(j);else{const C=new Date(N);isNaN(C.getTime())||(p=String(C.getTime()*1e6))}}else if(r.has(x)){const j=N.replace(/ /g,"\\ ").replace(/,/g,"\\,").replace(/=/g,"\\=");h+=`,${x}=${j}`}else{const j=Number(N);!isNaN(j)&&N!==""?m.push(`${x}=${N}`):N==="true"||N==="false"||N==="TRUE"||N==="FALSE"?m.push(`${x}=${N.toLowerCase()}`):m.push(`${x}="${N.replace(/"/g,'\\"')}"`)}}),m.length===0)continue;let y=e+h+" "+m.join(",");p&&(y+=" "+p),l.push(y)}return l.join(`
`)}function hge({onConvert:t}){const[e,r]=w.useState(""),[n,i]=w.useState([]),[a,l]=w.useState(""),[o,u]=w.useState(new Set),[h,m]=w.useState(""),[p,y]=w.useState(""),x=w.useRef(null),b=w.useCallback(k=>{const T=k.split(`
`)[0]??"",D=BS(T).map(E=>E.trim()).filter(Boolean);i(D);const M=D.find(E=>/^(time|timestamp|date|datetime)$/i.test(E));M&&m(M)},[]),N=k=>{const T=k.target.files?.[0];if(!T)return;const D=new FileReader;D.onload=M=>{const E=M.target?.result;typeof E=="string"&&(r(E),b(E))},D.readAsText(T),k.target.value=""},j=k=>{u(T=>{const D=new Set(T);return D.has(k)?D.delete(k):D.add(k),D})},C=()=>{if(!a.trim()||!e)return;const k=B3(e,a.trim(),o,h);y(k)},A=()=>{if(!a.trim()||!e)return;const k=B3(e,a.trim(),o,h);t(k)};return f.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4 mt-6",children:[f.jsxs("h3",{className:"text-sm font-semibold text-gray-200 mb-3 flex items-center gap-2",children:[f.jsx(Fq,{className:"w-4 h-4 text-blue-400"}),"CSV Import"]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("button",{onClick:()=>x.current?.click(),className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 text-gray-200 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[f.jsx(ap,{className:"w-4 h-4"})," Upload CSV"]}),f.jsx("input",{ref:x,type:"file",accept:".csv",className:"hidden",onChange:N}),e&&f.jsxs("span",{className:"text-xs text-gray-400",children:[e.split(`
`).length-1," rows detected"]})]}),n.length>0&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Measurement Name"}),f.jsx("input",{type:"text",value:a,onChange:k=>l(k.target.value),placeholder:"my_measurement",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150 max-w-xs"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Timestamp Column"}),f.jsxs("select",{value:h,onChange:k=>m(k.target.value),className:"bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150 max-w-xs",children:[f.jsx("option",{value:"",children:"(none  auto timestamp)"}),n.map(k=>f.jsx("option",{value:k,children:k},k))]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-xs font-medium text-gray-400 mb-2",children:["Tag Columns ",f.jsx("span",{className:"text-gray-500",children:"(click to toggle, unselected = field)"})]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:n.filter(k=>k!==h).map(k=>f.jsx("button",{onClick:()=>j(k),className:`px-2.5 py-1 text-xs rounded-md border transition-colors duration-150 font-mono ${o.has(k)?"bg-blue-600 border-blue-500 text-white":"bg-gray-700 border-gray-600 text-gray-300 hover:bg-gray-600"}`,children:k},k))})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:C,disabled:!a.trim(),className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 text-gray-200 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:"Preview"}),f.jsxs("button",{onClick:A,disabled:!a.trim(),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[f.jsx(mq,{className:"w-4 h-4"})," Convert to Line Protocol"]})]}),p&&f.jsx("div",{className:"bg-gray-900 rounded-md border border-gray-700 p-3 max-h-48 overflow-y-auto",children:f.jsxs("pre",{className:"text-xs text-gray-300 font-mono whitespace-pre-wrap",children:[p.split(`
`).slice(0,20).join(`
`),p.split(`
`).length>20?`
... (${p.split(`
`).length-20} more lines)`:""]})})]})]})]})}function mge(){const[t,e]=w.useState([]),[r,n]=w.useState(""),[i,a]=w.useState([]),[l,o]=w.useState(""),[u,h]=w.useState("ns"),[m,p]=w.useState(""),[y,x]=w.useState({kind:"idle"}),[b,N]=w.useState(!1),j=w.useRef(null),C=w.useCallback(()=>{we.getDatabases().then(E=>{e(E),E.length>0?n(E[0]):(n(""),a([]),o(""))}).catch(()=>{e([])})},[]);w.useEffect(()=>{C()},[C]),w.useEffect(()=>{const E=()=>{C(),x({kind:"idle"})};return window.addEventListener("tidedb-connection-change",E),()=>window.removeEventListener("tidedb-connection-change",E)},[C]),w.useEffect(()=>{if(!r){a([]),o("");return}we.getRetentionPolicies(r).then(E=>{a(E);const _=E.find(L=>L.default);o(_?.name??E[0]?.name??"")}).catch(()=>{a([]),o("")})},[r]);const A=async()=>{const E=m.trim();if(!(!r||!E)){N(!0),x({kind:"loading"});try{await we.write(r,E,u,l||void 0);const _=O1(E);x({kind:"success",points:_})}catch(_){x({kind:"error",message:_?.message??"Unknown error"})}finally{N(!1)}}},k=()=>{j.current?.click()},T=E=>{const _=E.target.files?.[0];if(!_)return;const L=new FileReader;L.onload=I=>{const z=I.target?.result;typeof z=="string"&&(p(z),x({kind:"idle"}))},L.readAsText(_),E.target.value=""},D=()=>{p(""),x({kind:"idle"})},M=!!r&&m.trim().length>0;return f.jsxs("div",{className:"flex flex-col h-full bg-gray-950 text-gray-100 overflow-y-auto",children:[f.jsx("div",{className:"flex items-center gap-3 px-4 py-2 bg-gray-900 border-b border-gray-700 flex-shrink-0",children:f.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Write Data"})}),f.jsx("div",{className:"flex-1 p-6",children:f.jsxs("div",{className:"max-w-4xl mx-auto bg-gray-800 rounded-lg border border-gray-700 p-6 flex flex-col gap-6",children:[f.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[f.jsxs("div",{className:"flex flex-col gap-1.5",children:[f.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Database"}),f.jsxs("select",{value:r,onChange:E=>{n(E.target.value),x({kind:"idle"})},className:"bg-gray-700 border border-gray-600 text-gray-100 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors duration-150 min-w-[160px]",children:[f.jsx("option",{value:"",children:" select database "}),t.map(E=>f.jsx("option",{value:E,children:E},E))]})]}),f.jsxs("div",{className:"flex flex-col gap-1.5",children:[f.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Retention Policy"}),f.jsxs("select",{value:l,onChange:E=>o(E.target.value),disabled:i.length===0,className:"bg-gray-700 border border-gray-600 text-gray-100 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors duration-150 min-w-[160px] disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx("option",{value:"",children:" default "}),i.map(E=>f.jsxs("option",{value:E.name,children:[E.name,E.default?" (default)":""]},E.name))]})]}),f.jsxs("div",{className:"flex flex-col gap-1.5",children:[f.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Precision"}),f.jsx("select",{value:u,onChange:E=>h(E.target.value),className:"bg-gray-700 border border-gray-600 text-gray-100 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors duration-150 min-w-[180px]",children:fge.map(E=>f.jsx("option",{value:E.value,children:E.label},E.value))})]})]}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Line Protocol Data"}),f.jsxs("span",{className:"text-xs text-gray-500",children:[O1(m)," line",O1(m)!==1?"s":""]})]}),f.jsx("div",{className:"rounded-md overflow-hidden border border-gray-600",children:f.jsx(fN,{value:m,onChange:E=>{p(E),(y.kind==="success"||y.kind==="error")&&x({kind:"idle"})},placeholder:dge,theme:"dark",height:"300px",style:{height:"300px",fontSize:"13px",backgroundColor:"#1f2937"},basicSetup:{lineNumbers:!0,highlightActiveLineGutter:!0,highlightActiveLine:!0,bracketMatching:!1,autocompletion:!1,indentOnInput:!1}})})]}),f.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[f.jsxs("button",{onClick:A,disabled:!M||b,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-900 disabled:text-blue-400 disabled:cursor-not-allowed text-white px-4 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[f.jsx(hH,{className:"w-4 h-4"}),"Write Data"]}),f.jsxs("button",{onClick:k,disabled:b,className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-gray-200 px-4 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[f.jsx(ap,{className:"w-4 h-4"}),"Upload File"]}),f.jsx("input",{ref:j,type:"file",accept:".txt,.lp",className:"hidden",onChange:T}),f.jsxs("button",{onClick:D,disabled:b,className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-gray-200 px-4 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[f.jsx(ui,{className:"w-4 h-4"}),"Clear"]})]}),y.kind!=="idle"&&f.jsxs("div",{className:"flex items-start gap-3 rounded-md px-4 py-3 text-sm border",style:y.kind==="loading"?{backgroundColor:"rgba(55,65,81,0.5)",borderColor:"#4b5563",color:"#d1d5db"}:y.kind==="success"?{backgroundColor:"rgba(5,46,22,0.6)",borderColor:"#15803d",color:"#86efac"}:{backgroundColor:"rgba(69,10,10,0.6)",borderColor:"#b91c1c",color:"#fca5a5"},children:[y.kind==="loading"&&f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"w-5 h-5 animate-spin flex-shrink-0 mt-0.5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),f.jsx("span",{children:"Writing data..."})]}),y.kind==="success"&&f.jsxs(f.Fragment,{children:[f.jsx(kf,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),f.jsxs("span",{children:[y.points," point",y.points!==1?"s":""," written successfully"]})]}),y.kind==="error"&&f.jsxs(f.Fragment,{children:[f.jsx(Lg,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),f.jsx("span",{className:"break-all font-mono text-xs",children:y.message})]})]}),f.jsx(hge,{onConvert:E=>{p(E),x({kind:"idle"})}})]})})]})}function z3(t){return t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}function A1(t){if(!t)return"";try{return new Date(t).toLocaleString()}catch{return t}}function pge(t){const e={};if(!t?.results)return e;for(const r of t.results)if(r.series)for(const n of r.series){const i=(n.name??"").toLowerCase();if(i==="system"){const a=n.columns??[],l=n.values??[];if(l.length===0)continue;const o=l[0],u=h=>{const m=a.indexOf(h);return m>=0?String(o[m]??""):""};e.uptime=u("uptime")||u("upTime")||u("currentTime"),e.pid=u("PID")||u("pid")}if(i==="runtime"){const a=n.columns??[],l=n.values??[];if(l.length===0)continue;const o=l[0],u=h=>{const m=a.indexOf(h);return m>=0?String(o[m]??""):""};e.goVersion=u("version")||u("GOOS"),e.os=u("GOOS"),e.arch=u("GOARCH")}if(i==="build"){const a=n.columns??[],l=n.values??[];if(l.length===0)continue;const o=l[0],u=h=>{const m=a.indexOf(h);return m>=0?String(o[m]??""):""};e.version=u("Version")||u("version"),e.goVersion||(e.goVersion=u("GoVersion")||u("goVersion")),e.os||(e.os=u("OS")||u("os")),e.arch||(e.arch=u("Arch")||u("arch"))}}return e}function I3(t,e,r){if(!t?.results)return 0;for(const n of t.results)if(n.series)for(const i of n.series){if((i.name??"").toLowerCase()!==e.toLowerCase())continue;const l=i.columns??[],o=i.values??[],u=l.indexOf(r);if(!(u<0)&&o.length>0)return Number(o[0][u])||0}return 0}function gge({message:t,onDismiss:e}){return f.jsxs("div",{className:"flex items-start justify-between bg-red-950/60 border border-red-700 rounded-md px-4 py-3 mb-4 text-sm text-red-300",children:[f.jsx("span",{className:"font-mono break-all",children:t}),f.jsx("button",{onClick:e,className:"ml-4 flex-shrink-0 text-red-400 hover:text-red-200 transition-colors duration-150",children:""})]})}function sf({icon:t,label:e,value:r}){return f.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4 flex flex-col gap-2",children:[f.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs font-semibold uppercase tracking-wider",children:[t,e]}),f.jsx("div",{className:"text-gray-100 text-sm font-mono break-all leading-relaxed",children:r||f.jsx("span",{className:"text-gray-600 italic",children:""})})]})}function U3({active:t,payload:e,label:r}){return!t||!e?.length?null:f.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-xs shadow-lg",children:[f.jsx("p",{className:"text-gray-400 mb-1",children:r}),e.map(n=>f.jsxs("p",{style:{color:n.color},children:[n.name,": ",f.jsx("span",{className:"font-mono font-semibold",children:n.value.toLocaleString()})]},n.dataKey))]})}function lf({icon:t,title:e,subtitle:r}){return f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("span",{className:"text-blue-400",children:t}),f.jsx("h2",{className:"text-base font-semibold text-gray-200",children:e}),r&&f.jsx("span",{className:"text-xs text-gray-500",children:r})]})}function q3(t){const e=[];if(!t?.results)return e;for(const r of t.results)for(const n of r.series??[])e.push({name:n.name??"Unknown",columns:n.columns??[],values:n.values??[]});return e}function H3({section:t}){const[e,r]=w.useState(!1);return f.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[f.jsxs("button",{onClick:()=>r(n=>!n),className:"flex items-center justify-between w-full px-4 py-3 text-left hover:bg-gray-750 transition-colors duration-150",children:[f.jsx("span",{className:"text-sm font-semibold text-gray-200",children:t.name}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-xs text-gray-500",children:[t.columns.length," fields"]}),e?f.jsx(VS,{className:"w-4 h-4 text-gray-400"}):f.jsx(zi,{className:"w-4 h-4 text-gray-400"})]})]}),e&&t.values.length>0&&f.jsxs("div",{className:"border-t border-gray-700 px-4 py-3",children:[f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:t.columns.map((n,i)=>f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsxs("span",{className:"text-xs text-gray-500 min-w-[120px] font-mono",children:[n,":"]}),f.jsx("span",{className:"text-xs text-gray-200 font-mono break-all",children:String(t.values[0][i]??"")})]},n))}),t.values.length>1&&f.jsx("div",{className:"mt-3 border-t border-gray-700 pt-3",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full text-xs",children:[f.jsx("thead",{children:f.jsx("tr",{className:"border-b border-gray-700",children:t.columns.map(n=>f.jsx("th",{className:"px-2 py-1 text-left font-semibold text-gray-400 whitespace-nowrap",children:n},n))})}),f.jsx("tbody",{children:t.values.map((n,i)=>f.jsx("tr",{className:"border-b border-gray-700 last:border-0",children:n.map((a,l)=>f.jsx("td",{className:"px-2 py-1 text-gray-300 font-mono whitespace-nowrap",children:String(a??"")},l))},i))})]})})})]})]})}function yge(){const[t,e]=w.useState({}),[r,n]=w.useState(!0),[i,a]=w.useState([]),[l,o]=w.useState([]),[u,h]=w.useState(null),[m,p]=w.useState([]),[y,x]=w.useState(!0),[b,N]=w.useState(0),j=25,[C,A]=w.useState(null),[k,T]=w.useState(""),[D,M]=w.useState([]),[E,_]=w.useState([]),[L,I]=w.useState(!1),[z,R]=w.useState(!1),[U,W]=w.useState(!1),$=w.useRef(null),H=w.useCallback(async()=>{n(!0);try{const J=await we.getDiagnostics(),he=pge(J);try{const Y=await we.ping();Y.version&&Y.version!=="unknown"&&(he.version=Y.version)}catch{}e(he)}catch(J){T(J?.message??"Failed to load diagnostics.")}finally{n(!1)}},[]),F=w.useCallback(async()=>{try{const J=await we.getStats(),he=I3(J,"httpd","pointsWrittenOK"),Y=I3(J,"httpd","queryReq"),me=$.current,De=me?Math.max(0,he-me.pointsWritten):0,ne=me?Math.max(0,Y-me.queriesExecuted):0;$.current={pointsWritten:he,queriesExecuted:Y};const je=new Date,Te={time:z3(je),pointsWritten:De,queriesExecuted:ne};a(fe=>{const jt=[...fe,Te];return jt.length>60?jt.slice(jt.length-60):jt}),A(je)}catch(J){T(J?.message??"Failed to load stats.")}},[]),Q=w.useCallback(async()=>{try{const he=(await we.getRunningQueries()).map(Y=>({qid:Y.qid??Y.id??"",database:Y.database??Y.db??"",query:Y.query??"",duration:Y.duration??""}));o(he)}catch(J){T(J?.message??"Failed to load running queries.")}},[]),se=w.useCallback(async()=>{x(!0);try{const he=(await we.getShardGroups()).map(Y=>({id:Y.id??Y.shardGroupID??"",database:Y.database??Y.db??"",retentionPolicy:Y.retentionPolicy??Y.rp??Y.retention_policy??"",startTime:Y.startTime??Y.start_time??Y.start??"",endTime:Y.endTime??Y.end_time??Y.end??"",expiryTime:Y.expiryTime??Y.expiry_time??Y.expiry??""}));p(he)}catch(J){T(J?.message??"Failed to load shard groups.")}finally{x(!1)}},[]),de=async J=>{h(J);try{await we.killQuery(Number(J)),await Q()}catch(he){T(he?.message??`Failed to kill query ${J}.`)}finally{h(null)}},B=w.useCallback(async()=>{I(!0);try{const J=await we.getDiagnostics();M(q3(J))}catch(J){T(J?.message??"Failed to load diagnostics.")}finally{I(!1)}},[]),K=w.useCallback(async()=>{R(!0);try{const J=await we.getStats();_(q3(J))}catch(J){T(J?.message??"Failed to load stats.")}finally{R(!1)}},[]),oe=async()=>{W(!0);try{const J=await we.backup(),he=URL.createObjectURL(J),Y=document.createElement("a");Y.href=he,Y.download=`tidedb-backup-${new Date().toISOString().replace(/[:.]/g,"-")}.tar.gz`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(he)}catch(J){T(J?.message??"Backup failed.")}finally{W(!1)}};return w.useEffect(()=>{H(),se()},[H,se]),w.useEffect(()=>{const J=()=>{$.current=null,a([]),M([]),_([]),T(""),H(),se()};return window.addEventListener("tidedb-connection-change",J),()=>window.removeEventListener("tidedb-connection-change",J)},[H,se]),w.useEffect(()=>{F(),Q();const J=setInterval(()=>{F(),Q()},5e3);return()=>clearInterval(J)},[F,Q]),f.jsxs("div",{className:"min-h-full bg-gray-950 text-gray-100",children:[f.jsxs("div",{className:"border-b border-gray-800 px-6 py-4 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h1",{className:"text-xl font-bold text-gray-100 flex items-center gap-2",children:[f.jsx(ys,{className:"w-6 h-6 text-blue-400"}),"System Health"]}),f.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Live diagnostics, performance metrics, and active queries."})]}),f.jsx("div",{className:"flex items-center gap-3",children:C&&f.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1.5",children:[f.jsx(wt,{className:"w-3 h-3"}),"Last updated: ",z3(C)]})})]}),f.jsxs("div",{className:"px-6 py-5 flex flex-col gap-8",children:[k&&f.jsx(gge,{message:k,onDismiss:()=>T("")}),f.jsxs("section",{children:[f.jsx(lf,{icon:f.jsx(B1,{className:"w-5 h-5"}),title:"Server Information"}),r?f.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm py-4",children:[f.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading server info..."]}):f.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[f.jsx(sf,{icon:f.jsx(ys,{className:"w-3.5 h-3.5"}),label:"Version",value:t.version&&t.version!=="unknown"?t.version:""}),f.jsx(sf,{icon:f.jsx(Sa,{className:"w-3.5 h-3.5"}),label:"Uptime",value:t.uptime??""}),f.jsx(sf,{icon:f.jsx(Pq,{className:"w-3.5 h-3.5"}),label:"Go Version",value:t.goVersion??""}),f.jsx(sf,{icon:f.jsx(B1,{className:"w-3.5 h-3.5"}),label:"OS / Arch",value:t.os&&t.arch?`${t.os} / ${t.arch}`:t.os??t.arch??""}),f.jsx(sf,{icon:f.jsx(Al,{className:"w-3.5 h-3.5"}),label:"PID",value:t.pid??""})]})]}),f.jsxs("section",{children:[f.jsx(lf,{icon:f.jsx(ys,{className:"w-5 h-5"}),title:"Performance Metrics",subtitle:"(auto-refresh every 5s, last 60 samples)"}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[f.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"Points Written / interval"}),i.length===0?f.jsx("div",{className:"flex items-center justify-center h-40 text-gray-600 text-sm",children:"Collecting data..."}):f.jsx(mc,{width:"100%",height:180,children:f.jsxs(wc,{data:i,margin:{top:4,right:8,left:0,bottom:0},children:[f.jsx($l,{strokeDasharray:"3 3",stroke:"#374151"}),f.jsx(Fl,{dataKey:"time",tick:{fill:"#9ca3af",fontSize:10},tickLine:!1,axisLine:{stroke:"#374151"},interval:"preserveStartEnd"}),f.jsx(Wl,{tick:{fill:"#9ca3af",fontSize:10},tickLine:!1,axisLine:!1,width:40}),f.jsx(bc,{content:f.jsx(U3,{})}),f.jsx(Vl,{type:"monotone",dataKey:"pointsWritten",name:"Points Written",stroke:"#3b82f6",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"#3b82f6"}})]})})]}),f.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[f.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"Queries Executed / interval"}),i.length===0?f.jsx("div",{className:"flex items-center justify-center h-40 text-gray-600 text-sm",children:"Collecting data..."}):f.jsx(mc,{width:"100%",height:180,children:f.jsxs(wc,{data:i,margin:{top:4,right:8,left:0,bottom:0},children:[f.jsx($l,{strokeDasharray:"3 3",stroke:"#374151"}),f.jsx(Fl,{dataKey:"time",tick:{fill:"#9ca3af",fontSize:10},tickLine:!1,axisLine:{stroke:"#374151"},interval:"preserveStartEnd"}),f.jsx(Wl,{tick:{fill:"#9ca3af",fontSize:10},tickLine:!1,axisLine:!1,width:40}),f.jsx(bc,{content:f.jsx(U3,{})}),f.jsx(Vl,{type:"monotone",dataKey:"queriesExecuted",name:"Queries Executed",stroke:"#22c55e",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"#22c55e"}})]})})]})]})]}),f.jsxs("section",{children:[f.jsx(lf,{icon:f.jsx(ys,{className:"w-5 h-5"}),title:"Active Queries",subtitle:"(auto-refresh every 5s)"}),f.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:l.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-600",children:[f.jsx(ys,{className:"w-8 h-8 mb-3 opacity-30"}),f.jsx("p",{className:"text-sm",children:"No active queries."})]}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full text-sm",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[f.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap w-20",children:"Query ID"}),f.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap w-36",children:"Database"}),f.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400",children:"Query"}),f.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap w-32",children:"Duration"}),f.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400 whitespace-nowrap w-24",children:"Actions"})]})}),f.jsx("tbody",{children:l.map(J=>f.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[f.jsx("td",{className:"px-4 py-3 font-mono text-gray-300 text-xs",children:String(J.qid)}),f.jsx("td",{className:"px-4 py-3 font-mono text-blue-300 text-xs whitespace-nowrap",children:J.database||f.jsx("span",{className:"text-gray-600",children:""})}),f.jsx("td",{className:"px-4 py-3 font-mono text-gray-200 text-xs break-all max-w-xs",children:f.jsx("span",{className:"whitespace-pre-wrap leading-relaxed",children:J.query})}),f.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs font-mono whitespace-nowrap",children:J.duration||f.jsx("span",{className:"text-gray-600",children:""})}),f.jsx("td",{className:"px-4 py-3 text-right",children:f.jsxs("button",{onClick:()=>de(J.qid),disabled:u===J.qid,className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 whitespace-nowrap",children:[u===J.qid?f.jsxs("svg",{className:"w-3 h-3 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):f.jsx(Lg,{className:"w-3 h-3"}),"Kill"]})})]},J.qid))})]})})})]}),f.jsxs("section",{children:[f.jsx(lf,{icon:f.jsx(Al,{className:"w-5 h-5"}),title:"Shard Groups"}),f.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:y?f.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm px-4 py-6",children:[f.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading shard groups..."]}):m.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-600",children:[f.jsx(Al,{className:"w-8 h-8 mb-3 opacity-30"}),f.jsx("p",{className:"text-sm",children:"No shard groups found."})]}):(()=>{const J=Math.ceil(m.length/j),he=Math.min(b,J-1),Y=m.slice(he*j,(he+1)*j);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full text-sm",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[f.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap w-16",children:"ID"}),f.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Database"}),f.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Retention Policy"}),f.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Start Time"}),f.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"End Time"}),f.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Expiry Time"})]})}),f.jsx("tbody",{children:Y.map((me,De)=>f.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[f.jsx("td",{className:"px-4 py-3 font-mono text-gray-300 text-xs",children:String(me.id)}),f.jsx("td",{className:"px-4 py-3 font-mono text-blue-300 text-xs whitespace-nowrap",children:me.database||f.jsx("span",{className:"text-gray-600",children:""})}),f.jsx("td",{className:"px-4 py-3 font-mono text-gray-300 text-xs whitespace-nowrap",children:me.retentionPolicy||f.jsx("span",{className:"text-gray-600",children:""})}),f.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs whitespace-nowrap",children:A1(me.startTime)}),f.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs whitespace-nowrap",children:A1(me.endTime)}),f.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs whitespace-nowrap",children:A1(me.expiryTime)})]},`${me.id}-${De}`))})]})}),J>1&&f.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-gray-700",children:[f.jsxs("span",{className:"text-xs text-gray-500",children:[m.length.toLocaleString()," shard groups  page ",he+1," of ",J]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:()=>N(0),disabled:he===0,className:"px-2 py-1 text-xs text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:"First"}),f.jsx("button",{onClick:()=>N(me=>Math.max(0,me-1)),disabled:he===0,className:"p-1 text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:f.jsx(Sq,{size:14})}),f.jsx("button",{onClick:()=>N(me=>Math.min(J-1,me+1)),disabled:he>=J-1,className:"p-1 text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:f.jsx(Es,{size:14})}),f.jsx("button",{onClick:()=>N(J-1),disabled:he>=J-1,className:"px-2 py-1 text-xs text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:"Last"})]})]})]})})()})]}),f.jsxs("section",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-blue-400",children:f.jsx(v_,{className:"w-5 h-5"})}),f.jsx("h2",{className:"text-base font-semibold text-gray-200",children:"SHOW DIAGNOSTICS"}),f.jsx("span",{className:"text-xs text-gray-500",children:"(all sections)"})]}),f.jsxs("button",{onClick:B,disabled:L,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[L?f.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):f.jsx(wt,{className:"w-4 h-4"}),D.length>0?"Refresh":"Load"]})]}),D.length===0&&!L&&f.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:'Click "Load" to view all diagnostic sections.'}),L&&f.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[f.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading diagnostics..."]}),D.length>0&&!L&&f.jsx("div",{className:"flex flex-col gap-2",children:D.map(J=>f.jsx(H3,{section:J},J.name))})]}),f.jsxs("section",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-blue-400",children:f.jsx(va,{className:"w-5 h-5"})}),f.jsx("h2",{className:"text-base font-semibold text-gray-200",children:"SHOW STATS"}),f.jsx("span",{className:"text-xs text-gray-500",children:"(all modules)"})]}),f.jsxs("button",{onClick:K,disabled:z,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[z?f.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):f.jsx(wt,{className:"w-4 h-4"}),E.length>0?"Refresh":"Load"]})]}),E.length===0&&!z&&f.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:'Click "Load" to view all stats modules.'}),z&&f.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[f.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading stats..."]}),E.length>0&&!z&&f.jsx("div",{className:"flex flex-col gap-2",children:E.map((J,he)=>f.jsx(H3,{section:J},`${J.name}-${he}`))})]}),f.jsxs("section",{children:[f.jsx(lf,{icon:f.jsx(dc,{className:"w-5 h-5"}),title:"Backup"}),f.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[f.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Download a portable backup snapshot via the debug endpoint. This creates a tar.gz archive of the current data."}),f.jsxs("button",{onClick:oe,disabled:U,className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[U?f.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):f.jsx(dc,{className:"w-4 h-4"}),U?"Downloading...":"Download Backup"]})]})]})]})]})}const xge="timeseriesui_connections",vge="timeseriesui_active_connection";function $3(){try{const t=localStorage.getItem(vge)||localStorage.getItem("tidedb-active-connection");if(!t)return null;const e=localStorage.getItem(xge)||localStorage.getItem("tidedb-connections");return JSON.parse(e||"[]").find(n=>n.id===t)||null}catch{return null}}function kn(){const[t,e]=w.useState($3);w.useEffect(()=>{const n=()=>e($3());return window.addEventListener("tidedb-connection-change",n),()=>window.removeEventListener("tidedb-connection-change",n)},[]);const r=t?.username?{username:t.username,password:t.password||""}:void 0;return{connection:t,auth:r}}class bge{proxyBase=jn+"/proxy/prometheus/";amProxyBase=jn+"/proxy/alertmanager/";buildURL(e,r,n,i){const a=new URLSearchParams;if(a.set("target",e),a.set("path",r),n)for(const[l,o]of Object.entries(n))o!==void 0&&o!==""&&a.set(l,o);return(i||this.proxyBase)+"?"+a.toString()}async doFetch(e,r,n){const i=await fetch(e,{...r,headers:{Accept:"application/json",...n,...r?.headers||{}}});if(!i.ok){const a=await i.text();throw new Error(`Request failed (${i.status}): ${a}`)}return i.json()}async instantQuery(e,r,n,i){const a={query:r};n&&(a.time=n);const l=this.buildURL(e,"/api/v1/query",a);return this.doFetch(l,void 0,this.authHeaders(i))}async rangeQuery(e,r,n,i,a,l){const o={query:r,start:n,end:i,step:a},u=this.buildURL(e,"/api/v1/query_range",o);return this.doFetch(u,void 0,this.authHeaders(l))}async getLabels(e,r){const n=this.buildURL(e,"/api/v1/labels");return this.doFetch(n,void 0,this.authHeaders(r))}async getLabelValues(e,r,n){const i=this.buildURL(e,`/api/v1/label/${encodeURIComponent(r)}/values`);return this.doFetch(i,void 0,this.authHeaders(n))}async getMetadata(e,r,n,i){const a={};n&&(a.metric=n),i&&(a.limit=String(i));const l=this.buildURL(e,"/api/v1/metadata",a);return this.doFetch(l,void 0,this.authHeaders(r))}async getSeries(e,r,n){const i=new URLSearchParams;i.set("target",e),i.set("path","/api/v1/series");for(const l of r)i.append("match[]",l);const a=this.proxyBase+"?"+i.toString();return this.doFetch(a,void 0,this.authHeaders(n))}async getTargets(e,r,n){const i={};r&&(i.state=r);const a=this.buildURL(e,"/api/v1/targets",i);return this.doFetch(a,void 0,this.authHeaders(n))}async getRules(e,r,n){const i={};r&&(i.type=r);const a=this.buildURL(e,"/api/v1/rules",i);return this.doFetch(a,void 0,this.authHeaders(n))}async getAlerts(e,r){const n=this.buildURL(e,"/api/v1/alerts");return this.doFetch(n,void 0,this.authHeaders(r))}async getBuildInfo(e,r){const n=this.buildURL(e,"/api/v1/status/buildinfo");return this.doFetch(n,void 0,this.authHeaders(r))}async getRuntimeInfo(e,r){const n=this.buildURL(e,"/api/v1/status/runtimeinfo");return this.doFetch(n,void 0,this.authHeaders(r))}async getTSDBStatus(e,r){const n=this.buildURL(e,"/api/v1/status/tsdb");return this.doFetch(n,void 0,this.authHeaders(r))}async getFlags(e,r){const n=this.buildURL(e,"/api/v1/status/flags");return this.doFetch(n,void 0,this.authHeaders(r))}async getConfig(e,r){const n=this.buildURL(e,"/api/v1/status/config");return this.doFetch(n,void 0,this.authHeaders(r))}async getAMAlerts(e,r){const n=this.buildURL(e,"/api/v2/alerts",void 0,this.amProxyBase);return this.doFetch(n,void 0,this.authHeaders(r))}async getAMSilences(e,r){const n=this.buildURL(e,"/api/v2/silences",void 0,this.amProxyBase);return this.doFetch(n,void 0,this.authHeaders(r))}async createAMSilence(e,r,n){const i=this.buildURL(e,"/api/v2/silences",void 0,this.amProxyBase);return this.doFetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},this.authHeaders(n))}async deleteAMSilence(e,r,n){const i=this.buildURL(e,`/api/v2/silence/${r}`,void 0,this.amProxyBase);await fetch(i,{method:"DELETE",headers:this.authHeaders(n)})}async getAMStatus(e,r){const n=this.buildURL(e,"/api/v2/status",void 0,this.amProxyBase);return this.doFetch(n,void 0,this.authHeaders(r))}async testConnection(e,r){try{return(await this.getBuildInfo(e,r)).status==="success"}catch{return!1}}async testAlertmanager(e,r){try{return await this.getAMStatus(e,r),!0}catch{return!1}}authHeaders(e){const r={};return e?.username&&(r["X-Proxy-Username"]=e.username),e?.password&&(r["X-Proxy-Password"]=e.password),r}}const Dt=new bge,Im=["#3b82f6","#ef4444","#22c55e","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#f97316","#14b8a6","#a855f7","#6366f1","#84cc16","#e11d48","#0ea5e9","#d946ef"],V3=[{label:"15m",seconds:900},{label:"1h",seconds:3600},{label:"3h",seconds:10800},{label:"6h",seconds:21600},{label:"12h",seconds:43200},{label:"1d",seconds:86400},{label:"7d",seconds:604800}];function Um(t){const e=t.__name__||"",r=Object.entries(t).filter(([n])=>n!=="__name__").map(([n,i])=>`${n}="${i}"`).join(", ");return r?`${e}{${r}}`:e}function wge(t){return t<=3600?"15s":t<=21600?"60s":t<=86400?"300s":"600s"}function F3(){const{connection:t,auth:e}=kn(),[r,n]=w.useState("up"),[i,a]=w.useState(1),[l,o]=w.useState(null),[u,h]=w.useState([]),[m,p]=w.useState([]),[y,x]=w.useState(!1),[b,N]=w.useState(null),[j,C]=w.useState(null),[A,k]=w.useState("chart"),[T,D]=w.useState(""),[M,E]=w.useState([]),[_,L]=w.useState(""),[I,z]=w.useState(!1),[R,U]=w.useState(()=>{try{return JSON.parse(localStorage.getItem("tsui_prom_history")||"[]")}catch{return[]}}),W=w.useRef(null);w.useEffect(()=>{!t||t.type!=="prometheus"&&t.type!=="victoriametrics"||Dt.getLabelValues(t.url,"__name__",e).then(B=>{B.status==="success"&&E(B.data||[])}).catch(()=>{})},[t,e]);const $=w.useCallback(async()=>{if(!t||!r.trim())return;x(!0),N(null);const B=Date.now();try{const K=V3[i],oe=Math.floor(Date.now()/1e3),J=(oe-K.seconds).toString(),he=oe.toString(),Y=wge(K.seconds),me=await Dt.rangeQuery(t.url,r.trim(),J,he,Y,e);if(C(Date.now()-B),D(JSON.stringify(me,null,2)),me.status==="error"){N(me.error||"Query failed");return}if(o(me.data.resultType),me.data.resultType==="matrix")h(me.data.result),p([]);else{const De=await Dt.instantQuery(t.url,r.trim(),void 0,e);D(JSON.stringify(De,null,2)),De.data.resultType==="vector"&&(p(De.data.result),h([]),o("vector"))}U(De=>{const ne=De.filter(Te=>Te!==r.trim()),je=[r.trim(),...ne].slice(0,30);return localStorage.setItem("tsui_prom_history",JSON.stringify(je)),je})}catch(K){N(K.message),C(Date.now()-B)}finally{x(!1)}},[t,r,i,e]),H=B=>{(B.ctrlKey||B.metaKey)&&B.key==="Enter"&&(B.preventDefault(),$())},F=(()=>{if(l!=="matrix"||u.length===0)return[];const B=new Set;return u.forEach(oe=>oe.values.forEach(([J])=>B.add(J))),Array.from(B).sort().map(oe=>{const J={time:oe*1e3};return u.forEach((he,Y)=>{const me=he.values.find(([De])=>De===oe);J[`series_${Y}`]=me?parseFloat(me[1]):null}),J})})(),Q=_?M.filter(B=>B.toLowerCase().includes(_.toLowerCase())).slice(0,50):M.slice(0,50),de=t?.type==="victoriametrics"?"MetricsQL":"PromQL";return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?f.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:f.jsx("p",{children:"Select a Prometheus or VictoriaMetrics connection to start querying."})}):f.jsxs("div",{className:"flex h-full",children:[f.jsx("div",{className:`${I?"w-64":"w-0"} flex-shrink-0 border-r border-gray-800 overflow-hidden transition-all`,children:f.jsxs("div",{className:"p-3 space-y-2 h-full flex flex-col",children:[f.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase",children:"Metrics"}),f.jsx("input",{type:"text",placeholder:"Search metrics...",value:_,onChange:B=>L(B.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"}),f.jsxs("div",{className:"flex-1 overflow-y-auto space-y-0.5",children:[Q.map(B=>f.jsx("button",{onClick:()=>n(B),className:"block w-full text-left px-2 py-1 text-xs text-gray-300 hover:bg-gray-800 rounded truncate",title:B,children:B},B)),M.length===0&&f.jsx("p",{className:"text-xs text-gray-600 px-2 py-4",children:"No metrics loaded"})]})]})}),f.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[f.jsxs("div",{className:"p-4 border-b border-gray-800 space-y-3",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>z(B=>!B),className:"px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-400 hover:text-white text-xs",title:"Toggle metrics panel",children:I?"Hide":"Metrics"}),f.jsx("textarea",{ref:W,value:r,onChange:B=>n(B.target.value),onKeyDown:H,rows:2,placeholder:`Enter ${de} query... (Ctrl+Enter to execute)`,className:"flex-1 px-3 py-2 rounded bg-gray-800 border border-gray-700 text-gray-100 text-sm font-mono placeholder-gray-500 focus:outline-none focus:border-blue-500 resize-none"}),f.jsxs("button",{onClick:$,disabled:y||!r.trim(),className:"px-4 py-2 rounded bg-blue-600 hover:bg-blue-500 text-white text-sm font-medium transition-colors disabled:opacity-40 flex items-center gap-1.5",children:[f.jsx(Pl,{size:14}),y?"Running...":"Execute"]})]}),f.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Sa,{size:12,className:"text-gray-500"}),f.jsx("span",{className:"text-xs text-gray-500",children:"Range:"}),V3.map((B,K)=>f.jsx("button",{onClick:()=>a(K),className:`px-2 py-0.5 rounded text-xs ${K===i?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:B.label},B.label))]}),f.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[f.jsx("button",{onClick:()=>k("chart"),className:`p-1.5 rounded ${A==="chart"?"bg-gray-700 text-white":"text-gray-500 hover:text-white"}`,title:"Chart",children:f.jsx(va,{size:14})}),f.jsx("button",{onClick:()=>k("table"),className:`p-1.5 rounded ${A==="table"?"bg-gray-700 text-white":"text-gray-500 hover:text-white"}`,title:"Table",children:f.jsx(Ug,{size:14})}),f.jsx("button",{onClick:()=>k("json"),className:`p-1.5 rounded ${A==="json"?"bg-gray-700 text-white":"text-gray-500 hover:text-white"}`,title:"Raw JSON",children:f.jsx(Mq,{size:14})})]}),j!==null&&f.jsxs("span",{className:"text-xs text-gray-500",children:[j,"ms"]})]}),R.length>0&&f.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[f.jsx("span",{className:"text-xs text-gray-500",children:"History:"}),R.slice(0,8).map((B,K)=>f.jsx("button",{onClick:()=>n(B),className:"px-2 py-0.5 rounded bg-gray-800 text-gray-400 text-xs hover:text-white truncate max-w-48",children:B},K)),f.jsx("button",{onClick:()=>{U([]),localStorage.removeItem("tsui_prom_history")},className:"p-1 text-gray-600 hover:text-red-400",title:"Clear history",children:f.jsx(ui,{size:10})})]})]}),b&&f.jsx("div",{className:"mx-4 mt-3 p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:b}),f.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[A==="chart"&&l==="matrix"&&F.length>0&&f.jsxs("div",{className:"h-[400px]",children:[f.jsx(mc,{width:"100%",height:"100%",children:f.jsxs(wc,{data:F,children:[f.jsx($l,{strokeDasharray:"3 3",stroke:"#374151"}),f.jsx(Fl,{dataKey:"time",type:"number",domain:["dataMin","dataMax"],tickFormatter:B=>new Date(B).toLocaleTimeString(),stroke:"#6b7280",fontSize:11}),f.jsx(Wl,{stroke:"#6b7280",fontSize:11}),f.jsx(bc,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:6},labelFormatter:B=>new Date(B).toLocaleString(),formatter:B=>[typeof B=="number"?B.toFixed(4):B]}),f.jsx(gd,{formatter:B=>{const K=parseInt(B.replace("series_",""));return u[K]?Um(u[K].metric):B},wrapperStyle:{fontSize:11}}),u.slice(0,15).map((B,K)=>f.jsx(Vl,{type:"monotone",dataKey:`series_${K}`,stroke:Im[K%Im.length],dot:!1,strokeWidth:1.5,connectNulls:!1},K))]})}),u.length>15&&f.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Showing 15 of ",u.length," series on chart. Switch to table view for all."]})]}),A==="table"&&l==="matrix"&&u.length>0&&f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-gray-800",children:[f.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Series"}),f.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Last Value"}),f.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Points"})]})}),f.jsx("tbody",{children:u.map((B,K)=>f.jsxs("tr",{className:"border-b border-gray-800/50 hover:bg-gray-900",children:[f.jsxs("td",{className:"p-2 font-mono text-gray-300 max-w-md truncate",title:Um(B.metric),children:[f.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-2",style:{backgroundColor:Im[K%Im.length]}}),Um(B.metric)]}),f.jsx("td",{className:"p-2 text-gray-200",children:B.values.length>0?B.values[B.values.length-1][1]:"-"}),f.jsx("td",{className:"p-2 text-gray-400",children:B.values.length})]},K))})]})}),A==="table"&&l==="vector"&&m.length>0&&f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-gray-800",children:[f.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Metric"}),f.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Value"}),f.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Timestamp"})]})}),f.jsx("tbody",{children:m.map((B,K)=>f.jsxs("tr",{className:"border-b border-gray-800/50 hover:bg-gray-900",children:[f.jsx("td",{className:"p-2 font-mono text-gray-300 max-w-md truncate",children:Um(B.metric)}),f.jsx("td",{className:"p-2 text-gray-200",children:B.value[1]}),f.jsx("td",{className:"p-2 text-gray-400",children:new Date(B.value[0]*1e3).toLocaleString()})]},K))})]})}),A==="json"&&T&&f.jsx("pre",{className:"bg-gray-900 rounded p-4 text-xs text-gray-300 font-mono overflow-auto whitespace-pre-wrap border border-gray-800",children:T}),!b&&!y&&!T&&f.jsxs("div",{className:"flex items-center justify-center h-full text-gray-600 text-sm",children:["Enter a ",de," query and press Execute or Ctrl+Enter"]})]})]})]})}function W3(){const{connection:t,auth:e}=kn(),[r,n]=w.useState([]),[i,a]=w.useState(!1),[l,o]=w.useState(null),[u,h]=w.useState(""),[m,p]=w.useState("all"),[y,x]=w.useState(new Set),[b,N]=w.useState(0),j=w.useCallback(async()=>{if(!(!t||t.type!=="prometheus"&&t.type!=="victoriametrics")){a(!0),o(null);try{const M=await Dt.getTargets(t.url,"any",e);if(M.status!=="success")throw new Error("Failed to fetch targets");const E=M.data.activeTargets||[],_=new Map;E.forEach(I=>{const z=I.scrapePool||I.labels?.job||"unknown";_.has(z)||_.set(z,[]),_.get(z).push(I)});const L=Array.from(_.entries()).map(([I,z])=>({job:I,targets:z,upCount:z.filter(R=>R.health==="up").length,downCount:z.filter(R=>R.health!=="up").length})).sort((I,z)=>I.job.localeCompare(z.job));n(L),x(new Set(L.map(I=>I.job)))}catch(M){o(M.message)}finally{a(!1)}}},[t,e]);w.useEffect(()=>{j()},[j]),w.useEffect(()=>{if(b<=0)return;const M=setInterval(j,b*1e3);return()=>clearInterval(M)},[b,j]);const C=M=>{x(E=>{const _=new Set(E);return _.has(M)?_.delete(M):_.add(M),_})},A=r.reduce((M,E)=>M+E.upCount,0),k=r.reduce((M,E)=>M+E.downCount,0),T=r.reduce((M,E)=>M+E.targets.length,0),D=r.map(M=>({...M,targets:M.targets.filter(E=>!(m==="up"&&E.health!=="up"||m==="down"&&E.health==="up"||u&&!E.scrapeUrl.toLowerCase().includes(u.toLowerCase())&&!M.job.toLowerCase().includes(u.toLowerCase())))})).filter(M=>M.targets.length>0);return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?f.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:f.jsx("p",{children:"Select a Prometheus connection."})}):f.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-lg font-semibold text-white",children:"Scrape Targets"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("select",{value:b,onChange:M=>N(Number(M.target.value)),className:"px-2 py-1 rounded bg-gray-800 border border-gray-700 text-gray-300 text-xs",children:[f.jsx("option",{value:0,children:"Auto-refresh: Off"}),f.jsx("option",{value:5,children:"5s"}),f.jsx("option",{value:10,children:"10s"}),f.jsx("option",{value:30,children:"30s"})]}),f.jsx("button",{onClick:j,disabled:i,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:f.jsx(wt,{size:14,className:i?"animate-spin":""})})]})]}),f.jsxs("div",{className:"flex gap-4 text-sm",children:[f.jsxs("span",{className:"text-gray-400",children:[T," total"]}),f.jsxs("span",{className:"text-green-400",children:[A," up"]}),k>0&&f.jsxs("span",{className:"text-red-400",children:[k," down"]})]}),f.jsxs("div",{className:"flex gap-2 items-center",children:[f.jsxs("div",{className:"relative flex-1 max-w-xs",children:[f.jsx(Dc,{size:14,className:"absolute left-2.5 top-2 text-gray-500"}),f.jsx("input",{type:"text",placeholder:"Filter targets...",value:u,onChange:M=>h(M.target.value),className:"w-full pl-8 pr-3 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),f.jsx("div",{className:"flex gap-1",children:["all","up","down"].map(M=>f.jsx("button",{onClick:()=>p(M),className:`px-3 py-1 rounded text-xs capitalize ${m===M?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:M},M))})]}),l&&f.jsxs("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:[l,l.includes("unsupported path")&&f.jsx("p",{className:"mt-1 text-xs text-red-400",children:"The targets API is not available on VictoriaMetrics cluster vmselect. Use vmagent targets directly, or connect to a single-node VM instance."})]}),f.jsx("div",{className:"space-y-3",children:D.map(M=>f.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[f.jsxs("button",{onClick:()=>C(M.job),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-900 hover:bg-gray-800/70 transition-colors text-left",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[y.has(M.job)?f.jsx(zi,{size:14,className:"text-gray-500"}):f.jsx(Es,{size:14,className:"text-gray-500"}),f.jsx("span",{className:"text-sm font-medium text-white",children:M.job}),f.jsxs("span",{className:"text-xs text-gray-500",children:["(",M.targets.length,")"]})]}),f.jsxs("div",{className:"flex gap-2 text-xs",children:[f.jsxs("span",{className:"text-green-400",children:[M.upCount," up"]}),M.downCount>0&&f.jsxs("span",{className:"text-red-400",children:[M.downCount," down"]})]})]}),y.has(M.job)&&f.jsx("div",{className:"divide-y divide-gray-800/50",children:M.targets.map((E,_)=>f.jsxs("div",{className:"px-4 py-2.5 flex items-center gap-3 text-xs hover:bg-gray-900/50",children:[f.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${E.health==="up"?"bg-green-500":"bg-red-500"}`}),f.jsx("span",{className:"font-mono text-gray-300 flex-1 truncate",children:E.scrapeUrl}),f.jsxs("span",{className:"text-gray-500",children:[(E.lastScrapeDuration*1e3).toFixed(0),"ms"]}),f.jsx("span",{className:"text-gray-500",children:new Date(E.lastScrape).toLocaleTimeString()}),E.lastError&&f.jsx("span",{className:"text-red-400 truncate max-w-xs",title:E.lastError,children:E.lastError})]},_))})]},M.job))}),!i&&D.length===0&&!l&&f.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:t.type==="victoriametrics"?"No targets found. VictoriaMetrics only shows targets when configured with -promscrape.config.":"No targets found"})]})}const Sge={firing:"bg-red-500",pending:"bg-yellow-500",inactive:"bg-gray-600"},jge={firing:"text-red-400",pending:"text-yellow-400",inactive:"text-gray-500"};function K3(){const{connection:t,auth:e}=kn(),[r,n]=w.useState([]),[i,a]=w.useState(!1),[l,o]=w.useState(null),[u,h]=w.useState("all"),[m,p]=w.useState(!1),[y,x]=w.useState(""),[b,N]=w.useState(new Set),j=w.useCallback(async()=>{if(!(!t||t.type!=="prometheus"&&t.type!=="victoriametrics")){a(!0),o(null);try{const _=await Dt.getRules(t.url,void 0,e);if(_.status!=="success")throw new Error("Failed to fetch rules");n(_.data.groups||[]),N(new Set((_.data.groups||[]).map(L=>L.name)))}catch(_){o(_.message)}finally{a(!1)}}},[t,e]);w.useEffect(()=>{j()},[j]);const C=_=>{N(L=>{const I=new Set(L);return I.has(_)?I.delete(_):I.add(_),I})},k=r.flatMap(_=>_.rules).filter(_=>_.type==="alerting"),T=k.filter(_=>_.state==="firing").length,D=k.filter(_=>_.state==="pending").length,M=k.filter(_=>_.state==="inactive").length,E=_=>!(!m&&_.type==="recording"||_.type==="alerting"&&u!=="all"&&_.state!==u||y&&!_.name.toLowerCase().includes(y.toLowerCase()));return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?f.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:f.jsx("p",{children:"Select a Prometheus connection."})}):f.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-lg font-semibold text-white",children:"Alert Rules"}),f.jsx("button",{onClick:j,disabled:i,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:f.jsx(wt,{size:14,className:i?"animate-spin":""})})]}),f.jsxs("div",{className:"flex gap-4 text-sm",children:[f.jsxs("span",{className:"text-gray-400",children:[k.length," rules"]}),T>0&&f.jsxs("span",{className:"text-red-400",children:[T," firing"]}),D>0&&f.jsxs("span",{className:"text-yellow-400",children:[D," pending"]}),f.jsxs("span",{className:"text-gray-500",children:[M," inactive"]})]}),f.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[f.jsxs("div",{className:"relative flex-1 max-w-xs",children:[f.jsx(Dc,{size:14,className:"absolute left-2.5 top-2 text-gray-500"}),f.jsx("input",{type:"text",placeholder:"Search rules...",value:y,onChange:_=>x(_.target.value),className:"w-full pl-8 pr-3 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),f.jsx("div",{className:"flex gap-1",children:["all","firing","pending","inactive"].map(_=>f.jsx("button",{onClick:()=>h(_),className:`px-3 py-1 rounded text-xs capitalize ${u===_?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:_},_))}),f.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-gray-400",children:[f.jsx("input",{type:"checkbox",checked:m,onChange:_=>p(_.target.checked),className:"rounded border-gray-600"}),"Recording Rules"]})]}),l&&f.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:l}),f.jsx("div",{className:"space-y-3",children:r.map(_=>{const L=_.rules.filter(E);return L.length===0?null:f.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[f.jsxs("button",{onClick:()=>C(_.name),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-900 hover:bg-gray-800/70 transition-colors text-left",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[b.has(_.name)?f.jsx(zi,{size:14,className:"text-gray-500"}):f.jsx(Es,{size:14,className:"text-gray-500"}),f.jsx("span",{className:"text-sm font-medium text-white",children:_.name}),f.jsx("span",{className:"text-xs text-gray-500",children:_.file})]}),f.jsxs("span",{className:"text-xs text-gray-500",children:[L.length," rules"]})]}),b.has(_.name)&&f.jsx("div",{className:"divide-y divide-gray-800/50",children:L.map((I,z)=>f.jsxs("div",{className:"px-4 py-3 space-y-1.5 hover:bg-gray-900/50",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[I.state&&f.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${Sge[I.state]||"bg-gray-600"}`}),f.jsx("span",{className:`text-xs font-semibold uppercase ${jge[I.state||""]||"text-gray-500"}`,children:I.state||I.type}),f.jsx("span",{className:"text-sm font-medium text-white",children:I.name}),I.duration!==void 0&&I.duration>0&&f.jsxs("span",{className:"text-xs text-gray-500",children:["for ",I.duration,"s"]}),I.labels?.severity&&f.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${I.labels.severity==="critical"?"bg-red-900/50 text-red-400":I.labels.severity==="warning"?"bg-yellow-900/50 text-yellow-400":"bg-gray-800 text-gray-400"}`,children:I.labels.severity})]}),f.jsx("pre",{className:"text-xs text-gray-400 font-mono bg-gray-900/50 rounded px-2 py-1 overflow-x-auto",children:I.query}),I.annotations?.summary&&f.jsx("p",{className:"text-xs text-gray-500",children:I.annotations.summary}),I.alerts&&I.alerts.length>0&&f.jsxs("div",{className:"pl-4 mt-1 space-y-1",children:[f.jsxs("span",{className:"text-xs text-gray-500",children:["Firing instances (",I.alerts.length,"):"]}),I.alerts.slice(0,5).map((R,U)=>f.jsxs("div",{className:"text-xs text-gray-400 font-mono pl-2 border-l border-gray-700",children:[Object.entries(R.labels).filter(([W])=>W!=="alertname").map(([W,$])=>`${W}="${$}"`).join(", ")," ","= ",R.value,f.jsxs("span",{className:"text-gray-600 ml-2",children:["since ",new Date(R.activeAt).toLocaleString()]})]},U)),I.alerts.length>5&&f.jsxs("p",{className:"text-xs text-gray-600 pl-2",children:["...and ",I.alerts.length-5," more"]})]})]},z))})]},_.name)})})]})}function G3(){const{connection:t,auth:e}=kn(),[r,n]=w.useState("alerts"),[i,a]=w.useState([]),[l,o]=w.useState([]),[u,h]=w.useState(null),[m,p]=w.useState(!1),[y,x]=w.useState(null),[b,N]=w.useState(!1),[j,C]=w.useState(""),[A,k]=w.useState(""),[T,D]=w.useState(!1),[M,E]=w.useState("2h"),[_,L]=w.useState(""),[I]=w.useState("timeseriesui"),z=t?.alertmanagerUrl,R=w.useCallback(async()=>{if(z){p(!0),x(null);try{const[$,H,F]=await Promise.allSettled([Dt.getAMAlerts(z,e),Dt.getAMSilences(z,e),Dt.getAMStatus(z,e)]);$.status==="fulfilled"&&a($.value||[]),H.status==="fulfilled"&&o((H.value||[]).filter(Q=>Q.status.state!=="expired")),F.status==="fulfilled"&&h(F.value)}catch($){x($.message)}finally{p(!1)}}},[z,e]);w.useEffect(()=>{R()},[R]);const U=async()=>{if(!(!z||!j.trim()))try{const $=new Date,H=Nge(M),F=new Date($.getTime()+H);await Dt.createAMSilence(z,{matchers:[{name:j,value:A,isRegex:T,isEqual:!0}],startsAt:$.toISOString(),endsAt:F.toISOString(),createdBy:I,comment:_||"Created by TimeseriesUI"},e),N(!1),C(""),k(""),L(""),R()}catch($){x($.message)}},W=async $=>{if(z)try{await Dt.deleteAMSilence(z,$,e),R()}catch(H){x(H.message)}};return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?f.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:f.jsx("p",{children:"Select a Prometheus connection."})}):z?f.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-lg font-semibold text-white",children:"Alertmanager"}),f.jsx("button",{onClick:R,disabled:m,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:f.jsx(wt,{size:14,className:m?"animate-spin":""})})]}),f.jsx("div",{className:"flex gap-1 border-b border-gray-800 pb-1",children:["alerts","silences","status"].map($=>f.jsxs("button",{onClick:()=>n($),className:`px-4 py-2 rounded-t text-sm capitalize ${r===$?"bg-gray-800 text-white border-b-2 border-blue-500":"text-gray-400 hover:text-white"}`,children:[$,$==="alerts"&&i.length>0&&f.jsx("span",{className:"ml-1.5 px-1.5 py-0.5 rounded-full bg-red-600 text-white text-[10px]",children:i.length})]},$))}),y&&f.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:y}),r==="alerts"&&f.jsxs("div",{className:"space-y-2",children:[i.length===0&&!m&&f.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No firing alerts"}),i.map(($,H)=>f.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-2 hover:bg-gray-900/50",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${$.labels.severity==="critical"?"bg-red-900/50 text-red-400":$.labels.severity==="warning"?"bg-yellow-900/50 text-yellow-400":"bg-gray-800 text-gray-400"}`,children:$.labels.severity||"info"}),f.jsx("span",{className:"text-sm font-medium text-white",children:$.labels.alertname}),f.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${$.status.state==="active"?"bg-red-900/30 text-red-400":$.status.state==="suppressed"?"bg-yellow-900/30 text-yellow-400":"bg-gray-800 text-gray-400"}`,children:$.status.state})]}),f.jsx("div",{className:"text-xs text-gray-400 font-mono",children:Object.entries($.labels).filter(([F])=>F!=="alertname"&&F!=="severity").map(([F,Q])=>f.jsxs("span",{className:"mr-2",children:[F,'="',Q,'"']},F))}),$.annotations?.description&&f.jsx("p",{className:"text-xs text-gray-500",children:$.annotations.description}),f.jsxs("div",{className:"text-xs text-gray-600",children:["Started: ",new Date($.startsAt).toLocaleString(),$.status.silencedBy.length>0&&f.jsx("span",{className:"ml-2 text-yellow-500",children:"Silenced"})]})]},H))]}),r==="silences"&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{onClick:()=>N($=>!$),className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium transition-colors",children:[f.jsx(Ii,{size:12}),"New Silence"]}),b&&f.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-3 bg-gray-900",children:[f.jsx("h3",{className:"text-sm font-medium text-white",children:"Create Silence"}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsx("input",{type:"text",placeholder:"Label name (e.g. alertname)",value:j,onChange:$=>C($.target.value),className:"px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"}),f.jsx("input",{type:"text",placeholder:"Value (e.g. HighCPU)",value:A,onChange:$=>k($.target.value),className:"px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),f.jsxs("div",{className:"flex gap-3 items-center",children:[f.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-400",children:[f.jsx("input",{type:"checkbox",checked:T,onChange:$=>D($.target.checked)}),"Regex"]}),f.jsxs("select",{value:M,onChange:$=>E($.target.value),className:"px-2 py-1 rounded bg-gray-800 border border-gray-700 text-gray-300 text-xs",children:[f.jsx("option",{value:"30m",children:"30 minutes"}),f.jsx("option",{value:"1h",children:"1 hour"}),f.jsx("option",{value:"2h",children:"2 hours"}),f.jsx("option",{value:"6h",children:"6 hours"}),f.jsx("option",{value:"24h",children:"24 hours"}),f.jsx("option",{value:"7d",children:"7 days"})]})]}),f.jsx("input",{type:"text",placeholder:"Comment",value:_,onChange:$=>L($.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:U,className:"px-3 py-1.5 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium",children:"Create"}),f.jsx("button",{onClick:()=>N(!1),className:"px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-gray-300 text-xs",children:"Cancel"})]})]}),l.length===0&&!m&&f.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No active silences"}),l.map($=>f.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${$.status.state==="active"?"bg-yellow-900/30 text-yellow-400":"bg-gray-800 text-gray-400"}`,children:$.status.state}),f.jsxs("span",{className:"text-xs text-gray-400",children:["by ",$.createdBy]})]}),f.jsx("button",{onClick:()=>W($.id),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",title:"Expire silence",children:f.jsx(ui,{size:12})})]}),f.jsx("div",{className:"text-xs font-mono text-gray-300",children:$.matchers.map((H,F)=>f.jsxs("span",{className:"mr-2",children:[H.name,H.isRegex?"=~":"=",'"',H.value,'"']},F))}),$.comment&&f.jsx("p",{className:"text-xs text-gray-500",children:$.comment}),f.jsxs("div",{className:"text-xs text-gray-600",children:["Until: ",new Date($.endsAt).toLocaleString()]})]},$.id))]}),r==="status"&&u&&f.jsx("div",{className:"space-y-3",children:f.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[f.jsx("h3",{className:"text-sm font-medium text-white mb-2",children:"Cluster Status"}),f.jsx("pre",{className:"text-xs text-gray-300 font-mono whitespace-pre-wrap",children:JSON.stringify(u,null,2)})]})})]}):f.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:f.jsx("p",{children:"No Alertmanager URL configured for this connection. Edit the connection to add one."})})}function Nge(t){const e=t.match(/^(\d+)(m|h|d)$/);if(!e)return 36e5;const r=parseInt(e[1]);switch(e[2]){case"m":return r*60*1e3;case"h":return r*3600*1e3;case"d":return r*86400*1e3;default:return 36e5}}function Cge(){const{connection:t,auth:e}=kn(),[r,n]=w.useState(null),[i,a]=w.useState(null),[l,o]=w.useState(null),[u,h]=w.useState(null),[m,p]=w.useState(!1),[y,x]=w.useState(null),b=w.useCallback(async()=>{if(!(!t||t.type!=="prometheus"&&t.type!=="victoriametrics")){p(!0),x(null);try{const[C,A,k,T]=await Promise.allSettled([Dt.getTSDBStatus(t.url,e),Dt.getBuildInfo(t.url,e),Dt.getRuntimeInfo(t.url,e),Dt.getFlags(t.url,e)]);C.status==="fulfilled"&&C.value.status==="success"&&n(C.value.data),A.status==="fulfilled"&&A.value.status==="success"&&a(A.value.data),k.status==="fulfilled"&&k.value.status==="success"&&o(k.value.data),T.status==="fulfilled"&&T.value.status==="success"&&h(T.value.data)}catch(C){x(C.message)}finally{p(!1)}}},[t,e]);w.useEffect(()=>{b()},[b]);const N=C=>C.toLocaleString(),j=C=>C?new Date(C).toLocaleString():"-";return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?f.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:f.jsx("p",{children:"Select a Prometheus connection."})}):f.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-lg font-semibold text-white",children:"TSDB Status & Health"}),f.jsx("button",{onClick:b,disabled:m,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:f.jsx(wt,{size:14,className:m?"animate-spin":""})})]}),y&&f.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:y}),i&&f.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[f.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Build Info"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[f.jsx(xn,{label:"Version",value:i.version}),f.jsx(xn,{label:"Go Version",value:i.goVersion}),f.jsx(xn,{label:"Branch",value:i.branch}),f.jsx(xn,{label:"Build Date",value:i.buildDate})]})]}),l&&f.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[f.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Runtime"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[f.jsx(xn,{label:"Start Time",value:new Date(l.startTime).toLocaleString()}),f.jsx(xn,{label:"Goroutines",value:String(l.goroutineCount)}),f.jsx(xn,{label:"GOMAXPROCS",value:String(l.GOMAXPROCS)}),f.jsx(xn,{label:"Storage Retention",value:l.storageRetention})]})]}),r&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[f.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"TSDB Head Block"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[f.jsx(xn,{label:"Head Series",value:N(r.headStats.numSeries)}),f.jsx(xn,{label:"Head Chunks",value:N(r.headStats.chunkCount)}),f.jsx(xn,{label:"Label Pairs",value:N(r.headStats.numLabelPairs)}),f.jsx(xn,{label:"Min Time",value:j(r.headStats.minTime)}),f.jsx(xn,{label:"Max Time",value:j(r.headStats.maxTime)})]})]}),r.seriesCountByMetricName&&r.seriesCountByMetricName.length>0&&f.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[f.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Top Cardinality Metrics"}),f.jsxs("table",{className:"w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-gray-800",children:[f.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Metric Name"}),f.jsx("th",{className:"text-right p-2 text-gray-400 font-medium",children:"Series Count"})]})}),f.jsx("tbody",{children:r.seriesCountByMetricName.slice(0,10).map((C,A)=>f.jsxs("tr",{className:"border-b border-gray-800/50",children:[f.jsx("td",{className:"p-2 font-mono text-gray-300",children:C.name}),f.jsx("td",{className:"p-2 text-right text-gray-200",children:N(C.value)})]},A))})]})]}),r.seriesCountByLabelValuePair&&r.seriesCountByLabelValuePair.length>0&&f.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[f.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Top Cardinality Label Pairs"}),f.jsxs("table",{className:"w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-gray-800",children:[f.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Label Pair"}),f.jsx("th",{className:"text-right p-2 text-gray-400 font-medium",children:"Series Count"})]})}),f.jsx("tbody",{children:r.seriesCountByLabelValuePair.slice(0,10).map((C,A)=>f.jsxs("tr",{className:"border-b border-gray-800/50",children:[f.jsx("td",{className:"p-2 font-mono text-gray-300",children:C.name}),f.jsx("td",{className:"p-2 text-right text-gray-200",children:N(C.value)})]},A))})]})]})]}),u&&f.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[f.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Runtime Flags"}),f.jsx("div",{className:"space-y-1 max-h-80 overflow-y-auto",children:Object.entries(u).sort(([C],[A])=>C.localeCompare(A)).map(([C,A])=>f.jsxs("div",{className:"flex justify-between gap-4 text-xs py-1 border-b border-gray-800/30",children:[f.jsx("span",{className:"font-mono text-gray-400",children:C}),f.jsx("span",{className:"font-mono text-gray-200 text-right truncate max-w-xs",title:A,children:A||'""'})]},C))})]})]})}function xn({label:t,value:e}){return f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-wider",children:t}),f.jsx("p",{className:"text-sm text-gray-200 font-medium truncate",title:e,children:e})]})}const Y3={counter:"bg-blue-900/50 text-blue-400",gauge:"bg-green-900/50 text-green-400",histogram:"bg-purple-900/50 text-purple-400",summary:"bg-yellow-900/50 text-yellow-400",unknown:"bg-gray-800 text-gray-400",untyped:"bg-gray-800 text-gray-400"};function Q3(){const{connection:t,auth:e}=kn(),r=Mc(),[n,i]=w.useState([]),[a,l]=w.useState(!1),[o,u]=w.useState(null),[h,m]=w.useState(""),[p,y]=w.useState("all"),x=w.useCallback(async()=>{if(!(!t||t.type!=="prometheus"&&t.type!=="victoriametrics")){l(!0),u(null);try{const C=await Dt.getMetadata(t.url,e);if(C.status!=="success")throw new Error("Failed to fetch metadata");const A=[];for(const[k,T]of Object.entries(C.data)){const D=T[0];A.push({name:k,type:D?.type||"unknown",help:D?.help||"",unit:D?.unit||""})}A.sort((k,T)=>k.name.localeCompare(T.name)),i(A)}catch(C){u(C.message)}finally{l(!1)}}},[t,e]);w.useEffect(()=>{x()},[x]);const b=["all",...new Set(n.map(C=>C.type))],N=n.filter(C=>!(p!=="all"&&C.type!==p||h&&!C.name.toLowerCase().includes(h.toLowerCase())&&!C.help.toLowerCase().includes(h.toLowerCase()))),j=C=>{r("/prometheus/query"),sessionStorage.setItem("tsui_prom_query_prefill",C)};return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?f.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:f.jsx("p",{children:"Select a Prometheus connection."})}):f.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-lg font-semibold text-white",children:"Metric Explorer"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-xs text-gray-500",children:[N.length," of ",n.length," metrics"]}),f.jsx("button",{onClick:x,disabled:a,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:f.jsx(wt,{size:14,className:a?"animate-spin":""})})]})]}),f.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[f.jsxs("div",{className:"relative flex-1 max-w-sm",children:[f.jsx(Dc,{size:14,className:"absolute left-2.5 top-2 text-gray-500"}),f.jsx("input",{type:"text",placeholder:"Search metrics...",value:h,onChange:C=>m(C.target.value),className:"w-full pl-8 pr-3 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),f.jsx("div",{className:"flex gap-1",children:b.map(C=>f.jsx("button",{onClick:()=>y(C),className:`px-3 py-1 rounded text-xs capitalize ${p===C?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:C},C))})]}),o&&f.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:o}),f.jsxs("div",{className:"space-y-2",children:[N.slice(0,200).map(C=>f.jsxs("div",{className:"rounded-lg border border-gray-800 p-3 hover:bg-gray-900/50 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:"font-mono text-sm text-gray-200 font-medium",children:C.name}),f.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${Y3[C.type]||Y3.unknown}`,children:C.type}),C.unit&&f.jsxs("span",{className:"text-[10px] text-gray-500",children:["(",C.unit,")"]})]}),C.help&&f.jsx("p",{className:"text-xs text-gray-500 mb-2",children:C.help}),f.jsxs("button",{onClick:()=>j(C.name),className:"flex items-center gap-1 text-xs text-blue-400 hover:text-blue-300 transition-colors",children:[f.jsx(x_,{size:10}),"Query"]})]},C.name)),N.length>200&&f.jsxs("p",{className:"text-xs text-gray-500 text-center py-2",children:["Showing 200 of ",N.length," metrics. Use search to narrow results."]})]}),!a&&N.length===0&&!o&&f.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:"No metrics found"})]})}function X3(){const{connection:t,auth:e}=kn(),[r,n]=w.useState(""),[i,a]=w.useState(!1),[l,o]=w.useState(null),[u,h]=w.useState(!1),[m,p]=w.useState(""),y=w.useCallback(async()=>{if(!(!t||t.type!=="prometheus"&&t.type!=="victoriametrics")){a(!0),o(null);try{const j=await Dt.getConfig(t.url,e);if(j.status!=="success")throw new Error("Failed to fetch config");n(j.data.yaml||"")}catch(j){o(j.message)}finally{a(!1)}}},[t,e]);w.useEffect(()=>{y()},[y]);const x=async()=>{await navigator.clipboard.writeText(r),h(!0),setTimeout(()=>h(!1),2e3)},b=r.split(`
`),N=m?b.map((j,C)=>({line:j,num:C+1,match:j.toLowerCase().includes(m.toLowerCase())})):b.map((j,C)=>({line:j,num:C+1,match:!1}));return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?f.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:f.jsx("p",{children:"Select a Prometheus connection."})}):f.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-lg font-semibold text-white",children:t.type==="victoriametrics"?"Runtime Flags":"Running Config"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("button",{onClick:x,disabled:!r,className:"flex items-center gap-1 px-3 py-1.5 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 text-xs transition-colors",children:[u?f.jsx(y_,{size:12,className:"text-green-400"}):f.jsx(_1,{size:12}),u?"Copied":"Copy"]}),f.jsx("button",{onClick:y,disabled:i,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:f.jsx(wt,{size:14,className:i?"animate-spin":""})})]})]}),l&&f.jsxs("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:[l,l.includes("unsupported path")&&f.jsx("p",{className:"mt-1 text-xs text-red-400",children:"The config API is not available on VictoriaMetrics cluster vmselect. Connect to a single-node VM instance, or check VM command-line flags on the TSDB Status page instead."})]}),f.jsxs("div",{className:"relative max-w-xs",children:[f.jsx(Dc,{size:14,className:"absolute left-2.5 top-2 text-gray-500"}),f.jsx("input",{type:"text",placeholder:"Search in config...",value:m,onChange:j=>p(j.target.value),className:"w-full pl-8 pr-3 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),r&&f.jsx("div",{className:"rounded-lg border border-gray-800 overflow-auto max-h-[calc(100vh-250px)]",children:f.jsx("pre",{className:"p-4 text-xs font-mono leading-relaxed",children:N.map(j=>f.jsxs("div",{className:`flex ${j.match?"bg-yellow-900/20":""}`,children:[f.jsx("span",{className:"text-gray-600 select-none w-10 text-right pr-3 flex-shrink-0",children:j.num}),f.jsx("span",{className:"text-gray-300 whitespace-pre",children:j.line})]},j.num))})}),!r&&!i&&!l&&f.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:"No config loaded"})]})}function Z3(){const{connection:t,auth:e}=kn(),[r,n]=w.useState([]),[i,a]=w.useState(!1),[l,o]=w.useState(null),[u,h]=w.useState(""),[m,p]=w.useState(new Set),[y,x]=w.useState(!1),b=w.useCallback(async()=>{if(!(!t||t.type!=="prometheus"&&t.type!=="victoriametrics")){a(!0),o(null);try{const k=await Dt.getTargets(t.url,"any",e);if(k.status!=="success")throw new Error("Failed to fetch targets");const T=k.data.activeTargets||[],D=k.data.droppedTargets||[],M=new Map;T.forEach(_=>{const L=_.scrapePool||_.labels?.job||"unknown";M.has(L)||M.set(L,{job:L,activeTargets:[],droppedTargets:[]}),M.get(L).activeTargets.push(_)}),D.forEach(_=>{const L=_.discoveredLabels?.__job_name__||_.discoveredLabels?.job||"dropped";M.has(L)||M.set(L,{job:L,activeTargets:[],droppedTargets:[]}),M.get(L).droppedTargets.push(_)});const E=Array.from(M.values()).sort((_,L)=>_.job.localeCompare(L.job));n(E),p(new Set(E.map(_=>_.job)))}catch(k){o(k.message)}finally{a(!1)}}},[t,e]);w.useEffect(()=>{b()},[b]);const N=k=>{p(T=>{const D=new Set(T);return D.has(k)?D.delete(k):D.add(k),D})},j=r.reduce((k,T)=>k+T.activeTargets.length,0),C=r.reduce((k,T)=>k+T.droppedTargets.length,0),A=u?r.filter(k=>k.job.toLowerCase().includes(u.toLowerCase())||k.activeTargets.some(T=>T.scrapeUrl.toLowerCase().includes(u.toLowerCase()))):r;return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?f.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:f.jsx("p",{children:"Select a Prometheus connection."})}):f.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-lg font-semibold text-white",children:"Service Discovery"}),f.jsx("button",{onClick:b,disabled:i,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:f.jsx(wt,{size:14,className:i?"animate-spin":""})})]}),f.jsxs("div",{className:"flex gap-4 text-sm",children:[f.jsxs("span",{className:"text-gray-400",children:[j," active targets"]}),f.jsxs("span",{className:"text-gray-500",children:[C," dropped"]})]}),f.jsxs("div",{className:"flex gap-2 items-center",children:[f.jsxs("div",{className:"relative flex-1 max-w-xs",children:[f.jsx(Dc,{size:14,className:"absolute left-2.5 top-2 text-gray-500"}),f.jsx("input",{type:"text",placeholder:"Search jobs or targets...",value:u,onChange:k=>h(k.target.value),className:"w-full pl-8 pr-3 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),f.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-gray-400",children:[f.jsx("input",{type:"checkbox",checked:y,onChange:k=>x(k.target.checked),className:"rounded border-gray-600"}),"Show Dropped"]})]}),l&&f.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:l}),f.jsx("div",{className:"space-y-3",children:A.map(k=>f.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[f.jsx("button",{onClick:()=>N(k.job),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-900 hover:bg-gray-800/70 transition-colors text-left",children:f.jsxs("div",{className:"flex items-center gap-2",children:[m.has(k.job)?f.jsx(zi,{size:14,className:"text-gray-500"}):f.jsx(Es,{size:14,className:"text-gray-500"}),f.jsx("span",{className:"text-sm font-medium text-white",children:k.job}),f.jsxs("span",{className:"text-xs text-gray-500",children:[k.activeTargets.length," active",k.droppedTargets.length>0&&`, ${k.droppedTargets.length} dropped`]})]})}),m.has(k.job)&&f.jsxs("div",{className:"divide-y divide-gray-800/50",children:[k.activeTargets.map((T,D)=>f.jsxs("div",{className:"px-4 py-3 space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${T.health==="up"?"bg-green-500":"bg-red-500"}`}),f.jsx("span",{className:"font-mono text-xs text-gray-300",children:T.scrapeUrl})]}),f.jsxs("div",{className:"pl-4 grid grid-cols-2 gap-x-6 gap-y-1",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-[10px] text-gray-500 uppercase block",children:"Discovered Labels"}),f.jsx("div",{className:"text-xs font-mono text-gray-400 space-y-0.5",children:Object.entries(T.discoveredLabels||{}).map(([M,E])=>f.jsxs("div",{children:[f.jsxs("span",{className:"text-gray-500",children:[M,"="]}),'"',E,'"']},M))})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-[10px] text-gray-500 uppercase block",children:"Target Labels"}),f.jsx("div",{className:"text-xs font-mono text-gray-400 space-y-0.5",children:Object.entries(T.labels||{}).map(([M,E])=>f.jsxs("div",{children:[f.jsxs("span",{className:"text-gray-500",children:[M,"="]}),'"',E,'"']},M))})]})]})]},D)),y&&k.droppedTargets.map((T,D)=>f.jsxs("div",{className:"px-4 py-3 opacity-60",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:"w-2 h-2 rounded-full flex-shrink-0 bg-gray-600"}),f.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"DROPPED"})]}),f.jsx("div",{className:"pl-4 text-xs font-mono text-gray-500 space-y-0.5",children:Object.entries(T.discoveredLabels||{}).map(([M,E])=>f.jsxs("div",{children:[f.jsxs("span",{className:"text-gray-600",children:[M,"="]}),'"',E,'"']},M))})]},`dropped-${D}`))]})]},k.job))}),!i&&A.length===0&&!l&&f.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:"No targets found"})]})}const kge=jn+"/proxy/victoriametrics/";function On(t,e,r){const n=new URLSearchParams;if(n.set("target",t),n.set("path",e),r)for(const[i,a]of Object.entries(r))a!==void 0&&a!==""&&n.set(i,a);return kge+"?"+n.toString()}function Gc(t){const e={};return t?.username&&(e["X-Proxy-Username"]=t.username),t?.password&&(e["X-Proxy-Password"]=t.password),e}async function Fs(t,e,r){const n=await fetch(t,{...e,headers:{Accept:"application/json",...Gc(r)}});if(!n.ok){const i=await n.text();throw new Error(`Request failed (${n.status}): ${i}`)}return n.json()}async function Oge(t,e){const r=On(t,"/api/v1/status/active_queries");return(await Fs(r,void 0,e)).data||[]}async function Age(t,e=20,r="30m",n){const i=On(t,"/api/v1/status/top_queries",{topN:String(e),maxLifetime:r});return(await Fs(i,void 0,n)).data||{topByCount:[],topByAvgDuration:[],topBySumDuration:[]}}async function jI(t,e){const r=On(t,"/api/v1/series/count");return(await Fs(r,void 0,e)).data?.[0]??0}async function Ege(t,e,r){const n={};e.topN&&(n.topN=String(e.topN)),e.focusLabel&&(n.focusLabel=e.focusLabel),e.date&&(n.date=e.date),e.match&&(n["match[]"]=e.match);const i=On(t,"/api/v1/status/tsdb",n);return(await Fs(i,void 0,r)).data||{seriesCountByMetricName:[],seriesCountByLabelName:[],seriesCountByFocusLabelValue:[],seriesCountByLabelValuePair:[],labelValueCountByLabelName:[]}}async function Tge(t,e){const r=On(t,"/snapshot/list");return(await Fs(r,void 0,e)).snapshots||[]}async function Mge(t,e){const r=On(t,"/snapshot/create");return(await Fs(r,void 0,e)).snapshot||""}async function Dge(t,e,r){const n=On(t,"/snapshot/delete",{snapshot:e});await Fs(n,void 0,r)}async function _ge(t,e){const r=On(t,"/snapshot/delete_all");await Fs(r,void 0,e)}async function Pge(t,e,r){const n=On(t,"/internal/force_merge",{partition_prefix:e});await fetch(n,{headers:Gc(r)})}async function Rge(t,e){const r=On(t,"/internal/resetRollupResultCache");await fetch(r,{headers:Gc(e)})}async function Lge(t,e,r){const n=On(t,"/api/v1/admin/tsdb/delete_series",{"match[]":e});await fetch(n,{method:"POST",headers:Gc(r)})}async function J3(t,e,r){const n={json:"/api/v1/export",csv:"/api/v1/export/csv",native:"/api/v1/export/native"},i={"match[]":e.match};e.start&&(i.start=e.start),e.end&&(i.end=e.end),e.csvFormat&&(i.format=e.csvFormat);const a=On(t,n[e.format],i);return(await fetch(a,{headers:Gc(r)})).text()}async function Bge(t,e,r){const n={json:"/api/v1/import",csv:"/api/v1/import/csv",native:"/api/v1/import/native",prometheus:"/api/v1/import/prometheus"},i={};e.csvFormat&&(i.format=e.csvFormat);const a=On(t,n[e.format],i);await fetch(a,{method:"POST",body:e.body,headers:Gc(r)})}function zge(){const{connection:t,auth:e}=kn(),r=Mc(),[n,i]=w.useState([]),[a,l]=w.useState([]),[o,u]=w.useState([]),[h,m]=w.useState([]),[p,y]=w.useState(!1),[x,b]=w.useState(null),[N,j]=w.useState("count"),[C,A]=w.useState(20),[k,T]=w.useState("30m"),[D,M]=w.useState(2),[E,_]=w.useState(null),L=w.useCallback(async()=>{if(!(!t||t.type!=="victoriametrics")){y(!0),b(null);try{const[U,W]=await Promise.all([Oge(t.url,e),Age(t.url,C,k,e)]);i(U),l(W.topByCount||[]),u(W.topByAvgDuration||[]),m(W.topBySumDuration||[])}catch(U){b(U.message)}finally{y(!1)}}},[t,e,C,k]);w.useEffect(()=>{L()},[L]),w.useEffect(()=>{if(D<=0)return;const U=setInterval(L,D*1e3);return()=>clearInterval(U)},[D,L]);const I=U=>{navigator.clipboard.writeText(U),_(U),setTimeout(()=>_(null),1500)},z=U=>{sessionStorage.setItem("tsui_prom_query_prefill",U),r("/victoriametrics/query")},R=N==="count"?a:N==="avgDuration"?o:h;return!t||t.type!=="victoriametrics"?f.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:f.jsx("p",{children:"Select a VictoriaMetrics connection."})}):f.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-lg font-semibold text-white",children:"Active & Top Queries"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("select",{value:D,onChange:U=>M(Number(U.target.value)),className:"px-2 py-1 rounded bg-gray-800 border border-gray-700 text-gray-300 text-xs",children:[f.jsx("option",{value:0,children:"Auto-refresh: Off"}),f.jsx("option",{value:2,children:"2s"}),f.jsx("option",{value:5,children:"5s"}),f.jsx("option",{value:10,children:"10s"})]}),f.jsx("button",{onClick:L,disabled:p,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:f.jsx(wt,{size:14,className:p?"animate-spin":""})})]})]}),x&&f.jsxs("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:[x,x.includes("unsupported path")&&f.jsx("p",{className:"mt-1 text-xs text-red-400",children:"Active/top queries may not be available on VM cluster vmselect. This works on single-node VictoriaMetrics."})]}),f.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[f.jsx("div",{className:"px-4 py-3 bg-gray-900 border-b border-gray-800 flex items-center justify-between",children:f.jsxs("h2",{className:"text-sm font-medium text-white flex items-center gap-2",children:[f.jsx(Sa,{size:14,className:"text-blue-400"}),"Active Queries",f.jsxs("span",{className:"text-xs text-gray-500",children:["(",n.length," running)"]})]})}),n.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-gray-800 bg-gray-900/50",children:[f.jsx("th",{className:"text-left p-3 text-gray-400 font-medium",children:"Query"}),f.jsx("th",{className:"text-left p-3 text-gray-400 font-medium w-24",children:"Duration"}),f.jsx("th",{className:"text-left p-3 text-gray-400 font-medium w-36",children:"Client"}),f.jsx("th",{className:"text-right p-3 text-gray-400 font-medium w-20",children:"Actions"})]})}),f.jsx("tbody",{children:n.map(U=>f.jsxs("tr",{className:"border-b border-gray-800/50 hover:bg-gray-900/50",children:[f.jsx("td",{className:"p-3 font-mono text-gray-300 max-w-lg truncate",title:U.query,children:U.query}),f.jsx("td",{className:"p-3 text-gray-400",children:U.duration}),f.jsx("td",{className:"p-3 text-gray-500",children:U.remote_addr}),f.jsxs("td",{className:"p-3 text-right",children:[f.jsx("button",{onClick:()=>I(U.query),className:"p-1 text-gray-500 hover:text-white",title:"Copy",children:f.jsx(_1,{size:12})}),f.jsx("button",{onClick:()=>z(U.query),className:"p-1 text-gray-500 hover:text-blue-400 ml-1",title:"Run in Explorer",children:f.jsx(Pl,{size:12})})]})]},U.id))})]})}):f.jsx("div",{className:"p-6 text-center text-gray-500 text-sm",children:"No queries currently executing"})]}),f.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[f.jsxs("div",{className:"px-4 py-3 bg-gray-900 border-b border-gray-800",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("h2",{className:"text-sm font-medium text-white",children:"Top Queries"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("label",{className:"text-xs text-gray-500",children:"Top N:"}),f.jsxs("select",{value:C,onChange:U=>A(Number(U.target.value)),className:"px-2 py-1 rounded bg-gray-800 border border-gray-700 text-gray-300 text-xs",children:[f.jsx("option",{value:10,children:"10"}),f.jsx("option",{value:20,children:"20"}),f.jsx("option",{value:50,children:"50"})]}),f.jsx("label",{className:"text-xs text-gray-500",children:"Lifetime:"}),f.jsxs("select",{value:k,onChange:U=>T(U.target.value),className:"px-2 py-1 rounded bg-gray-800 border border-gray-700 text-gray-300 text-xs",children:[f.jsx("option",{value:"5m",children:"5m"}),f.jsx("option",{value:"15m",children:"15m"}),f.jsx("option",{value:"30m",children:"30m"}),f.jsx("option",{value:"1h",children:"1h"}),f.jsx("option",{value:"6h",children:"6h"})]})]})]}),f.jsx("div",{className:"flex gap-1",children:[["count","By Count"],["avgDuration","By Avg Duration"],["sumDuration","By Total Duration"]].map(([U,W])=>f.jsx("button",{onClick:()=>j(U),className:`px-3 py-1.5 rounded text-xs font-medium transition-colors ${N===U?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:W},U))})]}),R.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-xs",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-gray-800 bg-gray-900/50",children:[f.jsx("th",{className:"text-left p-3 text-gray-400 font-medium w-10",children:"#"}),f.jsx("th",{className:"text-left p-3 text-gray-400 font-medium",children:"Query"}),f.jsx("th",{className:"text-right p-3 text-gray-400 font-medium w-20",children:"Count"}),f.jsx("th",{className:"text-right p-3 text-gray-400 font-medium w-24",children:"Avg Duration"}),f.jsx("th",{className:"text-right p-3 text-gray-400 font-medium w-20",children:"Actions"})]})}),f.jsx("tbody",{children:R.map((U,W)=>f.jsxs("tr",{className:"border-b border-gray-800/50 hover:bg-gray-900/50",children:[f.jsx("td",{className:"p-3 text-gray-500",children:W+1}),f.jsx("td",{className:"p-3 font-mono text-gray-300 max-w-lg truncate",title:U.query,children:U.query}),f.jsx("td",{className:"p-3 text-right text-gray-400",children:U.count.toLocaleString()}),f.jsxs("td",{className:"p-3 text-right text-gray-400",children:[U.avgDurationSeconds.toFixed(3),"s"]}),f.jsxs("td",{className:"p-3 text-right",children:[f.jsx("button",{onClick:()=>I(U.query),className:"p-1 text-gray-500 hover:text-white",title:E===U.query?"Copied!":"Copy query",children:f.jsx(_1,{size:12})}),f.jsx("button",{onClick:()=>z(U.query),className:"p-1 text-gray-500 hover:text-blue-400 ml-1",title:"Run in Explorer",children:f.jsx(Pl,{size:12})})]})]},W))})]})}):f.jsx("div",{className:"p-6 text-center text-gray-500 text-sm",children:"No top query data available"})]})]})}function zS(t){return t.toLocaleString()}function qm({name:t,value:e,max:r}){const n=r>0?e/r*100:0;return f.jsxs("div",{className:"flex items-center gap-3 py-1.5",children:[f.jsx("span",{className:"text-xs text-gray-300 font-mono flex-1 truncate",title:t,children:t}),f.jsx("div",{className:"w-48 flex-shrink-0",children:f.jsx("div",{className:"h-4 bg-gray-800 rounded overflow-hidden",children:f.jsx("div",{className:"h-full bg-blue-600 rounded",style:{width:`${n}%`}})})}),f.jsx("span",{className:"text-xs text-gray-400 w-20 text-right flex-shrink-0",children:zS(e)})]})}function Ige(){const{connection:t,auth:e}=kn(),[r,n]=w.useState(null),[i,a]=w.useState(null),[l,o]=w.useState(null),[u,h]=w.useState(null),[m,p]=w.useState(null),[y,x]=w.useState(!1),[b,N]=w.useState(null),[j,C]=w.useState(10),[A,k]=w.useState(""),[T,D]=w.useState(""),[M,E]=w.useState(""),_=w.useCallback(async()=>{if(!(!t||t.type!=="victoriametrics")){x(!0),N(null);try{const[U,W,$,H,F]=await Promise.all([Ege(t.url,{topN:j,focusLabel:A||void 0,date:T||void 0,match:M||void 0},e),jI(t.url,e),Dt.getBuildInfo(t.url,e).catch(()=>null),Dt.getRuntimeInfo(t.url,e).catch(()=>null),Dt.getFlags(t.url,e).catch(()=>null)]);n(U),a(W),$?.status==="success"&&o($.data),H?.status==="success"&&h(H.data),F?.status==="success"&&p(F.data)}catch(U){N(U.message)}finally{x(!1)}}},[t,e,j,A,T,M]);if(w.useEffect(()=>{_()},[_]),!t||t.type!=="victoriametrics")return f.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:f.jsx("p",{children:"Select a VictoriaMetrics connection."})});const L=r?.seriesCountByMetricName?.[0]?.value||1,I=r?.seriesCountByLabelName?.[0]?.value||1,z=r?.seriesCountByLabelValuePair?.[0]?.value||1,R=r?.seriesCountByFocusLabelValue?.[0]?.value||1;return f.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-lg font-semibold text-white",children:"TSDB Status & Cardinality"}),i!==null&&f.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Total Series: ",f.jsx("span",{className:"text-white font-medium",children:zS(i)}),r?.totalSeriesPrev!=null&&r.totalSeriesPrev>0&&f.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",i>=r.totalSeriesPrev?"+":"",zS(i-r.totalSeriesPrev)," vs previous)"]})]})]}),f.jsx("button",{onClick:_,disabled:y,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:f.jsx(wt,{size:14,className:y?"animate-spin":""})})]}),b&&f.jsxs("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:[b,b.includes("unsupported path")&&f.jsx("p",{className:"mt-1 text-xs text-red-400",children:"Some TSDB status features may not be available on VM cluster vmselect."})]}),f.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 bg-gray-900/50",children:[f.jsxs("h3",{className:"text-xs font-semibold text-gray-400 uppercase mb-3 flex items-center gap-1.5",children:[f.jsx(va,{size:12})," Filters"]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Date (YYYYMMDD)"}),f.jsx("input",{type:"text",placeholder:"e.g. 20260219",value:T,onChange:U=>D(U.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-600 focus:outline-none focus:border-blue-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Top N"}),f.jsxs("select",{value:j,onChange:U=>C(Number(U.target.value)),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-300 text-xs",children:[f.jsx("option",{value:5,children:"5"}),f.jsx("option",{value:10,children:"10"}),f.jsx("option",{value:20,children:"20"}),f.jsx("option",{value:50,children:"50"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Focus Label"}),f.jsx("input",{type:"text",placeholder:"e.g. instance",value:A,onChange:U=>k(U.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-600 focus:outline-none focus:border-blue-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Match Filter"}),f.jsx("input",{type:"text",placeholder:'e.g. {job="node"}',value:M,onChange:U=>E(U.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-600 focus:outline-none focus:border-blue-500"})]})]}),f.jsx("button",{onClick:_,className:"mt-3 px-4 py-1.5 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium transition-colors",children:"Apply Filters"})]}),r&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[f.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Top Metrics by Series Count"}),f.jsxs("div",{className:"space-y-0.5",children:[(r.seriesCountByMetricName||[]).map(U=>f.jsx(qm,{name:U.name,value:U.value,max:L},U.name)),(!r.seriesCountByMetricName||r.seriesCountByMetricName.length===0)&&f.jsx("p",{className:"text-xs text-gray-500",children:"No data"})]})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[f.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Top Labels by Series Count"}),f.jsx("div",{className:"space-y-0.5",children:(r.seriesCountByLabelName||[]).map(U=>f.jsx(qm,{name:U.name,value:U.value,max:I},U.name))})]}),f.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[f.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Top Label Value Pairs"}),f.jsx("div",{className:"space-y-0.5",children:(r.seriesCountByLabelValuePair||[]).map(U=>f.jsx(qm,{name:U.name,value:U.value,max:z},U.name))})]})]}),A&&r.seriesCountByFocusLabelValue&&r.seriesCountByFocusLabelValue.length>0&&f.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[f.jsxs("h3",{className:"text-sm font-medium text-white mb-3",children:["Focus Label Values (",A,")"]}),f.jsx("div",{className:"space-y-0.5",children:r.seriesCountByFocusLabelValue.map(U=>f.jsx(qm,{name:U.name,value:U.value,max:R},U.name))})]})]}),(l||u||m)&&f.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[f.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Runtime Info"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[l?.version&&f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-500",children:"Version:"})," ",f.jsx("span",{className:"text-gray-200",children:l.version})]}),l?.goVersion&&f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-500",children:"Go:"})," ",f.jsx("span",{className:"text-gray-200",children:l.goVersion})]}),u?.storageRetention&&f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-500",children:"Retention:"})," ",f.jsx("span",{className:"text-gray-200",children:u.storageRetention})]}),u?.startTime&&f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-500",children:"Started:"})," ",f.jsx("span",{className:"text-gray-200",children:new Date(u.startTime).toLocaleString()})]})]}),m&&Object.keys(m).length>0&&f.jsxs("details",{className:"mt-3",children:[f.jsxs("summary",{className:"text-xs text-gray-400 cursor-pointer hover:text-white",children:["Startup Flags (",Object.keys(m).length,")"]}),f.jsx("div",{className:"mt-2 max-h-48 overflow-auto",children:f.jsx("table",{className:"w-full text-xs",children:f.jsx("tbody",{children:Object.entries(m).map(([U,W])=>f.jsxs("tr",{className:"border-b border-gray-800/30",children:[f.jsx("td",{className:"py-1 pr-3 text-gray-400 font-mono",children:U}),f.jsx("td",{className:"py-1 text-gray-300 font-mono",children:W})]},U))})})})]})]})]})}function Uge(){const{connection:t,auth:e}=kn(),[r,n]=w.useState([]),[i,a]=w.useState(!1),[l,o]=w.useState(null),[u,h]=w.useState(!1),[m,p]=w.useState(null),[y,x]=w.useState(!1),[b,N]=w.useState(null),j=w.useCallback(async()=>{if(!(!t||t.type!=="victoriametrics")){a(!0),o(null);try{const T=await Tge(t.url,e);n(T)}catch(T){o(T.message)}finally{a(!1)}}},[t,e]);w.useEffect(()=>{j()},[j]);const C=async()=>{if(t){h(!0),o(null);try{const T=await Mge(t.url,e);N(T),await j()}catch(T){o(T.message)}finally{h(!1)}}},A=async T=>{if(t){p(T);try{await Dge(t.url,T,e),await j()}catch(D){o(D.message)}finally{p(null)}}},k=async()=>{if(t){x(!1),a(!0);try{await _ge(t.url,e),await j()}catch(T){o(T.message)}finally{a(!1)}}};return!t||t.type!=="victoriametrics"?f.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:f.jsx("p",{children:"Select a VictoriaMetrics connection."})}):f.jsxs("div",{className:"p-6 space-y-6 max-w-5xl mx-auto",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h1",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[f.jsx($S,{size:18,className:"text-blue-400"}),"Snapshots"]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("button",{onClick:C,disabled:u,className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium transition-colors disabled:opacity-40",children:[f.jsx(Ii,{size:12}),u?"Creating...":"Create Snapshot"]}),f.jsx("button",{onClick:j,disabled:i,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:f.jsx(wt,{size:14,className:i?"animate-spin":""})})]})]}),l&&f.jsxs("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:[l,l.includes("unsupported path")&&f.jsx("p",{className:"mt-1 text-xs text-red-400",children:"Snapshots are only available on single-node VictoriaMetrics. In cluster mode, snapshots must be managed on vmstorage nodes directly."})]}),b&&f.jsxs("div",{className:"p-3 rounded bg-green-900/20 border border-green-800/50 text-green-300 text-sm",children:["Snapshot created: ",f.jsx("code",{className:"font-mono text-green-200",children:b})]}),f.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[f.jsxs("div",{className:"px-4 py-3 bg-gray-900 border-b border-gray-800 flex items-center justify-between",children:[f.jsxs("h2",{className:"text-sm font-medium text-white",children:["Existing Snapshots ",f.jsxs("span",{className:"text-gray-500",children:["(",r.length,")"]})]}),r.length>1&&f.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-1 px-2 py-1 rounded text-xs text-red-400 hover:bg-red-900/20 transition-colors",children:[f.jsx(ui,{size:10}),"Delete All"]})]}),r.length>0?f.jsx("div",{className:"divide-y divide-gray-800/50",children:r.map(T=>f.jsxs("div",{className:"px-4 py-3 flex items-center justify-between hover:bg-gray-900/50",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-mono text-gray-200",children:T}),f.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["Path: <storageDataPath>/snapshots/",T]})]}),f.jsxs("button",{onClick:()=>A(T),disabled:m===T,className:"flex items-center gap-1 px-2 py-1 rounded text-xs text-red-400 hover:bg-red-900/20 transition-colors disabled:opacity-40",children:[f.jsx(ui,{size:10}),m===T?"Deleting...":"Delete"]})]},T))}):f.jsx("div",{className:"p-8 text-center text-gray-500 text-sm",children:"No snapshots found"})]}),y&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:f.jsxs("div",{className:"bg-gray-900 rounded-lg border border-gray-700 p-6 max-w-md w-full mx-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(tc,{size:20,className:"text-red-400"}),f.jsx("h3",{className:"text-sm font-semibold text-white",children:"Delete All Snapshots?"})]}),f.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:["This will permanently delete all ",r.length," snapshots. This action cannot be undone."]}),f.jsxs("div",{className:"flex gap-2 justify-end",children:[f.jsx("button",{onClick:()=>x(!1),className:"px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-gray-300 text-xs",children:"Cancel"}),f.jsx("button",{onClick:k,className:"px-3 py-1.5 rounded bg-red-600 hover:bg-red-500 text-white text-xs font-medium",children:"Delete All"})]})]})}),f.jsx("div",{className:"rounded-lg border border-gray-800 p-4 bg-gray-900/30",children:f.jsxs("p",{className:"text-xs text-gray-500",children:["Snapshots are created in ",f.jsx("code",{className:"text-gray-400",children:"<storageDataPath>/snapshots/"}),". Use ",f.jsx("code",{className:"text-gray-400",children:"vmbackup"})," to archive snapshots to S3/GCS. Snapshots must be deleted via this API, not with ",f.jsx("code",{className:"text-gray-400",children:"rm -rf"}),"."]})})]})}function qge(){const{connection:t,auth:e}=kn(),[r,n]=w.useState("export"),[i,a]=w.useState(""),[l,o]=w.useState(()=>new Date(Date.now()-36e5).toISOString().replace(/\.\d+Z$/,"Z")),[u,h]=w.useState(()=>new Date().toISOString().replace(/\.\d+Z$/,"Z")),[m,p]=w.useState("json"),[y,x]=w.useState("__name__,__value__,__timestamp__:unix_s"),[b,N]=w.useState(""),[j,C]=w.useState(!1),[A,k]=w.useState("prometheus"),[T,D]=w.useState(""),[M,E]=w.useState(""),[_,L]=w.useState(!1),[I,z]=w.useState(null),[R,U]=w.useState(null),W=async()=>{if(!t||!i.trim()){U('Match selector is required. Example: {__name__="up"} or {job="node"}');return}C(!0),U(null);try{const se=(await J3(t.url,{match:i,start:l||void 0,end:u||void 0,format:m,csvFormat:m==="csv"?y:void 0},e)).split(`
`).slice(0,100);N(se.join(`
`))}catch(Q){U(Q.message)}finally{C(!1)}},$=async()=>{if(!t||!i.trim()){U('Match selector is required. Example: {__name__="up"} or {job="node"}');return}C(!0),U(null);try{const Q=await J3(t.url,{match:i,start:l||void 0,end:u||void 0,format:m,csvFormat:m==="csv"?y:void 0},e),se=m==="csv"?"csv":m==="native"?"bin":"jsonl",de=new Blob([Q],{type:"application/octet-stream"}),B=URL.createObjectURL(de),K=document.createElement("a");K.href=B,K.download=`export.${se}`,K.click(),URL.revokeObjectURL(B)}catch(Q){U(Q.message)}finally{C(!1)}},H=async()=>{if(!(!t||!T.trim())){L(!0),U(null),z(null);try{await Bge(t.url,{format:A,body:T,csvFormat:A==="csv"?M:void 0},e),z("Data imported successfully"),D("")}catch(Q){U(Q.message)}finally{L(!1)}}},F=Q=>{const se=Q.target.files?.[0];if(!se)return;const de=new FileReader;de.onload=()=>D(de.result),de.readAsText(se)};return!t||t.type!=="victoriametrics"?f.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:f.jsx("p",{children:"Select a VictoriaMetrics connection."})}):f.jsxs("div",{className:"p-6 space-y-6 max-w-5xl mx-auto",children:[f.jsx("h1",{className:"text-lg font-semibold text-white",children:"Export / Import"}),f.jsxs("div",{className:"flex gap-1",children:[f.jsxs("button",{onClick:()=>n("export"),className:`flex items-center gap-1.5 px-4 py-2 rounded-t text-sm font-medium transition-colors ${r==="export"?"bg-gray-800 text-white border border-gray-700 border-b-gray-800":"text-gray-400 hover:text-white"}`,children:[f.jsx(dc,{size:14})," Export"]}),f.jsxs("button",{onClick:()=>n("import"),className:`flex items-center gap-1.5 px-4 py-2 rounded-t text-sm font-medium transition-colors ${r==="import"?"bg-gray-800 text-white border border-gray-700 border-b-gray-800":"text-gray-400 hover:text-white"}`,children:[f.jsx(ap,{size:14})," Import"]})]}),R&&f.jsxs("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:[R,(R.includes("matching timeseries exceeds")||R.includes("search.max"))&&f.jsx("p",{className:"mt-1 text-xs text-red-400",children:"Too many matching series. Narrow the match selector and/or reduce the time range."})]}),r==="export"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Match Selector"}),f.jsx("input",{type:"text",value:i,onChange:Q=>a(Q.target.value),placeholder:'{__name__=~"up|node_cpu_seconds_total"}',className:"w-full px-3 py-2 rounded bg-gray-800 border border-gray-700 text-gray-200 text-sm font-mono placeholder-gray-600 focus:outline-none focus:border-blue-500"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Start (optional, Unix ts or RFC3339)"}),f.jsx("input",{type:"text",value:l,onChange:Q=>o(Q.target.value),placeholder:"e.g. 2026-02-18T00:00:00Z",className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-600 focus:outline-none focus:border-blue-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"End (optional)"}),f.jsx("input",{type:"text",value:u,onChange:Q=>h(Q.target.value),placeholder:"e.g. 2026-02-19T00:00:00Z",className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-600 focus:outline-none focus:border-blue-500"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Format"}),f.jsx("div",{className:"flex gap-1",children:["json","csv","native"].map(Q=>f.jsx("button",{onClick:()=>p(Q),className:`px-3 py-1.5 rounded text-xs font-medium uppercase ${m===Q?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:Q},Q))})]}),m==="csv"&&f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"CSV Format String"}),f.jsx("input",{type:"text",value:y,onChange:Q=>x(Q.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs font-mono placeholder-gray-600 focus:outline-none focus:border-blue-500"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:W,disabled:j||!i.trim(),className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-white text-xs font-medium transition-colors disabled:opacity-40",children:[f.jsx(v_,{size:12}),j?"Loading...":"Preview (first 100 rows)"]}),f.jsxs("button",{onClick:$,disabled:j||!i.trim(),className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium transition-colors disabled:opacity-40",children:[f.jsx(dc,{size:12}),"Download Export"]})]})]}),b&&f.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[f.jsx("div",{className:"px-4 py-2 bg-gray-900 border-b border-gray-800 text-xs text-gray-400",children:"Preview"}),f.jsx("pre",{className:"p-4 text-xs text-gray-300 font-mono overflow-auto max-h-80 whitespace-pre-wrap",children:b})]})]}),r==="import"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Format"}),f.jsx("div",{className:"flex gap-1",children:["prometheus","json","csv","native"].map(Q=>f.jsx("button",{onClick:()=>k(Q),className:`px-3 py-1.5 rounded text-xs font-medium capitalize ${A===Q?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:Q==="prometheus"?"Prometheus Text":Q.toUpperCase()},Q))})]}),A==="csv"&&f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"CSV Format String"}),f.jsx("input",{type:"text",value:M,onChange:Q=>E(Q.target.value),placeholder:"e.g. 2:metric:cpu,3:label:host,4:time:unix_s",className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs font-mono placeholder-gray-600 focus:outline-none focus:border-blue-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Choose a file or paste data below"}),f.jsx("input",{type:"file",onChange:F,className:"block text-xs text-gray-400 mb-2"}),f.jsx("textarea",{value:T,onChange:Q=>D(Q.target.value),rows:8,placeholder:A==="prometheus"?'metric_name{label="value"} 123 1700000000000':"Paste data here...",className:"w-full px-3 py-2 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs font-mono placeholder-gray-600 focus:outline-none focus:border-blue-500 resize-none"})]}),f.jsxs("button",{onClick:H,disabled:_||!T.trim(),className:"flex items-center gap-1.5 px-4 py-2 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium transition-colors disabled:opacity-40",children:[f.jsx(ap,{size:12}),_?"Importing...":"Import Data"]})]}),I&&f.jsx("div",{className:"p-3 rounded bg-green-900/20 border border-green-800/50 text-green-300 text-sm",children:I})]})]})}function Hge(){const{connection:t,auth:e}=kn(),[r,n]=w.useState(null),[i,a]=w.useState(null),[l,o]=w.useState(null),[u,h]=w.useState(""),[m,p]=w.useState([]),[y,x]=w.useState(!1),[b,N]=w.useState(!1),[j,C]=w.useState(!1),[A,k]=w.useState(""),[T,D]=w.useState(!1),[M,E]=w.useState(!1),[_,L]=w.useState(!1),I=w.useCallback(async()=>{if(!(!t||t.type!=="victoriametrics"))try{const F=await jI(t.url,e);n(F)}catch{}},[t,e]);w.useEffect(()=>{I()},[I]);const z=async()=>{if(!(!t||!u.trim())){x(!0),a(null);try{const F=await Dt.getSeries(t.url,[u.trim()],e);if(F.status==="success"){const Q=F.data.map(se=>{const de=se.__name__||"",B=Object.entries(se).filter(([K])=>K!=="__name__").map(([K,oe])=>`${K}="${oe}"`).join(", ");return B?`${de}{${B}}`:de});p(Q.slice(0,100))}}catch(F){a(F.message)}finally{x(!1)}}},R=async()=>{if(!(!t||!u.trim())){N(!1),C(!0),a(null),o(null);try{await Lge(t.url,u.trim(),e),o(`Series matching "${u}" have been deleted. Run force merge on affected partitions to reclaim disk space.`),p([]),h(""),await I()}catch(F){a(F.message)}finally{C(!1)}}},U=async()=>{if(!(!t||!A.trim())){E(!1),D(!0),a(null),o(null);try{await Pge(t.url,A.trim(),e),o(`Force merge triggered for partition ${A}. This runs in the background.`)}catch(F){a(F.message)}finally{D(!1)}}},W=async()=>{if(t){L(!0),a(null),o(null);try{await Rge(t.url,e),o("Rollup result cache has been reset.")}catch(F){a(F.message)}finally{L(!1)}}};if(!t||t.type!=="victoriametrics")return f.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:f.jsx("p",{children:"Select a VictoriaMetrics connection."})});const $=[],H=new Date;for(let F=0;F<12;F++){const Q=new Date(H.getFullYear(),H.getMonth()-F,1);$.push(`${Q.getFullYear()}_${String(Q.getMonth()+1).padStart(2,"0")}`)}return f.jsxs("div",{className:"p-6 space-y-6 max-w-5xl mx-auto",children:[f.jsx("h1",{className:"text-lg font-semibold text-white",children:"Admin Operations"}),i&&f.jsxs("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:[i,i.includes("unsupported path")&&f.jsx("p",{className:"mt-1 text-xs text-red-400",children:"This operation may not be available on VM cluster vmselect nodes. In cluster mode, admin operations must target vmstorage nodes directly."})]}),l&&f.jsx("div",{className:"p-3 rounded bg-green-900/20 border border-green-800/50 text-green-300 text-sm",children:l}),f.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-4",children:[f.jsxs("h2",{className:"text-sm font-medium text-white flex items-center gap-2",children:[f.jsx(en,{size:14,className:"text-blue-400"}),"Series Management"]}),r!==null&&f.jsxs("p",{className:"text-xs text-gray-400",children:["Total Series: ",f.jsx("span",{className:"text-white font-medium",children:r.toLocaleString()})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Delete Series Matching"}),f.jsx("input",{type:"text",value:u,onChange:F=>h(F.target.value),placeholder:'{__name__="old_metric_name"}',className:"w-full px-3 py-2 rounded bg-gray-800 border border-gray-700 text-gray-200 text-sm font-mono placeholder-gray-600 focus:outline-none focus:border-blue-500"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:z,disabled:y||!u.trim(),className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-white text-xs font-medium transition-colors disabled:opacity-40",children:y?"Loading...":"Preview (dry run)"}),f.jsxs("button",{onClick:()=>N(!0),disabled:j||!u.trim(),className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-red-600 hover:bg-red-500 text-white text-xs font-medium transition-colors disabled:opacity-40",children:[f.jsx(ui,{size:12}),j?"Deleting...":"Delete Series"]})]}),m.length>0&&f.jsxs("div",{className:"rounded border border-gray-800 bg-gray-900/50 p-3 max-h-48 overflow-auto",children:[f.jsxs("p",{className:"text-xs text-gray-400 mb-2",children:["Found ",m.length," matching series",m.length>=100?" (showing first 100)":"",":"]}),m.map((F,Q)=>f.jsx("p",{className:"text-xs font-mono text-gray-300 truncate",children:F},Q))]})]}),f.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-4",children:[f.jsxs("h2",{className:"text-sm font-medium text-white flex items-center gap-2",children:[f.jsx(Rl,{size:14,className:"text-yellow-400"}),"Force Merge"]}),f.jsxs("div",{className:"p-3 rounded bg-yellow-900/20 border border-yellow-800/50 text-yellow-300 text-xs",children:[f.jsx(tc,{size:12,className:"inline mr-1"}),"Force merge consumes additional CPU, disk IO, and storage space. Only use to reclaim space after deleting series from old partitions."]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Partition (YYYY_MM)"}),f.jsxs("select",{value:A,onChange:F=>k(F.target.value),className:"px-3 py-2 rounded bg-gray-800 border border-gray-700 text-gray-300 text-sm",children:[f.jsx("option",{value:"",children:"Select partition..."}),$.map(F=>f.jsx("option",{value:F,children:F},F))]})]}),f.jsxs("button",{onClick:()=>E(!0),disabled:T||!A,className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-yellow-600 hover:bg-yellow-500 text-white text-xs font-medium transition-colors disabled:opacity-40",children:[f.jsx(Rl,{size:12}),T?"Merging...":"Trigger Force Merge"]})]}),f.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-3",children:[f.jsxs("h2",{className:"text-sm font-medium text-white flex items-center gap-2",children:[f.jsx(wt,{size:14,className:"text-green-400"}),"Cache Management"]}),f.jsx("p",{className:"text-xs text-gray-500",children:"Reset the rollup result cache. Recommended after backfilling data so new data is reflected in query results."}),f.jsxs("button",{onClick:W,disabled:_,className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-green-600 hover:bg-green-500 text-white text-xs font-medium transition-colors disabled:opacity-40",children:[f.jsx(wt,{size:12,className:_?"animate-spin":""}),_?"Resetting...":"Reset Rollup Result Cache"]})]}),b&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:f.jsxs("div",{className:"bg-gray-900 rounded-lg border border-gray-700 p-6 max-w-md w-full mx-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(tc,{size:20,className:"text-red-400"}),f.jsx("h3",{className:"text-sm font-semibold text-white",children:"Delete Series?"})]}),f.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"This will delete all series matching:"}),f.jsx("code",{className:"block text-xs text-red-300 font-mono bg-gray-800 p-2 rounded mb-4",children:u}),f.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"This action cannot be undone. You may need to run force merge afterward to reclaim disk space."}),f.jsxs("div",{className:"flex gap-2 justify-end",children:[f.jsx("button",{onClick:()=>N(!1),className:"px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-gray-300 text-xs",children:"Cancel"}),f.jsx("button",{onClick:R,className:"px-3 py-1.5 rounded bg-red-600 hover:bg-red-500 text-white text-xs font-medium",children:"Delete"})]})]})}),M&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:f.jsxs("div",{className:"bg-gray-900 rounded-lg border border-gray-700 p-6 max-w-md w-full mx-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(tc,{size:20,className:"text-yellow-400"}),f.jsx("h3",{className:"text-sm font-semibold text-white",children:"Trigger Force Merge?"})]}),f.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:["This will trigger a force merge on partition ",f.jsx("strong",{className:"text-white",children:A}),". This consumes additional CPU and disk IO resources."]}),f.jsxs("div",{className:"flex gap-2 justify-end",children:[f.jsx("button",{onClick:()=>E(!1),className:"px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-gray-300 text-xs",children:"Cancel"}),f.jsx("button",{onClick:U,className:"px-3 py-1.5 rounded bg-yellow-600 hover:bg-yellow-500 text-white text-xs font-medium",children:"Merge"})]})]})})]})}function $ge(){return NH?f.jsx(nle,{}):f.jsx(LH,{children:f.jsxs(f_,{children:[f.jsx(Oe,{path:"/",element:f.jsx(Fo,{to:"/influxdb/query",replace:!0})}),f.jsx(Oe,{path:"/explore",element:f.jsx(Fo,{to:"/influxdb/query",replace:!0})}),f.jsx(Oe,{path:"/admin",element:f.jsx(Fo,{to:"/influxdb/admin",replace:!0})}),f.jsx(Oe,{path:"/write",element:f.jsx(Fo,{to:"/influxdb/write",replace:!0})}),f.jsx(Oe,{path:"/health",element:f.jsx(Fo,{to:"/influxdb/health",replace:!0})}),f.jsx(Oe,{path:"/influxdb/query",element:f.jsx(Kpe,{})}),f.jsx(Oe,{path:"/influxdb/admin",element:f.jsx(uge,{})}),f.jsx(Oe,{path:"/influxdb/write",element:f.jsx(mge,{})}),f.jsx(Oe,{path:"/influxdb/health",element:f.jsx(yge,{})}),f.jsx(Oe,{path:"/prometheus/query",element:f.jsx(F3,{})}),f.jsx(Oe,{path:"/prometheus/targets",element:f.jsx(W3,{})}),f.jsx(Oe,{path:"/prometheus/alerts",element:f.jsx(K3,{})}),f.jsx(Oe,{path:"/prometheus/alertmanager",element:f.jsx(G3,{})}),f.jsx(Oe,{path:"/prometheus/tsdb",element:f.jsx(Cge,{})}),f.jsx(Oe,{path:"/prometheus/metrics",element:f.jsx(Q3,{})}),f.jsx(Oe,{path:"/prometheus/config",element:f.jsx(X3,{})}),f.jsx(Oe,{path:"/prometheus/service-discovery",element:f.jsx(Z3,{})}),f.jsx(Oe,{path:"/victoriametrics/query",element:f.jsx(F3,{})}),f.jsx(Oe,{path:"/victoriametrics/targets",element:f.jsx(W3,{})}),f.jsx(Oe,{path:"/victoriametrics/alerts",element:f.jsx(K3,{})}),f.jsx(Oe,{path:"/victoriametrics/alertmanager",element:f.jsx(G3,{})}),f.jsx(Oe,{path:"/victoriametrics/metrics",element:f.jsx(Q3,{})}),f.jsx(Oe,{path:"/victoriametrics/config",element:f.jsx(X3,{})}),f.jsx(Oe,{path:"/victoriametrics/service-discovery",element:f.jsx(Z3,{})}),f.jsx(Oe,{path:"/victoriametrics/tsdb",element:f.jsx(Ige,{})}),f.jsx(Oe,{path:"/victoriametrics/active-queries",element:f.jsx(zge,{})}),f.jsx(Oe,{path:"/victoriametrics/snapshots",element:f.jsx(Uge,{})}),f.jsx(Oe,{path:"/victoriametrics/export-import",element:f.jsx(qge,{})}),f.jsx(Oe,{path:"/victoriametrics/admin",element:f.jsx(Hge,{})})]})})}const Vge=window.location.pathname.startsWith(jn+"/playground"),Fge=Vge?jn+"/playground":jn+"/ui";rU.createRoot(document.getElementById("root")).render(f.jsx(Mg.StrictMode,{children:f.jsx(JU,{basename:Fge,children:f.jsx($ge,{})})}));
