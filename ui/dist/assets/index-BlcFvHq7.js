function f9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function zi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $v={exports:{}},Su={};var VO;function h9(){if(VO)return Su;VO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:a}}return Su.Fragment=e,Su.jsx=n,Su.jsxs=n,Su}var WO;function d9(){return WO||(WO=1,$v.exports=h9()),$v.exports}var m=d9(),qv={exports:{}},De={};var KO;function m9(){if(KO)return De;KO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function v(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,j={};function N(R,W,fe){this.props=R,this.context=W,this.refs=j,this.updater=fe||b}N.prototype.isReactComponent={},N.prototype.setState=function(R,W){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,W,"setState")},N.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function A(){}A.prototype=N.prototype;function k(R,W,fe){this.props=R,this.context=W,this.refs=j,this.updater=fe||b}var T=k.prototype=new A;T.constructor=k,C(T,N.prototype),T.isPureReactComponent=!0;var D=Array.isArray;function M(){}var E={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function L(R,W,fe){var Z=fe.ref;return{$$typeof:t,type:R,key:W,ref:Z!==void 0?Z:null,props:fe}}function I(R,W){return L(R.type,W,R.props)}function B(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function z(R){var W={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(fe){return W[fe]})}var $=/\/+/g;function ee(R,W){return typeof R=="object"&&R!==null&&R.key!=null?z(""+R.key):W.toString(36)}function F(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(M,M):(R.status="pending",R.then(function(W){R.status==="pending"&&(R.status="fulfilled",R.value=W)},function(W){R.status==="pending"&&(R.status="rejected",R.reason=W)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function H(R,W,fe,Z,de){var G=typeof R;(G==="undefined"||G==="boolean")&&(R=null);var me=!1;if(R===null)me=!0;else switch(G){case"bigint":case"string":case"number":me=!0;break;case"object":switch(R.$$typeof){case t:case e:me=!0;break;case d:return me=R._init,H(me(R._payload),W,fe,Z,de)}}if(me)return de=de(R),me=Z===""?"."+ee(R,0):Z,D(de)?(fe="",me!=null&&(fe=me.replace($,"$&/")+"/"),H(de,W,fe,"",function(je){return je})):de!=null&&(B(de)&&(de=I(de,fe+(de.key==null||R&&R.key===de.key?"":(""+de.key).replace($,"$&/")+"/")+me)),W.push(de)),1;me=0;var Me=Z===""?".":Z+":";if(D(R))for(var re=0;re<R.length;re++)Z=R[re],G=Me+ee(Z,re),me+=H(Z,W,fe,G,de);else if(re=v(R),typeof re=="function")for(R=re.call(R),re=0;!(Z=R.next()).done;)Z=Z.value,G=Me+ee(Z,re++),me+=H(Z,W,fe,G,de);else if(G==="object"){if(typeof R.then=="function")return H(F(R),W,fe,Z,de);throw W=String(R),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return me}function V(R,W,fe){if(R==null)return R;var Z=[],de=0;return H(R,Z,"","",function(G){return W.call(fe,G,de++)}),Z}function Q(R){if(R._status===-1){var W=R._result;W=W(),W.then(function(fe){(R._status===0||R._status===-1)&&(R._status=1,R._result=fe)},function(fe){(R._status===0||R._status===-1)&&(R._status=2,R._result=fe)}),R._status===-1&&(R._status=0,R._result=W)}if(R._status===1)return R._result.default;throw R._result}var se=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},he={map:V,forEach:function(R,W,fe){V(R,function(){W.apply(this,arguments)},fe)},count:function(R){var W=0;return V(R,function(){W++}),W},toArray:function(R){return V(R,function(W){return W})||[]},only:function(R){if(!B(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return De.Activity=p,De.Children=he,De.Component=N,De.Fragment=n,De.Profiler=i,De.PureComponent=k,De.StrictMode=r,De.Suspense=u,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,De.__COMPILER_RUNTIME={__proto__:null,c:function(R){return E.H.useMemoCache(R)}},De.cache=function(R){return function(){return R.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(R,W,fe){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var Z=C({},R.props),de=R.key;if(W!=null)for(G in W.key!==void 0&&(de=""+W.key),W)!_.call(W,G)||G==="key"||G==="__self"||G==="__source"||G==="ref"&&W.ref===void 0||(Z[G]=W[G]);var G=arguments.length-2;if(G===1)Z.children=fe;else if(1<G){for(var me=Array(G),Me=0;Me<G;Me++)me[Me]=arguments[Me+2];Z.children=me}return L(R.type,de,Z)},De.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:a,_context:R},R},De.createElement=function(R,W,fe){var Z,de={},G=null;if(W!=null)for(Z in W.key!==void 0&&(G=""+W.key),W)_.call(W,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(de[Z]=W[Z]);var me=arguments.length-2;if(me===1)de.children=fe;else if(1<me){for(var Me=Array(me),re=0;re<me;re++)Me[re]=arguments[re+2];de.children=Me}if(R&&R.defaultProps)for(Z in me=R.defaultProps,me)de[Z]===void 0&&(de[Z]=me[Z]);return L(R,G,de)},De.createRef=function(){return{current:null}},De.forwardRef=function(R){return{$$typeof:o,render:R}},De.isValidElement=B,De.lazy=function(R){return{$$typeof:d,_payload:{_status:-1,_result:R},_init:Q}},De.memo=function(R,W){return{$$typeof:h,type:R,compare:W===void 0?null:W}},De.startTransition=function(R){var W=E.T,fe={};E.T=fe;try{var Z=R(),de=E.S;de!==null&&de(fe,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(M,se)}catch(G){se(G)}finally{W!==null&&fe.types!==null&&(W.types=fe.types),E.T=W}},De.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},De.use=function(R){return E.H.use(R)},De.useActionState=function(R,W,fe){return E.H.useActionState(R,W,fe)},De.useCallback=function(R,W){return E.H.useCallback(R,W)},De.useContext=function(R){return E.H.useContext(R)},De.useDebugValue=function(){},De.useDeferredValue=function(R,W){return E.H.useDeferredValue(R,W)},De.useEffect=function(R,W){return E.H.useEffect(R,W)},De.useEffectEvent=function(R){return E.H.useEffectEvent(R)},De.useId=function(){return E.H.useId()},De.useImperativeHandle=function(R,W,fe){return E.H.useImperativeHandle(R,W,fe)},De.useInsertionEffect=function(R,W){return E.H.useInsertionEffect(R,W)},De.useLayoutEffect=function(R,W){return E.H.useLayoutEffect(R,W)},De.useMemo=function(R,W){return E.H.useMemo(R,W)},De.useOptimistic=function(R,W){return E.H.useOptimistic(R,W)},De.useReducer=function(R,W,fe){return E.H.useReducer(R,W,fe)},De.useRef=function(R){return E.H.useRef(R)},De.useState=function(R){return E.H.useState(R)},De.useSyncExternalStore=function(R,W,fe){return E.H.useSyncExternalStore(R,W,fe)},De.useTransition=function(){return E.H.useTransition()},De.version="19.2.4",De}var GO;function cc(){return GO||(GO=1,qv.exports=m9()),qv.exports}var w=cc();const yS=zi(w),w3=f9({__proto__:null,default:yS},[w]);var Fv={exports:{}},ju={},Vv={exports:{}},Wv={};var YO;function p9(){return YO||(YO=1,(function(t){function e(H,V){var Q=H.length;H.push(V);e:for(;0<Q;){var se=Q-1>>>1,he=H[se];if(0<i(he,V))H[se]=V,H[Q]=he,Q=se;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var V=H[0],Q=H.pop();if(Q!==V){H[0]=Q;e:for(var se=0,he=H.length,R=he>>>1;se<R;){var W=2*(se+1)-1,fe=H[W],Z=W+1,de=H[Z];if(0>i(fe,Q))Z<he&&0>i(de,fe)?(H[se]=de,H[Z]=Q,se=Z):(H[se]=fe,H[W]=Q,se=W);else if(Z<he&&0>i(de,Q))H[se]=de,H[Z]=Q,se=Z;else break e}}return V}function i(H,V){var Q=H.sortIndex-V.sortIndex;return Q!==0?Q:H.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var u=[],h=[],d=1,p=null,y=3,v=!1,b=!1,C=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function T(H){for(var V=n(h);V!==null;){if(V.callback===null)r(h);else if(V.startTime<=H)r(h),V.sortIndex=V.expirationTime,e(u,V);else break;V=n(h)}}function D(H){if(C=!1,T(H),!b)if(n(u)!==null)b=!0,M||(M=!0,z());else{var V=n(h);V!==null&&F(D,V.startTime-H)}}var M=!1,E=-1,_=5,L=-1;function I(){return j?!0:!(t.unstable_now()-L<_)}function B(){if(j=!1,M){var H=t.unstable_now();L=H;var V=!0;try{e:{b=!1,C&&(C=!1,A(E),E=-1),v=!0;var Q=y;try{t:{for(T(H),p=n(u);p!==null&&!(p.expirationTime>H&&I());){var se=p.callback;if(typeof se=="function"){p.callback=null,y=p.priorityLevel;var he=se(p.expirationTime<=H);if(H=t.unstable_now(),typeof he=="function"){p.callback=he,T(H),V=!0;break t}p===n(u)&&r(u),T(H)}else r(u);p=n(u)}if(p!==null)V=!0;else{var R=n(h);R!==null&&F(D,R.startTime-H),V=!1}}break e}finally{p=null,y=Q,v=!1}V=void 0}}finally{V?z():M=!1}}}var z;if(typeof k=="function")z=function(){k(B)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ee=$.port2;$.port1.onmessage=B,z=function(){ee.postMessage(null)}}else z=function(){N(B,0)};function F(H,V){E=N(function(){H(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(H){switch(y){case 1:case 2:case 3:var V=3;break;default:V=y}var Q=y;y=V;try{return H()}finally{y=Q}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(H,V){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Q=y;y=H;try{return V()}finally{y=Q}},t.unstable_scheduleCallback=function(H,V,Q){var se=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?se+Q:se):Q=se,H){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=Q+he,H={id:d++,callback:V,priorityLevel:H,startTime:Q,expirationTime:he,sortIndex:-1},Q>se?(H.sortIndex=Q,e(h,H),n(u)===null&&H===n(h)&&(C?(A(E),E=-1):C=!0,F(D,Q-se))):(H.sortIndex=he,e(u,H),b||v||(b=!0,M||(M=!0,z()))),H},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(H){var V=y;return function(){var Q=y;y=V;try{return H.apply(this,arguments)}finally{y=Q}}}})(Wv)),Wv}var QO;function g9(){return QO||(QO=1,Vv.exports=p9()),Vv.exports}var Kv={exports:{}},Sn={};var XO;function y9(){if(XO)return Sn;XO=1;var t=cc();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)h+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,h,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:h,implementation:d}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Sn.createPortal=function(u,h){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(u,h,null,d)},Sn.flushSync=function(u){var h=l.T,d=r.p;try{if(l.T=null,r.p=2,u)return u()}finally{l.T=h,r.p=d,r.d.f()}},Sn.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(u,h))},Sn.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Sn.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var d=h.as,p=o(d,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;d==="style"?r.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:v}):d==="script"&&r.d.X(u,{crossOrigin:p,integrity:y,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Sn.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var d=o(h.as,h.crossOrigin);r.d.M(u,{crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(u)},Sn.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var d=h.as,p=o(d,h.crossOrigin);r.d.L(u,d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Sn.preloadModule=function(u,h){if(typeof u=="string")if(h){var d=o(h.as,h.crossOrigin);r.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(u)},Sn.requestFormReset=function(u){r.d.r(u)},Sn.unstable_batchedUpdates=function(u,h){return u(h)},Sn.useFormState=function(u,h,d){return l.H.useFormState(u,h,d)},Sn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Sn.version="19.2.4",Sn}var ZO;function S3(){if(ZO)return Kv.exports;ZO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Kv.exports=y9(),Kv.exports}var JO;function v9(){if(JO)return ju;JO=1;var t=g9(),e=cc(),n=S3();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,f=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(f=c.return),s=c.return;while(s)}return c.tag===3?f:null}function l(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function o(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function h(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(r(188));return c!==s?null:s}for(var f=s,g=c;;){var x=f.return;if(x===null)break;var S=x.alternate;if(S===null){if(g=x.return,g!==null){f=g;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===f)return u(x),s;if(S===g)return u(x),c;S=S.sibling}throw Error(r(188))}if(f.return!==g.return)f=x,g=S;else{for(var O=!1,P=x.child;P;){if(P===f){O=!0,f=x,g=S;break}if(P===g){O=!0,g=x,f=S;break}P=P.sibling}if(!O){for(P=S.child;P;){if(P===f){O=!0,f=S,g=x;break}if(P===g){O=!0,g=S,f=x;break}P=P.sibling}if(!O)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?s:c}function d(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=d(s),c!==null)return c;s=s.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),k=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var $=Symbol.for("react.client.reference");function ee(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===$?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case N:return"Profiler";case j:return"StrictMode";case D:return"Suspense";case M:return"SuspenseList";case L:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case k:return s.displayName||"Context";case A:return(s._context.displayName||"Context")+".Consumer";case T:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case E:return c=s.displayName||null,c!==null?c:ee(s.type)||"Memo";case _:c=s._payload,s=s._init;try{return ee(s(c))}catch{}}return null}var F=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},se=[],he=-1;function R(s){return{current:s}}function W(s){0>he||(s.current=se[he],se[he]=null,he--)}function fe(s,c){he++,se[he]=s.current,s.current=c}var Z=R(null),de=R(null),G=R(null),me=R(null);function Me(s,c){switch(fe(G,c),fe(de,s),fe(Z,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?mO(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=mO(c),s=pO(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}W(Z),fe(Z,s)}function re(){W(Z),W(de),W(G)}function je(s){s.memoizedState!==null&&fe(me,s);var c=Z.current,f=pO(c,s.type);c!==f&&(fe(de,s),fe(Z,f))}function Ee(s){de.current===s&&(W(Z),W(de)),me.current===s&&(W(me),vu._currentValue=Q)}var ue,St;function Fe(s){if(ue===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);ue=c&&c[1]||"",St=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+s+St}var an=!1;function sn(s,c){if(!s||an)return"";an=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ne){var J=ne}Reflect.construct(s,[],oe)}else{try{oe.call()}catch(ne){J=ne}s.call(oe.prototype)}}else{try{throw Error()}catch(ne){J=ne}(oe=s())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ne){if(ne&&J&&typeof ne.stack=="string")return[ne.stack,J.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=g.DetermineComponentFrameRoot(),O=S[0],P=S[1];if(O&&P){var U=O.split(`
`),X=P.split(`
`);for(x=g=0;g<U.length&&!U[g].includes("DetermineComponentFrameRoot");)g++;for(;x<X.length&&!X[x].includes("DetermineComponentFrameRoot");)x++;if(g===U.length||x===X.length)for(g=U.length-1,x=X.length-1;1<=g&&0<=x&&U[g]!==X[x];)x--;for(;1<=g&&0<=x;g--,x--)if(U[g]!==X[x]){if(g!==1||x!==1)do if(g--,x--,0>x||U[g]!==X[x]){var ae=`
`+U[g].replace(" at new "," at ");return s.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",s.displayName)),ae}while(1<=g&&0<=x);break}}}finally{an=!1,Error.prepareStackTrace=f}return(f=s?s.displayName||s.name:"")?Fe(f):""}function $i(s,c){switch(s.tag){case 26:case 27:case 5:return Fe(s.type);case 16:return Fe("Lazy");case 13:return s.child!==c&&c!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return sn(s.type,!1);case 11:return sn(s.type.render,!1);case 1:return sn(s.type,!0);case 31:return Fe("Activity");default:return""}}function Ec(s){try{var c="",f=null;do c+=$i(s,f),f=s,s=s.return;while(s);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var O0=Object.prototype.hasOwnProperty,A0=t.unstable_scheduleCallback,E0=t.unstable_cancelCallback,qz=t.unstable_shouldYield,Fz=t.unstable_requestPaint,tr=t.unstable_now,Vz=t.unstable_getCurrentPriorityLevel,Wj=t.unstable_ImmediatePriority,Kj=t.unstable_UserBlockingPriority,Sh=t.unstable_NormalPriority,Wz=t.unstable_LowPriority,Gj=t.unstable_IdlePriority,Kz=t.log,Gz=t.unstable_setDisableYieldValue,Tc=null,nr=null;function Ra(s){if(typeof Kz=="function"&&Gz(s),nr&&typeof nr.setStrictMode=="function")try{nr.setStrictMode(Tc,s)}catch{}}var rr=Math.clz32?Math.clz32:Xz,Yz=Math.log,Qz=Math.LN2;function Xz(s){return s>>>=0,s===0?32:31-(Yz(s)/Qz|0)|0}var jh=256,Ch=262144,Nh=4194304;function Bs(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function kh(s,c,f){var g=s.pendingLanes;if(g===0)return 0;var x=0,S=s.suspendedLanes,O=s.pingedLanes;s=s.warmLanes;var P=g&134217727;return P!==0?(g=P&~S,g!==0?x=Bs(g):(O&=P,O!==0?x=Bs(O):f||(f=P&~s,f!==0&&(x=Bs(f))))):(P=g&~S,P!==0?x=Bs(P):O!==0?x=Bs(O):f||(f=g&~s,f!==0&&(x=Bs(f)))),x===0?0:c!==0&&c!==x&&(c&S)===0&&(S=x&-x,f=c&-c,S>=f||S===32&&(f&4194048)!==0)?c:x}function Mc(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function Zz(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yj(){var s=Nh;return Nh<<=1,(Nh&62914560)===0&&(Nh=4194304),s}function T0(s){for(var c=[],f=0;31>f;f++)c.push(s);return c}function Dc(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Jz(s,c,f,g,x,S){var O=s.pendingLanes;s.pendingLanes=f,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=f,s.entangledLanes&=f,s.errorRecoveryDisabledLanes&=f,s.shellSuspendCounter=0;var P=s.entanglements,U=s.expirationTimes,X=s.hiddenUpdates;for(f=O&~f;0<f;){var ae=31-rr(f),oe=1<<ae;P[ae]=0,U[ae]=-1;var J=X[ae];if(J!==null)for(X[ae]=null,ae=0;ae<J.length;ae++){var ne=J[ae];ne!==null&&(ne.lane&=-536870913)}f&=~oe}g!==0&&Qj(s,g,0),S!==0&&x===0&&s.tag!==0&&(s.suspendedLanes|=S&~(O&~c))}function Qj(s,c,f){s.pendingLanes|=c,s.suspendedLanes&=~c;var g=31-rr(c);s.entangledLanes|=c,s.entanglements[g]=s.entanglements[g]|1073741824|f&261930}function Xj(s,c){var f=s.entangledLanes|=c;for(s=s.entanglements;f;){var g=31-rr(f),x=1<<g;x&c|s[g]&c&&(s[g]|=c),f&=~x}}function Zj(s,c){var f=c&-c;return f=(f&42)!==0?1:M0(f),(f&(s.suspendedLanes|c))!==0?0:f}function M0(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function D0(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Jj(){var s=V.p;return s!==0?s:(s=window.event,s===void 0?32:zO(s.type))}function eC(s,c){var f=V.p;try{return V.p=s,c()}finally{V.p=f}}var La=Math.random().toString(36).slice(2),ln="__reactFiber$"+La,Bn="__reactProps$"+La,Hl="__reactContainer$"+La,P0="__reactEvents$"+La,eI="__reactListeners$"+La,tI="__reactHandles$"+La,tC="__reactResources$"+La,Pc="__reactMarker$"+La;function _0(s){delete s[ln],delete s[Bn],delete s[P0],delete s[eI],delete s[tI]}function $l(s){var c=s[ln];if(c)return c;for(var f=s.parentNode;f;){if(c=f[Hl]||f[ln]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(s=SO(s);s!==null;){if(f=s[ln])return f;s=SO(s)}return c}s=f,f=s.parentNode}return null}function ql(s){if(s=s[ln]||s[Hl]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function _c(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function Fl(s){var c=s[tC];return c||(c=s[tC]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Kt(s){s[Pc]=!0}var nC=new Set,rC={};function zs(s,c){Vl(s,c),Vl(s+"Capture",c)}function Vl(s,c){for(rC[s]=c,s=0;s<c.length;s++)nC.add(c[s])}var nI=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),iC={},aC={};function rI(s){return O0.call(aC,s)?!0:O0.call(iC,s)?!1:nI.test(s)?aC[s]=!0:(iC[s]=!0,!1)}function Oh(s,c,f){if(rI(c))if(f===null)s.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+f)}}function Ah(s,c,f){if(f===null)s.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+f)}}function qi(s,c,f,g){if(g===null)s.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(f);return}s.setAttributeNS(c,f,""+g)}}function Sr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function sC(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function iI(s,c,f){var g=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var x=g.get,S=g.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return x.call(this)},set:function(O){f=""+O,S.call(this,O)}}),Object.defineProperty(s,c,{enumerable:g.enumerable}),{getValue:function(){return f},setValue:function(O){f=""+O},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function R0(s){if(!s._valueTracker){var c=sC(s)?"checked":"value";s._valueTracker=iI(s,c,""+s[c])}}function lC(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var f=c.getValue(),g="";return s&&(g=sC(s)?s.checked?"true":"false":s.value),s=g,s!==f?(c.setValue(s),!0):!1}function Eh(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var aI=/[\n"\\]/g;function jr(s){return s.replace(aI,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function L0(s,c,f,g,x,S,O,P){s.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?s.type=O:s.removeAttribute("type"),c!=null?O==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+Sr(c)):s.value!==""+Sr(c)&&(s.value=""+Sr(c)):O!=="submit"&&O!=="reset"||s.removeAttribute("value"),c!=null?B0(s,O,Sr(c)):f!=null?B0(s,O,Sr(f)):g!=null&&s.removeAttribute("value"),x==null&&S!=null&&(s.defaultChecked=!!S),x!=null&&(s.checked=x&&typeof x!="function"&&typeof x!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?s.name=""+Sr(P):s.removeAttribute("name")}function oC(s,c,f,g,x,S,O,P){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.type=S),c!=null||f!=null){if(!(S!=="submit"&&S!=="reset"||c!=null)){R0(s);return}f=f!=null?""+Sr(f):"",c=c!=null?""+Sr(c):f,P||c===s.value||(s.value=c),s.defaultValue=c}g=g??x,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=P?s.checked:!!g,s.defaultChecked=!!g,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(s.name=O),R0(s)}function B0(s,c,f){c==="number"&&Eh(s.ownerDocument)===s||s.defaultValue===""+f||(s.defaultValue=""+f)}function Wl(s,c,f,g){if(s=s.options,c){c={};for(var x=0;x<f.length;x++)c["$"+f[x]]=!0;for(f=0;f<s.length;f++)x=c.hasOwnProperty("$"+s[f].value),s[f].selected!==x&&(s[f].selected=x),x&&g&&(s[f].defaultSelected=!0)}else{for(f=""+Sr(f),c=null,x=0;x<s.length;x++){if(s[x].value===f){s[x].selected=!0,g&&(s[x].defaultSelected=!0);return}c!==null||s[x].disabled||(c=s[x])}c!==null&&(c.selected=!0)}}function cC(s,c,f){if(c!=null&&(c=""+Sr(c),c!==s.value&&(s.value=c),f==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=f!=null?""+Sr(f):""}function uC(s,c,f,g){if(c==null){if(g!=null){if(f!=null)throw Error(r(92));if(F(g)){if(1<g.length)throw Error(r(93));g=g[0]}f=g}f==null&&(f=""),c=f}f=Sr(c),s.defaultValue=f,g=s.textContent,g===f&&g!==""&&g!==null&&(s.value=g),R0(s)}function Kl(s,c){if(c){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=c;return}}s.textContent=c}var sI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fC(s,c,f){var g=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?g?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":g?s.setProperty(c,f):typeof f!="number"||f===0||sI.has(c)?c==="float"?s.cssFloat=f:s[c]=(""+f).trim():s[c]=f+"px"}function hC(s,c,f){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,f!=null){for(var g in f)!f.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var x in c)g=c[x],c.hasOwnProperty(x)&&f[x]!==g&&fC(s,x,g)}else for(var S in c)c.hasOwnProperty(S)&&fC(s,S,c[S])}function z0(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Th(s){return oI.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Fi(){}var I0=null;function U0(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Gl=null,Yl=null;function dC(s){var c=ql(s);if(c&&(s=c.stateNode)){var f=s[Bn]||null;e:switch(s=c.stateNode,c.type){case"input":if(L0(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+jr(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var g=f[c];if(g!==s&&g.form===s.form){var x=g[Bn]||null;if(!x)throw Error(r(90));L0(g,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(c=0;c<f.length;c++)g=f[c],g.form===s.form&&lC(g)}break e;case"textarea":cC(s,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&Wl(s,!!f.multiple,c,!1)}}}var H0=!1;function mC(s,c,f){if(H0)return s(c,f);H0=!0;try{var g=s(c);return g}finally{if(H0=!1,(Gl!==null||Yl!==null)&&(yd(),Gl&&(c=Gl,s=Yl,Yl=Gl=null,dC(c),s)))for(c=0;c<s.length;c++)dC(s[c])}}function Rc(s,c){var f=s.stateNode;if(f===null)return null;var g=f[Bn]||null;if(g===null)return null;f=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(r(231,c,typeof f));return f}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$0=!1;if(Vi)try{var Lc={};Object.defineProperty(Lc,"passive",{get:function(){$0=!0}}),window.addEventListener("test",Lc,Lc),window.removeEventListener("test",Lc,Lc)}catch{$0=!1}var Ba=null,q0=null,Mh=null;function pC(){if(Mh)return Mh;var s,c=q0,f=c.length,g,x="value"in Ba?Ba.value:Ba.textContent,S=x.length;for(s=0;s<f&&c[s]===x[s];s++);var O=f-s;for(g=1;g<=O&&c[f-g]===x[S-g];g++);return Mh=x.slice(s,1<g?1-g:void 0)}function Dh(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function Ph(){return!0}function gC(){return!1}function zn(s){function c(f,g,x,S,O){this._reactName=f,this._targetInst=x,this.type=g,this.nativeEvent=S,this.target=O,this.currentTarget=null;for(var P in s)s.hasOwnProperty(P)&&(f=s[P],this[P]=f?f(S):S[P]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Ph:gC,this.isPropagationStopped=gC,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ph)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ph)},persist:function(){},isPersistent:Ph}),c}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_h=zn(Is),Bc=p({},Is,{view:0,detail:0}),cI=zn(Bc),F0,V0,zc,Rh=p({},Bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:K0,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==zc&&(zc&&s.type==="mousemove"?(F0=s.screenX-zc.screenX,V0=s.screenY-zc.screenY):V0=F0=0,zc=s),F0)},movementY:function(s){return"movementY"in s?s.movementY:V0}}),yC=zn(Rh),uI=p({},Rh,{dataTransfer:0}),fI=zn(uI),hI=p({},Bc,{relatedTarget:0}),W0=zn(hI),dI=p({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),mI=zn(dI),pI=p({},Is,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),gI=zn(pI),yI=p({},Is,{data:0}),vC=zn(yI),vI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wI(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=bI[s])?!!c[s]:!1}function K0(){return wI}var SI=p({},Bc,{key:function(s){if(s.key){var c=vI[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Dh(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?xI[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:K0,charCode:function(s){return s.type==="keypress"?Dh(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Dh(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),jI=zn(SI),CI=p({},Rh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xC=zn(CI),NI=p({},Bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:K0}),kI=zn(NI),OI=p({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),AI=zn(OI),EI=p({},Rh,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),TI=zn(EI),MI=p({},Is,{newState:0,oldState:0}),DI=zn(MI),PI=[9,13,27,32],G0=Vi&&"CompositionEvent"in window,Ic=null;Vi&&"documentMode"in document&&(Ic=document.documentMode);var _I=Vi&&"TextEvent"in window&&!Ic,bC=Vi&&(!G0||Ic&&8<Ic&&11>=Ic),wC=" ",SC=!1;function jC(s,c){switch(s){case"keyup":return PI.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CC(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ql=!1;function RI(s,c){switch(s){case"compositionend":return CC(c);case"keypress":return c.which!==32?null:(SC=!0,wC);case"textInput":return s=c.data,s===wC&&SC?null:s;default:return null}}function LI(s,c){if(Ql)return s==="compositionend"||!G0&&jC(s,c)?(s=pC(),Mh=q0=Ba=null,Ql=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return bC&&c.locale!=="ko"?null:c.data;default:return null}}var BI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NC(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!BI[s.type]:c==="textarea"}function kC(s,c,f,g){Gl?Yl?Yl.push(g):Yl=[g]:Gl=g,c=Cd(c,"onChange"),0<c.length&&(f=new _h("onChange","change",null,f,g),s.push({event:f,listeners:c}))}var Uc=null,Hc=null;function zI(s){oO(s,0)}function Lh(s){var c=_c(s);if(lC(c))return s}function OC(s,c){if(s==="change")return c}var AC=!1;if(Vi){var Y0;if(Vi){var Q0="oninput"in document;if(!Q0){var EC=document.createElement("div");EC.setAttribute("oninput","return;"),Q0=typeof EC.oninput=="function"}Y0=Q0}else Y0=!1;AC=Y0&&(!document.documentMode||9<document.documentMode)}function TC(){Uc&&(Uc.detachEvent("onpropertychange",MC),Hc=Uc=null)}function MC(s){if(s.propertyName==="value"&&Lh(Hc)){var c=[];kC(c,Hc,s,U0(s)),mC(zI,c)}}function II(s,c,f){s==="focusin"?(TC(),Uc=c,Hc=f,Uc.attachEvent("onpropertychange",MC)):s==="focusout"&&TC()}function UI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Lh(Hc)}function HI(s,c){if(s==="click")return Lh(c)}function $I(s,c){if(s==="input"||s==="change")return Lh(c)}function qI(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var ir=typeof Object.is=="function"?Object.is:qI;function $c(s,c){if(ir(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var f=Object.keys(s),g=Object.keys(c);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var x=f[g];if(!O0.call(c,x)||!ir(s[x],c[x]))return!1}return!0}function DC(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function PC(s,c){var f=DC(s);s=0;for(var g;f;){if(f.nodeType===3){if(g=s+f.textContent.length,s<=c&&g>=c)return{node:f,offset:c-s};s=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=DC(f)}}function _C(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?_C(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function RC(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=Eh(s.document);c instanceof s.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)s=c.contentWindow;else break;c=Eh(s.document)}return c}function X0(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var FI=Vi&&"documentMode"in document&&11>=document.documentMode,Xl=null,Z0=null,qc=null,J0=!1;function LC(s,c,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;J0||Xl==null||Xl!==Eh(g)||(g=Xl,"selectionStart"in g&&X0(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),qc&&$c(qc,g)||(qc=g,g=Cd(Z0,"onSelect"),0<g.length&&(c=new _h("onSelect","select",null,c,f),s.push({event:c,listeners:g}),c.target=Xl)))}function Us(s,c){var f={};return f[s.toLowerCase()]=c.toLowerCase(),f["Webkit"+s]="webkit"+c,f["Moz"+s]="moz"+c,f}var Zl={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},ey={},BC={};Vi&&(BC=document.createElement("div").style,"AnimationEvent"in window||(delete Zl.animationend.animation,delete Zl.animationiteration.animation,delete Zl.animationstart.animation),"TransitionEvent"in window||delete Zl.transitionend.transition);function Hs(s){if(ey[s])return ey[s];if(!Zl[s])return s;var c=Zl[s],f;for(f in c)if(c.hasOwnProperty(f)&&f in BC)return ey[s]=c[f];return s}var zC=Hs("animationend"),IC=Hs("animationiteration"),UC=Hs("animationstart"),VI=Hs("transitionrun"),WI=Hs("transitionstart"),KI=Hs("transitioncancel"),HC=Hs("transitionend"),$C=new Map,ty="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ty.push("scrollEnd");function Yr(s,c){$C.set(s,c),zs(c,[s])}var Bh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Cr=[],Jl=0,ny=0;function zh(){for(var s=Jl,c=ny=Jl=0;c<s;){var f=Cr[c];Cr[c++]=null;var g=Cr[c];Cr[c++]=null;var x=Cr[c];Cr[c++]=null;var S=Cr[c];if(Cr[c++]=null,g!==null&&x!==null){var O=g.pending;O===null?x.next=x:(x.next=O.next,O.next=x),g.pending=x}S!==0&&qC(f,x,S)}}function Ih(s,c,f,g){Cr[Jl++]=s,Cr[Jl++]=c,Cr[Jl++]=f,Cr[Jl++]=g,ny|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function ry(s,c,f,g){return Ih(s,c,f,g),Uh(s)}function $s(s,c){return Ih(s,null,null,c),Uh(s)}function qC(s,c,f){s.lanes|=f;var g=s.alternate;g!==null&&(g.lanes|=f);for(var x=!1,S=s.return;S!==null;)S.childLanes|=f,g=S.alternate,g!==null&&(g.childLanes|=f),S.tag===22&&(s=S.stateNode,s===null||s._visibility&1||(x=!0)),s=S,S=S.return;return s.tag===3?(S=s.stateNode,x&&c!==null&&(x=31-rr(f),s=S.hiddenUpdates,g=s[x],g===null?s[x]=[c]:g.push(c),c.lane=f|536870912),S):null}function Uh(s){if(50<fu)throw fu=0,hv=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var eo={};function GI(s,c,f,g){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(s,c,f,g){return new GI(s,c,f,g)}function iy(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Wi(s,c){var f=s.alternate;return f===null?(f=ar(s.tag,c,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=c,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&65011712,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,c=s.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f.refCleanup=s.refCleanup,f}function FC(s,c){s.flags&=65011714;var f=s.alternate;return f===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=f.childLanes,s.lanes=f.lanes,s.child=f.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=f.memoizedProps,s.memoizedState=f.memoizedState,s.updateQueue=f.updateQueue,s.type=f.type,c=f.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function Hh(s,c,f,g,x,S){var O=0;if(g=s,typeof s=="function")iy(s)&&(O=1);else if(typeof s=="string")O=J7(s,f,Z.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case L:return s=ar(31,f,c,x),s.elementType=L,s.lanes=S,s;case C:return qs(f.children,x,S,c);case j:O=8,x|=24;break;case N:return s=ar(12,f,c,x|2),s.elementType=N,s.lanes=S,s;case D:return s=ar(13,f,c,x),s.elementType=D,s.lanes=S,s;case M:return s=ar(19,f,c,x),s.elementType=M,s.lanes=S,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case k:O=10;break e;case A:O=9;break e;case T:O=11;break e;case E:O=14;break e;case _:O=16,g=null;break e}O=29,f=Error(r(130,s===null?"null":typeof s,"")),g=null}return c=ar(O,f,c,x),c.elementType=s,c.type=g,c.lanes=S,c}function qs(s,c,f,g){return s=ar(7,s,g,c),s.lanes=f,s}function ay(s,c,f){return s=ar(6,s,null,c),s.lanes=f,s}function VC(s){var c=ar(18,null,null,0);return c.stateNode=s,c}function sy(s,c,f){return c=ar(4,s.children!==null?s.children:[],s.key,c),c.lanes=f,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var WC=new WeakMap;function Nr(s,c){if(typeof s=="object"&&s!==null){var f=WC.get(s);return f!==void 0?f:(c={value:s,source:c,stack:Ec(c)},WC.set(s,c),c)}return{value:s,source:c,stack:Ec(c)}}var to=[],no=0,$h=null,Fc=0,kr=[],Or=0,za=null,fi=1,hi="";function Ki(s,c){to[no++]=Fc,to[no++]=$h,$h=s,Fc=c}function KC(s,c,f){kr[Or++]=fi,kr[Or++]=hi,kr[Or++]=za,za=s;var g=fi;s=hi;var x=32-rr(g)-1;g&=~(1<<x),f+=1;var S=32-rr(c)+x;if(30<S){var O=x-x%5;S=(g&(1<<O)-1).toString(32),g>>=O,x-=O,fi=1<<32-rr(c)+x|f<<x|g,hi=S+s}else fi=1<<S|f<<x|g,hi=s}function ly(s){s.return!==null&&(Ki(s,1),KC(s,1,0))}function oy(s){for(;s===$h;)$h=to[--no],to[no]=null,Fc=to[--no],to[no]=null;for(;s===za;)za=kr[--Or],kr[Or]=null,hi=kr[--Or],kr[Or]=null,fi=kr[--Or],kr[Or]=null}function GC(s,c){kr[Or++]=fi,kr[Or++]=hi,kr[Or++]=za,fi=c.id,hi=c.overflow,za=s}var on=null,ht=null,$e=!1,Ia=null,Ar=!1,cy=Error(r(519));function Ua(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vc(Nr(c,s)),cy}function YC(s){var c=s.stateNode,f=s.type,g=s.memoizedProps;switch(c[ln]=s,c[Bn]=g,f){case"dialog":ze("cancel",c),ze("close",c);break;case"iframe":case"object":case"embed":ze("load",c);break;case"video":case"audio":for(f=0;f<du.length;f++)ze(du[f],c);break;case"source":ze("error",c);break;case"img":case"image":case"link":ze("error",c),ze("load",c);break;case"details":ze("toggle",c);break;case"input":ze("invalid",c),oC(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":ze("invalid",c);break;case"textarea":ze("invalid",c),uC(c,g.value,g.defaultValue,g.children)}f=g.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||g.suppressHydrationWarning===!0||hO(c.textContent,f)?(g.popover!=null&&(ze("beforetoggle",c),ze("toggle",c)),g.onScroll!=null&&ze("scroll",c),g.onScrollEnd!=null&&ze("scrollend",c),g.onClick!=null&&(c.onclick=Fi),c=!0):c=!1,c||Ua(s,!0)}function QC(s){for(on=s.return;on;)switch(on.tag){case 5:case 31:case 13:Ar=!1;return;case 27:case 3:Ar=!0;return;default:on=on.return}}function ro(s){if(s!==on)return!1;if(!$e)return QC(s),$e=!0,!1;var c=s.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=s.type,f=!(f!=="form"&&f!=="button")||Ov(s.type,s.memoizedProps)),f=!f),f&&ht&&Ua(s),QC(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));ht=wO(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));ht=wO(s)}else c===27?(c=ht,es(s.type)?(s=Dv,Dv=null,ht=s):ht=c):ht=on?Tr(s.stateNode.nextSibling):null;return!0}function Fs(){ht=on=null,$e=!1}function uy(){var s=Ia;return s!==null&&($n===null?$n=s:$n.push.apply($n,s),Ia=null),s}function Vc(s){Ia===null?Ia=[s]:Ia.push(s)}var fy=R(null),Vs=null,Gi=null;function Ha(s,c,f){fe(fy,c._currentValue),c._currentValue=f}function Yi(s){s._currentValue=fy.current,W(fy)}function hy(s,c,f){for(;s!==null;){var g=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),s===f)break;s=s.return}}function dy(s,c,f,g){var x=s.child;for(x!==null&&(x.return=s);x!==null;){var S=x.dependencies;if(S!==null){var O=x.child;S=S.firstContext;e:for(;S!==null;){var P=S;S=x;for(var U=0;U<c.length;U++)if(P.context===c[U]){S.lanes|=f,P=S.alternate,P!==null&&(P.lanes|=f),hy(S.return,f,s),g||(O=null);break e}S=P.next}}else if(x.tag===18){if(O=x.return,O===null)throw Error(r(341));O.lanes|=f,S=O.alternate,S!==null&&(S.lanes|=f),hy(O,f,s),O=null}else O=x.child;if(O!==null)O.return=x;else for(O=x;O!==null;){if(O===s){O=null;break}if(x=O.sibling,x!==null){x.return=O.return,O=x;break}O=O.return}x=O}}function io(s,c,f,g){s=null;for(var x=c,S=!1;x!==null;){if(!S){if((x.flags&524288)!==0)S=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var O=x.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var P=x.type;ir(x.pendingProps.value,O.value)||(s!==null?s.push(P):s=[P])}}else if(x===me.current){if(O=x.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(s!==null?s.push(vu):s=[vu])}x=x.return}s!==null&&dy(c,s,f,g),c.flags|=262144}function qh(s){for(s=s.firstContext;s!==null;){if(!ir(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ws(s){Vs=s,Gi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function cn(s){return XC(Vs,s)}function Fh(s,c){return Vs===null&&Ws(s),XC(s,c)}function XC(s,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},Gi===null){if(s===null)throw Error(r(308));Gi=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else Gi=Gi.next=c;return f}var YI=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(f,g){s.push(g)}};this.abort=function(){c.aborted=!0,s.forEach(function(f){return f()})}},QI=t.unstable_scheduleCallback,XI=t.unstable_NormalPriority,_t={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function my(){return{controller:new YI,data:new Map,refCount:0}}function Wc(s){s.refCount--,s.refCount===0&&QI(XI,function(){s.controller.abort()})}var Kc=null,py=0,ao=0,so=null;function ZI(s,c){if(Kc===null){var f=Kc=[];py=0,ao=vv(),so={status:"pending",value:void 0,then:function(g){f.push(g)}}}return py++,c.then(ZC,ZC),c}function ZC(){if(--py===0&&Kc!==null){so!==null&&(so.status="fulfilled");var s=Kc;Kc=null,ao=0,so=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function JI(s,c){var f=[],g={status:"pending",value:null,reason:null,then:function(x){f.push(x)}};return s.then(function(){g.status="fulfilled",g.value=c;for(var x=0;x<f.length;x++)(0,f[x])(c)},function(x){for(g.status="rejected",g.reason=x,x=0;x<f.length;x++)(0,f[x])(void 0)}),g}var JC=H.S;H.S=function(s,c){Lk=tr(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&ZI(s,c),JC!==null&&JC(s,c)};var Ks=R(null);function gy(){var s=Ks.current;return s!==null?s:st.pooledCache}function Vh(s,c){c===null?fe(Ks,Ks.current):fe(Ks,c.pool)}function eN(){var s=gy();return s===null?null:{parent:_t._currentValue,pool:s}}var lo=Error(r(460)),yy=Error(r(474)),Wh=Error(r(542)),Kh={then:function(){}};function tN(s){return s=s.status,s==="fulfilled"||s==="rejected"}function nN(s,c,f){switch(f=s[f],f===void 0?s.push(c):f!==c&&(c.then(Fi,Fi),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,iN(s),s;default:if(typeof c.status=="string")c.then(Fi,Fi);else{if(s=st,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(g){if(c.status==="pending"){var x=c;x.status="fulfilled",x.value=g}},function(g){if(c.status==="pending"){var x=c;x.status="rejected",x.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,iN(s),s}throw Ys=c,lo}}function Gs(s){try{var c=s._init;return c(s._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(Ys=f,lo):f}}var Ys=null;function rN(){if(Ys===null)throw Error(r(459));var s=Ys;return Ys=null,s}function iN(s){if(s===lo||s===Wh)throw Error(r(483))}var oo=null,Gc=0;function Gh(s){var c=Gc;return Gc+=1,oo===null&&(oo=[]),nN(oo,s,c)}function Yc(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function Yh(s,c){throw c.$$typeof===y?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function aN(s){function c(K,q){if(s){var Y=K.deletions;Y===null?(K.deletions=[q],K.flags|=16):Y.push(q)}}function f(K,q){if(!s)return null;for(;q!==null;)c(K,q),q=q.sibling;return null}function g(K){for(var q=new Map;K!==null;)K.key!==null?q.set(K.key,K):q.set(K.index,K),K=K.sibling;return q}function x(K,q){return K=Wi(K,q),K.index=0,K.sibling=null,K}function S(K,q,Y){return K.index=Y,s?(Y=K.alternate,Y!==null?(Y=Y.index,Y<q?(K.flags|=67108866,q):Y):(K.flags|=67108866,q)):(K.flags|=1048576,q)}function O(K){return s&&K.alternate===null&&(K.flags|=67108866),K}function P(K,q,Y,le){return q===null||q.tag!==6?(q=ay(Y,K.mode,le),q.return=K,q):(q=x(q,Y),q.return=K,q)}function U(K,q,Y,le){var Ne=Y.type;return Ne===C?ae(K,q,Y.props.children,le,Y.key):q!==null&&(q.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===_&&Gs(Ne)===q.type)?(q=x(q,Y.props),Yc(q,Y),q.return=K,q):(q=Hh(Y.type,Y.key,Y.props,null,K.mode,le),Yc(q,Y),q.return=K,q)}function X(K,q,Y,le){return q===null||q.tag!==4||q.stateNode.containerInfo!==Y.containerInfo||q.stateNode.implementation!==Y.implementation?(q=sy(Y,K.mode,le),q.return=K,q):(q=x(q,Y.children||[]),q.return=K,q)}function ae(K,q,Y,le,Ne){return q===null||q.tag!==7?(q=qs(Y,K.mode,le,Ne),q.return=K,q):(q=x(q,Y),q.return=K,q)}function oe(K,q,Y){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=ay(""+q,K.mode,Y),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case v:return Y=Hh(q.type,q.key,q.props,null,K.mode,Y),Yc(Y,q),Y.return=K,Y;case b:return q=sy(q,K.mode,Y),q.return=K,q;case _:return q=Gs(q),oe(K,q,Y)}if(F(q)||z(q))return q=qs(q,K.mode,Y,null),q.return=K,q;if(typeof q.then=="function")return oe(K,Gh(q),Y);if(q.$$typeof===k)return oe(K,Fh(K,q),Y);Yh(K,q)}return null}function J(K,q,Y,le){var Ne=q!==null?q.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ne!==null?null:P(K,q,""+Y,le);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return Y.key===Ne?U(K,q,Y,le):null;case b:return Y.key===Ne?X(K,q,Y,le):null;case _:return Y=Gs(Y),J(K,q,Y,le)}if(F(Y)||z(Y))return Ne!==null?null:ae(K,q,Y,le,null);if(typeof Y.then=="function")return J(K,q,Gh(Y),le);if(Y.$$typeof===k)return J(K,q,Fh(K,Y),le);Yh(K,Y)}return null}function ne(K,q,Y,le,Ne){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return K=K.get(Y)||null,P(q,K,""+le,Ne);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case v:return K=K.get(le.key===null?Y:le.key)||null,U(q,K,le,Ne);case b:return K=K.get(le.key===null?Y:le.key)||null,X(q,K,le,Ne);case _:return le=Gs(le),ne(K,q,Y,le,Ne)}if(F(le)||z(le))return K=K.get(Y)||null,ae(q,K,le,Ne,null);if(typeof le.then=="function")return ne(K,q,Y,Gh(le),Ne);if(le.$$typeof===k)return ne(K,q,Y,Fh(q,le),Ne);Yh(q,le)}return null}function be(K,q,Y,le){for(var Ne=null,Ve=null,Se=q,Re=q=0,He=null;Se!==null&&Re<Y.length;Re++){Se.index>Re?(He=Se,Se=null):He=Se.sibling;var We=J(K,Se,Y[Re],le);if(We===null){Se===null&&(Se=He);break}s&&Se&&We.alternate===null&&c(K,Se),q=S(We,q,Re),Ve===null?Ne=We:Ve.sibling=We,Ve=We,Se=He}if(Re===Y.length)return f(K,Se),$e&&Ki(K,Re),Ne;if(Se===null){for(;Re<Y.length;Re++)Se=oe(K,Y[Re],le),Se!==null&&(q=S(Se,q,Re),Ve===null?Ne=Se:Ve.sibling=Se,Ve=Se);return $e&&Ki(K,Re),Ne}for(Se=g(Se);Re<Y.length;Re++)He=ne(Se,K,Re,Y[Re],le),He!==null&&(s&&He.alternate!==null&&Se.delete(He.key===null?Re:He.key),q=S(He,q,Re),Ve===null?Ne=He:Ve.sibling=He,Ve=He);return s&&Se.forEach(function(as){return c(K,as)}),$e&&Ki(K,Re),Ne}function Te(K,q,Y,le){if(Y==null)throw Error(r(151));for(var Ne=null,Ve=null,Se=q,Re=q=0,He=null,We=Y.next();Se!==null&&!We.done;Re++,We=Y.next()){Se.index>Re?(He=Se,Se=null):He=Se.sibling;var as=J(K,Se,We.value,le);if(as===null){Se===null&&(Se=He);break}s&&Se&&as.alternate===null&&c(K,Se),q=S(as,q,Re),Ve===null?Ne=as:Ve.sibling=as,Ve=as,Se=He}if(We.done)return f(K,Se),$e&&Ki(K,Re),Ne;if(Se===null){for(;!We.done;Re++,We=Y.next())We=oe(K,We.value,le),We!==null&&(q=S(We,q,Re),Ve===null?Ne=We:Ve.sibling=We,Ve=We);return $e&&Ki(K,Re),Ne}for(Se=g(Se);!We.done;Re++,We=Y.next())We=ne(Se,K,Re,We.value,le),We!==null&&(s&&We.alternate!==null&&Se.delete(We.key===null?Re:We.key),q=S(We,q,Re),Ve===null?Ne=We:Ve.sibling=We,Ve=We);return s&&Se.forEach(function(u9){return c(K,u9)}),$e&&Ki(K,Re),Ne}function rt(K,q,Y,le){if(typeof Y=="object"&&Y!==null&&Y.type===C&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:e:{for(var Ne=Y.key;q!==null;){if(q.key===Ne){if(Ne=Y.type,Ne===C){if(q.tag===7){f(K,q.sibling),le=x(q,Y.props.children),le.return=K,K=le;break e}}else if(q.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===_&&Gs(Ne)===q.type){f(K,q.sibling),le=x(q,Y.props),Yc(le,Y),le.return=K,K=le;break e}f(K,q);break}else c(K,q);q=q.sibling}Y.type===C?(le=qs(Y.props.children,K.mode,le,Y.key),le.return=K,K=le):(le=Hh(Y.type,Y.key,Y.props,null,K.mode,le),Yc(le,Y),le.return=K,K=le)}return O(K);case b:e:{for(Ne=Y.key;q!==null;){if(q.key===Ne)if(q.tag===4&&q.stateNode.containerInfo===Y.containerInfo&&q.stateNode.implementation===Y.implementation){f(K,q.sibling),le=x(q,Y.children||[]),le.return=K,K=le;break e}else{f(K,q);break}else c(K,q);q=q.sibling}le=sy(Y,K.mode,le),le.return=K,K=le}return O(K);case _:return Y=Gs(Y),rt(K,q,Y,le)}if(F(Y))return be(K,q,Y,le);if(z(Y)){if(Ne=z(Y),typeof Ne!="function")throw Error(r(150));return Y=Ne.call(Y),Te(K,q,Y,le)}if(typeof Y.then=="function")return rt(K,q,Gh(Y),le);if(Y.$$typeof===k)return rt(K,q,Fh(K,Y),le);Yh(K,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,q!==null&&q.tag===6?(f(K,q.sibling),le=x(q,Y),le.return=K,K=le):(f(K,q),le=ay(Y,K.mode,le),le.return=K,K=le),O(K)):f(K,q)}return function(K,q,Y,le){try{Gc=0;var Ne=rt(K,q,Y,le);return oo=null,Ne}catch(Se){if(Se===lo||Se===Wh)throw Se;var Ve=ar(29,Se,null,K.mode);return Ve.lanes=le,Ve.return=K,Ve}}}var Qs=aN(!0),sN=aN(!1),$a=!1;function vy(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xy(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function qa(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Fa(s,c,f){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(Ye&2)!==0){var x=g.pending;return x===null?c.next=c:(c.next=x.next,x.next=c),g.pending=c,c=Uh(s),qC(s,null,f),c}return Ih(s,g,c,f),Uh(s)}function Qc(s,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var g=c.lanes;g&=s.pendingLanes,f|=g,c.lanes=f,Xj(s,f)}}function by(s,c){var f=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var x=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var O={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};S===null?x=S=O:S=S.next=O,f=f.next}while(f!==null);S===null?x=S=c:S=S.next=c}else x=S=c;f={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:g.shared,callbacks:g.callbacks},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=c}var wy=!1;function Xc(){if(wy){var s=so;if(s!==null)throw s}}function Zc(s,c,f,g){wy=!1;var x=s.updateQueue;$a=!1;var S=x.firstBaseUpdate,O=x.lastBaseUpdate,P=x.shared.pending;if(P!==null){x.shared.pending=null;var U=P,X=U.next;U.next=null,O===null?S=X:O.next=X,O=U;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,P=ae.lastBaseUpdate,P!==O&&(P===null?ae.firstBaseUpdate=X:P.next=X,ae.lastBaseUpdate=U))}if(S!==null){var oe=x.baseState;O=0,ae=X=U=null,P=S;do{var J=P.lane&-536870913,ne=J!==P.lane;if(ne?(Ue&J)===J:(g&J)===J){J!==0&&J===ao&&(wy=!0),ae!==null&&(ae=ae.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var be=s,Te=P;J=c;var rt=f;switch(Te.tag){case 1:if(be=Te.payload,typeof be=="function"){oe=be.call(rt,oe,J);break e}oe=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Te.payload,J=typeof be=="function"?be.call(rt,oe,J):be,J==null)break e;oe=p({},oe,J);break e;case 2:$a=!0}}J=P.callback,J!==null&&(s.flags|=64,ne&&(s.flags|=8192),ne=x.callbacks,ne===null?x.callbacks=[J]:ne.push(J))}else ne={lane:J,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ae===null?(X=ae=ne,U=oe):ae=ae.next=ne,O|=J;if(P=P.next,P===null){if(P=x.shared.pending,P===null)break;ne=P,P=ne.next,ne.next=null,x.lastBaseUpdate=ne,x.shared.pending=null}}while(!0);ae===null&&(U=oe),x.baseState=U,x.firstBaseUpdate=X,x.lastBaseUpdate=ae,S===null&&(x.shared.lanes=0),Ya|=O,s.lanes=O,s.memoizedState=oe}}function lN(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function oN(s,c){var f=s.callbacks;if(f!==null)for(s.callbacks=null,s=0;s<f.length;s++)lN(f[s],c)}var co=R(null),Qh=R(0);function cN(s,c){s=ia,fe(Qh,s),fe(co,c),ia=s|c.baseLanes}function Sy(){fe(Qh,ia),fe(co,co.current)}function jy(){ia=Qh.current,W(co),W(Qh)}var sr=R(null),Er=null;function Va(s){var c=s.alternate;fe(At,At.current&1),fe(sr,s),Er===null&&(c===null||co.current!==null||c.memoizedState!==null)&&(Er=s)}function Cy(s){fe(At,At.current),fe(sr,s),Er===null&&(Er=s)}function uN(s){s.tag===22?(fe(At,At.current),fe(sr,s),Er===null&&(Er=s)):Wa()}function Wa(){fe(At,At.current),fe(sr,sr.current)}function lr(s){W(sr),Er===s&&(Er=null),W(At)}var At=R(0);function Xh(s){for(var c=s;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Tv(f)||Mv(f)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Qi=0,_e=null,tt=null,Rt=null,Zh=!1,uo=!1,Xs=!1,Jh=0,Jc=0,fo=null,e7=0;function jt(){throw Error(r(321))}function Ny(s,c){if(c===null)return!1;for(var f=0;f<c.length&&f<s.length;f++)if(!ir(s[f],c[f]))return!1;return!0}function ky(s,c,f,g,x,S){return Qi=S,_e=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,H.H=s===null||s.memoizedState===null?KN:Hy,Xs=!1,S=f(g,x),Xs=!1,uo&&(S=hN(c,f,g,x)),fN(s),S}function fN(s){H.H=nu;var c=tt!==null&&tt.next!==null;if(Qi=0,Rt=tt=_e=null,Zh=!1,Jc=0,fo=null,c)throw Error(r(300));s===null||Lt||(s=s.dependencies,s!==null&&qh(s)&&(Lt=!0))}function hN(s,c,f,g){_e=s;var x=0;do{if(uo&&(fo=null),Jc=0,uo=!1,25<=x)throw Error(r(301));if(x+=1,Rt=tt=null,s.updateQueue!=null){var S=s.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}H.H=GN,S=c(f,g)}while(uo);return S}function t7(){var s=H.H,c=s.useState()[0];return c=typeof c.then=="function"?eu(c):c,s=s.useState()[0],(tt!==null?tt.memoizedState:null)!==s&&(_e.flags|=1024),c}function Oy(){var s=Jh!==0;return Jh=0,s}function Ay(s,c,f){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~f}function Ey(s){if(Zh){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}Zh=!1}Qi=0,Rt=tt=_e=null,uo=!1,Jc=Jh=0,fo=null}function An(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?_e.memoizedState=Rt=s:Rt=Rt.next=s,Rt}function Et(){if(tt===null){var s=_e.alternate;s=s!==null?s.memoizedState:null}else s=tt.next;var c=Rt===null?_e.memoizedState:Rt.next;if(c!==null)Rt=c,tt=s;else{if(s===null)throw _e.alternate===null?Error(r(467)):Error(r(310));tt=s,s={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Rt===null?_e.memoizedState=Rt=s:Rt=Rt.next=s}return Rt}function ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eu(s){var c=Jc;return Jc+=1,fo===null&&(fo=[]),s=nN(fo,s,c),c=_e,(Rt===null?c.memoizedState:Rt.next)===null&&(c=c.alternate,H.H=c===null||c.memoizedState===null?KN:Hy),s}function td(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return eu(s);if(s.$$typeof===k)return cn(s)}throw Error(r(438,String(s)))}function Ty(s){var c=null,f=_e.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var g=_e.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(x){return x.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=ed(),_e.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(s),g=0;g<s;g++)f[g]=I;return c.index++,f}function Xi(s,c){return typeof c=="function"?c(s):c}function nd(s){var c=Et();return My(c,tt,s)}function My(s,c,f){var g=s.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=f;var x=s.baseQueue,S=g.pending;if(S!==null){if(x!==null){var O=x.next;x.next=S.next,S.next=O}c.baseQueue=x=S,g.pending=null}if(S=s.baseState,x===null)s.memoizedState=S;else{c=x.next;var P=O=null,U=null,X=c,ae=!1;do{var oe=X.lane&-536870913;if(oe!==X.lane?(Ue&oe)===oe:(Qi&oe)===oe){var J=X.revertLane;if(J===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),oe===ao&&(ae=!0);else if((Qi&J)===J){X=X.next,J===ao&&(ae=!0);continue}else oe={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(P=U=oe,O=S):U=U.next=oe,_e.lanes|=J,Ya|=J;oe=X.action,Xs&&f(S,oe),S=X.hasEagerState?X.eagerState:f(S,oe)}else J={lane:oe,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(P=U=J,O=S):U=U.next=J,_e.lanes|=oe,Ya|=oe;X=X.next}while(X!==null&&X!==c);if(U===null?O=S:U.next=P,!ir(S,s.memoizedState)&&(Lt=!0,ae&&(f=so,f!==null)))throw f;s.memoizedState=S,s.baseState=O,s.baseQueue=U,g.lastRenderedState=S}return x===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function Dy(s){var c=Et(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var g=f.dispatch,x=f.pending,S=c.memoizedState;if(x!==null){f.pending=null;var O=x=x.next;do S=s(S,O.action),O=O.next;while(O!==x);ir(S,c.memoizedState)||(Lt=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),f.lastRenderedState=S}return[S,g]}function dN(s,c,f){var g=_e,x=Et(),S=$e;if(S){if(f===void 0)throw Error(r(407));f=f()}else f=c();var O=!ir((tt||x).memoizedState,f);if(O&&(x.memoizedState=f,Lt=!0),x=x.queue,Ry(gN.bind(null,g,x,s),[s]),x.getSnapshot!==c||O||Rt!==null&&Rt.memoizedState.tag&1){if(g.flags|=2048,ho(9,{destroy:void 0},pN.bind(null,g,x,f,c),null),st===null)throw Error(r(349));S||(Qi&127)!==0||mN(g,c,f)}return f}function mN(s,c,f){s.flags|=16384,s={getSnapshot:c,value:f},c=_e.updateQueue,c===null?(c=ed(),_e.updateQueue=c,c.stores=[s]):(f=c.stores,f===null?c.stores=[s]:f.push(s))}function pN(s,c,f,g){c.value=f,c.getSnapshot=g,yN(c)&&vN(s)}function gN(s,c,f){return f(function(){yN(c)&&vN(s)})}function yN(s){var c=s.getSnapshot;s=s.value;try{var f=c();return!ir(s,f)}catch{return!0}}function vN(s){var c=$s(s,2);c!==null&&qn(c,s,2)}function Py(s){var c=An();if(typeof s=="function"){var f=s;if(s=f(),Xs){Ra(!0);try{f()}finally{Ra(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:s},c}function xN(s,c,f,g){return s.baseState=f,My(s,tt,typeof g=="function"?g:Xi)}function n7(s,c,f,g,x){if(ad(s))throw Error(r(485));if(s=c.action,s!==null){var S={payload:x,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){S.listeners.push(O)}};H.T!==null?f(!0):S.isTransition=!1,g(S),f=c.pending,f===null?(S.next=c.pending=S,bN(c,S)):(S.next=f.next,c.pending=f.next=S)}}function bN(s,c){var f=c.action,g=c.payload,x=s.state;if(c.isTransition){var S=H.T,O={};H.T=O;try{var P=f(x,g),U=H.S;U!==null&&U(O,P),wN(s,c,P)}catch(X){_y(s,c,X)}finally{S!==null&&O.types!==null&&(S.types=O.types),H.T=S}}else try{S=f(x,g),wN(s,c,S)}catch(X){_y(s,c,X)}}function wN(s,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(g){SN(s,c,g)},function(g){return _y(s,c,g)}):SN(s,c,f)}function SN(s,c,f){c.status="fulfilled",c.value=f,jN(c),s.state=f,c=s.pending,c!==null&&(f=c.next,f===c?s.pending=null:(f=f.next,c.next=f,bN(s,f)))}function _y(s,c,f){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=f,jN(c),c=c.next;while(c!==g)}s.action=null}function jN(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function CN(s,c){return c}function NN(s,c){if($e){var f=st.formState;if(f!==null){e:{var g=_e;if($e){if(ht){t:{for(var x=ht,S=Ar;x.nodeType!==8;){if(!S){x=null;break t}if(x=Tr(x.nextSibling),x===null){x=null;break t}}S=x.data,x=S==="F!"||S==="F"?x:null}if(x){ht=Tr(x.nextSibling),g=x.data==="F!";break e}}Ua(g)}g=!1}g&&(c=f[0])}}return f=An(),f.memoizedState=f.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:CN,lastRenderedState:c},f.queue=g,f=FN.bind(null,_e,g),g.dispatch=f,g=Py(!1),S=Uy.bind(null,_e,!1,g.queue),g=An(),x={state:c,dispatch:null,action:s,pending:null},g.queue=x,f=n7.bind(null,_e,x,S,f),x.dispatch=f,g.memoizedState=s,[c,f,!1]}function kN(s){var c=Et();return ON(c,tt,s)}function ON(s,c,f){if(c=My(s,c,CN)[0],s=nd(Xi)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=eu(c)}catch(O){throw O===lo?Wh:O}else g=c;c=Et();var x=c.queue,S=x.dispatch;return f!==c.memoizedState&&(_e.flags|=2048,ho(9,{destroy:void 0},r7.bind(null,x,f),null)),[g,S,s]}function r7(s,c){s.action=c}function AN(s){var c=Et(),f=tt;if(f!==null)return ON(c,f,s);Et(),c=c.memoizedState,f=Et();var g=f.queue.dispatch;return f.memoizedState=s,[c,g,!1]}function ho(s,c,f,g){return s={tag:s,create:f,deps:g,inst:c,next:null},c=_e.updateQueue,c===null&&(c=ed(),_e.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=s.next=s:(g=f.next,f.next=s,s.next=g,c.lastEffect=s),s}function EN(){return Et().memoizedState}function rd(s,c,f,g){var x=An();_e.flags|=s,x.memoizedState=ho(1|c,{destroy:void 0},f,g===void 0?null:g)}function id(s,c,f,g){var x=Et();g=g===void 0?null:g;var S=x.memoizedState.inst;tt!==null&&g!==null&&Ny(g,tt.memoizedState.deps)?x.memoizedState=ho(c,S,f,g):(_e.flags|=s,x.memoizedState=ho(1|c,S,f,g))}function TN(s,c){rd(8390656,8,s,c)}function Ry(s,c){id(2048,8,s,c)}function i7(s){_e.flags|=4;var c=_e.updateQueue;if(c===null)c=ed(),_e.updateQueue=c,c.events=[s];else{var f=c.events;f===null?c.events=[s]:f.push(s)}}function MN(s){var c=Et().memoizedState;return i7({ref:c,nextImpl:s}),function(){if((Ye&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function DN(s,c){return id(4,2,s,c)}function PN(s,c){return id(4,4,s,c)}function _N(s,c){if(typeof c=="function"){s=s();var f=c(s);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function RN(s,c,f){f=f!=null?f.concat([s]):null,id(4,4,_N.bind(null,c,s),f)}function Ly(){}function LN(s,c){var f=Et();c=c===void 0?null:c;var g=f.memoizedState;return c!==null&&Ny(c,g[1])?g[0]:(f.memoizedState=[s,c],s)}function BN(s,c){var f=Et();c=c===void 0?null:c;var g=f.memoizedState;if(c!==null&&Ny(c,g[1]))return g[0];if(g=s(),Xs){Ra(!0);try{s()}finally{Ra(!1)}}return f.memoizedState=[g,c],g}function By(s,c,f){return f===void 0||(Qi&1073741824)!==0&&(Ue&261930)===0?s.memoizedState=c:(s.memoizedState=f,s=zk(),_e.lanes|=s,Ya|=s,f)}function zN(s,c,f,g){return ir(f,c)?f:co.current!==null?(s=By(s,f,g),ir(s,c)||(Lt=!0),s):(Qi&42)===0||(Qi&1073741824)!==0&&(Ue&261930)===0?(Lt=!0,s.memoizedState=f):(s=zk(),_e.lanes|=s,Ya|=s,c)}function IN(s,c,f,g,x){var S=V.p;V.p=S!==0&&8>S?S:8;var O=H.T,P={};H.T=P,Uy(s,!1,c,f);try{var U=x(),X=H.S;if(X!==null&&X(P,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ae=JI(U,g);tu(s,c,ae,ur(s))}else tu(s,c,g,ur(s))}catch(oe){tu(s,c,{then:function(){},status:"rejected",reason:oe},ur())}finally{V.p=S,O!==null&&P.types!==null&&(O.types=P.types),H.T=O}}function a7(){}function zy(s,c,f,g){if(s.tag!==5)throw Error(r(476));var x=UN(s).queue;IN(s,x,c,Q,f===null?a7:function(){return HN(s),f(g)})}function UN(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:Q},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:f},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function HN(s){var c=UN(s);c.next===null&&(c=s.alternate.memoizedState),tu(s,c.next.queue,{},ur())}function Iy(){return cn(vu)}function $N(){return Et().memoizedState}function qN(){return Et().memoizedState}function s7(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var f=ur();s=qa(f);var g=Fa(c,s,f);g!==null&&(qn(g,c,f),Qc(g,c,f)),c={cache:my()},s.payload=c;return}c=c.return}}function l7(s,c,f){var g=ur();f={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},ad(s)?VN(c,f):(f=ry(s,c,f,g),f!==null&&(qn(f,s,g),WN(f,c,g)))}function FN(s,c,f){var g=ur();tu(s,c,f,g)}function tu(s,c,f,g){var x={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(ad(s))VN(c,x);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var O=c.lastRenderedState,P=S(O,f);if(x.hasEagerState=!0,x.eagerState=P,ir(P,O))return Ih(s,c,x,0),st===null&&zh(),!1}catch{}if(f=ry(s,c,x,g),f!==null)return qn(f,s,g),WN(f,c,g),!0}return!1}function Uy(s,c,f,g){if(g={lane:2,revertLane:vv(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},ad(s)){if(c)throw Error(r(479))}else c=ry(s,f,g,2),c!==null&&qn(c,s,2)}function ad(s){var c=s.alternate;return s===_e||c!==null&&c===_e}function VN(s,c){uo=Zh=!0;var f=s.pending;f===null?c.next=c:(c.next=f.next,f.next=c),s.pending=c}function WN(s,c,f){if((f&4194048)!==0){var g=c.lanes;g&=s.pendingLanes,f|=g,c.lanes=f,Xj(s,f)}}var nu={readContext:cn,use:td,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt};nu.useEffectEvent=jt;var KN={readContext:cn,use:td,useCallback:function(s,c){return An().memoizedState=[s,c===void 0?null:c],s},useContext:cn,useEffect:TN,useImperativeHandle:function(s,c,f){f=f!=null?f.concat([s]):null,rd(4194308,4,_N.bind(null,c,s),f)},useLayoutEffect:function(s,c){return rd(4194308,4,s,c)},useInsertionEffect:function(s,c){rd(4,2,s,c)},useMemo:function(s,c){var f=An();c=c===void 0?null:c;var g=s();if(Xs){Ra(!0);try{s()}finally{Ra(!1)}}return f.memoizedState=[g,c],g},useReducer:function(s,c,f){var g=An();if(f!==void 0){var x=f(c);if(Xs){Ra(!0);try{f(c)}finally{Ra(!1)}}}else x=c;return g.memoizedState=g.baseState=x,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:x},g.queue=s,s=s.dispatch=l7.bind(null,_e,s),[g.memoizedState,s]},useRef:function(s){var c=An();return s={current:s},c.memoizedState=s},useState:function(s){s=Py(s);var c=s.queue,f=FN.bind(null,_e,c);return c.dispatch=f,[s.memoizedState,f]},useDebugValue:Ly,useDeferredValue:function(s,c){var f=An();return By(f,s,c)},useTransition:function(){var s=Py(!1);return s=IN.bind(null,_e,s.queue,!0,!1),An().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,f){var g=_e,x=An();if($e){if(f===void 0)throw Error(r(407));f=f()}else{if(f=c(),st===null)throw Error(r(349));(Ue&127)!==0||mN(g,c,f)}x.memoizedState=f;var S={value:f,getSnapshot:c};return x.queue=S,TN(gN.bind(null,g,S,s),[s]),g.flags|=2048,ho(9,{destroy:void 0},pN.bind(null,g,S,f,c),null),f},useId:function(){var s=An(),c=st.identifierPrefix;if($e){var f=hi,g=fi;f=(g&~(1<<32-rr(g)-1)).toString(32)+f,c="_"+c+"R_"+f,f=Jh++,0<f&&(c+="H"+f.toString(32)),c+="_"}else f=e7++,c="_"+c+"r_"+f.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:Iy,useFormState:NN,useActionState:NN,useOptimistic:function(s){var c=An();c.memoizedState=c.baseState=s;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=Uy.bind(null,_e,!0,f),f.dispatch=c,[s,c]},useMemoCache:Ty,useCacheRefresh:function(){return An().memoizedState=s7.bind(null,_e)},useEffectEvent:function(s){var c=An(),f={impl:s};return c.memoizedState=f,function(){if((Ye&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},Hy={readContext:cn,use:td,useCallback:LN,useContext:cn,useEffect:Ry,useImperativeHandle:RN,useInsertionEffect:DN,useLayoutEffect:PN,useMemo:BN,useReducer:nd,useRef:EN,useState:function(){return nd(Xi)},useDebugValue:Ly,useDeferredValue:function(s,c){var f=Et();return zN(f,tt.memoizedState,s,c)},useTransition:function(){var s=nd(Xi)[0],c=Et().memoizedState;return[typeof s=="boolean"?s:eu(s),c]},useSyncExternalStore:dN,useId:$N,useHostTransitionStatus:Iy,useFormState:kN,useActionState:kN,useOptimistic:function(s,c){var f=Et();return xN(f,tt,s,c)},useMemoCache:Ty,useCacheRefresh:qN};Hy.useEffectEvent=MN;var GN={readContext:cn,use:td,useCallback:LN,useContext:cn,useEffect:Ry,useImperativeHandle:RN,useInsertionEffect:DN,useLayoutEffect:PN,useMemo:BN,useReducer:Dy,useRef:EN,useState:function(){return Dy(Xi)},useDebugValue:Ly,useDeferredValue:function(s,c){var f=Et();return tt===null?By(f,s,c):zN(f,tt.memoizedState,s,c)},useTransition:function(){var s=Dy(Xi)[0],c=Et().memoizedState;return[typeof s=="boolean"?s:eu(s),c]},useSyncExternalStore:dN,useId:$N,useHostTransitionStatus:Iy,useFormState:AN,useActionState:AN,useOptimistic:function(s,c){var f=Et();return tt!==null?xN(f,tt,s,c):(f.baseState=s,[s,f.queue.dispatch])},useMemoCache:Ty,useCacheRefresh:qN};GN.useEffectEvent=MN;function $y(s,c,f,g){c=s.memoizedState,f=f(g,c),f=f==null?c:p({},c,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var qy={enqueueSetState:function(s,c,f){s=s._reactInternals;var g=ur(),x=qa(g);x.payload=c,f!=null&&(x.callback=f),c=Fa(s,x,g),c!==null&&(qn(c,s,g),Qc(c,s,g))},enqueueReplaceState:function(s,c,f){s=s._reactInternals;var g=ur(),x=qa(g);x.tag=1,x.payload=c,f!=null&&(x.callback=f),c=Fa(s,x,g),c!==null&&(qn(c,s,g),Qc(c,s,g))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var f=ur(),g=qa(f);g.tag=2,c!=null&&(g.callback=c),c=Fa(s,g,f),c!==null&&(qn(c,s,f),Qc(c,s,f))}};function YN(s,c,f,g,x,S,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,S,O):c.prototype&&c.prototype.isPureReactComponent?!$c(f,g)||!$c(x,S):!0}function QN(s,c,f,g){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,g),c.state!==s&&qy.enqueueReplaceState(c,c.state,null)}function Zs(s,c){var f=c;if("ref"in c){f={};for(var g in c)g!=="ref"&&(f[g]=c[g])}if(s=s.defaultProps){f===c&&(f=p({},f));for(var x in s)f[x]===void 0&&(f[x]=s[x])}return f}function XN(s){Bh(s)}function ZN(s){console.error(s)}function JN(s){Bh(s)}function sd(s,c){try{var f=s.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function ek(s,c,f){try{var g=s.onCaughtError;g(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Fy(s,c,f){return f=qa(f),f.tag=3,f.payload={element:null},f.callback=function(){sd(s,c)},f}function tk(s){return s=qa(s),s.tag=3,s}function nk(s,c,f,g){var x=f.type.getDerivedStateFromError;if(typeof x=="function"){var S=g.value;s.payload=function(){return x(S)},s.callback=function(){ek(c,f,g)}}var O=f.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(s.callback=function(){ek(c,f,g),typeof x!="function"&&(Qa===null?Qa=new Set([this]):Qa.add(this));var P=g.stack;this.componentDidCatch(g.value,{componentStack:P!==null?P:""})})}function o7(s,c,f,g,x){if(f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=f.alternate,c!==null&&io(c,f,x,!0),f=sr.current,f!==null){switch(f.tag){case 31:case 13:return Er===null?vd():f.alternate===null&&Ct===0&&(Ct=3),f.flags&=-257,f.flags|=65536,f.lanes=x,g===Kh?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([g]):c.add(g),pv(s,g,x)),!1;case 22:return f.flags|=65536,g===Kh?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([g]):f.add(g)),pv(s,g,x)),!1}throw Error(r(435,f.tag))}return pv(s,g,x),vd(),!1}if($e)return c=sr.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=x,g!==cy&&(s=Error(r(422),{cause:g}),Vc(Nr(s,f)))):(g!==cy&&(c=Error(r(423),{cause:g}),Vc(Nr(c,f))),s=s.current.alternate,s.flags|=65536,x&=-x,s.lanes|=x,g=Nr(g,f),x=Fy(s.stateNode,g,x),by(s,x),Ct!==4&&(Ct=2)),!1;var S=Error(r(520),{cause:g});if(S=Nr(S,f),uu===null?uu=[S]:uu.push(S),Ct!==4&&(Ct=2),c===null)return!0;g=Nr(g,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,s=x&-x,f.lanes|=s,s=Fy(f.stateNode,g,s),by(f,s),!1;case 1:if(c=f.type,S=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Qa===null||!Qa.has(S))))return f.flags|=65536,x&=-x,f.lanes|=x,x=tk(x),nk(x,s,f,g),by(f,x),!1}f=f.return}while(f!==null);return!1}var Vy=Error(r(461)),Lt=!1;function un(s,c,f,g){c.child=s===null?sN(c,null,f,g):Qs(c,s.child,f,g)}function rk(s,c,f,g,x){f=f.render;var S=c.ref;if("ref"in g){var O={};for(var P in g)P!=="ref"&&(O[P]=g[P])}else O=g;return Ws(c),g=ky(s,c,f,O,S,x),P=Oy(),s!==null&&!Lt?(Ay(s,c,x),Zi(s,c,x)):($e&&P&&ly(c),c.flags|=1,un(s,c,g,x),c.child)}function ik(s,c,f,g,x){if(s===null){var S=f.type;return typeof S=="function"&&!iy(S)&&S.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=S,ak(s,c,S,g,x)):(s=Hh(f.type,null,g,c,c.mode,x),s.ref=c.ref,s.return=c,c.child=s)}if(S=s.child,!Jy(s,x)){var O=S.memoizedProps;if(f=f.compare,f=f!==null?f:$c,f(O,g)&&s.ref===c.ref)return Zi(s,c,x)}return c.flags|=1,s=Wi(S,g),s.ref=c.ref,s.return=c,c.child=s}function ak(s,c,f,g,x){if(s!==null){var S=s.memoizedProps;if($c(S,g)&&s.ref===c.ref)if(Lt=!1,c.pendingProps=g=S,Jy(s,x))(s.flags&131072)!==0&&(Lt=!0);else return c.lanes=s.lanes,Zi(s,c,x)}return Wy(s,c,f,g,x)}function sk(s,c,f,g){var x=g.children,S=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(S=S!==null?S.baseLanes|f:f,s!==null){for(g=c.child=s.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;g=x&~S}else g=0,c.child=null;return lk(s,c,S,f,g)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&Vh(c,S!==null?S.cachePool:null),S!==null?cN(c,S):Sy(),uN(c);else return g=c.lanes=536870912,lk(s,c,S!==null?S.baseLanes|f:f,f,g)}else S!==null?(Vh(c,S.cachePool),cN(c,S),Wa(),c.memoizedState=null):(s!==null&&Vh(c,null),Sy(),Wa());return un(s,c,x,f),c.child}function ru(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function lk(s,c,f,g,x){var S=gy();return S=S===null?null:{parent:_t._currentValue,pool:S},c.memoizedState={baseLanes:f,cachePool:S},s!==null&&Vh(c,null),Sy(),uN(c),s!==null&&io(s,c,g,!0),c.childLanes=x,null}function ld(s,c){return c=cd({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function ok(s,c,f){return Qs(c,s.child,null,f),s=ld(c,c.pendingProps),s.flags|=2,lr(c),c.memoizedState=null,s}function c7(s,c,f){var g=c.pendingProps,x=(c.flags&128)!==0;if(c.flags&=-129,s===null){if($e){if(g.mode==="hidden")return s=ld(c,g),c.lanes=536870912,ru(null,s);if(Cy(c),(s=ht)?(s=bO(s,Ar),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:za!==null?{id:fi,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},f=VC(s),f.return=c,c.child=f,on=c,ht=null)):s=null,s===null)throw Ua(c);return c.lanes=536870912,null}return ld(c,g)}var S=s.memoizedState;if(S!==null){var O=S.dehydrated;if(Cy(c),x)if(c.flags&256)c.flags&=-257,c=ok(s,c,f);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if(Lt||io(s,c,f,!1),x=(f&s.childLanes)!==0,Lt||x){if(g=st,g!==null&&(O=Zj(g,f),O!==0&&O!==S.retryLane))throw S.retryLane=O,$s(s,O),qn(g,s,O),Vy;vd(),c=ok(s,c,f)}else s=S.treeContext,ht=Tr(O.nextSibling),on=c,$e=!0,Ia=null,Ar=!1,s!==null&&GC(c,s),c=ld(c,g),c.flags|=4096;return c}return s=Wi(s.child,{mode:g.mode,children:g.children}),s.ref=c.ref,c.child=s,s.return=c,s}function od(s,c){var f=c.ref;if(f===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(s===null||s.ref!==f)&&(c.flags|=4194816)}}function Wy(s,c,f,g,x){return Ws(c),f=ky(s,c,f,g,void 0,x),g=Oy(),s!==null&&!Lt?(Ay(s,c,x),Zi(s,c,x)):($e&&g&&ly(c),c.flags|=1,un(s,c,f,x),c.child)}function ck(s,c,f,g,x,S){return Ws(c),c.updateQueue=null,f=hN(c,g,f,x),fN(s),g=Oy(),s!==null&&!Lt?(Ay(s,c,S),Zi(s,c,S)):($e&&g&&ly(c),c.flags|=1,un(s,c,f,S),c.child)}function uk(s,c,f,g,x){if(Ws(c),c.stateNode===null){var S=eo,O=f.contextType;typeof O=="object"&&O!==null&&(S=cn(O)),S=new f(g,S),c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=qy,c.stateNode=S,S._reactInternals=c,S=c.stateNode,S.props=g,S.state=c.memoizedState,S.refs={},vy(c),O=f.contextType,S.context=typeof O=="object"&&O!==null?cn(O):eo,S.state=c.memoizedState,O=f.getDerivedStateFromProps,typeof O=="function"&&($y(c,f,O,g),S.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(O=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),O!==S.state&&qy.enqueueReplaceState(S,S.state,null),Zc(c,g,S,x),Xc(),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(s===null){S=c.stateNode;var P=c.memoizedProps,U=Zs(f,P);S.props=U;var X=S.context,ae=f.contextType;O=eo,typeof ae=="object"&&ae!==null&&(O=cn(ae));var oe=f.getDerivedStateFromProps;ae=typeof oe=="function"||typeof S.getSnapshotBeforeUpdate=="function",P=c.pendingProps!==P,ae||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(P||X!==O)&&QN(c,S,g,O),$a=!1;var J=c.memoizedState;S.state=J,Zc(c,g,S,x),Xc(),X=c.memoizedState,P||J!==X||$a?(typeof oe=="function"&&($y(c,f,oe,g),X=c.memoizedState),(U=$a||YN(c,f,U,g,J,X,O))?(ae||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(c.flags|=4194308)):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=X),S.props=g,S.state=X,S.context=O,g=U):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{S=c.stateNode,xy(s,c),O=c.memoizedProps,ae=Zs(f,O),S.props=ae,oe=c.pendingProps,J=S.context,X=f.contextType,U=eo,typeof X=="object"&&X!==null&&(U=cn(X)),P=f.getDerivedStateFromProps,(X=typeof P=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==oe||J!==U)&&QN(c,S,g,U),$a=!1,J=c.memoizedState,S.state=J,Zc(c,g,S,x),Xc();var ne=c.memoizedState;O!==oe||J!==ne||$a||s!==null&&s.dependencies!==null&&qh(s.dependencies)?(typeof P=="function"&&($y(c,f,P,g),ne=c.memoizedState),(ae=$a||YN(c,f,ae,g,J,ne,U)||s!==null&&s.dependencies!==null&&qh(s.dependencies))?(X||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(g,ne,U),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(g,ne,U)),typeof S.componentDidUpdate=="function"&&(c.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof S.componentDidUpdate!="function"||O===s.memoizedProps&&J===s.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&J===s.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=ne),S.props=g,S.state=ne,S.context=U,g=ae):(typeof S.componentDidUpdate!="function"||O===s.memoizedProps&&J===s.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&J===s.memoizedState||(c.flags|=1024),g=!1)}return S=g,od(s,c),g=(c.flags&128)!==0,S||g?(S=c.stateNode,f=g&&typeof f.getDerivedStateFromError!="function"?null:S.render(),c.flags|=1,s!==null&&g?(c.child=Qs(c,s.child,null,x),c.child=Qs(c,null,f,x)):un(s,c,f,x),c.memoizedState=S.state,s=c.child):s=Zi(s,c,x),s}function fk(s,c,f,g){return Fs(),c.flags|=256,un(s,c,f,g),c.child}var Ky={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gy(s){return{baseLanes:s,cachePool:eN()}}function Yy(s,c,f){return s=s!==null?s.childLanes&~f:0,c&&(s|=cr),s}function hk(s,c,f){var g=c.pendingProps,x=!1,S=(c.flags&128)!==0,O;if((O=S)||(O=s!==null&&s.memoizedState===null?!1:(At.current&2)!==0),O&&(x=!0,c.flags&=-129),O=(c.flags&32)!==0,c.flags&=-33,s===null){if($e){if(x?Va(c):Wa(),(s=ht)?(s=bO(s,Ar),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:za!==null?{id:fi,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},f=VC(s),f.return=c,c.child=f,on=c,ht=null)):s=null,s===null)throw Ua(c);return Mv(s)?c.lanes=32:c.lanes=536870912,null}var P=g.children;return g=g.fallback,x?(Wa(),x=c.mode,P=cd({mode:"hidden",children:P},x),g=qs(g,x,f,null),P.return=c,g.return=c,P.sibling=g,c.child=P,g=c.child,g.memoizedState=Gy(f),g.childLanes=Yy(s,O,f),c.memoizedState=Ky,ru(null,g)):(Va(c),Qy(c,P))}var U=s.memoizedState;if(U!==null&&(P=U.dehydrated,P!==null)){if(S)c.flags&256?(Va(c),c.flags&=-257,c=Xy(s,c,f)):c.memoizedState!==null?(Wa(),c.child=s.child,c.flags|=128,c=null):(Wa(),P=g.fallback,x=c.mode,g=cd({mode:"visible",children:g.children},x),P=qs(P,x,f,null),P.flags|=2,g.return=c,P.return=c,g.sibling=P,c.child=g,Qs(c,s.child,null,f),g=c.child,g.memoizedState=Gy(f),g.childLanes=Yy(s,O,f),c.memoizedState=Ky,c=ru(null,g));else if(Va(c),Mv(P)){if(O=P.nextSibling&&P.nextSibling.dataset,O)var X=O.dgst;O=X,g=Error(r(419)),g.stack="",g.digest=O,Vc({value:g,source:null,stack:null}),c=Xy(s,c,f)}else if(Lt||io(s,c,f,!1),O=(f&s.childLanes)!==0,Lt||O){if(O=st,O!==null&&(g=Zj(O,f),g!==0&&g!==U.retryLane))throw U.retryLane=g,$s(s,g),qn(O,s,g),Vy;Tv(P)||vd(),c=Xy(s,c,f)}else Tv(P)?(c.flags|=192,c.child=s.child,c=null):(s=U.treeContext,ht=Tr(P.nextSibling),on=c,$e=!0,Ia=null,Ar=!1,s!==null&&GC(c,s),c=Qy(c,g.children),c.flags|=4096);return c}return x?(Wa(),P=g.fallback,x=c.mode,U=s.child,X=U.sibling,g=Wi(U,{mode:"hidden",children:g.children}),g.subtreeFlags=U.subtreeFlags&65011712,X!==null?P=Wi(X,P):(P=qs(P,x,f,null),P.flags|=2),P.return=c,g.return=c,g.sibling=P,c.child=g,ru(null,g),g=c.child,P=s.child.memoizedState,P===null?P=Gy(f):(x=P.cachePool,x!==null?(U=_t._currentValue,x=x.parent!==U?{parent:U,pool:U}:x):x=eN(),P={baseLanes:P.baseLanes|f,cachePool:x}),g.memoizedState=P,g.childLanes=Yy(s,O,f),c.memoizedState=Ky,ru(s.child,g)):(Va(c),f=s.child,s=f.sibling,f=Wi(f,{mode:"visible",children:g.children}),f.return=c,f.sibling=null,s!==null&&(O=c.deletions,O===null?(c.deletions=[s],c.flags|=16):O.push(s)),c.child=f,c.memoizedState=null,f)}function Qy(s,c){return c=cd({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function cd(s,c){return s=ar(22,s,null,c),s.lanes=0,s}function Xy(s,c,f){return Qs(c,s.child,null,f),s=Qy(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function dk(s,c,f){s.lanes|=c;var g=s.alternate;g!==null&&(g.lanes|=c),hy(s.return,c,f)}function Zy(s,c,f,g,x,S){var O=s.memoizedState;O===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:x,treeForkCount:S}:(O.isBackwards=c,O.rendering=null,O.renderingStartTime=0,O.last=g,O.tail=f,O.tailMode=x,O.treeForkCount=S)}function mk(s,c,f){var g=c.pendingProps,x=g.revealOrder,S=g.tail;g=g.children;var O=At.current,P=(O&2)!==0;if(P?(O=O&1|2,c.flags|=128):O&=1,fe(At,O),un(s,c,g,f),g=$e?Fc:0,!P&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&dk(s,f,c);else if(s.tag===19)dk(s,f,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(x){case"forwards":for(f=c.child,x=null;f!==null;)s=f.alternate,s!==null&&Xh(s)===null&&(x=f),f=f.sibling;f=x,f===null?(x=c.child,c.child=null):(x=f.sibling,f.sibling=null),Zy(c,!1,x,f,S,g);break;case"backwards":case"unstable_legacy-backwards":for(f=null,x=c.child,c.child=null;x!==null;){if(s=x.alternate,s!==null&&Xh(s)===null){c.child=x;break}s=x.sibling,x.sibling=f,f=x,x=s}Zy(c,!0,f,null,S,g);break;case"together":Zy(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function Zi(s,c,f){if(s!==null&&(c.dependencies=s.dependencies),Ya|=c.lanes,(f&c.childLanes)===0)if(s!==null){if(io(s,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,f=Wi(s,s.pendingProps),c.child=f,f.return=c;s.sibling!==null;)s=s.sibling,f=f.sibling=Wi(s,s.pendingProps),f.return=c;f.sibling=null}return c.child}function Jy(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&qh(s)))}function u7(s,c,f){switch(c.tag){case 3:Me(c,c.stateNode.containerInfo),Ha(c,_t,s.memoizedState.cache),Fs();break;case 27:case 5:je(c);break;case 4:Me(c,c.stateNode.containerInfo);break;case 10:Ha(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Cy(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(Va(c),c.flags|=128,null):(f&c.child.childLanes)!==0?hk(s,c,f):(Va(c),s=Zi(s,c,f),s!==null?s.sibling:null);Va(c);break;case 19:var x=(s.flags&128)!==0;if(g=(f&c.childLanes)!==0,g||(io(s,c,f,!1),g=(f&c.childLanes)!==0),x){if(g)return mk(s,c,f);c.flags|=128}if(x=c.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),fe(At,At.current),g)break;return null;case 22:return c.lanes=0,sk(s,c,f,c.pendingProps);case 24:Ha(c,_t,s.memoizedState.cache)}return Zi(s,c,f)}function pk(s,c,f){if(s!==null)if(s.memoizedProps!==c.pendingProps)Lt=!0;else{if(!Jy(s,f)&&(c.flags&128)===0)return Lt=!1,u7(s,c,f);Lt=(s.flags&131072)!==0}else Lt=!1,$e&&(c.flags&1048576)!==0&&KC(c,Fc,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(s=Gs(c.elementType),c.type=s,typeof s=="function")iy(s)?(g=Zs(s,g),c.tag=1,c=uk(null,c,s,g,f)):(c.tag=0,c=Wy(null,c,s,g,f));else{if(s!=null){var x=s.$$typeof;if(x===T){c.tag=11,c=rk(null,c,s,g,f);break e}else if(x===E){c.tag=14,c=ik(null,c,s,g,f);break e}}throw c=ee(s)||s,Error(r(306,c,""))}}return c;case 0:return Wy(s,c,c.type,c.pendingProps,f);case 1:return g=c.type,x=Zs(g,c.pendingProps),uk(s,c,g,x,f);case 3:e:{if(Me(c,c.stateNode.containerInfo),s===null)throw Error(r(387));g=c.pendingProps;var S=c.memoizedState;x=S.element,xy(s,c),Zc(c,g,null,f);var O=c.memoizedState;if(g=O.cache,Ha(c,_t,g),g!==S.cache&&dy(c,[_t],f,!0),Xc(),g=O.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:O.cache},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){c=fk(s,c,g,f);break e}else if(g!==x){x=Nr(Error(r(424)),c),Vc(x),c=fk(s,c,g,f);break e}else for(s=c.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ht=Tr(s.firstChild),on=c,$e=!0,Ia=null,Ar=!0,f=sN(c,null,g,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Fs(),g===x){c=Zi(s,c,f);break e}un(s,c,g,f)}c=c.child}return c;case 26:return od(s,c),s===null?(f=kO(c.type,null,c.pendingProps,null))?c.memoizedState=f:$e||(f=c.type,s=c.pendingProps,g=Nd(G.current).createElement(f),g[ln]=c,g[Bn]=s,fn(g,f,s),Kt(g),c.stateNode=g):c.memoizedState=kO(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return je(c),s===null&&$e&&(g=c.stateNode=jO(c.type,c.pendingProps,G.current),on=c,Ar=!0,x=ht,es(c.type)?(Dv=x,ht=Tr(g.firstChild)):ht=x),un(s,c,c.pendingProps.children,f),od(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&$e&&((x=g=ht)&&(g=U7(g,c.type,c.pendingProps,Ar),g!==null?(c.stateNode=g,on=c,ht=Tr(g.firstChild),Ar=!1,x=!0):x=!1),x||Ua(c)),je(c),x=c.type,S=c.pendingProps,O=s!==null?s.memoizedProps:null,g=S.children,Ov(x,S)?g=null:O!==null&&Ov(x,O)&&(c.flags|=32),c.memoizedState!==null&&(x=ky(s,c,t7,null,null,f),vu._currentValue=x),od(s,c),un(s,c,g,f),c.child;case 6:return s===null&&$e&&((s=f=ht)&&(f=H7(f,c.pendingProps,Ar),f!==null?(c.stateNode=f,on=c,ht=null,s=!0):s=!1),s||Ua(c)),null;case 13:return hk(s,c,f);case 4:return Me(c,c.stateNode.containerInfo),g=c.pendingProps,s===null?c.child=Qs(c,null,g,f):un(s,c,g,f),c.child;case 11:return rk(s,c,c.type,c.pendingProps,f);case 7:return un(s,c,c.pendingProps,f),c.child;case 8:return un(s,c,c.pendingProps.children,f),c.child;case 12:return un(s,c,c.pendingProps.children,f),c.child;case 10:return g=c.pendingProps,Ha(c,c.type,g.value),un(s,c,g.children,f),c.child;case 9:return x=c.type._context,g=c.pendingProps.children,Ws(c),x=cn(x),g=g(x),c.flags|=1,un(s,c,g,f),c.child;case 14:return ik(s,c,c.type,c.pendingProps,f);case 15:return ak(s,c,c.type,c.pendingProps,f);case 19:return mk(s,c,f);case 31:return c7(s,c,f);case 22:return sk(s,c,f,c.pendingProps);case 24:return Ws(c),g=cn(_t),s===null?(x=gy(),x===null&&(x=st,S=my(),x.pooledCache=S,S.refCount++,S!==null&&(x.pooledCacheLanes|=f),x=S),c.memoizedState={parent:g,cache:x},vy(c),Ha(c,_t,x)):((s.lanes&f)!==0&&(xy(s,c),Zc(c,null,null,f),Xc()),x=s.memoizedState,S=c.memoizedState,x.parent!==g?(x={parent:g,cache:g},c.memoizedState=x,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=x),Ha(c,_t,g)):(g=S.cache,Ha(c,_t,g),g!==x.cache&&dy(c,[_t],f,!0))),un(s,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Ji(s){s.flags|=4}function ev(s,c,f,g,x){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(x&335544128)===x)if(s.stateNode.complete)s.flags|=8192;else if($k())s.flags|=8192;else throw Ys=Kh,yy}else s.flags&=-16777217}function gk(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!MO(c))if($k())s.flags|=8192;else throw Ys=Kh,yy}function ud(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?Yj():536870912,s.lanes|=c,yo|=c)}function iu(s,c){if(!$e)switch(s.tailMode){case"hidden":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function dt(s){var c=s.alternate!==null&&s.alternate.child===s.child,f=0,g=0;if(c)for(var x=s.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags&65011712,g|=x.flags&65011712,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=g,s.childLanes=f,c}function f7(s,c,f){var g=c.pendingProps;switch(oy(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(c),null;case 1:return dt(c),null;case 3:return f=c.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),Yi(_t),re(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(ro(c)?Ji(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,uy())),dt(c),null;case 26:var x=c.type,S=c.memoizedState;return s===null?(Ji(c),S!==null?(dt(c),gk(c,S)):(dt(c),ev(c,x,null,g,f))):S?S!==s.memoizedState?(Ji(c),dt(c),gk(c,S)):(dt(c),c.flags&=-16777217):(s=s.memoizedProps,s!==g&&Ji(c),dt(c),ev(c,x,s,g,f)),null;case 27:if(Ee(c),f=G.current,x=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==g&&Ji(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return dt(c),null}s=Z.current,ro(c)?YC(c):(s=jO(x,g,f),c.stateNode=s,Ji(c))}return dt(c),null;case 5:if(Ee(c),x=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==g&&Ji(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return dt(c),null}if(S=Z.current,ro(c))YC(c);else{var O=Nd(G.current);switch(S){case 1:S=O.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:S=O.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":S=O.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":S=O.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":S=O.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof g.is=="string"?O.createElement("select",{is:g.is}):O.createElement("select"),g.multiple?S.multiple=!0:g.size&&(S.size=g.size);break;default:S=typeof g.is=="string"?O.createElement(x,{is:g.is}):O.createElement(x)}}S[ln]=c,S[Bn]=g;e:for(O=c.child;O!==null;){if(O.tag===5||O.tag===6)S.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===c)break e;for(;O.sibling===null;){if(O.return===null||O.return===c)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}c.stateNode=S;e:switch(fn(S,x,g),x){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Ji(c)}}return dt(c),ev(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,f),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==g&&Ji(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(s=G.current,ro(c)){if(s=c.stateNode,f=c.memoizedProps,g=null,x=on,x!==null)switch(x.tag){case 27:case 5:g=x.memoizedProps}s[ln]=c,s=!!(s.nodeValue===f||g!==null&&g.suppressHydrationWarning===!0||hO(s.nodeValue,f)),s||Ua(c,!0)}else s=Nd(s).createTextNode(g),s[ln]=c,c.stateNode=s}return dt(c),null;case 31:if(f=c.memoizedState,s===null||s.memoizedState!==null){if(g=ro(c),f!==null){if(s===null){if(!g)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[ln]=c}else Fs(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;dt(c),s=!1}else f=uy(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),s=!0;if(!s)return c.flags&256?(lr(c),c):(lr(c),null);if((c.flags&128)!==0)throw Error(r(558))}return dt(c),null;case 13:if(g=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(x=ro(c),g!==null&&g.dehydrated!==null){if(s===null){if(!x)throw Error(r(318));if(x=c.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[ln]=c}else Fs(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;dt(c),x=!1}else x=uy(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=x),x=!0;if(!x)return c.flags&256?(lr(c),c):(lr(c),null)}return lr(c),(c.flags&128)!==0?(c.lanes=f,c):(f=g!==null,s=s!==null&&s.memoizedState!==null,f&&(g=c.child,x=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(x=g.alternate.memoizedState.cachePool.pool),S=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(S=g.memoizedState.cachePool.pool),S!==x&&(g.flags|=2048)),f!==s&&f&&(c.child.flags|=8192),ud(c,c.updateQueue),dt(c),null);case 4:return re(),s===null&&Sv(c.stateNode.containerInfo),dt(c),null;case 10:return Yi(c.type),dt(c),null;case 19:if(W(At),g=c.memoizedState,g===null)return dt(c),null;if(x=(c.flags&128)!==0,S=g.rendering,S===null)if(x)iu(g,!1);else{if(Ct!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(S=Xh(s),S!==null){for(c.flags|=128,iu(g,!1),s=S.updateQueue,c.updateQueue=s,ud(c,s),c.subtreeFlags=0,s=f,f=c.child;f!==null;)FC(f,s),f=f.sibling;return fe(At,At.current&1|2),$e&&Ki(c,g.treeForkCount),c.child}s=s.sibling}g.tail!==null&&tr()>pd&&(c.flags|=128,x=!0,iu(g,!1),c.lanes=4194304)}else{if(!x)if(s=Xh(S),s!==null){if(c.flags|=128,x=!0,s=s.updateQueue,c.updateQueue=s,ud(c,s),iu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!S.alternate&&!$e)return dt(c),null}else 2*tr()-g.renderingStartTime>pd&&f!==536870912&&(c.flags|=128,x=!0,iu(g,!1),c.lanes=4194304);g.isBackwards?(S.sibling=c.child,c.child=S):(s=g.last,s!==null?s.sibling=S:c.child=S,g.last=S)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=tr(),s.sibling=null,f=At.current,fe(At,x?f&1|2:f&1),$e&&Ki(c,g.treeForkCount),s):(dt(c),null);case 22:case 23:return lr(c),jy(),g=c.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(f&536870912)!==0&&(c.flags&128)===0&&(dt(c),c.subtreeFlags&6&&(c.flags|=8192)):dt(c),f=c.updateQueue,f!==null&&ud(c,f.retryQueue),f=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==f&&(c.flags|=2048),s!==null&&W(Ks),null;case 24:return f=null,s!==null&&(f=s.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),Yi(_t),dt(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function h7(s,c){switch(oy(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return Yi(_t),re(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return Ee(c),null;case 31:if(c.memoizedState!==null){if(lr(c),c.alternate===null)throw Error(r(340));Fs()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(lr(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Fs()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return W(At),null;case 4:return re(),null;case 10:return Yi(c.type),null;case 22:case 23:return lr(c),jy(),s!==null&&W(Ks),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return Yi(_t),null;case 25:return null;default:return null}}function yk(s,c){switch(oy(c),c.tag){case 3:Yi(_t),re();break;case 26:case 27:case 5:Ee(c);break;case 4:re();break;case 31:c.memoizedState!==null&&lr(c);break;case 13:lr(c);break;case 19:W(At);break;case 10:Yi(c.type);break;case 22:case 23:lr(c),jy(),s!==null&&W(Ks);break;case 24:Yi(_t)}}function au(s,c){try{var f=c.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var x=g.next;f=x;do{if((f.tag&s)===s){g=void 0;var S=f.create,O=f.inst;g=S(),O.destroy=g}f=f.next}while(f!==x)}}catch(P){Je(c,c.return,P)}}function Ka(s,c,f){try{var g=c.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var S=x.next;g=S;do{if((g.tag&s)===s){var O=g.inst,P=O.destroy;if(P!==void 0){O.destroy=void 0,x=c;var U=f,X=P;try{X()}catch(ae){Je(x,U,ae)}}}g=g.next}while(g!==S)}}catch(ae){Je(c,c.return,ae)}}function vk(s){var c=s.updateQueue;if(c!==null){var f=s.stateNode;try{oN(c,f)}catch(g){Je(s,s.return,g)}}}function xk(s,c,f){f.props=Zs(s.type,s.memoizedProps),f.state=s.memoizedState;try{f.componentWillUnmount()}catch(g){Je(s,c,g)}}function su(s,c){try{var f=s.ref;if(f!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof f=="function"?s.refCleanup=f(g):f.current=g}}catch(x){Je(s,c,x)}}function di(s,c){var f=s.ref,g=s.refCleanup;if(f!==null)if(typeof g=="function")try{g()}catch(x){Je(s,c,x)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(x){Je(s,c,x)}else f.current=null}function bk(s){var c=s.type,f=s.memoizedProps,g=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&g.focus();break e;case"img":f.src?g.src=f.src:f.srcSet&&(g.srcset=f.srcSet)}}catch(x){Je(s,s.return,x)}}function tv(s,c,f){try{var g=s.stateNode;_7(g,s.type,f,c),g[Bn]=c}catch(x){Je(s,s.return,x)}}function wk(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&es(s.type)||s.tag===4}function nv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||wk(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&es(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function rv(s,c,f){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(s,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(s),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Fi));else if(g!==4&&(g===27&&es(s.type)&&(f=s.stateNode,c=null),s=s.child,s!==null))for(rv(s,c,f),s=s.sibling;s!==null;)rv(s,c,f),s=s.sibling}function fd(s,c,f){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?f.insertBefore(s,c):f.appendChild(s);else if(g!==4&&(g===27&&es(s.type)&&(f=s.stateNode),s=s.child,s!==null))for(fd(s,c,f),s=s.sibling;s!==null;)fd(s,c,f),s=s.sibling}function Sk(s){var c=s.stateNode,f=s.memoizedProps;try{for(var g=s.type,x=c.attributes;x.length;)c.removeAttributeNode(x[0]);fn(c,g,f),c[ln]=s,c[Bn]=f}catch(S){Je(s,s.return,S)}}var ea=!1,Bt=!1,iv=!1,jk=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function d7(s,c){if(s=s.containerInfo,Nv=Dd,s=RC(s),X0(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var x=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var O=0,P=-1,U=-1,X=0,ae=0,oe=s,J=null;t:for(;;){for(var ne;oe!==f||x!==0&&oe.nodeType!==3||(P=O+x),oe!==S||g!==0&&oe.nodeType!==3||(U=O+g),oe.nodeType===3&&(O+=oe.nodeValue.length),(ne=oe.firstChild)!==null;)J=oe,oe=ne;for(;;){if(oe===s)break t;if(J===f&&++X===x&&(P=O),J===S&&++ae===g&&(U=O),(ne=oe.nextSibling)!==null)break;oe=J,J=oe.parentNode}oe=ne}f=P===-1||U===-1?null:{start:P,end:U}}else f=null}f=f||{start:0,end:0}}else f=null;for(kv={focusedElem:s,selectionRange:f},Dd=!1,Gt=c;Gt!==null;)if(c=Gt,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,Gt=s;else for(;Gt!==null;){switch(c=Gt,S=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(f=0;f<s.length;f++)x=s[f],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&S!==null){s=void 0,f=c,x=S.memoizedProps,S=S.memoizedState,g=f.stateNode;try{var be=Zs(f.type,x);s=g.getSnapshotBeforeUpdate(be,S),g.__reactInternalSnapshotBeforeUpdate=s}catch(Te){Je(f,f.return,Te)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,f=s.nodeType,f===9)Ev(s);else if(f===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ev(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,Gt=s;break}Gt=c.return}}function Ck(s,c,f){var g=f.flags;switch(f.tag){case 0:case 11:case 15:na(s,f),g&4&&au(5,f);break;case 1:if(na(s,f),g&4)if(s=f.stateNode,c===null)try{s.componentDidMount()}catch(O){Je(f,f.return,O)}else{var x=Zs(f.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(x,c,s.__reactInternalSnapshotBeforeUpdate)}catch(O){Je(f,f.return,O)}}g&64&&vk(f),g&512&&su(f,f.return);break;case 3:if(na(s,f),g&64&&(s=f.updateQueue,s!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{oN(s,c)}catch(O){Je(f,f.return,O)}}break;case 27:c===null&&g&4&&Sk(f);case 26:case 5:na(s,f),c===null&&g&4&&bk(f),g&512&&su(f,f.return);break;case 12:na(s,f);break;case 31:na(s,f),g&4&&Ok(s,f);break;case 13:na(s,f),g&4&&Ak(s,f),g&64&&(s=f.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(f=S7.bind(null,f),$7(s,f))));break;case 22:if(g=f.memoizedState!==null||ea,!g){c=c!==null&&c.memoizedState!==null||Bt,x=ea;var S=Bt;ea=g,(Bt=c)&&!S?ra(s,f,(f.subtreeFlags&8772)!==0):na(s,f),ea=x,Bt=S}break;case 30:break;default:na(s,f)}}function Nk(s){var c=s.alternate;c!==null&&(s.alternate=null,Nk(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&_0(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var pt=null,In=!1;function ta(s,c,f){for(f=f.child;f!==null;)kk(s,c,f),f=f.sibling}function kk(s,c,f){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(Tc,f)}catch{}switch(f.tag){case 26:Bt||di(f,c),ta(s,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Bt||di(f,c);var g=pt,x=In;es(f.type)&&(pt=f.stateNode,In=!1),ta(s,c,f),pu(f.stateNode),pt=g,In=x;break;case 5:Bt||di(f,c);case 6:if(g=pt,x=In,pt=null,ta(s,c,f),pt=g,In=x,pt!==null)if(In)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(f.stateNode)}catch(S){Je(f,c,S)}else try{pt.removeChild(f.stateNode)}catch(S){Je(f,c,S)}break;case 18:pt!==null&&(In?(s=pt,vO(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,f.stateNode),No(s)):vO(pt,f.stateNode));break;case 4:g=pt,x=In,pt=f.stateNode.containerInfo,In=!0,ta(s,c,f),pt=g,In=x;break;case 0:case 11:case 14:case 15:Ka(2,f,c),Bt||Ka(4,f,c),ta(s,c,f);break;case 1:Bt||(di(f,c),g=f.stateNode,typeof g.componentWillUnmount=="function"&&xk(f,c,g)),ta(s,c,f);break;case 21:ta(s,c,f);break;case 22:Bt=(g=Bt)||f.memoizedState!==null,ta(s,c,f),Bt=g;break;default:ta(s,c,f)}}function Ok(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{No(s)}catch(f){Je(c,c.return,f)}}}function Ak(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{No(s)}catch(f){Je(c,c.return,f)}}function m7(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new jk),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new jk),c;default:throw Error(r(435,s.tag))}}function hd(s,c){var f=m7(s);c.forEach(function(g){if(!f.has(g)){f.add(g);var x=j7.bind(null,s,g);g.then(x,x)}})}function Un(s,c){var f=c.deletions;if(f!==null)for(var g=0;g<f.length;g++){var x=f[g],S=s,O=c,P=O;e:for(;P!==null;){switch(P.tag){case 27:if(es(P.type)){pt=P.stateNode,In=!1;break e}break;case 5:pt=P.stateNode,In=!1;break e;case 3:case 4:pt=P.stateNode.containerInfo,In=!0;break e}P=P.return}if(pt===null)throw Error(r(160));kk(S,O,x),pt=null,In=!1,S=x.alternate,S!==null&&(S.return=null),x.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)Ek(c,s),c=c.sibling}var Qr=null;function Ek(s,c){var f=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Un(c,s),Hn(s),g&4&&(Ka(3,s,s.return),au(3,s),Ka(5,s,s.return));break;case 1:Un(c,s),Hn(s),g&512&&(Bt||f===null||di(f,f.return)),g&64&&ea&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(f=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=f===null?g:f.concat(g))));break;case 26:var x=Qr;if(Un(c,s),Hn(s),g&512&&(Bt||f===null||di(f,f.return)),g&4){var S=f!==null?f.memoizedState:null;if(g=s.memoizedState,f===null)if(g===null)if(s.stateNode===null){e:{g=s.type,f=s.memoizedProps,x=x.ownerDocument||x;t:switch(g){case"title":S=x.getElementsByTagName("title")[0],(!S||S[Pc]||S[ln]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=x.createElement(g),x.head.insertBefore(S,x.querySelector("head > title"))),fn(S,g,f),S[ln]=s,Kt(S),g=S;break e;case"link":var O=EO("link","href",x).get(g+(f.href||""));if(O){for(var P=0;P<O.length;P++)if(S=O[P],S.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&S.getAttribute("rel")===(f.rel==null?null:f.rel)&&S.getAttribute("title")===(f.title==null?null:f.title)&&S.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){O.splice(P,1);break t}}S=x.createElement(g),fn(S,g,f),x.head.appendChild(S);break;case"meta":if(O=EO("meta","content",x).get(g+(f.content||""))){for(P=0;P<O.length;P++)if(S=O[P],S.getAttribute("content")===(f.content==null?null:""+f.content)&&S.getAttribute("name")===(f.name==null?null:f.name)&&S.getAttribute("property")===(f.property==null?null:f.property)&&S.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&S.getAttribute("charset")===(f.charSet==null?null:f.charSet)){O.splice(P,1);break t}}S=x.createElement(g),fn(S,g,f),x.head.appendChild(S);break;default:throw Error(r(468,g))}S[ln]=s,Kt(S),g=S}s.stateNode=g}else TO(x,s.type,s.stateNode);else s.stateNode=AO(x,g,s.memoizedProps);else S!==g?(S===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):S.count--,g===null?TO(x,s.type,s.stateNode):AO(x,g,s.memoizedProps)):g===null&&s.stateNode!==null&&tv(s,s.memoizedProps,f.memoizedProps)}break;case 27:Un(c,s),Hn(s),g&512&&(Bt||f===null||di(f,f.return)),f!==null&&g&4&&tv(s,s.memoizedProps,f.memoizedProps);break;case 5:if(Un(c,s),Hn(s),g&512&&(Bt||f===null||di(f,f.return)),s.flags&32){x=s.stateNode;try{Kl(x,"")}catch(be){Je(s,s.return,be)}}g&4&&s.stateNode!=null&&(x=s.memoizedProps,tv(s,x,f!==null?f.memoizedProps:x)),g&1024&&(iv=!0);break;case 6:if(Un(c,s),Hn(s),g&4){if(s.stateNode===null)throw Error(r(162));g=s.memoizedProps,f=s.stateNode;try{f.nodeValue=g}catch(be){Je(s,s.return,be)}}break;case 3:if(Ad=null,x=Qr,Qr=kd(c.containerInfo),Un(c,s),Qr=x,Hn(s),g&4&&f!==null&&f.memoizedState.isDehydrated)try{No(c.containerInfo)}catch(be){Je(s,s.return,be)}iv&&(iv=!1,Tk(s));break;case 4:g=Qr,Qr=kd(s.stateNode.containerInfo),Un(c,s),Hn(s),Qr=g;break;case 12:Un(c,s),Hn(s);break;case 31:Un(c,s),Hn(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,hd(s,g)));break;case 13:Un(c,s),Hn(s),s.child.flags&8192&&s.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(md=tr()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,hd(s,g)));break;case 22:x=s.memoizedState!==null;var U=f!==null&&f.memoizedState!==null,X=ea,ae=Bt;if(ea=X||x,Bt=ae||U,Un(c,s),Bt=ae,ea=X,Hn(s),g&8192)e:for(c=s.stateNode,c._visibility=x?c._visibility&-2:c._visibility|1,x&&(f===null||U||ea||Bt||Js(s)),f=null,c=s;;){if(c.tag===5||c.tag===26){if(f===null){U=f=c;try{if(S=U.stateNode,x)O=S.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{P=U.stateNode;var oe=U.memoizedProps.style,J=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;P.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(be){Je(U,U.return,be)}}}else if(c.tag===6){if(f===null){U=c;try{U.stateNode.nodeValue=x?"":U.memoizedProps}catch(be){Je(U,U.return,be)}}}else if(c.tag===18){if(f===null){U=c;try{var ne=U.stateNode;x?xO(ne,!0):xO(U.stateNode,!1)}catch(be){Je(U,U.return,be)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=s.updateQueue,g!==null&&(f=g.retryQueue,f!==null&&(g.retryQueue=null,hd(s,f))));break;case 19:Un(c,s),Hn(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,hd(s,g)));break;case 30:break;case 21:break;default:Un(c,s),Hn(s)}}function Hn(s){var c=s.flags;if(c&2){try{for(var f,g=s.return;g!==null;){if(wk(g)){f=g;break}g=g.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var x=f.stateNode,S=nv(s);fd(s,S,x);break;case 5:var O=f.stateNode;f.flags&32&&(Kl(O,""),f.flags&=-33);var P=nv(s);fd(s,P,O);break;case 3:case 4:var U=f.stateNode.containerInfo,X=nv(s);rv(s,X,U);break;default:throw Error(r(161))}}catch(ae){Je(s,s.return,ae)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function Tk(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;Tk(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function na(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Ck(s,c.alternate,c),c=c.sibling}function Js(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:Ka(4,c,c.return),Js(c);break;case 1:di(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&xk(c,c.return,f),Js(c);break;case 27:pu(c.stateNode);case 26:case 5:di(c,c.return),Js(c);break;case 22:c.memoizedState===null&&Js(c);break;case 30:Js(c);break;default:Js(c)}s=s.sibling}}function ra(s,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,x=s,S=c,O=S.flags;switch(S.tag){case 0:case 11:case 15:ra(x,S,f),au(4,S);break;case 1:if(ra(x,S,f),g=S,x=g.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(X){Je(g,g.return,X)}if(g=S,x=g.updateQueue,x!==null){var P=g.stateNode;try{var U=x.shared.hiddenCallbacks;if(U!==null)for(x.shared.hiddenCallbacks=null,x=0;x<U.length;x++)lN(U[x],P)}catch(X){Je(g,g.return,X)}}f&&O&64&&vk(S),su(S,S.return);break;case 27:Sk(S);case 26:case 5:ra(x,S,f),f&&g===null&&O&4&&bk(S),su(S,S.return);break;case 12:ra(x,S,f);break;case 31:ra(x,S,f),f&&O&4&&Ok(x,S);break;case 13:ra(x,S,f),f&&O&4&&Ak(x,S);break;case 22:S.memoizedState===null&&ra(x,S,f),su(S,S.return);break;case 30:break;default:ra(x,S,f)}c=c.sibling}}function av(s,c){var f=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==f&&(s!=null&&s.refCount++,f!=null&&Wc(f))}function sv(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Wc(s))}function Xr(s,c,f,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Mk(s,c,f,g),c=c.sibling}function Mk(s,c,f,g){var x=c.flags;switch(c.tag){case 0:case 11:case 15:Xr(s,c,f,g),x&2048&&au(9,c);break;case 1:Xr(s,c,f,g);break;case 3:Xr(s,c,f,g),x&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Wc(s)));break;case 12:if(x&2048){Xr(s,c,f,g),s=c.stateNode;try{var S=c.memoizedProps,O=S.id,P=S.onPostCommit;typeof P=="function"&&P(O,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(U){Je(c,c.return,U)}}else Xr(s,c,f,g);break;case 31:Xr(s,c,f,g);break;case 13:Xr(s,c,f,g);break;case 23:break;case 22:S=c.stateNode,O=c.alternate,c.memoizedState!==null?S._visibility&2?Xr(s,c,f,g):lu(s,c):S._visibility&2?Xr(s,c,f,g):(S._visibility|=2,mo(s,c,f,g,(c.subtreeFlags&10256)!==0||!1)),x&2048&&av(O,c);break;case 24:Xr(s,c,f,g),x&2048&&sv(c.alternate,c);break;default:Xr(s,c,f,g)}}function mo(s,c,f,g,x){for(x=x&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var S=s,O=c,P=f,U=g,X=O.flags;switch(O.tag){case 0:case 11:case 15:mo(S,O,P,U,x),au(8,O);break;case 23:break;case 22:var ae=O.stateNode;O.memoizedState!==null?ae._visibility&2?mo(S,O,P,U,x):lu(S,O):(ae._visibility|=2,mo(S,O,P,U,x)),x&&X&2048&&av(O.alternate,O);break;case 24:mo(S,O,P,U,x),x&&X&2048&&sv(O.alternate,O);break;default:mo(S,O,P,U,x)}c=c.sibling}}function lu(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=s,g=c,x=g.flags;switch(g.tag){case 22:lu(f,g),x&2048&&av(g.alternate,g);break;case 24:lu(f,g),x&2048&&sv(g.alternate,g);break;default:lu(f,g)}c=c.sibling}}var ou=8192;function po(s,c,f){if(s.subtreeFlags&ou)for(s=s.child;s!==null;)Dk(s,c,f),s=s.sibling}function Dk(s,c,f){switch(s.tag){case 26:po(s,c,f),s.flags&ou&&s.memoizedState!==null&&e9(f,Qr,s.memoizedState,s.memoizedProps);break;case 5:po(s,c,f);break;case 3:case 4:var g=Qr;Qr=kd(s.stateNode.containerInfo),po(s,c,f),Qr=g;break;case 22:s.memoizedState===null&&(g=s.alternate,g!==null&&g.memoizedState!==null?(g=ou,ou=16777216,po(s,c,f),ou=g):po(s,c,f));break;default:po(s,c,f)}}function Pk(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function cu(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];Gt=g,Rk(g,s)}Pk(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_k(s),s=s.sibling}function _k(s){switch(s.tag){case 0:case 11:case 15:cu(s),s.flags&2048&&Ka(9,s,s.return);break;case 3:cu(s);break;case 12:cu(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,dd(s)):cu(s);break;default:cu(s)}}function dd(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];Gt=g,Rk(g,s)}Pk(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:Ka(8,c,c.return),dd(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,dd(c));break;default:dd(c)}s=s.sibling}}function Rk(s,c){for(;Gt!==null;){var f=Gt;switch(f.tag){case 0:case 11:case 15:Ka(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var g=f.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Wc(f.memoizedState.cache)}if(g=f.child,g!==null)g.return=f,Gt=g;else e:for(f=s;Gt!==null;){g=Gt;var x=g.sibling,S=g.return;if(Nk(g),g===f){Gt=null;break e}if(x!==null){x.return=S,Gt=x;break e}Gt=S}}}var p7={getCacheForType:function(s){var c=cn(_t),f=c.data.get(s);return f===void 0&&(f=s(),c.data.set(s,f)),f},cacheSignal:function(){return cn(_t).controller.signal}},g7=typeof WeakMap=="function"?WeakMap:Map,Ye=0,st=null,Be=null,Ue=0,Ze=0,or=null,Ga=!1,go=!1,lv=!1,ia=0,Ct=0,Ya=0,el=0,ov=0,cr=0,yo=0,uu=null,$n=null,cv=!1,md=0,Lk=0,pd=1/0,gd=null,Qa=null,Ht=0,Xa=null,vo=null,aa=0,uv=0,fv=null,Bk=null,fu=0,hv=null;function ur(){return(Ye&2)!==0&&Ue!==0?Ue&-Ue:H.T!==null?vv():Jj()}function zk(){if(cr===0)if((Ue&536870912)===0||$e){var s=Ch;Ch<<=1,(Ch&3932160)===0&&(Ch=262144),cr=s}else cr=536870912;return s=sr.current,s!==null&&(s.flags|=32),cr}function qn(s,c,f){(s===st&&(Ze===2||Ze===9)||s.cancelPendingCommit!==null)&&(xo(s,0),Za(s,Ue,cr,!1)),Dc(s,f),((Ye&2)===0||s!==st)&&(s===st&&((Ye&2)===0&&(el|=f),Ct===4&&Za(s,Ue,cr,!1)),mi(s))}function Ik(s,c,f){if((Ye&6)!==0)throw Error(r(327));var g=!f&&(c&127)===0&&(c&s.expiredLanes)===0||Mc(s,c),x=g?x7(s,c):mv(s,c,!0),S=g;do{if(x===0){go&&!g&&Za(s,c,0,!1);break}else{if(f=s.current.alternate,S&&!y7(f)){x=mv(s,c,!1),S=!1;continue}if(x===2){if(S=c,s.errorRecoveryDisabledLanes&S)var O=0;else O=s.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){c=O;e:{var P=s;x=uu;var U=P.current.memoizedState.isDehydrated;if(U&&(xo(P,O).flags|=256),O=mv(P,O,!1),O!==2){if(lv&&!U){P.errorRecoveryDisabledLanes|=S,el|=S,x=4;break e}S=$n,$n=x,S!==null&&($n===null?$n=S:$n.push.apply($n,S))}x=O}if(S=!1,x!==2)continue}}if(x===1){xo(s,0),Za(s,c,0,!0);break}e:{switch(g=s,S=x,S){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Za(g,c,cr,!Ga);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(x=md+300-tr(),10<x)){if(Za(g,c,cr,!Ga),kh(g,0,!0)!==0)break e;aa=c,g.timeoutHandle=gO(Uk.bind(null,g,f,$n,gd,cv,c,cr,el,yo,Ga,S,"Throttled",-0,0),x);break e}Uk(g,f,$n,gd,cv,c,cr,el,yo,Ga,S,null,-0,0)}}break}while(!0);mi(s)}function Uk(s,c,f,g,x,S,O,P,U,X,ae,oe,J,ne){if(s.timeoutHandle=-1,oe=c.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fi},Dk(c,S,oe);var be=(S&62914560)===S?md-tr():(S&4194048)===S?Lk-tr():0;if(be=t9(oe,be),be!==null){aa=S,s.cancelPendingCommit=be(Gk.bind(null,s,c,S,f,g,x,O,P,U,ae,oe,null,J,ne)),Za(s,S,O,!X);return}}Gk(s,c,S,f,g,x,O,P,U)}function y7(s){for(var c=s;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var g=0;g<f.length;g++){var x=f[g],S=x.getSnapshot;x=x.value;try{if(!ir(S(),x))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Za(s,c,f,g){c&=~ov,c&=~el,s.suspendedLanes|=c,s.pingedLanes&=~c,g&&(s.warmLanes|=c),g=s.expirationTimes;for(var x=c;0<x;){var S=31-rr(x),O=1<<S;g[S]=-1,x&=~O}f!==0&&Qj(s,f,c)}function yd(){return(Ye&6)===0?(hu(0),!1):!0}function dv(){if(Be!==null){if(Ze===0)var s=Be.return;else s=Be,Gi=Vs=null,Ey(s),oo=null,Gc=0,s=Be;for(;s!==null;)yk(s.alternate,s),s=s.return;Be=null}}function xo(s,c){var f=s.timeoutHandle;f!==-1&&(s.timeoutHandle=-1,B7(f)),f=s.cancelPendingCommit,f!==null&&(s.cancelPendingCommit=null,f()),aa=0,dv(),st=s,Be=f=Wi(s.current,null),Ue=c,Ze=0,or=null,Ga=!1,go=Mc(s,c),lv=!1,yo=cr=ov=el=Ya=Ct=0,$n=uu=null,cv=!1,(c&8)!==0&&(c|=c&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=c;0<g;){var x=31-rr(g),S=1<<x;c|=s[x],g&=~S}return ia=c,zh(),f}function Hk(s,c){_e=null,H.H=nu,c===lo||c===Wh?(c=rN(),Ze=3):c===yy?(c=rN(),Ze=4):Ze=c===Vy?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,or=c,Be===null&&(Ct=1,sd(s,Nr(c,s.current)))}function $k(){var s=sr.current;return s===null?!0:(Ue&4194048)===Ue?Er===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?s===Er:!1}function qk(){var s=H.H;return H.H=nu,s===null?nu:s}function Fk(){var s=H.A;return H.A=p7,s}function vd(){Ct=4,Ga||(Ue&4194048)!==Ue&&sr.current!==null||(go=!0),(Ya&134217727)===0&&(el&134217727)===0||st===null||Za(st,Ue,cr,!1)}function mv(s,c,f){var g=Ye;Ye|=2;var x=qk(),S=Fk();(st!==s||Ue!==c)&&(gd=null,xo(s,c)),c=!1;var O=Ct;e:do try{if(Ze!==0&&Be!==null){var P=Be,U=or;switch(Ze){case 8:dv(),O=6;break e;case 3:case 2:case 9:case 6:sr.current===null&&(c=!0);var X=Ze;if(Ze=0,or=null,bo(s,P,U,X),f&&go){O=0;break e}break;default:X=Ze,Ze=0,or=null,bo(s,P,U,X)}}v7(),O=Ct;break}catch(ae){Hk(s,ae)}while(!0);return c&&s.shellSuspendCounter++,Gi=Vs=null,Ye=g,H.H=x,H.A=S,Be===null&&(st=null,Ue=0,zh()),O}function v7(){for(;Be!==null;)Vk(Be)}function x7(s,c){var f=Ye;Ye|=2;var g=qk(),x=Fk();st!==s||Ue!==c?(gd=null,pd=tr()+500,xo(s,c)):go=Mc(s,c);e:do try{if(Ze!==0&&Be!==null){c=Be;var S=or;t:switch(Ze){case 1:Ze=0,or=null,bo(s,c,S,1);break;case 2:case 9:if(tN(S)){Ze=0,or=null,Wk(c);break}c=function(){Ze!==2&&Ze!==9||st!==s||(Ze=7),mi(s)},S.then(c,c);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:tN(S)?(Ze=0,or=null,Wk(c)):(Ze=0,or=null,bo(s,c,S,7));break;case 5:var O=null;switch(Be.tag){case 26:O=Be.memoizedState;case 5:case 27:var P=Be;if(O?MO(O):P.stateNode.complete){Ze=0,or=null;var U=P.sibling;if(U!==null)Be=U;else{var X=P.return;X!==null?(Be=X,xd(X)):Be=null}break t}}Ze=0,or=null,bo(s,c,S,5);break;case 6:Ze=0,or=null,bo(s,c,S,6);break;case 8:dv(),Ct=6;break e;default:throw Error(r(462))}}b7();break}catch(ae){Hk(s,ae)}while(!0);return Gi=Vs=null,H.H=g,H.A=x,Ye=f,Be!==null?0:(st=null,Ue=0,zh(),Ct)}function b7(){for(;Be!==null&&!qz();)Vk(Be)}function Vk(s){var c=pk(s.alternate,s,ia);s.memoizedProps=s.pendingProps,c===null?xd(s):Be=c}function Wk(s){var c=s,f=c.alternate;switch(c.tag){case 15:case 0:c=ck(f,c,c.pendingProps,c.type,void 0,Ue);break;case 11:c=ck(f,c,c.pendingProps,c.type.render,c.ref,Ue);break;case 5:Ey(c);default:yk(f,c),c=Be=FC(c,ia),c=pk(f,c,ia)}s.memoizedProps=s.pendingProps,c===null?xd(s):Be=c}function bo(s,c,f,g){Gi=Vs=null,Ey(c),oo=null,Gc=0;var x=c.return;try{if(o7(s,x,c,f,Ue)){Ct=1,sd(s,Nr(f,s.current)),Be=null;return}}catch(S){if(x!==null)throw Be=x,S;Ct=1,sd(s,Nr(f,s.current)),Be=null;return}c.flags&32768?($e||g===1?s=!0:go||(Ue&536870912)!==0?s=!1:(Ga=s=!0,(g===2||g===9||g===3||g===6)&&(g=sr.current,g!==null&&g.tag===13&&(g.flags|=16384))),Kk(c,s)):xd(c)}function xd(s){var c=s;do{if((c.flags&32768)!==0){Kk(c,Ga);return}s=c.return;var f=f7(c.alternate,c,ia);if(f!==null){Be=f;return}if(c=c.sibling,c!==null){Be=c;return}Be=c=s}while(c!==null);Ct===0&&(Ct=5)}function Kk(s,c){do{var f=h7(s.alternate,s);if(f!==null){f.flags&=32767,Be=f;return}if(f=s.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(s=s.sibling,s!==null)){Be=s;return}Be=s=f}while(s!==null);Ct=6,Be=null}function Gk(s,c,f,g,x,S,O,P,U){s.cancelPendingCommit=null;do bd();while(Ht!==0);if((Ye&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(S=c.lanes|c.childLanes,S|=ny,Jz(s,f,S,O,P,U),s===st&&(Be=st=null,Ue=0),vo=c,Xa=s,aa=f,uv=S,fv=x,Bk=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,C7(Sh,function(){return Jk(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=H.T,H.T=null,x=V.p,V.p=2,O=Ye,Ye|=4;try{d7(s,c,f)}finally{Ye=O,V.p=x,H.T=g}}Ht=1,Yk(),Qk(),Xk()}}function Yk(){if(Ht===1){Ht=0;var s=Xa,c=vo,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=H.T,H.T=null;var g=V.p;V.p=2;var x=Ye;Ye|=4;try{Ek(c,s);var S=kv,O=RC(s.containerInfo),P=S.focusedElem,U=S.selectionRange;if(O!==P&&P&&P.ownerDocument&&_C(P.ownerDocument.documentElement,P)){if(U!==null&&X0(P)){var X=U.start,ae=U.end;if(ae===void 0&&(ae=X),"selectionStart"in P)P.selectionStart=X,P.selectionEnd=Math.min(ae,P.value.length);else{var oe=P.ownerDocument||document,J=oe&&oe.defaultView||window;if(J.getSelection){var ne=J.getSelection(),be=P.textContent.length,Te=Math.min(U.start,be),rt=U.end===void 0?Te:Math.min(U.end,be);!ne.extend&&Te>rt&&(O=rt,rt=Te,Te=O);var K=PC(P,Te),q=PC(P,rt);if(K&&q&&(ne.rangeCount!==1||ne.anchorNode!==K.node||ne.anchorOffset!==K.offset||ne.focusNode!==q.node||ne.focusOffset!==q.offset)){var Y=oe.createRange();Y.setStart(K.node,K.offset),ne.removeAllRanges(),Te>rt?(ne.addRange(Y),ne.extend(q.node,q.offset)):(Y.setEnd(q.node,q.offset),ne.addRange(Y))}}}}for(oe=[],ne=P;ne=ne.parentNode;)ne.nodeType===1&&oe.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<oe.length;P++){var le=oe[P];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Dd=!!Nv,kv=Nv=null}finally{Ye=x,V.p=g,H.T=f}}s.current=c,Ht=2}}function Qk(){if(Ht===2){Ht=0;var s=Xa,c=vo,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=H.T,H.T=null;var g=V.p;V.p=2;var x=Ye;Ye|=4;try{Ck(s,c.alternate,c)}finally{Ye=x,V.p=g,H.T=f}}Ht=3}}function Xk(){if(Ht===4||Ht===3){Ht=0,Fz();var s=Xa,c=vo,f=aa,g=Bk;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Ht=5:(Ht=0,vo=Xa=null,Zk(s,s.pendingLanes));var x=s.pendingLanes;if(x===0&&(Qa=null),D0(f),c=c.stateNode,nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(Tc,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=H.T,x=V.p,V.p=2,H.T=null;try{for(var S=s.onRecoverableError,O=0;O<g.length;O++){var P=g[O];S(P.value,{componentStack:P.stack})}}finally{H.T=c,V.p=x}}(aa&3)!==0&&bd(),mi(s),x=s.pendingLanes,(f&261930)!==0&&(x&42)!==0?s===hv?fu++:(fu=0,hv=s):fu=0,hu(0)}}function Zk(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,Wc(c)))}function bd(){return Yk(),Qk(),Xk(),Jk()}function Jk(){if(Ht!==5)return!1;var s=Xa,c=uv;uv=0;var f=D0(aa),g=H.T,x=V.p;try{V.p=32>f?32:f,H.T=null,f=fv,fv=null;var S=Xa,O=aa;if(Ht=0,vo=Xa=null,aa=0,(Ye&6)!==0)throw Error(r(331));var P=Ye;if(Ye|=4,_k(S.current),Mk(S,S.current,O,f),Ye=P,hu(0,!1),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(Tc,S)}catch{}return!0}finally{V.p=x,H.T=g,Zk(s,c)}}function eO(s,c,f){c=Nr(f,c),c=Fy(s.stateNode,c,2),s=Fa(s,c,2),s!==null&&(Dc(s,2),mi(s))}function Je(s,c,f){if(s.tag===3)eO(s,s,f);else for(;c!==null;){if(c.tag===3){eO(c,s,f);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Qa===null||!Qa.has(g))){s=Nr(f,s),f=tk(2),g=Fa(c,f,2),g!==null&&(nk(f,g,c,s),Dc(g,2),mi(g));break}}c=c.return}}function pv(s,c,f){var g=s.pingCache;if(g===null){g=s.pingCache=new g7;var x=new Set;g.set(c,x)}else x=g.get(c),x===void 0&&(x=new Set,g.set(c,x));x.has(f)||(lv=!0,x.add(f),s=w7.bind(null,s,c,f),c.then(s,s))}function w7(s,c,f){var g=s.pingCache;g!==null&&g.delete(c),s.pingedLanes|=s.suspendedLanes&f,s.warmLanes&=~f,st===s&&(Ue&f)===f&&(Ct===4||Ct===3&&(Ue&62914560)===Ue&&300>tr()-md?(Ye&2)===0&&xo(s,0):ov|=f,yo===Ue&&(yo=0)),mi(s)}function tO(s,c){c===0&&(c=Yj()),s=$s(s,c),s!==null&&(Dc(s,c),mi(s))}function S7(s){var c=s.memoizedState,f=0;c!==null&&(f=c.retryLane),tO(s,f)}function j7(s,c){var f=0;switch(s.tag){case 31:case 13:var g=s.stateNode,x=s.memoizedState;x!==null&&(f=x.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(c),tO(s,f)}function C7(s,c){return A0(s,c)}var wd=null,wo=null,gv=!1,Sd=!1,yv=!1,Ja=0;function mi(s){s!==wo&&s.next===null&&(wo===null?wd=wo=s:wo=wo.next=s),Sd=!0,gv||(gv=!0,k7())}function hu(s,c){if(!yv&&Sd){yv=!0;do for(var f=!1,g=wd;g!==null;){if(s!==0){var x=g.pendingLanes;if(x===0)var S=0;else{var O=g.suspendedLanes,P=g.pingedLanes;S=(1<<31-rr(42|s)+1)-1,S&=x&~(O&~P),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(f=!0,aO(g,S))}else S=Ue,S=kh(g,g===st?S:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(S&3)===0||Mc(g,S)||(f=!0,aO(g,S));g=g.next}while(f);yv=!1}}function N7(){nO()}function nO(){Sd=gv=!1;var s=0;Ja!==0&&L7()&&(s=Ja);for(var c=tr(),f=null,g=wd;g!==null;){var x=g.next,S=rO(g,c);S===0?(g.next=null,f===null?wd=x:f.next=x,x===null&&(wo=f)):(f=g,(s!==0||(S&3)!==0)&&(Sd=!0)),g=x}Ht!==0&&Ht!==5||hu(s),Ja!==0&&(Ja=0)}function rO(s,c){for(var f=s.suspendedLanes,g=s.pingedLanes,x=s.expirationTimes,S=s.pendingLanes&-62914561;0<S;){var O=31-rr(S),P=1<<O,U=x[O];U===-1?((P&f)===0||(P&g)!==0)&&(x[O]=Zz(P,c)):U<=c&&(s.expiredLanes|=P),S&=~P}if(c=st,f=Ue,f=kh(s,s===c?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,f===0||s===c&&(Ze===2||Ze===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&E0(g),s.callbackNode=null,s.callbackPriority=0;if((f&3)===0||Mc(s,f)){if(c=f&-f,c===s.callbackPriority)return c;switch(g!==null&&E0(g),D0(f)){case 2:case 8:f=Kj;break;case 32:f=Sh;break;case 268435456:f=Gj;break;default:f=Sh}return g=iO.bind(null,s),f=A0(f,g),s.callbackPriority=c,s.callbackNode=f,c}return g!==null&&g!==null&&E0(g),s.callbackPriority=2,s.callbackNode=null,2}function iO(s,c){if(Ht!==0&&Ht!==5)return s.callbackNode=null,s.callbackPriority=0,null;var f=s.callbackNode;if(bd()&&s.callbackNode!==f)return null;var g=Ue;return g=kh(s,s===st?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(Ik(s,g,c),rO(s,tr()),s.callbackNode!=null&&s.callbackNode===f?iO.bind(null,s):null)}function aO(s,c){if(bd())return null;Ik(s,c,!0)}function k7(){z7(function(){(Ye&6)!==0?A0(Wj,N7):nO()})}function vv(){if(Ja===0){var s=ao;s===0&&(s=jh,jh<<=1,(jh&261888)===0&&(jh=256)),Ja=s}return Ja}function sO(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Th(""+s)}function lO(s,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,s.id&&f.setAttribute("form",s.id),c.parentNode.insertBefore(f,c),s=new FormData(s),f.parentNode.removeChild(f),s}function O7(s,c,f,g,x){if(c==="submit"&&f&&f.stateNode===x){var S=sO((x[Bn]||null).action),O=g.submitter;O&&(c=(c=O[Bn]||null)?sO(c.formAction):O.getAttribute("formAction"),c!==null&&(S=c,O=null));var P=new _h("action","action",null,g,x);s.push({event:P,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Ja!==0){var U=O?lO(x,O):new FormData(x);zy(f,{pending:!0,data:U,method:x.method,action:S},null,U)}}else typeof S=="function"&&(P.preventDefault(),U=O?lO(x,O):new FormData(x),zy(f,{pending:!0,data:U,method:x.method,action:S},S,U))},currentTarget:x}]})}}for(var xv=0;xv<ty.length;xv++){var bv=ty[xv],A7=bv.toLowerCase(),E7=bv[0].toUpperCase()+bv.slice(1);Yr(A7,"on"+E7)}Yr(zC,"onAnimationEnd"),Yr(IC,"onAnimationIteration"),Yr(UC,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(VI,"onTransitionRun"),Yr(WI,"onTransitionStart"),Yr(KI,"onTransitionCancel"),Yr(HC,"onTransitionEnd"),Vl("onMouseEnter",["mouseout","mouseover"]),Vl("onMouseLeave",["mouseout","mouseover"]),Vl("onPointerEnter",["pointerout","pointerover"]),Vl("onPointerLeave",["pointerout","pointerover"]),zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zs("onBeforeInput",["compositionend","keypress","textInput","paste"]),zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(du));function oO(s,c){c=(c&4)!==0;for(var f=0;f<s.length;f++){var g=s[f],x=g.event;g=g.listeners;e:{var S=void 0;if(c)for(var O=g.length-1;0<=O;O--){var P=g[O],U=P.instance,X=P.currentTarget;if(P=P.listener,U!==S&&x.isPropagationStopped())break e;S=P,x.currentTarget=X;try{S(x)}catch(ae){Bh(ae)}x.currentTarget=null,S=U}else for(O=0;O<g.length;O++){if(P=g[O],U=P.instance,X=P.currentTarget,P=P.listener,U!==S&&x.isPropagationStopped())break e;S=P,x.currentTarget=X;try{S(x)}catch(ae){Bh(ae)}x.currentTarget=null,S=U}}}}function ze(s,c){var f=c[P0];f===void 0&&(f=c[P0]=new Set);var g=s+"__bubble";f.has(g)||(cO(c,s,2,!1),f.add(g))}function wv(s,c,f){var g=0;c&&(g|=4),cO(f,s,g,c)}var jd="_reactListening"+Math.random().toString(36).slice(2);function Sv(s){if(!s[jd]){s[jd]=!0,nC.forEach(function(f){f!=="selectionchange"&&(T7.has(f)||wv(f,!1,s),wv(f,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[jd]||(c[jd]=!0,wv("selectionchange",!1,c))}}function cO(s,c,f,g){switch(zO(c)){case 2:var x=i9;break;case 8:x=a9;break;default:x=Bv}f=x.bind(null,c,f,s),x=void 0,!$0||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(x=!0),g?x!==void 0?s.addEventListener(c,f,{capture:!0,passive:x}):s.addEventListener(c,f,!0):x!==void 0?s.addEventListener(c,f,{passive:x}):s.addEventListener(c,f,!1)}function jv(s,c,f,g,x){var S=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var P=g.stateNode.containerInfo;if(P===x)break;if(O===4)for(O=g.return;O!==null;){var U=O.tag;if((U===3||U===4)&&O.stateNode.containerInfo===x)return;O=O.return}for(;P!==null;){if(O=$l(P),O===null)return;if(U=O.tag,U===5||U===6||U===26||U===27){g=S=O;continue e}P=P.parentNode}}g=g.return}mC(function(){var X=S,ae=U0(f),oe=[];e:{var J=$C.get(s);if(J!==void 0){var ne=_h,be=s;switch(s){case"keypress":if(Dh(f)===0)break e;case"keydown":case"keyup":ne=jI;break;case"focusin":be="focus",ne=W0;break;case"focusout":be="blur",ne=W0;break;case"beforeblur":case"afterblur":ne=W0;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=yC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=fI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=kI;break;case zC:case IC:case UC:ne=mI;break;case HC:ne=AI;break;case"scroll":case"scrollend":ne=cI;break;case"wheel":ne=TI;break;case"copy":case"cut":case"paste":ne=gI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=xC;break;case"toggle":case"beforetoggle":ne=DI}var Te=(c&4)!==0,rt=!Te&&(s==="scroll"||s==="scrollend"),K=Te?J!==null?J+"Capture":null:J;Te=[];for(var q=X,Y;q!==null;){var le=q;if(Y=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Y===null||K===null||(le=Rc(q,K),le!=null&&Te.push(mu(q,le,Y))),rt)break;q=q.return}0<Te.length&&(J=new ne(J,be,null,f,ae),oe.push({event:J,listeners:Te}))}}if((c&7)===0){e:{if(J=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",J&&f!==I0&&(be=f.relatedTarget||f.fromElement)&&($l(be)||be[Hl]))break e;if((ne||J)&&(J=ae.window===ae?ae:(J=ae.ownerDocument)?J.defaultView||J.parentWindow:window,ne?(be=f.relatedTarget||f.toElement,ne=X,be=be?$l(be):null,be!==null&&(rt=a(be),Te=be.tag,be!==rt||Te!==5&&Te!==27&&Te!==6)&&(be=null)):(ne=null,be=X),ne!==be)){if(Te=yC,le="onMouseLeave",K="onMouseEnter",q="mouse",(s==="pointerout"||s==="pointerover")&&(Te=xC,le="onPointerLeave",K="onPointerEnter",q="pointer"),rt=ne==null?J:_c(ne),Y=be==null?J:_c(be),J=new Te(le,q+"leave",ne,f,ae),J.target=rt,J.relatedTarget=Y,le=null,$l(ae)===X&&(Te=new Te(K,q+"enter",be,f,ae),Te.target=Y,Te.relatedTarget=rt,le=Te),rt=le,ne&&be)t:{for(Te=M7,K=ne,q=be,Y=0,le=K;le;le=Te(le))Y++;le=0;for(var Ne=q;Ne;Ne=Te(Ne))le++;for(;0<Y-le;)K=Te(K),Y--;for(;0<le-Y;)q=Te(q),le--;for(;Y--;){if(K===q||q!==null&&K===q.alternate){Te=K;break t}K=Te(K),q=Te(q)}Te=null}else Te=null;ne!==null&&uO(oe,J,ne,Te,!1),be!==null&&rt!==null&&uO(oe,rt,be,Te,!0)}}e:{if(J=X?_c(X):window,ne=J.nodeName&&J.nodeName.toLowerCase(),ne==="select"||ne==="input"&&J.type==="file")var Ve=OC;else if(NC(J))if(AC)Ve=$I;else{Ve=UI;var Se=II}else ne=J.nodeName,!ne||ne.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&z0(X.elementType)&&(Ve=OC):Ve=HI;if(Ve&&(Ve=Ve(s,X))){kC(oe,Ve,f,ae);break e}Se&&Se(s,J,X),s==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&B0(J,"number",J.value)}switch(Se=X?_c(X):window,s){case"focusin":(NC(Se)||Se.contentEditable==="true")&&(Xl=Se,Z0=X,qc=null);break;case"focusout":qc=Z0=Xl=null;break;case"mousedown":J0=!0;break;case"contextmenu":case"mouseup":case"dragend":J0=!1,LC(oe,f,ae);break;case"selectionchange":if(FI)break;case"keydown":case"keyup":LC(oe,f,ae)}var Re;if(G0)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Ql?jC(s,f)&&(He="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(He="onCompositionStart");He&&(bC&&f.locale!=="ko"&&(Ql||He!=="onCompositionStart"?He==="onCompositionEnd"&&Ql&&(Re=pC()):(Ba=ae,q0="value"in Ba?Ba.value:Ba.textContent,Ql=!0)),Se=Cd(X,He),0<Se.length&&(He=new vC(He,s,null,f,ae),oe.push({event:He,listeners:Se}),Re?He.data=Re:(Re=CC(f),Re!==null&&(He.data=Re)))),(Re=_I?RI(s,f):LI(s,f))&&(He=Cd(X,"onBeforeInput"),0<He.length&&(Se=new vC("onBeforeInput","beforeinput",null,f,ae),oe.push({event:Se,listeners:He}),Se.data=Re)),O7(oe,s,X,f,ae)}oO(oe,c)})}function mu(s,c,f){return{instance:s,listener:c,currentTarget:f}}function Cd(s,c){for(var f=c+"Capture",g=[];s!==null;){var x=s,S=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||S===null||(x=Rc(s,f),x!=null&&g.unshift(mu(s,x,S)),x=Rc(s,c),x!=null&&g.push(mu(s,x,S))),s.tag===3)return g;s=s.return}return[]}function M7(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function uO(s,c,f,g,x){for(var S=c._reactName,O=[];f!==null&&f!==g;){var P=f,U=P.alternate,X=P.stateNode;if(P=P.tag,U!==null&&U===g)break;P!==5&&P!==26&&P!==27||X===null||(U=X,x?(X=Rc(f,S),X!=null&&O.unshift(mu(f,X,U))):x||(X=Rc(f,S),X!=null&&O.push(mu(f,X,U)))),f=f.return}O.length!==0&&s.push({event:c,listeners:O})}var D7=/\r\n?/g,P7=/\u0000|\uFFFD/g;function fO(s){return(typeof s=="string"?s:""+s).replace(D7,`
`).replace(P7,"")}function hO(s,c){return c=fO(c),fO(s)===c}function nt(s,c,f,g,x,S){switch(f){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||Kl(s,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&Kl(s,""+g);break;case"className":Ah(s,"class",g);break;case"tabIndex":Ah(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Ah(s,f,g);break;case"style":hC(s,g,S);break;case"data":if(c!=="object"){Ah(s,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||f!=="href")){s.removeAttribute(f);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(f);break}g=Th(""+g),s.setAttribute(f,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(f==="formAction"?(c!=="input"&&nt(s,c,"name",x.name,x,null),nt(s,c,"formEncType",x.formEncType,x,null),nt(s,c,"formMethod",x.formMethod,x,null),nt(s,c,"formTarget",x.formTarget,x,null)):(nt(s,c,"encType",x.encType,x,null),nt(s,c,"method",x.method,x,null),nt(s,c,"target",x.target,x,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(f);break}g=Th(""+g),s.setAttribute(f,g);break;case"onClick":g!=null&&(s.onclick=Fi);break;case"onScroll":g!=null&&ze("scroll",s);break;case"onScrollEnd":g!=null&&ze("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(f=g.__html,f!=null){if(x.children!=null)throw Error(r(60));s.innerHTML=f}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}f=Th(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(f,""+g):s.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(f,""):s.removeAttribute(f);break;case"capture":case"download":g===!0?s.setAttribute(f,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(f,g):s.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(f,g):s.removeAttribute(f);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(f):s.setAttribute(f,g);break;case"popover":ze("beforetoggle",s),ze("toggle",s),Oh(s,"popover",g);break;case"xlinkActuate":qi(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":qi(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":qi(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":qi(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":qi(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":qi(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":qi(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":qi(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":qi(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Oh(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=lI.get(f)||f,Oh(s,f,g))}}function Cv(s,c,f,g,x,S){switch(f){case"style":hC(s,g,S);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(f=g.__html,f!=null){if(x.children!=null)throw Error(r(60));s.innerHTML=f}}break;case"children":typeof g=="string"?Kl(s,g):(typeof g=="number"||typeof g=="bigint")&&Kl(s,""+g);break;case"onScroll":g!=null&&ze("scroll",s);break;case"onScrollEnd":g!=null&&ze("scrollend",s);break;case"onClick":g!=null&&(s.onclick=Fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rC.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(x=f.endsWith("Capture"),c=f.slice(2,x?f.length-7:void 0),S=s[Bn]||null,S=S!=null?S[f]:null,typeof S=="function"&&s.removeEventListener(c,S,x),typeof g=="function")){typeof S!="function"&&S!==null&&(f in s?s[f]=null:s.hasAttribute(f)&&s.removeAttribute(f)),s.addEventListener(c,g,x);break e}f in s?s[f]=g:g===!0?s.setAttribute(f,""):Oh(s,f,g)}}}function fn(s,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",s),ze("load",s);var g=!1,x=!1,S;for(S in f)if(f.hasOwnProperty(S)){var O=f[S];if(O!=null)switch(S){case"src":g=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:nt(s,c,S,O,f,null)}}x&&nt(s,c,"srcSet",f.srcSet,f,null),g&&nt(s,c,"src",f.src,f,null);return;case"input":ze("invalid",s);var P=S=O=x=null,U=null,X=null;for(g in f)if(f.hasOwnProperty(g)){var ae=f[g];if(ae!=null)switch(g){case"name":x=ae;break;case"type":O=ae;break;case"checked":U=ae;break;case"defaultChecked":X=ae;break;case"value":S=ae;break;case"defaultValue":P=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,c));break;default:nt(s,c,g,ae,f,null)}}oC(s,S,P,U,X,O,x,!1);return;case"select":ze("invalid",s),g=O=S=null;for(x in f)if(f.hasOwnProperty(x)&&(P=f[x],P!=null))switch(x){case"value":S=P;break;case"defaultValue":O=P;break;case"multiple":g=P;default:nt(s,c,x,P,f,null)}c=S,f=O,s.multiple=!!g,c!=null?Wl(s,!!g,c,!1):f!=null&&Wl(s,!!g,f,!0);return;case"textarea":ze("invalid",s),S=x=g=null;for(O in f)if(f.hasOwnProperty(O)&&(P=f[O],P!=null))switch(O){case"value":g=P;break;case"defaultValue":x=P;break;case"children":S=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:nt(s,c,O,P,f,null)}uC(s,g,x,S);return;case"option":for(U in f)f.hasOwnProperty(U)&&(g=f[U],g!=null)&&(U==="selected"?s.selected=g&&typeof g!="function"&&typeof g!="symbol":nt(s,c,U,g,f,null));return;case"dialog":ze("beforetoggle",s),ze("toggle",s),ze("cancel",s),ze("close",s);break;case"iframe":case"object":ze("load",s);break;case"video":case"audio":for(g=0;g<du.length;g++)ze(du[g],s);break;case"image":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"embed":case"source":case"link":ze("error",s),ze("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in f)if(f.hasOwnProperty(X)&&(g=f[X],g!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:nt(s,c,X,g,f,null)}return;default:if(z0(c)){for(ae in f)f.hasOwnProperty(ae)&&(g=f[ae],g!==void 0&&Cv(s,c,ae,g,f,void 0));return}}for(P in f)f.hasOwnProperty(P)&&(g=f[P],g!=null&&nt(s,c,P,g,f,null))}function _7(s,c,f,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,S=null,O=null,P=null,U=null,X=null,ae=null;for(ne in f){var oe=f[ne];if(f.hasOwnProperty(ne)&&oe!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":U=oe;default:g.hasOwnProperty(ne)||nt(s,c,ne,null,g,oe)}}for(var J in g){var ne=g[J];if(oe=f[J],g.hasOwnProperty(J)&&(ne!=null||oe!=null))switch(J){case"type":S=ne;break;case"name":x=ne;break;case"checked":X=ne;break;case"defaultChecked":ae=ne;break;case"value":O=ne;break;case"defaultValue":P=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,c));break;default:ne!==oe&&nt(s,c,J,ne,g,oe)}}L0(s,O,P,U,X,ae,S,x);return;case"select":ne=O=P=J=null;for(S in f)if(U=f[S],f.hasOwnProperty(S)&&U!=null)switch(S){case"value":break;case"multiple":ne=U;default:g.hasOwnProperty(S)||nt(s,c,S,null,g,U)}for(x in g)if(S=g[x],U=f[x],g.hasOwnProperty(x)&&(S!=null||U!=null))switch(x){case"value":J=S;break;case"defaultValue":P=S;break;case"multiple":O=S;default:S!==U&&nt(s,c,x,S,g,U)}c=P,f=O,g=ne,J!=null?Wl(s,!!f,J,!1):!!g!=!!f&&(c!=null?Wl(s,!!f,c,!0):Wl(s,!!f,f?[]:"",!1));return;case"textarea":ne=J=null;for(P in f)if(x=f[P],f.hasOwnProperty(P)&&x!=null&&!g.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:nt(s,c,P,null,g,x)}for(O in g)if(x=g[O],S=f[O],g.hasOwnProperty(O)&&(x!=null||S!=null))switch(O){case"value":J=x;break;case"defaultValue":ne=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==S&&nt(s,c,O,x,g,S)}cC(s,J,ne);return;case"option":for(var be in f)J=f[be],f.hasOwnProperty(be)&&J!=null&&!g.hasOwnProperty(be)&&(be==="selected"?s.selected=!1:nt(s,c,be,null,g,J));for(U in g)J=g[U],ne=f[U],g.hasOwnProperty(U)&&J!==ne&&(J!=null||ne!=null)&&(U==="selected"?s.selected=J&&typeof J!="function"&&typeof J!="symbol":nt(s,c,U,J,g,ne));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in f)J=f[Te],f.hasOwnProperty(Te)&&J!=null&&!g.hasOwnProperty(Te)&&nt(s,c,Te,null,g,J);for(X in g)if(J=g[X],ne=f[X],g.hasOwnProperty(X)&&J!==ne&&(J!=null||ne!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,c));break;default:nt(s,c,X,J,g,ne)}return;default:if(z0(c)){for(var rt in f)J=f[rt],f.hasOwnProperty(rt)&&J!==void 0&&!g.hasOwnProperty(rt)&&Cv(s,c,rt,void 0,g,J);for(ae in g)J=g[ae],ne=f[ae],!g.hasOwnProperty(ae)||J===ne||J===void 0&&ne===void 0||Cv(s,c,ae,J,g,ne);return}}for(var K in f)J=f[K],f.hasOwnProperty(K)&&J!=null&&!g.hasOwnProperty(K)&&nt(s,c,K,null,g,J);for(oe in g)J=g[oe],ne=f[oe],!g.hasOwnProperty(oe)||J===ne||J==null&&ne==null||nt(s,c,oe,J,g,ne)}function dO(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function R7(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,f=performance.getEntriesByType("resource"),g=0;g<f.length;g++){var x=f[g],S=x.transferSize,O=x.initiatorType,P=x.duration;if(S&&P&&dO(O)){for(O=0,P=x.responseEnd,g+=1;g<f.length;g++){var U=f[g],X=U.startTime;if(X>P)break;var ae=U.transferSize,oe=U.initiatorType;ae&&dO(oe)&&(U=U.responseEnd,O+=ae*(U<P?1:(P-X)/(U-X)))}if(--g,c+=8*(S+O)/(x.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Nv=null,kv=null;function Nd(s){return s.nodeType===9?s:s.ownerDocument}function mO(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pO(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function Ov(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Av=null;function L7(){var s=window.event;return s&&s.type==="popstate"?s===Av?!1:(Av=s,!0):(Av=null,!1)}var gO=typeof setTimeout=="function"?setTimeout:void 0,B7=typeof clearTimeout=="function"?clearTimeout:void 0,yO=typeof Promise=="function"?Promise:void 0,z7=typeof queueMicrotask=="function"?queueMicrotask:typeof yO<"u"?function(s){return yO.resolve(null).then(s).catch(I7)}:gO;function I7(s){setTimeout(function(){throw s})}function es(s){return s==="head"}function vO(s,c){var f=c,g=0;do{var x=f.nextSibling;if(s.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"||f==="/&"){if(g===0){s.removeChild(x),No(c);return}g--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")g++;else if(f==="html")pu(s.ownerDocument.documentElement);else if(f==="head"){f=s.ownerDocument.head,pu(f);for(var S=f.firstChild;S;){var O=S.nextSibling,P=S.nodeName;S[Pc]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&S.rel.toLowerCase()==="stylesheet"||f.removeChild(S),S=O}}else f==="body"&&pu(s.ownerDocument.body);f=x}while(f);No(c)}function xO(s,c){var f=s;s=0;do{var g=f.nextSibling;if(f.nodeType===1?c?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(c?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),g&&g.nodeType===8)if(f=g.data,f==="/$"){if(s===0)break;s--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||s++;f=g}while(f)}function Ev(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Ev(f),_0(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}s.removeChild(f)}}function U7(s,c,f,g){for(;s.nodeType===1;){var x=f;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[Pc])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(S=s.getAttribute("rel"),S==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(S!==x.rel||s.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||s.getAttribute("title")!==(x.title==null?null:x.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(S=s.getAttribute("src"),(S!==(x.src==null?null:x.src)||s.getAttribute("type")!==(x.type==null?null:x.type)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&S&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var S=x.name==null?null:""+x.name;if(x.type==="hidden"&&s.getAttribute("name")===S)return s}else return s;if(s=Tr(s.nextSibling),s===null)break}return null}function H7(s,c,f){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!f||(s=Tr(s.nextSibling),s===null))return null;return s}function bO(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Tr(s.nextSibling),s===null))return null;return s}function Tv(s){return s.data==="$?"||s.data==="$~"}function Mv(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function $7(s,c){var f=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||f.readyState!=="loading")c();else{var g=function(){c(),f.removeEventListener("DOMContentLoaded",g)};f.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function Tr(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var Dv=null;function wO(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"||f==="/&"){if(c===0)return Tr(s.nextSibling);c--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||c++}s=s.nextSibling}return null}function SO(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(c===0)return s;c--}else f!=="/$"&&f!=="/&"||c++}s=s.previousSibling}return null}function jO(s,c,f){switch(c=Nd(f),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function pu(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);_0(s)}var Mr=new Map,CO=new Set;function kd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var sa=V.d;V.d={f:q7,r:F7,D:V7,C:W7,L:K7,m:G7,X:Q7,S:Y7,M:X7};function q7(){var s=sa.f(),c=yd();return s||c}function F7(s){var c=ql(s);c!==null&&c.tag===5&&c.type==="form"?HN(c):sa.r(s)}var So=typeof document>"u"?null:document;function NO(s,c,f){var g=So;if(g&&typeof c=="string"&&c){var x=jr(c);x='link[rel="'+s+'"][href="'+x+'"]',typeof f=="string"&&(x+='[crossorigin="'+f+'"]'),CO.has(x)||(CO.add(x),s={rel:s,crossOrigin:f,href:c},g.querySelector(x)===null&&(c=g.createElement("link"),fn(c,"link",s),Kt(c),g.head.appendChild(c)))}}function V7(s){sa.D(s),NO("dns-prefetch",s,null)}function W7(s,c){sa.C(s,c),NO("preconnect",s,c)}function K7(s,c,f){sa.L(s,c,f);var g=So;if(g&&s&&c){var x='link[rel="preload"][as="'+jr(c)+'"]';c==="image"&&f&&f.imageSrcSet?(x+='[imagesrcset="'+jr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(x+='[imagesizes="'+jr(f.imageSizes)+'"]')):x+='[href="'+jr(s)+'"]';var S=x;switch(c){case"style":S=jo(s);break;case"script":S=Co(s)}Mr.has(S)||(s=p({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:s,as:c},f),Mr.set(S,s),g.querySelector(x)!==null||c==="style"&&g.querySelector(gu(S))||c==="script"&&g.querySelector(yu(S))||(c=g.createElement("link"),fn(c,"link",s),Kt(c),g.head.appendChild(c)))}}function G7(s,c){sa.m(s,c);var f=So;if(f&&s){var g=c&&typeof c.as=="string"?c.as:"script",x='link[rel="modulepreload"][as="'+jr(g)+'"][href="'+jr(s)+'"]',S=x;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Co(s)}if(!Mr.has(S)&&(s=p({rel:"modulepreload",href:s},c),Mr.set(S,s),f.querySelector(x)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(yu(S)))return}g=f.createElement("link"),fn(g,"link",s),Kt(g),f.head.appendChild(g)}}}function Y7(s,c,f){sa.S(s,c,f);var g=So;if(g&&s){var x=Fl(g).hoistableStyles,S=jo(s);c=c||"default";var O=x.get(S);if(!O){var P={loading:0,preload:null};if(O=g.querySelector(gu(S)))P.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":c},f),(f=Mr.get(S))&&Pv(s,f);var U=O=g.createElement("link");Kt(U),fn(U,"link",s),U._p=new Promise(function(X,ae){U.onload=X,U.onerror=ae}),U.addEventListener("load",function(){P.loading|=1}),U.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Od(O,c,g)}O={type:"stylesheet",instance:O,count:1,state:P},x.set(S,O)}}}function Q7(s,c){sa.X(s,c);var f=So;if(f&&s){var g=Fl(f).hoistableScripts,x=Co(s),S=g.get(x);S||(S=f.querySelector(yu(x)),S||(s=p({src:s,async:!0},c),(c=Mr.get(x))&&_v(s,c),S=f.createElement("script"),Kt(S),fn(S,"link",s),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(x,S))}}function X7(s,c){sa.M(s,c);var f=So;if(f&&s){var g=Fl(f).hoistableScripts,x=Co(s),S=g.get(x);S||(S=f.querySelector(yu(x)),S||(s=p({src:s,async:!0,type:"module"},c),(c=Mr.get(x))&&_v(s,c),S=f.createElement("script"),Kt(S),fn(S,"link",s),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(x,S))}}function kO(s,c,f,g){var x=(x=G.current)?kd(x):null;if(!x)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=jo(f.href),f=Fl(x).hoistableStyles,g=f.get(c),g||(g={type:"style",instance:null,count:0,state:null},f.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){s=jo(f.href);var S=Fl(x).hoistableStyles,O=S.get(s);if(O||(x=x.ownerDocument||x,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(s,O),(S=x.querySelector(gu(s)))&&!S._p&&(O.instance=S,O.state.loading=5),Mr.has(s)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Mr.set(s,f),S||Z7(x,s,f,O.state))),c&&g===null)throw Error(r(528,""));return O}if(c&&g!==null)throw Error(r(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Co(f),f=Fl(x).hoistableScripts,g=f.get(c),g||(g={type:"script",instance:null,count:0,state:null},f.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function jo(s){return'href="'+jr(s)+'"'}function gu(s){return'link[rel="stylesheet"]['+s+"]"}function OO(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function Z7(s,c,f,g){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=s.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),fn(c,"link",f),Kt(c),s.head.appendChild(c))}function Co(s){return'[src="'+jr(s)+'"]'}function yu(s){return"script[async]"+s}function AO(s,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var g=s.querySelector('style[data-href~="'+jr(f.href)+'"]');if(g)return c.instance=g,Kt(g),g;var x=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),Kt(g),fn(g,"style",x),Od(g,f.precedence,s),c.instance=g;case"stylesheet":x=jo(f.href);var S=s.querySelector(gu(x));if(S)return c.state.loading|=4,c.instance=S,Kt(S),S;g=OO(f),(x=Mr.get(x))&&Pv(g,x),S=(s.ownerDocument||s).createElement("link"),Kt(S);var O=S;return O._p=new Promise(function(P,U){O.onload=P,O.onerror=U}),fn(S,"link",g),c.state.loading|=4,Od(S,f.precedence,s),c.instance=S;case"script":return S=Co(f.src),(x=s.querySelector(yu(S)))?(c.instance=x,Kt(x),x):(g=f,(x=Mr.get(S))&&(g=p({},f),_v(g,x)),s=s.ownerDocument||s,x=s.createElement("script"),Kt(x),fn(x,"link",g),s.head.appendChild(x),c.instance=x);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,Od(g,f.precedence,s));return c.instance}function Od(s,c,f){for(var g=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=g.length?g[g.length-1]:null,S=x,O=0;O<g.length;O++){var P=g[O];if(P.dataset.precedence===c)S=P;else if(S!==x)break}S?S.parentNode.insertBefore(s,S.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(s,c.firstChild))}function Pv(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function _v(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var Ad=null;function EO(s,c,f){if(Ad===null){var g=new Map,x=Ad=new Map;x.set(f,g)}else x=Ad,g=x.get(f),g||(g=new Map,x.set(f,g));if(g.has(s))return g;for(g.set(s,null),f=f.getElementsByTagName(s),x=0;x<f.length;x++){var S=f[x];if(!(S[Pc]||S[ln]||s==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var O=S.getAttribute(c)||"";O=s+O;var P=g.get(O);P?P.push(S):g.set(O,[S])}}return g}function TO(s,c,f){s=s.ownerDocument||s,s.head.insertBefore(f,c==="title"?s.querySelector("head > title"):null)}function J7(s,c,f){if(f===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;return c.rel==="stylesheet"?(s=c.disabled,typeof c.precedence=="string"&&s==null):!0;case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function MO(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function e9(s,c,f,g){if(f.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var x=jo(g.href),S=c.querySelector(gu(x));if(S){c=S._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=Ed.bind(s),c.then(s,s)),f.state.loading|=4,f.instance=S,Kt(S);return}S=c.ownerDocument||c,g=OO(g),(x=Mr.get(x))&&Pv(g,x),S=S.createElement("link"),Kt(S);var O=S;O._p=new Promise(function(P,U){O.onload=P,O.onerror=U}),fn(S,"link",g),f.instance=S}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(s.count++,f=Ed.bind(s),c.addEventListener("load",f),c.addEventListener("error",f))}}var Rv=0;function t9(s,c){return s.stylesheets&&s.count===0&&Md(s,s.stylesheets),0<s.count||0<s.imgCount?function(f){var g=setTimeout(function(){if(s.stylesheets&&Md(s,s.stylesheets),s.unsuspend){var S=s.unsuspend;s.unsuspend=null,S()}},6e4+c);0<s.imgBytes&&Rv===0&&(Rv=62500*R7());var x=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Md(s,s.stylesheets),s.unsuspend)){var S=s.unsuspend;s.unsuspend=null,S()}},(s.imgBytes>Rv?50:800)+c);return s.unsuspend=f,function(){s.unsuspend=null,clearTimeout(g),clearTimeout(x)}}:null}function Ed(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Md(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Td=null;function Md(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Td=new Map,c.forEach(n9,s),Td=null,Ed.call(s))}function n9(s,c){if(!(c.state.loading&4)){var f=Td.get(s);if(f)var g=f.get(null);else{f=new Map,Td.set(s,f);for(var x=s.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<x.length;S++){var O=x[S];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(f.set(O.dataset.precedence,O),g=O)}g&&f.set(null,g)}x=c.instance,O=x.getAttribute("data-precedence"),S=f.get(O)||g,S===g&&f.set(null,x),f.set(O,x),this.count++,g=Ed.bind(this),x.addEventListener("load",g),x.addEventListener("error",g),S?S.parentNode.insertBefore(x,S.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(x,s.firstChild)),c.state.loading|=4}}var vu={$$typeof:k,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function r9(s,c,f,g,x,S,O,P,U){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=T0(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=T0(0),this.hiddenUpdates=T0(null),this.identifierPrefix=g,this.onUncaughtError=x,this.onCaughtError=S,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function DO(s,c,f,g,x,S,O,P,U,X,ae,oe){return s=new r9(s,c,f,O,U,X,ae,oe,P),c=1,S===!0&&(c|=24),S=ar(3,null,null,c),s.current=S,S.stateNode=s,c=my(),c.refCount++,s.pooledCache=c,c.refCount++,S.memoizedState={element:g,isDehydrated:f,cache:c},vy(S),s}function PO(s){return s?(s=eo,s):eo}function _O(s,c,f,g,x,S){x=PO(x),g.context===null?g.context=x:g.pendingContext=x,g=qa(c),g.payload={element:f},S=S===void 0?null:S,S!==null&&(g.callback=S),f=Fa(s,g,c),f!==null&&(qn(f,s,c),Qc(f,s,c))}function RO(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<c?f:c}}function Lv(s,c){RO(s,c),(s=s.alternate)&&RO(s,c)}function LO(s){if(s.tag===13||s.tag===31){var c=$s(s,67108864);c!==null&&qn(c,s,67108864),Lv(s,67108864)}}function BO(s){if(s.tag===13||s.tag===31){var c=ur();c=M0(c);var f=$s(s,c);f!==null&&qn(f,s,c),Lv(s,c)}}var Dd=!0;function i9(s,c,f,g){var x=H.T;H.T=null;var S=V.p;try{V.p=2,Bv(s,c,f,g)}finally{V.p=S,H.T=x}}function a9(s,c,f,g){var x=H.T;H.T=null;var S=V.p;try{V.p=8,Bv(s,c,f,g)}finally{V.p=S,H.T=x}}function Bv(s,c,f,g){if(Dd){var x=zv(g);if(x===null)jv(s,c,g,Pd,f),IO(s,g);else if(l9(x,s,c,f,g))g.stopPropagation();else if(IO(s,g),c&4&&-1<s9.indexOf(s)){for(;x!==null;){var S=ql(x);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var O=Bs(S.pendingLanes);if(O!==0){var P=S;for(P.pendingLanes|=2,P.entangledLanes|=2;O;){var U=1<<31-rr(O);P.entanglements[1]|=U,O&=~U}mi(S),(Ye&6)===0&&(pd=tr()+500,hu(0))}}break;case 31:case 13:P=$s(S,2),P!==null&&qn(P,S,2),yd(),Lv(S,2)}if(S=zv(g),S===null&&jv(s,c,g,Pd,f),S===x)break;x=S}x!==null&&g.stopPropagation()}else jv(s,c,g,null,f)}}function zv(s){return s=U0(s),Iv(s)}var Pd=null;function Iv(s){if(Pd=null,s=$l(s),s!==null){var c=a(s);if(c===null)s=null;else{var f=c.tag;if(f===13){if(s=l(c),s!==null)return s;s=null}else if(f===31){if(s=o(c),s!==null)return s;s=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return Pd=s,null}function zO(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vz()){case Wj:return 2;case Kj:return 8;case Sh:case Wz:return 32;case Gj:return 268435456;default:return 32}default:return 32}}var Uv=!1,ts=null,ns=null,rs=null,xu=new Map,bu=new Map,is=[],s9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function IO(s,c){switch(s){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":xu.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":bu.delete(c.pointerId)}}function wu(s,c,f,g,x,S){return s===null||s.nativeEvent!==S?(s={blockedOn:c,domEventName:f,eventSystemFlags:g,nativeEvent:S,targetContainers:[x]},c!==null&&(c=ql(c),c!==null&&LO(c)),s):(s.eventSystemFlags|=g,c=s.targetContainers,x!==null&&c.indexOf(x)===-1&&c.push(x),s)}function l9(s,c,f,g,x){switch(c){case"focusin":return ts=wu(ts,s,c,f,g,x),!0;case"dragenter":return ns=wu(ns,s,c,f,g,x),!0;case"mouseover":return rs=wu(rs,s,c,f,g,x),!0;case"pointerover":var S=x.pointerId;return xu.set(S,wu(xu.get(S)||null,s,c,f,g,x)),!0;case"gotpointercapture":return S=x.pointerId,bu.set(S,wu(bu.get(S)||null,s,c,f,g,x)),!0}return!1}function UO(s){var c=$l(s.target);if(c!==null){var f=a(c);if(f!==null){if(c=f.tag,c===13){if(c=l(f),c!==null){s.blockedOn=c,eC(s.priority,function(){BO(f)});return}}else if(c===31){if(c=o(f),c!==null){s.blockedOn=c,eC(s.priority,function(){BO(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function _d(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var f=zv(s.nativeEvent);if(f===null){f=s.nativeEvent;var g=new f.constructor(f.type,f);I0=g,f.target.dispatchEvent(g),I0=null}else return c=ql(f),c!==null&&LO(c),s.blockedOn=f,!1;c.shift()}return!0}function HO(s,c,f){_d(s)&&f.delete(c)}function o9(){Uv=!1,ts!==null&&_d(ts)&&(ts=null),ns!==null&&_d(ns)&&(ns=null),rs!==null&&_d(rs)&&(rs=null),xu.forEach(HO),bu.forEach(HO)}function Rd(s,c){s.blockedOn===c&&(s.blockedOn=null,Uv||(Uv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,o9)))}var Ld=null;function $O(s){Ld!==s&&(Ld=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ld===s&&(Ld=null);for(var c=0;c<s.length;c+=3){var f=s[c],g=s[c+1],x=s[c+2];if(typeof g!="function"){if(Iv(g||f)===null)continue;break}var S=ql(f);S!==null&&(s.splice(c,3),c-=3,zy(S,{pending:!0,data:x,method:f.method,action:g},g,x))}}))}function No(s){function c(U){return Rd(U,s)}ts!==null&&Rd(ts,s),ns!==null&&Rd(ns,s),rs!==null&&Rd(rs,s),xu.forEach(c),bu.forEach(c);for(var f=0;f<is.length;f++){var g=is[f];g.blockedOn===s&&(g.blockedOn=null)}for(;0<is.length&&(f=is[0],f.blockedOn===null);)UO(f),f.blockedOn===null&&is.shift();if(f=(s.ownerDocument||s).$$reactFormReplay,f!=null)for(g=0;g<f.length;g+=3){var x=f[g],S=f[g+1],O=x[Bn]||null;if(typeof S=="function")O||$O(f);else if(O){var P=null;if(S&&S.hasAttribute("formAction")){if(x=S,O=S[Bn]||null)P=O.formAction;else if(Iv(x)!==null)continue}else P=O.action;typeof P=="function"?f[g+1]=P:(f.splice(g,3),g-=3),$O(f)}}}function qO(){function s(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(O){return x=O})},focusReset:"manual",scroll:"manual"})}function c(){x!==null&&(x(),x=null),g||setTimeout(f,20)}function f(){if(!g&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,x=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(f,100),function(){g=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),x!==null&&(x(),x=null)}}}function Hv(s){this._internalRoot=s}Bd.prototype.render=Hv.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var f=c.current,g=ur();_O(f,g,s,c,null,null)},Bd.prototype.unmount=Hv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;_O(s.current,2,null,s,null,null),yd(),c[Hl]=null}};function Bd(s){this._internalRoot=s}Bd.prototype.unstable_scheduleHydration=function(s){if(s){var c=Jj();s={blockedOn:null,target:s,priority:c};for(var f=0;f<is.length&&c!==0&&c<is[f].priority;f++);is.splice(f,0,s),f===0&&UO(s)}};var FO=e.version;if(FO!=="19.2.4")throw Error(r(527,FO,"19.2.4"));V.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=h(c),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var c9={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zd.isDisabled&&zd.supportsFiber)try{Tc=zd.inject(c9),nr=zd}catch{}}return ju.createRoot=function(s,c){if(!i(s))throw Error(r(299));var f=!1,g="",x=XN,S=ZN,O=JN;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(O=c.onRecoverableError)),c=DO(s,1,!1,null,null,f,g,null,x,S,O,qO),s[Hl]=c.current,Sv(s),new Hv(c)},ju.hydrateRoot=function(s,c,f){if(!i(s))throw Error(r(299));var g=!1,x="",S=XN,O=ZN,P=JN,U=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(x=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(O=f.onCaughtError),f.onRecoverableError!==void 0&&(P=f.onRecoverableError),f.formState!==void 0&&(U=f.formState)),c=DO(s,1,!0,c,f??null,g,x,U,S,O,P,qO),c.context=PO(null),f=c.current,g=ur(),g=M0(g),x=qa(g),x.callback=null,Fa(f,x,g),f=g,c.current.lanes=f,Dc(c,f),mi(c),s[Hl]=c.current,Sv(s),new Bd(c)},ju.version="19.2.4",ju}var eA;function x9(){if(eA)return Fv.exports;eA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fv.exports=v9(),Fv.exports}var b9=x9();const w9=zi(b9);var vS=S3();function lf(){return lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lf.apply(this,arguments)}var hs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hs||(hs={}));const tA="popstate";function S9(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:l,hash:o}=r.location;return h1("",{pathname:a,search:l,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Fm(i)}return C9(e,n,null,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function j9(){return Math.random().toString(36).substr(2,8)}function nA(t,e){return{usr:t.state,key:t.key,idx:e}}function h1(t,e,n,r){return n===void 0&&(n=null),lf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?uc(e):e,{state:n,key:e&&e.key||r||j9()})}function Fm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function uc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function C9(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,o=hs.Pop,u=null,h=d();h==null&&(h=0,l.replaceState(lf({},l.state,{idx:h}),""));function d(){return(l.state||{idx:null}).idx}function p(){o=hs.Pop;let j=d(),N=j==null?null:j-h;h=j,u&&u({action:o,location:C.location,delta:N})}function y(j,N){o=hs.Push;let A=h1(C.location,j,N);h=d()+1;let k=nA(A,h),T=C.createHref(A);try{l.pushState(k,"",T)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(T)}a&&u&&u({action:o,location:C.location,delta:1})}function v(j,N){o=hs.Replace;let A=h1(C.location,j,N);h=d();let k=nA(A,h),T=C.createHref(A);l.replaceState(k,"",T),a&&u&&u({action:o,location:C.location,delta:0})}function b(j){let N=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof j=="string"?j:Fm(j);return A=A.replace(/ $/,"%20"),xt(N,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,N)}let C={get action(){return o},get location(){return t(i,l)},listen(j){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(tA,p),u=j,()=>{i.removeEventListener(tA,p),u=null}},createHref(j){return e(i,j)},createURL:b,encodeLocation(j){let N=b(j);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:v,go(j){return l.go(j)}};return C}var rA;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rA||(rA={}));function N9(t,e,n){return n===void 0&&(n="/"),k9(t,e,n)}function k9(t,e,n,r){let i=typeof e=="string"?uc(e):e,a=Yo(i.pathname||"/",n);if(a==null)return null;let l=j3(t);O9(l);let o=null;for(let u=0;o==null&&u<l.length;++u){let h=z9(a);o=L9(l[u],h)}return o}function j3(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,l,o)=>{let u={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};u.relativePath.startsWith("/")&&(xt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=gs([r,u.relativePath]),d=n.concat(u);a.children&&a.children.length>0&&(xt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),j3(a.children,e,d,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:_9(h,a.index),routesMeta:d})};return t.forEach((a,l)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,l);else for(let u of C3(a.path))i(a,l,u)}),e}function C3(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=C3(r.join("/")),o=[];return o.push(...l.map(u=>u===""?a:[a,u].join("/"))),i&&o.push(...l),o.map(u=>t.startsWith("/")&&u===""?"/":u)}function O9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:R9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const A9=/^:[\w-]+$/,E9=3,T9=2,M9=1,D9=10,P9=-2,iA=t=>t==="*";function _9(t,e){let n=t.split("/"),r=n.length;return n.some(iA)&&(r+=P9),e&&(r+=T9),n.filter(i=>!iA(i)).reduce((i,a)=>i+(A9.test(a)?E9:a===""?M9:D9),r)}function R9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function L9(t,e,n){let{routesMeta:r}=t,i={},a="/",l=[];for(let o=0;o<r.length;++o){let u=r[o],h=o===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",p=d1({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},d),y=u.route;if(!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:gs([a,p.pathname]),pathnameBase:q9(gs([a,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(a=gs([a,p.pathnameBase]))}return l}function d1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=B9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((h,d,p)=>{let{paramName:y,isOptional:v}=d;if(y==="*"){let C=o[p]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const b=o[p];return v&&!b?h[y]=void 0:h[y]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function B9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),xS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function z9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Yo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const I9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U9=t=>I9.test(t);function H9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?uc(t):t,a;if(n)if(U9(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),xS(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?a=aA(n.substring(1),"/"):a=aA(n,e)}else a=e;return{pathname:a,search:F9(r),hash:V9(i)}}function aA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bS(t,e){let n=$9(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wS(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=uc(t):(i=lf({},t),xt(!i.pathname||!i.pathname.includes("?"),Gv("?","pathname","search",i)),xt(!i.pathname||!i.pathname.includes("#"),Gv("#","pathname","hash",i)),xt(!i.search||!i.search.includes("#"),Gv("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,o;if(l==null)o=n;else{let p=e.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}o=p>=0?e[p]:"/"}let u=H9(i,o),h=l&&l!=="/"&&l.endsWith("/"),d=(a||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||d)&&(u.pathname+="/"),u}const gs=t=>t.join("/").replace(/\/\/+/g,"/"),q9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),F9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,V9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function W9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const N3=["post","put","patch","delete"];new Set(N3);const K9=["get",...N3];new Set(K9);function of(){return of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},of.apply(this,arguments)}const wg=w.createContext(null),k3=w.createContext(null),ka=w.createContext(null),Sg=w.createContext(null),Ts=w.createContext({outlet:null,matches:[],isDataRoute:!1}),O3=w.createContext(null);function G9(t,e){let{relative:n}=e===void 0?{}:e;fc()||xt(!1);let{basename:r,navigator:i}=w.useContext(ka),{hash:a,pathname:l,search:o}=jg(t,{relative:n}),u=l;return r!=="/"&&(u=l==="/"?r:gs([r,l])),i.createHref({pathname:u,search:o,hash:a})}function fc(){return w.useContext(Sg)!=null}function Bl(){return fc()||xt(!1),w.useContext(Sg).location}function A3(t){w.useContext(ka).static||w.useLayoutEffect(t)}function Xf(){let{isDataRoute:t}=w.useContext(Ts);return t?lU():Y9()}function Y9(){fc()||xt(!1);let t=w.useContext(wg),{basename:e,future:n,navigator:r}=w.useContext(ka),{matches:i}=w.useContext(Ts),{pathname:a}=Bl(),l=JSON.stringify(bS(i,n.v7_relativeSplatPath)),o=w.useRef(!1);return A3(()=>{o.current=!0}),w.useCallback(function(h,d){if(d===void 0&&(d={}),!o.current)return;if(typeof h=="number"){r.go(h);return}let p=wS(h,JSON.parse(l),a,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:gs([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,l,a,t])}function jg(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(ka),{matches:i}=w.useContext(Ts),{pathname:a}=Bl(),l=JSON.stringify(bS(i,r.v7_relativeSplatPath));return w.useMemo(()=>wS(t,JSON.parse(l),a,n==="path"),[t,l,a,n])}function Q9(t,e){return X9(t,e)}function X9(t,e,n,r){fc()||xt(!1);let{navigator:i}=w.useContext(ka),{matches:a}=w.useContext(Ts),l=a[a.length-1],o=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let h=Bl(),d;if(e){var p;let j=typeof e=="string"?uc(e):e;u==="/"||(p=j.pathname)!=null&&p.startsWith(u)||xt(!1),d=j}else d=h;let y=d.pathname||"/",v=y;if(u!=="/"){let j=u.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(j.length).join("/")}let b=N9(t,{pathname:v}),C=nU(b&&b.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:gs([u,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?u:gs([u,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),a,n,r);return e&&C?w.createElement(Sg.Provider,{value:{location:of({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:hs.Pop}},C):C}function Z9(){let t=sU(),e=W9(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,null)}const J9=w.createElement(Z9,null);class eU extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(Ts.Provider,{value:this.props.routeContext},w.createElement(O3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tU(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(wg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Ts.Provider,{value:e},r)}function nU(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=l.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);d>=0||xt(!1),l=l.slice(0,Math.min(l.length,d+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<l.length;d++){let p=l[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:y,errors:v}=n,b=p.route.loader&&y[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||b){u=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((d,p,y)=>{let v,b=!1,C=null,j=null;n&&(v=o&&p.route.id?o[p.route.id]:void 0,C=p.route.errorElement||J9,u&&(h<0&&y===0?(oU("route-fallback"),b=!0,j=null):h===y&&(b=!0,j=p.route.hydrateFallbackElement||null)));let N=e.concat(l.slice(0,y+1)),A=()=>{let k;return v?k=C:b?k=j:p.route.Component?k=w.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=d,w.createElement(tU,{match:p,routeContext:{outlet:d,matches:N,isDataRoute:n!=null},children:k})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?w.createElement(eU,{location:n.location,revalidation:n.revalidation,component:C,error:v,children:A(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):A()},null)}var E3=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(E3||{}),T3=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(T3||{});function rU(t){let e=w.useContext(wg);return e||xt(!1),e}function iU(t){let e=w.useContext(k3);return e||xt(!1),e}function aU(t){let e=w.useContext(Ts);return e||xt(!1),e}function M3(t){let e=aU(),n=e.matches[e.matches.length-1];return n.route.id||xt(!1),n.route.id}function sU(){var t;let e=w.useContext(O3),n=iU(),r=M3();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function lU(){let{router:t}=rU(E3.UseNavigateStable),e=M3(T3.UseNavigateStable),n=w.useRef(!1);return A3(()=>{n.current=!0}),w.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,of({fromRouteId:e},a)))},[t,e])}const sA={};function oU(t,e,n){sA[t]||(sA[t]=!0)}function cU(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Cu(t){let{to:e,replace:n,state:r,relative:i}=t;fc()||xt(!1);let{future:a,static:l}=w.useContext(ka),{matches:o}=w.useContext(Ts),{pathname:u}=Bl(),h=Xf(),d=wS(e,bS(o,a.v7_relativeSplatPath),u,i==="path"),p=JSON.stringify(d);return w.useEffect(()=>h(JSON.parse(p),{replace:n,state:r,relative:i}),[h,p,i,n,r]),null}function Qe(t){xt(!1)}function uU(t){let{basename:e="/",children:n=null,location:r,navigationType:i=hs.Pop,navigator:a,static:l=!1,future:o}=t;fc()&&xt(!1);let u=e.replace(/^\/*/,"/"),h=w.useMemo(()=>({basename:u,navigator:a,static:l,future:of({v7_relativeSplatPath:!1},o)}),[u,o,a,l]);typeof r=="string"&&(r=uc(r));let{pathname:d="/",search:p="",hash:y="",state:v=null,key:b="default"}=r,C=w.useMemo(()=>{let j=Yo(d,u);return j==null?null:{location:{pathname:j,search:p,hash:y,state:v,key:b},navigationType:i}},[u,d,p,y,v,b,i]);return C==null?null:w.createElement(ka.Provider,{value:h},w.createElement(Sg.Provider,{children:n,value:C}))}function fU(t){let{children:e,location:n}=t;return Q9(m1(e),n)}new Promise(()=>{});function m1(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let a=[...e,i];if(r.type===w.Fragment){n.push.apply(n,m1(r.props.children,a));return}r.type!==Qe&&xt(!1),!r.props.index||!r.props.children||xt(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=m1(r.props.children,a)),n.push(l)}),n}function Vm(){return Vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vm.apply(this,arguments)}function D3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function hU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dU(t,e){return t.button===0&&(!e||e==="_self")&&!hU(t)}const mU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],pU=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],gU="6";try{window.__reactRouterVersion=gU}catch{}const yU=w.createContext({isTransitioning:!1}),vU="startTransition",lA=w3[vU];function xU(t){let{basename:e,children:n,future:r,window:i}=t,a=w.useRef();a.current==null&&(a.current=S9({window:i,v5Compat:!0}));let l=a.current,[o,u]=w.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},d=w.useCallback(p=>{h&&lA?lA(()=>u(p)):u(p)},[u,h]);return w.useLayoutEffect(()=>l.listen(d),[l,d]),w.useEffect(()=>cU(r),[r]),w.createElement(uU,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:l,future:r})}const bU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SU=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:o,target:u,to:h,preventScrollReset:d,viewTransition:p}=e,y=D3(e,mU),{basename:v}=w.useContext(ka),b,C=!1;if(typeof h=="string"&&wU.test(h)&&(b=h,bU))try{let k=new URL(window.location.href),T=h.startsWith("//")?new URL(k.protocol+h):new URL(h),D=Yo(T.pathname,v);T.origin===k.origin&&D!=null?h=D+T.search+T.hash:C=!0}catch{}let j=G9(h,{relative:i}),N=NU(h,{replace:l,state:o,target:u,preventScrollReset:d,relative:i,viewTransition:p});function A(k){r&&r(k),k.defaultPrevented||N(k)}return w.createElement("a",Vm({},y,{href:b||j,onClick:C||a?r:A,ref:n,target:u}))}),jU=w.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:l=!1,style:o,to:u,viewTransition:h,children:d}=e,p=D3(e,pU),y=jg(u,{relative:p.relative}),v=Bl(),b=w.useContext(k3),{navigator:C,basename:j}=w.useContext(ka),N=b!=null&&kU(y)&&h===!0,A=C.encodeLocation?C.encodeLocation(y).pathname:y.pathname,k=v.pathname,T=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(k=k.toLowerCase(),T=T?T.toLowerCase():null,A=A.toLowerCase()),T&&j&&(T=Yo(T,j)||T);const D=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let M=k===A||!l&&k.startsWith(A)&&k.charAt(D)==="/",E=T!=null&&(T===A||!l&&T.startsWith(A)&&T.charAt(A.length)==="/"),_={isActive:M,isPending:E,isTransitioning:N},L=M?r:void 0,I;typeof a=="function"?I=a(_):I=[a,M?"active":null,E?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(_):o;return w.createElement(SU,Vm({},p,{"aria-current":L,className:I,ref:n,style:B,to:u,viewTransition:h}),typeof d=="function"?d(_):d)});var p1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(p1||(p1={}));var oA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(oA||(oA={}));function CU(t){let e=w.useContext(wg);return e||xt(!1),e}function NU(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:o}=e===void 0?{}:e,u=Xf(),h=Bl(),d=jg(t,{relative:l});return w.useCallback(p=>{if(dU(p,n)){p.preventDefault();let y=r!==void 0?r:Fm(h)===Fm(d);u(t,{replace:y,state:i,preventScrollReset:a,relative:l,viewTransition:o})}},[h,u,d,r,i,n,t,a,l,o])}function kU(t,e){e===void 0&&(e={});let n=w.useContext(yU);n==null&&xt(!1);let{basename:r}=CU(p1.useViewTransitionState),i=jg(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Yo(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Yo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return d1(i.pathname,l)!=null||d1(i.pathname,a)!=null}const P3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const OU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const AU=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const cA=t=>{const e=AU(t);return e.charAt(0).toUpperCase()+e.slice(1)};var EU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const TU=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const MU=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...o},u)=>w.createElement("svg",{ref:u,...EU,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:P3("lucide",i),...!a&&!TU(o)&&{"aria-hidden":"true"},...o},[...l.map(([h,d])=>w.createElement(h,d)),...Array.isArray(a)?a:[a]]));const Ae=(t,e)=>{const n=w.forwardRef(({className:r,...i},a)=>w.createElement(MU,{ref:a,iconNode:e,className:P3(`lucide-${OU(cA(t))}`,`lucide-${t}`,r),...i}));return n.displayName=cA(t),n};const DU=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],cl=Ae("activity",DU);const PU=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]],_U=Ae("arrow-down-up",PU);const RU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],LU=Ae("arrow-right",RU);const BU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],_3=Ae("bell-off",BU);const zU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],R3=Ae("bell",zU);const IU=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],L3=Ae("camera",IU);const UU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],xl=Ae("chart-column",UU);const HU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],B3=Ae("check",HU);const $U=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ms=Ae("chevron-down",$U);const qU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],FU=Ae("chevron-left",qU);const VU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],hc=Ae("chevron-right",VU);const WU=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],SS=Ae("chevron-up",WU);const KU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],GU=Ae("circle-check-big",KU);const YU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],z3=Ae("circle-x",YU);const QU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],XU=Ae("circle",QU);const ZU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],Qo=Ae("clock",ZU);const JU=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],eH=Ae("code-xml",JU);const tH=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],g1=Ae("copy",tH);const nH=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],rH=Ae("cpu",nH);const iH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],I3=Ae("crosshair",iH);const aH=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],$r=Ae("database",aH);const sH=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],cf=Ae("download",sH);const lH=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],oH=Ae("external-link",lH);const cH=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],uH=Ae("eye",cH);const fH=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],hH=Ae("file-braces",fH);const dH=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],U3=Ae("file-code",dH);const mH=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],pH=Ae("file-spreadsheet",mH);const gH=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],H3=Ae("file-text",gH);const yH=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],uA=Ae("flame",yH);const vH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],xH=Ae("globe",vH);const bH=[["path",{d:"M10 16h.01",key:"1bzywj"}],["path",{d:"M2.212 11.577a2 2 0 0 0-.212.896V18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5.527a2 2 0 0 0-.212-.896L18.55 5.11A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"18tbho"}],["path",{d:"M21.946 12.013H2.054",key:"zqlbp7"}],["path",{d:"M6 16h.01",key:"1pmjb7"}]],Yu=Ae("hard-drive",bH);const wH=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],fA=Ae("hexagon",wH);const SH=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],$3=Ae("key",SH);const jH=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],q3=Ae("layout-list",jH);const CH=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Yv=Ae("link",CH);const NH=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],kH=Ae("menu",NH);const OH=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],AH=Ae("pen-line",OH);const EH=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],jS=Ae("pencil",EH);const TH=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],uf=Ae("play",TH);const MH=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pi=Ae("plus",MH);const DH=[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]],F3=Ae("radar",DH);const PH=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],bt=Ae("refresh-cw",PH);const _H=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],dc=Ae("search",_H);const RH=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],LH=Ae("send",RH);const BH=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],y1=Ae("server",BH);const zH=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Nl=Ae("shield",zH);const IH=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],V3=Ae("table-2",IH);const UH=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],CS=Ae("terminal",UH);const HH=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ai=Ae("trash-2",HH);const $H=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Qu=Ae("triangle-alert",$H);const qH=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Wm=Ae("upload",qH);const FH=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hA=Ae("users",FH);const VH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],W3=Ae("x",VH);const WH=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Km=Ae("zap",WH),da=window.__TSUI_BASE__||"";class KH{baseUrl;credentials={};_standaloneMode=!1;_remoteConnection=null;constructor(){this.baseUrl=da}get standaloneMode(){return this._standaloneMode}setStandaloneMode(e){this._standaloneMode=e}setRemoteConnection(e){this._remoteConnection=e}getRemoteConnection(){return this._remoteConnection}setCredentials(e,n){this.credentials={username:e,password:n}}getAuthParams(){if(this._standaloneMode&&this._remoteConnection)return"";const e=new URLSearchParams;return this.credentials.username&&e.set("u",this.credentials.username),this.credentials.password&&e.set("p",this.credentials.password),e.toString()}getProxyHeaders(){const e={};return this._standaloneMode&&this._remoteConnection&&(e["X-Influxdb-Url"]=this._remoteConnection.url,this._remoteConnection.username&&(e["X-Influxdb-Username"]=this._remoteConnection.username),this._remoteConnection.password&&(e["X-Influxdb-Password"]=this._remoteConnection.password)),e}async ping(){try{const e=await fetch(`${this.baseUrl}/ping`,{headers:this.getProxyHeaders()});return{version:e.headers.get("X-Tidedb-Version")||e.headers.get("X-Influxdb-Version")||"unknown",ok:e.status===204}}catch{return{version:"unknown",ok:!1}}}async query(e,n,r){const i=new URLSearchParams;i.set("q",e),n&&i.set("db",n),r&&i.set("epoch",r);const a=this.getAuthParams();a&&new URLSearchParams(a).forEach((u,h)=>i.set(h,u));const l=await fetch(`${this.baseUrl}/query?${i.toString()}`,{method:"POST",headers:{Accept:"application/json",...this.getProxyHeaders()}});if(!l.ok){const o=await l.text();throw new Error(`Query failed (${l.status}): ${o}`)}return l.json()}async write(e,n,r="ns",i){const a=new URLSearchParams;a.set("db",e),a.set("precision",r),i&&a.set("rp",i);const l=this.getAuthParams();l&&new URLSearchParams(l).forEach((h,d)=>a.set(d,h));const o=await fetch(`${this.baseUrl}/write?${a.toString()}`,{method:"POST",body:n,headers:this.getProxyHeaders()});if(!o.ok&&o.status!==204){const u=await o.text();throw new Error(`Write failed (${o.status}): ${u}`)}}async getDiagnostics(){return this.query("SHOW DIAGNOSTICS")}async getStats(){return this.query("SHOW STATS")}async getDatabases(){const n=(await this.query("SHOW DATABASES")).results?.[0]?.series?.[0];return n?n.values.map(r=>r[0]):[]}async getRetentionPolicies(e){const r=(await this.query(`SHOW RETENTION POLICIES ON "${e}"`)).results?.[0]?.series?.[0];return r?r.values.map(i=>{const a={};return r.columns.forEach((l,o)=>{a[l]=i[o]}),a}):[]}async getMeasurements(e){const r=(await this.query("SHOW MEASUREMENTS",e)).results?.[0]?.series?.[0];return r?r.values.map(i=>i[0]):[]}async getTagKeys(e,n){const i=(await this.query(`SHOW TAG KEYS FROM "${n}"`,e)).results?.[0]?.series?.[0];return i?i.values.map(a=>a[0]):[]}async getFieldKeys(e,n){const i=(await this.query(`SHOW FIELD KEYS FROM "${n}"`,e)).results?.[0]?.series?.[0];return i?i.values.map(a=>({key:a[0],type:a[1]})):[]}async getSeriesCardinality(e){const r=(await this.query("SHOW SERIES CARDINALITY",e)).results?.[0]?.series?.[0];return r?r.values[0][0]:0}async getRunningQueries(){const n=(await this.query("SHOW QUERIES")).results?.[0]?.series?.[0];return n?n.values.map(r=>{const i={};return n.columns.forEach((a,l)=>{i[a]=r[l]}),i}):[]}async killQuery(e){await this.query(`KILL QUERY ${e}`)}async getDebugVars(){return(await fetch(`${this.baseUrl}/debug/vars`,{headers:this.getProxyHeaders()})).json()}async getContinuousQueries(e){return(await this.query("SHOW CONTINUOUS QUERIES",e)).results?.[0]?.series||[]}async getShardGroups(){const n=(await this.query("SHOW SHARD GROUPS")).results?.[0]?.series?.[0];return n?n.values.map(r=>{const i={};return n.columns.forEach((a,l)=>{i[a]=r[l]}),i}):[]}async getUsers(){const n=(await this.query("SHOW USERS")).results?.[0]?.series?.[0];return!n||!Array.isArray(n.values)?[]:n.values.map(r=>({user:r[0],admin:r[1]}))}async getUserGrants(e){const r=(await this.query(`SHOW GRANTS FOR "${e}"`)).results?.[0]?.series?.[0];return r?r.values.map(i=>{const a={};return r.columns.forEach((l,o)=>{a[l]=i[o]}),a}):[]}async getSubscriptions(){return(await this.query("SHOW SUBSCRIPTIONS")).results?.[0]?.series||[]}async getTagValues(e,n,r){const a=(await this.query(`SHOW TAG VALUES FROM "${n}" WITH KEY = "${r}"`,e)).results?.[0]?.series?.[0];if(!a)return[];const l=a.columns.indexOf("value");return a.values.map(o=>o[l>=0?l:1])}async backup(){const e=await fetch(`${this.baseUrl}/debug/backup`,{method:"GET",headers:this.getProxyHeaders()});if(!e.ok)throw new Error(`Backup failed (${e.status}): ${await e.text()}`);return e.blob()}}const we=new KH,K3="timeseriesui_connections",v1="timeseriesui_active_connection";function GH(){try{const t=localStorage.getItem(K3)||localStorage.getItem("tidedb-connections");return JSON.parse(t||"[]").map(n=>({...n,type:n.type||"influxdb",source:n.source||"browser"}))}catch{return[]}}function Nu(t){localStorage.setItem(K3,JSON.stringify(t))}function YH(){return localStorage.getItem(v1)||localStorage.getItem("tidedb-active-connection")}function Id(t){t?localStorage.setItem(v1,t):localStorage.removeItem(v1)}function Qv(){return Date.now().toString(36)+Math.random().toString(36).slice(2,7)}function QH({onConnectionChange:t,defaultUrl:e}){const[n,r]=w.useState(GH),[i,a]=w.useState(YH),[l,o]=w.useState(!1),[u,h]=w.useState(null),[d,p]=w.useState(""),[y,v]=w.useState(""),[b,C]=w.useState(""),[j,N]=w.useState(""),[A,k]=w.useState("influxdb"),[T,D]=w.useState(""),[M,E]=w.useState(""),[_,L]=w.useState(!1),[I,B]=w.useState(!1),[z,$]=w.useState(""),[ee,F]=w.useState("");w.useEffect(()=>{(async()=>{try{const G=await fetch(da+"/api/v1/connections");if(G.ok){const me=await G.json();Array.isArray(me)&&me.length>0&&r(Me=>{const re=new Set(Me.map(ue=>ue.url)),je=me.filter(ue=>!re.has(ue.url)).map(ue=>({id:Qv(),name:ue.name||"CLI Connection",type:ue.type||"influxdb",url:ue.url,username:ue.username||"",password:ue.password||"",source:"cli",alertmanagerUrl:ue.alertmanagerUrl,alertmanagerUsername:ue.alertmanagerUsername,alertmanagerPassword:ue.alertmanagerPassword,proxyUrl:ue.proxyUrl,clusterMode:ue.clusterMode,tenantId:ue.tenantId,vminsertUrl:ue.vminsertUrl}));if(je.length===0)return Me;const Ee=[...Me,...je];return Nu(Ee),Ee})}}catch{}})()},[]),w.useEffect(()=>{if(e&&n.length===0){const G={id:Qv(),name:"Default",type:"influxdb",url:e,username:"",password:"",source:"browser"},me=[G];r(me),Nu(me),a(G.id),Id(G.id)}},[]);const H=w.useCallback((G,me)=>{const Me=G.find(re=>re.id===me)||null;Me&&Me.type==="influxdb"?we.setRemoteConnection({url:Me.url,username:Me.username,password:Me.password}):Me||we.setRemoteConnection(null),t(Me)},[t]);w.useEffect(()=>{H(n,i)},[]);const V=G=>{a(G),Id(G),H(n,G)},Q=()=>{p(""),v(""),C(""),N(""),k("influxdb"),D(""),E(""),L(!1),B(!1),$(""),F(""),h(null)},se=()=>{Q(),h("new")},he=G=>{p(G.name),v(G.url),C(G.username),N(G.password),k(G.type),D(G.alertmanagerUrl||""),E(G.proxyUrl||""),B(G.clusterMode||!1),$(G.tenantId||""),F(G.vminsertUrl||""),L(!!(G.proxyUrl||G.clusterMode)),h(G.id)},R=()=>{const G=d.trim()||"Untitled",me=y.trim();if(!me)return;const re={name:G,type:A,url:me,username:b,password:j,alertmanagerUrl:(A==="prometheus"||A==="victoriametrics")&&T.trim()||void 0,proxyUrl:M.trim()||void 0,clusterMode:A==="victoriametrics"?I:void 0,tenantId:A==="victoriametrics"&&I&&z.trim()||void 0,vminsertUrl:A==="victoriametrics"&&I&&ee.trim()||void 0};if(u==="new"){const je={id:Qv(),source:"browser",...re},Ee=[...n,je];r(Ee),Nu(Ee),(Ee.length===1||!i)&&(a(je.id),Id(je.id),H(Ee,je.id))}else{const je=n.map(Ee=>Ee.id===u?{...Ee,...re}:Ee);r(je),Nu(je),i===u&&H(je,i)}Q()},W=G=>{if(n.find(re=>re.id===G)?.source==="cli")return;const Me=n.filter(re=>re.id!==G);if(r(Me),Nu(Me),i===G){const re=Me.length>0?Me[0].id:null;a(re),Id(re),H(Me,re)}u===G&&Q()},fe=n.find(G=>G.id===i),Z=({type:G})=>G==="victoriametrics"?m.jsx(fA,{size:10,className:"text-emerald-400 flex-shrink-0"}):G==="prometheus"?m.jsx(uA,{size:10,className:"text-orange-400 flex-shrink-0"}):m.jsx($r,{size:10,className:"text-blue-400 flex-shrink-0"}),de=A==="influxdb"?"URL (e.g. http://localhost:8086)":A==="prometheus"?"URL (e.g. http://localhost:9090)":"URL (e.g. http://localhost:8428)";return m.jsxs("div",{children:[m.jsxs("button",{onClick:()=>o(G=>!G),className:"flex items-center justify-between w-full px-3 py-2 text-xs font-medium text-gray-400 hover:text-white hover:bg-gray-800 rounded-md transition-colors duration-150",children:[m.jsxs("span",{className:"flex items-center gap-1.5 truncate",children:[m.jsx(y1,{size:12,className:"flex-shrink-0"}),fe?m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(Z,{type:fe.type}),fe.name]}):"Connections"]}),l?m.jsx(SS,{size:14}):m.jsx(Ms,{size:14})]}),l&&m.jsxs("div",{className:"mt-1 px-1 space-y-1",children:[n.map(G=>m.jsxs("div",{className:`flex items-center justify-between gap-1 px-2 py-1.5 rounded text-xs transition-colors duration-100 ${G.id===i?"bg-blue-600/20 border border-blue-600/40":"bg-gray-800 border border-gray-700 hover:border-gray-600"}`,children:[m.jsxs("button",{onClick:()=>V(G.id),className:"flex-1 text-left truncate text-gray-200",title:`${G.type}: ${G.url}`,children:[m.jsxs("span",{className:"font-medium flex items-center gap-1",children:[m.jsx(Z,{type:G.type}),G.name,G.source==="cli"&&m.jsx("span",{className:"text-[9px] bg-gray-700 text-gray-400 px-1 rounded",children:"CLI"})]}),m.jsx("span",{className:"block text-gray-500 truncate text-[10px]",children:G.url})]}),m.jsx("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:G.source!=="cli"&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>he(G),className:"p-1 text-gray-500 hover:text-gray-200 transition-colors",title:"Edit",children:m.jsx(jS,{size:10})}),m.jsx("button",{onClick:()=>W(G.id),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",title:"Remove",children:m.jsx(ai,{size:10})})]})})]},G.id)),u?m.jsxs("div",{className:"space-y-1.5 pt-1 border-t border-gray-700 mt-1",children:[m.jsxs("div",{className:"flex gap-1",children:[m.jsxs("button",{onClick:()=>k("influxdb"),className:`flex-1 flex items-center justify-center gap-1 py-1.5 rounded text-xs font-medium transition-colors ${A==="influxdb"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white border border-gray-700"}`,children:[m.jsx($r,{size:10}),"InfluxDB"]}),m.jsxs("button",{onClick:()=>k("prometheus"),className:`flex-1 flex items-center justify-center gap-1 py-1.5 rounded text-xs font-medium transition-colors ${A==="prometheus"?"bg-orange-600 text-white":"bg-gray-800 text-gray-400 hover:text-white border border-gray-700"}`,children:[m.jsx(uA,{size:10}),"Prometheus"]}),m.jsxs("button",{onClick:()=>k("victoriametrics"),className:`flex-1 flex items-center justify-center gap-1 py-1.5 rounded text-xs font-medium transition-colors ${A==="victoriametrics"?"bg-emerald-600 text-white":"bg-gray-800 text-gray-400 hover:text-white border border-gray-700"}`,children:[m.jsx(fA,{size:10}),"VM"]})]}),m.jsx("input",{type:"text",placeholder:"Name (e.g. Production)",value:d,onChange:G=>p(G.target.value),autoFocus:!0,className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors"}),m.jsx("input",{type:"text",placeholder:de,value:y,onChange:G=>v(G.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors"}),m.jsx("input",{type:"text",placeholder:"Username (optional)",value:b,onChange:G=>C(G.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors"}),m.jsx("input",{type:"password",placeholder:"Password (optional)",value:j,onChange:G=>N(G.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors"}),(A==="prometheus"||A==="victoriametrics")&&m.jsx("input",{type:"text",placeholder:"Alertmanager URL (optional)",value:T,onChange:G=>D(G.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-orange-500 transition-colors"}),m.jsxs("button",{onClick:()=>L(G=>!G),className:"flex items-center gap-1 text-[10px] text-gray-500 hover:text-gray-300 transition-colors",children:[m.jsx(hc,{size:10,className:`transition-transform ${_?"rotate-90":""}`}),"Advanced Options"]}),_&&m.jsxs("div",{className:"space-y-1.5 pl-2 border-l-2 border-gray-800",children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(xH,{size:10,className:"text-gray-500 flex-shrink-0"}),m.jsx("input",{type:"text",placeholder:"HTTP Proxy URL (e.g. http://proxy:8080)",value:M,onChange:G=>E(G.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-purple-500 transition-colors"})]}),m.jsx("p",{className:"text-[10px] text-gray-600 pl-4",children:"Route connections through a corporate or SOCKS proxy"}),A==="victoriametrics"&&m.jsxs(m.Fragment,{children:[m.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-400 cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:I,onChange:G=>B(G.target.checked),className:"rounded bg-gray-800 border-gray-600 text-emerald-500 focus:ring-emerald-500"}),"Cluster Mode"]}),I&&m.jsxs(m.Fragment,{children:[m.jsx("input",{type:"text",placeholder:"Tenant ID (e.g. 0 or 0:0)",value:z,onChange:G=>$(G.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-emerald-500 transition-colors"}),m.jsx("input",{type:"text",placeholder:"vminsert URL (e.g. http://vminsert:8480)",value:ee,onChange:G=>F(G.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-emerald-500 transition-colors"})]})]})]}),m.jsxs("div",{className:"flex gap-1.5",children:[m.jsxs("button",{onClick:R,disabled:!y.trim(),className:"flex-1 flex items-center justify-center gap-1 py-1.5 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium transition-colors duration-150 disabled:opacity-40",children:[m.jsx(B3,{size:12}),u==="new"?"Add":"Save"]}),m.jsx("button",{onClick:Q,className:"flex items-center justify-center gap-1 px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-gray-300 text-xs transition-colors duration-150",children:m.jsx(W3,{size:12})})]})]}):m.jsxs("button",{onClick:se,className:"flex items-center gap-1.5 w-full px-2 py-1.5 text-xs text-blue-400 hover:text-blue-300 hover:bg-gray-800 rounded transition-colors duration-150",children:[m.jsx(Pi,{size:12}),"Add Connection"]})]})]})}const XH=[{to:"/influxdb/query",label:"Query Explorer",icon:CS},{to:"/influxdb/admin",label:"Admin",icon:$r},{to:"/influxdb/write",label:"Write Data",icon:AH},{to:"/influxdb/health",label:"System Health",icon:cl}],ZH=[{to:"/prometheus/query",label:"Query Explorer",icon:CS,section:"QUERY"},{to:"/prometheus/targets",label:"Targets",icon:I3,section:"MONITORING"},{to:"/prometheus/alerts",label:"Alert Rules",icon:R3,section:"ALERTING"},{to:"/prometheus/tsdb",label:"TSDB Status",icon:Yu,section:"STATUS"},{to:"/prometheus/metrics",label:"Metrics Explorer",icon:q3},{to:"/prometheus/config",label:"Config",icon:U3},{to:"/prometheus/service-discovery",label:"Service Discovery",icon:F3}],JH={to:"/prometheus/alertmanager",label:"Alertmanager",icon:_3};function e$(t){const e=[{to:"/victoriametrics/query",label:"Query Explorer",icon:CS,section:"QUERY"},{to:"/victoriametrics/metrics",label:"Metrics Explorer",icon:q3},{to:"/victoriametrics/targets",label:"Targets",icon:I3,section:"MONITORING"},{to:"/victoriametrics/service-discovery",label:"Service Discovery",icon:F3},{to:"/victoriametrics/active-queries",label:"Active Queries",icon:Km},{to:"/victoriametrics/alerts",label:"Alert Rules",icon:R3,section:"ALERTING"}];return t.alertmanagerUrl&&e.push({to:"/victoriametrics/alertmanager",label:"Alertmanager",icon:_3}),e.push({to:"/victoriametrics/tsdb",label:"TSDB Status",icon:Yu,section:"STORAGE"},{to:"/victoriametrics/snapshots",label:"Snapshots",icon:L3},{to:"/victoriametrics/export-import",label:"Export / Import",icon:_U},{to:"/victoriametrics/config",label:"Config",icon:U3,section:"ADMIN"},{to:"/victoriametrics/admin",label:"Admin Operations",icon:Nl}),e}function t$(t){if(!t)return[];if(t.type==="victoriametrics")return e$(t);if(t.type==="prometheus"){const e=[...ZH];return t.alertmanagerUrl&&e.splice(3,0,JH),e}return XH}function n$(t){return t==="victoriametrics"?"VictoriaMetrics":t==="prometheus"?"Prometheus":"InfluxDB"}function r$(t){return t==="victoriametrics"?"/victoriametrics/query":t==="prometheus"?"/prometheus/query":"/influxdb/query"}function i$({children:t}){const[e,n]=w.useState(!1),[r,i]=w.useState(null),[a,l]=w.useState(!1),[o,u]=w.useState(null),[h,d]=w.useState(!1),[p,y]=w.useState(void 0),[v,b]=w.useState(!1),C=Xf(),j=Bl();w.useEffect(()=>{(async()=>{try{const M=await fetch(da+"/api/mode");if(M.ok){const E=await M.json();E.mode==="standalone"&&(d(!0),we.setStandaloneMode(!0),E.defaultUrl&&y(E.defaultUrl))}}catch{}b(!0)})()},[]);const N=w.useCallback(async()=>{if(!o){l(!1),i(null);return}if(o.type==="influxdb")try{const M=await we.ping();i(M.version),l(M.ok)}catch{l(!1)}else if(o.type==="victoriametrics")try{const M=`${da}/proxy/victoriametrics/?target=${encodeURIComponent(o.url)}&path=/api/v1/status/buildinfo`,E=await fetch(M,{headers:o.username?{"X-Proxy-Username":o.username,"X-Proxy-Password":o.password||""}:{}});if(E.ok){const _=await E.json();i(_.data?.version||"unknown"),l(_.status==="success")}else l(!1)}catch{l(!1)}else try{const M=`${da}/proxy/prometheus/?target=${encodeURIComponent(o.url)}&path=/api/v1/status/buildinfo`,E=await fetch(M,{headers:o.username?{"X-Proxy-Username":o.username,"X-Proxy-Password":o.password||""}:{}});if(E.ok){const _=await E.json();i(_.data?.version||"unknown"),l(_.status==="success")}else l(!1)}catch{l(!1)}},[o]);w.useEffect(()=>{if(!v)return;N();const M=setInterval(N,1e4);return()=>clearInterval(M)},[v,N]);const A=w.useCallback(M=>{if(u(M),window.dispatchEvent(new CustomEvent("tidedb-connection-change",{detail:M})),M){const E=j.pathname,_=M.type==="influxdb"?"/influxdb":M.type==="victoriametrics"?"/victoriametrics":"/prometheus";(!E.startsWith(_)&&E!=="/"||E==="/"||E==="")&&C(r$(M.type))}},[C,j.pathname]),k=t$(o);let T="";const D=m.jsxs("div",{className:"flex flex-col h-full",children:[m.jsx("div",{className:"px-5 py-5 border-b border-gray-800",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-7 h-7 rounded bg-blue-600 flex items-center justify-center flex-shrink-0",children:m.jsx(cl,{size:15,className:"text-white"})}),m.jsxs("div",{children:[m.jsx("span",{className:"text-white font-semibold text-base leading-tight block",children:"TimeseriesUI"}),r&&r!=="unknown"&&m.jsxs("span",{className:"text-gray-500 text-xs leading-tight block",children:["v",r]})]})]})}),m.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-0.5 overflow-y-auto",children:[o&&m.jsx("div",{className:"px-3 mb-3",children:m.jsx("span",{className:"text-[10px] font-semibold text-gray-500 uppercase tracking-wider",children:n$(o.type)})}),k.map(({to:M,label:E,icon:_,section:L})=>{const I=L&&L!==T;return I&&(T=L),m.jsxs(yS.Fragment,{children:[I&&m.jsx("div",{className:"px-3 pt-3 pb-1",children:m.jsx("span",{className:"text-[9px] font-semibold text-gray-600 uppercase tracking-widest",children:L})}),m.jsxs(jU,{to:M,onClick:()=>n(!1),className:({isActive:B})=>["flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150",B?"bg-gray-800 text-white border-l-2 border-blue-500 pl-[10px]":"text-gray-400 hover:text-white hover:bg-gray-800 border-l-2 border-transparent pl-[10px]"].join(" "),children:[m.jsx(_,{size:16,className:"flex-shrink-0"}),E]})]},M)}),!o&&m.jsx("div",{className:"px-3 py-8 text-center",children:m.jsx("p",{className:"text-gray-500 text-xs",children:"Add a connection below to get started"})})]}),m.jsxs("div",{className:"border-t border-gray-800 px-3 py-4 space-y-3",children:[h&&m.jsx(QH,{onConnectionChange:A,defaultUrl:p}),m.jsxs("div",{className:"flex items-center gap-2 px-3 py-2",children:[m.jsx(XU,{size:8,className:a?"fill-green-500 text-green-500":"fill-red-500 text-red-500"}),m.jsx("span",{className:"text-xs text-gray-400",children:a?"Connected":o?"Disconnected":"No connection"})]})]})]});return m.jsxs("div",{className:"flex h-screen bg-gray-950 text-white overflow-hidden",children:[e&&m.jsx("div",{className:"fixed inset-0 z-20 bg-black/60 lg:hidden",onClick:()=>n(!1)}),m.jsx("aside",{className:["fixed inset-y-0 left-0 z-30 w-60 bg-gray-900 flex flex-col transition-transform duration-200 ease-in-out","lg:static lg:translate-x-0 lg:flex-shrink-0",e?"translate-x-0":"-translate-x-full"].join(" "),children:D}),m.jsxs("div",{className:"flex flex-col flex-1 min-w-0 overflow-hidden",children:[m.jsxs("header",{className:"lg:hidden flex items-center gap-3 px-4 py-3 bg-gray-900 border-b border-gray-800 flex-shrink-0",children:[m.jsx("button",{onClick:()=>n(M=>!M),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Toggle sidebar",children:e?m.jsx(W3,{size:20}):m.jsx(kH,{size:20})}),m.jsx("span",{className:"text-white font-semibold text-sm",children:"TimeseriesUI"})]}),m.jsx("main",{className:"flex-1 overflow-auto bg-gray-950",children:t})]})]})}function x1(){return x1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x1.apply(null,arguments)}function a$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}let b1=[],G3=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?G3:b1).push(n=n+t[e])})();function s$(t){if(t<768)return!1;for(let e=0,n=b1.length;;){let r=e+n>>1;if(t<b1[r])n=r;else if(t>=G3[r])e=r+1;else return!0;if(e==n)return!1}}function dA(t){return t>=127462&&t<=127487}const mA=8205;function l$(t,e,n=!0,r=!0){return(n?Y3:o$)(t,e,r)}function Y3(t,e,n){if(e==t.length)return e;e&&Q3(t.charCodeAt(e))&&X3(t.charCodeAt(e-1))&&e--;let r=Xv(t,e);for(e+=pA(r);e<t.length;){let i=Xv(t,e);if(r==mA||i==mA||n&&s$(i))e+=pA(i),r=i;else if(dA(i)){let a=0,l=e-2;for(;l>=0&&dA(Xv(t,l));)a++,l-=2;if(a%2==0)break;e+=2}else break}return e}function o$(t,e,n){for(;e>0;){let r=Y3(t,e-2,n);if(r<e)return r;e--}return 0}function Xv(t,e){let n=t.charCodeAt(e);if(!X3(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return Q3(r)?(n-55296<<10)+(r-56320)+65536:n}function Q3(t){return t>=56320&&t<57344}function X3(t){return t>=55296&&t<56320}function pA(t){return t<65536?1:2}let Xe=class Z3{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=Xo(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),ji.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=Xo(this,e,n);let r=[];return this.decompose(e,n,r,0),ji.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Xu(this),a=new Xu(e);for(let l=n,o=n;;){if(i.next(l),a.next(l),l=0,i.lineBreak!=a.lineBreak||i.done!=a.done||i.value!=a.value)return!1;if(o+=i.value.length,i.done||o>=r)return!0}}iter(e=1){return new Xu(this,e)}iterRange(e,n=this.length){return new J3(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new eP(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Z3.empty:e.length<=32?new Tt(e):ji.from(Tt.split(e,[]))}};class Tt extends Xe{constructor(e,n=c$(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let a=0;;a++){let l=this.text[a],o=i+l.length;if((n?r:o)>=e)return new u$(i,o,r,l);i=o+1,r++}}decompose(e,n,r,i){let a=e<=0&&n>=this.length?this:new Tt(gA(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let l=r.pop(),o=Em(a.text,l.text.slice(),0,a.length);if(o.length<=32)r.push(new Tt(o,l.length+a.length));else{let u=o.length>>1;r.push(new Tt(o.slice(0,u)),new Tt(o.slice(u)))}}else r.push(a)}replace(e,n,r){if(!(r instanceof Tt))return super.replace(e,n,r);[e,n]=Xo(this,e,n);let i=Em(this.text,Em(r.text,gA(this.text,0,e)),n),a=this.length+r.length-(n-e);return i.length<=32?new Tt(i,a):ji.from(Tt.split(i,[]),a)}sliceString(e,n=this.length,r=`
`){[e,n]=Xo(this,e,n);let i="";for(let a=0,l=0;a<=n&&l<this.text.length;l++){let o=this.text[l],u=a+o.length;a>e&&l&&(i+=r),e<u&&n>a&&(i+=o.slice(Math.max(0,e-a),n-a)),a=u+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let a of e)r.push(a),i+=a.length+1,r.length==32&&(n.push(new Tt(r,i)),r=[],i=-1);return i>-1&&n.push(new Tt(r,i)),n}}class ji extends Xe{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let a=0;;a++){let l=this.children[a],o=i+l.length,u=r+l.lines-1;if((n?u:o)>=e)return l.lineInner(e,n,r,i);i=o+1,r=u+1}}decompose(e,n,r,i){for(let a=0,l=0;l<=n&&a<this.children.length;a++){let o=this.children[a],u=l+o.length;if(e<=u&&n>=l){let h=i&((l<=e?1:0)|(u>=n?2:0));l>=e&&u<=n&&!h?r.push(o):o.decompose(e-l,n-l,r,h)}l=u+1}}replace(e,n,r){if([e,n]=Xo(this,e,n),r.lines<this.lines)for(let i=0,a=0;i<this.children.length;i++){let l=this.children[i],o=a+l.length;if(e>=a&&n<=o){let u=l.replace(e-a,n-a,r),h=this.lines-l.lines+u.lines;if(u.lines<h>>4&&u.lines>h>>6){let d=this.children.slice();return d[i]=u,new ji(d,this.length-(n-e)+r.length)}return super.replace(a,o,u)}a=o+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=Xo(this,e,n);let i="";for(let a=0,l=0;a<this.children.length&&l<=n;a++){let o=this.children[a],u=l+o.length;l>e&&a&&(i+=r),e<u&&n>l&&(i+=o.sliceString(e-l,n-l,r)),l=u+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof ji))return 0;let r=0,[i,a,l,o]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,a+=n){if(i==l||a==o)return r;let u=this.children[i],h=e.children[a];if(u!=h)return r+u.scanIdentical(h,n);r+=u.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let v of e)r+=v.lines;if(r<32){let v=[];for(let b of e)b.flatten(v);return new Tt(v,n)}let i=Math.max(32,r>>5),a=i<<1,l=i>>1,o=[],u=0,h=-1,d=[];function p(v){let b;if(v.lines>a&&v instanceof ji)for(let C of v.children)p(C);else v.lines>l&&(u>l||!u)?(y(),o.push(v)):v instanceof Tt&&u&&(b=d[d.length-1])instanceof Tt&&v.lines+b.lines<=32?(u+=v.lines,h+=v.length+1,d[d.length-1]=new Tt(b.text.concat(v.text),b.length+1+v.length)):(u+v.lines>i&&y(),u+=v.lines,h+=v.length+1,d.push(v))}function y(){u!=0&&(o.push(d.length==1?d[0]:ji.from(d,h)),h=-1,u=d.length=0)}for(let v of e)p(v);return y(),o.length==1?o[0]:new ji(o,n)}}Xe.empty=new Tt([""],0);function c$(t){let e=-1;for(let n of t)e+=n.length+1;return e}function Em(t,e,n=0,r=1e9){for(let i=0,a=0,l=!0;a<t.length&&i<=r;a++){let o=t[a],u=i+o.length;u>=n&&(u>r&&(o=o.slice(0,r-i)),i<n&&(o=o.slice(n-i)),l?(e[e.length-1]+=o,l=!1):e.push(o)),i=u+1}return e}function gA(t,e,n){return Em(t,[""],e,n)}class Xu{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof Tt?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],a=this.offsets[r],l=a>>1,o=i instanceof Tt?i.text.length:i.children.length;if(l==(n>0?o:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((a&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Tt){let u=i.text[l+(n<0?-1:0)];if(this.offsets[r]+=n,u.length>Math.max(0,e))return this.value=e==0?u:n>0?u.slice(e):u.slice(0,u.length-e),this;e-=u.length}else{let u=i.children[l+(n<0?-1:0)];e>u.length?(e-=u.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(u),this.offsets.push(n>0?1:(u instanceof Tt?u.text.length:u.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class J3{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new Xu(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class eP{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Xe.prototype[Symbol.iterator]=function(){return this.iter()},Xu.prototype[Symbol.iterator]=J3.prototype[Symbol.iterator]=eP.prototype[Symbol.iterator]=function(){return this});let u$=class{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}};function Xo(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function Jt(t,e,n=!0,r=!0){return l$(t,e,n,r)}function f$(t){return t>=56320&&t<57344}function h$(t){return t>=55296&&t<56320}function Fn(t,e){let n=t.charCodeAt(e);if(!h$(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return f$(r)?(n-55296<<10)+(r-56320)+65536:n}function NS(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Ci(t){return t<65536?1:2}const w1=/\r\n?|\n/;var Tn=(function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t})(Tn||(Tn={}));class Mi{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let a=this.sections[n++],l=this.sections[n++];l<0?(e(r,i,a),i+=a):i+=l,r+=a}}iterChangedRanges(e,n=!1){S1(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new Mi(e)}composeDesc(e){return this.empty?e:e.empty?this:tP(this,e)}mapDesc(e,n=!1){return e.empty?this:j1(this,e,n)}mapPos(e,n=-1,r=Tn.Simple){let i=0,a=0;for(let l=0;l<this.sections.length;){let o=this.sections[l++],u=this.sections[l++],h=i+o;if(u<0){if(h>e)return a+(e-i);a+=o}else{if(r!=Tn.Simple&&h>=e&&(r==Tn.TrackDel&&i<e&&h>e||r==Tn.TrackBefore&&i<e||r==Tn.TrackAfter&&h>e))return null;if(h>e||h==e&&n<0&&!o)return e==i||n<0?a:a+u;a+=u}i=h}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return a}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let a=this.sections[r++],l=this.sections[r++],o=i+a;if(l>=0&&i<=n&&o>=e)return i<e&&o>n?"cover":!0;i=o}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Mi(e)}static create(e){return new Mi(e)}}class qt extends Mi{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return S1(this,(n,r,i,a,l)=>e=e.replace(i,i+(r-n),l),!1),e}mapDesc(e,n=!1){return j1(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,a=0;i<n.length;i+=2){let l=n[i],o=n[i+1];if(o>=0){n[i]=o,n[i+1]=l;let u=i>>1;for(;r.length<u;)r.push(Xe.empty);r.push(l?e.slice(a,a+l):Xe.empty)}a+=l}return new qt(n,r)}compose(e){return this.empty?e:e.empty?this:tP(this,e,!0)}map(e,n=!1){return e.empty?this:j1(this,e,n,!0)}iterChanges(e,n=!1){S1(this,e,n)}get desc(){return Mi.create(this.sections)}filter(e){let n=[],r=[],i=[],a=new ff(this);e:for(let l=0,o=0;;){let u=l==e.length?1e9:e[l++];for(;o<u||o==u&&a.len==0;){if(a.done)break e;let d=Math.min(a.len,u-o);Cn(i,d,-1);let p=a.ins==-1?-1:a.off==0?a.ins:0;Cn(n,d,p),p>0&&ds(r,n,a.text),a.forward(d),o+=d}let h=e[l++];for(;o<h;){if(a.done)break e;let d=Math.min(a.len,h-o);Cn(n,d,-1),Cn(i,d,a.ins==-1?-1:a.off==0?a.ins:0),a.forward(d),o+=d}}return{changes:new qt(n,r),filtered:Mi.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],a=[],l=0,o=null;function u(d=!1){if(!d&&!i.length)return;l<n&&Cn(i,n-l,-1);let p=new qt(i,a);o=o?o.compose(p.map(o)):p,i=[],a=[],l=0}function h(d){if(Array.isArray(d))for(let p of d)h(p);else if(d instanceof qt){if(d.length!=n)throw new RangeError(`Mismatched change set length (got ${d.length}, expected ${n})`);u(),o=o?o.compose(d.map(o)):d}else{let{from:p,to:y=p,insert:v}=d;if(p>y||p<0||y>n)throw new RangeError(`Invalid change range ${p} to ${y} (in doc of length ${n})`);let b=v?typeof v=="string"?Xe.of(v.split(r||w1)):v:Xe.empty,C=b.length;if(p==y&&C==0)return;p<l&&u(),p>l&&Cn(i,p-l,-1),Cn(i,y-p,C),ds(a,i,b),l=y}}return h(e),u(!o),o}static empty(e){return new qt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let a=e[i];if(typeof a=="number")n.push(a,-1);else{if(!Array.isArray(a)||typeof a[0]!="number"||a.some((l,o)=>o&&typeof l!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(a.length==1)n.push(a[0],0);else{for(;r.length<i;)r.push(Xe.empty);r[i]=Xe.of(a.slice(1)),n.push(a[0],r[i].length)}}}return new qt(n,r)}static createSet(e,n){return new qt(e,n)}}function Cn(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function ds(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Xe.empty);t.push(n)}}function S1(t,e,n){let r=t.inserted;for(let i=0,a=0,l=0;l<t.sections.length;){let o=t.sections[l++],u=t.sections[l++];if(u<0)i+=o,a+=o;else{let h=i,d=a,p=Xe.empty;for(;h+=o,d+=u,u&&r&&(p=p.append(r[l-2>>1])),!(n||l==t.sections.length||t.sections[l+1]<0);)o=t.sections[l++],u=t.sections[l++];e(i,h,a,d,p),i=h,a=d}}}function j1(t,e,n,r=!1){let i=[],a=r?[]:null,l=new ff(t),o=new ff(e);for(let u=-1;;){if(l.done&&o.len||o.done&&l.len)throw new Error("Mismatched change set lengths");if(l.ins==-1&&o.ins==-1){let h=Math.min(l.len,o.len);Cn(i,h,-1),l.forward(h),o.forward(h)}else if(o.ins>=0&&(l.ins<0||u==l.i||l.off==0&&(o.len<l.len||o.len==l.len&&!n))){let h=o.len;for(Cn(i,o.ins,-1);h;){let d=Math.min(l.len,h);l.ins>=0&&u<l.i&&l.len<=d&&(Cn(i,0,l.ins),a&&ds(a,i,l.text),u=l.i),l.forward(d),h-=d}o.next()}else if(l.ins>=0){let h=0,d=l.len;for(;d;)if(o.ins==-1){let p=Math.min(d,o.len);h+=p,d-=p,o.forward(p)}else if(o.ins==0&&o.len<d)d-=o.len,o.next();else break;Cn(i,h,u<l.i?l.ins:0),a&&u<l.i&&ds(a,i,l.text),u=l.i,l.forward(l.len-d)}else{if(l.done&&o.done)return a?qt.createSet(i,a):Mi.create(i);throw new Error("Mismatched change set lengths")}}}function tP(t,e,n=!1){let r=[],i=n?[]:null,a=new ff(t),l=new ff(e);for(let o=!1;;){if(a.done&&l.done)return i?qt.createSet(r,i):Mi.create(r);if(a.ins==0)Cn(r,a.len,0,o),a.next();else if(l.len==0&&!l.done)Cn(r,0,l.ins,o),i&&ds(i,r,l.text),l.next();else{if(a.done||l.done)throw new Error("Mismatched change set lengths");{let u=Math.min(a.len2,l.len),h=r.length;if(a.ins==-1){let d=l.ins==-1?-1:l.off?0:l.ins;Cn(r,u,d,o),i&&d&&ds(i,r,l.text)}else l.ins==-1?(Cn(r,a.off?0:a.len,u,o),i&&ds(i,r,a.textBit(u))):(Cn(r,a.off?0:a.len,l.off?0:l.ins,o),i&&!l.off&&ds(i,r,l.text));o=(a.ins>u||l.ins>=0&&l.len>u)&&(o||r.length>h),a.forward2(u),l.forward(u)}}}}class ff{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Xe.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Xe.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class hl{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new hl(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return ce.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return ce.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&this.goalColumn==e.goalColumn&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return ce.range(e.anchor,e.head)}static create(e,n,r){return new hl(e,n,r)}}class ce{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:ce.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new ce([this.main],0)}addRange(e,n=!0){return ce.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,ce.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new ce(e.ranges.map(n=>hl.fromJSON(n)),e.main)}static single(e,n=e){return new ce([ce.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let a=e[i];if(a.empty?a.from<=r:a.from<r)return ce.normalized(e.slice(),n);r=a.to}return new ce(e,n)}static cursor(e,n=0,r,i){return hl.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let a=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?hl.create(n,e,48|a):hl.create(e,n,(n>e?8:0)|a)}static normalized(e,n=0){let r=e[n];e.sort((i,a)=>i.from-a.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let a=e[i],l=e[i-1];if(a.empty?a.from<=l.to:a.from<l.to){let o=l.from,u=Math.max(a.to,l.to);i<=n&&n--,e.splice(--i,2,a.anchor>a.head?ce.range(u,o):ce.range(o,u))}}return new ce(e,n)}}function nP(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let kS=0;class ve{constructor(e,n,r,i,a){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=kS++,this.default=e([]),this.extensions=typeof a=="function"?a(this):a}get reader(){return this}static define(e={}){return new ve(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:OS),!!e.static,e.enables)}of(e){return new Tm([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Tm(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Tm(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function OS(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class Tm{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=kS++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,a=this.id,l=e[a]>>1,o=this.type==2,u=!1,h=!1,d=[];for(let p of this.dependencies)p=="doc"?u=!0:p=="selection"?h=!0:(((n=e[p.id])!==null&&n!==void 0?n:1)&1)==0&&d.push(e[p.id]);return{create(p){return p.values[l]=r(p),1},update(p,y){if(u&&y.docChanged||h&&(y.docChanged||y.selection)||C1(p,d)){let v=r(p);if(o?!yA(v,p.values[l],i):!i(v,p.values[l]))return p.values[l]=v,1}return 0},reconfigure:(p,y)=>{let v,b=y.config.address[a];if(b!=null){let C=Ym(y,b);if(this.dependencies.every(j=>j instanceof ve?y.facet(j)===p.facet(j):j instanceof bn?y.field(j,!1)==p.field(j,!1):!0)||(o?yA(v=r(p),C,i):i(v=r(p),C)))return p.values[l]=C,0}else v=r(p);return p.values[l]=v,1}}}}function yA(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function C1(t,e){let n=!1;for(let r of e)Zu(t,r)&1&&(n=!0);return n}function d$(t,e,n){let r=n.map(u=>t[u.id]),i=n.map(u=>u.type),a=r.filter(u=>!(u&1)),l=t[e.id]>>1;function o(u){let h=[];for(let d=0;d<r.length;d++){let p=Ym(u,r[d]);if(i[d]==2)for(let y of p)h.push(y);else h.push(p)}return e.combine(h)}return{create(u){for(let h of r)Zu(u,h);return u.values[l]=o(u),1},update(u,h){if(!C1(u,a))return 0;let d=o(u);return e.compare(d,u.values[l])?0:(u.values[l]=d,1)},reconfigure(u,h){let d=C1(u,r),p=h.config.facets[e.id],y=h.facet(e);if(p&&!d&&OS(n,p))return u.values[l]=y,0;let v=o(u);return e.compare(v,y)?(u.values[l]=y,0):(u.values[l]=v,1)}}}const Ud=ve.define({static:!0});class bn{constructor(e,n,r,i,a){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=a,this.provides=void 0}static define(e){let n=new bn(kS++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(Ud).find(r=>r.field==this);return(n?.create||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let a=r.values[n],l=this.updateF(a,i);return this.compareF(a,l)?0:(r.values[n]=l,1)},reconfigure:(r,i)=>{let a=r.facet(Ud),l=i.facet(Ud),o;return(o=a.find(u=>u.field==this))&&o!=l.find(u=>u.field==this)?(r.values[n]=o.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,Ud.of({field:this,create:e})]}get extension(){return this}}const ul={lowest:4,low:3,default:2,high:1,highest:0};function ku(t){return e=>new rP(e,t)}const zl={highest:ku(ul.highest),high:ku(ul.high),default:ku(ul.default),low:ku(ul.low),lowest:ku(ul.lowest)};class rP{constructor(e,n){this.inner=e,this.prec=n}}class Cg{of(e){return new N1(this,e)}reconfigure(e){return Cg.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class N1{constructor(e,n){this.compartment=e,this.inner=n}}class Gm{constructor(e,n,r,i,a,l){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=a,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],a=Object.create(null),l=new Map;for(let y of m$(e,n,l))y instanceof bn?i.push(y):(a[y.facet.id]||(a[y.facet.id]=[])).push(y);let o=Object.create(null),u=[],h=[];for(let y of i)o[y.id]=h.length<<1,h.push(v=>y.slot(v));let d=r?.config.facets;for(let y in a){let v=a[y],b=v[0].facet,C=d&&d[y]||[];if(v.every(j=>j.type==0))if(o[b.id]=u.length<<1|1,OS(C,v))u.push(r.facet(b));else{let j=b.combine(v.map(N=>N.value));u.push(r&&b.compare(j,r.facet(b))?r.facet(b):j)}else{for(let j of v)j.type==0?(o[j.id]=u.length<<1|1,u.push(j.value)):(o[j.id]=h.length<<1,h.push(N=>j.dynamicSlot(N)));o[b.id]=h.length<<1,h.push(j=>d$(j,b,v))}}let p=h.map(y=>y(o));return new Gm(e,l,p,o,u,a)}}function m$(t,e,n){let r=[[],[],[],[],[]],i=new Map;function a(l,o){let u=i.get(l);if(u!=null){if(u<=o)return;let h=r[u].indexOf(l);h>-1&&r[u].splice(h,1),l instanceof N1&&n.delete(l.compartment)}if(i.set(l,o),Array.isArray(l))for(let h of l)a(h,o);else if(l instanceof N1){if(n.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(l.compartment)||l.inner;n.set(l.compartment,h),a(h,o)}else if(l instanceof rP)a(l.inner,l.prec);else if(l instanceof bn)r[o].push(l),l.provides&&a(l.provides,o);else if(l instanceof Tm)r[o].push(l),l.facet.extensions&&a(l.facet.extensions,ul.default);else{let h=l.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);a(h,o)}}return a(t,ul.default),r.reduce((l,o)=>l.concat(o))}function Zu(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function Ym(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const iP=ve.define(),k1=ve.define({combine:t=>t.some(e=>e),static:!0}),aP=ve.define({combine:t=>t.length?t[0]:void 0,static:!0}),sP=ve.define(),lP=ve.define(),oP=ve.define(),cP=ve.define({combine:t=>t.length?t[0]:!1});class Ii{constructor(e,n){this.type=e,this.value=n}static define(){return new p$}}class p${of(e){return new Ii(this,e)}}class g${constructor(e){this.map=e}of(e){return new Pe(this,e)}}class Pe{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Pe(this.type,n)}is(e){return this.type==e}static define(e={}){return new g$(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let a=i.map(n);a&&r.push(a)}return r}}Pe.reconfigure=Pe.define();Pe.appendConfig=Pe.define();class Ft{constructor(e,n,r,i,a,l){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=a,this.scrollIntoView=l,this._doc=null,this._state=null,r&&nP(r,n.newLength),a.some(o=>o.type==Ft.time)||(this.annotations=a.concat(Ft.time.of(Date.now())))}static create(e,n,r,i,a,l){return new Ft(e,n,r,i,a,l)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Ft.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Ft.time=Ii.define();Ft.userEvent=Ii.define();Ft.addToHistory=Ii.define();Ft.remote=Ii.define();function y$(t,e){let n=[];for(let r=0,i=0;;){let a,l;if(r<t.length&&(i==e.length||e[i]>=t[r]))a=t[r++],l=t[r++];else if(i<e.length)a=e[i++],l=e[i++];else return n;!n.length||n[n.length-1]<a?n.push(a,l):n[n.length-1]<l&&(n[n.length-1]=l)}}function uP(t,e,n){var r;let i,a,l;return n?(i=e.changes,a=qt.empty(e.changes.length),l=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),a=t.changes.mapDesc(e.changes,!0),l=t.changes.compose(i)),{changes:l,selection:e.selection?e.selection.map(a):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:Pe.mapEffects(t.effects,i).concat(Pe.mapEffects(e.effects,a)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function O1(t,e,n){let r=e.selection,i=Uo(e.annotations);return e.userEvent&&(i=i.concat(Ft.userEvent.of(e.userEvent))),{changes:e.changes instanceof qt?e.changes:qt.of(e.changes||[],n,t.facet(aP)),selection:r&&(r instanceof ce?r:ce.single(r.anchor,r.head)),effects:Uo(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function fP(t,e,n){let r=O1(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let a=1;a<e.length;a++){e[a].filter===!1&&(n=!1);let l=!!e[a].sequential;r=uP(r,O1(t,e[a],l?r.changes.newLength:t.doc.length),l)}let i=Ft.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return x$(n?v$(i):i)}function v$(t){let e=t.startState,n=!0;for(let i of e.facet(sP)){let a=i(t);if(a===!1){n=!1;break}Array.isArray(a)&&(n=n===!0?a:y$(n,a))}if(n!==!0){let i,a;if(n===!1)a=t.changes.invertedDesc,i=qt.empty(e.doc.length);else{let l=t.changes.filter(n);i=l.changes,a=l.filtered.mapDesc(l.changes).invertedDesc}t=Ft.create(e,i,t.selection&&t.selection.map(a),Pe.mapEffects(t.effects,a),t.annotations,t.scrollIntoView)}let r=e.facet(lP);for(let i=r.length-1;i>=0;i--){let a=r[i](t);a instanceof Ft?t=a:Array.isArray(a)&&a.length==1&&a[0]instanceof Ft?t=a[0]:t=fP(e,Uo(a),!1)}return t}function x$(t){let e=t.startState,n=e.facet(oP),r=t;for(let i=n.length-1;i>=0;i--){let a=n[i](t);a&&Object.keys(a).length&&(r=uP(r,O1(e,a,t.changes.newLength),!0))}return r==t?t:Ft.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const b$=[];function Uo(t){return t==null?b$:Array.isArray(t)?t:[t]}var yt=(function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t})(yt||(yt={}));const w$=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let A1;try{A1=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function S$(t){if(A1)return A1.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||w$.test(n)))return!0}return!1}function j$(t){return e=>{if(!/\S/.test(e))return yt.Space;if(S$(e))return yt.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return yt.Word;return yt.Other}}class qe{constructor(e,n,r,i,a,l){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=a,l&&(l._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)Zu(this,o<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return Zu(this,r),Ym(this,r)}update(...e){return fP(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let o of e.effects)o.is(Cg.reconfigure)?(n&&(i=new Map,n.compartments.forEach((u,h)=>i.set(h,u)),n=null),i.set(o.value.compartment,o.value.extension)):o.is(Pe.reconfigure)?(n=null,r=o.value):o.is(Pe.appendConfig)&&(n=null,r=Uo(r).concat(o.value));let a;n?a=e.startState.values.slice():(n=Gm.resolve(r,i,this),a=new qe(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(u,h)=>h.reconfigure(u,this),null).values);let l=e.startState.facet(k1)?e.newSelection:e.newSelection.asSingle();new qe(n,e.newDoc,l,a,(o,u)=>u.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:ce.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),a=[r.range],l=Uo(r.effects);for(let o=1;o<n.ranges.length;o++){let u=e(n.ranges[o]),h=this.changes(u.changes),d=h.map(i);for(let y=0;y<o;y++)a[y]=a[y].map(d);let p=i.mapDesc(h,!0);a.push(u.range.map(p)),i=i.compose(d),l=Pe.mapEffects(l,d).concat(Pe.mapEffects(Uo(u.effects),p))}return{changes:i,selection:ce.create(a,n.mainIndex),effects:l}}changes(e=[]){return e instanceof qt?e:qt.of(e,this.doc.length,this.facet(qe.lineSeparator))}toText(e){return Xe.of(e.split(this.facet(qe.lineSeparator)||w1))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Zu(this,n),Ym(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof bn&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let a in r)if(Object.prototype.hasOwnProperty.call(e,a)){let l=r[a],o=e[a];i.push(l.init(u=>l.spec.fromJSON(o,u)))}}return qe.create({doc:e.doc,selection:ce.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=Gm.resolve(e.extensions||[],new Map),r=e.doc instanceof Xe?e.doc:Xe.of((e.doc||"").split(n.staticFacet(qe.lineSeparator)||w1)),i=e.selection?e.selection instanceof ce?e.selection:ce.single(e.selection.anchor,e.selection.head):ce.single(0);return nP(i,r.length),n.staticFacet(k1)||(i=i.asSingle()),new qe(n,r,i,n.dynamicSlots.map(()=>null),(a,l)=>l.create(a),null)}get tabSize(){return this.facet(qe.tabSize)}get lineBreak(){return this.facet(qe.lineSeparator)||`
`}get readOnly(){return this.facet(cP)}phrase(e,...n){for(let r of this.facet(qe.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let a=+(i||1);return!a||a>n.length?r:n[a-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let a of this.facet(iP))for(let l of a(this,n,r))Object.prototype.hasOwnProperty.call(l,e)&&i.push(l[e]);return i}charCategorizer(e){let n=this.languageDataAt("wordChars",e);return j$(n.length?n[0]:"")}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),a=this.charCategorizer(e),l=e-r,o=e-r;for(;l>0;){let u=Jt(n,l,!1);if(a(n.slice(u,l))!=yt.Word)break;l=u}for(;o<i;){let u=Jt(n,o);if(a(n.slice(o,u))!=yt.Word)break;o=u}return l==o?null:ce.range(l+r,o+r)}}qe.allowMultipleSelections=k1;qe.tabSize=ve.define({combine:t=>t.length?t[0]:4});qe.lineSeparator=aP;qe.readOnly=cP;qe.phrases=ve.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});qe.languageData=iP;qe.changeFilter=sP;qe.transactionFilter=lP;qe.transactionExtender=oP;Cg.reconfigure=Pe.define();function Ui(t,e,n={}){let r={};for(let i of t)for(let a of Object.keys(i)){let l=i[a],o=r[a];if(o===void 0)r[a]=l;else if(!(o===l||l===void 0))if(Object.hasOwnProperty.call(n,a))r[a]=n[a](o,l);else throw new Error("Config merge conflict for field "+a)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class ws{eq(e){return this==e}range(e,n=e){return E1.create(e,n,this)}}ws.prototype.startSide=ws.prototype.endSide=0;ws.prototype.point=!1;ws.prototype.mapMode=Tn.TrackDel;function AS(t,e){return t==e||t.constructor==e.constructor&&t.eq(e)}let E1=class hP{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new hP(e,n,r)}};function T1(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class ES{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let a=r?this.to:this.from;for(let l=i,o=a.length;;){if(l==o)return l;let u=l+o>>1,h=a[u]-e||(r?this.value[u].endSide:this.value[u].startSide)-n;if(u==l)return h>=0?l:o;h>=0?o=u:l=u+1}}between(e,n,r,i){for(let a=this.findIndex(n,-1e9,!0),l=this.findIndex(r,1e9,!1,a);a<l;a++)if(i(this.from[a]+e,this.to[a]+e,this.value[a])===!1)return!1}map(e,n){let r=[],i=[],a=[],l=-1,o=-1;for(let u=0;u<this.value.length;u++){let h=this.value[u],d=this.from[u]+e,p=this.to[u]+e,y,v;if(d==p){let b=n.mapPos(d,h.startSide,h.mapMode);if(b==null||(y=v=b,h.startSide!=h.endSide&&(v=n.mapPos(d,h.endSide),v<y)))continue}else if(y=n.mapPos(d,h.startSide),v=n.mapPos(p,h.endSide),y>v||y==v&&h.startSide>0&&h.endSide<=0)continue;(v-y||h.endSide-h.startSide)<0||(l<0&&(l=y),h.point&&(o=Math.max(o,v-y)),r.push(h),i.push(y-l),a.push(v-l))}return{mapped:r.length?new ES(i,a,r,o):null,pos:l}}}class Ie{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new Ie(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:a=this.length}=e,l=e.filter;if(n.length==0&&!l)return this;if(r&&(n=n.slice().sort(T1)),this.isEmpty)return n.length?Ie.of(n):this;let o=new dP(this,null,-1).goto(0),u=0,h=[],d=new ga;for(;o.value||u<n.length;)if(u<n.length&&(o.from-n[u].from||o.startSide-n[u].value.startSide)>=0){let p=n[u++];d.addInner(p.from,p.to,p.value)||h.push(p)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(u==n.length||this.chunkEnd(o.chunkIndex)<n[u].from)&&(!l||i>this.chunkEnd(o.chunkIndex)||a<this.chunkPos[o.chunkIndex])&&d.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!l||i>o.to||a<o.from||l(o.from,o.to,o.value))&&(d.addInner(o.from,o.to,o.value)||h.push(E1.create(o.from,o.to,o.value))),o.next());return d.finishInner(this.nextLayer.isEmpty&&!h.length?Ie.empty:this.nextLayer.update({add:h,filter:l,filterFrom:i,filterTo:a}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let l=0;l<this.chunk.length;l++){let o=this.chunkPos[l],u=this.chunk[l],h=e.touchesRange(o,o+u.length);if(h===!1)i=Math.max(i,u.maxPoint),n.push(u),r.push(e.mapPos(o));else if(h===!0){let{mapped:d,pos:p}=u.map(o,e);d&&(i=Math.max(i,d.maxPoint),n.push(d),r.push(p))}}let a=this.nextLayer.map(e);return n.length==0?a:new Ie(r,n,a||Ie.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let a=this.chunkPos[i],l=this.chunk[i];if(n>=a&&e<=a+l.length&&l.between(a,e-a,n-a,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return hf.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return hf.from(e).goto(n)}static compare(e,n,r,i,a=-1){let l=e.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=a),o=n.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=a),u=vA(l,o,r),h=new Ou(l,u,a),d=new Ou(o,u,a);r.iterGaps((p,y,v)=>xA(h,p,d,y,v,i)),r.empty&&r.length==0&&xA(h,0,d,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let a=e.filter(d=>!d.isEmpty&&n.indexOf(d)<0),l=n.filter(d=>!d.isEmpty&&e.indexOf(d)<0);if(a.length!=l.length)return!1;if(!a.length)return!0;let o=vA(a,l),u=new Ou(a,o,0).goto(r),h=new Ou(l,o,0).goto(r);for(;;){if(u.to!=h.to||!M1(u.active,h.active)||u.point&&(!h.point||!AS(u.point,h.point)))return!1;if(u.to>i)return!0;u.next(),h.next()}}static spans(e,n,r,i,a=-1){let l=new Ou(e,null,a).goto(n),o=n,u=l.openStart;for(;;){let h=Math.min(l.to,r);if(l.point){let d=l.activeForPoint(l.to),p=l.pointFrom<n?d.length+1:l.point.startSide<0?d.length:Math.min(d.length,u);i.point(o,h,l.point,d,p,l.pointRank),u=Math.min(l.openEnd(h),d.length)}else h>o&&(i.span(o,h,l.active,u),u=l.openEnd(h));if(l.to>r)return u+(l.point&&l.to>r?1:0);o=l.to,l.next()}}static of(e,n=!1){let r=new ga;for(let i of e instanceof E1?[e]:n?C$(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return Ie.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=Ie.empty;i=i.nextLayer)n=new Ie(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}Ie.empty=new Ie([],[],null,-1);function C$(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(T1(e,r)>0)return t.slice().sort(T1);e=r}return t}Ie.empty.nextLayer=Ie.empty;class ga{finishChunk(e){this.chunks.push(new ES(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new ga)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(Ie.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=Ie.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function vA(t,e,n){let r=new Map;for(let a of t)for(let l=0;l<a.chunk.length;l++)a.chunk[l].maxPoint<=0&&r.set(a.chunk[l],a.chunkPos[l]);let i=new Set;for(let a of e)for(let l=0;l<a.chunk.length;l++){let o=r.get(a.chunk[l]);o!=null&&(n?n.mapPos(o):o)==a.chunkPos[l]&&!n?.touchesRange(o,o+a.chunk[l].length)&&i.add(a.chunk[l])}return i}class dP{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class hf{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let a=0;a<e.length;a++)for(let l=e[a];!l.isEmpty;l=l.nextLayer)l.maxPoint>=r&&i.push(new dP(l,n,r,a));return i.length==1?i[0]:new hf(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)Zv(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)Zv(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Zv(this.heap,0)}}}function Zv(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Ou{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=hf.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){Hd(this.active,e),Hd(this.activeTo,e),Hd(this.activeRank,e),this.minActive=bA(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:a}=this.cursor;for(;n<this.activeRank.length&&(a-this.activeRank[n]||i-this.activeTo[n])>0;)n++;$d(this.active,n,r),$d(this.activeTo,n,i),$d(this.activeRank,n,a),e&&$d(e,n,this.cursor.from),this.minActive=bA(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Hd(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let a=this.cursor.value;if(!a.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=a,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=a.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function xA(t,e,n,r,i,a){t.goto(e),n.goto(r);let l=r+i,o=r,u=r-e,h=!!a.boundChange;for(let d=!1;;){let p=t.to+u-n.to,y=p||t.endSide-n.endSide,v=y<0?t.to+u:n.to,b=Math.min(v,l);if(t.point||n.point?(t.point&&n.point&&AS(t.point,n.point)&&M1(t.activeForPoint(t.to),n.activeForPoint(n.to))||a.comparePoint(o,b,t.point,n.point),d=!1):(d&&a.boundChange(o),b>o&&!M1(t.active,n.active)&&a.compareRange(o,b,t.active,n.active),h&&b<l&&(p||t.openEnd(v)!=n.openEnd(v))&&(d=!0)),v>l)break;o=v,y<=0&&t.next(),y>=0&&n.next()}}function M1(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!AS(t[n],e[n]))return!1;return!0}function Hd(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function $d(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function bA(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function mc(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Jt(t,i));return r}function D1(t,e,n,r){for(let i=0,a=0;;){if(a>=e)return i;if(i==t.length)break;a+=t.charCodeAt(i)==9?n-a%n:1,i=Jt(t,i)}return r===!0?-1:t.length}const P1="",wA=typeof Symbol>"u"?"__"+P1:Symbol.for(P1),_1=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),SA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Ss{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(l){return/^@/.test(l)?[l]:l.split(/,\s*/)}function a(l,o,u,h){let d=[],p=/^@(\w+)\b/.exec(l[0]),y=p&&p[1]=="keyframes";if(p&&o==null)return u.push(l[0]+";");for(let v in o){let b=o[v];if(/&/.test(v))a(v.split(/,\s*/).map(C=>l.map(j=>C.replace(/&/,j))).reduce((C,j)=>C.concat(j)),b,u);else if(b&&typeof b=="object"){if(!p)throw new RangeError("The value of a property ("+v+") should be a primitive value.");a(i(v),b,d,y)}else b!=null&&d.push(v.replace(/_.*/,"").replace(/[A-Z]/g,C=>"-"+C.toLowerCase())+": "+b+";")}(d.length||y)&&u.push((r&&!p&&!h?l.map(r):l).join(", ")+" {"+d.join(" ")+"}")}for(let l in e)a(i(l),e[l],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=SA[wA]||1;return SA[wA]=e+1,P1+e.toString(36)}static mount(e,n,r){let i=e[_1],a=r&&r.nonce;i?a&&i.setNonce(a):i=new N$(e,a),i.mount(Array.isArray(n)?n:[n],e)}}let jA=new Map;class N${constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let a=jA.get(r);if(a)return e[_1]=a;this.sheet=new i.CSSStyleSheet,jA.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[_1]=this}mount(e,n){let r=this.sheet,i=0,a=0;for(let l=0;l<e.length;l++){let o=e[l],u=this.modules.indexOf(o);if(u<a&&u>-1&&(this.modules.splice(u,1),a--,u=-1),u==-1){if(this.modules.splice(a++,0,o),r)for(let h=0;h<o.rules.length;h++)r.insertRule(o.rules[h],i++)}else{for(;a<u;)i+=this.modules[a++].rules.length;i+=o.rules.length,a++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let l="";for(let u=0;u<this.modules.length;u++)l+=this.modules[u].getRules()+`
`;this.styleTag.textContent=l;let o=n.head||n;this.styleTag.parentNode!=o&&o.insertBefore(this.styleTag,o.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var js={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},df={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},k$=typeof navigator<"u"&&/Mac/.test(navigator.platform),O$=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var pn=0;pn<10;pn++)js[48+pn]=js[96+pn]=String(pn);for(var pn=1;pn<=24;pn++)js[pn+111]="F"+pn;for(var pn=65;pn<=90;pn++)js[pn]=String.fromCharCode(pn+32),df[pn]=String.fromCharCode(pn);for(var Jv in js)df.hasOwnProperty(Jv)||(df[Jv]=js[Jv]);function A$(t){var e=k$&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||O$&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?df:js)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function it(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)mP(t,arguments[e]);return t}function mP(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)mP(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}let En=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},R1=typeof document<"u"?document:{documentElement:{style:{}}};const L1=/Edge\/(\d+)/.exec(En.userAgent),pP=/MSIE \d/.test(En.userAgent),B1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(En.userAgent),Ng=!!(pP||B1||L1),CA=!Ng&&/gecko\/(\d+)/i.test(En.userAgent),ex=!Ng&&/Chrome\/(\d+)/.exec(En.userAgent),E$="webkitFontSmoothing"in R1.documentElement.style,z1=!Ng&&/Apple Computer/.test(En.vendor),NA=z1&&(/Mobile\/\w+/.test(En.userAgent)||En.maxTouchPoints>2);var ye={mac:NA||/Mac/.test(En.platform),windows:/Win/.test(En.platform),linux:/Linux|X11/.test(En.platform),ie:Ng,ie_version:pP?R1.documentMode||6:B1?+B1[1]:L1?+L1[1]:0,gecko:CA,gecko_version:CA?+(/Firefox\/(\d+)/.exec(En.userAgent)||[0,0])[1]:0,chrome:!!ex,chrome_version:ex?+ex[1]:0,ios:NA,android:/Android\b/.test(En.userAgent),webkit_version:E$?+(/\bAppleWebKit\/(\d+)/.exec(En.userAgent)||[0,0])[1]:0,safari:z1,safari_version:z1?+(/\bVersion\/(\d+(\.\d+)?)/.exec(En.userAgent)||[0,0])[1]:0,tabSize:R1.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function TS(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const Qm=Object.create(null);function MS(t,e,n){if(t==e)return!0;t||(t=Qm),e||(e=Qm);let r=Object.keys(t),i=Object.keys(e);if(r.length-0!=i.length-0)return!1;for(let a of r)if(a!=n&&(i.indexOf(a)==-1||t[a]!==e[a]))return!1;return!0}function T$(t,e){for(let n=t.attributes.length-1;n>=0;n--){let r=t.attributes[n].name;e[r]==null&&t.removeAttribute(r)}for(let n in e){let r=e[n];n=="style"?t.style.cssText=r:t.getAttribute(n)!=r&&t.setAttribute(n,r)}}function kA(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function M$(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class Hi{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var yn=(function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t})(yn||(yn={}));class ke extends ws{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Zf(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new kl(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:a,end:l}=gP(e,n);r=(a?n?-3e8:-1:5e8)-1,i=(l?n?2e8:1:-6e8)+1}return new kl(e,r,i,n,e.widget||null,!0)}static line(e){return new Jf(e)}static set(e,n=!1){return Ie.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ke.none=Ie.empty;class Zf extends ke{constructor(e){let{start:n,end:r}=gP(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?TS(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||Qm}eq(e){return this==e||e instanceof Zf&&this.tagName==e.tagName&&MS(this.attrs,e.attrs)}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}Zf.prototype.point=!1;class Jf extends ke{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Jf&&this.spec.class==e.spec.class&&MS(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}Jf.prototype.mapMode=Tn.TrackBefore;Jf.prototype.point=!0;class kl extends ke{constructor(e,n,r,i,a,l){super(n,r,a,e),this.block=i,this.isReplace=l,this.mapMode=i?n<=0?Tn.TrackBefore:Tn.TrackAfter:Tn.TrackDel}get type(){return this.startSide!=this.endSide?yn.WidgetRange:this.startSide<=0?yn.WidgetBefore:yn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof kl&&D$(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}kl.prototype.point=!0;function gP(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function D$(t,e){return t==e||!!(t&&e&&t.compare(e))}function Ho(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class mf extends ws{constructor(e,n){super(),this.tagName=e,this.attributes=n}eq(e){return e==this||e instanceof mf&&this.tagName==e.tagName&&MS(this.attributes,e.attributes)}static create(e){return new mf(e.tagName,e.attributes||Qm)}static set(e,n=!1){return Ie.of(e,n)}}mf.prototype.startSide=mf.prototype.endSide=-1;function pf(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function I1(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function Ju(t,e){if(!e.anchorNode)return!1;try{return I1(t,e.anchorNode)}catch{return!1}}function ef(t){return t.nodeType==3?yf(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function tf(t,e,n,r){return n?OA(t,e,n,r,-1)||OA(t,e,n,r,1):!1}function Cs(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Xm(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function OA(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:ya(t))){if(t.nodeName=="DIV")return!1;let a=t.parentNode;if(!a||a.nodeType!=1)return!1;e=Cs(t)+(i<0?0:1),t=a}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?ya(t):0}else return!1}}function ya(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function gf(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function P$(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function yP(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function _$(t,e,n,r,i,a,l,o){let u=t.ownerDocument,h=u.defaultView||window;for(let d=t,p=!1;d&&!p;)if(d.nodeType==1){let y,v=d==u.body,b=1,C=1;if(v)y=P$(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(d).position)&&(p=!0),d.scrollHeight<=d.clientHeight&&d.scrollWidth<=d.clientWidth){d=d.assignedSlot||d.parentNode;continue}let A=d.getBoundingClientRect();({scaleX:b,scaleY:C}=yP(d,A)),y={left:A.left,right:A.left+d.clientWidth*b,top:A.top,bottom:A.top+d.clientHeight*C}}let j=0,N=0;if(i=="nearest")e.top<y.top?(N=e.top-(y.top+l),n>0&&e.bottom>y.bottom+N&&(N=e.bottom-y.bottom+l)):e.bottom>y.bottom&&(N=e.bottom-y.bottom+l,n<0&&e.top-N<y.top&&(N=e.top-(y.top+l)));else{let A=e.bottom-e.top,k=y.bottom-y.top;N=(i=="center"&&A<=k?e.top+A/2-k/2:i=="start"||i=="center"&&n<0?e.top-l:e.bottom-k+l)-y.top}if(r=="nearest"?e.left<y.left?(j=e.left-(y.left+a),n>0&&e.right>y.right+j&&(j=e.right-y.right+a)):e.right>y.right&&(j=e.right-y.right+a,n<0&&e.left<y.left+j&&(j=e.left-(y.left+a))):j=(r=="center"?e.left+(e.right-e.left)/2-(y.right-y.left)/2:r=="start"==o?e.left-a:e.right-(y.right-y.left)+a)-y.left,j||N)if(v)h.scrollBy(j,N);else{let A=0,k=0;if(N){let T=d.scrollTop;d.scrollTop+=N/C,k=(d.scrollTop-T)*C}if(j){let T=d.scrollLeft;d.scrollLeft+=j/b,A=(d.scrollLeft-T)*b}e={left:e.left-A,top:e.top-k,right:e.right-A,bottom:e.bottom-k},A&&Math.abs(A-j)<1&&(r="nearest"),k&&Math.abs(k-N)<1&&(i="nearest")}if(v)break;(e.top<y.top||e.bottom>y.bottom||e.left<y.left||e.right>y.right)&&(e={left:Math.max(e.left,y.left),right:Math.min(e.right,y.right),top:Math.max(e.top,y.top),bottom:Math.min(e.bottom,y.bottom)}),d=d.assignedSlot||d.parentNode}else if(d.nodeType==11)d=d.host;else break}function R$(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class L${constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?ya(n):0),r,Math.min(e.focusOffset,r?ya(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let il=null;ye.safari&&ye.safari_version>=26&&(il=!1);function vP(t){if(t.setActive)return t.setActive();if(il)return t.focus(il);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(il==null?{get preventScroll(){return il={preventScroll:!0},!0}}:void 0),!il){il=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],a=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=a&&(r.scrollLeft=a)}}}let AA;function yf(t,e,n=e){let r=AA||(AA=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function $o(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let a=new KeyboardEvent("keydown",i);a.synthetic=!0,t.dispatchEvent(a);let l=new KeyboardEvent("keyup",i);return l.synthetic=!0,t.dispatchEvent(l),a.defaultPrevented||l.defaultPrevented}function B$(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function z$(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,ya(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=ya(n))}else{if(n==t)return!0;r=Cs(n),n=n.parentNode}}function xP(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function bP(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=ya(n)}else if(n.parentNode&&!Xm(n))r=Cs(n),n=n.parentNode;else return null}}function wP(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!Xm(n))r=Cs(n)+1,n=n.parentNode;else return null}}class ni{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new ni(e.parentNode,Cs(e),n)}static after(e,n){return new ni(e.parentNode,Cs(e)+1,n)}}var ot=(function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t})(ot||(ot={}));const Ol=ot.LTR,DS=ot.RTL;function SP(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const I$=SP("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),U$=SP("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),U1=Object.create(null),pi=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);U1[e]=n,U1[n]=-e}function jP(t){return t<=247?I$[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?U$[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const H$=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class ki{get dir(){return this.level%2?DS:Ol}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let a=-1;for(let l=0;l<e.length;l++){let o=e[l];if(o.from<=n&&o.to>=n){if(o.level==r)return l;(a<0||(i!=0?i<0?o.from<n:o.to>n:e[a].level>o.level))&&(a=l)}}if(a<0)throw new RangeError("Index out of range");return a}}function CP(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!CP(r.inner,i.inner))return!1}return!0}const lt=[];function $$(t,e,n,r,i){for(let a=0;a<=r.length;a++){let l=a?r[a-1].to:e,o=a<r.length?r[a].from:n,u=a?256:i;for(let h=l,d=u,p=u;h<o;h++){let y=jP(t.charCodeAt(h));y==512?y=d:y==8&&p==4&&(y=16),lt[h]=y==4?2:y,y&7&&(p=y),d=y}for(let h=l,d=u,p=u;h<o;h++){let y=lt[h];if(y==128)h<o-1&&d==lt[h+1]&&d&24?y=lt[h]=d:lt[h]=256;else if(y==64){let v=h+1;for(;v<o&&lt[v]==64;)v++;let b=h&&d==8||v<n&&lt[v]==8?p==1?1:8:256;for(let C=h;C<v;C++)lt[C]=b;h=v-1}else y==8&&p==1&&(lt[h]=1);d=y,y&7&&(p=y)}}}function q$(t,e,n,r,i){let a=i==1?2:1;for(let l=0,o=0,u=0;l<=r.length;l++){let h=l?r[l-1].to:e,d=l<r.length?r[l].from:n;for(let p=h,y,v,b;p<d;p++)if(v=U1[y=t.charCodeAt(p)])if(v<0){for(let C=o-3;C>=0;C-=3)if(pi[C+1]==-v){let j=pi[C+2],N=j&2?i:j&4?j&1?a:i:0;N&&(lt[p]=lt[pi[C]]=N),o=C;break}}else{if(pi.length==189)break;pi[o++]=p,pi[o++]=y,pi[o++]=u}else if((b=lt[p])==2||b==1){let C=b==i;u=C?0:1;for(let j=o-3;j>=0;j-=3){let N=pi[j+2];if(N&2)break;if(C)pi[j+2]|=2;else{if(N&4)break;pi[j+2]|=4}}}}}function F$(t,e,n,r){for(let i=0,a=r;i<=n.length;i++){let l=i?n[i-1].to:t,o=i<n.length?n[i].from:e;for(let u=l;u<o;){let h=lt[u];if(h==256){let d=u+1;for(;;)if(d==o){if(i==n.length)break;d=n[i++].to,o=i<n.length?n[i].from:e}else if(lt[d]==256)d++;else break;let p=a==1,y=(d<e?lt[d]:r)==1,v=p==y?p?1:2:r;for(let b=d,C=i,j=C?n[C-1].to:t;b>u;)b==j&&(b=n[--C].from,j=C?n[C-1].to:t),lt[--b]=v;u=d}else a=h,u++}}}function H1(t,e,n,r,i,a,l){let o=r%2?2:1;if(r%2==i%2)for(let u=e,h=0;u<n;){let d=!0,p=!1;if(h==a.length||u<a[h].from){let C=lt[u];C!=o&&(d=!1,p=C==16)}let y=!d&&o==1?[]:null,v=d?r:r+1,b=u;e:for(;;)if(h<a.length&&b==a[h].from){if(p)break e;let C=a[h];if(!d)for(let j=C.to,N=h+1;;){if(j==n)break e;if(N<a.length&&a[N].from==j)j=a[N++].to;else{if(lt[j]==o)break e;break}}if(h++,y)y.push(C);else{C.from>u&&l.push(new ki(u,C.from,v));let j=C.direction==Ol!=!(v%2);$1(t,j?r+1:r,i,C.inner,C.from,C.to,l),u=C.to}b=C.to}else{if(b==n||(d?lt[b]!=o:lt[b]==o))break;b++}y?H1(t,u,b,r+1,i,y,l):u<b&&l.push(new ki(u,b,v)),u=b}else for(let u=n,h=a.length;u>e;){let d=!0,p=!1;if(!h||u>a[h-1].to){let C=lt[u-1];C!=o&&(d=!1,p=C==16)}let y=!d&&o==1?[]:null,v=d?r:r+1,b=u;e:for(;;)if(h&&b==a[h-1].to){if(p)break e;let C=a[--h];if(!d)for(let j=C.from,N=h;;){if(j==e)break e;if(N&&a[N-1].to==j)j=a[--N].from;else{if(lt[j-1]==o)break e;break}}if(y)y.push(C);else{C.to<u&&l.push(new ki(C.to,u,v));let j=C.direction==Ol!=!(v%2);$1(t,j?r+1:r,i,C.inner,C.from,C.to,l),u=C.from}b=C.from}else{if(b==e||(d?lt[b-1]!=o:lt[b-1]==o))break;b--}y?H1(t,b,u,r+1,i,y,l):b<u&&l.push(new ki(b,u,v)),u=b}}function $1(t,e,n,r,i,a,l){let o=e%2?2:1;$$(t,i,a,r,o),q$(t,i,a,r,o),F$(i,a,r,o),H1(t,i,a,e,n,r,l)}function V$(t,e,n){if(!t)return[new ki(0,0,e==DS?1:0)];if(e==Ol&&!n.length&&!H$.test(t))return NP(t.length);if(n.length)for(;t.length>lt.length;)lt[lt.length]=256;let r=[],i=e==Ol?0:1;return $1(t,i,i,n,0,t.length,r),r}function NP(t){return[new ki(0,t,0)]}let kP="";function W$(t,e,n,r,i){var a;let l=r.head-t.from,o=ki.find(e,l,(a=r.bidiLevel)!==null&&a!==void 0?a:-1,r.assoc),u=e[o],h=u.side(i,n);if(l==h){let y=o+=i?1:-1;if(y<0||y>=e.length)return null;u=e[o=y],l=u.side(!i,n),h=u.side(i,n)}let d=Jt(t.text,l,u.forward(i,n));(d<u.from||d>u.to)&&(d=h),kP=t.text.slice(Math.min(l,d),Math.max(l,d));let p=o==(i?e.length-1:0)?null:e[o+(i?1:-1)];return p&&d==h&&p.level+(i?0:1)<u.level?ce.cursor(p.side(!i,n)+t.from,p.forward(i,n)?1:-1,p.level):ce.cursor(d+t.from,u.forward(i,n)?-1:1,u.level)}function K$(t,e,n){for(let r=e;r<n;r++){let i=jP(t.charCodeAt(r));if(i==1)return Ol;if(i==2||i==4)return DS}return Ol}const OP=ve.define(),AP=ve.define(),EP=ve.define(),TP=ve.define(),q1=ve.define(),MP=ve.define(),DP=ve.define(),PS=ve.define(),_S=ve.define(),PP=ve.define({combine:t=>t.some(e=>e)}),_P=ve.define({combine:t=>t.some(e=>e)}),RP=ve.define();class qo{constructor(e,n="nearest",r="nearest",i=5,a=5,l=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=a,this.isSnapshot=l}map(e){return e.empty?this:new qo(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new qo(ce.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const qd=Pe.define({map:(t,e)=>t.map(e)}),LP=Pe.define();function Gn(t,e,n){let r=t.facet(TP);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const ca=ve.define({combine:t=>t.length?t[0]:!0});let G$=0;const _o=ve.define({combine(t){return t.filter((e,n)=>{for(let r=0;r<n;r++)if(t[r].plugin==e.plugin)return!1;return!0})}});class Pt{constructor(e,n,r,i,a){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=a(this),this.extension=this.baseExtensions.concat(_o.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(_o.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:a,decorations:l}=n||{};return new Pt(G$++,e,r,i,o=>{let u=[];return l&&u.push(kg.of(h=>{let d=h.plugin(o);return d?l(d):ke.none})),a&&u.push(a(o)),u})}static fromClass(e,n){return Pt.define((r,i)=>new e(r,i),n)}}class tx{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(Gn(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){Gn(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){Gn(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const BP=ve.define(),RS=ve.define(),kg=ve.define(),zP=ve.define(),LS=ve.define(),eh=ve.define(),IP=ve.define();function EA(t,e){let n=t.state.facet(IP);if(!n.length)return n;let r=n.map(a=>a instanceof Function?a(t):a),i=[];return Ie.spans(r,e.from,e.to,{point(){},span(a,l,o,u){let h=a-e.from,d=l-e.from,p=i;for(let y=o.length-1;y>=0;y--,u--){let v=o[y].spec.bidiIsolate,b;if(v==null&&(v=K$(e.text,h,d)),u>0&&p.length&&(b=p[p.length-1]).to==h&&b.direction==v)b.to=d,p=b.inner;else{let C={from:h,to:d,direction:v,inner:[]};p.push(C),p=C.inner}}}}),i}const UP=ve.define();function BS(t){let e=0,n=0,r=0,i=0;for(let a of t.state.facet(UP)){let l=a(t);l&&(l.left!=null&&(e=Math.max(e,l.left)),l.right!=null&&(n=Math.max(n,l.right)),l.top!=null&&(r=Math.max(r,l.top)),l.bottom!=null&&(i=Math.max(i,l.bottom)))}return{left:e,right:n,top:r,bottom:i}}const $u=ve.define();class Br{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new Br(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,a=0,l=0;;){let o=i<e.length?e[i].fromB:1e9,u=a<n.length?n[a]:1e9,h=Math.min(o,u);if(h==1e9)break;let d=h+l,p=h,y=d;for(;;)if(a<n.length&&n[a]<=p){let v=n[a+1];a+=2,p=Math.max(p,v);for(let b=i;b<e.length&&e[b].fromB<=p;b++)l=e[b].toA-e[b].toB;y=Math.max(y,v+l)}else if(i<e.length&&e[i].fromB<=p){let v=e[i++];p=Math.max(p,v.toB),y=Math.max(y,v.toA),l=v.toA-v.toB}else break;r.push(new Br(d,y,h,p))}return r}}class Zm{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=qt.empty(this.startState.doc.length);for(let a of r)this.changes=this.changes.compose(a.changes);let i=[];this.changes.iterChangedRanges((a,l,o,u)=>i.push(new Br(a,l,o,u))),this.changedRanges=i}static create(e,n,r){return new Zm(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const Y$=[];class zt{constructor(e,n,r=0){this.dom=e,this.length=n,this.flags=r,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return Y$}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let n=this.domAttrs;n&&T$(this.dom,n)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,n=this.posAtStart){let r=n;for(let i of this.children){if(i==e)return r;r+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,n){return null}domPosFor(e,n){let r=Cs(this.dom),i=this.length?e>0:n>0;return new ni(this.parent.dom,r+(i?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof Ag)return e;return null}static get(e){return e.cmTile}}class Og extends zt{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let n=this.dom,r=null,i,a=e?.node==n?e:null,l=0;for(let o of this.children){if(o.sync(e),l+=o.length+o.breakAfter,i=r?r.nextSibling:n.firstChild,a&&i!=o.dom&&(a.written=!0),o.dom.parentNode==n)for(;i&&i!=o.dom;)i=TA(i);else n.insertBefore(o.dom,i);r=o.dom}for(i=r?r.nextSibling:n.firstChild,a&&i&&(a.written=!0);i;)i=TA(i);this.length=l}}function TA(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Ag extends Og{constructor(e,n){super(n),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let n=zt.get(e);if(n&&this.owns(n))return n;e=e.parentNode}}blockTiles(e){for(let n=[],r=this,i=0,a=0;;)if(i==r.children.length){if(!n.length)return;r=r.parent,r.breakAfter&&a++,i=n.pop()}else{let l=r.children[i++];if(l instanceof ys)n.push(i),r=l,i=0;else{let o=a+l.length,u=e(l,a);if(u!==void 0)return u;a=o+l.breakAfter}}}resolveBlock(e,n){let r,i=-1,a,l=-1;if(this.blockTiles((o,u)=>{let h=u+o.length;if(e>=u&&e<=h){if(o.isWidget()&&n>=-1&&n<=1){if(o.flags&32)return!0;o.flags&16&&(r=void 0)}(u<e||e==h&&(n<-1?o.length:o.covers(1)))&&(!r||!o.isWidget()&&r.isWidget())&&(r=o,i=e-u),(h>e||e==u&&(n>1?o.length:o.covers(-1)))&&(!a||!o.isWidget()&&a.isWidget())&&(a=o,l=e-u)}}),!r&&!a)throw new Error("No tile at position "+e);return r&&n<0||!a?{tile:r,offset:i}:{tile:a,offset:l}}}class ys extends Og{constructor(e,n){super(e),this.wrapper=n}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,n){let r=new ys(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class Zo extends Og{constructor(e,n){super(e),this.attrs=n}isLine(){return!0}static start(e,n,r){let i=new Zo(n||document.createElement("div"),e);return(!n||!r)&&(i.flags|=4),i}get domAttrs(){return this.attrs}resolveInline(e,n,r){let i=null,a=-1,l=null,o=-1;function u(d,p){for(let y=0,v=0;y<d.children.length&&v<=p;y++){let b=d.children[y],C=v+b.length;C>=p&&(b.isComposite()?u(b,p-v):(!l||l.isHidden&&(n>0||r&&X$(l,b)))&&(C>p||b.flags&32)?(l=b,o=p-v):(v<p||b.flags&16&&!b.isHidden)&&(i=b,a=p-v)),v=C}}u(this,e);let h=(n<0?i:l)||i||l;return h?{tile:h,offset:h==i?a:o}:null}coordsIn(e,n){let r=this.resolveInline(e,n,!0);return r?r.tile.coordsIn(Math.max(0,r.offset),n):Q$(this)}domIn(e,n){let r=this.resolveInline(e,n);if(r){let{tile:i,offset:a}=r;if(this.dom.contains(i.dom))return i.isText()?new ni(i.dom,Math.min(i.dom.nodeValue.length,a)):i.domPosFor(a,i.flags&16?1:i.flags&32?-1:n);let l=r.tile.parent,o=!1;for(let u of l.children){if(o)return new ni(u.dom,0);u==r.tile&&(o=!0)}}return new ni(this.dom,0)}}function Q$(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=ef(e);return n[n.length-1]||null}function X$(t,e){let n=t.coordsIn(0,1),r=e.coordsIn(0,1);return n&&r&&r.top<n.bottom}class Wn extends Og{constructor(e,n){super(e),this.mark=n}get domAttrs(){return this.mark.attrs}static of(e,n){let r=new Wn(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class dl extends zt{constructor(e,n){super(e,n.length),this.text=n}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,n){let r=this.dom.nodeValue.length;e>r&&(e=r);let i=e,a=e,l=0;e==0&&n<0||e==r&&n>=0?ye.chrome||ye.gecko||(e?(i--,l=1):a<r&&(a++,l=-1)):n<0?i--:a<r&&a++;let o=yf(this.dom,i,a).getClientRects();if(!o.length)return null;let u=o[(l?l<0:n>=0)?0:o.length-1];return ye.safari&&!l&&u.width==0&&(u=Array.prototype.find.call(o,h=>h.width)||u),l?gf(u,l<0):u||null}static of(e,n){let r=new dl(n||document.createTextNode(e),e);return n||(r.flags|=2),r}}class Al extends zt{constructor(e,n,r,i){super(e,n,i),this.widget=r}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,n){return this.coordsInWidget(e,n,!1)}coordsInWidget(e,n,r){let i=this.widget.coordsAt(this.dom,e,n);if(i)return i;if(r)return gf(this.dom.getBoundingClientRect(),this.length?e==0:n<=0);{let a=this.dom.getClientRects(),l=null;if(!a.length)return null;let o=this.flags&16?!0:this.flags&32?!1:e>0;for(let u=o?a.length-1:0;l=a[u],!(e>0?u==0:u==a.length-1||l.top<l.bottom);u+=o?-1:1);return gf(l,!o)}}get overrideDOMText(){if(!this.length)return Xe.empty;let{root:e}=this;if(!e)return Xe.empty;let n=this.posAtStart;return e.view.state.doc.slice(n,n+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,n,r,i,a){return a||(a=e.toDOM(n),e.editable||(a.contentEditable="false")),new Al(a,r,e,i)}}class Jm extends zt{constructor(e){let n=document.createElement("img");n.className="cm-widgetBuffer",n.setAttribute("aria-hidden","true"),super(n,0,e)}get isHidden(){return!0}get overrideDOMText(){return Xe.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class Z${constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,n,r){let{tile:i,index:a,beforeBreak:l,parents:o}=this;for(;e||n>0;)if(i.isComposite())if(l){if(!e)break;r&&r.break(),e--,l=!1}else if(a==i.children.length){if(!e&&!o.length)break;r&&r.leave(i),l=!!i.breakAfter,{tile:i,index:a}=o.pop(),a++}else{let u=i.children[a],h=u.breakAfter;(n>0?u.length<=e:u.length<e)&&(!r||r.skip(u,0,u.length)!==!1||!u.isComposite)?(l=!!h,a++,e-=u.length):(o.push({tile:i,index:a}),i=u,a=0,r&&u.isComposite()&&r.enter(u))}else if(a==i.length)l=!!i.breakAfter,{tile:i,index:a}=o.pop(),a++;else if(e){let u=Math.min(e,i.length-a);r&&r.skip(i,a,a+u),e-=u,a+=u}else break;return this.tile=i,this.index=a,this.beforeBreak=l,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class J${constructor(e,n,r,i){this.from=e,this.to=n,this.wrapper=r,this.rank=i}}class eq{constructor(e,n,r){this.cache=e,this.root=n,this.blockWrappers=r,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,n,r,i){var a;this.flushBuffer();let l=this.ensureMarks(n,r),o=l.lastChild;if(o&&o.isText()&&!(o.flags&8)&&o.length+e.length<512){this.cache.reused.set(o,2);let u=l.children[l.children.length-1]=new dl(o.dom,o.text+e);u.parent=l}else l.append(i||dl.of(e,(a=this.cache.find(dl))===null||a===void 0?void 0:a.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,n){let r=this.curLine;r.dom!=n.line.dom&&(r.setDOM(this.cache.reused.has(n.line)?nx(n.line.dom):n.line.dom),this.cache.reused.set(n.line,2));let i=r;for(let o=n.marks.length-1;o>=0;o--){let u=n.marks[o],h=i.lastChild;if(h instanceof Wn&&h.mark.eq(u.mark))h.dom!=u.dom&&h.setDOM(nx(u.dom)),i=h;else{if(this.cache.reused.get(u)){let p=zt.get(u.dom);p&&p.setDOM(nx(u.dom))}let d=Wn.of(u.mark,u.dom);i.append(d),i=d}this.cache.reused.set(u,2)}let a=zt.get(e.text);a&&this.cache.reused.set(a,2);let l=new dl(e.text,e.text.nodeValue);l.flags|=8,i.append(l)}addInlineWidget(e,n,r){let i=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);i||this.flushBuffer();let a=this.ensureMarks(n,r);!i&&!(e.flags&16)&&a.append(this.getBuffer(1)),a.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,n,r){this.flushBuffer(),this.ensureMarks(n,r).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let n=this.afterWidget||this.lastBlock;n.length+=e,this.pos+=e}addLineStart(e,n){var r;e||(e=HP);let i=Zo.start(e,n||((r=this.cache.find(Zo))===null||r===void 0?void 0:r.dom),!!n);this.getBlockPos().append(this.lastBlock=this.curLine=i)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,n){var r;let i=this.curLine;for(let a=e.length-1;a>=0;a--){let l=e[a],o;if(n>0&&(o=i.lastChild)&&o instanceof Wn&&o.mark.eq(l))i=o,n--;else{let u=Wn.of(l,(r=this.cache.find(Wn,h=>h.mark.eq(l)))===null||r===void 0?void 0:r.dom);i.append(u),i=u,n=0}}return i}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!MA(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(ye.ios&&MA(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(rx,0,32)||new Al(rx.toDOM(),0,rx,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let n=new J$(e.from,e.to,e.value,e.rank),r=this.wrappers.length;for(;r>0&&(this.wrappers[r-1].rank-n.rank||this.wrappers[r-1].to-n.to)<0;)r--;this.wrappers.splice(r,0,n)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let n=this.root;for(let r of this.wrappers){let i=n.lastChild;if(r.from<this.pos&&i instanceof ys&&i.wrapper.eq(r.wrapper))n=i;else{let a=ys.of(r.wrapper,(e=this.cache.find(ys,l=>l.wrapper.eq(r.wrapper)))===null||e===void 0?void 0:e.dom);n.append(a),n=a}}return n}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let n=2|(e<0?16:32),r=this.cache.find(Jm,void 0,1);return r&&(r.flags=n),r||new Jm(n)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class tq{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:i,lineBreak:a,done:l}=this.cursor.next(this.skipCount);if(this.skipCount=0,l)throw new Error("Ran out of text content when drawing inline views");this.text=i;let o=this.textOff=Math.min(e,i.length);return a?null:i.slice(0,o)}let n=Math.min(this.text.length,this.textOff+e),r=this.text.slice(this.textOff,n);return this.textOff=n,r}}const ep=[Al,Zo,dl,Wn,Jm,ys,Ag];for(let t=0;t<ep.length;t++)ep[t].bucket=t;class nq{constructor(e){this.view=e,this.buckets=ep.map(()=>[]),this.index=ep.map(()=>0),this.reused=new Map}add(e){let n=e.constructor.bucket,r=this.buckets[n];r.length<6?r.push(e):r[this.index[n]=(this.index[n]+1)%6]=e}find(e,n,r=2){let i=e.bucket,a=this.buckets[i],l=this.index[i];for(let o=a.length-1;o>=0;o--){let u=(o+l)%a.length,h=a[u];if((!n||n(h))&&!this.reused.has(h))return a.splice(u,1),u<l&&this.index[i]--,this.reused.set(h,r),h}return null}findWidget(e,n,r){let i=this.buckets[0];if(i.length)for(let a=0,l=0;;a++){if(a==i.length){if(l)return null;l=1,a=0}let o=i[a];if(!this.reused.has(o)&&(l==0?o.widget.compare(e):o.widget.constructor==e.constructor&&e.updateDOM(o.dom,this.view)))return i.splice(a,1),a<this.index[0]&&this.index[0]--,o.widget==e&&o.length==n&&(o.flags&497)==r?(this.reused.set(o,1),o):(this.reused.set(o,2),new Al(o.dom,n,e,o.flags&-498|r))}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,n=2){if(!this.reused.has(e))return this.reused.set(e,n),e.dom}clear(){for(let e=0;e<this.buckets.length;e++)this.buckets[e].length=this.index[e]=0}}class rq{constructor(e,n,r,i,a){this.view=e,this.decorations=i,this.disallowBlockEffectsFor=a,this.openWidget=!1,this.openMarks=0,this.cache=new nq(e),this.text=new tq(e.state.doc),this.builder=new eq(this.cache,new Ag(e,e.contentDOM),Ie.iter(r)),this.cache.reused.set(n,2),this.old=new Z$(n),this.reuseWalker={skip:(l,o,u)=>{if(this.cache.add(l),l.isComposite())return!1},enter:l=>this.cache.add(l),leave:()=>{},break:()=>{}}}run(e,n){let r=n&&this.getCompositionContext(n.text);for(let i=0,a=0,l=0;;){let o=l<e.length?e[l++]:null,u=o?o.fromA:this.old.root.length;if(u>i){let h=u-i;this.preserve(h,!l,!o),i=u,a+=h}if(!o)break;n&&o.fromA<=n.range.fromA&&o.toA>=n.range.toA?(this.forward(o.fromA,n.range.fromA,n.range.fromA<n.range.toA?1:-1),this.emit(a,n.range.fromB),this.cache.clear(),this.builder.addComposition(n,r),this.text.skip(n.range.toB-n.range.fromB),this.forward(n.range.fromA,o.toA),this.emit(n.range.toB,o.toB)):(this.forward(o.fromA,o.toA),this.emit(a,o.toB)),a=o.toB,i=o.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,n,r){let i=sq(this.old),a=this.openMarks;this.old.advance(e,r?1:-1,{skip:(l,o,u)=>{if(l.isWidget())if(this.openWidget)this.builder.continueWidget(u-o);else{let h=u>0||o<l.length?Al.of(l.widget,this.view,u-o,l.flags&496,this.cache.maybeReuse(l)):this.cache.reuse(l);h.flags&256?(h.flags&=-2,this.builder.addBlockWidget(h)):(this.builder.ensureLine(null),this.builder.addInlineWidget(h,i,a),a=i.length)}else if(l.isText())this.builder.ensureLine(null),!o&&u==l.length?this.builder.addText(l.text,i,a,this.cache.reuse(l)):(this.cache.add(l),this.builder.addText(l.text.slice(o,u),i,a)),a=i.length;else if(l.isLine())l.flags&=-2,this.cache.reused.set(l,1),this.builder.addLine(l);else if(l instanceof Jm)this.cache.add(l);else if(l instanceof Wn)this.builder.ensureLine(null),this.builder.addMark(l,i,a),this.cache.reused.set(l,1),a=i.length;else return!1;this.openWidget=!1},enter:l=>{l.isLine()?this.builder.addLineStart(l.attrs,this.cache.maybeReuse(l)):(this.cache.add(l),l instanceof Wn&&i.unshift(l.mark)),this.openWidget=!1},leave:l=>{l.isLine()?i.length&&(i.length=a=0):l instanceof Wn&&(i.shift(),a=Math.min(a,i.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,n){let r=null,i=this.builder,a=0,l=Ie.spans(this.decorations,e,n,{point:(o,u,h,d,p,y)=>{if(h instanceof kl){if(this.disallowBlockEffectsFor[y]){if(h.block)throw new RangeError("Block decorations may not be specified via plugins");if(u>this.view.state.doc.lineAt(o).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(a=d.length,p>d.length)i.continueWidget(u-o);else{let v=h.widget||(h.block?Jo.block:Jo.inline),b=iq(h),C=this.cache.findWidget(v,u-o,b)||Al.of(v,this.view,u-o,b);h.block?(h.startSide>0&&i.addLineStartIfNotCovered(r),i.addBlockWidget(C)):(i.ensureLine(r),i.addInlineWidget(C,d,p))}r=null}else r=aq(r,h);u>o&&this.text.skip(u-o)},span:(o,u,h,d)=>{for(let p=o;p<u;){let y=this.text.next(Math.min(512,u-p));y==null?(i.addLineStartIfNotCovered(r),i.addBreak(),p++):(i.ensureLine(r),i.addText(y,h,p==o?d:h.length),p+=y.length),r=null}}});i.addLineStartIfNotCovered(r),this.openWidget=l>a,this.openMarks=l}forward(e,n,r=1){n-e<=10?this.old.advance(n-e,r,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(n-e-10,-1),this.old.advance(5,r,this.reuseWalker))}getCompositionContext(e){let n=[],r=null;for(let i=e.parentNode;;i=i.parentNode){let a=zt.get(i);if(i==this.view.contentDOM)break;a instanceof Wn?n.push(a):a?.isLine()?r=a:i.nodeName=="DIV"&&!r&&i!=this.view.contentDOM?r=new Zo(i,HP):n.push(Wn.of(new Zf({tagName:i.nodeName.toLowerCase(),attributes:M$(i)}),i))}return{line:r,marks:n}}}function MA(t,e){let n=r=>{for(let i of r.children)if((e?i.isText():i.length)||n(i))return!0;return!1};return n(t)}function iq(t){let e=t.isReplace?(t.startSide<0?64:0)|(t.endSide>0?128:0):t.startSide>0?32:16;return t.block&&(e|=256),e}const HP={class:"cm-line"};function aq(t,e){let n=e.spec.attributes,r=e.spec.class;return!n&&!r||(t||(t={class:"cm-line"}),n&&TS(n,t),r&&(t.class+=" "+r)),t}function sq(t){let e=[];for(let n=t.parents.length;n>1;n--){let r=n==t.parents.length?t.tile:t.parents[n].tile;r instanceof Wn&&e.push(r.mark)}return e}function nx(t){let e=zt.get(t);return e&&e.setDOM(t.cloneNode()),t}class Jo extends Hi{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Jo.inline=new Jo("span");Jo.block=new Jo("div");const rx=new class extends Hi{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class DA{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=ke.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new Ag(e,e.contentDOM),this.updateInner([new Br(0,0,0,e.state.doc.length)],null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:d,toA:p})=>p<this.minWidthFrom||d>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!pq(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let a=i>-1?oq(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){let{from:d,to:p}=this.hasComposition;r=new Br(d,p,e.changes.mapPos(d,-1),e.changes.mapPos(p,1)).addToSet(r.slice())}this.hasComposition=a?{from:a.range.fromB,to:a.range.toB}:null,(ye.ie||ye.chrome)&&!a&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let l=this.decorations,o=this.blockWrappers;this.updateDeco();let u=fq(l,this.decorations,e.changes);u.length&&(r=Br.extendWithRanges(r,u));let h=dq(o,this.blockWrappers,e.changes);return h.length&&(r=Br.extendWithRanges(r,h)),a&&!r.some(d=>d.fromA<=a.range.fromA&&d.toA>=a.range.toA)&&(r=a.range.addToSet(r.slice())),this.tile.flags&2&&r.length==0?!1:(this.updateInner(r,a),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n){this.view.viewState.mustMeasureContent=!0;let{observer:r}=this.view;r.ignore(()=>{if(n||e.length){let l=this.tile,o=new rq(this.view,l,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=o.run(e,n),F1(l,o.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=ye.chrome||ye.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(a),a&&(a.written||r.selectionRange.focusNode!=a.node||!this.tile.dom.contains(a.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.tile.children)a.isWidget()&&a.widget instanceof ix&&i.push(a.dom);r.updateGaps(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(LP)&&(this.editContextFormatting=r.value)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:r}=this.tile,i=this.view.root.activeElement,a=i==r,l=!a&&!(this.view.state.facet(ca)||r.tabIndex>-1)&&Ju(r,this.view.observer.selectionRange)&&!(i&&r.contains(i));if(!(a||n||l))return;let o=this.forceSelection;this.forceSelection=!1;let u=this.view.state.selection.main,h,d;if(u.empty?d=h=this.inlineDOMNearPos(u.anchor,u.assoc||1):(d=this.inlineDOMNearPos(u.head,u.head==u.from?1:-1),h=this.inlineDOMNearPos(u.anchor,u.anchor==u.from?1:-1)),ye.gecko&&u.empty&&!this.hasComposition&&lq(h)){let y=document.createTextNode("");this.view.observer.ignore(()=>h.node.insertBefore(y,h.node.childNodes[h.offset]||null)),h=d=new ni(y,0),o=!0}let p=this.view.observer.selectionRange;(o||!p.focusNode||(!tf(h.node,h.offset,p.anchorNode,p.anchorOffset)||!tf(d.node,d.offset,p.focusNode,p.focusOffset))&&!this.suppressWidgetCursorChange(p,u))&&(this.view.observer.ignore(()=>{ye.android&&ye.chrome&&r.contains(p.focusNode)&&mq(p.focusNode,r)&&(r.blur(),r.focus({preventScroll:!0}));let y=pf(this.view.root);if(y)if(u.empty){if(ye.gecko){let v=cq(h.node,h.offset);if(v&&v!=3){let b=(v==1?bP:wP)(h.node,h.offset);b&&(h=new ni(b.node,b.offset))}}y.collapse(h.node,h.offset),u.bidiLevel!=null&&y.caretBidiLevel!==void 0&&(y.caretBidiLevel=u.bidiLevel)}else if(y.extend){y.collapse(h.node,h.offset);try{y.extend(d.node,d.offset)}catch{}}else{let v=document.createRange();u.anchor>u.head&&([h,d]=[d,h]),v.setEnd(d.node,d.offset),v.setStart(h.node,h.offset),y.removeAllRanges(),y.addRange(v)}l&&this.view.root.activeElement==r&&(r.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(h,d)),this.impreciseAnchor=h.precise?null:new ni(p.anchorNode,p.anchorOffset),this.impreciseHead=d.precise?null:new ni(p.focusNode,p.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&tf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=pf(e.root),{anchorNode:i,anchorOffset:a}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let l=this.lineAt(n.head,n.assoc);if(!l)return;let o=l.posAtStart;if(n.head==o||n.head==o+l.length)return;let u=this.coordsAt(n.head,-1),h=this.coordsAt(n.head,1);if(!u||!h||u.bottom>h.top)return;let d=this.domAtPos(n.head+n.assoc,n.assoc);r.collapse(d.node,d.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let p=e.observer.selectionRange;e.docView.posFromDOM(p.anchorNode,p.anchorOffset)!=n.from&&r.collapse(i,a)}posFromDOM(e,n){let r=this.tile.nearest(e);if(!r)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let i=r.posAtStart;if(r.isComposite()){let a;if(e==r.dom)a=r.dom.childNodes[n];else{let l=ya(e)==0?0:n==0?-1:1;for(;;){let o=e.parentNode;if(o==r.dom)break;l==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?l=-1:l=1),e=o}l<0?a=e:a=e.nextSibling}if(a==r.dom.firstChild)return i;for(;a&&!zt.get(a);)a=a.nextSibling;if(!a)return i+r.length;for(let l=0,o=i;;l++){let u=r.children[l];if(u.dom==a)return o;o+=u.length+u.breakAfter}}else return r.isText()?e==r.dom?i+n:i+(n?r.length:0):i}domAtPos(e,n){let{tile:r,offset:i}=this.tile.resolveBlock(e,n);return r.isWidget()?r.domPosFor(e,n):r.domIn(i,n)}inlineDOMNearPos(e,n){let r,i=-1,a=!1,l,o=-1,u=!1;return this.tile.blockTiles((h,d)=>{if(h.isWidget()){if(h.flags&32&&d>=e)return!0;h.flags&16&&(a=!0)}else{let p=d+h.length;if(d<=e&&(r=h,i=e-d,a=p<e),p>=e&&!l&&(l=h,o=e-d,u=d>e),d>e&&l)return!0}}),!r&&!l?this.domAtPos(e,n):(a&&l?r=null:u&&r&&(l=null),r&&n<0||!l?r.domIn(i,n):l.domIn(o,n))}coordsAt(e,n){let{tile:r,offset:i}=this.tile.resolveBlock(e,n);return r.isWidget()?r.widget instanceof ix?null:r.coordsInWidget(i,n,!0):r.coordsIn(i,n)}lineAt(e,n){let{tile:r}=this.tile.resolveBlock(e,n);return r.isLine()?r:null}coordsForChar(e){let{tile:n,offset:r}=this.tile.resolveBlock(e,1);if(!n.isLine())return null;function i(a,l){if(a.isComposite())for(let o of a.children){if(o.length>=l){let u=i(o,l);if(u)return u}if(l-=o.length,l<0)break}else if(a.isText()&&l<a.length){let o=Jt(a.text,l);if(o==l)return null;let u=yf(a.dom,l,o).getClientRects();for(let h=0;h<u.length;h++){let d=u[h];if(h==u.length-1||d.top<d.bottom&&d.left<d.right)return d}}return null}return i(n,r)}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,a=this.view.contentDOM.clientWidth,l=a>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,u=this.view.textDirection==ot.LTR,h=0,d=(p,y,v)=>{for(let b=0;b<p.children.length&&!(y>i);b++){let C=p.children[b],j=y+C.length,N=C.dom.getBoundingClientRect(),{height:A}=N;if(v&&!b&&(h+=N.top-v.top),C instanceof ys)j>r&&d(C,y,N);else if(y>=r&&(h>0&&n.push(-h),n.push(A+h),h=0,l)){let k=C.dom.lastChild,T=k?ef(k):[];if(T.length){let D=T[T.length-1],M=u?D.right-N.left:N.right-D.left;M>o&&(o=M,this.minWidth=a,this.minWidthFrom=y,this.minWidthTo=j)}}v&&b==p.children.length-1&&(h+=v.bottom-N.bottom),y=j+C.breakAfter}};return d(this.tile,0,null),n}textDirectionAt(e){let{tile:n}=this.tile.resolveBlock(e,1);return getComputedStyle(n.dom).direction=="rtl"?ot.RTL:ot.LTR}measureTextSize(){let e=this.tile.blockTiles(l=>{if(l.isLine()&&l.children.length&&l.length<=20){let o=0,u;for(let h of l.children){if(!h.isText()||/[^ -~]/.test(h.text))return;let d=ef(h.dom);if(d.length!=1)return;o+=d[0].width,u=d[0].height}if(o)return{lineHeight:l.dom.getBoundingClientRect().height,charWidth:o/l.length,textHeight:u}}});if(e)return e;let n=document.createElement("div"),r,i,a;return n.className="cm-line",n.style.width="99999px",n.style.position="absolute",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(n);let l=ef(n.firstChild)[0];r=n.getBoundingClientRect().height,i=l&&l.width?l.width/27:7,a=l&&l.height?l.height:r,n.remove()}),{lineHeight:r,charWidth:i,textHeight:a}}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let a=i==n.viewports.length?null:n.viewports[i],l=a?a.from-1:this.view.state.doc.length;if(l>r){let o=(n.lineBlockAt(l).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(ke.replace({widget:new ix(o),block:!0,inclusive:!0,isBlockGap:!0}).range(r,l))}if(!a)break;r=a.to+1}return ke.set(e)}updateDeco(){let e=1,n=this.view.state.facet(kg).map(a=>(this.dynamicDecorationMap[e++]=typeof a=="function")?a(this.view):a),r=!1,i=this.view.state.facet(LS).map((a,l)=>{let o=typeof a=="function";return o&&(r=!0),o?a(this.view):a});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(Ie.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(zP).map(a=>typeof a=="function"?a(this.view):a)}scrollIntoView(e){if(e.isSnapshot){let h=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=h.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let h of this.view.state.facet(RP))try{if(h(this.view,e.range,e))return!0}catch(d){Gn(this.view.state,d,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let a=BS(this.view),l={left:r.left-a.left,top:r.top-a.top,right:r.right+a.right,bottom:r.bottom+a.bottom},{offsetWidth:o,offsetHeight:u}=this.view.scrollDOM;_$(this.view.scrollDOM,l,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,o),-o),Math.max(Math.min(e.yMargin,u),-u),this.view.textDirection==ot.LTR)}lineHasWidget(e){let n=r=>r.isWidget()||r.children.some(n);return n(this.tile.resolveBlock(e,1).tile)}destroy(){F1(this.tile)}}function F1(t,e){let n=e?.get(t);if(n!=1){n==null&&t.destroy();for(let r of t.children)F1(r,e)}}function lq(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function $P(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=bP(n.focusNode,n.focusOffset),i=wP(n.focusNode,n.focusOffset),a=r||i;if(i&&r&&i.node!=r.node){let o=zt.get(i.node);if(!o||o.isText()&&o.text!=i.node.nodeValue)a=i;else if(t.docView.lastCompositionAfterCursor){let u=zt.get(r.node);!u||u.isText()&&u.text!=r.node.nodeValue||(a=i)}}if(t.docView.lastCompositionAfterCursor=a!=r,!a)return null;let l=e-a.offset;return{from:l,to:l+a.node.nodeValue.length,node:a.node}}function oq(t,e,n){let r=$P(t,n);if(!r)return null;let{node:i,from:a,to:l}=r,o=i.nodeValue;if(/[\n\r]/.test(o)||t.state.doc.sliceString(r.from,r.to)!=o)return null;let u=e.invertedDesc;return{range:new Br(u.mapPos(a),u.mapPos(l),a,l),text:i}}function cq(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let uq=class{constructor(){this.changes=[]}compareRange(e,n){Ho(e,n,this.changes)}comparePoint(e,n){Ho(e,n,this.changes)}boundChange(e){Ho(e,e,this.changes)}};function fq(t,e,n){let r=new uq;return Ie.compare(t,e,n,r),r.changes}class hq{constructor(){this.changes=[]}compareRange(e,n){Ho(e,n,this.changes)}comparePoint(){}boundChange(e){Ho(e,e,this.changes)}}function dq(t,e,n){let r=new hq;return Ie.compare(t,e,n,r),r.changes}function mq(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function pq(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}class ix extends Hi{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function gq(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),a=e-i.from;if(i.length==0)return ce.cursor(e);a==0?n=1:a==i.length&&(n=-1);let l=a,o=a;n<0?l=Jt(i.text,a,!1):o=Jt(i.text,a);let u=r(i.text.slice(l,o));for(;l>0;){let h=Jt(i.text,l,!1);if(r(i.text.slice(h,l))!=u)break;l=h}for(;o<i.length;){let h=Jt(i.text,o);if(r(i.text.slice(o,h))!=u)break;o=h}return ce.range(l+i.from,o+i.from)}function yq(t,e,n,r,i){let a=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let o=t.viewState.heightOracle.textHeight,u=Math.floor((i-n.top-(t.defaultLineHeight-o)*.5)/o);a+=u*t.viewState.heightOracle.lineLength}let l=t.state.sliceDoc(n.from,n.to);return n.from+D1(l,a,t.state.tabSize)}function V1(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let a of r.type){if(a.from>e)break;if(!(a.to<e)){if(a.from<e&&a.to>e)return a;(!i||a.type==yn.Text&&(i.type!=a.type||(n<0?a.from<e:a.to>e)))&&(i=a)}}return i||r}return r}function vq(t,e,n,r){let i=V1(t,e.head,e.assoc||-1),a=!r||i.type!=yn.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(a){let l=t.dom.getBoundingClientRect(),o=t.textDirectionAt(i.from),u=t.posAtCoords({x:n==(o==ot.LTR)?l.right-1:l.left+1,y:(a.top+a.bottom)/2});if(u!=null)return ce.cursor(u,n?-1:1)}return ce.cursor(n?i.to:i.from,n?-1:1)}function PA(t,e,n,r){let i=t.state.doc.lineAt(e.head),a=t.bidiSpans(i),l=t.textDirectionAt(i.from);for(let o=e,u=null;;){let h=W$(i,a,l,o,n),d=kP;if(!h){if(i.number==(n?t.state.doc.lines:1))return o;d=`
`,i=t.state.doc.line(i.number+(n?1:-1)),a=t.bidiSpans(i),h=t.visualLineSide(i,!n)}if(u){if(!u(d))return o}else{if(!r)return h;u=r(d)}o=h}}function xq(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return a=>{let l=r(a);return i==yt.Space&&(i=l),i==l}}function bq(t,e,n,r){let i=e.head,a=n?1:-1;if(i==(n?t.state.doc.length:0))return ce.cursor(i,e.assoc);let l=e.goalColumn,o,u=t.contentDOM.getBoundingClientRect(),h=t.coordsAtPos(i,(e.empty?e.assoc:0)||(n?1:-1)),d=t.documentTop;if(h)l==null&&(l=h.left-u.left),o=a<0?h.top:h.bottom;else{let b=t.viewState.lineBlockAt(i);l==null&&(l=Math.min(u.right-u.left,t.defaultCharacterWidth*(i-b.from))),o=(a<0?b.top:b.bottom)+d}let p=u.left+l,y=r??t.viewState.heightOracle.textHeight>>1,v=W1(t,{x:p,y:o+y*a},!1,a);return ce.cursor(v.pos,v.assoc,void 0,l)}function nf(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(a,l,o)=>{if(e>a&&e<l){let u=r||n||(e-a<l-e?-1:1);e=u<0?a:l,r=u}});if(!r)return e}}function qP(t,e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],a=null;if(i.empty){let l=nf(t,i.from,0);l!=i.from&&(a=ce.cursor(l,-1))}else{let l=nf(t,i.from,-1),o=nf(t,i.to,1);(l!=i.from||o!=i.to)&&(a=ce.range(i.from==i.anchor?l:o,i.from==i.head?l:o))}a&&(n||(n=e.ranges.slice()),n[r]=a)}return n?ce.create(n,e.mainIndex):e}function ax(t,e,n){let r=nf(t.state.facet(eh).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:ce.cursor(r,r<n.from?1:-1)}class Ni{constructor(e,n){this.pos=e,this.assoc=n}}function W1(t,e,n,r){let i=t.contentDOM.getBoundingClientRect(),a=i.top+t.viewState.paddingTop,{x:l,y:o}=e,u=o-a,h;for(;;){if(u<0)return new Ni(0,1);if(u>t.viewState.docHeight)return new Ni(t.state.doc.length,-1);if(h=t.elementAtHeight(u),r==null)break;if(h.type==yn.Text){if(r<0?h.to<t.viewport.from:h.from>t.viewport.to)break;let y=t.docView.coordsAt(r<0?h.from:h.to,r>0?-1:1);if(y&&(r<0?y.top<=u+a:y.bottom>=u+a))break}let p=t.viewState.heightOracle.textHeight/2;u=r>0?h.bottom+p:h.top-p}if(t.viewport.from>=h.to||t.viewport.to<=h.from){if(n)return null;if(h.type==yn.Text){let p=yq(t,i,h,l,o);return new Ni(p,p==h.from?1:-1)}}if(h.type!=yn.Text)return u<(h.top+h.bottom)/2?new Ni(h.from,1):new Ni(h.to,-1);let d=t.docView.lineAt(h.from,2);return(!d||d.length!=h.length)&&(d=t.docView.lineAt(h.from,-2)),new wq(t,l,o,t.textDirectionAt(h.from)).scanTile(d,h.from)}class wq{constructor(e,n,r,i){this.view=e,this.x=n,this.y=r,this.baseDir=i,this.line=null,this.spans=null}bidiSpansAt(e){return(!this.line||this.line.from>e||this.line.to<e)&&(this.line=this.view.state.doc.lineAt(e),this.spans=this.view.bidiSpans(this.line)),this}baseDirAt(e,n){let{line:r,spans:i}=this.bidiSpansAt(e);return i[ki.find(i,e-r.from,-1,n)].level==this.baseDir}dirAt(e,n){let{line:r,spans:i}=this.bidiSpansAt(e);return i[ki.find(i,e-r.from,-1,n)].dir}bidiIn(e,n){let{spans:r,line:i}=this.bidiSpansAt(e);return r.length>1||r.length&&(r[0].level!=this.baseDir||r[0].to+i.from<n)}scan(e,n){let r=0,i=e.length-1,a=new Set,l=this.bidiIn(e[0],e[i]),o,u,h=-1,d=1e9,p;e:for(;r<i;){let v=i-r,b=r+i>>1;t:if(a.has(b)){let j=r+Math.floor(Math.random()*v);for(let N=0;N<v;N++){if(!a.has(j)){b=j;break t}j++,j==i&&(j=r)}break e}a.add(b);let C=n(b);if(C)for(let j=0;j<C.length;j++){let N=C[j],A=0;if(N.bottom<this.y)(!o||o.bottom<N.bottom)&&(o=N),A=1;else if(N.top>this.y)(!u||u.top>N.top)&&(u=N),A=-1;else{let k=N.left>this.x?this.x-N.left:N.right<this.x?this.x-N.right:0,T=Math.abs(k);T<d&&(h=b,d=T,p=N),k&&(A=k<0==(this.baseDir==ot.LTR)?-1:1)}A==-1&&(!l||this.baseDirAt(e[b],1))?i=b:A==1&&(!l||this.baseDirAt(e[b+1],-1))&&(r=b+1)}}if(!p){let v=o&&(!u||this.y-o.bottom<u.top-this.y)?o:u;return this.y=(v.top+v.bottom)/2,this.scan(e,n)}let y=(l?this.dirAt(e[h],1):this.baseDir)==ot.LTR;return{i:h,after:this.x>(p.left+p.right)/2==y}}scanText(e,n){let r=[];for(let a=0;a<e.length;a=Jt(e.text,a))r.push(n+a);r.push(n+e.length);let i=this.scan(r,a=>{let l=r[a]-n,o=r[a+1]-n;return yf(e.dom,l,o).getClientRects()});return i.after?new Ni(r[i.i+1],-1):new Ni(r[i.i],1)}scanTile(e,n){if(!e.length)return new Ni(n,1);if(e.children.length==1){let o=e.children[0];if(o.isText())return this.scanText(o,n);if(o.isComposite())return this.scanTile(o,n)}let r=[n];for(let o=0,u=n;o<e.children.length;o++)r.push(u+=e.children[o].length);let i=this.scan(r,o=>{let u=e.children[o];return u.flags&48?null:(u.dom.nodeType==1?u.dom:yf(u.dom,0,u.length)).getClientRects()}),a=e.children[i.i],l=r[i.i];return a.isText()?this.scanText(a,l):a.isComposite()?this.scanTile(a,l):i.after?new Ni(r[i.i+1],-1):new Ni(l,1)}}const qu="";class Sq{constructor(e,n){this.points=e,this.view=n,this.text="",this.lineSeparator=n.state.facet(qe.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=qu}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let a=this.text.length;this.readNode(i);let l=zt.get(i),o=i.nextSibling;if(o==n){l?.breakAfter&&!o&&r!=this.view.contentDOM&&this.lineBreak();break}let u=zt.get(o);(l&&u?l.breakAfter:(l?l.breakAfter:Xm(i))||Xm(o)&&(i.nodeName!="BR"||l?.isWidget())&&this.text.length>a)&&!Cq(o,n)&&this.lineBreak(),i=o}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let a=-1,l=1,o;if(this.lineSeparator?(a=n.indexOf(this.lineSeparator,r),l=this.lineSeparator.length):(o=i.exec(n))&&(a=o.index,l=o[0].length),this.append(n.slice(r,a<0?n.length:a)),a<0)break;if(this.lineBreak(),l>1)for(let u of this.points)u.node==e&&u.pos>this.text.length&&(u.pos-=l-1);r=a+l}}readNode(e){let n=zt.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(jq(e,r.node,r.offset)?n:0))}}function jq(t,e,n){for(;;){if(!e||n<ya(e))return!1;if(e==t)return!0;n=Cs(e)+1,e=e.parentNode}}function Cq(t,e){let n;for(;!(t==e||!t);t=t.nextSibling){let r=zt.get(t);if(!r?.isWidget())return!1;r&&(n||(n=[])).push(r)}if(n)for(let r of n){let i=r.overrideDOMText;if(i?.length)return!1}return!0}class _A{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class Nq{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:a,impreciseAnchor:l}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=FP(e.docView.tile,n,r,0))){let o=a||l?[]:Oq(e),u=new Sq(o,e);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=Aq(o,this.bounds.from)}else{let o=e.observer.selectionRange,u=a&&a.node==o.focusNode&&a.offset==o.focusOffset||!I1(e.contentDOM,o.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(o.focusNode,o.focusOffset),h=l&&l.node==o.anchorNode&&l.offset==o.anchorOffset||!I1(e.contentDOM,o.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(o.anchorNode,o.anchorOffset),d=e.viewport;if((ye.ios||ye.chrome)&&e.state.selection.main.empty&&u!=h&&(d.from>0||d.to<e.state.doc.length)){let p=Math.min(u,h),y=Math.max(u,h),v=d.from-p,b=d.to-y;(v==0||v==1||p==0)&&(b==0||b==-1||y==e.state.doc.length)&&(u=0,h=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(ce.range(h,u)):this.newSel=ce.single(h,u)}}}function FP(t,e,n,r){if(t.isComposite()){let i=-1,a=-1,l=-1,o=-1;for(let u=0,h=r,d=r;u<t.children.length;u++){let p=t.children[u],y=h+p.length;if(h<e&&y>n)return FP(p,e,n,h);if(y>=e&&i==-1&&(i=u,a=h),h>n&&p.dom.parentNode==t.dom){l=u,o=d;break}d=y,h=y+p.breakAfter}return{from:a,to:o<0?r+t.length:o,startDOM:(i?t.children[i-1].dom.nextSibling:null)||t.dom.firstChild,endDOM:l<t.children.length&&l>=0?t.children[l].dom:null}}else return t.isText()?{from:r,to:r+t.length,startDOM:t.dom,endDOM:t.dom.nextSibling}:null}function VP(t,e){let n,{newSel:r}=e,i=t.state.selection.main,a=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:l,to:o}=e.bounds,u=i.from,h=null;(a===8||ye.android&&e.text.length<o-l)&&(u=i.to,h="end");let d=WP(t.state.doc.sliceString(l,o,qu),e.text,u-l,h);d&&(ye.chrome&&a==13&&d.toB==d.from+2&&e.text.slice(d.from,d.toB)==qu+qu&&d.toB--,n={from:l+d.from,to:l+d.toA,insert:Xe.of(e.text.slice(d.from,d.toB).split(qu))})}else r&&(!t.hasFocus&&t.state.facet(ca)||tp(r,i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(ye.mac||ye.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=ce.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:Xe.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:t.state.doc.lineAt(i.from).to<i.to&&t.docView.lineHasWidget(i.to)&&t.inputState.insertingTextAt>Date.now()-50?n={from:i.from,to:i.to,insert:t.state.toText(t.inputState.insertingText)}:ye.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=ce.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Xe.of([" "])}),n)return zS(t,n,r,a);if(r&&!tp(r,i)){let l=!1,o="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(l=!0),o=t.inputState.lastSelectionOrigin,o=="select.pointer"&&(r=qP(t.state.facet(eh).map(u=>u(t)),r))),t.dispatch({selection:r,scrollIntoView:l,userEvent:o}),!0}else return!1}function zS(t,e,n,r=-1){if(ye.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(ye.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&$o(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&$o(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&$o(t.contentDOM,"Delete",46)))return!0;let a=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let l,o=()=>l||(l=kq(t,e,n));return t.state.facet(MP).some(u=>u(t,e.from,e.to,a,o))||t.dispatch(o()),!0}function kq(t,e,n){let r,i=t.state,a=i.selection.main,l=-1;if(e.from==e.to&&e.from<a.from||e.from>a.to){let u=e.from<a.from?-1:1,h=u<0?a.from:a.to,d=nf(i.facet(eh).map(p=>p(t)),h,u);e.from==d&&(l=d)}if(l>-1)r={changes:e,selection:ce.cursor(e.from+e.insert.length,-1)};else if(e.from>=a.from&&e.to<=a.to&&e.to-e.from>=(a.to-a.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let u=a.from<e.from?i.sliceDoc(a.from,e.from):"",h=a.to>e.to?i.sliceDoc(e.to,a.to):"";r=i.replaceSelection(t.state.toText(u+e.insert.sliceString(0,void 0,t.state.lineBreak)+h))}else{let u=i.changes(e),h=n&&n.main.to<=u.newLength?n.main:void 0;if(i.selection.ranges.length>1&&(t.inputState.composing>=0||t.inputState.compositionPendingChange)&&e.to<=a.to+10&&e.to>=a.to-10){let d=t.state.sliceDoc(e.from,e.to),p,y=n&&$P(t,n.main.head);if(y){let b=e.insert.length-(e.to-e.from);p={from:y.from,to:y.to-b}}else p=t.state.doc.lineAt(a.head);let v=a.to-e.to;r=i.changeByRange(b=>{if(b.from==a.from&&b.to==a.to)return{changes:u,range:h||b.map(u)};let C=b.to-v,j=C-d.length;if(t.state.sliceDoc(j,C)!=d||C>=p.from&&j<=p.to)return{range:b};let N=i.changes({from:j,to:C,insert:e.insert}),A=b.to-a.to;return{changes:N,range:h?ce.range(Math.max(0,h.anchor+A),Math.max(0,h.head+A)):b.map(N)}})}else r={changes:u,selection:h&&i.selection.replaceRange(h)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:o,scrollIntoView:!0})}function WP(t,e,n,r){let i=Math.min(t.length,e.length),a=0;for(;a<i&&t.charCodeAt(a)==e.charCodeAt(a);)a++;if(a==i&&t.length==e.length)return null;let l=t.length,o=e.length;for(;l>0&&o>0&&t.charCodeAt(l-1)==e.charCodeAt(o-1);)l--,o--;if(r=="end"){let u=Math.max(0,a-Math.min(l,o));n-=l+u-a}if(l<a&&t.length<e.length){let u=n<=a&&n>=l?a-n:0;a-=u,o=a+(o-l),l=a}else if(o<a){let u=n<=a&&n>=o?a-n:0;a-=u,l=a+(l-o),o=a}return{from:a,toA:l,toB:o}}function Oq(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a}=t.observer.selectionRange;return n&&(e.push(new _A(n,r)),(i!=n||a!=r)&&e.push(new _A(i,a))),e}function Aq(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?ce.single(n+e,r+e):null}function tp(t,e){return e.head==t.main.head&&e.anchor==t.main.anchor}class Eq{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ye.safari&&e.contentDOM.addEventListener("input",()=>null),ye.gecko&&Fq(e.contentDOM.ownerDocument)}handleEvent(e){!Bq(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=Tq(e),r=this.handlers,i=this.view.contentDOM;for(let a in n)if(a!="scroll"){let l=!n[a].handlers.length,o=r[a];o&&l!=!o.handlers.length&&(i.removeEventListener(a,this.handleEvent),o=null),o||i.addEventListener(a,this.handleEvent,{passive:l})}for(let a in r)a!="scroll"&&!n[a]&&i.removeEventListener(a,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&GP.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ye.android&&ye.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return ye.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=KP.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||Mq.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,$o(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:ye.safari&&!ye.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function RA(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){Gn(n.state,i)}}}function Tq(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec,a=i&&i.plugin.domEventHandlers,l=i&&i.plugin.domEventObservers;if(a)for(let o in a){let u=a[o];u&&n(o).handlers.push(RA(r.value,u))}if(l)for(let o in l){let u=l[o];u&&n(o).observers.push(RA(r.value,u))}}for(let r in si)n(r).handlers.push(si[r]);for(let r in Fr)n(r).observers.push(Fr[r]);return e}const KP=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Mq="dthko",GP=[16,17,18,20,91,92,224,225],Fd=6;function Vd(t){return Math.max(0,t)*.7+8}function Dq(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class Pq{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=R$(e.contentDOM),this.atoms=e.state.facet(eh).map(l=>l(e));let a=e.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this)),a.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(qe.allowMultipleSelections)&&_q(e,n),this.dragging=Lq(e,n)&&XP(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Dq(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,a=0,l=this.view.win.innerWidth,o=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:l}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:a,bottom:o}=this.scrollParents.y.getBoundingClientRect());let u=BS(this.view);e.clientX-u.left<=i+Fd?n=-Vd(i-e.clientX):e.clientX+u.right>=l-Fd&&(n=Vd(e.clientX-l)),e.clientY-u.top<=a+Fd?r=-Vd(a-e.clientY):e.clientY+u.bottom>=o-Fd&&(r=Vd(e.clientY-o)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:n}=this,r=qP(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function _q(t,e){let n=t.state.facet(OP);return n.length?n[0](e):ye.mac?e.metaKey:e.ctrlKey}function Rq(t,e){let n=t.state.facet(AP);return n.length?n[0](e):ye.mac?!e.altKey:!e.ctrlKey}function Lq(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=pf(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let a=0;a<i.length;a++){let l=i[a];if(l.left<=e.clientX&&l.right>=e.clientX&&l.top<=e.clientY&&l.bottom>=e.clientY)return!0}return!1}function Bq(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=zt.get(n))&&r.isWidget()&&!r.isHidden&&r.widget.ignoreEvent(e))return!1;return!0}const si=Object.create(null),Fr=Object.create(null),YP=ye.ie&&ye.ie_version<15||ye.ios&&ye.webkit_version<604;function zq(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),QP(t,n.value)},50)}function Eg(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function QP(t,e){e=Eg(t.state,PS,e);let{state:n}=t,r,i=1,a=n.toText(e),l=a.lines==n.selection.ranges.length;if(K1!=null&&n.selection.ranges.every(u=>u.empty)&&K1==a.toString()){let u=-1;r=n.changeByRange(h=>{let d=n.doc.lineAt(h.from);if(d.from==u)return{range:h};u=d.from;let p=n.toText((l?a.line(i++).text:e)+n.lineBreak);return{changes:{from:d.from,insert:p},range:ce.cursor(h.from+p.length)}})}else l?r=n.changeByRange(u=>{let h=a.line(i++);return{changes:{from:u.from,to:u.to,insert:h.text},range:ce.cursor(u.from+h.length)}}):r=n.replaceSelection(a);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Fr.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};si.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);Fr.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Fr.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};si.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(EP))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=Uq(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new Pq(t,e,n,r)),r&&t.observer.ignore(()=>{vP(t.contentDOM);let a=t.root.activeElement;a&&!a.contains(t.contentDOM)&&a.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function LA(t,e,n,r){if(r==1)return ce.cursor(e,n);if(r==2)return gq(t.state,e,n);{let i=t.docView.lineAt(e,n),a=t.state.doc.lineAt(i?i.posAtEnd:e),l=i?i.posAtStart:a.from,o=i?i.posAtEnd:a.to;return o<t.state.doc.length&&o==a.to&&o++,ce.range(l,o)}}const Iq=ye.ie&&ye.ie_version<=11;let BA=null,zA=0,IA=0;function XP(t){if(!Iq)return t.detail;let e=BA,n=IA;return BA=t,IA=Date.now(),zA=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(zA+1)%3:1}function Uq(t,e){let n=t.posAndSideAtCoords({x:e.clientX,y:e.clientY},!1),r=XP(e),i=t.state.selection;return{update(a){a.docChanged&&(n.pos=a.changes.mapPos(n.pos),i=i.map(a.changes))},get(a,l,o){let u=t.posAndSideAtCoords({x:a.clientX,y:a.clientY},!1),h,d=LA(t,u.pos,u.assoc,r);if(n.pos!=u.pos&&!l){let p=LA(t,n.pos,n.assoc,r),y=Math.min(p.from,d.from),v=Math.max(p.to,d.to);d=y<d.from?ce.range(y,v):ce.range(v,y)}return l?i.replaceRange(i.main.extend(d.from,d.to)):o&&r==1&&i.ranges.length>1&&(h=Hq(i,u.pos))?h:o?i.addRange(d):ce.create([d])}}}function Hq(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return ce.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}si.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.tile.nearest(e.target);if(i&&i.isWidget()){let a=i.posAtStart,l=a+i.length;(a>=n.to||l<=n.from)&&(n=ce.range(a,l))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",Eg(t.state,_S,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};si.dragend=t=>(t.inputState.draggedContent=null,!1);function UA(t,e,n,r){if(n=Eg(t.state,PS,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:a}=t.inputState,l=r&&a&&Rq(t,e)?{from:a.from,to:a.to}:null,o={from:i,insert:n},u=t.state.changes(l?[l,o]:o);t.focus(),t.dispatch({changes:u,selection:{anchor:u.mapPos(i,-1),head:u.mapPos(i,1)},userEvent:l?"move.drop":"input.drop"}),t.inputState.draggedContent=null}si.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,a=()=>{++i==n.length&&UA(t,e,r.filter(l=>l!=null).join(t.state.lineBreak),!1)};for(let l=0;l<n.length;l++){let o=new FileReader;o.onerror=a,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(r[l]=o.result),a()},o.readAsText(n[l])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return UA(t,e,r,!0),!0}return!1};si.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=YP?null:e.clipboardData;return n?(QP(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(zq(t),!1)};function $q(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function qq(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:a}of t.selection.ranges){let l=t.doc.lineAt(a);l.number>i&&(e.push(l.text),n.push({from:l.from,to:Math.min(t.doc.length,l.to+1)})),i=l.number}r=!0}return{text:Eg(t,_S,e.join(t.lineBreak)),ranges:n,linewise:r}}let K1=null;si.copy=si.cut=(t,e)=>{if(!Ju(t.contentDOM,t.observer.selectionRange))return!1;let{text:n,ranges:r,linewise:i}=qq(t.state);if(!n&&!i)return!1;K1=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let a=YP?null:e.clipboardData;return a?(a.clearData(),a.setData("text/plain",n),!0):($q(t,n),!1)};const ZP=Ii.define();function JP(t,e){let n=[];for(let r of t.facet(DP)){let i=r(t,e);i&&n.push(i)}return n.length?t.update({effects:n,annotations:ZP.of(!0)}):null}function e_(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=JP(t.state,e);n?t.dispatch(n):t.update([])}},10)}Fr.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),e_(t)};Fr.blur=t=>{t.observer.clearSelectionRange(),e_(t)};Fr.compositionstart=Fr.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};Fr.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,ye.chrome&&ye.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};Fr.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};si.beforeinput=(t,e)=>{var n,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(t.inputState.insertingText=e.data,t.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&t.observer.editContext){let a=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),l=e.getTargetRanges();if(a&&l.length){let o=l[0],u=t.posAtDOM(o.startContainer,o.startOffset),h=t.posAtDOM(o.endContainer,o.endOffset);return zS(t,{from:u,to:h,insert:t.state.toText(a)},null),!0}}let i;if(ye.chrome&&ye.android&&(i=KP.find(a=>a.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let a=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var l;(((l=window.visualViewport)===null||l===void 0?void 0:l.height)||0)>a+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return ye.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),ye.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>Fr.compositionend(t,e),20),!1};const HA=new Set;function Fq(t){HA.has(t)||(HA.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const $A=["pre-wrap","normal","pre-line","break-spaces"];let ec=!1;function qA(){ec=!1}class Vq{constructor(e){this.lineWrapping=e,this.doc=Xe.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return $A.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,a,l){let o=$A.indexOf(e)>-1,u=Math.abs(n-this.lineHeight)>.3||this.lineWrapping!=o||Math.abs(r-this.charWidth)>.1;if(this.lineWrapping=o,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=a,u){this.heightSamples={};for(let h=0;h<l.length;h++){let d=l[h];d<0?h++:this.heightSamples[Math.floor(d*10)]=!0}}return u}}class Wq{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Zr{constructor(e,n,r,i,a){this.from=e,this.length=n,this.top=r,this.height=i,this._content=a}get type(){return typeof this._content=="number"?yn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof kl?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Zr(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var ft=(function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t})(ft||(ft={}));const Mm=.001;class Pn{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Mm&&(ec=!0),this.height=e)}replace(e,n,r){return Pn.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let a=this,l=r.doc;for(let o=i.length-1;o>=0;o--){let{fromA:u,toA:h,fromB:d,toB:p}=i[o],y=a.lineAt(u,ft.ByPosNoHeight,r.setDoc(n),0,0),v=y.to>=h?y:a.lineAt(h,ft.ByPosNoHeight,r,0,0);for(p+=v.to-h,h=v.to;o>0&&y.from<=i[o-1].toA;)u=i[o-1].fromA,d=i[o-1].fromB,o--,u<y.from&&(y=a.lineAt(u,ft.ByPosNoHeight,r,0,0));d+=y.from-u,u=y.from;let b=IS.build(r.setDoc(l),e,d,p);a=np(a,a.replace(u,h,b))}return a.updateHeight(r,0)}static empty(){return new mr(0,0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,a=0;for(;;)if(n==r)if(i>a*2){let o=e[n-1];o.break?e.splice(--n,1,o.left,null,o.right):e.splice(--n,1,o.left,o.right),r+=1+o.break,i-=o.size}else if(a>i*2){let o=e[r];o.break?e.splice(r,1,o.left,null,o.right):e.splice(r,1,o.left,o.right),r+=2+o.break,a-=o.size}else break;else if(i<a){let o=e[n++];o&&(i+=o.size)}else{let o=e[--r];o&&(a+=o.size)}let l=0;return e[n-1]==null?(l=1,n--):e[n]==null&&(l=1,r++),new Gq(Pn.of(e.slice(0,n)),l,Pn.of(e.slice(r)))}}function np(t,e){return t==e?t:(t.constructor!=e.constructor&&(ec=!0),e)}Pn.prototype.size=1;const Kq=ke.replace({});class t_ extends Pn{constructor(e,n,r){super(e,n),this.deco=r,this.spaceAbove=0}mainBlock(e,n){return new Zr(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,n,r,i){return this.spaceAbove&&e<r+this.spaceAbove?new Zr(i,0,r,this.spaceAbove,Kq):this.mainBlock(r,i)}lineAt(e,n,r,i,a){let l=this.mainBlock(i,a);return this.spaceAbove?this.blockAt(0,r,i,a).join(l):l}forEachLine(e,n,r,i,a,l){e<=a+this.length&&n>=a&&l(this.lineAt(0,ft.ByPos,r,i,a))}setMeasuredHeight(e){let n=e.heights[e.index++];n<0?(this.spaceAbove=-n,n=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(n)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setMeasuredHeight(i),this.outdated=!1,this}toString(){return`block(${this.length})`}}class mr extends t_{constructor(e,n,r){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=r}mainBlock(e,n){return new Zr(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof mr||i instanceof dn&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof dn?i=new mr(i.length,this.height,this.spaceAbove):i.height=this.height,this.outdated||(i.outdated=!1),i):Pn.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setMeasuredHeight(i):(r||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class dn extends Pn{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,a=i-r+1,l,o=0;if(e.lineWrapping){let u=Math.min(this.height,e.lineHeight*a);l=u/a,this.length>a+1&&(o=(this.height-u)/(this.length-a-1))}else l=this.height/a;return{firstLine:r,lastLine:i,perLine:l,perChar:o}}blockAt(e,n,r,i){let{firstLine:a,lastLine:l,perLine:o,perChar:u}=this.heightMetrics(n,i);if(n.lineWrapping){let h=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),d=n.doc.lineAt(h),p=o+d.length*u,y=Math.max(r,e-p/2);return new Zr(d.from,d.length,y,p,0)}else{let h=Math.max(0,Math.min(l-a,Math.floor((e-r)/o))),{from:d,length:p}=n.doc.line(a+h);return new Zr(d,p,r+o*h,o,0)}}lineAt(e,n,r,i,a){if(n==ft.ByHeight)return this.blockAt(e,r,i,a);if(n==ft.ByPosNoHeight){let{from:v,to:b}=r.doc.lineAt(e);return new Zr(v,b-v,0,0,0)}let{firstLine:l,perLine:o,perChar:u}=this.heightMetrics(r,a),h=r.doc.lineAt(e),d=o+h.length*u,p=h.number-l,y=i+o*p+u*(h.from-a-p);return new Zr(h.from,h.length,Math.max(i,Math.min(y,i+this.height-d)),d,0)}forEachLine(e,n,r,i,a,l){e=Math.max(e,a),n=Math.min(n,a+this.length);let{firstLine:o,perLine:u,perChar:h}=this.heightMetrics(r,a);for(let d=e,p=i;d<=n;){let y=r.doc.lineAt(d);if(d==e){let b=y.number-o;p+=u*b+h*(e-a-b)}let v=u+h*y.length;l(new Zr(y.from,y.length,p,v,0)),p+=v,d=y.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let a=r[r.length-1];a instanceof dn?r[r.length-1]=new dn(a.length+i):r.push(null,new dn(i-1))}if(e>0){let a=r[0];a instanceof dn?r[0]=new dn(e+a.length):r.unshift(new dn(e-1),null)}return Pn.of(r)}decomposeLeft(e,n){n.push(new dn(e-1),null)}decomposeRight(e,n){n.push(null,new dn(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let a=n+this.length;if(i&&i.from<=n+this.length&&i.more){let l=[],o=Math.max(n,i.from),u=-1;for(i.from>n&&l.push(new dn(i.from-n-1).updateHeight(e,n));o<=a&&i.more;){let d=e.doc.lineAt(o).length;l.length&&l.push(null);let p=i.heights[i.index++],y=0;p<0&&(y=-p,p=i.heights[i.index++]),u==-1?u=p:Math.abs(p-u)>=Mm&&(u=-2);let v=new mr(d,p,y);v.outdated=!1,l.push(v),o+=d+1}o<=a&&l.push(null,new dn(a-o).updateHeight(e,o));let h=Pn.of(l);return(u<0||Math.abs(h.height-this.height)>=Mm||Math.abs(u-this.heightMetrics(e,n).perLine)>=Mm)&&(ec=!0),np(this,h)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Gq extends Pn{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let a=r+this.left.height;return e<a?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,a,i+this.left.length+this.break)}lineAt(e,n,r,i,a){let l=i+this.left.height,o=a+this.left.length+this.break,u=n==ft.ByHeight?e<l:e<o,h=u?this.left.lineAt(e,n,r,i,a):this.right.lineAt(e,n,r,l,o);if(this.break||(u?h.to<o:h.from>o))return h;let d=n==ft.ByPosNoHeight?ft.ByPosNoHeight:ft.ByPos;return u?h.join(this.right.lineAt(o,d,r,l,o)):this.left.lineAt(o,d,r,i,a).join(h)}forEachLine(e,n,r,i,a,l){let o=i+this.left.height,u=a+this.left.length+this.break;if(this.break)e<u&&this.left.forEachLine(e,n,r,i,a,l),n>=u&&this.right.forEachLine(e,n,r,o,u,l);else{let h=this.lineAt(u,ft.ByPos,r,i,a);e<h.from&&this.left.forEachLine(e,h.from-1,r,i,a,l),h.to>=e&&h.from<=n&&l(h),n>h.to&&this.right.forEachLine(h.to+1,n,r,o,u,l)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let a=[];e>0&&this.decomposeLeft(e,a);let l=a.length;for(let o of r)a.push(o);if(e>0&&FA(a,l-1),n<this.length){let o=a.length;this.decomposeRight(n,a),FA(a,o)}return Pn.of(a)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?Pn.of(this.break?[e,null,n]:[e,n]):(this.left=np(this.left,e),this.right=np(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:a,right:l}=this,o=n+a.length+this.break,u=null;return i&&i.from<=n+a.length&&i.more?u=a=a.updateHeight(e,n,r,i):a.updateHeight(e,n,r),i&&i.from<=o+l.length&&i.more?u=l=l.updateHeight(e,o,r,i):l.updateHeight(e,o,r),u?this.balanced(a,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function FA(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof dn&&(r=t[e+1])instanceof dn&&t.splice(e-1,3,new dn(n.length+1+r.length))}const Yq=5;class IS{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof mr?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new mr(r-this.pos,-1,0)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,a=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let l=n-e;r.block?this.addBlock(new t_(l,i,r)):(l||a||i>=Yq)&&this.addLineDeco(i,a,l)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new mr(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,n){let r=new dn(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof mr)return e;let n=new mr(0,-1,0);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof mr)&&!this.isCovered?this.nodes.push(new mr(0,-1,0)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof mr&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let a=new IS(r,e);return Ie.spans(n,r,i,a,0),a.finish(r)}}function Qq(t,e,n){let r=new Xq;return Ie.compare(t,e,n,r,0),r.changes}class Xq{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&Ho(e,n,this.changes,5)}}function Zq(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,a=Math.max(0,n.left),l=Math.min(i.innerWidth,n.right),o=Math.max(0,n.top),u=Math.min(i.innerHeight,n.bottom);for(let h=t.parentNode;h&&h!=r.body;)if(h.nodeType==1){let d=h,p=window.getComputedStyle(d);if((d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&p.overflow!="visible"){let y=d.getBoundingClientRect();a=Math.max(a,y.left),l=Math.min(l,y.right),o=Math.max(o,y.top),u=Math.min(h==t.parentNode?i.innerHeight:u,y.bottom)}h=p.position=="absolute"||p.position=="fixed"?d.offsetParent:d.parentNode}else if(h.nodeType==11)h=h.host;else break;return{left:a-n.left,right:Math.max(a,l)-n.left,top:o-(n.top+e),bottom:Math.max(o,u)-(n.top+e)}}function Jq(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function eF(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class sx{constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],a=n[r];if(i.from!=a.from||i.to!=a.to||i.size!=a.size)return!1}return!0}draw(e,n){return ke.replace({widget:new tF(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class tF extends Hi{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class VA{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=WA,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=ot.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(RS).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new Vq(n),this.stateDeco=KA(e),this.heightMap=Pn.empty().applyChanges(this.stateDeco,Xe.empty,this.heightOracle.setDoc(e.doc),[new Br(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ke.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:a,to:l})=>i>=a&&i<=l)){let{from:a,to:l}=this.lineBlockAt(i);e.push(new Wd(a,l))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?WA:new US(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Fu(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=KA(this.state);let i=e.changedRanges,a=Br.extendWithRanges(i,Qq(r,this.stateDeco,e?e.changes:qt.empty(this.state.doc.length))),l=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);qA(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),a),(this.heightMap.height!=l||ec)&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=l);let u=a.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<u.from||n.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,n));let h=u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,e.flags|=this.updateForViewport(),(h||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&(e.selectionSet||e.focusChanged)&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(_P)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,a=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?ot.RTL:ot.LTR;let l=this.heightOracle.mustRefreshForWrapping(a)||this.mustMeasureContent,o=n.getBoundingClientRect(),u=l||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let h=0,d=0;if(o.width&&o.height){let{scaleX:T,scaleY:D}=yP(n,o);(T>.005&&Math.abs(this.scaleX-T)>.005||D>.005&&Math.abs(this.scaleY-D)>.005)&&(this.scaleX=T,this.scaleY=D,h|=16,l=u=!0)}let p=(parseInt(r.paddingTop)||0)*this.scaleY,y=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=p||this.paddingBottom!=y)&&(this.paddingTop=p,this.paddingBottom=y,h|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(u=!0),this.editorWidth=e.scrollDOM.clientWidth,h|=16);let v=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=v&&(this.scrollAnchorHeight=-1,this.scrollTop=v),this.scrolledToBottom=xP(e.scrollDOM);let b=(this.printing?eF:Zq)(n,this.paddingTop),C=b.top-this.pixelViewport.top,j=b.bottom-this.pixelViewport.bottom;this.pixelViewport=b;let N=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(N!=this.inView&&(this.inView=N,N&&(u=!0)),!this.inView&&!this.scrollTarget&&!Jq(e.dom))return 0;let A=o.width;if((this.contentDOMWidth!=A||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,h|=16),u){let T=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(T)&&(l=!0),l||i.lineWrapping&&Math.abs(A-this.contentDOMWidth)>i.charWidth){let{lineHeight:D,charWidth:M,textHeight:E}=e.docView.measureTextSize();l=D>0&&i.refresh(a,D,M,E,Math.max(5,A/M),T),l&&(e.docView.minWidth=0,h|=16)}C>0&&j>0?d=Math.max(C,j):C<0&&j<0&&(d=Math.min(C,j)),qA();for(let D of this.viewports){let M=D.from==this.viewport.from?T:e.docView.measureVisibleLineHeights(D);this.heightMap=(l?Pn.empty().applyChanges(this.stateDeco,Xe.empty,this.heightOracle,[new Br(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,l,new Wq(D.from,M))}ec&&(h|=2)}let k=!this.viewportIsAppropriate(this.viewport,d)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return k&&(h&2&&(h|=this.updateScaler()),this.viewport=this.getViewport(d,this.scrollTarget),h|=this.updateForViewport()),(h&2||k)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps,e)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,a=this.heightOracle,{visibleTop:l,visibleBottom:o}=this,u=new Wd(i.lineAt(l-r*1e3,ft.ByHeight,a,0,0).from,i.lineAt(o+(1-r)*1e3,ft.ByHeight,a,0,0).to);if(n){let{head:h}=n.range;if(h<u.from||h>u.to){let d=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),p=i.lineAt(h,ft.ByPos,a,0,0),y;n.y=="center"?y=(p.top+p.bottom)/2-d/2:n.y=="start"||n.y=="nearest"&&h<u.from?y=p.top:y=p.bottom-d,u=new Wd(i.lineAt(y-1e3/2,ft.ByHeight,a,0,0).from,i.lineAt(y+d+1e3/2,ft.ByHeight,a,0,0).to)}}return u}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new Wd(this.heightMap.lineAt(r,ft.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,ft.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,ft.ByPos,this.heightOracle,0,0),{bottom:a}=this.heightMap.lineAt(n,ft.ByPos,this.heightOracle,0,0),{visibleTop:l,visibleBottom:o}=this;return(e==0||i<=l-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||a>=o+Math.max(10,Math.min(r,250)))&&i>l-2*1e3&&a<o+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new sx(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,a=i>>1,l=i<<1;if(this.defaultTextDirection!=ot.LTR&&!r)return[];let o=[],u=(d,p,y,v)=>{if(p-d<a)return;let b=this.state.selection.main,C=[b.from];b.empty||C.push(b.to);for(let N of C)if(N>d&&N<p){u(d,N-10,y,v),u(N+10,p,y,v);return}let j=rF(e,N=>N.from>=y.from&&N.to<=y.to&&Math.abs(N.from-d)<a&&Math.abs(N.to-p)<a&&!C.some(A=>N.from<A&&N.to>A));if(!j){if(p<y.to&&n&&r&&n.visibleRanges.some(k=>k.from<=p&&k.to>=p)){let k=n.moveToLineBoundary(ce.cursor(p),!1,!0).head;k>d&&(p=k)}let N=this.gapSize(y,d,p,v),A=r||N<2e6?N:2e6;j=new sx(d,p,N,A)}o.push(j)},h=d=>{if(d.length<l||d.type!=yn.Text)return;let p=nF(d.from,d.to,this.stateDeco);if(p.total<l)return;let y=this.scrollTarget?this.scrollTarget.range.head:null,v,b;if(r){let C=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,j,N;if(y!=null){let A=Gd(p,y),k=((this.visibleBottom-this.visibleTop)/2+C)/d.height;j=A-k,N=A+k}else j=(this.visibleTop-d.top-C)/d.height,N=(this.visibleBottom-d.top+C)/d.height;v=Kd(p,j),b=Kd(p,N)}else{let C=p.total*this.heightOracle.charWidth,j=i*this.heightOracle.charWidth,N=0;if(C>2e6)for(let M of e)M.from>=d.from&&M.from<d.to&&M.size!=M.displaySize&&M.from*this.heightOracle.charWidth+N<this.pixelViewport.left&&(N=M.size-M.displaySize);let A=this.pixelViewport.left+N,k=this.pixelViewport.right+N,T,D;if(y!=null){let M=Gd(p,y),E=((k-A)/2+j)/C;T=M-E,D=M+E}else T=(A-j)/C,D=(k+j)/C;v=Kd(p,T),b=Kd(p,D)}v>d.from&&u(d.from,v,d,p),b<d.to&&u(b,d.to,d,p)};for(let d of this.viewportLines)Array.isArray(d.type)?d.type.forEach(h):h(d);return o}gapSize(e,n,r,i){let a=Gd(i,r)-Gd(i,n);return this.heightOracle.lineWrapping?e.height*a:i.total*this.heightOracle.charWidth*a}updateLineGaps(e){sx.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ke.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];Ie.spans(n,this.viewport.from,this.viewport.to,{span(a,l){r.push({from:a,to:l})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let a=0;a<r.length&&!(i&8);a++){let l=this.visibleRanges[a],o=r[a];(l.from!=o.from||l.to!=o.to)&&(i|=4,e&&e.mapPos(l.from,-1)==o.from&&e.mapPos(l.to,1)==o.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||Fu(this.heightMap.lineAt(e,ft.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||Fu(this.heightMap.lineAt(this.scaler.fromDOM(e),ft.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return Fu(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Wd{constructor(e,n){this.from=e,this.to=n}}function nF(t,e,n){let r=[],i=t,a=0;return Ie.spans(n,t,e,{span(){},point(l,o){l>i&&(r.push({from:i,to:l}),a+=l-i),i=o}},20),i<e&&(r.push({from:i,to:e}),a+=e-i),{total:a,ranges:r}}function Kd({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:a,to:l}=e[i],o=l-a;if(r<=o)return a+r;r-=o}}function Gd(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function rF(t,e){for(let n of t)if(e(n))return n}const WA={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};function KA(t){let e=t.facet(kg).filter(r=>typeof r!="function"),n=t.facet(LS).filter(r=>typeof r!="function");return n.length&&e.push(Ie.join(n)),e}class US{constructor(e,n,r){let i=0,a=0,l=0;this.viewports=r.map(({from:o,to:u})=>{let h=n.lineAt(o,ft.ByPos,e,0,0).top,d=n.lineAt(u,ft.ByPos,e,0,0).bottom;return i+=d-h,{from:o,to:u,top:h,bottom:d,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let o of this.viewports)o.domTop=l+(o.top-a)*this.scale,l=o.domBottom=o.domTop+(o.bottom-o.top),a=o.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let a=n<this.viewports.length?this.viewports[n]:null;if(!a||e<a.top)return i+(e-r)*this.scale;if(e<=a.bottom)return a.domTop+(e-a.top);r=a.bottom,i=a.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let a=n<this.viewports.length?this.viewports[n]:null;if(!a||e<a.domTop)return r+(e-i)/this.scale;if(e<=a.domBottom)return a.top+(e-a.domTop);r=a.bottom,i=a.domBottom}}eq(e){return e instanceof US?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function Fu(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Zr(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>Fu(i,e)):t._content)}const Yd=ve.define({combine:t=>t.join(" ")}),G1=ve.define({combine:t=>t.indexOf(!0)>-1}),Y1=Ss.newName(),n_=Ss.newName(),r_=Ss.newName(),i_={"&light":"."+n_,"&dark":"."+r_};function Q1(t,e,n){return new Ss(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const iF=Q1("."+Y1,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},i_),aF={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},lx=ye.ie&&ye.ie_version<=11;class sF{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new L$,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(ye.ie&&ye.ie_version<=11||ye.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&ye.android&&e.constructor.EDIT_CONTEXT!==!1&&!(ye.chrome&&ye.chrome_version<126)&&(this.editContext=new oF(e),e.state.facet(ca)&&(e.contentDOM.editContext=this.editContext.editContext)),lx&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(ca)?r.root.activeElement!=this.dom:!Ju(this.dom,i))return;let a=i.anchorNode&&r.docView.tile.nearest(i.anchorNode);if(a&&a.isWidget()&&a.widget.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(ye.ie&&ye.ie_version<=11||ye.android&&ye.chrome)&&!r.state.selection.main.empty&&i.focusNode&&tf(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=pf(e.root);if(!n)return!1;let r=ye.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&lF(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=Ju(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&z$(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,aF),lx&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),lx&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let a=this.delayedAndroidKey;a&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=a.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&a.force&&$o(this.dom,a.key,a.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let a of e){let l=this.readMutation(a);l&&(l.typeOver&&(i=!0),n==-1?{from:n,to:r}=l:(n=Math.min(l.from,n),r=Math.max(l.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Ju(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let a=new Nq(this.view,e,n,r);return this.view.docView.domChanged={newSel:a.newSel?a.newSel.main:null},a}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=VP(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!tp(this.view.state.selection,n.newSel.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.tile.nearest(e.target);if(!n||n.isWidget())return null;if(n.markDirty(e.type=="attributes"),e.type=="childList"){let r=GA(n,e.previousSibling||e.target.previousSibling,-1),i=GA(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(ca)!=e.state.facet(ca)&&(e.view.contentDOM.editContext=e.state.facet(ca)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function GA(t,e,n){for(;e;){let r=zt.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function YA(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,a=e.endOffset,l=t.docView.domAtPos(t.state.selection.main.anchor,1);return tf(l.node,l.offset,i,a)&&([n,r,i,a]=[i,a,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a}}function lF(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return YA(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?YA(t,n):null}class oF{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:a,head:l}=i,o=this.toEditorPos(r.updateRangeStart),u=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:o,drifted:!1});let h=u-o>r.text.length;o==this.from&&a<this.from?o=a:u==this.to&&a>this.to&&(u=a);let d=WP(e.state.sliceDoc(o,u),r.text,(h?i.from:i.to)-o,h?"end":null);if(!d){let y=ce.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));tp(y,i)||e.dispatch({selection:y,userEvent:"select"});return}let p={from:d.from+o,to:d.toA+o,insert:Xe.of(r.text.slice(d.from,d.toB).split(`
`))};if((ye.mac||ye.android)&&p.from==l-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(p={from:o,to:u,insert:Xe.of([r.text.replace("."," ")])}),this.pendingContextChange=p,!e.state.readOnly){let y=this.to-this.from+(p.to-p.from+p.insert.length);zS(e,p,ce.single(this.toEditorPos(r.selectionStart,y),this.toEditorPos(r.selectionEnd,y)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),p.from<p.to&&!p.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(n.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(n.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],a=null;for(let l=this.toEditorPos(r.rangeStart),o=this.toEditorPos(r.rangeEnd);l<o;l++){let u=e.coordsForChar(l);a=u&&new DOMRect(u.left,u.top,u.right-u.left,u.bottom-u.top)||a||new DOMRect,i.push(a)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let a of r.getTextFormats()){let l=a.underlineStyle,o=a.underlineThickness;if(!/none/i.test(l)&&!/none/i.test(o)){let u=this.toEditorPos(a.rangeStart),h=this.toEditorPos(a.rangeEnd);if(u<h){let d=`text-decoration: underline ${/^[a-z]/.test(l)?l+" ":l=="Dashed"?"dashed ":l=="Squiggle"?"wavy ":""}${/thin/i.test(o)?1:2}px`;i.push(ke.mark({attributes:{style:d}}).range(u,h))}}}e.dispatch({effects:LP.of(ke.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=pf(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((a,l,o,u,h)=>{if(r)return;let d=h.length-(l-a);if(i&&l>=i.to)if(i.from==a&&i.to==l&&i.insert.eq(h)){i=this.pendingContextChange=null,n+=d,this.to+=d;return}else i=null,this.revertPending(e.state);if(a+=n,l+=n,l<=this.from)this.from+=d,this.to+=d;else if(a<this.to){if(a<this.from||l>this.to||this.to-this.from+h.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(a),this.toContextPos(l),h.toString()),this.to+=d}n+=d}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class ge{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(a=>r(a,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||B$(e.parent)||document,this.viewState=new VA(e.state||qe.create(e)),e.scrollTo&&e.scrollTo.is(qd)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(_o).map(i=>new tx(i));for(let i of this.plugins)i.update(this);this.observer=new sF(this),this.inputState=new Eq(this),this.inputState.ensureHandlers(this.plugins),this.docView=new DA(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>{this.viewState.mustMeasureContent=!0,this.requestMeasure()})}dispatch(...e){let n=e.length==1&&e[0]instanceof Ft?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,a=this.state;for(let y of e){if(y.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=y.state}if(this.destroyed){this.viewState.state=a;return}let l=this.hasFocus,o=0,u=null;e.some(y=>y.annotation(ZP))?(this.inputState.notifiedFocused=l,o=1):l!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=l,u=JP(a,l),u||(o=1));let h=this.observer.delayedAndroidKey,d=null;if(h?(this.observer.clearDelayedAndroidKey(),d=this.observer.readChange(),(d&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(d=null)):this.observer.clear(),a.facet(qe.phrases)!=this.state.facet(qe.phrases))return this.setState(a);i=Zm.create(this,a,e),i.flags|=o;let p=this.viewState.scrollTarget;try{this.updateState=2;for(let y of e){if(p&&(p=p.map(y.changes)),y.scrollIntoView){let{main:v}=y.state.selection;p=new qo(v.empty?v:ce.cursor(v.head,v.head>v.anchor?-1:1))}for(let v of y.effects)v.is(qd)&&(p=v.value.clip(this.state))}this.viewState.update(i,p),this.bidiCache=rp.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet($u)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(y=>y.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Yd)!=i.state.facet(Yd)&&(this.viewState.mustMeasureContent=!0),(n||r||p||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let y of this.state.facet(q1))try{y(i)}catch(v){Gn(this.state,v,"update listener")}(u||d)&&Promise.resolve().then(()=>{u&&this.state==u.startState&&this.dispatch(u),d&&!VP(this,d)&&h.force&&$o(this.contentDOM,h.key,h.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new VA(e),this.plugins=e.facet(_o).map(r=>new tx(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new DA(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(_o),r=e.state.facet(_o);if(n!=r){let i=[];for(let a of r){let l=n.indexOf(a);if(l<0)i.push(new tx(a));else{let o=this.plugins[l];o.mustUpdate=e,i.push(o)}}for(let a of this.plugins)a.mustUpdate!=e&&a.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){Gn(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:a,scrollAnchorHeight:l}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(l=-1),this.viewState.scrollAnchorHeight=-1;try{for(let o=0;;o++){if(l<0)if(xP(r))a=-1,l=this.viewState.heightMap.height;else{let v=this.viewState.scrollAnchorAt(i);a=v.from,l=v.top}this.updateState=1;let u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];u&4||([this.measureRequests,h]=[h,this.measureRequests]);let d=h.map(v=>{try{return v.read(this)}catch(b){return Gn(this.state,b),QA}}),p=Zm.create(this,this.state,[]),y=!1;p.flags|=u,n?n.flags|=u:n=p,this.updateState=2,p.empty||(this.updatePlugins(p),this.inputState.update(p),this.updateAttrs(),y=this.docView.update(p),y&&this.docViewUpdate());for(let v=0;v<h.length;v++)if(d[v]!=QA)try{let b=h[v];b.write&&b.write(d[v],this)}catch(b){Gn(this.state,b)}if(y&&this.docView.updateSelection(!0),!p.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=-1;continue}else{let b=(a<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(a).top)-l;if(b>1||b<-1){i=i+b,r.scrollTop=i/this.scaleY,l=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let o of this.state.facet(q1))o(n)}get themeClasses(){return Y1+" "+(this.state.facet(G1)?r_:n_)+" "+this.state.facet(Yd)}updateAttrs(){let e=XA(this,BP,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(ca)?"true":"false",class:"cm-content",style:`${ye.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),XA(this,RS,n);let r=this.observer.ignore(()=>{let i=kA(this.contentDOM,this.contentAttrs,n),a=kA(this.dom,this.editorAttrs,e);return i||a});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(ge.announce)){n&&(this.announceDOM.textContent=""),n=!1;let a=this.announceDOM.appendChild(document.createElement("div"));a.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet($u);let e=this.state.facet(ge.cspNonce);Ss.mount(this.root,this.styleModules.concat(iF).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return ax(this,e,PA(this,e,n,r))}moveByGroup(e,n){return ax(this,e,PA(this,e,n,r=>xq(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),a=r[n?r.length-1:0];return ce.cursor(a.side(n,i)+e.from,a.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return vq(this,e,n,r)}moveVertically(e,n,r){return ax(this,e,bq(this,e,n,r))}domAtPos(e,n=1){return this.docView.domAtPos(e,n)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){this.readMeasured();let r=W1(this,e,n);return r&&r.pos}posAndSideAtCoords(e,n=!0){return this.readMeasured(),W1(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),a=this.bidiSpans(i),l=a[ki.find(a,e-i.from,-1,n)];return gf(r,l.dir==ot.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(PP)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>cF)return NP(e.length);let n=this.textDirectionAt(e.from),r;for(let a of this.bidiCache)if(a.from==e.from&&a.dir==n&&(a.fresh||CP(a.isolates,r=EA(this,e))))return a.order;r||(r=EA(this,e));let i=V$(e.text,n,r);return this.bidiCache.push(new rp(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ye.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{vP(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return qd.of(new qo(typeof e=="number"?ce.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return qd.of(new qo(ce.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Pt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Pt.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=Ss.newName(),i=[Yd.of(r),$u.of(Q1(`.${r}`,e))];return n&&n.dark&&i.push(G1.of(!0)),i}static baseTheme(e){return zl.lowest($u.of(Q1("."+Y1,e,i_)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&zt.get(r)||zt.get(e);return((n=i?.root)===null||n===void 0?void 0:n.view)||null}}ge.styleModule=$u;ge.inputHandler=MP;ge.clipboardInputFilter=PS;ge.clipboardOutputFilter=_S;ge.scrollHandler=RP;ge.focusChangeEffect=DP;ge.perLineTextDirection=PP;ge.exceptionSink=TP;ge.updateListener=q1;ge.editable=ca;ge.mouseSelectionStyle=EP;ge.dragMovesSelection=AP;ge.clickAddsSelectionRange=OP;ge.decorations=kg;ge.blockWrappers=zP;ge.outerDecorations=LS;ge.atomicRanges=eh;ge.bidiIsolatedRanges=IP;ge.scrollMargins=UP;ge.darkTheme=G1;ge.cspNonce=ve.define({combine:t=>t.length?t[0]:""});ge.contentAttributes=RS;ge.editorAttributes=BP;ge.lineWrapping=ge.contentAttributes.of({class:"cm-lineWrapping"});ge.announce=Pe.define();const cF=4096,QA={};class rp{constructor(e,n,r,i,a,l){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=a,this.order=l}static update(e,n){if(n.empty&&!e.some(a=>a.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:ot.LTR;for(let a=Math.max(0,e.length-10);a<e.length;a++){let l=e[a];l.dir==i&&!n.touchesRange(l.from,l.to)&&r.push(new rp(n.mapPos(l.from,1),n.mapPos(l.to,-1),l.dir,l.isolates,!1,l.order))}return r}}function XA(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let a=r[i],l=typeof a=="function"?a(t):a;l&&TS(l,n)}return n}const uF=ye.mac?"mac":ye.windows?"win":ye.linux?"linux":"key";function fF(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,a,l,o;for(let u=0;u<n.length-1;++u){const h=n[u];if(/^(cmd|meta|m)$/i.test(h))o=!0;else if(/^a(lt)?$/i.test(h))i=!0;else if(/^(c|ctrl|control)$/i.test(h))a=!0;else if(/^s(hift)?$/i.test(h))l=!0;else if(/^mod$/i.test(h))e=="mac"?o=!0:a=!0;else throw new Error("Unrecognized modifier name: "+h)}return i&&(r="Alt-"+r),a&&(r="Ctrl-"+r),o&&(r="Meta-"+r),l&&(r="Shift-"+r),r}function Qd(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const hF=zl.default(ge.domEventHandlers({keydown(t,e){return s_(a_(e.state),t,e,"editor")}})),Tg=ve.define({enables:hF}),ZA=new WeakMap;function a_(t){let e=t.facet(Tg),n=ZA.get(e);return n||ZA.set(e,n=pF(e.reduce((r,i)=>r.concat(i),[]))),n}function dF(t,e,n){return s_(a_(t.state),e,t,n)}let us=null;const mF=4e3;function pF(t,e=uF){let n=Object.create(null),r=Object.create(null),i=(l,o)=>{let u=r[l];if(u==null)r[l]=o;else if(u!=o)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},a=(l,o,u,h,d)=>{var p,y;let v=n[l]||(n[l]=Object.create(null)),b=o.split(/ (?!$)/).map(N=>fF(N,e));for(let N=1;N<b.length;N++){let A=b.slice(0,N).join(" ");i(A,!0),v[A]||(v[A]={preventDefault:!0,stopPropagation:!1,run:[k=>{let T=us={view:k,prefix:A,scope:l};return setTimeout(()=>{us==T&&(us=null)},mF),!0}]})}let C=b.join(" ");i(C,!1);let j=v[C]||(v[C]={preventDefault:!1,stopPropagation:!1,run:((y=(p=v._any)===null||p===void 0?void 0:p.run)===null||y===void 0?void 0:y.slice())||[]});u&&j.run.push(u),h&&(j.preventDefault=!0),d&&(j.stopPropagation=!0)};for(let l of t){let o=l.scope?l.scope.split(" "):["editor"];if(l.any)for(let h of o){let d=n[h]||(n[h]=Object.create(null));d._any||(d._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:p}=l;for(let y in d)d[y].run.push(v=>p(v,X1))}let u=l[e]||l.key;if(u)for(let h of o)a(h,u,l.run,l.preventDefault,l.stopPropagation),l.shift&&a(h,"Shift-"+u,l.shift,l.preventDefault,l.stopPropagation)}return n}let X1=null;function s_(t,e,n,r){X1=e;let i=A$(e),a=Fn(i,0),l=Ci(a)==i.length&&i!=" ",o="",u=!1,h=!1,d=!1;us&&us.view==n&&us.scope==r&&(o=us.prefix+" ",GP.indexOf(e.keyCode)<0&&(h=!0,us=null));let p=new Set,y=j=>{if(j){for(let N of j.run)if(!p.has(N)&&(p.add(N),N(n)))return j.stopPropagation&&(d=!0),!0;j.preventDefault&&(j.stopPropagation&&(d=!0),h=!0)}return!1},v=t[r],b,C;return v&&(y(v[o+Qd(i,e,!l)])?u=!0:l&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ye.windows&&e.ctrlKey&&e.altKey)&&!(ye.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(b=js[e.keyCode])&&b!=i?(y(v[o+Qd(b,e,!0)])||e.shiftKey&&(C=df[e.keyCode])!=i&&C!=b&&y(v[o+Qd(C,e,!1)]))&&(u=!0):l&&e.shiftKey&&y(v[o+Qd(i,e,!0)])&&(u=!0),!u&&y(v._any)&&(u=!0)),h&&(u=!0),u&&d&&e.stopPropagation(),X1=null,u}class th{constructor(e,n,r,i,a){this.className=e,this.left=n,this.top=r,this.width=i,this.height=a}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let a=l_(e);return[new th(n,i.left-a.left,i.top-a.top,null,i.bottom-i.top)]}else return gF(e,n,r)}}function l_(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==ot.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function JA(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let a=t.dom.getBoundingClientRect(),l=(i.top+i.bottom)/2,o=t.posAtCoords({x:a.left+1,y:l}),u=t.posAtCoords({x:a.right-1,y:l});return o==null||u==null?r:{from:Math.max(r.from,Math.min(o,u)),to:Math.min(r.to,Math.max(o,u))}}function gF(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),a=t.textDirection==ot.LTR,l=t.contentDOM,o=l.getBoundingClientRect(),u=l_(t),h=l.querySelector(".cm-line"),d=h&&window.getComputedStyle(h),p=o.left+(d?parseInt(d.paddingLeft)+Math.min(0,parseInt(d.textIndent)):0),y=o.right-(d?parseInt(d.paddingRight):0),v=V1(t,r,1),b=V1(t,i,-1),C=v.type==yn.Text?v:null,j=b.type==yn.Text?b:null;if(C&&(t.lineWrapping||v.widgetLineBreaks)&&(C=JA(t,r,1,C)),j&&(t.lineWrapping||b.widgetLineBreaks)&&(j=JA(t,i,-1,j)),C&&j&&C.from==j.from&&C.to==j.to)return A(k(n.from,n.to,C));{let D=C?k(n.from,null,C):T(v,!1),M=j?k(null,n.to,j):T(b,!0),E=[];return(C||v).to<(j||b).from-(C&&j?1:0)||v.widgetLineBreaks>1&&D.bottom+t.defaultLineHeight/2<M.top?E.push(N(p,D.bottom,y,M.top)):D.bottom<M.top&&t.elementAtHeight((D.bottom+M.top)/2).type==yn.Text&&(D.bottom=M.top=(D.bottom+M.top)/2),A(D).concat(E).concat(A(M))}function N(D,M,E,_){return new th(e,D-u.left,M-u.top,Math.max(0,E-D),_-M)}function A({top:D,bottom:M,horizontal:E}){let _=[];for(let L=0;L<E.length;L+=2)_.push(N(E[L],D,E[L+1],M));return _}function k(D,M,E){let _=1e9,L=-1e9,I=[];function B(ee,F,H,V,Q){let se=t.coordsAtPos(ee,ee==E.to?-2:2),he=t.coordsAtPos(H,H==E.from?2:-2);!se||!he||(_=Math.min(se.top,he.top,_),L=Math.max(se.bottom,he.bottom,L),Q==ot.LTR?I.push(a&&F?p:se.left,a&&V?y:he.right):I.push(!a&&V?p:he.left,!a&&F?y:se.right))}let z=D??E.from,$=M??E.to;for(let ee of t.visibleRanges)if(ee.to>z&&ee.from<$)for(let F=Math.max(ee.from,z),H=Math.min(ee.to,$);;){let V=t.state.doc.lineAt(F);for(let Q of t.bidiSpans(V)){let se=Q.from+V.from,he=Q.to+V.from;if(se>=H)break;he>F&&B(Math.max(se,F),D==null&&se<=z,Math.min(he,H),M==null&&he>=$,Q.dir)}if(F=V.to+1,F>=H)break}return I.length==0&&B(z,D==null,$,M==null,t.textDirection),{top:_,bottom:L,horizontal:I}}function T(D,M){let E=o.top+(M?D.top:D.bottom);return{top:E,bottom:E,horizontal:[]}}}function yF(t,e){return t.constructor==e.constructor&&t.eq(e)}class vF{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(Dm)!=e.state.facet(Dm)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(Dm);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!yF(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e,ye.safari&&ye.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Dm=ve.define();function o_(t){return[Pt.define(e=>new vF(e,t)),Dm.of(t)]}const vf=ve.define({combine(t){return Ui(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function xF(t={}){return[vf.of(t),bF,wF,SF,_P.of(!0)]}function c_(t){return t.startState.facet(vf)!=t.state.facet(vf)}const bF=o_({above:!0,markers(t){let{state:e}=t,n=e.facet(vf),r=[];for(let i of e.selection.ranges){let a=i==e.selection.main;if(i.empty||n.drawRangeCursor){let l=a?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",o=i.empty?i:ce.cursor(i.head,i.head>i.anchor?-1:1);for(let u of th.forRange(t,l,o))r.push(u)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=c_(t);return n&&eE(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){eE(e.state,t)},class:"cm-cursorLayer"});function eE(t,e){e.style.animationDuration=t.facet(vf).cursorBlinkRate+"ms"}const wF=o_({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:th.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||c_(t)},class:"cm-selectionLayer"}),SF=zl.highest(ge.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),u_=Pe.define({map(t,e){return t==null?null:e.mapPos(t)}}),Vu=bn.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(u_)?r.value:n,t)}}),jF=Pt.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(Vu);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Vu)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(Vu),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Vu)!=t&&this.view.dispatch({effects:u_.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function CF(){return[Vu,jF]}function tE(t,e,n,r,i){e.lastIndex=0;for(let a=t.iterRange(n,r),l=n,o;!a.next().done;l+=a.value.length)if(!a.lineBreak)for(;o=e.exec(a.value);)i(l+o.index,o)}function NF(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:a}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),a=Math.min(t.state.doc.lineAt(a).to,a+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=a:r.push({from:i,to:a});return r}class kF{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:a,maxLength:l=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(o,u,h,d)=>i(d,h,h+o[0].length,o,u);else if(typeof r=="function")this.addMatch=(o,u,h,d)=>{let p=r(o,u,h);p&&d(h,h+o[0].length,p)};else if(r)this.addMatch=(o,u,h,d)=>d(h,h+o[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=a,this.maxLength=l}createDeco(e){let n=new ga,r=n.add.bind(n);for(let{from:i,to:a}of NF(e,this.maxLength))tE(e.state.doc,this.regexp,i,a,(l,o)=>this.addMatch(o,e,l,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((a,l,o,u)=>{u>=e.view.viewport.from&&o<=e.view.viewport.to&&(r=Math.min(o,r),i=Math.max(u,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let a of e.visibleRanges){let l=Math.max(a.from,r),o=Math.min(a.to,i);if(o>=l){let u=e.state.doc.lineAt(l),h=u.to<o?e.state.doc.lineAt(o):u,d=Math.max(a.from,u.from),p=Math.min(a.to,h.to);if(this.boundary){for(;l>u.from;l--)if(this.boundary.test(u.text[l-1-u.from])){d=l;break}for(;o<h.to;o++)if(this.boundary.test(h.text[o-h.from])){p=o;break}}let y=[],v,b=(C,j,N)=>y.push(N.range(C,j));if(u==h)for(this.regexp.lastIndex=d-u.from;(v=this.regexp.exec(u.text))&&v.index<p-u.from;)this.addMatch(v,e,v.index+u.from,b);else tE(e.state.doc,this.regexp,d,p,(C,j)=>this.addMatch(j,e,C,b));n=n.update({filterFrom:d,filterTo:p,filter:(C,j)=>C<d||j>p,add:y})}}return n}}const Z1=/x/.unicode!=null?"gu":"g",OF=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,Z1),AF={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let ox=null;function EF(){var t;if(ox==null&&typeof document<"u"&&document.body){let e=document.body.style;ox=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return ox||!1}const Pm=ve.define({combine(t){let e=Ui(t,{render:null,specialChars:OF,addSpecialChars:null});return(e.replaceTabs=!EF())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Z1)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Z1)),e}});function TF(t={}){return[Pm.of(t),MF()]}let nE=null;function MF(){return nE||(nE=Pt.fromClass(class{constructor(t){this.view=t,this.decorations=ke.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Pm)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new kF({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,a=Fn(e[0],0);if(a==9){let l=i.lineAt(r),o=n.state.tabSize,u=mc(l.text,o,r-l.from);return ke.replace({widget:new RF((o-u%o)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[a]||(this.decorationCache[a]=ke.replace({widget:new _F(t,a)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Pm);t.startState.facet(Pm)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const DF="";function PF(t){return t>=32?DF:t==10?"":String.fromCharCode(9216+t)}class _F extends Hi{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=PF(this.code),r=e.state.phrase("Control character")+" "+(AF[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let a=document.createElement("span");return a.textContent=n,a.title=r,a.setAttribute("aria-label",r),a.className="cm-specialChar",a}ignoreEvent(){return!1}}class RF extends Hi{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function LF(){return zF}const BF=ke.line({class:"cm-activeLine"}),zF=Pt.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(BF.range(i.from)),e=i.from)}return ke.set(n)}},{decorations:t=>t.decorations});class IF extends Hi{constructor(e){super(),this.content=e}toDOM(e){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),n.setAttribute("aria-hidden","true"),n}coordsAt(e){let n=e.firstChild?ef(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=gf(n[0],r.direction!="rtl"),a=parseInt(r.lineHeight);return i.bottom-i.top>a*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+a}:i}ignoreEvent(){return!1}}function UF(t){let e=Pt.fromClass(class{constructor(n){this.view=n,this.placeholder=t?ke.set([ke.widget({widget:new IF(t),side:1}).range(0)]):ke.none}get decorations(){return this.view.state.doc.length?ke.none:this.placeholder}},{decorations:n=>n.decorations});return typeof t=="string"?[e,ge.contentAttributes.of({"aria-placeholder":t})]:e}const J1=2e3;function HF(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),a=[];if(e.off>J1||n.off>J1||e.col<0||n.col<0){let l=Math.min(e.off,n.off),o=Math.max(e.off,n.off);for(let u=r;u<=i;u++){let h=t.doc.line(u);h.length<=o&&a.push(ce.range(h.from+l,h.to+o))}}else{let l=Math.min(e.col,n.col),o=Math.max(e.col,n.col);for(let u=r;u<=i;u++){let h=t.doc.line(u),d=D1(h.text,l,t.tabSize,!0);if(d<0)a.push(ce.cursor(h.to));else{let p=D1(h.text,o,t.tabSize);a.push(ce.range(h.from+d,h.from+p))}}}return a}function $F(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function rE(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,a=i>J1?-1:i==r.length?$F(t,e.clientX):mc(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:a,off:i}}function qF(t,e){let n=rE(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let a=i.changes.mapPos(i.startState.doc.line(n.line).from),l=i.state.doc.lineAt(a);n={line:l.number,col:n.col,off:Math.min(n.off,l.length)},r=r.map(i.changes)}},get(i,a,l){let o=rE(t,i);if(!o)return r;let u=HF(t.state,n,o);return u.length?l?ce.create(u.concat(r.ranges)):ce.create(u):r}}:null}function FF(t){let e=(n=>n.altKey&&n.button==0);return ge.mouseSelectionStyle.of((n,r)=>e(r)?qF(n,r):null)}const VF={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},WF={style:"cursor: crosshair"};function KF(t={}){let[e,n]=VF[t.key||"Alt"],r=Pt.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,ge.contentAttributes.of(i=>{var a;return!((a=i.plugin(r))===null||a===void 0)&&a.isDown?WF:null})]}const Xd="-10000px";class f_{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(l=>l);let a=null;this.tooltipViews=this.tooltips.map(l=>a=r(l,a))}update(e,n){var r;let i=e.state.facet(this.facet),a=i.filter(u=>u);if(i===this.input){for(let u of this.tooltipViews)u.update&&u.update(e);return!1}let l=[],o=n?[]:null;for(let u=0;u<a.length;u++){let h=a[u],d=-1;if(h){for(let p=0;p<this.tooltips.length;p++){let y=this.tooltips[p];y&&y.create==h.create&&(d=p)}if(d<0)l[u]=this.createTooltipView(h,u?l[u-1]:null),o&&(o[u]=!!h.above);else{let p=l[u]=this.tooltipViews[d];o&&(o[u]=n[d]),p.update&&p.update(e)}}}for(let u of this.tooltipViews)l.indexOf(u)<0&&(this.removeTooltipView(u),(r=u.destroy)===null||r===void 0||r.call(u));return n&&(o.forEach((u,h)=>n[h]=u),n.length=o.length),this.input=i,this.tooltips=a,this.tooltipViews=l,!0}}function GF(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const cx=ve.define({combine:t=>{var e,n,r;return{position:ye.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||GF}}}),iE=new WeakMap,HS=Pt.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(cx);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new f_(t,$S,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(cx);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=Xd,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:a}=this.manager.tooltipViews[0];if(ye.safari){let l=a.getBoundingClientRect();n=Math.abs(l.top+1e4)>1||Math.abs(l.left)>1}else n=!!a.offsetParent&&a.offsetParent!=this.container.ownerDocument.body}if(n||this.position=="absolute")if(this.parent){let a=this.parent.getBoundingClientRect();a.width&&a.height&&(t=a.width/this.parent.offsetWidth,e=a.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=BS(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((a,l)=>{let o=this.manager.tooltipViews[l];return o.getCoords?o.getCoords(a.pos):this.view.coordsAtPos(a.pos)}),size:this.manager.tooltipViews.map(({dom:a})=>a.getBoundingClientRect()),space:this.view.state.facet(cx).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let o of this.manager.tooltipViews)o.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:a}=t,l=[];for(let o=0;o<this.manager.tooltips.length;o++){let u=this.manager.tooltips[o],h=this.manager.tooltipViews[o],{dom:d}=h,p=t.pos[o],y=t.size[o];if(!p||u.clip!==!1&&(p.bottom<=Math.max(n.top,r.top)||p.top>=Math.min(n.bottom,r.bottom)||p.right<Math.max(n.left,r.left)-.1||p.left>Math.min(n.right,r.right)+.1)){d.style.top=Xd;continue}let v=u.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,b=v?7:0,C=y.right-y.left,j=(e=iE.get(h))!==null&&e!==void 0?e:y.bottom-y.top,N=h.offset||QF,A=this.view.textDirection==ot.LTR,k=y.width>r.right-r.left?A?r.left:r.right-y.width:A?Math.max(r.left,Math.min(p.left-(v?14:0)+N.x,r.right-C)):Math.min(Math.max(r.left,p.left-C+(v?14:0)-N.x),r.right-C),T=this.above[o];!u.strictSide&&(T?p.top-j-b-N.y<r.top:p.bottom+j+b+N.y>r.bottom)&&T==r.bottom-p.bottom>p.top-r.top&&(T=this.above[o]=!T);let D=(T?p.top-r.top:r.bottom-p.bottom)-b;if(D<j&&h.resize!==!1){if(D<this.view.defaultLineHeight){d.style.top=Xd;continue}iE.set(h,j),d.style.height=(j=D)/a+"px"}else d.style.height&&(d.style.height="");let M=T?p.top-j-b-N.y:p.bottom+b+N.y,E=k+C;if(h.overlap!==!0)for(let _ of l)_.left<E&&_.right>k&&_.top<M+j&&_.bottom>M&&(M=T?_.top-j-2-b:_.bottom+b+2);if(this.position=="absolute"?(d.style.top=(M-t.parent.top)/a+"px",aE(d,(k-t.parent.left)/i)):(d.style.top=M/a+"px",aE(d,k/i)),v){let _=p.left+(A?N.x:-N.x)-(k+14-7);v.style.left=_/i+"px"}h.overlap!==!0&&l.push({left:k,top:M,right:E,bottom:M+j}),d.classList.toggle("cm-tooltip-above",T),d.classList.toggle("cm-tooltip-below",!T),h.positioned&&h.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Xd}},{eventObservers:{scroll(){this.maybeMeasure()}}});function aE(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const YF=ge.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),QF={x:0,y:0},$S=ve.define({enables:[HS,YF]}),ip=ve.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class Mg{static create(e){return new Mg(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new f_(e,ip,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const XF=$S.compute([ip],t=>{let e=t.facet(ip);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:Mg.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class ZF{constructor(e,n,r,i,a){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=a,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.tile.nearest(n.target);if(!r)return;let i,a=1;if(r.isWidget())i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let o=e.coordsAtPos(i);if(!o||n.y<o.top||n.y>o.bottom||n.x<o.left-e.defaultCharacterWidth||n.x>o.right+e.defaultCharacterWidth)return;let u=e.bidiSpans(e.state.doc.lineAt(i)).find(d=>d.from<=i&&d.to>=i),h=u&&u.dir==ot.RTL?-1:1;a=n.x<o.left?-h:h}let l=this.source(e,i,a);if(l?.then){let o=this.pending={pos:i};l.then(u=>{this.pending==o&&(this.pending=null,u&&!(Array.isArray(u)&&!u.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(u)?u:[u])}))},u=>Gn(e.state,u,"hover tooltip"))}else l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])})}get tooltip(){let e=this.view.plugin(HS),n=e?e.manager.tooltips.findIndex(r=>r.create==Mg.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:a}=this;if(i.length&&a&&!JF(a.dom,e)||this.pending){let{pos:l}=i[0]||this.pending,o=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:l;(l==o?this.view.posAtCoords(this.lastMove)!=l:!eV(this.view,l,o,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),clearTimeout(this.restartTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Zd=4;function JF(t,e){let{left:n,right:r,top:i,bottom:a}=t.getBoundingClientRect(),l;if(l=t.querySelector(".cm-tooltip-arrow")){let o=l.getBoundingClientRect();i=Math.min(o.top,i),a=Math.max(o.bottom,a)}return e.clientX>=n-Zd&&e.clientX<=r+Zd&&e.clientY>=i-Zd&&e.clientY<=a+Zd}function eV(t,e,n,r,i,a){let l=t.scrollDOM.getBoundingClientRect(),o=t.documentTop+t.documentPadding.top+t.contentHeight;if(l.left>r||l.right<r||l.top>i||Math.min(l.bottom,o)<i)return!1;let u=t.posAtCoords({x:r,y:i},!1);return u>=e&&u<=n}function tV(t,e={}){let n=Pe.define(),r=bn.define({create(){return[]},update(i,a){if(i.length&&(e.hideOnChange&&(a.docChanged||a.selection)?i=[]:e.hideOn&&(i=i.filter(l=>!e.hideOn(a,l))),a.docChanged)){let l=[];for(let o of i){let u=a.changes.mapPos(o.pos,-1,Tn.TrackDel);if(u!=null){let h=Object.assign(Object.create(null),o);h.pos=u,h.end!=null&&(h.end=a.changes.mapPos(h.end)),l.push(h)}}i=l}for(let l of a.effects)l.is(n)&&(i=l.value),l.is(nV)&&(i=[]);return i},provide:i=>ip.from(i)});return{active:r,extension:[r,Pt.define(i=>new ZF(i,t,r,n,e.hoverTime||300)),XF]}}function h_(t,e){let n=t.plugin(HS);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const nV=Pe.define(),sE=ve.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function qS(t,e){let n=t.plugin(d_),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const d_=Pt.fromClass(class{constructor(t){this.input=t.state.facet(xf),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(sE);this.top=new Jd(t,!0,e.topContainer),this.bottom=new Jd(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(sE);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Jd(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Jd(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(xf);if(n!=this.input){let r=n.filter(u=>u),i=[],a=[],l=[],o=[];for(let u of r){let h=this.specs.indexOf(u),d;h<0?(d=u(t.view),o.push(d)):(d=this.panels[h],d.update&&d.update(t)),i.push(d),(d.top?a:l).push(d)}this.specs=r,this.panels=i,this.top.sync(a),this.bottom.sync(l);for(let u of o)u.dom.classList.add("cm-panel"),u.mount&&u.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>ge.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class Jd{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=lE(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=lE(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function lE(t){let e=t.nextSibling;return t.remove(),e}const xf=ve.define({enables:d_});function rV(t,e){let n,r=new Promise(l=>n=l),i=l=>iV(l,e,n);t.state.field(ux,!1)?t.dispatch({effects:m_.of(i)}):t.dispatch({effects:Pe.appendConfig.of(ux.init(()=>[i]))});let a=p_.of(i);return{close:a,result:r.then(l=>((t.win.queueMicrotask||(u=>t.win.setTimeout(u,10)))(()=>{t.state.field(ux).indexOf(i)>-1&&t.dispatch({effects:a})}),l))}}const ux=bn.define({create(){return[]},update(t,e){for(let n of e.effects)n.is(m_)?t=[n.value].concat(t):n.is(p_)&&(t=t.filter(r=>r!=n.value));return t},provide:t=>xf.computeN([t],e=>e.field(t))}),m_=Pe.define(),p_=Pe.define();function iV(t,e,n){let r=e.content?e.content(t,()=>l(null)):null;if(!r){if(r=it("form"),e.input){let o=it("input",e.input);/^(text|password|number|email|tel|url)$/.test(o.type)&&o.classList.add("cm-textfield"),o.name||(o.name="input"),r.appendChild(it("label",(e.label||"")+": ",o))}else r.appendChild(document.createTextNode(e.label||""));r.appendChild(document.createTextNode(" ")),r.appendChild(it("button",{class:"cm-button",type:"submit"},e.submitLabel||"OK"))}let i=r.nodeName=="FORM"?[r]:r.querySelectorAll("form");for(let o=0;o<i.length;o++){let u=i[o];u.addEventListener("keydown",h=>{h.keyCode==27?(h.preventDefault(),l(null)):h.keyCode==13&&(h.preventDefault(),l(u))}),u.addEventListener("submit",h=>{h.preventDefault(),l(u)})}let a=it("div",r,it("button",{onclick:()=>l(null),"aria-label":t.state.phrase("close"),class:"cm-dialog-close",type:"button"},[""]));e.class&&(a.className=e.class),a.classList.add("cm-dialog");function l(o){a.contains(a.ownerDocument.activeElement)&&t.focus(),n(o)}return{dom:a,top:e.top,mount:()=>{if(e.focus){let o;typeof e.focus=="string"?o=r.querySelector(e.focus):o=r.querySelector("input")||r.querySelector("button"),o&&"select"in o?o.select():o&&"focus"in o&&o.focus()}}}}class va extends ws{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}va.prototype.elementClass="";va.prototype.toDOM=void 0;va.prototype.mapMode=Tn.TrackBefore;va.prototype.startSide=va.prototype.endSide=-1;va.prototype.point=!0;const _m=ve.define(),aV=ve.define(),sV={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Ie.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},rf=ve.define();function lV(t){return[g_(),rf.of({...sV,...t})]}const oE=ve.define({combine:t=>t.some(e=>e)});function g_(t){return[oV]}const oV=Pt.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(rf).map(e=>new uE(t,e)),this.fixed=!t.state.facet(oE);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(t.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(oE)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=Ie.iter(this.view.state.facet(_m),this.view.viewport.from),r=[],i=this.gutters.map(a=>new cV(a,this.view.viewport,-this.view.documentPadding.top));for(let a of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(a.type)){let l=!0;for(let o of a.type)if(o.type==yn.Text&&l){ew(n,r,o.from);for(let u of i)u.line(this.view,o,r);l=!1}else if(o.widget)for(let u of i)u.widget(this.view,o)}else if(a.type==yn.Text){ew(n,r,a.from);for(let l of i)l.line(this.view,a,r)}else if(a.widget)for(let l of i)l.widget(this.view,a);for(let a of i)a.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet(rf),n=t.state.facet(rf),r=t.docChanged||t.heightChanged||t.viewportChanged||!Ie.eq(t.startState.facet(_m),t.state.facet(_m),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let a of n){let l=e.indexOf(a);l<0?i.push(new uE(this.view,a)):(this.gutters[l].update(t),i.push(this.gutters[l]))}for(let a of this.gutters)a.dom.remove(),i.indexOf(a)<0&&a.destroy();for(let a of i)a.config.side=="after"?this.getDOMAfter().appendChild(a.dom):this.dom.appendChild(a.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>ge.scrollMargins.of(e=>{let n=e.plugin(t);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*e.scaleX,i=n.domAfter?n.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==ot.LTR?{left:r,right:i}:{right:r,left:i}})});function cE(t){return Array.isArray(t)?t:[t]}function ew(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class cV{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Ie.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,a=(n.top-this.height)/e.scaleY,l=n.height/e.scaleY;if(this.i==i.elements.length){let o=new y_(e,l,a,r);i.elements.push(o),i.dom.appendChild(o.dom)}else i.elements[this.i].update(e,l,a,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];ew(this.cursor,i,n.from),r.length&&(i=i.concat(r));let a=this.gutter.config.lineMarker(e,n,i);a&&i.unshift(a);let l=this.gutter;i.length==0&&!l.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let a of e.state.facet(aV)){let l=a(e,n.widget,n);l&&(i||(i=[])).push(l)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class uE{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let a=i.target,l;if(a!=this.dom&&this.dom.contains(a)){for(;a.parentNode!=this.dom;)a=a.parentNode;let u=a.getBoundingClientRect();l=(u.top+u.bottom)/2}else l=i.clientY;let o=e.lineBlockAtHeight(l-e.documentTop);n.domEventHandlers[r](e,o,i)&&i.preventDefault()});this.markers=cE(n.markers(e)),n.initialSpacer&&(this.spacer=new y_(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=cE(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!Ie.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class y_{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),uV(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let a=0,l=0;;){let o=l,u=a<n.length?n[a++]:null,h=!1;if(u){let d=u.elementClass;d&&(r+=" "+d);for(let p=l;p<this.markers.length;p++)if(this.markers[p].compare(u)){o=p,h=!0;break}}else o=this.markers.length;for(;l<o;){let d=this.markers[l++];if(d.toDOM){d.destroy(i);let p=i.nextSibling;i.remove(),i=p}}if(!u)break;u.toDOM&&(h?i=i.nextSibling:this.dom.insertBefore(u.toDOM(e),i)),h&&l++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function uV(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const fV=ve.define(),hV=ve.define(),Ro=ve.define({combine(t){return Ui(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let a=r[i],l=n[i];r[i]=a?(o,u,h)=>a(o,u,h)||l(o,u,h):l}return r}})}});class fx extends va{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function hx(t,e){return t.state.facet(Ro).formatNumber(e,t.state)}const dV=rf.compute([Ro],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(fV)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new fx(hx(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(hV)){let a=i(e,n,r);if(a)return a}return null},lineMarkerChange:e=>e.startState.facet(Ro)!=e.state.facet(Ro),initialSpacer(e){return new fx(hx(e,fE(e.state.doc.lines)))},updateSpacer(e,n){let r=hx(n.view,fE(n.view.state.doc.lines));return r==e.number?e:new fx(r)},domEventHandlers:t.facet(Ro).domEventHandlers,side:"before"}));function mV(t={}){return[Ro.of(t),g_(),dV]}function fE(t){let e=9;for(;e<t;)e=e*10+9;return e}const pV=new class extends va{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},gV=_m.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(pV.range(i)))}return Ie.of(e)});function yV(){return gV}const v_=1024;let vV=0;class dx{constructor(e,n){this.from=e,this.to=n}}class Le{constructor(e={}){this.id=vV++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Zn.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}Le.closedBy=new Le({deserialize:t=>t.split(" ")});Le.openedBy=new Le({deserialize:t=>t.split(" ")});Le.group=new Le({deserialize:t=>t.split(" ")});Le.isolate=new Le({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});Le.contextHash=new Le({perNode:!0});Le.lookAhead=new Le({perNode:!0});Le.mounted=new Le({perNode:!0});class af{constructor(e,n,r,i=!1){this.tree=e,this.overlay=n,this.parser=r,this.bracketed=i}static get(e){return e&&e.props&&e.props[Le.mounted.id]}}const xV=Object.create(null);class Zn{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):xV,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Zn(e.name||"",n,e.id,r);if(e.props){for(let a of e.props)if(Array.isArray(a)||(a=a(i)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[a[0].id]=a[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(Le.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(Le.group),a=-1;a<(i?i.length:0);a++){let l=n[a<0?r.name:i[a]];if(l)return l}}}}Zn.none=new Zn("",Object.create(null),0,8);class FS{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let a of e){let l=a(r);if(l){i||(i=Object.assign({},r.props));let o=l[1],u=l[0];u.combine&&u.id in i&&(o=u.combine(i[u.id],o)),i[u.id]=o}}n.push(i?new Zn(r.name,i,r.id,r.flags):r)}return new FS(n)}}const em=new WeakMap,hE=new WeakMap;var Ot;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays",t[t.EnterBracketed=16]="EnterBracketed"})(Ot||(Ot={}));class Dt{constructor(e,n,r,i,a){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,a&&a.length){this.props=Object.create(null);for(let[l,o]of a)this.props[typeof l=="number"?l:l.id]=o}}toString(){let e=af.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new nw(this.topNode,e)}cursorAt(e,n=0,r=0){let i=em.get(this)||this.topNode,a=new nw(i);return a.moveTo(e,n),em.set(this,a._tree),a}get topNode(){return new qr(this,0,0,null)}resolve(e,n=0){let r=bf(em.get(this)||this.topNode,e,n,!1);return em.set(this,r),r}resolveInner(e,n=0){let r=bf(hE.get(this)||this.topNode,e,n,!0);return hE.set(this,r),r}resolveStack(e,n=0){return SV(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:a=this.length}=e,l=e.mode||0,o=(l&Ot.IncludeAnonymous)>0;for(let u=this.cursor(l|Ot.IncludeAnonymous);;){let h=!1;if(u.from<=a&&u.to>=i&&(!o&&u.type.isAnonymous||n(u)!==!1)){if(u.firstChild())continue;h=!0}for(;h&&r&&(o||!u.type.isAnonymous)&&r(u),!u.nextSibling();){if(!u.parent())return;h=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:KS(Zn.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new Dt(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new Dt(Zn.none,n,r,i)))}static build(e){return jV(e)}}Dt.empty=new Dt(Zn.none,[],[],0);class VS{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new VS(this.buffer,this.index)}}class Ns{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return Zn.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],a=i.name;if(/\W/.test(a)&&!i.isError&&(a=JSON.stringify(a)),e+=4,r==e)return a;let l=[];for(;e<r;)l.push(this.childString(e)),e=this.buffer[e+3];return a+"("+l.join(",")+")"}findChild(e,n,r,i,a){let{buffer:l}=this,o=-1;for(let u=e;u!=n&&!(x_(a,i,l[u+1],l[u+2])&&(o=u,r>0));u=l[u+3]);return o}slice(e,n,r){let i=this.buffer,a=new Uint16Array(n-e),l=0;for(let o=e,u=0;o<n;){a[u++]=i[o++],a[u++]=i[o++]-r;let h=a[u++]=i[o++]-r;a[u++]=i[o++]-e,l=Math.max(l,h)}return new Ns(a,l,this.set)}}function x_(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function bf(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let l=!r&&t instanceof qr&&t.index<0?null:t.parent;if(!l)return t;t=l}let a=r?0:Ot.IgnoreOverlays;if(r)for(let l=t,o=l.parent;o;l=o,o=l.parent)l instanceof qr&&l.index<0&&((i=o.enter(e,n,a))===null||i===void 0?void 0:i.from)!=l.from&&(t=o);for(;;){let l=t.enter(e,n,a);if(!l)return t;t=l}}class b_{cursor(e=0){return new nw(this,e)}getChild(e,n=null,r=null){let i=dE(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return dE(this,e,n,r)}resolve(e,n=0){return bf(this,e,n,!1)}resolveInner(e,n=0){return bf(this,e,n,!0)}matchContext(e){return tw(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class qr extends b_{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,a=0){for(let l=this;;){for(let{children:o,positions:u}=l._tree,h=n>0?o.length:-1;e!=h;e+=n){let d=o[e],p=u[e]+l.from,y;if(!(!(a&Ot.EnterBracketed&&d instanceof Dt&&(y=af.get(d))&&!y.overlay&&y.bracketed&&r>=p&&r<=p+d.length)&&!x_(i,r,p,p+d.length))){if(d instanceof Ns){if(a&Ot.ExcludeBuffers)continue;let v=d.findChild(0,d.buffer.length,n,r-p,i);if(v>-1)return new ms(new bV(l,d,e,p),null,v)}else if(a&Ot.IncludeAnonymous||!d.type.isAnonymous||WS(d)){let v;if(!(a&Ot.IgnoreMounts)&&(v=af.get(d))&&!v.overlay)return new qr(v.tree,p,e,l);let b=new qr(d,p,e,l);return a&Ot.IncludeAnonymous||!b.type.isAnonymous?b:b.nextChild(n<0?d.children.length-1:0,n,r,i,a)}}}if(a&Ot.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?e=l.index+n:e=n<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,n,r=0){let i;if(!(r&Ot.IgnoreOverlays)&&(i=af.get(this._tree))&&i.overlay){let a=e-this.from,l=r&Ot.EnterBracketed&&i.bracketed;for(let{from:o,to:u}of i.overlay)if((n>0||l?o<=a:o<a)&&(n<0||l?u>=a:u>a))return new qr(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function dE(t,e,n,r){let i=t.cursor(),a=[];if(!i.firstChild())return a;if(n!=null){for(let l=!1;!l;)if(l=i.type.is(n),!i.nextSibling())return a}for(;;){if(r!=null&&i.type.is(r))return a;if(i.type.is(e)&&a.push(i.node),!i.nextSibling())return r==null?a:[]}}function tw(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class bV{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class ms extends b_{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return a<0?null:new ms(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,n,r=0){if(r&Ot.ExcludeBuffers)return null;let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return a<0?null:new ms(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new ms(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new ms(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,a=r.buffer[this.index+3];if(a>i){let l=r.buffer[this.index+1];e.push(r.slice(i,a,l)),n.push(0)}return new Dt(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function w_(t){if(!t.length)return null;let e=0,n=t[0];for(let a=1;a<t.length;a++){let l=t[a];(l.from>n.from||l.to<n.to)&&(n=l,e=a)}let r=n instanceof qr&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new wV(i,n)}class wV{constructor(e,n){this.heads=e,this.node=n}get next(){return w_(this.heads)}}function SV(t,e,n){let r=t.resolveInner(e,n),i=null;for(let a=r instanceof qr?r:r.context.parent;a;a=a.parent)if(a.index<0){let l=a.parent;(i||(i=[r])).push(l.resolve(e,n)),a=l}else{let l=af.get(a.tree);if(l&&l.overlay&&l.overlay[0].from<=e&&l.overlay[l.overlay.length-1].to>=e){let o=new qr(l.tree,l.overlay[0].from+a.from,-1,a);(i||(i=[r])).push(bf(o,e,n,!1))}}return i?w_(i):r}class nw{get name(){return this.type.name}constructor(e,n=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=n&~Ot.EnterBracketed,e instanceof qr)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof qr?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,a=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return a<0?!1:(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&Ot.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ot.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ot.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(i.buffer.buffer[a+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let a=n+e,l=e<0?-1:r._tree.children.length;a!=l;a+=e){let o=r._tree.children[a];if(this.mode&Ot.IncludeAnonymous||o instanceof Ns||!o.type.isAnonymous||WS(o))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,a=this.stack.length;a>=0;){for(let l=e;l;l=l._parent)if(l.index==i){if(i==this.index)return l;n=l,r=a+1;break e}i=this.stack[--a]}for(let i=r;i<this.stack.length;i++)n=new ms(this.buffer,n,this.stack[i]);return this.bufferNode=new ms(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return tw(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,a=this.stack.length-1;i>=0;a--){if(a<0)return tw(this._tree,e,i);let l=r[n.buffer[this.stack[a]]];if(!l.isAnonymous){if(e[i]&&e[i]!=l.name)return!1;i--}}return!0}}function WS(t){return t.children.some(e=>e instanceof Ns||!e.type.isAnonymous||WS(e))}function jV(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=v_,reused:a=[],minRepeatType:l=r.types.length}=t,o=Array.isArray(n)?new VS(n,n.length):n,u=r.types,h=0,d=0;function p(D,M,E,_,L,I){let{id:B,start:z,end:$,size:ee}=o,F=d,H=h;if(ee<0)if(o.next(),ee==-1){let R=a[B];E.push(R),_.push(z-D);return}else if(ee==-3){h=B;return}else if(ee==-4){d=B;return}else throw new RangeError(`Unrecognized record size: ${ee}`);let V=u[B],Q,se,he=z-D;if($-z<=i&&(se=j(o.pos-M,L))){let R=new Uint16Array(se.size-se.skip),W=o.pos-se.size,fe=R.length;for(;o.pos>W;)fe=N(se.start,R,fe);Q=new Ns(R,$-se.start,r),he=se.start-D}else{let R=o.pos-ee;o.next();let W=[],fe=[],Z=B>=l?B:-1,de=0,G=$;for(;o.pos>R;)Z>=0&&o.id==Z&&o.size>=0?(o.end<=G-i&&(b(W,fe,z,de,o.end,G,Z,F,H),de=W.length,G=o.end),o.next()):I>2500?y(z,R,W,fe):p(z,R,W,fe,Z,I+1);if(Z>=0&&de>0&&de<W.length&&b(W,fe,z,de,z,G,Z,F,H),W.reverse(),fe.reverse(),Z>-1&&de>0){let me=v(V,H);Q=KS(V,W,fe,0,W.length,0,$-z,me,me)}else Q=C(V,W,fe,$-z,F-$,H)}E.push(Q),_.push(he)}function y(D,M,E,_){let L=[],I=0,B=-1;for(;o.pos>M;){let{id:z,start:$,end:ee,size:F}=o;if(F>4)o.next();else{if(B>-1&&$<B)break;B<0&&(B=ee-i),L.push(z,$,ee),I++,o.next()}}if(I){let z=new Uint16Array(I*4),$=L[L.length-2];for(let ee=L.length-3,F=0;ee>=0;ee-=3)z[F++]=L[ee],z[F++]=L[ee+1]-$,z[F++]=L[ee+2]-$,z[F++]=F;E.push(new Ns(z,L[2]-$,r)),_.push($-D)}}function v(D,M){return(E,_,L)=>{let I=0,B=E.length-1,z,$;if(B>=0&&(z=E[B])instanceof Dt){if(!B&&z.type==D&&z.length==L)return z;($=z.prop(Le.lookAhead))&&(I=_[B]+z.length+$)}return C(D,E,_,L,I,M)}}function b(D,M,E,_,L,I,B,z,$){let ee=[],F=[];for(;D.length>_;)ee.push(D.pop()),F.push(M.pop()+E-L);D.push(C(r.types[B],ee,F,I-L,z-I,$)),M.push(L-E)}function C(D,M,E,_,L,I,B){if(I){let z=[Le.contextHash,I];B=B?[z].concat(B):[z]}if(L>25){let z=[Le.lookAhead,L];B=B?[z].concat(B):[z]}return new Dt(D,M,E,_,B)}function j(D,M){let E=o.fork(),_=0,L=0,I=0,B=E.end-i,z={size:0,start:0,skip:0};e:for(let $=E.pos-D;E.pos>$;){let ee=E.size;if(E.id==M&&ee>=0){z.size=_,z.start=L,z.skip=I,I+=4,_+=4,E.next();continue}let F=E.pos-ee;if(ee<0||F<$||E.start<B)break;let H=E.id>=l?4:0,V=E.start;for(E.next();E.pos>F;){if(E.size<0)if(E.size==-3||E.size==-4)H+=4;else break e;else E.id>=l&&(H+=4);E.next()}L=V,_+=ee,I+=H}return(M<0||_==D)&&(z.size=_,z.start=L,z.skip=I),z.size>4?z:void 0}function N(D,M,E){let{id:_,start:L,end:I,size:B}=o;if(o.next(),B>=0&&_<l){let z=E;if(B>4){let $=o.pos-(B-4);for(;o.pos>$;)E=N(D,M,E)}M[--E]=z,M[--E]=I-D,M[--E]=L-D,M[--E]=_}else B==-3?h=_:B==-4&&(d=_);return E}let A=[],k=[];for(;o.pos>0;)p(t.start||0,t.bufferStart||0,A,k,-1,0);let T=(e=t.length)!==null&&e!==void 0?e:A.length?k[0]+A[0].length:0;return new Dt(u[t.topID],A.reverse(),k.reverse(),T)}const mE=new WeakMap;function Rm(t,e){if(!t.isAnonymous||e instanceof Ns||e.type!=t)return 1;let n=mE.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Dt)){n=1;break}n+=Rm(t,r)}mE.set(e,n)}return n}function KS(t,e,n,r,i,a,l,o,u){let h=0;for(let b=r;b<i;b++)h+=Rm(t,e[b]);let d=Math.ceil(h*1.5/8),p=[],y=[];function v(b,C,j,N,A){for(let k=j;k<N;){let T=k,D=C[k],M=Rm(t,b[k]);for(k++;k<N;k++){let E=Rm(t,b[k]);if(M+E>=d)break;M+=E}if(k==T+1){if(M>d){let E=b[T];v(E.children,E.positions,0,E.children.length,C[T]+A);continue}p.push(b[T])}else{let E=C[k-1]+b[k-1].length-D;p.push(KS(t,b,C,T,k,D,E,null,u))}y.push(D+A-a)}}return v(e,n,r,i,0),(o||u)(p,y,l)}class bl{constructor(e,n,r,i,a=!1,l=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(a?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new bl(0,e.length,e,0,!1,r)];for(let a of n)a.to>e.length&&i.push(a);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],a=1,l=e.length?e[0]:null;for(let o=0,u=0,h=0;;o++){let d=o<n.length?n[o]:null,p=d?d.fromA:1e9;if(p-u>=r)for(;l&&l.from<p;){let y=l;if(u>=y.from||p<=y.to||h){let v=Math.max(y.from,u)-h,b=Math.min(y.to,p)-h;y=v>=b?null:new bl(v,b,y.tree,y.offset+h,o>0,!!d)}if(y&&i.push(y),l.to>p)break;l=a<e.length?e[a++]:null}if(!d)break;u=d.toA,h=d.toA-d.toB}return i}}class S_{startParse(e,n,r){return typeof e=="string"&&(e=new CV(e)),r=r?r.length?r.map(i=>new dx(i.from,i.to)):[new dx(0,0)]:[new dx(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let a=i.advance();if(a)return a}}}class CV{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new Le({perNode:!0});let NV=0;class Lr{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=NV++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof Lr&&(n=e),n?.base)throw new Error("Can not derive from a modified tag");let i=new Lr(r,[],null,[]);if(i.set.push(i),n)for(let a of n.set)i.set.push(a);return i}static defineModifier(e){let n=new ap(e);return r=>r.modified.indexOf(n)>-1?r:ap.get(r.base||r,r.modified.concat(n).sort((i,a)=>i.id-a.id))}}let kV=0;class ap{constructor(e){this.name=e,this.instances=[],this.id=kV++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(o=>o.base==e&&OV(n,o.modified));if(r)return r;let i=[],a=new Lr(e.name,i,e,n);for(let o of n)o.instances.push(a);let l=AV(n);for(let o of e.set)if(!o.modified.length)for(let u of l)i.push(ap.get(o,u));return a}}function OV(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function AV(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function j_(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let a=[],l=2,o=i;for(let p=0;;){if(o=="..."&&p>0&&p+3==i.length){l=1;break}let y=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!y)throw new RangeError("Invalid path: "+i);if(a.push(y[0]=="*"?"":y[0][0]=='"'?JSON.parse(y[0]):y[0]),p+=y[0].length,p==i.length)break;let v=i[p++];if(p==i.length&&v=="!"){l=0;break}if(v!="/")throw new RangeError("Invalid path: "+i);o=i.slice(p)}let u=a.length-1,h=a[u];if(!h)throw new RangeError("Invalid path: "+i);let d=new wf(r,l,u>0?a.slice(0,u):null);e[h]=d.sort(e[h])}}return C_.add(e)}const C_=new Le({combine(t,e){let n,r,i;for(;t||e;){if(!t||e&&t.depth>=e.depth?(i=e,e=e.next):(i=t,t=t.next),n&&n.mode==i.mode&&!i.context&&!n.context)continue;let a=new wf(i.tags,i.mode,i.context);n?n.next=a:r=a,n=a}return r}});class wf{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}wf.empty=new wf([],2,null);function N_(t,e){let n=Object.create(null);for(let a of t)if(!Array.isArray(a.tag))n[a.tag.id]=a.class;else for(let l of a.tag)n[l.id]=a.class;let{scope:r,all:i=null}=e||{};return{style:a=>{let l=i;for(let o of a)for(let u of o.set){let h=n[u.id];if(h){l=l?l+" "+h:h;break}}return l},scope:r}}function EV(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function TV(t,e,n,r=0,i=t.length){let a=new MV(r,Array.isArray(e)?e:[e],n);a.highlightRange(t.cursor(),r,i,"",a.highlighters),a.flush(i)}class MV{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,a){let{type:l,from:o,to:u}=e;if(o>=r||u<=n)return;l.isTop&&(a=this.highlighters.filter(v=>!v.scope||v.scope(l)));let h=i,d=DV(e)||wf.empty,p=EV(a,d.tags);if(p&&(h&&(h+=" "),h+=p,d.mode==1&&(i+=(i?" ":"")+p)),this.startSpan(Math.max(n,o),h),d.opaque)return;let y=e.tree&&e.tree.prop(Le.mounted);if(y&&y.overlay){let v=e.node.enter(y.overlay[0].from+o,1),b=this.highlighters.filter(j=>!j.scope||j.scope(y.tree.type)),C=e.firstChild();for(let j=0,N=o;;j++){let A=j<y.overlay.length?y.overlay[j]:null,k=A?A.from+o:u,T=Math.max(n,N),D=Math.min(r,k);if(T<D&&C)for(;e.from<D&&(this.highlightRange(e,T,D,i,a),this.startSpan(Math.min(D,e.to),h),!(e.to>=k||!e.nextSibling())););if(!A||k>r)break;N=A.to+o,N>n&&(this.highlightRange(v.cursor(),Math.max(n,A.from+o),Math.min(r,N),"",b),this.startSpan(Math.min(r,N),h))}C&&e.parent()}else if(e.firstChild()){y&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,a),this.startSpan(Math.min(r,e.to),h)}while(e.nextSibling());e.parent()}}}function DV(t){let e=t.type.prop(C_);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const pe=Lr.define,tm=pe(),ss=pe(),pE=pe(ss),gE=pe(ss),ls=pe(),nm=pe(ls),mx=pe(ls),wi=pe(),tl=pe(wi),gi=pe(),yi=pe(),rw=pe(),Au=pe(rw),rm=pe(),te={comment:tm,lineComment:pe(tm),blockComment:pe(tm),docComment:pe(tm),name:ss,variableName:pe(ss),typeName:pE,tagName:pe(pE),propertyName:gE,attributeName:pe(gE),className:pe(ss),labelName:pe(ss),namespace:pe(ss),macroName:pe(ss),literal:ls,string:nm,docString:pe(nm),character:pe(nm),attributeValue:pe(nm),number:mx,integer:pe(mx),float:pe(mx),bool:pe(ls),regexp:pe(ls),escape:pe(ls),color:pe(ls),url:pe(ls),keyword:gi,self:pe(gi),null:pe(gi),atom:pe(gi),unit:pe(gi),modifier:pe(gi),operatorKeyword:pe(gi),controlKeyword:pe(gi),definitionKeyword:pe(gi),moduleKeyword:pe(gi),operator:yi,derefOperator:pe(yi),arithmeticOperator:pe(yi),logicOperator:pe(yi),bitwiseOperator:pe(yi),compareOperator:pe(yi),updateOperator:pe(yi),definitionOperator:pe(yi),typeOperator:pe(yi),controlOperator:pe(yi),punctuation:rw,separator:pe(rw),bracket:Au,angleBracket:pe(Au),squareBracket:pe(Au),paren:pe(Au),brace:pe(Au),content:wi,heading:tl,heading1:pe(tl),heading2:pe(tl),heading3:pe(tl),heading4:pe(tl),heading5:pe(tl),heading6:pe(tl),contentSeparator:pe(wi),list:pe(wi),quote:pe(wi),emphasis:pe(wi),strong:pe(wi),link:pe(wi),monospace:pe(wi),strikethrough:pe(wi),inserted:pe(),deleted:pe(),changed:pe(),invalid:pe(),meta:rm,documentMeta:pe(rm),annotation:pe(rm),processingInstruction:pe(rm),definition:Lr.defineModifier("definition"),constant:Lr.defineModifier("constant"),function:Lr.defineModifier("function"),standard:Lr.defineModifier("standard"),local:Lr.defineModifier("local"),special:Lr.defineModifier("special")};for(let t in te){let e=te[t];e instanceof Lr&&(e.name=t)}N_([{tag:te.link,class:"tok-link"},{tag:te.heading,class:"tok-heading"},{tag:te.emphasis,class:"tok-emphasis"},{tag:te.strong,class:"tok-strong"},{tag:te.keyword,class:"tok-keyword"},{tag:te.atom,class:"tok-atom"},{tag:te.bool,class:"tok-bool"},{tag:te.url,class:"tok-url"},{tag:te.labelName,class:"tok-labelName"},{tag:te.inserted,class:"tok-inserted"},{tag:te.deleted,class:"tok-deleted"},{tag:te.literal,class:"tok-literal"},{tag:te.string,class:"tok-string"},{tag:te.number,class:"tok-number"},{tag:[te.regexp,te.escape,te.special(te.string)],class:"tok-string2"},{tag:te.variableName,class:"tok-variableName"},{tag:te.local(te.variableName),class:"tok-variableName tok-local"},{tag:te.definition(te.variableName),class:"tok-variableName tok-definition"},{tag:te.special(te.variableName),class:"tok-variableName2"},{tag:te.definition(te.propertyName),class:"tok-propertyName tok-definition"},{tag:te.typeName,class:"tok-typeName"},{tag:te.namespace,class:"tok-namespace"},{tag:te.className,class:"tok-className"},{tag:te.macroName,class:"tok-macroName"},{tag:te.propertyName,class:"tok-propertyName"},{tag:te.operator,class:"tok-operator"},{tag:te.comment,class:"tok-comment"},{tag:te.meta,class:"tok-meta"},{tag:te.invalid,class:"tok-invalid"},{tag:te.punctuation,class:"tok-punctuation"}]);var px;const Lo=new Le;function PV(t){return ve.define({combine:t?e=>e.concat(t):void 0})}const _V=new Le;class ri{constructor(e,n,r=[],i=""){this.data=e,this.name=i,qe.prototype.hasOwnProperty("tree")||Object.defineProperty(qe.prototype,"tree",{get(){return en(this)}}),this.parser=n,this.extension=[ks.of(this),qe.languageData.of((a,l,o)=>{let u=yE(a,l,o),h=u.type.prop(Lo);if(!h)return[];let d=a.facet(h),p=u.type.prop(_V);if(p){let y=u.resolve(l-u.from,o);for(let v of p)if(v.test(y,a)){let b=a.facet(v.facet);return v.type=="replace"?b:b.concat(d)}}return d})].concat(r)}isActiveAt(e,n,r=-1){return yE(e,n,r).type.prop(Lo)==this.data}findRegions(e){let n=e.facet(ks);if(n?.data==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(a,l)=>{if(a.prop(Lo)==this.data){r.push({from:l,to:l+a.length});return}let o=a.prop(Le.mounted);if(o){if(o.tree.prop(Lo)==this.data){if(o.overlay)for(let u of o.overlay)r.push({from:u.from+l,to:u.to+l});else r.push({from:l,to:l+a.length});return}else if(o.overlay){let u=r.length;if(i(o.tree,o.overlay[0].from+l),r.length>u)return}}for(let u=0;u<a.children.length;u++){let h=a.children[u];h instanceof Dt&&i(h,a.positions[u]+l)}};return i(en(e),0),r}get allowsNesting(){return!0}}ri.setState=Pe.define();function yE(t,e,n){let r=t.facet(ks),i=en(t).topNode;if(!r||r.allowsNesting)for(let a=i;a;a=a.enter(e,n,Ot.ExcludeBuffers|Ot.EnterBracketed))a.type.isTop&&(i=a);return i}class sp extends ri{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=PV(e.languageData);return new sp(n,e.parser.configure({props:[Lo.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new sp(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function en(t){let e=t.field(ri.state,!1);return e?e.tree:Dt.empty}class RV{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let Eu=null;class lp{constructor(e,n,r=[],i,a,l,o,u){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=a,this.viewport=l,this.skipped=o,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new lp(e,n,[],Dt.empty,0,r,[],null)}startParse(){return this.parser.startParse(new RV(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Dt.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(bl.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(bl.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Eu;Eu=this;try{return e()}finally{Eu=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=vE(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:a,viewport:l,skipped:o}=this;if(this.takeTree(),!e.empty){let u=[];if(e.iterChangedRanges((h,d,p,y)=>u.push({fromA:h,toA:d,fromB:p,toB:y})),r=bl.applyChanges(r,u),i=Dt.empty,a=0,l={from:e.mapPos(l.from,-1),to:e.mapPos(l.to,1)},this.skipped.length){o=[];for(let h of this.skipped){let d=e.mapPos(h.from,1),p=e.mapPos(h.to,-1);d<p&&o.push({from:d,to:p})}}}return new lp(this.parser,n,r,i,a,l,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:a}=this.skipped[r];i<e.to&&a>e.from&&(this.fragments=vE(this.fragments,i,a),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends S_{createParse(n,r,i){let a=i[0].from,l=i[i.length-1].to;return{parsedPos:a,advance(){let u=Eu;if(u){for(let h of i)u.tempSkipped.push(h);e&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,e]):e)}return this.parsedPos=l,new Dt(Zn.none,[],[],l-a)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Eu}}function vE(t,e,n){return bl.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class tc{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new tc(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=lp.create(e.facet(ks).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new tc(r)}}ri.state=bn.define({create:tc.init,update(t,e){for(let n of e.effects)if(n.is(ri.setState))return n.value;return e.startState.facet(ks)!=e.state.facet(ks)?tc.init(e.state):t.apply(e)}});let k_=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(k_=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const gx=typeof navigator<"u"&&(!((px=navigator.scheduling)===null||px===void 0)&&px.isInputPending)?()=>navigator.scheduling.isInputPending():null,LV=Pt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(ri.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(ri.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=k_(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,a=r.field(ri.state);if(a.tree==a.context.tree&&a.context.isDone(i+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,e&&!gx?Math.max(25,e.timeRemaining()-5):1e9),o=a.context.treeLen<i&&r.doc.length>i+1e3,u=a.context.work(()=>gx&&gx()||Date.now()>l,i+(o?0:1e5));this.chunkBudget-=Date.now()-n,(u||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:ri.setState.of(new tc(a.context))})),this.chunkBudget>0&&!(u&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>Gn(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),ks=ve.define({combine(t){return t.length?t[0]:null},enables:t=>[ri.state,LV,ge.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class BV{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const zV=ve.define(),Dg=ve.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function op(t){let e=t.facet(Dg);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Sf(t,e){let n="",r=t.tabSize,i=t.facet(Dg)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let a=0;a<e;a++)n+=i;return n}function GS(t,e){t instanceof qe&&(t=new Pg(t));for(let r of t.state.facet(zV)){let i=r(t,e);if(i!==void 0)return i}let n=en(t.state);return n.length>=e?IV(t,n,e):null}class Pg{constructor(e,n={}){this.state=e,this.options=n,this.unit=op(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:a}=this.options;return i!=null&&i>=r.from&&i<=r.to?a&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),a=this.countColumn(r,e-i),l=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return l>-1&&(a+=l-this.countColumn(r,r.search(/\S|$/))),a}countColumn(e,n=e.length){return mc(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),a=this.options.overrideIndentation;if(a){let l=a(i);if(l>-1)return l}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const O_=new Le;function IV(t,e,n){let r=e.resolveStack(n),i=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let a=[];for(let l=i;l&&!(l.from<r.node.from||l.to>r.node.to||l.from==r.node.from&&l.type==r.node.type);l=l.parent)a.push(l);for(let l=a.length-1;l>=0;l--)r={node:a[l],next:r}}return A_(r,t,n)}function A_(t,e,n){for(let r=t;r;r=r.next){let i=HV(r.node);if(i)return i(YS.create(e,n,r))}return 0}function UV(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function HV(t){let e=t.type.prop(O_);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(Le.closedBy))){let i=t.lastChild,a=i&&r.indexOf(i.name)>-1;return l=>VV(l,!0,1,void 0,a&&!UV(l)?i.from:void 0)}return t.parent==null?$V:null}function $V(){return 0}class YS extends Pg{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new YS(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(qV(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return A_(this.context.next,this.base,this.pos)}}function qV(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function FV(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,a=t.state.doc.lineAt(n.from),l=i==null||i<=a.from?a.to:Math.min(a.to,i);for(let o=n.to;;){let u=e.childAfter(o);if(!u||u==r)return null;if(!u.type.isSkipped){if(u.from>=l)return null;let h=/^ */.exec(a.text.slice(n.to-a.from))[0].length;return{from:n.from,to:n.to+h}}o=u.to}}function VV(t,e,n,r,i){let a=t.textAfter,l=a.match(/^\s*/)[0].length,o=r&&a.slice(l,l+r.length)==r||i==t.pos+l,u=FV(t);return u?o?t.column(u.from):t.column(u.to):t.baseIndent+(o?0:t.unit*n)}function WV({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const KV=200;function GV(){return qe.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+KV)return t;let a=n.sliceString(i.from,r);if(!e.some(h=>h.test(a)))return t;let{state:l}=t,o=-1,u=[];for(let{head:h}of l.selection.ranges){let d=l.doc.lineAt(h);if(d.from==o)continue;o=d.from;let p=GS(l,d.from);if(p==null)continue;let y=/^\s*/.exec(d.text)[0],v=Sf(l,p);y!=v&&u.push({from:d.from,to:d.from+y.length,insert:v})}return u.length?[t,{changes:u,sequential:!0}]:t})}const YV=ve.define(),E_=new Le;function QV(t,e,n){let r=en(t);if(r.length<n)return null;let i=r.resolveStack(n,1),a=null;for(let l=i;l;l=l.next){let o=l.node;if(o.to<=n||o.from>n)continue;if(a&&o.from<e)break;let u=o.type.prop(E_);if(u&&(o.to<r.length-50||r.length==t.doc.length||!XV(o))){let h=u(o,t);h&&h.from<=n&&h.from>=e&&h.to>n&&(a=h)}}return a}function XV(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function cp(t,e,n){for(let r of t.facet(YV)){let i=r(t,e,n);if(i)return i}return QV(t,e,n)}function T_(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const _g=Pe.define({map:T_}),nh=Pe.define({map:T_});function M_(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const El=bn.define({create(){return ke.none},update(t,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((n,r)=>t=xE(t,n,r)),t=t.map(e.changes);for(let n of e.effects)if(n.is(_g)&&!ZV(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(__),i=r?ke.replace({widget:new aW(r(e.state,n.value))}):bE;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(nh)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));return e.selection&&(t=xE(t,e.selection.main.head)),t},provide:t=>ge.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(bE.range(r,i))}return ke.set(e,!0)}});function xE(t,e,n=e){let r=!1;return t.between(e,n,(i,a)=>{i<n&&a>e&&(r=!0)}),r?t.update({filterFrom:e,filterTo:n,filter:(i,a)=>i>=n||a<=e}):t}function up(t,e,n){var r;let i=null;return(r=t.field(El,!1))===null||r===void 0||r.between(e,n,(a,l)=>{(!i||i.from>a)&&(i={from:a,to:l})}),i}function ZV(t,e,n){let r=!1;return t.between(e,e,(i,a)=>{i==e&&a==n&&(r=!0)}),r}function D_(t,e){return t.field(El,!1)?e:e.concat(Pe.appendConfig.of(R_()))}const JV=t=>{for(let e of M_(t)){let n=cp(t.state,e.from,e.to);if(n)return t.dispatch({effects:D_(t.state,[_g.of(n),P_(t,n)])}),!0}return!1},eW=t=>{if(!t.state.field(El,!1))return!1;let e=[];for(let n of M_(t)){let r=up(t.state,n.from,n.to);r&&e.push(nh.of(r),P_(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function P_(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return ge.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const tW=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),a=cp(e,i.from,i.to);a&&n.push(_g.of(a)),r=(a?t.lineBlockAt(a.to):i).to+1}return n.length&&t.dispatch({effects:D_(t.state,n)}),!!n.length},nW=t=>{let e=t.state.field(El,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(nh.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},rW=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:JV},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:eW},{key:"Ctrl-Alt-[",run:tW},{key:"Ctrl-Alt-]",run:nW}],iW={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},__=ve.define({combine(t){return Ui(t,iW)}});function R_(t){return[El,oW]}function L_(t,e){let{state:n}=t,r=n.facet(__),i=l=>{let o=t.lineBlockAt(t.posAtDOM(l.target)),u=up(t.state,o.from,o.to);u&&t.dispatch({effects:nh.of(u)}),l.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let a=document.createElement("span");return a.textContent=r.placeholderText,a.setAttribute("aria-label",n.phrase("folded code")),a.title=n.phrase("unfold"),a.className="cm-foldPlaceholder",a.onclick=i,a}const bE=ke.replace({widget:new class extends Hi{toDOM(t){return L_(t,null)}}});class aW extends Hi{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return L_(e,this.value)}}const sW={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class yx extends va{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function lW(t={}){let e={...sW,...t},n=new yx(e,!0),r=new yx(e,!1),i=Pt.fromClass(class{constructor(l){this.from=l.viewport.from,this.markers=this.buildMarkers(l)}update(l){(l.docChanged||l.viewportChanged||l.startState.facet(ks)!=l.state.facet(ks)||l.startState.field(El,!1)!=l.state.field(El,!1)||en(l.startState)!=en(l.state)||e.foldingChanged(l))&&(this.markers=this.buildMarkers(l.view))}buildMarkers(l){let o=new ga;for(let u of l.viewportLineBlocks){let h=up(l.state,u.from,u.to)?r:cp(l.state,u.from,u.to)?n:null;h&&o.add(u.from,u.from,h)}return o.finish()}}),{domEventHandlers:a}=e;return[i,lV({class:"cm-foldGutter",markers(l){var o;return((o=l.plugin(i))===null||o===void 0?void 0:o.markers)||Ie.empty},initialSpacer(){return new yx(e,!1)},domEventHandlers:{...a,click:(l,o,u)=>{if(a.click&&a.click(l,o,u))return!0;let h=up(l.state,o.from,o.to);if(h)return l.dispatch({effects:nh.of(h)}),!0;let d=cp(l.state,o.from,o.to);return d?(l.dispatch({effects:_g.of(d)}),!0):!1}}}),R_()]}const oW=ge.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class rh{constructor(e,n){this.specs=e;let r;function i(o){let u=Ss.newName();return(r||(r=Object.create(null)))["."+u]=o,u}const a=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,l=n.scope;this.scope=l instanceof ri?o=>o.prop(Lo)==l.data:l?o=>o==l:void 0,this.style=N_(e.map(o=>({tag:o.tag,class:o.class||i(Object.assign({},o,{tag:null}))})),{all:a}).style,this.module=r?new Ss(r):null,this.themeType=n.themeType}static define(e,n){return new rh(e,n||{})}}const iw=ve.define(),B_=ve.define({combine(t){return t.length?[t[0]]:null}});function vx(t){let e=t.facet(iw);return e.length?e:t.facet(B_)}function z_(t,e){let n=[uW],r;return t instanceof rh&&(t.module&&n.push(ge.styleModule.of(t.module)),r=t.themeType),e?.fallback?n.push(B_.of(t)):r?n.push(iw.computeN([ge.darkTheme],i=>i.facet(ge.darkTheme)==(r=="dark")?[t]:[])):n.push(iw.of(t)),n}class cW{constructor(e){this.markCache=Object.create(null),this.tree=en(e.state),this.decorations=this.buildDeco(e,vx(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=en(e.state),r=vx(e.state),i=r!=vx(e.startState),{viewport:a}=e.view,l=e.changes.mapPos(this.decoratedTo,1);n.length<a.to&&!i&&n.type==this.tree.type&&l>=a.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=l):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=a.to)}buildDeco(e,n){if(!n||!this.tree.length)return ke.none;let r=new ga;for(let{from:i,to:a}of e.visibleRanges)TV(this.tree,n,(l,o,u)=>{r.add(l,o,this.markCache[u]||(this.markCache[u]=ke.mark({class:u})))},i,a);return r.finish()}}const uW=zl.high(Pt.fromClass(cW,{decorations:t=>t.decorations})),fW=rh.define([{tag:te.meta,color:"#404740"},{tag:te.link,textDecoration:"underline"},{tag:te.heading,textDecoration:"underline",fontWeight:"bold"},{tag:te.emphasis,fontStyle:"italic"},{tag:te.strong,fontWeight:"bold"},{tag:te.strikethrough,textDecoration:"line-through"},{tag:te.keyword,color:"#708"},{tag:[te.atom,te.bool,te.url,te.contentSeparator,te.labelName],color:"#219"},{tag:[te.literal,te.inserted],color:"#164"},{tag:[te.string,te.deleted],color:"#a11"},{tag:[te.regexp,te.escape,te.special(te.string)],color:"#e40"},{tag:te.definition(te.variableName),color:"#00f"},{tag:te.local(te.variableName),color:"#30a"},{tag:[te.typeName,te.namespace],color:"#085"},{tag:te.className,color:"#167"},{tag:[te.special(te.variableName),te.macroName],color:"#256"},{tag:te.definition(te.propertyName),color:"#00c"},{tag:te.comment,color:"#940"},{tag:te.invalid,color:"#f00"}]),hW=ge.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),I_=1e4,U_="()[]{}",H_=ve.define({combine(t){return Ui(t,{afterCursor:!0,brackets:U_,maxScanDistance:I_,renderMatch:pW})}}),dW=ke.mark({class:"cm-matchingBracket"}),mW=ke.mark({class:"cm-nonmatchingBracket"});function pW(t){let e=[],n=t.matched?dW:mW;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const gW=bn.define({create(){return ke.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(H_);for(let i of e.state.selection.ranges){if(!i.empty)continue;let a=Oi(e.state,i.head,-1,r)||i.head>0&&Oi(e.state,i.head-1,1,r)||r.afterCursor&&(Oi(e.state,i.head,1,r)||i.head<e.state.doc.length&&Oi(e.state,i.head+1,-1,r));a&&(n=n.concat(r.renderMatch(a,e.state)))}return ke.set(n,!0)},provide:t=>ge.decorations.from(t)}),yW=[gW,hW];function vW(t={}){return[H_.of(t),yW]}const xW=new Le;function aw(t,e,n){let r=t.prop(e<0?Le.openedBy:Le.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function sw(t){let e=t.type.prop(xW);return e?e(t.node):t}function Oi(t,e,n,r={}){let i=r.maxScanDistance||I_,a=r.brackets||U_,l=en(t),o=l.resolveInner(e,n);for(let u=o;u;u=u.parent){let h=aw(u.type,n,a);if(h&&u.from<u.to){let d=sw(u);if(d&&(n>0?e>=d.from&&e<d.to:e>d.from&&e<=d.to))return bW(t,e,n,u,d,h,a)}}return wW(t,e,n,l,o.type,i,a)}function bW(t,e,n,r,i,a,l){let o=r.parent,u={from:i.from,to:i.to},h=0,d=o?.cursor();if(d&&(n<0?d.childBefore(r.from):d.childAfter(r.to)))do if(n<0?d.to<=r.from:d.from>=r.to){if(h==0&&a.indexOf(d.type.name)>-1&&d.from<d.to){let p=sw(d);return{start:u,end:p?{from:p.from,to:p.to}:void 0,matched:!0}}else if(aw(d.type,n,l))h++;else if(aw(d.type,-n,l)){if(h==0){let p=sw(d);return{start:u,end:p&&p.from<p.to?{from:p.from,to:p.to}:void 0,matched:!1}}h--}}while(n<0?d.prevSibling():d.nextSibling());return{start:u,matched:!1}}function wW(t,e,n,r,i,a,l){let o=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),u=l.indexOf(o);if(u<0||u%2==0!=n>0)return null;let h={from:n<0?e-1:e,to:n>0?e+1:e},d=t.doc.iterRange(e,n>0?t.doc.length:0),p=0;for(let y=0;!d.next().done&&y<=a;){let v=d.value;n<0&&(y+=v.length);let b=e+y*n;for(let C=n>0?0:v.length-1,j=n>0?v.length:-1;C!=j;C+=n){let N=l.indexOf(v[C]);if(!(N<0||r.resolveInner(b+C,1).type!=i))if(N%2==0==n>0)p++;else{if(p==1)return{start:h,end:{from:b+C,to:b+C+1},matched:N>>1==u>>1};p--}}n>0&&(y+=v.length)}return d.done?{start:h,matched:!1}:null}const SW=Object.create(null),wE=[Zn.none],SE=[],jE=Object.create(null),jW=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])jW[t]=CW(SW,e);function xx(t,e){SE.indexOf(t)>-1||(SE.push(t),console.warn(e))}function CW(t,e){let n=[];for(let o of e.split(" ")){let u=[];for(let h of o.split(".")){let d=t[h]||te[h];d?typeof d=="function"?u.length?u=u.map(d):xx(h,`Modifier ${h} used at start of tag`):u.length?xx(h,`Tag ${h} used as modifier`):u=Array.isArray(d)?d:[d]:xx(h,`Unknown highlighting tag ${h}`)}for(let h of u)n.push(h)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(o=>o.id),a=jE[i];if(a)return a.id;let l=jE[i]=Zn.define({id:wE.length,name:r,props:[j_({[r]:n})]});return wE.push(l),l.id}ot.RTL,ot.LTR;const NW=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=XS(t.state,n.from);return r.line?kW(t):r.block?AW(t):!1};function QS(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const kW=QS(MW,0),OW=QS($_,0),AW=QS((t,e)=>$_(t,e,TW(e)),0);function XS(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const Tu=50;function EW(t,{open:e,close:n},r,i){let a=t.sliceDoc(r-Tu,r),l=t.sliceDoc(i,i+Tu),o=/\s*$/.exec(a)[0].length,u=/^\s*/.exec(l)[0].length,h=a.length-o;if(a.slice(h-e.length,h)==e&&l.slice(u,u+n.length)==n)return{open:{pos:r-o,margin:o&&1},close:{pos:i+u,margin:u&&1}};let d,p;i-r<=2*Tu?d=p=t.sliceDoc(r,i):(d=t.sliceDoc(r,r+Tu),p=t.sliceDoc(i-Tu,i));let y=/^\s*/.exec(d)[0].length,v=/\s*$/.exec(p)[0].length,b=p.length-v-n.length;return d.slice(y,y+e.length)==e&&p.slice(b,b+n.length)==n?{open:{pos:r+y+e.length,margin:/\s/.test(d.charAt(y+e.length))?1:0},close:{pos:i-v-n.length,margin:/\s/.test(p.charAt(b-1))?1:0}}:null}function TW(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let a=e.length-1;a>=0&&e[a].to>r.from?e[a].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function $_(t,e,n=e.selection.ranges){let r=n.map(a=>XS(e,a.from).block);if(!r.every(a=>a))return null;let i=n.map((a,l)=>EW(e,r[l],a.from,a.to));if(t!=2&&!i.every(a=>a))return{changes:e.changes(n.map((a,l)=>i[l]?[]:[{from:a.from,insert:r[l].open+" "},{from:a.to,insert:" "+r[l].close}]))};if(t!=1&&i.some(a=>a)){let a=[];for(let l=0,o;l<i.length;l++)if(o=i[l]){let u=r[l],{open:h,close:d}=o;a.push({from:h.pos-u.open.length,to:h.pos+h.margin},{from:d.pos-d.margin,to:d.pos+u.close.length})}return{changes:a}}return null}function MW(t,e,n=e.selection.ranges){let r=[],i=-1;e:for(let{from:a,to:l}of n){let o=r.length,u=1e9,h;for(let d=a;d<=l;){let p=e.doc.lineAt(d);if(h==null&&(h=XS(e,p.from).line,!h))continue e;if(p.from>i&&(a==l||l>p.from)){i=p.from;let y=/^\s*/.exec(p.text)[0].length,v=y==p.length,b=p.text.slice(y,y+h.length)==h?y:-1;y<p.text.length&&y<u&&(u=y),r.push({line:p,comment:b,token:h,indent:y,empty:v,single:!1})}d=p.to+1}if(u<1e9)for(let d=o;d<r.length;d++)r[d].indent<r[d].line.text.length&&(r[d].indent=u);r.length==o+1&&(r[o].single=!0)}if(t!=2&&r.some(a=>a.comment<0&&(!a.empty||a.single))){let a=[];for(let{line:o,token:u,indent:h,empty:d,single:p}of r)(p||!d)&&a.push({from:o.from+h,insert:u+" "});let l=e.changes(a);return{changes:l,selection:e.selection.map(l,1)}}else if(t!=1&&r.some(a=>a.comment>=0)){let a=[];for(let{line:l,comment:o,token:u}of r)if(o>=0){let h=l.from+o,d=h+u.length;l.text[d-l.from]==" "&&d++,a.push({from:h,to:d})}return{changes:a}}return null}const lw=Ii.define(),DW=Ii.define(),PW=ve.define(),q_=ve.define({combine(t){return Ui(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),F_=bn.define({create(){return Ai.empty},update(t,e){let n=e.state.facet(q_),r=e.annotation(lw);if(r){let u=Yn.fromTransaction(e,r.selection),h=r.side,d=h==0?t.undone:t.done;return u?d=fp(d,d.length,n.minDepth,u):d=K_(d,e.startState.selection),new Ai(h==0?r.rest:d,h==0?d:r.rest)}let i=e.annotation(DW);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Ft.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let a=Yn.fromTransaction(e),l=e.annotation(Ft.time),o=e.annotation(Ft.userEvent);return a?t=t.addChanges(a,l,o,n,e):e.selection&&(t=t.addSelection(e.startState.selection,l,o,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Ai(t.done.map(Yn.fromJSON),t.undone.map(Yn.fromJSON))}});function _W(t={}){return[F_,q_.of(t),ge.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?V_:e.inputType=="historyRedo"?ow:null;return r?(e.preventDefault(),r(n)):!1}})]}function Rg(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(F_,!1);if(!i)return!1;let a=i.pop(t,n,e);return a?(r(a),!0):!1}}const V_=Rg(0,!1),ow=Rg(1,!1),RW=Rg(0,!0),LW=Rg(1,!0);class Yn{constructor(e,n,r,i,a){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=a}setSelAfter(e){return new Yn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new Yn(e.changes&&qt.fromJSON(e.changes),[],e.mapped&&Mi.fromJSON(e.mapped),e.startSelection&&ce.fromJSON(e.startSelection),e.selectionsAfter.map(ce.fromJSON))}static fromTransaction(e,n){let r=zr;for(let i of e.startState.facet(PW)){let a=i(e);a.length&&(r=r.concat(a))}return!r.length&&e.changes.empty?null:new Yn(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,zr)}static selection(e){return new Yn(void 0,zr,void 0,void 0,e)}}function fp(t,e,n,r){let i=e+1>n+20?e-n-1:0,a=t.slice(i,e);return a.push(r),a}function BW(t,e){let n=[],r=!1;return t.iterChangedRanges((i,a)=>n.push(i,a)),e.iterChangedRanges((i,a,l,o)=>{for(let u=0;u<n.length;){let h=n[u++],d=n[u++];o>=h&&l<=d&&(r=!0)}}),r}function zW(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function W_(t,e){return t.length?e.length?t.concat(e):t:e}const zr=[],IW=200;function K_(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-IW));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),fp(t,t.length-1,1e9,n.setSelAfter(r)))}else return[Yn.selection([e])]}function UW(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function bx(t,e){if(!t.length)return t;let n=t.length,r=zr;for(;n;){let i=HW(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let a=t.slice(0,n);return a[n-1]=i,a}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[Yn.selection(r)]:zr}function HW(t,e,n){let r=W_(t.selectionsAfter.length?t.selectionsAfter.map(o=>o.map(e)):zr,n);if(!t.changes)return Yn.selection(r);let i=t.changes.map(e),a=e.mapDesc(t.changes,!0),l=t.mapped?t.mapped.composeDesc(a):a;return new Yn(i,Pe.mapEffects(t.effects,e),l,t.startSelection.map(a),r)}const $W=/^(input\.type|delete)($|\.)/;class Ai{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new Ai(this.done,this.undone):this}addChanges(e,n,r,i,a){let l=this.done,o=l[l.length-1];return o&&o.changes&&!o.changes.empty&&e.changes&&(!r||$W.test(r))&&(!o.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(a,BW(o.changes,e.changes))||r=="input.type.compose")?l=fp(l,l.length-1,i.minDepth,new Yn(e.changes.compose(o.changes),W_(Pe.mapEffects(e.effects,o.changes),o.effects),o.mapped,o.startSelection,zr)):l=fp(l,l.length,i.minDepth,e),new Ai(l,zr,n,r)}addSelection(e,n,r,i){let a=this.done.length?this.done[this.done.length-1].selectionsAfter:zr;return a.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&zW(a[a.length-1],e)?this:new Ai(K_(this.done,e),this.undone,n,r)}addMapping(e){return new Ai(bx(this.done,e),bx(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let a=i[i.length-1],l=a.selectionsAfter[0]||(a.startSelection?a.startSelection.map(a.changes.invertedDesc,1):n.selection);if(r&&a.selectionsAfter.length)return n.update({selection:a.selectionsAfter[a.selectionsAfter.length-1],annotations:lw.of({side:e,rest:UW(i),selection:l}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(a.changes){let o=i.length==1?zr:i.slice(0,i.length-1);return a.mapped&&(o=bx(o,a.mapped)),n.update({changes:a.changes,selection:a.startSelection,effects:a.effects,annotations:lw.of({side:e,rest:o,selection:l}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Ai.empty=new Ai(zr,zr);const qW=[{key:"Mod-z",run:V_,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:ow,preventDefault:!0},{linux:"Ctrl-Shift-z",run:ow,preventDefault:!0},{key:"Mod-u",run:RW,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:LW,preventDefault:!0}];function pc(t,e){return ce.create(t.ranges.map(e),t.mainIndex)}function oi(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function ci({state:t,dispatch:e},n){let r=pc(t.selection,n);return r.eq(t.selection,!0)?!1:(e(oi(t,r)),!0)}function Lg(t,e){return ce.cursor(e?t.to:t.from)}function G_(t,e){return ci(t,n=>n.empty?t.moveByChar(n,e):Lg(n,e))}function kn(t){return t.textDirectionAt(t.state.selection.main.head)==ot.LTR}const Y_=t=>G_(t,!kn(t)),Q_=t=>G_(t,kn(t));function X_(t,e){return ci(t,n=>n.empty?t.moveByGroup(n,e):Lg(n,e))}const FW=t=>X_(t,!kn(t)),VW=t=>X_(t,kn(t));function WW(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Bg(t,e,n){let r=en(t).resolveInner(e.head),i=n?Le.closedBy:Le.openedBy;for(let u=e.head;;){let h=n?r.childAfter(u):r.childBefore(u);if(!h)break;WW(t,h,i)?r=h:u=n?h.to:h.from}let a=r.type.prop(i),l,o;return a&&(l=n?Oi(t,r.from,1):Oi(t,r.to,-1))&&l.matched?o=n?l.end.to:l.end.from:o=n?r.to:r.from,ce.cursor(o,n?-1:1)}const KW=t=>ci(t,e=>Bg(t.state,e,!kn(t))),GW=t=>ci(t,e=>Bg(t.state,e,kn(t)));function Z_(t,e){return ci(t,n=>{if(!n.empty)return Lg(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const J_=t=>Z_(t,!1),eR=t=>Z_(t,!0);function tR(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let a of t.state.facet(ge.scrollMargins)){let l=a(t);l?.top&&(n=Math.max(l?.top,n)),l?.bottom&&(r=Math.max(l?.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function nR(t,e){let n=tR(t),{state:r}=t,i=pc(r.selection,l=>l.empty?t.moveVertically(l,e,n.height):Lg(l,e));if(i.eq(r.selection))return!1;let a;if(n.selfScroll){let l=t.coordsAtPos(r.selection.main.head),o=t.scrollDOM.getBoundingClientRect(),u=o.top+n.marginTop,h=o.bottom-n.marginBottom;l&&l.top>u&&l.bottom<h&&(a=ge.scrollIntoView(i.main.head,{y:"start",yMargin:l.top-u}))}return t.dispatch(oi(r,i),{effects:a}),!0}const CE=t=>nR(t,!1),cw=t=>nR(t,!0);function Ds(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let a=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;a&&e.head!=r.from+a&&(i=ce.cursor(r.from+a))}return i}const YW=t=>ci(t,e=>Ds(t,e,!0)),QW=t=>ci(t,e=>Ds(t,e,!1)),XW=t=>ci(t,e=>Ds(t,e,!kn(t))),ZW=t=>ci(t,e=>Ds(t,e,kn(t))),JW=t=>ci(t,e=>ce.cursor(t.lineBlockAt(e.head).from,1)),eK=t=>ci(t,e=>ce.cursor(t.lineBlockAt(e.head).to,-1));function tK(t,e,n){let r=!1,i=pc(t.selection,a=>{let l=Oi(t,a.head,-1)||Oi(t,a.head,1)||a.head>0&&Oi(t,a.head-1,1)||a.head<t.doc.length&&Oi(t,a.head+1,-1);if(!l||!l.end)return a;r=!0;let o=l.start.from==a.head?l.end.to:l.end.from;return ce.cursor(o)});return r?(e(oi(t,i)),!0):!1}const nK=({state:t,dispatch:e})=>tK(t,e);function Kr(t,e){let n=pc(t.state.selection,r=>{let i=e(r);return ce.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(oi(t.state,n)),!0)}function rR(t,e){return Kr(t,n=>t.moveByChar(n,e))}const iR=t=>rR(t,!kn(t)),aR=t=>rR(t,kn(t));function sR(t,e){return Kr(t,n=>t.moveByGroup(n,e))}const rK=t=>sR(t,!kn(t)),iK=t=>sR(t,kn(t)),aK=t=>Kr(t,e=>Bg(t.state,e,!kn(t))),sK=t=>Kr(t,e=>Bg(t.state,e,kn(t)));function lR(t,e){return Kr(t,n=>t.moveVertically(n,e))}const oR=t=>lR(t,!1),cR=t=>lR(t,!0);function uR(t,e){return Kr(t,n=>t.moveVertically(n,e,tR(t).height))}const NE=t=>uR(t,!1),kE=t=>uR(t,!0),lK=t=>Kr(t,e=>Ds(t,e,!0)),oK=t=>Kr(t,e=>Ds(t,e,!1)),cK=t=>Kr(t,e=>Ds(t,e,!kn(t))),uK=t=>Kr(t,e=>Ds(t,e,kn(t))),fK=t=>Kr(t,e=>ce.cursor(t.lineBlockAt(e.head).from)),hK=t=>Kr(t,e=>ce.cursor(t.lineBlockAt(e.head).to)),OE=({state:t,dispatch:e})=>(e(oi(t,{anchor:0})),!0),AE=({state:t,dispatch:e})=>(e(oi(t,{anchor:t.doc.length})),!0),EE=({state:t,dispatch:e})=>(e(oi(t,{anchor:t.selection.main.anchor,head:0})),!0),TE=({state:t,dispatch:e})=>(e(oi(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),dK=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),mK=({state:t,dispatch:e})=>{let n=zg(t).map(({from:r,to:i})=>ce.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:ce.create(n),userEvent:"select"})),!0},pK=({state:t,dispatch:e})=>{let n=pc(t.selection,r=>{let i=en(t),a=i.resolveStack(r.from,1);if(r.empty){let l=i.resolveStack(r.from,-1);l.node.from>=a.node.from&&l.node.to<=a.node.to&&(a=l)}for(let l=a;l;l=l.next){let{node:o}=l;if((o.from<r.from&&o.to>=r.to||o.to>r.to&&o.from<=r.from)&&l.next)return ce.range(o.to,o.from)}return r});return n.eq(t.selection)?!1:(e(oi(t,n)),!0)};function fR(t,e){let{state:n}=t,r=n.selection,i=n.selection.ranges.slice();for(let a of n.selection.ranges){let l=n.doc.lineAt(a.head);if(e?l.to<t.state.doc.length:l.from>0)for(let o=a;;){let u=t.moveVertically(o,e);if(u.head<l.from||u.head>l.to){i.some(h=>h.head==u.head)||i.push(u);break}else{if(u.head==o.head)break;o=u}}}return i.length==r.ranges.length?!1:(t.dispatch(oi(n,ce.create(i,i.length-1))),!0)}const gK=t=>fR(t,!1),yK=t=>fR(t,!0),vK=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=ce.create([n.main]):n.main.empty||(r=ce.create([ce.cursor(n.main.head)])),r?(e(oi(t,r)),!0):!1};function ih(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(a=>{let{from:l,to:o}=a;if(l==o){let u=e(a);u<l?(n="delete.backward",u=im(t,u,!1)):u>l&&(n="delete.forward",u=im(t,u,!0)),l=Math.min(l,u),o=Math.max(o,u)}else l=im(t,l,!1),o=im(t,o,!0);return l==o?{range:a}:{changes:{from:l,to:o},range:ce.cursor(l,l<a.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?ge.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function im(t,e,n){if(t instanceof ge)for(let r of t.state.facet(ge.atomicRanges).map(i=>i(t)))r.between(e,e,(i,a)=>{i<e&&a>e&&(e=n?a:i)});return e}const hR=(t,e,n)=>ih(t,r=>{let i=r.from,{state:a}=t,l=a.doc.lineAt(i),o,u;if(n&&!e&&i>l.from&&i<l.from+200&&!/[^ \t]/.test(o=l.text.slice(0,i-l.from))){if(o[o.length-1]=="	")return i-1;let h=mc(o,a.tabSize),d=h%op(a)||op(a);for(let p=0;p<d&&o[o.length-1-p]==" ";p++)i--;u=i}else u=Jt(l.text,i-l.from,e,e)+l.from,u==i&&l.number!=(e?a.doc.lines:1)?u+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(l.text.slice(u-l.from,i-l.from))&&(u=Jt(l.text,u-l.from,!1,!1)+l.from);return u}),uw=t=>hR(t,!1,!0),dR=t=>hR(t,!0,!1),mR=(t,e)=>ih(t,n=>{let r=n.head,{state:i}=t,a=i.doc.lineAt(r),l=i.charCategorizer(r);for(let o=null;;){if(r==(e?a.to:a.from)){r==n.head&&a.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let u=Jt(a.text,r-a.from,e)+a.from,h=a.text.slice(Math.min(r,u)-a.from,Math.max(r,u)-a.from),d=l(h);if(o!=null&&d!=o)break;(h!=" "||r!=n.head)&&(o=d),r=u}return r}),pR=t=>mR(t,!1),xK=t=>mR(t,!0),bK=t=>ih(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),wK=t=>ih(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),SK=t=>ih(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),jK=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Xe.of(["",""])},range:ce.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},CK=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,a=t.doc.lineAt(i),l=i==a.from?i-1:Jt(a.text,i-a.from,!1)+a.from,o=i==a.to?i+1:Jt(a.text,i-a.from,!0)+a.from;return{changes:{from:l,to:o,insert:t.doc.slice(i,o).append(t.doc.slice(l,i))},range:ce.cursor(o)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function zg(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),a=t.doc.lineAt(r.to);if(!r.empty&&r.to==a.from&&(a=t.doc.lineAt(r.to-1)),n>=i.number){let l=e[e.length-1];l.to=a.to,l.ranges.push(r)}else e.push({from:i.from,to:a.to,ranges:[r]});n=a.number+1}return e}function gR(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let a of zg(t)){if(n?a.to==t.doc.length:a.from==0)continue;let l=t.doc.lineAt(n?a.to+1:a.from-1),o=l.length+1;if(n){r.push({from:a.to,to:l.to},{from:a.from,insert:l.text+t.lineBreak});for(let u of a.ranges)i.push(ce.range(Math.min(t.doc.length,u.anchor+o),Math.min(t.doc.length,u.head+o)))}else{r.push({from:l.from,to:a.from},{from:a.to,insert:t.lineBreak+l.text});for(let u of a.ranges)i.push(ce.range(u.anchor-o,u.head-o))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:ce.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const NK=({state:t,dispatch:e})=>gR(t,e,!1),kK=({state:t,dispatch:e})=>gR(t,e,!0);function yR(t,e,n){if(t.readOnly)return!1;let r=[];for(let a of zg(t))n?r.push({from:a.from,insert:t.doc.slice(a.from,a.to)+t.lineBreak}):r.push({from:a.to,insert:t.lineBreak+t.doc.slice(a.from,a.to)});let i=t.changes(r);return e(t.update({changes:i,selection:t.selection.map(i,n?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const OK=({state:t,dispatch:e})=>yR(t,e,!1),AK=({state:t,dispatch:e})=>yR(t,e,!0),EK=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(zg(e).map(({from:i,to:a})=>(i>0?i--:a<e.doc.length&&a++,{from:i,to:a}))),r=pc(e.selection,i=>{let a;if(t.lineWrapping){let l=t.lineBlockAt(i.head),o=t.coordsAtPos(i.head,i.assoc||1);o&&(a=l.bottom+t.documentTop-o.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,a)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function TK(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=en(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),a;return r&&i&&r.to<=e&&i.from>=e&&(a=r.type.prop(Le.closedBy))&&a.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const ME=vR(!1),MK=vR(!0);function vR(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:a,to:l}=i,o=e.doc.lineAt(a),u=!t&&a==l&&TK(e,a);t&&(a=l=(l<=o.to?o:e.doc.lineAt(l)).to);let h=new Pg(e,{simulateBreak:a,simulateDoubleBreak:!!u}),d=GS(h,a);for(d==null&&(d=mc(/^\s*/.exec(e.doc.lineAt(a).text)[0],e.tabSize));l<o.to&&/\s/.test(o.text[l-o.from]);)l++;u?{from:a,to:l}=u:a>o.from&&a<o.from+100&&!/\S/.test(o.text.slice(0,a))&&(a=o.from);let p=["",Sf(e,d)];return u&&p.push(Sf(e,h.lineIndent(o.from,-1))),{changes:{from:a,to:l,insert:Xe.of(p)},range:ce.cursor(a+1+p[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function ZS(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let l=r.from;l<=r.to;){let o=t.doc.lineAt(l);o.number>n&&(r.empty||r.to>o.from)&&(e(o,i,r),n=o.number),l=o.to+1}let a=t.changes(i);return{changes:i,range:ce.range(a.mapPos(r.anchor,1),a.mapPos(r.head,1))}})}const DK=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new Pg(t,{overrideIndentation:a=>{let l=n[a];return l??-1}}),i=ZS(t,(a,l,o)=>{let u=GS(r,a.from);if(u==null)return;/\S/.test(a.text)||(u=0);let h=/^\s*/.exec(a.text)[0],d=Sf(t,u);(h!=d||o.from<a.from+h.length)&&(n[a.from]=u,l.push({from:a.from,to:a.from+h.length,insert:d}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},xR=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(ZS(t,(n,r)=>{r.push({from:n.from,insert:t.facet(Dg)})}),{userEvent:"input.indent"})),!0),bR=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(ZS(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let a=mc(i,t.tabSize),l=0,o=Sf(t,Math.max(0,a-op(t)));for(;l<i.length&&l<o.length&&i.charCodeAt(l)==o.charCodeAt(l);)l++;r.push({from:n.from+l,to:n.from+i.length,insert:o.slice(l)})}),{userEvent:"delete.dedent"})),!0),PK=t=>(t.setTabFocusMode(),!0),_K=[{key:"Ctrl-b",run:Y_,shift:iR,preventDefault:!0},{key:"Ctrl-f",run:Q_,shift:aR},{key:"Ctrl-p",run:J_,shift:oR},{key:"Ctrl-n",run:eR,shift:cR},{key:"Ctrl-a",run:JW,shift:fK},{key:"Ctrl-e",run:eK,shift:hK},{key:"Ctrl-d",run:dR},{key:"Ctrl-h",run:uw},{key:"Ctrl-k",run:bK},{key:"Ctrl-Alt-h",run:pR},{key:"Ctrl-o",run:jK},{key:"Ctrl-t",run:CK},{key:"Ctrl-v",run:cw}],RK=[{key:"ArrowLeft",run:Y_,shift:iR,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:FW,shift:rK,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:XW,shift:cK,preventDefault:!0},{key:"ArrowRight",run:Q_,shift:aR,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:VW,shift:iK,preventDefault:!0},{mac:"Cmd-ArrowRight",run:ZW,shift:uK,preventDefault:!0},{key:"ArrowUp",run:J_,shift:oR,preventDefault:!0},{mac:"Cmd-ArrowUp",run:OE,shift:EE},{mac:"Ctrl-ArrowUp",run:CE,shift:NE},{key:"ArrowDown",run:eR,shift:cR,preventDefault:!0},{mac:"Cmd-ArrowDown",run:AE,shift:TE},{mac:"Ctrl-ArrowDown",run:cw,shift:kE},{key:"PageUp",run:CE,shift:NE},{key:"PageDown",run:cw,shift:kE},{key:"Home",run:QW,shift:oK,preventDefault:!0},{key:"Mod-Home",run:OE,shift:EE},{key:"End",run:YW,shift:lK,preventDefault:!0},{key:"Mod-End",run:AE,shift:TE},{key:"Enter",run:ME,shift:ME},{key:"Mod-a",run:dK},{key:"Backspace",run:uw,shift:uw,preventDefault:!0},{key:"Delete",run:dR,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:pR,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:xK,preventDefault:!0},{mac:"Mod-Backspace",run:wK,preventDefault:!0},{mac:"Mod-Delete",run:SK,preventDefault:!0}].concat(_K.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),LK=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:KW,shift:aK},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:GW,shift:sK},{key:"Alt-ArrowUp",run:NK},{key:"Shift-Alt-ArrowUp",run:OK},{key:"Alt-ArrowDown",run:kK},{key:"Shift-Alt-ArrowDown",run:AK},{key:"Mod-Alt-ArrowUp",run:gK},{key:"Mod-Alt-ArrowDown",run:yK},{key:"Escape",run:vK},{key:"Mod-Enter",run:MK},{key:"Alt-l",mac:"Ctrl-l",run:mK},{key:"Mod-i",run:pK,preventDefault:!0},{key:"Mod-[",run:bR},{key:"Mod-]",run:xR},{key:"Mod-Alt-\\",run:DK},{key:"Shift-Mod-k",run:EK},{key:"Shift-Mod-\\",run:nK},{key:"Mod-/",run:NW},{key:"Alt-A",run:OW},{key:"Ctrl-m",mac:"Shift-Alt-m",run:PK}].concat(RK),BK={key:"Tab",run:xR,shift:bR},DE=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class nc{constructor(e,n,r=0,i=e.length,a,l){this.test=l,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=a?o=>a(DE(o)):DE,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Fn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=NS(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Ci(e);let i=this.normalize(n);if(i.length)for(let a=0,l=r;;a++){let o=i.charCodeAt(a),u=this.match(o,l,this.bufferPos+this.bufferStart);if(a==i.length-1){if(u)return this.value=u,this;break}l==r&&a<n.length&&n.charCodeAt(a)==o&&l++}}}match(e,n,r){let i=null;for(let a=0;a<this.matches.length;a+=2){let l=this.matches[a],o=!1;this.query.charCodeAt(l)==e&&(l==this.query.length-1?i={from:this.matches[a+1],to:r}:(this.matches[a]++,o=!0)),o||(this.matches.splice(a,2),a-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(nc.prototype[Symbol.iterator]=function(){return this});const wR={from:-1,to:-1,match:/.*/.exec("")},JS="gm"+(/x/.unicode==null?"":"u");class SR{constructor(e,n,r,i=0,a=e.length){if(this.text=e,this.to=a,this.curLine="",this.done=!1,this.value=wR,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new jR(e,n,r,i,a);this.re=new RegExp(n,JS+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let l=e.lineAt(i);this.curLineStart=l.from,this.matchPos=hp(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=hp(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const wx=new WeakMap;class Fo{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=wx.get(e);if(!i||i.from>=r||i.to<=n){let o=new Fo(n,e.sliceString(n,r));return wx.set(e,o),o}if(i.from==n&&i.to==r)return i;let{text:a,from:l}=i;return l>n&&(a=e.sliceString(n,l)+a,l=n),i.to<r&&(a+=e.sliceString(i.to,r)),wx.set(e,new Fo(l,a)),new Fo(n,a.slice(n-l,r-l))}}class jR{constructor(e,n,r,i,a){this.text=e,this.to=a,this.done=!1,this.value=wR,this.matchPos=hp(e,i),this.re=new RegExp(n,JS+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=Fo.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=hp(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Fo.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(SR.prototype[Symbol.iterator]=jR.prototype[Symbol.iterator]=function(){return this});function zK(t){try{return new RegExp(t,JS),!0}catch{return!1}}function hp(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}const IK=t=>{let{state:e}=t,n=String(e.doc.lineAt(t.state.selection.main.head).number),{close:r,result:i}=rV(t,{label:e.phrase("Go to line"),input:{type:"text",name:"line",value:n},focus:!0,submitLabel:e.phrase("go")});return i.then(a=>{let l=a&&/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(a.elements.line.value);if(!l){t.dispatch({effects:r});return}let o=e.doc.lineAt(e.selection.main.head),[,u,h,d,p]=l,y=d?+d.slice(1):0,v=h?+h:o.number;if(h&&p){let j=v/100;u&&(j=j*(u=="-"?-1:1)+o.number/e.doc.lines),v=Math.round(e.doc.lines*j)}else h&&u&&(v=v*(u=="-"?-1:1)+o.number);let b=e.doc.line(Math.max(1,Math.min(e.doc.lines,v))),C=ce.cursor(b.from+Math.max(0,Math.min(y,b.length)));t.dispatch({effects:[r,ge.scrollIntoView(C.from,{y:"center"})],selection:C})}),!0},UK={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},HK=ve.define({combine(t){return Ui(t,UK,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function $K(t){return[KK,WK]}const qK=ke.mark({class:"cm-selectionMatch"}),FK=ke.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function PE(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=yt.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=yt.Word)}function VK(t,e,n,r){return t(e.sliceDoc(n,n+1))==yt.Word&&t(e.sliceDoc(r-1,r))==yt.Word}const WK=Pt.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(HK),{state:n}=t,r=n.selection;if(r.ranges.length>1)return ke.none;let i=r.main,a,l=null;if(i.empty){if(!e.highlightWordAroundCursor)return ke.none;let u=n.wordAt(i.head);if(!u)return ke.none;l=n.charCategorizer(i.head),a=n.sliceDoc(u.from,u.to)}else{let u=i.to-i.from;if(u<e.minSelectionLength||u>200)return ke.none;if(e.wholeWords){if(a=n.sliceDoc(i.from,i.to),l=n.charCategorizer(i.head),!(PE(l,n,i.from,i.to)&&VK(l,n,i.from,i.to)))return ke.none}else if(a=n.sliceDoc(i.from,i.to),!a)return ke.none}let o=[];for(let u of t.visibleRanges){let h=new nc(n.doc,a,u.from,u.to);for(;!h.next().done;){let{from:d,to:p}=h.value;if((!l||PE(l,n,d,p))&&(i.empty&&d<=i.from&&p>=i.to?o.push(FK.range(d,p)):(d>=i.to||p<=i.from)&&o.push(qK.range(d,p)),o.length>e.maxMatches))return ke.none}}return ke.set(o)}},{decorations:t=>t.decorations}),KK=ge.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),GK=({state:t,dispatch:e})=>{let{selection:n}=t,r=ce.create(n.ranges.map(i=>t.wordAt(i.head)||ce.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function YK(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),a=i&&i.from==n.from&&i.to==n.to;for(let l=!1,o=new nc(t.doc,e,r[r.length-1].to);;)if(o.next(),o.done){if(l)return null;o=new nc(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),l=!0}else{if(l&&r.some(u=>u.from==o.value.from))continue;if(a){let u=t.wordAt(o.value.from);if(!u||u.from!=o.value.from||u.to!=o.value.to)continue}return o.value}}const QK=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(a=>a.from===a.to))return GK({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(a=>t.sliceDoc(a.from,a.to)!=r))return!1;let i=YK(t,r);return i?(e(t.update({selection:t.selection.addRange(ce.range(i.from,i.to),!1),effects:ge.scrollIntoView(i.to)})),!0):!1},gc=ve.define({combine(t){return Ui(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new uG(e),scrollToMatch:e=>ge.scrollIntoView(e)})}});class CR{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||zK(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord,this.test=e.test}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord&&this.test==e.test}create(){return this.regexp?new nG(this):new JK(this)}getCursor(e,n=0,r){let i=e.doc?e:qe.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?Do(this,i,n,r):Mo(this,i,n,r)}}class NR{constructor(e){this.spec=e}}function XK(t,e,n){return(r,i,a,l)=>{if(n&&!n(r,i,a,l))return!1;let o=r>=l&&i<=l+a.length?a.slice(r-l,i-l):e.doc.sliceString(r,i);return t(o,e,r,i)}}function Mo(t,e,n,r){let i;return t.wholeWord&&(i=ZK(e.doc,e.charCategorizer(e.selection.main.head))),t.test&&(i=XK(t.test,e,i)),new nc(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:a=>a.toLowerCase(),i)}function ZK(t,e){return(n,r,i,a)=>((a>n||a+i.length<r)&&(a=Math.max(0,n-2),i=t.sliceString(a,Math.min(t.length,r+2))),(e(dp(i,n-a))!=yt.Word||e(mp(i,n-a))!=yt.Word)&&(e(mp(i,r-a))!=yt.Word||e(dp(i,r-a))!=yt.Word))}class JK extends NR{constructor(e){super(e)}nextMatch(e,n,r){let i=Mo(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let a=Math.min(e.doc.length,n+this.spec.unquoted.length);i=Mo(this.spec,e,0,a).nextOverlapping()}return i.done||i.value.from==n&&i.value.to==r?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let a=Math.max(n,i-1e4-this.spec.unquoted.length),l=Mo(this.spec,e,a,i),o=null;for(;!l.nextOverlapping().done;)o=l.value;if(o)return o;if(a==n)return null;i-=1e4}}prevMatch(e,n,r){let i=this.prevMatchInRange(e,0,n);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=n||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=Mo(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let a=Mo(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!a.next().done;)i(a.value.from,a.value.to)}}function eG(t,e,n){return(r,i,a)=>(!n||n(r,i,a))&&t(a[0],e,r,i)}function Do(t,e,n,r){let i;return t.wholeWord&&(i=tG(e.charCategorizer(e.selection.main.head))),t.test&&(i=eG(t.test,e,i)),new SR(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:i},n,r)}function dp(t,e){return t.slice(Jt(t,e,!1),e)}function mp(t,e){return t.slice(e,Jt(t,e))}function tG(t){return(e,n,r)=>!r[0].length||(t(dp(r.input,r.index))!=yt.Word||t(mp(r.input,r.index))!=yt.Word)&&(t(mp(r.input,r.index+r[0].length))!=yt.Word||t(dp(r.input,r.index+r[0].length))!=yt.Word)}class nG extends NR{nextMatch(e,n,r){let i=Do(this.spec,e,r,e.doc.length).next();return i.done&&(i=Do(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let a=Math.max(n,r-i*1e4),l=Do(this.spec,e,a,r),o=null;for(;!l.next().done;)o=l.value;if(o&&(a==n||o.from>a+10))return o;if(a==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let a=+r.slice(0,i);if(a>0&&a<e.match.length)return e.match[a]+r.slice(i)}return n})}matchAll(e,n){let r=Do(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let a=Do(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!a.next().done;)i(a.value.from,a.value.to)}}const jf=Pe.define(),e2=Pe.define(),vs=bn.define({create(t){return new Sx(fw(t).create(),null)},update(t,e){for(let n of e.effects)n.is(jf)?t=new Sx(n.value.create(),t.panel):n.is(e2)&&(t=new Sx(t.query,n.value?t2:null));return t},provide:t=>xf.from(t,e=>e.panel)});class Sx{constructor(e,n){this.query=e,this.panel=n}}const rG=ke.mark({class:"cm-searchMatch"}),iG=ke.mark({class:"cm-searchMatch cm-searchMatch-selected"}),aG=Pt.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(vs))}update(t){let e=t.state.field(vs);(e!=t.startState.field(vs)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return ke.none;let{view:n}=this,r=new ga;for(let i=0,a=n.visibleRanges,l=a.length;i<l;i++){let{from:o,to:u}=a[i];for(;i<l-1&&u>a[i+1].from-500;)u=a[++i].to;t.highlight(n.state,o,u,(h,d)=>{let p=n.state.selection.ranges.some(y=>y.from==h&&y.to==d);r.add(h,d,p?iG:rG)})}return r.finish()}},{decorations:t=>t.decorations});function ah(t){return e=>{let n=e.state.field(vs,!1);return n&&n.query.spec.valid?t(e,n):AR(e)}}const pp=ah((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=ce.single(r.from,r.to),a=t.state.facet(gc);return t.dispatch({selection:i,effects:[n2(t,r),a.scrollToMatch(i.main,t)],userEvent:"select.search"}),OR(t),!0}),gp=ah((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let a=ce.single(i.from,i.to),l=t.state.facet(gc);return t.dispatch({selection:a,effects:[n2(t,i),l.scrollToMatch(a.main,t)],userEvent:"select.search"}),OR(t),!0}),sG=ah((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:ce.create(n.map(r=>ce.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),lG=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,a=[],l=0;for(let o=new nc(t.doc,t.sliceDoc(r,i));!o.next().done;){if(a.length>1e3)return!1;o.value.from==r&&(l=a.length),a.push(ce.range(o.value.from,o.value.to))}return e(t.update({selection:ce.create(a,l),userEvent:"select.search.matches"})),!0},_E=ah((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let a=e.nextMatch(n,r,r);if(!a)return!1;let l=a,o=[],u,h,d=[];l.from==r&&l.to==i&&(h=n.toText(e.getReplacement(l)),o.push({from:l.from,to:l.to,insert:h}),l=e.nextMatch(n,l.from,l.to),d.push(ge.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+".")));let p=t.state.changes(o);return l&&(u=ce.single(l.from,l.to).map(p),d.push(n2(t,l)),d.push(n.facet(gc).scrollToMatch(u.main,t))),t.dispatch({changes:p,selection:u,effects:d,userEvent:"input.replace"}),!0}),oG=ah((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:a,to:l}=i;return{from:a,to:l,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:ge.announce.of(r),userEvent:"input.replace.all"}),!0});function t2(t){return t.state.facet(gc).createPanel(t)}function fw(t,e){var n,r,i,a,l;let o=t.selection.main,u=o.empty||o.to>o.from+100?"":t.sliceDoc(o.from,o.to);if(e&&!u)return e;let h=t.facet(gc);return new CR({search:((n=e?.literal)!==null&&n!==void 0?n:h.literal)?u:u.replace(/\n/g,"\\n"),caseSensitive:(r=e?.caseSensitive)!==null&&r!==void 0?r:h.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:h.literal,regexp:(a=e?.regexp)!==null&&a!==void 0?a:h.regexp,wholeWord:(l=e?.wholeWord)!==null&&l!==void 0?l:h.wholeWord})}function kR(t){let e=qS(t,t2);return e&&e.dom.querySelector("[main-field]")}function OR(t){let e=kR(t);e&&e==t.root.activeElement&&e.select()}const AR=t=>{let e=t.state.field(vs,!1);if(e&&e.panel){let n=kR(t);if(n&&n!=t.root.activeElement){let r=fw(t.state,e.query.spec);r.valid&&t.dispatch({effects:jf.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[e2.of(!0),e?jf.of(fw(t.state,e.query.spec)):Pe.appendConfig.of(hG)]});return!0},ER=t=>{let e=t.state.field(vs,!1);if(!e||!e.panel)return!1;let n=qS(t,t2);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:e2.of(!1)}),!0},cG=[{key:"Mod-f",run:AR,scope:"editor search-panel"},{key:"F3",run:pp,shift:gp,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:pp,shift:gp,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:ER,scope:"editor search-panel"},{key:"Mod-Shift-l",run:lG},{key:"Mod-Alt-g",run:IK},{key:"Mod-d",run:QK,preventDefault:!0}];class uG{constructor(e){this.view=e;let n=this.query=e.state.field(vs).query.spec;this.commit=this.commit.bind(this),this.searchField=it("input",{value:n.search,placeholder:fr(e,"Find"),"aria-label":fr(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=it("input",{value:n.replace,placeholder:fr(e,"Replace"),"aria-label":fr(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=it("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=it("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=it("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,a,l){return it("button",{class:"cm-button",name:i,onclick:a,type:"button"},l)}this.dom=it("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>pp(e),[fr(e,"next")]),r("prev",()=>gp(e),[fr(e,"previous")]),r("select",()=>sG(e),[fr(e,"all")]),it("label",null,[this.caseField,fr(e,"match case")]),it("label",null,[this.reField,fr(e,"regexp")]),it("label",null,[this.wordField,fr(e,"by word")]),...e.state.readOnly?[]:[it("br"),this.replaceField,r("replace",()=>_E(e),[fr(e,"replace")]),r("replaceAll",()=>oG(e),[fr(e,"replace all")])],it("button",{name:"close",onclick:()=>ER(e),"aria-label":fr(e,"close"),type:"button"},[""])])}commit(){let e=new CR({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:jf.of(e)}))}keydown(e){dF(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?gp:pp)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),_E(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(jf)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(gc).top}}function fr(t,e){return t.state.phrase(e)}const am=30,sm=/[\s\.,:;?!]/;function n2(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,a=Math.max(r.from,e-am),l=Math.min(i,n+am),o=t.state.sliceDoc(a,l);if(a!=r.from){for(let u=0;u<am;u++)if(!sm.test(o[u+1])&&sm.test(o[u])){o=o.slice(u);break}}if(l!=i){for(let u=o.length-1;u>o.length-am;u--)if(!sm.test(o[u-1])&&sm.test(o[u])){o=o.slice(0,u);break}}return ge.announce.of(`${t.state.phrase("current match")}. ${o} ${t.state.phrase("on line")} ${r.number}.`)}const fG=ge.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),hG=[vs,zl.low(aG),fG];class TR{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=en(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),a=i.search(DR(e,!1));return a<0?null:{from:r+a,to:this.pos,text:i.slice(a)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function RE(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function dG(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let a=1;a<i.length;a++)n[i[a]]=!0}let r=RE(e)+RE(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function MR(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:dG(e);return i=>{let a=i.matchBefore(r);return a||i.explicit?{from:a?a.from:i.pos,options:e,validFor:n}:null}}function mG(t,e){return n=>{for(let r=en(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class LE{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function wl(t){return t.selection.main.from}function DR(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",a=r[r.length-1]!="$";return!i&&!a?t:new RegExp(`${i?"^":""}(?:${r})${a?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const PR=Ii.define();function pG(t,e,n,r){let{main:i}=t.selection,a=n-i.from,l=r-i.from;return{...t.changeByRange(o=>{if(o!=i&&n!=r&&t.sliceDoc(o.from+a,o.from+l)!=t.sliceDoc(n,r))return{range:o};let u=t.toText(e);return{changes:{from:o.from+a,to:r==i.from?o.to:o.from+l,insert:u},range:ce.cursor(o.from+a+u.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const BE=new WeakMap;function gG(t){if(!Array.isArray(t))return t;let e=BE.get(t);return e||BE.set(t,e=MR(t)),e}const yp=Pe.define(),Cf=Pe.define();class yG{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=Fn(e,n),i=Ci(r);this.chars.push(r);let a=e.slice(n,n+i),l=a.toUpperCase();this.folded.push(Fn(l==a?a.toLowerCase():l,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:a,byWord:l}=this;if(n.length==1){let A=Fn(e,0),k=Ci(A),T=k==e.length?0:-100;if(A!=n[0])if(A==r[0])T+=-200;else return null;return this.ret(T,[0,k])}let o=e.indexOf(this.pattern);if(o==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let u=n.length,h=0;if(o<0){for(let A=0,k=Math.min(e.length,200);A<k&&h<u;){let T=Fn(e,A);(T==n[h]||T==r[h])&&(i[h++]=A),A+=Ci(T)}if(h<u)return null}let d=0,p=0,y=!1,v=0,b=-1,C=-1,j=/[a-z]/.test(e),N=!0;for(let A=0,k=Math.min(e.length,200),T=0;A<k&&p<u;){let D=Fn(e,A);o<0&&(d<u&&D==n[d]&&(a[d++]=A),v<u&&(D==n[v]||D==r[v]?(v==0&&(b=A),C=A+1,v++):v=0));let M,E=D<255?D>=48&&D<=57||D>=97&&D<=122?2:D>=65&&D<=90?1:0:(M=NS(D))!=M.toLowerCase()?1:M!=M.toUpperCase()?2:0;(!A||E==1&&j||T==0&&E!=0)&&(n[p]==D||r[p]==D&&(y=!0)?l[p++]=A:l.length&&(N=!1)),T=E,A+=Ci(D)}return p==u&&l[0]==0&&N?this.result(-100+(y?-200:0),l,e):v==u&&b==0?this.ret(-200-e.length+(C==e.length?0:-100),[0,C]):o>-1?this.ret(-700-e.length,[o,o+this.pattern.length]):v==u?this.ret(-900-e.length,[b,C]):p==u?this.result(-100+(y?-200:0)+-700+(N?0:-1100),l,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],a=0;for(let l of n){let o=l+(this.astral?Ci(Fn(r,l)):1);a&&i[a-1]==l?i[a-1]=o:(i[a++]=l,i[a++]=o)}return this.ret(e-r.length,i)}}class vG{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const Zt=ve.define({combine(t){return Ui(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:xG,filterStrict:!1,compareCompletions:(e,n)=>(e.sortText||e.label).localeCompare(n.sortText||n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>zE(e(r),n(r)),optionClass:(e,n)=>r=>zE(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function zE(t,e){return t?e?t+" "+e:t:e}function xG(t,e,n,r,i,a){let l=t.textDirection==ot.RTL,o=l,u=!1,h="top",d,p,y=e.left-i.left,v=i.right-e.right,b=r.right-r.left,C=r.bottom-r.top;if(o&&y<Math.min(b,v)?o=!1:!o&&v<Math.min(b,y)&&(o=!0),b<=(o?y:v))d=Math.max(i.top,Math.min(n.top,i.bottom-C))-e.top,p=Math.min(400,o?y:v);else{u=!0,p=Math.min(400,(l?e.right:i.right-e.left)-30);let A=i.bottom-e.bottom;A>=C||A>e.top?d=n.bottom-e.top:(h="bottom",d=e.bottom-n.top)}let j=(e.bottom-e.top)/a.offsetHeight,N=(e.right-e.left)/a.offsetWidth;return{style:`${h}: ${d/j}px; max-width: ${p/N}px`,class:"cm-completionInfo-"+(u?l?"left-narrow":"right-narrow":o?"left":"right")}}function bG(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,a){let l=document.createElement("span");l.className="cm-completionLabel";let o=n.displayLabel||n.label,u=0;for(let h=0;h<a.length;){let d=a[h++],p=a[h++];d>u&&l.appendChild(document.createTextNode(o.slice(u,d)));let y=l.appendChild(document.createElement("span"));y.appendChild(document.createTextNode(o.slice(d,p))),y.className="cm-completionMatchedText",u=p}return u<o.length&&l.appendChild(document.createTextNode(o.slice(u))),l},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function jx(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class wG{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:u=>this.placeInfo(u),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:a,selected:l}=i.open,o=e.state.facet(Zt);this.optionContent=bG(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=jx(a.length,l,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",u=>{let{options:h}=e.state.field(n).open;for(let d=u.target,p;d&&d!=this.dom;d=d.parentNode)if(d.nodeName=="LI"&&(p=/-(\d+)$/.exec(d.id))&&+p[1]<h.length){this.applyCompletion(e,h[+p[1]]),u.preventDefault();return}}),this.dom.addEventListener("focusout",u=>{let h=e.state.field(this.stateField,!1);h&&h.tooltip&&e.state.facet(Zt).closeOnBlur&&u.relatedTarget!=e.contentDOM&&e.dispatch({effects:Cf.of(null)})}),this.showOptions(a,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:a,selected:l,disabled:o}=r.open;(!i.open||i.open.options!=a)&&(this.range=jx(a.length,l,e.state.facet(Zt).maxRenderedOptions),this.showOptions(a,r.id)),this.updateSel(),o!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;(n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=jx(n.options.length,n.selected,this.view.state.facet(Zt).maxRenderedOptions),this.showOptions(n.options,e.id));let r=this.updateSelectedOption(n.selected);if(r){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:a}=i;if(!a)return;let l=typeof a=="string"?document.createTextNode(a):a(i);if(!l)return;"then"in l?l.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,i)}).catch(o=>Gn(this.view.state,o,"completion info")):(this.addInfoPane(l,i),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:a}=e;r.appendChild(i),this.infoDestroy=a||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return n&&jG(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),a=this.space;if(!a){let l=this.dom.ownerDocument.documentElement;a={left:0,top:0,right:l.clientWidth,bottom:l.clientHeight}}return i.top>Math.min(a.bottom,n.bottom)-10||i.bottom<Math.max(a.top,n.top)+10?null:this.view.state.facet(Zt).positionInfo(this.view,n,i,r,a,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",l=>{l.target==i&&l.preventDefault()});let a=null;for(let l=r.from;l<r.to;l++){let{completion:o,match:u}=e[l],{section:h}=o;if(h){let y=typeof h=="string"?h:h.name;if(y!=a&&(l>r.from||r.from==0))if(a=y,typeof h!="string"&&h.header)i.appendChild(h.header(h));else{let v=i.appendChild(document.createElement("completion-section"));v.textContent=y}}const d=i.appendChild(document.createElement("li"));d.id=n+"-"+l,d.setAttribute("role","option");let p=this.optionClass(o);p&&(d.className=p);for(let y of this.optionContent){let v=y(o,this.view.state,this.view,u);v&&d.appendChild(v)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function SG(t,e){return n=>new wG(n,t,e)}function jG(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function IE(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function CG(t,e){let n=[],r=null,i=null,a=d=>{n.push(d);let{section:p}=d.completion;if(p){r||(r=[]);let y=typeof p=="string"?p:p.name;r.some(v=>v.name==y)||r.push(typeof p=="string"?{name:y}:p)}},l=e.facet(Zt);for(let d of t)if(d.hasResult()){let p=d.result.getMatch;if(d.result.filter===!1)for(let y of d.result.options)a(new LE(y,d.source,p?p(y):[],1e9-n.length));else{let y=e.sliceDoc(d.from,d.to),v,b=l.filterStrict?new vG(y):new yG(y);for(let C of d.result.options)if(v=b.match(C.label)){let j=C.displayLabel?p?p(C,v.matched):[]:v.matched,N=v.score+(C.boost||0);if(a(new LE(C,d.source,j,N)),typeof C.section=="object"&&C.section.rank==="dynamic"){let{name:A}=C.section;i||(i=Object.create(null)),i[A]=Math.max(N,i[A]||-1e9)}}}}if(r){let d=Object.create(null),p=0,y=(v,b)=>(v.rank==="dynamic"&&b.rank==="dynamic"?i[b.name]-i[v.name]:0)||(typeof v.rank=="number"?v.rank:1e9)-(typeof b.rank=="number"?b.rank:1e9)||(v.name<b.name?-1:1);for(let v of r.sort(y))p-=1e5,d[v.name]=p;for(let v of n){let{section:b}=v.completion;b&&(v.score+=d[typeof b=="string"?b:b.name])}}let o=[],u=null,h=l.compareCompletions;for(let d of n.sort((p,y)=>y.score-p.score||h(p.completion,y.completion))){let p=d.completion;!u||u.label!=p.label||u.detail!=p.detail||u.type!=null&&p.type!=null&&u.type!=p.type||u.apply!=p.apply||u.boost!=p.boost?o.push(d):IE(d.completion)>IE(u)&&(o[o.length-1]=d),u=d.completion}return o}class Bo{constructor(e,n,r,i,a,l){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=a,this.disabled=l}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Bo(this.options,UE(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,a,l){if(i&&!l&&e.some(h=>h.isPending))return i.setDisabled();let o=CG(e,n);if(!o.length)return i&&e.some(h=>h.isPending)?i.setDisabled():null;let u=n.facet(Zt).selectOnOpen?0:-1;if(i&&i.selected!=u&&i.selected!=-1){let h=i.options[i.selected].completion;for(let d=0;d<o.length;d++)if(o[d].completion==h){u=d;break}}return new Bo(o,UE(r,u),{pos:e.reduce((h,d)=>d.hasResult()?Math.min(h,d.from):h,1e8),create:TG,above:a.aboveCursor},i?i.timestamp:Date.now(),u,!1)}map(e){return new Bo(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Bo(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class vp{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new vp(AG,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(Zt),a=(r.override||n.languageDataAt("autocomplete",wl(n)).map(gG)).map(u=>(this.active.find(d=>d.source==u)||new Ir(u,this.active.some(d=>d.state!=0)?1:0)).update(e,r));a.length==this.active.length&&a.every((u,h)=>u==this.active[h])&&(a=this.active);let l=this.open,o=e.effects.some(u=>u.is(r2));l&&e.docChanged&&(l=l.map(e.changes)),e.selection||a.some(u=>u.hasResult()&&e.changes.touchesRange(u.from,u.to))||!NG(a,this.active)||o?l=Bo.build(a,n,this.id,l,r,o):l&&l.disabled&&!a.some(u=>u.isPending)&&(l=null),!l&&a.every(u=>!u.isPending)&&a.some(u=>u.hasResult())&&(a=a.map(u=>u.hasResult()?new Ir(u.source,0):u));for(let u of e.effects)u.is(RR)&&(l=l&&l.setSelected(u.value,this.id));return a==this.active&&l==this.open?this:new vp(a,this.id,l)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?kG:OG}}function NG(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let i=n==t.length,a=r==e.length;if(i||a)return i==a;if(t[n++].result!=e[r++].result)return!1}}const kG={"aria-autocomplete":"list"},OG={};function UE(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const AG=[];function _R(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(PR);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class Ir{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=_R(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new Ir(i.source,0)),r&4&&i.state==0&&(i=new Ir(this.source,1)),i=i.updateFor(e,r);for(let a of e.effects)if(a.is(yp))i=new Ir(i.source,1,a.value);else if(a.is(Cf))i=new Ir(i.source,0);else if(a.is(r2))for(let l of a.value)l.source==i.source&&(i=l);return i}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(wl(e.state))}}class Vo extends Ir{constructor(e,n,r,i,a,l){super(e,3,n),this.limit=r,this.result=i,this.from=a,this.to=l}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let a=e.changes.mapPos(this.from),l=e.changes.mapPos(this.to,1),o=wl(e.state);if(o>l||!i||n&2&&(wl(e.startState)==this.from||o<this.limit))return new Ir(this.source,n&4?1:0);let u=e.changes.mapPos(this.limit);return EG(i.validFor,e.state,a,l)?new Vo(this.source,this.explicit,u,i,a,l):i.update&&(i=i.update(i,a,l,new TR(e.state,o,!1)))?new Vo(this.source,this.explicit,u,i,i.from,(r=i.to)!==null&&r!==void 0?r:wl(e.state)):new Ir(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Vo(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Ir(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function EG(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):DR(t,!0).test(i)}const r2=Pe.define({map(t,e){return t.map(n=>n.map(e))}}),RR=Pe.define(),Vn=bn.define({create(){return vp.start()},update(t,e){return t.update(e)},provide:t=>[$S.from(t,e=>e.tooltip),ge.contentAttributes.from(t,e=>e.attrs)]});function i2(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(Vn).active.find(i=>i.source==e.source);return r instanceof Vo?(typeof n=="string"?t.dispatch({...pG(t.state,n,r.from,r.to),annotations:PR.of(e.completion)}):n(t,e.completion,r.from,r.to),!0):!1}const TG=SG(Vn,i2);function lm(t,e="option"){return n=>{let r=n.state.field(Vn,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(Zt).interactionDelay)return!1;let i=1,a;e=="page"&&(a=h_(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(a.dom.offsetHeight/a.dom.querySelector("li").offsetHeight)-1));let{length:l}=r.open.options,o=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:l-1;return o<0?o=e=="page"?0:l-1:o>=l&&(o=e=="page"?l-1:0),n.dispatch({effects:RR.of(o)}),!0}}const MG=t=>{let e=t.state.field(Vn,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Zt).interactionDelay?!1:i2(t,e.open.options[e.open.selected])},Cx=t=>t.state.field(Vn,!1)?(t.dispatch({effects:yp.of(!0)}),!0):!1,DG=t=>{let e=t.state.field(Vn,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:Cf.of(null)}),!0)};class PG{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const _G=50,RG=1e3,LG=Pt.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Vn).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(Vn),n=t.state.facet(Zt);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Vn)==e)return;let r=t.transactions.some(a=>{let l=_R(a,n);return l&8||(a.selection||a.docChanged)&&!(l&3)});for(let a=0;a<this.running.length;a++){let l=this.running[a];if(r||l.context.abortOnDocChange&&t.docChanged||l.updates.length+t.transactions.length>_G&&Date.now()-l.time>RG){for(let o of l.context.abortListeners)try{o()}catch(u){Gn(this.view.state,u)}l.context.abortListeners=null,this.running.splice(a--,1)}else l.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(a=>a.effects.some(l=>l.is(yp)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(a=>a.isPending&&!this.running.some(l=>l.active.source==a.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let a of t.transactions)a.isUserEvent("input.type")?this.composing=2:this.composing==2&&a.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Vn);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Zt).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=wl(e),r=new TR(e,n,t.explicit,this.view),i=new PG(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(a=>{i.context.aborted||(i.done=a||null,this.scheduleAccept())},a=>{this.view.dispatch({effects:Cf.of(null)}),Gn(this.view.state,a)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Zt).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(Zt),r=this.view.state.field(Vn);for(let i=0;i<this.running.length;i++){let a=this.running[i];if(a.done===void 0)continue;if(this.running.splice(i--,1),a.done){let o=wl(a.updates.length?a.updates[0].startState:this.view.state),u=Math.min(o,a.done.from+(a.active.explicit?0:1)),h=new Vo(a.active.source,a.active.explicit,u,a.done,a.done.from,(t=a.done.to)!==null&&t!==void 0?t:o);for(let d of a.updates)h=h.update(d,n);if(h.hasResult()){e.push(h);continue}}let l=r.active.find(o=>o.source==a.active.source);if(l&&l.isPending)if(a.done==null){let o=new Ir(a.active.source,0);for(let u of a.updates)o=o.update(u,n);o.isPending||e.push(o)}else this.startQuery(l)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:r2.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Vn,!1);if(e&&e.tooltip&&this.view.state.facet(Zt).closeOnBlur){let n=e.open&&h_(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Cf.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:yp.of(!1)}),20),this.composing=0}}}),BG=typeof navigator=="object"&&/Win/.test(navigator.platform),zG=zl.highest(ge.domEventHandlers({keydown(t,e){let n=e.state.field(Vn,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(BG&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(l=>l.source==r.source),a=r.completion.commitCharacters||i.result.commitCharacters;return a&&a.indexOf(t.key)>-1&&i2(e,r),!1}})),IG=ge.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Nf={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},ml=Pe.define({map(t,e){let n=e.mapPos(t,-1,Tn.TrackAfter);return n??void 0}}),a2=new class extends ws{};a2.startSide=1;a2.endSide=-1;const LR=bn.define({create(){return Ie.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(ml)&&(t=t.update({add:[a2.range(n.value,n.value+1)]}));return t}});function UG(){return[$G,LR]}const Nx="()[]{}<>";function BR(t){for(let e=0;e<Nx.length;e+=2)if(Nx.charCodeAt(e)==t)return Nx.charAt(e+1);return NS(t<128?t:t+1)}function zR(t,e){return t.languageDataAt("closeBrackets",e)[0]||Nf}const HG=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),$G=ge.inputHandler.of((t,e,n,r)=>{if((HG?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&Ci(Fn(r,0))==1||e!=i.from||n!=i.to)return!1;let a=VG(t.state,r);return a?(t.dispatch(a),!0):!1}),qG=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=zR(t,t.selection.main.head).brackets||Nf.brackets,i=null,a=t.changeByRange(l=>{if(l.empty){let o=WG(t.doc,l.head);for(let u of r)if(u==o&&Ig(t.doc,l.head)==BR(Fn(u,0)))return{changes:{from:l.head-u.length,to:l.head+u.length},range:ce.cursor(l.head-u.length)}}return{range:i=l}});return i||e(t.update(a,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},FG=[{key:"Backspace",run:qG}];function VG(t,e){let n=zR(t,t.selection.main.head),r=n.brackets||Nf.brackets;for(let i of r){let a=BR(Fn(i,0));if(e==i)return a==i?YG(t,i,r.indexOf(i+i+i)>-1,n):KG(t,i,a,n.before||Nf.before);if(e==a&&IR(t,t.selection.main.from))return GG(t,i,a)}return null}function IR(t,e){let n=!1;return t.field(LR).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function Ig(t,e){let n=t.sliceString(e,e+2);return n.slice(0,Ci(Fn(n,0)))}function WG(t,e){let n=t.sliceString(e-2,e);return Ci(Fn(n,0))==n.length?n:n.slice(1)}function KG(t,e,n,r){let i=null,a=t.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:n,from:l.to}],effects:ml.of(l.to+e.length),range:ce.range(l.anchor+e.length,l.head+e.length)};let o=Ig(t.doc,l.head);return!o||/\s/.test(o)||r.indexOf(o)>-1?{changes:{insert:e+n,from:l.head},effects:ml.of(l.head+e.length),range:ce.cursor(l.head+e.length)}:{range:i=l}});return i?null:t.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function GG(t,e,n){let r=null,i=t.changeByRange(a=>a.empty&&Ig(t.doc,a.head)==n?{changes:{from:a.head,to:a.head+n.length,insert:n},range:ce.cursor(a.head+n.length)}:r={range:a});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function YG(t,e,n,r){let i=r.stringPrefixes||Nf.stringPrefixes,a=null,l=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:e,from:o.to}],effects:ml.of(o.to+e.length),range:ce.range(o.anchor+e.length,o.head+e.length)};let u=o.head,h=Ig(t.doc,u),d;if(h==e){if(HE(t,u))return{changes:{insert:e+e,from:u},effects:ml.of(u+e.length),range:ce.cursor(u+e.length)};if(IR(t,u)){let y=n&&t.sliceDoc(u,u+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:u,to:u+y.length,insert:y},range:ce.cursor(u+y.length)}}}else{if(n&&t.sliceDoc(u-2*e.length,u)==e+e&&(d=$E(t,u-2*e.length,i))>-1&&HE(t,d))return{changes:{insert:e+e+e+e,from:u},effects:ml.of(u+e.length),range:ce.cursor(u+e.length)};if(t.charCategorizer(u)(h)!=yt.Word&&$E(t,u,i)>-1&&!QG(t,u,e,i))return{changes:{insert:e+e,from:u},effects:ml.of(u+e.length),range:ce.cursor(u+e.length)}}return{range:a=o}});return a?null:t.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function HE(t,e){let n=en(t).resolveInner(e+1);return n.parent&&n.from==e}function QG(t,e,n,r){let i=en(t).resolveInner(e,-1),a=r.reduce((l,o)=>Math.max(l,o.length),0);for(let l=0;l<5;l++){let o=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+a)),u=o.indexOf(n);if(!u||u>-1&&r.indexOf(o.slice(0,u))>-1){let d=i.firstChild;for(;d&&d.from==i.from&&d.to-d.from>n.length+u;){if(t.sliceDoc(d.to-n.length,d.to)==n)return!1;d=d.firstChild}return!0}let h=i.to==e&&i.parent;if(!h)break;i=h}return!1}function $E(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=yt.Word)return e;for(let i of n){let a=e-i.length;if(t.sliceDoc(a,e)==i&&r(t.sliceDoc(a-1,a))!=yt.Word)return a}return-1}function XG(t={}){return[zG,Vn,Zt.of(t),LG,ZG,IG]}const UR=[{key:"Ctrl-Space",run:Cx},{mac:"Alt-`",run:Cx},{mac:"Alt-i",run:Cx},{key:"Escape",run:DG},{key:"ArrowDown",run:lm(!0)},{key:"ArrowUp",run:lm(!1)},{key:"PageDown",run:lm(!0,"page")},{key:"PageUp",run:lm(!1,"page")},{key:"Enter",run:MG}],ZG=zl.highest(Tg.computeN([Zt],t=>t.facet(Zt).defaultKeymap?[UR]:[]));class qE{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class fl{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=r.facet(kf).markerFilter;i&&(e=i(e,r));let a=e.slice().sort((v,b)=>v.from-b.from||v.to-b.to),l=new ga,o=[],u=0,h=r.doc.iter(),d=0,p=r.doc.length;for(let v=0;;){let b=v==a.length?null:a[v];if(!b&&!o.length)break;let C,j;if(o.length)C=u,j=o.reduce((k,T)=>Math.min(k,T.to),b&&b.from>C?b.from:1e8);else{if(C=b.from,C>p)break;j=b.to,o.push(b),v++}for(;v<a.length;){let k=a[v];if(k.from==C&&(k.to>k.from||k.to==C))o.push(k),v++,j=Math.min(k.to,j);else{j=Math.min(k.from,j);break}}j=Math.min(j,p);let N=!1;if(o.some(k=>k.from==C&&(k.to==j||j==p))&&(N=C==j,!N&&j-C<10)){let k=C-(d+h.value.length);k>0&&(h.next(k),d=C);for(let T=C;;){if(T>=j){N=!0;break}if(!h.lineBreak&&d+h.value.length>T)break;T=d+h.value.length,d+=h.value.length,h.next()}}let A=fY(o);if(N)l.add(C,C,ke.widget({widget:new lY(A),diagnostics:o.slice()}));else{let k=o.reduce((T,D)=>D.markClass?T+" "+D.markClass:T,"");l.add(C,j,ke.mark({class:"cm-lintRange cm-lintRange-"+A+k,diagnostics:o.slice(),inclusiveEnd:o.some(T=>T.to>j)}))}if(u=j,u==p)break;for(let k=0;k<o.length;k++)o[k].to<=u&&o.splice(k--,1)}let y=l.finish();return new fl(y,n,Os(y))}}function Os(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,a,{spec:l})=>{if(!(e&&l.diagnostics.indexOf(e)<0))if(!r)r=new qE(i,a,e||l.diagnostics[0]);else{if(l.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new qE(r.from,a,r.diagnostic)}}),r}function JG(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(kf).hideOn(t,n,r);if(i!=null)return i;let a=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(l=>l.is(HR))||t.changes.touchesRange(a.from,Math.max(a.to,r)))}function eY(t,e){return t.field(gr,!1)?e:e.concat(Pe.appendConfig.of(hY))}const HR=Pe.define(),s2=Pe.define(),$R=Pe.define(),gr=bn.define({create(){return new fl(ke.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let a=e.changes.mapPos(t.selected.from,1);r=Os(n,t.selected.diagnostic,a)||Os(n,null,a)}!n.size&&i&&e.state.facet(kf).autoPanel&&(i=null),t=new fl(n,i,r)}for(let n of e.effects)if(n.is(HR)){let r=e.state.facet(kf).autoPanel?n.value.length?Of.open:null:t.panel;t=fl.init(n.value,r,e.state)}else n.is(s2)?t=new fl(t.diagnostics,n.value?Of.open:null,t.selected):n.is($R)&&(t=new fl(t.diagnostics,t.panel,n.value));return t},provide:t=>[xf.from(t,e=>e.panel),ge.decorations.from(t,e=>e.diagnostics)]}),tY=ke.mark({class:"cm-lintRange cm-lintRange-active"});function nY(t,e,n){let{diagnostics:r}=t.state.field(gr),i,a=-1,l=-1;r.between(e-(n<0?1:0),e+(n>0?1:0),(u,h,{spec:d})=>{if(e>=u&&e<=h&&(u==h||(e>u||n>0)&&(e<h||n<0)))return i=d.diagnostics,a=u,l=h,!1});let o=t.state.facet(kf).tooltipFilter;return i&&o&&(i=o(i,t.state)),i?{pos:a,end:l,above:t.state.doc.lineAt(a).to<l,create(){return{dom:rY(t,i)}}}:null}function rY(t,e){return it("ul",{class:"cm-tooltip-lint"},e.map(n=>FR(t,n,!1)))}const iY=t=>{let e=t.state.field(gr,!1);(!e||!e.panel)&&t.dispatch({effects:eY(t.state,[s2.of(!0)])});let n=qS(t,Of.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},FE=t=>{let e=t.state.field(gr,!1);return!e||!e.panel?!1:(t.dispatch({effects:s2.of(!1)}),!0)},aY=t=>{let e=t.state.field(gr,!1);if(!e)return!1;let n=t.state.selection.main,r=Os(e.diagnostics,null,n.to+1);return!r&&(r=Os(e.diagnostics,null,0),!r||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},sY=[{key:"Mod-Shift-m",run:iY,preventDefault:!0},{key:"F8",run:aY}],kf=ve.define({combine(t){return{sources:t.map(e=>e.source).filter(e=>e!=null),...Ui(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:VE,tooltipFilter:VE,needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n,hideOn:(e,n)=>e?n?(r,i,a)=>e(r,i,a)||n(r,i,a):e:n,autoPanel:(e,n)=>e||n})}}});function VE(t,e){return t?e?(n,r)=>e(t(n,r),r):t:e}function qR(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(a=>a.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function FR(t,e,n){var r;let i=n?qR(e.actions):[];return it("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},it("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((a,l)=>{let o=!1,u=v=>{if(v.preventDefault(),o)return;o=!0;let b=Os(t.state.field(gr).diagnostics,e);b&&a.apply(t,b.from,b.to)},{name:h}=a,d=i[l]?h.indexOf(i[l]):-1,p=d<0?h:[h.slice(0,d),it("u",h.slice(d,d+1)),h.slice(d+1)],y=a.markClass?" "+a.markClass:"";return it("button",{type:"button",class:"cm-diagnosticAction"+y,onclick:u,onmousedown:u,"aria-label":` Action: ${h}${d<0?"":` (access key "${i[l]})"`}.`},p)}),e.source&&it("div",{class:"cm-diagnosticSource"},e.source))}class lY extends Hi{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return it("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class WE{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=FR(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Of{constructor(e){this.view=e,this.items=[];let n=i=>{if(!(i.ctrlKey||i.altKey||i.metaKey)){if(i.keyCode==27)FE(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:a}=this.items[this.selectedIndex],l=qR(a.actions);for(let o=0;o<l.length;o++)if(l[o].toUpperCase().charCodeAt(0)==i.keyCode){let u=Os(this.view.state.field(gr).diagnostics,a);u&&a.actions[o].apply(e,u.from,u.to)}}else return;i.preventDefault()}},r=i=>{for(let a=0;a<this.items.length;a++)this.items[a].dom.contains(i.target)&&this.moveSelection(a)};this.list=it("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=it("div",{class:"cm-panel-lint"},this.list,it("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>FE(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(gr).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(gr),r=0,i=!1,a=null,l=new Set;for(e.between(0,this.view.state.doc.length,(o,u,{spec:h})=>{for(let d of h.diagnostics){if(l.has(d))continue;l.add(d);let p=-1,y;for(let v=r;v<this.items.length;v++)if(this.items[v].diagnostic==d){p=v;break}p<0?(y=new WE(this.view,d),this.items.splice(r,0,y),i=!0):(y=this.items[p],p>r&&(this.items.splice(r,p-r),i=!0)),n&&y.diagnostic==n.diagnostic?y.dom.hasAttribute("aria-selected")||(y.dom.setAttribute("aria-selected","true"),a=y):y.dom.hasAttribute("aria-selected")&&y.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new WE(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:()=>({sel:a.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:u})=>{let h=u.height/this.list.offsetHeight;o.top<u.top?this.list.scrollTop-=(u.top-o.top)/h:o.bottom>u.bottom&&(this.list.scrollTop+=(o.bottom-u.bottom)/h)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(gr),r=Os(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:$R.of(r)})}static open(e){return new Of(e)}}function oY(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function om(t){return oY(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const cY=ge.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:om("#d11")},".cm-lintRange-warning":{backgroundImage:om("orange")},".cm-lintRange-info":{backgroundImage:om("#999")},".cm-lintRange-hint":{backgroundImage:om("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function uY(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function fY(t){let e="hint",n=1;for(let r of t){let i=uY(r.severity);i>n&&(n=i,e=r.severity)}return e}const hY=[gr,ge.decorations.compute([gr],t=>{let{selected:e,panel:n}=t.field(gr);return!e||!n||e.from==e.to?ke.none:ke.set([tY.range(e.from,e.to)])}),tV(nY,{hideOn:JG}),cY];var KE=function(e){e===void 0&&(e={});var{crosshairCursor:n=!1}=e,r=[];e.closeBracketsKeymap!==!1&&(r=r.concat(FG)),e.defaultKeymap!==!1&&(r=r.concat(LK)),e.searchKeymap!==!1&&(r=r.concat(cG)),e.historyKeymap!==!1&&(r=r.concat(qW)),e.foldKeymap!==!1&&(r=r.concat(rW)),e.completionKeymap!==!1&&(r=r.concat(UR)),e.lintKeymap!==!1&&(r=r.concat(sY));var i=[];return e.lineNumbers!==!1&&i.push(mV()),e.highlightActiveLineGutter!==!1&&i.push(yV()),e.highlightSpecialChars!==!1&&i.push(TF()),e.history!==!1&&i.push(_W()),e.foldGutter!==!1&&i.push(lW()),e.drawSelection!==!1&&i.push(xF()),e.dropCursor!==!1&&i.push(CF()),e.allowMultipleSelections!==!1&&i.push(qe.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(GV()),e.syntaxHighlighting!==!1&&i.push(z_(fW,{fallback:!0})),e.bracketMatching!==!1&&i.push(vW()),e.closeBrackets!==!1&&i.push(UG()),e.autocompletion!==!1&&i.push(XG()),e.rectangularSelection!==!1&&i.push(FF()),n!==!1&&i.push(KF()),e.highlightActiveLine!==!1&&i.push(LF()),e.highlightSelectionMatches!==!1&&i.push($K()),e.tabSize&&typeof e.tabSize=="number"&&i.push(Dg.of(" ".repeat(e.tabSize))),i.concat([Tg.of(r.flat())]).filter(Boolean)};const dY="#e5c07b",GE="#e06c75",mY="#56b6c2",pY="#ffffff",Lm="#abb2bf",hw="#7d8799",gY="#61afef",yY="#98c379",YE="#d19a66",vY="#c678dd",xY="#21252b",QE="#2c313a",XE="#282c34",kx="#353a42",bY="#3E4451",ZE="#528bff",wY=ge.theme({"&":{color:Lm,backgroundColor:XE},".cm-content":{caretColor:ZE},".cm-cursor, .cm-dropCursor":{borderLeftColor:ZE},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:bY},".cm-panels":{backgroundColor:xY,color:Lm},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:XE,color:hw,border:"none"},".cm-activeLineGutter":{backgroundColor:QE},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:kx},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:kx,borderBottomColor:kx},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:QE,color:Lm}}},{dark:!0}),SY=rh.define([{tag:te.keyword,color:vY},{tag:[te.name,te.deleted,te.character,te.propertyName,te.macroName],color:GE},{tag:[te.function(te.variableName),te.labelName],color:gY},{tag:[te.color,te.constant(te.name),te.standard(te.name)],color:YE},{tag:[te.definition(te.name),te.separator],color:Lm},{tag:[te.typeName,te.className,te.number,te.changed,te.annotation,te.modifier,te.self,te.namespace],color:dY},{tag:[te.operator,te.operatorKeyword,te.url,te.escape,te.regexp,te.link,te.special(te.string)],color:mY},{tag:[te.meta,te.comment],color:hw},{tag:te.strong,fontWeight:"bold"},{tag:te.emphasis,fontStyle:"italic"},{tag:te.strikethrough,textDecoration:"line-through"},{tag:te.link,color:hw,textDecoration:"underline"},{tag:te.heading,fontWeight:"bold",color:GE},{tag:[te.atom,te.bool,te.special(te.variableName)],color:YE},{tag:[te.processingInstruction,te.string,te.inserted],color:yY},{tag:te.invalid,color:pY}]),jY=[wY,z_(SY)];var CY=ge.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),NY=function(e){e===void 0&&(e={});var{indentWithTab:n=!0,editable:r=!0,readOnly:i=!1,theme:a="light",placeholder:l="",basicSetup:o=!0}=e,u=[];switch(n&&u.unshift(Tg.of([BK])),o&&(typeof o=="boolean"?u.unshift(KE()):u.unshift(KE(o))),l&&u.unshift(UF(l)),a){case"light":u.push(CY);break;case"dark":u.push(jY);break;case"none":break;default:u.push(a);break}return r===!1&&u.push(ge.editable.of(!1)),i&&u.push(qe.readOnly.of(!0)),[...u]},kY=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)});class OY{constructor(e,n){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=n,this.timeoutMS=n,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(n=>{try{n()}catch(r){console.error("TimeoutLatch callback error:",r)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class JE{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var Ox=null,AY=()=>typeof window>"u"?new JE:(Ox||(Ox=new JE),Ox),eT=Ii.define(),EY=200,TY=[];function MY(t){var{value:e,selection:n,onChange:r,onStatistics:i,onCreateEditor:a,onUpdate:l,extensions:o=TY,autoFocus:u,theme:h="light",height:d=null,minHeight:p=null,maxHeight:y=null,width:v=null,minWidth:b=null,maxWidth:C=null,placeholder:j="",editable:N=!0,readOnly:A=!1,indentWithTab:k=!0,basicSetup:T=!0,root:D,initialState:M}=t,[E,_]=w.useState(),[L,I]=w.useState(),[B,z]=w.useState(),$=w.useState(()=>({current:null}))[0],ee=w.useState(()=>({current:null}))[0],F=ge.theme({"&":{height:d,minHeight:p,maxHeight:y,width:v,minWidth:b,maxWidth:C},"& .cm-scroller":{height:"100% !important"}}),H=ge.updateListener.of(se=>{if(se.docChanged&&typeof r=="function"&&!se.transactions.some(W=>W.annotation(eT))){$.current?$.current.reset():($.current=new OY(()=>{if(ee.current){var W=ee.current;ee.current=null,W()}$.current=null},EY),AY().add($.current));var he=se.state.doc,R=he.toString();r(R,se)}i&&i(kY(se))}),V=NY({theme:h,editable:N,readOnly:A,placeholder:j,indentWithTab:k,basicSetup:T}),Q=[H,F,...V];return l&&typeof l=="function"&&Q.push(ge.updateListener.of(l)),Q=Q.concat(o),w.useLayoutEffect(()=>{if(E&&!B){var se={doc:e,selection:n,extensions:Q},he=M?qe.fromJSON(M.json,se,M.fields):qe.create(se);if(z(he),!L){var R=new ge({state:he,parent:E,root:D});I(R),a&&a(R,he)}}return()=>{L&&(z(void 0),I(void 0))}},[E,B]),w.useEffect(()=>{t.container&&_(t.container)},[t.container]),w.useEffect(()=>()=>{L&&(L.destroy(),I(void 0)),$.current&&($.current.cancel(),$.current=null)},[L]),w.useEffect(()=>{u&&L&&L.focus()},[u,L]),w.useEffect(()=>{L&&L.dispatch({effects:Pe.reconfigure.of(Q)})},[h,o,d,p,y,v,b,C,j,N,A,k,T,r,l]),w.useEffect(()=>{if(e!==void 0){var se=L?L.state.doc.toString():"";if(L&&e!==se){var he=$.current&&!$.current.isDone,R=()=>{L&&e!==L.state.doc.toString()&&L.dispatch({changes:{from:0,to:L.state.doc.toString().length,insert:e||""},annotations:[eT.of(!0)]})};he?ee.current=R:R()}}},[e,L]),{state:B,setState:z,view:L,setView:I,container:E,setContainer:_}}var DY=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],l2=w.forwardRef((t,e)=>{var{className:n,value:r="",selection:i,extensions:a=[],onChange:l,onStatistics:o,onCreateEditor:u,onUpdate:h,autoFocus:d,theme:p="light",height:y,minHeight:v,maxHeight:b,width:C,minWidth:j,maxWidth:N,basicSetup:A,placeholder:k,indentWithTab:T,editable:D,readOnly:M,root:E,initialState:_}=t,L=a$(t,DY),I=w.useRef(null),{state:B,view:z,container:$,setContainer:ee}=MY({root:E,value:r,autoFocus:d,theme:p,height:y,minHeight:v,maxHeight:b,width:C,minWidth:j,maxWidth:N,basicSetup:A,placeholder:k,indentWithTab:T,editable:D,readOnly:M,selection:i,onChange:l,onStatistics:o,onCreateEditor:u,onUpdate:h,extensions:a,initialState:_});w.useImperativeHandle(e,()=>({editor:I.current,state:B,view:z}),[I,$,B,z]);var F=w.useCallback(V=>{I.current=V,ee(V)},[ee]);if(typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var H=typeof p=="string"?"cm-theme-"+p:"cm-theme";return m.jsx("div",x1({ref:F,className:""+H+(n?" "+n:"")},L))});l2.displayName="CodeMirror";var tT={};class xp{constructor(e,n,r,i,a,l,o,u,h,d=0,p){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=a,this.score=l,this.buffer=o,this.bufferBase=u,this.curContext=h,this.lookAhead=d,this.parent=p}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new xp(e,[],n,r,r,0,[],0,i?new nT(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:a}=this.p,l=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),o=a.dynamicPrecedence(i);if(o&&(this.score+=o),r==0){this.pushState(a.getGoto(this.state,i,!0),this.reducePos),i<a.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,l?8:4,!0),this.reduceContext(i,this.reducePos);return}let u=this.stack.length-(r-1)*3-(e&262144?6:0),h=u?this.stack[u-2]:this.p.ranges[0].from,d=this.reducePos-h;d>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(h==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=d):this.p.lastBigReductionSize<d&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=h,this.p.lastBigReductionSize=d));let p=u?this.stack[u-1]:0,y=this.bufferBase+this.buffer.length-p;if(i<a.minRepeatTerm||e&131072){let v=a.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,h,v,y+4,!0)}if(e&262144)this.state=this.stack[u];else{let v=this.stack[u-3];this.state=a.getGoto(v,i,!0)}for(;this.stack.length>u;)this.stack.pop();this.reduceContext(i,h)}storeNode(e,n,r,i=4,a=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let l=this,o=this.buffer.length;if(o==0&&l.parent&&(o=l.bufferBase-l.parent.bufferBase,l=l.parent),o>0&&l.buffer[o-4]==0&&l.buffer[o-1]>-1){if(n==r)return;if(l.buffer[o-2]>=n){l.buffer[o-2]=r;return}}}if(!a||this.pos==r)this.buffer.push(e,n,r,i);else{let l=this.buffer.length;if(l>0&&(this.buffer[l-4]!=0||this.buffer[l-1]<0)){let o=!1;for(let u=l;u>0&&this.buffer[u-2]>r;u-=4)if(this.buffer[u-1]>=0){o=!0;break}if(o)for(;l>0&&this.buffer[l-2]>r;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,i>4&&(i-=4)}this.buffer[l]=e,this.buffer[l+1]=n,this.buffer[l+2]=r,this.buffer[l+3]=i}}shift(e,n,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let a=e,{parser:l}=this.p;this.pos=i;let o=l.stateFlag(a,1);!o&&(i>r||n<=l.maxNode)&&(this.reducePos=i),this.pushState(a,o?r:Math.min(r,this.reducePos)),this.shiftContext(n,r),n<=l.maxNode&&this.buffer.push(n,r,i,4)}else this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4)}apply(e,n,r,i){e&65536?this.reduce(e):this.shift(e,n,r,i)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new xp(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new PY(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if((r&65536)==0)return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let a=0,l;a<n.length;a+=2)(l=n[a+1])!=this.state&&this.p.parser.hasAction(l,e)&&i.push(n[a],l);if(this.stack.length<120)for(let a=0;i.length<8&&a<n.length;a+=2){let l=n[a+1];i.some((o,u)=>u&1&&o==l)||i.push(n[a],l)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let a=n[i+1];if(a==this.state)continue;let l=this.split();l.pushState(a,this.pos),l.storeNode(0,l.pos,l.pos,4,!0),l.shiftContext(n[i],this.pos),l.reducePos=this.pos,l.score-=200,r.push(l)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if((n&65536)==0)return!1;if(!e.validAction(this.state,n)){let r=n>>19,i=n&65535,a=this.stack.length-r*3;if(a<0||e.getGoto(this.stack[a],i,!1)<0){let l=this.findForcedReduction();if(l==null)return!1;n=l}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(i,a)=>{if(!n.includes(i))return n.push(i),e.allActions(i,l=>{if(!(l&393216))if(l&65536){let o=(l>>19)-a;if(o>1){let u=l&65535,h=this.stack.length-o*3;if(h>=0&&e.getGoto(this.stack[h],u,!1)>=0)return o<<19|65536|u}}else{let o=r(l,a+1);if(o!=null)return o}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new nT(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class nT{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class PY{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class bp{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new bp(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new bp(this.stack,this.pos,this.index)}}function cm(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let a=0;for(;;){let l=t.charCodeAt(r++),o=!1;if(l==126){a=65535;break}l>=92&&l--,l>=34&&l--;let u=l-32;if(u>=46&&(u-=46,o=!0),a+=u,o)break;a*=46}n?n[i++]=a:n=new e(a)}return n}class Bm{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const rT=new Bm;class _Y{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=rT,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,a=this.pos+e;for(;a<r.from;){if(!i)return null;let l=this.ranges[--i];a-=r.from-l.to,r=l}for(;n<0?a>r.to:a>=r.to;){if(i==this.ranges.length-1)return null;let l=this.ranges[++i];a+=l.from-r.to,r=l}return a}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let a=this.resolveOffset(e,1);if(a==null)return-1;if(r=a,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let l=this.rangeIndex,o=this.range;for(;o.to<=r;)o=this.ranges[++l];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=rT,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class Wo{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;LY(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}Wo.prototype.contextual=Wo.prototype.fallback=Wo.prototype.extend=!1;Wo.prototype.fallback=Wo.prototype.extend=!1;class RY{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function LY(t,e,n,r,i,a){let l=0,o=1<<r,{dialect:u}=n.p.parser;e:for(;(o&t[l])!=0;){let h=t[l+1];for(let v=l+3;v<h;v+=2)if((t[v+1]&o)>0){let b=t[v];if(u.allows(b)&&(e.token.value==-1||e.token.value==b||BY(b,e.token.value,i,a))){e.acceptToken(b);break}}let d=e.next,p=0,y=t[l+2];if(e.next<0&&y>p&&t[h+y*3-3]==65535){l=t[h+y*3-1];continue e}for(;p<y;){let v=p+y>>1,b=h+v+(v<<1),C=t[b],j=t[b+1]||65536;if(d<C)y=v;else if(d>=j)p=v+1;else{l=t[b+2],e.advance();continue e}}break}}function iT(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function BY(t,e,n,r){let i=iT(n,r,e);return i<0||iT(n,r,t)<i}const hr=typeof process<"u"&&tT&&/\bparse\b/.test(tT.LOG);let Ax=null;function aT(t,e,n){let r=t.cursor(Ot.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class zY{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?aT(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?aT(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let a=r.children[i],l=this.start[n]+r.positions[i];if(l>e)return this.nextStart=l,null;if(a instanceof Dt){if(l==e){if(l<this.safeFrom)return null;let o=l+a.length;if(o<=this.safeTo){let u=a.prop(Le.lookAhead);if(!u||o+u<this.fragment.to)return a}}this.index[n]++,l+a.length>=Math.max(this.safeFrom,e)&&(this.trees.push(a),this.start.push(l),this.index.push(0))}else this.index[n]++,this.nextStart=l+a.length}}}class IY{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new Bm)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:a}=i,l=i.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,u=0;for(let h=0;h<a.length;h++){if((1<<h&l)==0)continue;let d=a[h],p=this.tokens[h];if(!(r&&!d.fallback)&&((d.contextual||p.start!=e.pos||p.mask!=l||p.context!=o)&&(this.updateCachedToken(p,d,e),p.mask=l,p.context=o),p.lookAhead>p.end+25&&(u=Math.max(p.lookAhead,u)),p.value!=0)){let y=n;if(p.extended>-1&&(n=this.addActions(e,p.extended,p.end,n)),n=this.addActions(e,p.value,p.end,n),!d.extend&&(r=p,n>y))break}}for(;this.actions.length>n;)this.actions.pop();return u&&e.setLookAhead(u),!r&&e.pos==this.stream.end&&(r=new Bm,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new Bm,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:a}=r.p;for(let l=0;l<a.specialized.length;l++)if(a.specialized[l]==e.value){let o=a.specializers[l](this.stream.read(e.start,e.end),r);if(o>=0&&r.p.parser.dialect.allows(o>>1)){(o&1)==0?e.value=o>>1:e.extended=o>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let a=0;a<i;a+=3)if(this.actions[a]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:a}=e,{parser:l}=e.p,{data:o}=l;for(let u=0;u<2;u++)for(let h=l.stateSlot(a,u?2:1);;h+=3){if(o[h]==65535)if(o[h+1]==1)h=la(o,h+2);else{i==0&&o[h+1]==2&&(i=this.putAction(la(o,h+2),n,r,i));break}o[h]==n&&(i=this.putAction(la(o,h+1),n,r,i))}return i}}class UY{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new _Y(n,i),this.tokens=new IY(e,this.stream),this.topTerm=e.top[1];let{from:a}=i[0];this.stacks=[xp.start(this,e.top[0],a)],this.fragments=r.length&&this.stream.end-a>e.bufferLength*4?new zY(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,a;if(this.bigReductionCount>300&&e.length==1){let[l]=e;for(;l.forceReduce()&&l.stack.length&&l.stack[l.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let l=0;l<e.length;l++){let o=e[l];for(;;){if(this.tokens.mainToken=null,o.pos>n)r.push(o);else{if(this.advanceStack(o,r,e))continue;{i||(i=[],a=[]),i.push(o);let u=this.tokens.getMainToken(o);a.push(u.value,u.end)}}break}}if(!r.length){let l=i&&$Y(i);if(l)return hr&&console.log("Finish with "+this.stackID(l)),this.stackToTree(l);if(this.parser.strict)throw hr&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let l=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,a,r);if(l)return hr&&console.log("Force-finish "+this.stackID(l)),this.stackToTree(l.forceAll())}if(this.recovering){let l=this.recovering==1?1:this.recovering*3;if(r.length>l)for(r.sort((o,u)=>u.score-o.score);r.length>l;)r.pop();r.some(o=>o.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let l=0;l<r.length-1;l++){let o=r[l];for(let u=l+1;u<r.length;u++){let h=r[u];if(o.sameState(h)||o.buffer.length>500&&h.buffer.length>500)if((o.score-h.score||o.buffer.length-h.buffer.length)>0)r.splice(u--,1);else{r.splice(l--,1);continue e}}}r.length>12&&(r.sort((l,o)=>o.score-l.score),r.splice(12,r.length-12))}this.minStackPos=r[0].pos;for(let l=1;l<r.length;l++)r[l].pos<this.minStackPos&&(this.minStackPos=r[l].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:a}=this,l=hr?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let h=e.curContext&&e.curContext.tracker.strict,d=h?e.curContext.hash:0;for(let p=this.fragments.nodeAt(i);p;){let y=this.parser.nodeSet.types[p.type.id]==p.type?a.getGoto(e.state,p.type.id):-1;if(y>-1&&p.length&&(!h||(p.prop(Le.contextHash)||0)==d))return e.useNode(p,y),hr&&console.log(l+this.stackID(e)+` (via reuse of ${a.getName(p.type.id)})`),!0;if(!(p instanceof Dt)||p.children.length==0||p.positions[0]>0)break;let v=p.children[0];if(v instanceof Dt&&p.positions[0]==0)p=v;else break}}let o=a.stateSlot(e.state,4);if(o>0)return e.reduce(o),hr&&console.log(l+this.stackID(e)+` (via always-reduce ${a.getName(o&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let u=this.tokens.getActions(e);for(let h=0;h<u.length;){let d=u[h++],p=u[h++],y=u[h++],v=h==u.length||!r,b=v?e:e.split(),C=this.tokens.mainToken;if(b.apply(d,p,C?C.start:b.pos,y),hr&&console.log(l+this.stackID(b)+` (via ${(d&65536)==0?"shift":`reduce of ${a.getName(d&65535)}`} for ${a.getName(p)} @ ${i}${b==e?"":", split"})`),v)return!0;b.pos>i?n.push(b):r.push(b)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return sT(e,n),!0}}runRecovery(e,n,r){let i=null,a=!1;for(let l=0;l<e.length;l++){let o=e[l],u=n[l<<1],h=n[(l<<1)+1],d=hr?this.stackID(o)+" -> ":"";if(o.deadEnd&&(a||(a=!0,o.restart(),hr&&console.log(d+this.stackID(o)+" (restarted)"),this.advanceFully(o,r))))continue;let p=o.split(),y=d;for(let v=0;v<10&&p.forceReduce()&&(hr&&console.log(y+this.stackID(p)+" (via force-reduce)"),!this.advanceFully(p,r));v++)hr&&(y=this.stackID(p)+" -> ");for(let v of o.recoverByInsert(u))hr&&console.log(d+this.stackID(v)+" (via recover-insert)"),this.advanceFully(v,r);this.stream.end>o.pos?(h==o.pos&&(h++,u=0),o.recoverByDelete(u,h),hr&&console.log(d+this.stackID(o)+` (via recover-delete ${this.parser.getName(u)})`),sT(o,r)):(!i||i.score<p.score)&&(i=p)}return i}stackToTree(e){return e.close(),Dt.build({buffer:bp.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(Ax||(Ax=new WeakMap)).get(e);return n||Ax.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function sT(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class HY{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}class wp extends S_{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let o=0;o<e.repeatNodeCount;o++)n.push("");let r=Object.keys(e.topRules).map(o=>e.topRules[o][1]),i=[];for(let o=0;o<n.length;o++)i.push([]);function a(o,u,h){i[o].push([u,u.deserialize(String(h))])}if(e.nodeProps)for(let o of e.nodeProps){let u=o[0];typeof u=="string"&&(u=Le[u]);for(let h=1;h<o.length;){let d=o[h++];if(d>=0)a(d,u,o[h++]);else{let p=o[h+-d];for(let y=-d;y>0;y--)a(o[h++],u,p);h++}}}this.nodeSet=new FS(n.map((o,u)=>Zn.define({name:u>=this.minRepeatTerm?void 0:o,id:u,props:i[u],top:r.indexOf(u)>-1,error:u==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(u)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=v_;let l=cm(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(lT),this.states=cm(e.states,Uint32Array),this.data=cm(e.stateData),this.goto=cm(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(o=>typeof o=="number"?new Wo(l,o):o),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new UY(this,e,n,r);for(let a of this.wrappers)i=a(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let a=i[n+1];;){let l=i[a++],o=l&1,u=i[a++];if(o&&r)return u;for(let h=a+(l>>1);a<h;a++)if(i[a]==e)return u;if(o)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let a=this.stateSlot(e,i?2:1),l;;a+=3){if((l=r[a])==65535)if(r[a+1]==1)l=r[a=la(r,a+2)];else{if(r[a+1]==2)return la(r,a+2);break}if(l==n||l==0)return la(r,a+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),i=r?n(r):void 0;for(let a=this.stateSlot(e,1);i==null;a+=3){if(this.data[a]==65535)if(this.data[a+1]==1)a=la(this.data,a+2);else break;i=n(la(this.data,a+1))}return i}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=la(this.data,r+2);else break;if((this.data[r+2]&1)==0){let i=this.data[r+1];n.some((a,l)=>l&1&&a==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(wp.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(a=>a.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let a=e.specializers.find(o=>o.from==r.external);if(!a)return r;let l=Object.assign(Object.assign({},r),{external:a.to});return n.specializers[i]=lT(l),l})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let a of e.split(" ")){let l=n.indexOf(a);l>=0&&(r[l]=!0)}let i=null;for(let a=0;a<n.length;a++)if(!r[a])for(let l=this.dialects[n[a]],o;(o=this.data[l++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[o]=1;return new HY(e,r,i)}static deserialize(e){return new wp(e)}}function la(t,e){return t[e]|t[e+1]<<16}function $Y(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function lT(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const qY=36,oT=1,FY=2,ko=3,Ex=4,VY=5,WY=6,KY=7,GY=8,YY=9,QY=10,XY=11,ZY=12,JY=13,eQ=14,tQ=15,nQ=16,rQ=17,cT=18,iQ=19,VR=20,WR=21,uT=22,aQ=23,sQ=24;function dw(t){return t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57}function lQ(t){return t>=48&&t<=57||t>=97&&t<=102||t>=65&&t<=70}function al(t,e,n){for(let r=!1;;){if(t.next<0)return;if(t.next==e&&!r){t.advance();return}r=n&&!r&&t.next==92,t.advance()}}function oQ(t,e){e:for(;;){if(t.next<0)return;if(t.next==36){t.advance();for(let n=0;n<e.length;n++){if(t.next!=e.charCodeAt(n))continue e;t.advance()}if(t.next==36){t.advance();return}}else t.advance()}}function cQ(t,e){let n="[{<(".indexOf(String.fromCharCode(e)),r=n<0?e:"]}>)".charCodeAt(n);for(;;){if(t.next<0)return;if(t.next==r&&t.peek(1)==39){t.advance(2);return}t.advance()}}function mw(t,e){for(;!(t.next!=95&&!dw(t.next));)e!=null&&(e+=String.fromCharCode(t.next)),t.advance();return e}function uQ(t){if(t.next==39||t.next==34||t.next==96){let e=t.next;t.advance(),al(t,e,!1)}else mw(t)}function fT(t,e){for(;t.next==48||t.next==49;)t.advance();e&&t.next==e&&t.advance()}function hT(t,e){for(;;){if(t.next==46){if(e)break;e=!0}else if(t.next<48||t.next>57)break;t.advance()}if(t.next==69||t.next==101)for(t.advance(),(t.next==43||t.next==45)&&t.advance();t.next>=48&&t.next<=57;)t.advance()}function dT(t){for(;!(t.next<0||t.next==10);)t.advance()}function nl(t,e){for(let n=0;n<e.length;n++)if(e.charCodeAt(n)==t)return!0;return!1}const Tx=` 	\r
`;function KR(t,e,n){let r=Object.create(null);r.true=r.false=VY,r.null=r.unknown=WY;for(let i of t.split(" "))i&&(r[i]=VR);for(let i of e.split(" "))i&&(r[i]=WR);for(let i of(n||"").split(" "))i&&(r[i]=sQ);return r}const fQ="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",hQ="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",pw={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',caseInsensitiveIdentifiers:!1,words:KR(hQ,fQ)};function dQ(t,e,n,r){let i={};for(let a in pw)i[a]=(t.hasOwnProperty(a)?t:pw)[a];return e&&(i.words=KR(e,n||"",r)),i}function GR(t){return new RY(e=>{var n;let{next:r}=e;if(e.advance(),nl(r,Tx)){for(;nl(e.next,Tx);)e.advance();e.acceptToken(qY)}else if(r==36&&t.doubleDollarQuotedStrings){let i=mw(e,"");e.next==36&&(e.advance(),oQ(e,i),e.acceptToken(ko))}else if(r==39||r==34&&t.doubleQuotedStrings)al(e,r,t.backslashEscapes),e.acceptToken(ko);else if(r==35&&t.hashComments||r==47&&e.next==47&&t.slashComments)dT(e),e.acceptToken(oT);else if(r==45&&e.next==45&&(!t.spaceAfterDashes||e.peek(1)==32))dT(e),e.acceptToken(oT);else if(r==47&&e.next==42){e.advance();for(let i=1;;){let a=e.next;if(e.next<0)break;if(e.advance(),a==42&&e.next==47){if(i--,e.advance(),!i)break}else a==47&&e.next==42&&(i++,e.advance())}e.acceptToken(FY)}else if((r==101||r==69)&&e.next==39)e.advance(),al(e,39,!0),e.acceptToken(ko);else if((r==110||r==78)&&e.next==39&&t.charSetCasts)e.advance(),al(e,39,t.backslashEscapes),e.acceptToken(ko);else if(r==95&&t.charSetCasts)for(let i=0;;i++){if(e.next==39&&i>1){e.advance(),al(e,39,t.backslashEscapes),e.acceptToken(ko);break}if(!dw(e.next))break;e.advance()}else if(t.plsqlQuotingMechanism&&(r==113||r==81)&&e.next==39&&e.peek(1)>0&&!nl(e.peek(1),Tx)){let i=e.peek(1);e.advance(2),cQ(e,i),e.acceptToken(ko)}else if(nl(r,t.identifierQuotes)){const i=r==91?93:r;al(e,i,!1),e.acceptToken(iQ)}else if(r==40)e.acceptToken(KY);else if(r==41)e.acceptToken(GY);else if(r==123)e.acceptToken(YY);else if(r==125)e.acceptToken(QY);else if(r==91)e.acceptToken(XY);else if(r==93)e.acceptToken(ZY);else if(r==59)e.acceptToken(JY);else if(t.unquotedBitLiterals&&r==48&&e.next==98)e.advance(),fT(e),e.acceptToken(uT);else if((r==98||r==66)&&(e.next==39||e.next==34)){const i=e.next;e.advance(),t.treatBitsAsBytes?(al(e,i,t.backslashEscapes),e.acceptToken(aQ)):(fT(e,i),e.acceptToken(uT))}else if(r==48&&(e.next==120||e.next==88)||(r==120||r==88)&&e.next==39){let i=e.next==39;for(e.advance();lQ(e.next);)e.advance();i&&e.next==39&&e.advance(),e.acceptToken(Ex)}else if(r==46&&e.next>=48&&e.next<=57)hT(e,!0),e.acceptToken(Ex);else if(r==46)e.acceptToken(eQ);else if(r>=48&&r<=57)hT(e,!1),e.acceptToken(Ex);else if(nl(r,t.operatorChars)){for(;nl(e.next,t.operatorChars);)e.advance();e.acceptToken(tQ)}else if(nl(r,t.specialVar))e.next==r&&e.advance(),uQ(e),e.acceptToken(rQ);else if(r==58||r==44)e.acceptToken(nQ);else if(dw(r)){let i=mw(e,String.fromCharCode(r));e.acceptToken(e.next==46||e.peek(-i.length-1)==46?cT:(n=t.words[i.toLowerCase()])!==null&&n!==void 0?n:cT)}})}const YR=GR(pw),mQ=wp.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:" LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,YR],topRules:{Script:[0,25]},tokenPrec:0});function gw(t){let e=t.cursor().moveTo(t.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function Af(t,e){let n=t.sliceString(e.from,e.to),r=/^([`'"\[])(.*)([`'"\]])$/.exec(n);return r?r[2]:n}function Sp(t){return t&&(t.name=="Identifier"||t.name=="QuotedIdentifier")}function pQ(t,e){if(e.name=="CompositeIdentifier"){let n=[];for(let r=e.firstChild;r;r=r.nextSibling)Sp(r)&&n.push(Af(t,r));return n}return[Af(t,e)]}function mT(t,e){for(let n=[];;){if(!e||e.name!=".")return n;let r=gw(e);if(!Sp(r))return n;n.unshift(Af(t,r)),e=gw(r)}}function gQ(t,e){let n=en(t).resolveInner(e,-1),r=vQ(t.doc,n);return n.name=="Identifier"||n.name=="QuotedIdentifier"||n.name=="Keyword"?{from:n.from,quoted:n.name=="QuotedIdentifier"?t.doc.sliceString(n.from,n.from+1):null,parents:mT(t.doc,gw(n)),aliases:r}:n.name=="."?{from:e,quoted:null,parents:mT(t.doc,n),aliases:r}:{from:e,quoted:null,parents:[],empty:!0,aliases:r}}const yQ=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function vQ(t,e){let n;for(let i=e;!n;i=i.parent){if(!i)return null;i.name=="Statement"&&(n=i)}let r=null;for(let i=n.firstChild,a=!1,l=null;i;i=i.nextSibling){let o=i.name=="Keyword"?t.sliceString(i.from,i.to).toLowerCase():null,u=null;if(!a)a=o=="from";else if(o=="as"&&l&&Sp(i.nextSibling))u=Af(t,i.nextSibling);else{if(o&&yQ.has(o))break;l&&Sp(i)&&(u=Af(t,i))}u&&(r||(r=Object.create(null)),r[u]=pQ(t,l)),l=/Identifier$/.test(i.name)?i:null}return r}function xQ(t,e,n){return n.map(r=>({...r,label:r.label[0]==t?r.label:t+r.label+e,apply:void 0}))}const bQ=/^\w*$/,wQ=/^[`'"\[]?\w*[`'"\]]?$/;function pT(t){return t.self&&typeof t.self.label=="string"}class o2{constructor(e,n){this.idQuote=e,this.idCaseInsensitive=n,this.list=[],this.children=void 0}child(e){let n=this.children||(this.children=Object.create(null)),r=n[e];return r||(e&&!this.list.some(i=>i.label==e)&&this.list.push(gT(e,"type",this.idQuote,this.idCaseInsensitive)),n[e]=new o2(this.idQuote,this.idCaseInsensitive))}maybeChild(e){return this.children?this.children[e]:null}addCompletion(e){let n=this.list.findIndex(r=>r.label==e.label);n>-1?this.list[n]=e:this.list.push(e)}addCompletions(e){for(let n of e)this.addCompletion(typeof n=="string"?gT(n,"property",this.idQuote,this.idCaseInsensitive):n)}addNamespace(e){Array.isArray(e)?this.addCompletions(e):pT(e)?this.addNamespace(e.children):this.addNamespaceObject(e)}addNamespaceObject(e){for(let n of Object.keys(e)){let r=e[n],i=null,a=n.replace(/\\?\./g,o=>o=="."?"\0":o).split("\0"),l=this;pT(r)&&(i=r.self,r=r.children);for(let o=0;o<a.length;o++)i&&o==a.length-1&&l.addCompletion(i),l=l.child(a[o].replace(/\\\./g,"."));l.addNamespace(r)}}}function gT(t,e,n,r){return new RegExp("^[a-z_][a-z_\\d]*$",r?"i":"").test(t)?{label:t,type:e}:{label:t,type:e,apply:n+t+QR(n)}}function QR(t){return t==="["?"]":t}function SQ(t,e,n,r,i,a){var l;let o=((l=a?.spec.identifierQuotes)===null||l===void 0?void 0:l[0])||'"',u=new o2(o,!!a?.spec.caseInsensitiveIdentifiers),h=i?u.child(i):null;return u.addNamespace(t),e&&(h||u).addCompletions(e),n&&u.addCompletions(n),h&&u.addCompletions(h.list),r&&u.addCompletions((h||u).child(r).list),d=>{let{parents:p,from:y,quoted:v,empty:b,aliases:C}=gQ(d.state,d.pos);if(b&&!d.explicit)return null;C&&p.length==1&&(p=C[p[0]]||p);let j=u;for(let A of p){for(;!j.children||!j.children[A];)if(j==u&&h)j=h;else if(j==h&&r)j=j.child(r);else return null;let k=j.maybeChild(A);if(!k)return null;j=k}let N=j.list;if(j==u&&C&&(N=N.concat(Object.keys(C).map(A=>({label:A,type:"constant"})))),v){let A=v[0],k=QR(A),T=d.state.sliceDoc(d.pos,d.pos+1)==k;return{from:y,to:T?d.pos+1:void 0,options:xQ(A,k,N),validFor:wQ}}else return{from:y,options:N,validFor:bQ}}}function jQ(t){return t==WR?"type":t==VR?"keyword":"variable"}function CQ(t,e,n){let r=Object.keys(t).map(i=>n(e?i.toUpperCase():i,jQ(t[i])));return mG(["QuotedIdentifier","String","LineComment","BlockComment","."],MR(r))}let NQ=mQ.configure({props:[O_.add({Statement:WV()}),E_.add({Statement(t,e){return{from:Math.min(t.from+100,e.doc.lineAt(t.from).to),to:t.to}},BlockComment(t){return{from:t.from+2,to:t.to-2}}}),j_({Keyword:te.keyword,Type:te.typeName,Builtin:te.standard(te.name),Bits:te.number,Bytes:te.string,Bool:te.bool,Null:te.null,Number:te.number,String:te.string,Identifier:te.name,QuotedIdentifier:te.special(te.string),SpecialVar:te.special(te.name),LineComment:te.lineComment,BlockComment:te.blockComment,Operator:te.operator,"Semi Punctuation":te.punctuation,"( )":te.paren,"{ }":te.brace,"[ ]":te.squareBracket})]});class jp{constructor(e,n,r){this.dialect=e,this.language=n,this.spec=r}get extension(){return this.language.extension}configureLanguage(e,n){return new jp(this.dialect,this.language.configure(e,n),this.spec)}static define(e){let n=dQ(e,e.keywords,e.types,e.builtin),r=sp.define({name:"sql",parser:NQ.configure({tokenizers:[{from:YR,to:GR(n)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new jp(n,r,e)}}function kQ(t,e){return{label:t,type:e,boost:-1}}function OQ(t,e=!1,n){return CQ(t.dialect.words,e,n||kQ)}function AQ(t){return t.schema?SQ(t.schema,t.tables,t.schemas,t.defaultTable,t.defaultSchema,t.dialect||c2):()=>null}function EQ(t){return t.schema?(t.dialect||c2).language.data.of({autocomplete:AQ(t)}):[]}function TQ(t={}){let e=t.dialect||c2;return new BV(e.language,[EQ(t),e.language.data.of({autocomplete:OQ(e,t.upperCaseKeywords,t.keywordCompletion)})])}const c2=jp.define({});function XR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=XR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function at(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=XR(t))&&(r&&(r+=" "),r+=e);return r}var MQ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function u2(t){if(typeof t!="string")return!1;var e=MQ;return e.includes(t)}var DQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PQ=new Set(DQ);function ZR(t){return typeof t!="string"?!1:PQ.has(t)}function JR(t){return typeof t=="string"&&t.startsWith("data-")}function _i(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(ZR(n)||JR(n))&&(e[n]=t[n]);return e}function Ug(t){if(t==null)return null;if(w.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return _i(e)}return typeof t=="object"&&!Array.isArray(t)?_i(t):null}function _n(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(ZR(n)||JR(n)||u2(n))&&(e[n]=t[n]);return e}function _Q(t){return t==null?null:w.isValidElement(t)?_n(t.props):typeof t=="object"&&!Array.isArray(t)?_n(t):null}var RQ=["children","width","height","viewBox","className","style","title","desc"];function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yw.apply(null,arguments)}function LQ(t,e){if(t==null)return{};var n,r,i=BQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function BQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var f2=w.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:o,title:u,desc:h}=t,d=LQ(t,RQ),p=a||{width:r,height:i,x:0,y:0},y=at("recharts-surface",l);return w.createElement("svg",yw({},_n(d),{className:y,width:r,height:i,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),w.createElement("title",null,u),w.createElement("desc",null,h),n)}),zQ=["children","className"];function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vw.apply(null,arguments)}function IQ(t,e){if(t==null)return{};var n,r,i=UQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function UQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var As=w.forwardRef((t,e)=>{var{children:n,className:r}=t,i=IQ(t,zQ),a=at("recharts-layer",r);return w.createElement("g",vw({className:a},_n(i),{ref:e}),n)}),eL=w.createContext(null),HQ=()=>w.useContext(eL);function ut(t){return function(){return t}}const tL=Math.cos,Cp=Math.sin,ui=Math.sqrt,Np=Math.PI,Hg=2*Np,xw=Math.PI,bw=2*xw,sl=1e-6,$Q=bw-sl;function nL(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function qQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return nL;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class FQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?nL:qQ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,o=this._y1,u=r-e,h=i-n,d=l-e,p=o-n,y=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>sl)if(!(Math.abs(p*u-h*d)>sl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-l,b=i-o,C=u*u+h*h,j=v*v+b*b,N=Math.sqrt(C),A=Math.sqrt(y),k=a*Math.tan((xw-Math.acos((C+y-j)/(2*N*A)))/2),T=k/A,D=k/N;Math.abs(T-1)>sl&&this._append`L${e+T*d},${n+T*p}`,this._append`A${a},${a},0,0,${+(p*v>d*b)},${this._x1=e+D*u},${this._y1=n+D*h}`}}arc(e,n,r,i,a,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),u=r*Math.sin(i),h=e+o,d=n+u,p=1^l,y=l?i-a:a-i;this._x1===null?this._append`M${h},${d}`:(Math.abs(this._x1-h)>sl||Math.abs(this._y1-d)>sl)&&this._append`L${h},${d}`,r&&(y<0&&(y=y%bw+bw),y>$Q?this._append`A${r},${r},0,1,${p},${e-o},${n-u}A${r},${r},0,1,${p},${this._x1=h},${this._y1=d}`:y>sl&&this._append`A${r},${r},0,${+(y>=xw)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function h2(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new FQ(e)}function d2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function rL(t){this._context=t}rL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function $g(t){return new rL(t)}function iL(t){return t[0]}function aL(t){return t[1]}function sL(t,e){var n=ut(!0),r=null,i=$g,a=null,l=h2(o);t=typeof t=="function"?t:t===void 0?iL:ut(t),e=typeof e=="function"?e:e===void 0?aL:ut(e);function o(u){var h,d=(u=d2(u)).length,p,y=!1,v;for(r==null&&(a=i(v=l())),h=0;h<=d;++h)!(h<d&&n(p=u[h],h,u))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(p,h,u),+e(p,h,u));if(v)return a=null,v+""||null}return o.x=function(u){return arguments.length?(t=typeof u=="function"?u:ut(+u),o):t},o.y=function(u){return arguments.length?(e=typeof u=="function"?u:ut(+u),o):e},o.defined=function(u){return arguments.length?(n=typeof u=="function"?u:ut(!!u),o):n},o.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),o):i},o.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),o):r},o}function um(t,e,n){var r=null,i=ut(!0),a=null,l=$g,o=null,u=h2(h);t=typeof t=="function"?t:t===void 0?iL:ut(+t),e=typeof e=="function"?e:ut(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?aL:ut(+n);function h(p){var y,v,b,C=(p=d2(p)).length,j,N=!1,A,k=new Array(C),T=new Array(C);for(a==null&&(o=l(A=u())),y=0;y<=C;++y){if(!(y<C&&i(j=p[y],y,p))===N)if(N=!N)v=y,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=y-1;b>=v;--b)o.point(k[b],T[b]);o.lineEnd(),o.areaEnd()}N&&(k[y]=+t(j,y,p),T[y]=+e(j,y,p),o.point(r?+r(j,y,p):k[y],n?+n(j,y,p):T[y]))}if(A)return o=null,A+""||null}function d(){return sL().defined(i).curve(l).context(a)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:ut(+p),r=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:ut(+p),h):t},h.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:ut(+p),h):r},h.y=function(p){return arguments.length?(e=typeof p=="function"?p:ut(+p),n=null,h):e},h.y0=function(p){return arguments.length?(e=typeof p=="function"?p:ut(+p),h):e},h.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:ut(+p),h):n},h.lineX0=h.lineY0=function(){return d().x(t).y(e)},h.lineY1=function(){return d().x(t).y(n)},h.lineX1=function(){return d().x(r).y(e)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:ut(!!p),h):i},h.curve=function(p){return arguments.length?(l=p,a!=null&&(o=l(a)),h):l},h.context=function(p){return arguments.length?(p==null?a=o=null:o=l(a=p),h):a},h}class lL{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function VQ(t){return new lL(t,!0)}function WQ(t){return new lL(t,!1)}const m2={draw(t,e){const n=ui(e/Np);t.moveTo(n,0),t.arc(0,0,n,0,Hg)}},KQ={draw(t,e){const n=ui(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},oL=ui(1/3),GQ=oL*2,YQ={draw(t,e){const n=ui(e/GQ),r=n*oL;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},QQ={draw(t,e){const n=ui(e),r=-n/2;t.rect(r,r,n,n)}},XQ=.8908130915292852,cL=Cp(Np/10)/Cp(7*Np/10),ZQ=Cp(Hg/10)*cL,JQ=-tL(Hg/10)*cL,eX={draw(t,e){const n=ui(e*XQ),r=ZQ*n,i=JQ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const l=Hg*a/5,o=tL(l),u=Cp(l);t.lineTo(u*n,-o*n),t.lineTo(o*r-u*i,u*r+o*i)}t.closePath()}},Mx=ui(3),tX={draw(t,e){const n=-ui(e/(Mx*3));t.moveTo(0,n*2),t.lineTo(-Mx*n,-n),t.lineTo(Mx*n,-n),t.closePath()}},Dr=-.5,Pr=ui(3)/2,ww=1/ui(12),nX=(ww/2+1)*3,rX={draw(t,e){const n=ui(e/nX),r=n/2,i=n*ww,a=r,l=n*ww+n,o=-a,u=l;t.moveTo(r,i),t.lineTo(a,l),t.lineTo(o,u),t.lineTo(Dr*r-Pr*i,Pr*r+Dr*i),t.lineTo(Dr*a-Pr*l,Pr*a+Dr*l),t.lineTo(Dr*o-Pr*u,Pr*o+Dr*u),t.lineTo(Dr*r+Pr*i,Dr*i-Pr*r),t.lineTo(Dr*a+Pr*l,Dr*l-Pr*a),t.lineTo(Dr*o+Pr*u,Dr*u-Pr*o),t.closePath()}};function iX(t,e){let n=null,r=h2(i);t=typeof t=="function"?t:ut(t||m2),e=typeof e=="function"?e:ut(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ut(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ut(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function kp(){}function Op(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function uL(t){this._context=t}uL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Op(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Op(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function aX(t){return new uL(t)}function fL(t){this._context=t}fL.prototype={areaStart:kp,areaEnd:kp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Op(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sX(t){return new fL(t)}function hL(t){this._context=t}hL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Op(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lX(t){return new hL(t)}function dL(t){this._context=t}dL.prototype={areaStart:kp,areaEnd:kp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function oX(t){return new dL(t)}function yT(t){return t<0?-1:1}function vT(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),o=(a*i+l*r)/(r+i);return(yT(a)+yT(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(o))||0}function xT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Dx(t,e,n){var r=t._x0,i=t._y0,a=t._x1,l=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,l-o*n,a,l)}function Ap(t){this._context=t}Ap.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Dx(this,this._t0,xT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Dx(this,xT(this,n=vT(this,t,e)),n);break;default:Dx(this,this._t0,n=vT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function mL(t){this._context=new pL(t)}(mL.prototype=Object.create(Ap.prototype)).point=function(t,e){Ap.prototype.point.call(this,e,t)};function pL(t){this._context=t}pL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function cX(t){return new Ap(t)}function uX(t){return new mL(t)}function gL(t){this._context=t}gL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=bT(t),i=bT(e),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function bT(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function fX(t){return new gL(t)}function qg(t,e){this._context=t,this._t=e}qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function hX(t){return new qg(t,.5)}function dX(t){return new qg(t,0)}function mX(t){return new qg(t,1)}function Tl(t,e){if((l=t.length)>1)for(var n=1,r,i,a=t[e[0]],l,o=a.length;n<l;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Sw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function pX(t,e){return t[e]}function gX(t){const e=[];return e.key=t,e}function yX(){var t=ut([]),e=Sw,n=Tl,r=pX;function i(a){var l=Array.from(t.apply(this,arguments),gX),o,u=l.length,h=-1,d;for(const p of a)for(o=0,++h;o<u;++o)(l[o][h]=[0,+r(p,l[o].key,h,a)]).data=p;for(o=0,d=d2(e(l));o<u;++o)l[d[o]].index=o;return n(l,d),l}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ut(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ut(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Sw:typeof a=="function"?a:ut(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Tl,i):n},i}function vX(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}Tl(t,e)}}function xX(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var l=0,o=0;l<i;++l)o+=t[l][n][1]||0;r[n][1]+=r[n][0]=-o/2}Tl(t,e)}}function bX(t,e){if(!(!((l=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var o=0,u=0,h=0;o<l;++o){for(var d=t[e[o]],p=d[r][1]||0,y=d[r-1][1]||0,v=(p-y)/2,b=0;b<o;++b){var C=t[e[b]],j=C[r][1]||0,N=C[r-1][1]||0;v+=j-N}u+=p,h+=v*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=h/u)}i[r-1][1]+=i[r-1][0]=n,Tl(t,e)}}var Px={},_x={},wT;function wX(){return wT||(wT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(_x)),_x}var Rx={},ST;function yL(){return ST||(ST=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Rx)),Rx}var Lx={},jT;function p2(){return jT||(jT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(Lx)),Lx}var Bx={},zx={},CT;function SX(){return CT||(CT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(zx)),zx}var NT;function g2(){return NT||(NT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SX(),n=p2();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],l=i.length;if(l===0)return a;let o=0,u="",h="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<l;){const p=i[o];h?p==="\\"&&o+1<l?(o++,u+=i[o]):p===h?h="":u+=p:d?p==='"'||p==="'"?h=p:p==="]"?(d=!1,a.push(u),u=""):u+=p:p==="["?(d=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,o++}return u&&a.push(u),a}t.toPath=r})(Bx)),Bx}var kT;function y2(){return kT||(kT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wX(),n=yL(),r=p2(),i=g2();function a(o,u,h){if(o==null)return h;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return h;const d=o[u];return d===void 0?n.isDeepKey(u)?a(o,i.toPath(u),h):h:d}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const d=o[u];return d===void 0?h:d}default:{if(Array.isArray(u))return l(o,u,h);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return h;const d=o[u];return d===void 0?h:d}}}function l(o,u,h){if(u.length===0)return h;let d=o;for(let p=0;p<u.length;p++){if(d==null||e.isUnsafeProperty(u[p]))return h;d=d[u[p]]}return d===void 0?h:d}t.get=a})(Px)),Px}var Ix,OT;function jX(){return OT||(OT=1,Ix=y2().get),Ix}var CX=jX();const Fg=zi(CX);var NX=4;function ps(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NX,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function kt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,a,l)=>{var o=n[l-1];return typeof o=="string"?i+o+a:o!==void 0?i+ps(o)+a:i+a},"")}var Ur=t=>t===0?0:t>0?1:-1,xa=t=>typeof t=="number"&&t!=+t,Ml=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ce=t=>(typeof t=="number"||t instanceof Number)&&!xa(t),Ri=t=>Ce(t)||typeof t=="string",kX=0,Ef=t=>{var e=++kX;return"".concat(t||"").concat(e)},Es=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(e)&&typeof e!="string")return r;var a;if(Ml(e)){if(n==null)return r;var l=e.indexOf("%");a=n*parseFloat(e.slice(0,l))/100}else a=+e;return xa(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},vL=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Kn(t,e,n){return Ce(t)&&Ce(e)?ps(t+n*(e-t)):e}function xL(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Fg(r,e))===n)}var xn=t=>t===null||typeof t>"u",sh=t=>xn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Qn(t){return t!=null}function yc(){}var OX=["type","size","sizeType"];function jw(){return jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jw.apply(null,arguments)}function AT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ET(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AT(Object(n),!0).forEach(function(r){AX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AX(t,e,n){return(e=EX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EX(t){var e=TX(t,"string");return typeof e=="symbol"?e:e+""}function TX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MX(t,e){if(t==null)return{};var n,r,i=DX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function DX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bL={symbolCircle:m2,symbolCross:KQ,symbolDiamond:YQ,symbolSquare:QQ,symbolStar:eX,symbolTriangle:tX,symbolWye:rX},PX=Math.PI/180,_X=t=>{var e="symbol".concat(sh(t));return bL[e]||m2},RX=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*PX;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},LX=(t,e)=>{bL["symbol".concat(sh(t))]=e},v2=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=MX(t,OX),a=ET(ET({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var o=()=>{var y=_X(l),v=iX().type(y).size(RX(n,r,l)),b=v();if(b!==null)return b},{className:u,cx:h,cy:d}=a,p=_n(a);return Ce(h)&&Ce(d)&&Ce(n)?w.createElement("path",jw({},p,{className:at("recharts-symbols",u),transform:"translate(".concat(h,", ").concat(d,")"),d:o()})):null};v2.registerSymbol=LX;var wL=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,x2=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{u2(i)&&(r[i]=(a=>n[i](n,a)))}),r},BX=(t,e,n)=>r=>(t(e,n,r),null),SL=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];u2(i)&&typeof a=="function"&&(r||(r={}),r[i]=BX(a,e,n))}),r};function TT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TT(Object(n),!0).forEach(function(r){IX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IX(t,e,n){return(e=UX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UX(t){var e=HX(t,"string");return typeof e=="symbol"?e:e+""}function HX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function On(t,e){var n=zX({},t),r=e,i=Object.keys(e),a=i.reduce((l,o)=>(l[o]===void 0&&r[o]!==void 0&&(l[o]=r[o]),l),n);return a}function Ep(){return Ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ep.apply(null,arguments)}function MT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $X(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MT(Object(n),!0).forEach(function(r){qX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qX(t,e,n){return(e=FX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FX(t){var e=VX(t,"string");return typeof e=="symbol"?e:e+""}function VX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rr=32,WX={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function KX(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Rr/2,a=Rr/6,l=Rr/3,o=e.inactive?r:e.color,u=n??e.type;if(u==="none")return null;if(u==="plainline"){var h;return w.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(h=e.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:i,x2:Rr,y2:i,className:"recharts-legend-icon"})}if(u==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Rr,"M").concat(2*l,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(u==="rect")return w.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Rr/8,"h").concat(Rr,"v").concat(Rr*3/4,"h").concat(-Rr,"z"),className:"recharts-legend-icon"});if(w.isValidElement(e.legendIcon)){var d=$X({},e);return delete d.legendIcon,w.cloneElement(e.legendIcon,d)}return w.createElement(v2,{fill:o,cx:i,cy:i,size:Rr,sizeType:"diameter",type:u})}function GX(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:l}=t,o={x:0,y:0,width:Rr,height:Rr},u={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,p)=>{var y=d.formatter||i,v=at({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:d.inactive});if(d.type==="none")return null;var b=d.inactive?a:d.color,C=y?y(d.value,d,p):d.value;return w.createElement("li",Ep({className:v,style:u,key:"legend-item-".concat(p)},SL(t,d,p)),w.createElement(f2,{width:n,height:n,viewBox:o,style:h,"aria-label":"".concat(C," legend icon")},w.createElement(KX,{data:d,iconType:l,inactiveColor:a})),w.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},C))})}var YX=t=>{var e=On(t,WX),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:a},w.createElement(GX,Ep({},e,{payload:n})))},Ux={},Hx={},DT;function QX(){return DT||(DT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const l=n[a],o=r(l,a,n);i.has(o)||i.set(o,l)}return Array.from(i.values())}t.uniqBy=e})(Hx)),Hx}var $x={},PT;function XX(){return PT||(PT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})($x)),$x}var qx={},_T;function jL(){return _T||(_T=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(qx)),qx}var Fx={},Vx={},Wx={},RT;function ZX(){return RT||(RT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Wx)),Wx}var LT;function b2(){return LT||(LT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZX();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Vx)),Vx}var Kx={},BT;function JX(){return BT||(BT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Kx)),Kx}var zT;function eZ(){return zT||(zT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b2(),n=JX();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Fx)),Fx}var Gx={},Yx={},IT;function tZ(){return IT||(IT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y2();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Yx)),Yx}var Qx={},Xx={},Zx={},Jx={},UT;function CL(){return UT||(UT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Jx)),Jx}var eb={},HT;function NL(){return HT||(HT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(eb)),eb}var tb={},$T;function kL(){return $T||($T=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(tb)),tb}var qT;function nZ(){return qT||(qT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CL(),n=NL(),r=kL();function i(d,p,y){return typeof y!="function"?i(d,p,()=>{}):a(d,p,function v(b,C,j,N,A,k){const T=y(b,C,j,N,A,k);return T!==void 0?!!T:a(b,C,v,k)},new Map)}function a(d,p,y,v){if(p===d)return!0;switch(typeof p){case"object":return l(d,p,y,v);case"function":return Object.keys(p).length>0?a(d,{...p},y,v):r.isEqualsSameValueZero(d,p);default:return e.isObject(d)?typeof p=="string"?p==="":!0:r.isEqualsSameValueZero(d,p)}}function l(d,p,y,v){if(p==null)return!0;if(Array.isArray(p))return u(d,p,y,v);if(p instanceof Map)return o(d,p,y,v);if(p instanceof Set)return h(d,p,y,v);const b=Object.keys(p);if(d==null||n.isPrimitive(d))return b.length===0;if(b.length===0)return!0;if(v?.has(p))return v.get(p)===d;v?.set(p,d);try{for(let C=0;C<b.length;C++){const j=b[C];if(!n.isPrimitive(d)&&!(j in d)||p[j]===void 0&&d[j]!==void 0||p[j]===null&&d[j]!==null||!y(d[j],p[j],j,d,p,v))return!1}return!0}finally{v?.delete(p)}}function o(d,p,y,v){if(p.size===0)return!0;if(!(d instanceof Map))return!1;for(const[b,C]of p.entries()){const j=d.get(b);if(y(j,C,b,d,p,v)===!1)return!1}return!0}function u(d,p,y,v){if(p.length===0)return!0;if(!Array.isArray(d))return!1;const b=new Set;for(let C=0;C<p.length;C++){const j=p[C];let N=!1;for(let A=0;A<d.length;A++){if(b.has(A))continue;const k=d[A];let T=!1;if(y(k,j,C,d,p,v)&&(T=!0),T){b.add(A),N=!0;break}}if(!N)return!1}return!0}function h(d,p,y,v){return p.size===0?!0:d instanceof Set?u([...d],[...p],y,v):!1}t.isMatchWith=i,t.isSetMatch=h})(Zx)),Zx}var FT;function OL(){return FT||(FT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nZ();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Xx)),Xx}var nb={},rb={},ib={},VT;function rZ(){return VT||(VT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(ib)),ib}var ab={},WT;function w2(){return WT||(WT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(ab)),ab}var sb={},KT;function AL(){return KT||(KT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",o="[object Date]",u="[object Map]",h="[object Set]",d="[object Array]",p="[object Function]",y="[object ArrayBuffer]",v="[object Object]",b="[object Error]",C="[object DataView]",j="[object Uint8Array]",N="[object Uint8ClampedArray]",A="[object Uint16Array]",k="[object Uint32Array]",T="[object BigUint64Array]",D="[object Int8Array]",M="[object Int16Array]",E="[object Int32Array]",_="[object BigInt64Array]",L="[object Float32Array]",I="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=y,t.arrayTag=d,t.bigInt64ArrayTag=_,t.bigUint64ArrayTag=T,t.booleanTag=i,t.dataViewTag=C,t.dateTag=o,t.errorTag=b,t.float32ArrayTag=L,t.float64ArrayTag=I,t.functionTag=p,t.int16ArrayTag=M,t.int32ArrayTag=E,t.int8ArrayTag=D,t.mapTag=u,t.numberTag=r,t.objectTag=v,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=A,t.uint32ArrayTag=k,t.uint8ArrayTag=j,t.uint8ClampedArrayTag=N})(sb)),sb}var lb={},GT;function iZ(){return GT||(GT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(lb)),lb}var YT;function EL(){return YT||(YT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rZ(),n=w2(),r=AL(),i=NL(),a=iZ();function l(d,p){return o(d,void 0,d,new Map,p)}function o(d,p,y,v=new Map,b=void 0){const C=b?.(d,p,y,v);if(C!==void 0)return C;if(i.isPrimitive(d))return d;if(v.has(d))return v.get(d);if(Array.isArray(d)){const j=new Array(d.length);v.set(d,j);for(let N=0;N<d.length;N++)j[N]=o(d[N],N,y,v,b);return Object.hasOwn(d,"index")&&(j.index=d.index),Object.hasOwn(d,"input")&&(j.input=d.input),j}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const j=new RegExp(d.source,d.flags);return j.lastIndex=d.lastIndex,j}if(d instanceof Map){const j=new Map;v.set(d,j);for(const[N,A]of d)j.set(N,o(A,N,y,v,b));return j}if(d instanceof Set){const j=new Set;v.set(d,j);for(const N of d)j.add(o(N,void 0,y,v,b));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const j=new(Object.getPrototypeOf(d)).constructor(d.length);v.set(d,j);for(let N=0;N<d.length;N++)j[N]=o(d[N],N,y,v,b);return j}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const j=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return v.set(d,j),u(j,d,y,v,b),j}if(typeof File<"u"&&d instanceof File){const j=new File([d],d.name,{type:d.type});return v.set(d,j),u(j,d,y,v,b),j}if(typeof Blob<"u"&&d instanceof Blob){const j=new Blob([d],{type:d.type});return v.set(d,j),u(j,d,y,v,b),j}if(d instanceof Error){const j=new d.constructor;return v.set(d,j),j.message=d.message,j.name=d.name,j.stack=d.stack,j.cause=d.cause,u(j,d,y,v,b),j}if(d instanceof Boolean){const j=new Boolean(d.valueOf());return v.set(d,j),u(j,d,y,v,b),j}if(d instanceof Number){const j=new Number(d.valueOf());return v.set(d,j),u(j,d,y,v,b),j}if(d instanceof String){const j=new String(d.valueOf());return v.set(d,j),u(j,d,y,v,b),j}if(typeof d=="object"&&h(d)){const j=Object.create(Object.getPrototypeOf(d));return v.set(d,j),u(j,d,y,v,b),j}return d}function u(d,p,y=d,v,b){const C=[...Object.keys(p),...e.getSymbols(p)];for(let j=0;j<C.length;j++){const N=C[j],A=Object.getOwnPropertyDescriptor(d,N);(A==null||A.writable)&&(d[N]=o(p[N],N,y,v,b))}}function h(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=o,t.copyProperties=u})(rb)),rb}var QT;function aZ(){return QT||(QT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EL();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(nb)),nb}var XT;function sZ(){return XT||(XT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OL(),n=aZ();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(Qx)),Qx}var ob={},cb={},ub={},ZT;function lZ(){return ZT||(ZT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EL(),n=w2(),r=AL();function i(a,l){return e.cloneDeepWith(a,(o,u,h,d)=>{const p=l?.(o,u,h,d);if(p!==void 0)return p;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const y={};return d.set(a,y),e.copyProperties(y,a,h,d),y}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const y=new a.constructor(a?.valueOf());return e.copyProperties(y,a),y}case r.argumentsTag:{const y={};return e.copyProperties(y,a),y.length=a.length,y[Symbol.iterator]=a[Symbol.iterator],y}default:return}}})}t.cloneDeepWith=i})(ub)),ub}var JT;function oZ(){return JT||(JT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lZ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(cb)),cb}var fb={},hb={},eM;function TL(){return eM||(eM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(hb)),hb}var db={},tM;function cZ(){return tM||(tM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w2();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(db)),db}var nM;function uZ(){return nM||(nM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yL(),n=TL(),r=cZ(),i=g2();function a(l,o){let u;if(Array.isArray(o)?u=o:typeof o=="string"&&e.isDeepKey(o)&&l?.[o]==null?u=i.toPath(o):u=[o],u.length===0)return!1;let h=l;for(let d=0;d<u.length;d++){const p=u[d];if((h==null||!Object.hasOwn(h,p))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(p)&&p<h.length))return!1;h=h[p]}return!0}t.has=a})(fb)),fb}var rM;function fZ(){return rM||(rM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OL(),n=p2(),r=oZ(),i=y2(),a=uZ();function l(o,u){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return u=r.cloneDeep(u),function(h){const d=i.get(h,o);return d===void 0?a.has(h,o):u===void 0?d===void 0:e.isMatch(d,u)}}t.matchesProperty=l})(ob)),ob}var iM;function hZ(){return iM||(iM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jL(),n=tZ(),r=sZ(),i=fZ();function a(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=a})(Gx)),Gx}var aM;function dZ(){return aM||(aM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QX(),n=XX(),r=jL(),i=eZ(),a=hZ();function l(o,u=r.identity){return i.isArrayLikeObject(o)?e.uniqBy(Array.from(o),n.ary(a.iteratee(u),1)):[]}t.uniqBy=l})(Ux)),Ux}var mb,sM;function mZ(){return sM||(sM=1,mb=dZ().uniqBy),mb}var pZ=mZ();const lM=zi(pZ);function ML(t,e,n){return e===!0?lM(t,n):typeof e=="function"?lM(t,e):t}var pb={exports:{}},gb={},yb={exports:{}},vb={};var oM;function gZ(){if(oM)return vb;oM=1;var t=cc();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function o(p,y){var v=y(),b=r({inst:{value:v,getSnapshot:y}}),C=b[0].inst,j=b[1];return a(function(){C.value=v,C.getSnapshot=y,u(C)&&j({inst:C})},[p,v,y]),i(function(){return u(C)&&j({inst:C}),p(function(){u(C)&&j({inst:C})})},[p]),l(v),v}function u(p){var y=p.getSnapshot;p=p.value;try{var v=y();return!n(p,v)}catch{return!0}}function h(p,y){return y()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:o;return vb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,vb}var cM;function yZ(){return cM||(cM=1,yb.exports=gZ()),yb.exports}var uM;function vZ(){if(uM)return gb;uM=1;var t=cc(),e=yZ();function n(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,o=t.useMemo,u=t.useDebugValue;return gb.useSyncExternalStoreWithSelector=function(h,d,p,y,v){var b=a(null);if(b.current===null){var C={hasValue:!1,value:null};b.current=C}else C=b.current;b=o(function(){function N(M){if(!A){if(A=!0,k=M,M=y(M),v!==void 0&&C.hasValue){var E=C.value;if(v(E,M))return T=E}return T=M}if(E=T,r(k,M))return E;var _=y(M);return v!==void 0&&v(E,_)?(k=M,E):(k=M,T=_)}var A=!1,k,T,D=p===void 0?null:p;return[function(){return N(d())},D===null?void 0:function(){return N(D())}]},[d,p,y,v]);var j=i(h,b[0],b[1]);return l(function(){C.hasValue=!0,C.value=j},[j]),u(j),j},gb}var fM;function xZ(){return fM||(fM=1,pb.exports=vZ()),pb.exports}var bZ=xZ(),S2=w.createContext(null),wZ=t=>t,Ut=()=>{var t=w.useContext(S2);return t?t.store.dispatch:wZ},zm=()=>{},SZ=()=>zm,jZ=(t,e)=>t===e;function Oe(t){var e=w.useContext(S2),n=w.useMemo(()=>e?r=>{if(r!=null)return t(r)}:zm,[e,t]);return bZ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:SZ,e?e.store.getState:zm,e?e.store.getState:zm,n,jZ)}function CZ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function NZ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function kZ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var hM=t=>Array.isArray(t)?t:[t];function OZ(t){const e=Array.isArray(t[0])?t[0]:t;return kZ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function AZ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var EZ=class{constructor(t){this.value=t}deref(){return this.value}},TZ=typeof WeakRef<"u"?WeakRef:EZ,MZ=0,dM=1;function fm(){return{s:MZ,v:void 0,o:null,p:null}}function DL(t,e={}){let n=fm();const{resultEqualityCheck:r}=e;let i,a=0;function l(){let o=n;const{length:u}=arguments;for(let p=0,y=u;p<y;p++){const v=arguments[p];if(typeof v=="function"||typeof v=="object"&&v!==null){let b=o.o;b===null&&(o.o=b=new WeakMap);const C=b.get(v);C===void 0?(o=fm(),b.set(v,o)):o=C}else{let b=o.p;b===null&&(o.p=b=new Map);const C=b.get(v);C===void 0?(o=fm(),b.set(v,o)):o=C}}const h=o;let d;if(o.s===dM)d=o.v;else if(d=t.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,d)&&(d=p,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new TZ(d):d}return h.s=dM,h.v=d,d}return l.clearCache=()=>{n=fm(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function DZ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,l=0,o,u={},h=i.pop();typeof h=="object"&&(u=h,h=i.pop()),CZ(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const d={...n,...u},{memoize:p,memoizeOptions:y=[],argsMemoize:v=DL,argsMemoizeOptions:b=[]}=d,C=hM(y),j=hM(b),N=OZ(i),A=p(function(){return a++,h.apply(null,arguments)},...C),k=v(function(){l++;const D=AZ(N,arguments);return o=A.apply(null,D),o},...j);return Object.assign(k,{resultFunc:h,memoizedResultFunc:A,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var ie=DZ(DL),PZ=Object.assign((t,e=ie)=>{NZ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((l,o,u)=>(l[n[u]]=o,l),{}))},{withTypes:()=>PZ}),xb={},bb={},wb={},mM;function _Z(){return mM||(mM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=e(r),o=e(i);if(l===o&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-l:l-o}return 0};t.compareValues=n})(wb)),wb}var Sb={},jb={},pM;function PL(){return pM||(pM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(jb)),jb}var gM;function RZ(){return gM||(gM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PL(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}t.isKey=i})(Sb)),Sb}var yM;function LZ(){return yM||(yM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_Z(),n=RZ(),r=g2();function i(a,l,o,u){if(a==null)return[];o=u?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(v=>String(v));const h=(v,b)=>{let C=v;for(let j=0;j<b.length&&C!=null;++j)C=C[b[j]];return C},d=(v,b)=>b==null||v==null?b:typeof v=="object"&&"key"in v?Object.hasOwn(b,v.key)?b[v.key]:h(b,v.path):typeof v=="function"?v(b):Array.isArray(v)?h(b,v):typeof b=="object"?b[v]:b,p=l.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return a.map(v=>({original:v,criteria:p.map(b=>d(b,v))})).slice().sort((v,b)=>{for(let C=0;C<p.length;C++){const j=e.compareValues(v.criteria[C],b.criteria[C],o[C]);if(j!==0)return j}return 0}).map(v=>v.original)}t.orderBy=i})(bb)),bb}var Cb={},vM;function BZ(){return vM||(vM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),l=(o,u)=>{for(let h=0;h<o.length;h++){const d=o[h];Array.isArray(d)&&u<a?l(d,u+1):i.push(d)}};return l(n,0),i}t.flatten=e})(Cb)),Cb}var Nb={},xM;function _L(){return xM||(xM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TL(),n=b2(),r=CL(),i=kL();function a(l,o,u){return r.isObject(u)&&(typeof o=="number"&&n.isArrayLike(u)&&e.isIndex(o)&&o<u.length||typeof o=="string"&&o in u)?i.isEqualsSameValueZero(u[o],l):!1}t.isIterateeCall=a})(Nb)),Nb}var bM;function zZ(){return bM||(bM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LZ(),n=BZ(),r=_L();function i(a,...l){const o=l.length;return o>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:o>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(a,n.flatten(l),["asc"])}t.sortBy=i})(xb)),xb}var kb,wM;function IZ(){return wM||(wM=1,kb=zZ().sortBy),kb}var UZ=IZ();const Vg=zi(UZ);var RL=t=>t.legend.settings,HZ=t=>t.legend.size,$Z=t=>t.legend.payload,qZ=ie([$Z,RL],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Vg(r,n):r});function FZ(){return Oe(qZ)}var hm=1;function LL(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-e.height)>hm||Math.abs(l.left-e.left)>hm||Math.abs(l.top-e.top)>hm||Math.abs(l.width-e.width)>hm)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function hn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var VZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",SM=VZ,Ob=()=>Math.random().toString(36).substring(7).split("").join("."),WZ={INIT:`@@redux/INIT${Ob()}`,REPLACE:`@@redux/REPLACE${Ob()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ob()}`},Tp=WZ;function j2(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function BL(t,e,n){if(typeof t!="function")throw new Error(hn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(hn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(hn(1));return n(BL)(t,e)}let r=t,i=e,a=new Map,l=a,o=0,u=!1;function h(){l===a&&(l=new Map,a.forEach((j,N)=>{l.set(N,j)}))}function d(){if(u)throw new Error(hn(3));return i}function p(j){if(typeof j!="function")throw new Error(hn(4));if(u)throw new Error(hn(5));let N=!0;h();const A=o++;return l.set(A,j),function(){if(N){if(u)throw new Error(hn(6));N=!1,h(),l.delete(A),a=null}}}function y(j){if(!j2(j))throw new Error(hn(7));if(typeof j.type>"u")throw new Error(hn(8));if(typeof j.type!="string")throw new Error(hn(17));if(u)throw new Error(hn(9));try{u=!0,i=r(i,j)}finally{u=!1}return(a=l).forEach(A=>{A()}),j}function v(j){if(typeof j!="function")throw new Error(hn(10));r=j,y({type:Tp.REPLACE})}function b(){const j=p;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(hn(11));function A(){const T=N;T.next&&T.next(d())}return A(),{unsubscribe:j(A)}},[SM](){return this}}}return y({type:Tp.INIT}),{dispatch:y,subscribe:p,getState:d,replaceReducer:v,[SM]:b}}function KZ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Tp.INIT})>"u")throw new Error(hn(12));if(typeof n(void 0,{type:Tp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(hn(13))})}function zL(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const l=e[a];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{KZ(n)}catch(a){i=a}return function(l={},o){if(i)throw i;let u=!1;const h={};for(let d=0;d<r.length;d++){const p=r[d],y=n[p],v=l[p],b=y(v,o);if(typeof b>"u")throw o&&o.type,new Error(hn(14));h[p]=b,u=u||b!==v}return u=u||r.length!==Object.keys(l).length,u?h:l}}function Mp(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function GZ(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(hn(15))};const l={getState:i.getState,dispatch:(u,...h)=>a(u,...h)},o=t.map(u=>u(l));return a=Mp(...o)(i.dispatch),{...i,dispatch:a}}}function IL(t){return j2(t)&&"type"in t&&typeof t.type=="string"}var UL=Symbol.for("immer-nothing"),jM=Symbol.for("immer-draftable"),Rn=Symbol.for("immer-state");function Jr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var yr=Object,rc=yr.getPrototypeOf,Dp="constructor",Wg="prototype",Cw="configurable",Pp="enumerable",Im="writable",Tf="value",ba=t=>!!t&&!!t[Rn];function li(t){return t?HL(t)||Gg(t)||!!t[jM]||!!t[Dp]?.[jM]||Yg(t)||Qg(t):!1}var YZ=yr[Wg][Dp].toString(),CM=new WeakMap;function HL(t){if(!t||!C2(t))return!1;const e=rc(t);if(e===null||e===yr[Wg])return!0;const n=yr.hasOwnProperty.call(e,Dp)&&e[Dp];if(n===Object)return!0;if(!Po(n))return!1;let r=CM.get(n);return r===void 0&&(r=Function.toString.call(n),CM.set(n,r)),r===YZ}function Kg(t,e,n=!0){lh(t)===0?(n?Reflect.ownKeys(t):yr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function lh(t){const e=t[Rn];return e?e.type_:Gg(t)?1:Yg(t)?2:Qg(t)?3:0}var NM=(t,e,n=lh(t))=>n===2?t.has(e):yr[Wg].hasOwnProperty.call(t,e),Nw=(t,e,n=lh(t))=>n===2?t.get(e):t[e],_p=(t,e,n,r=lh(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function QZ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Gg=Array.isArray,Yg=t=>t instanceof Map,Qg=t=>t instanceof Set,C2=t=>typeof t=="object",Po=t=>typeof t=="function",Ab=t=>typeof t=="boolean";function XZ(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var oa=t=>t.copy_||t.base_,N2=t=>t.modified_?t.copy_:t.base_;function kw(t,e){if(Yg(t))return new Map(t);if(Qg(t))return new Set(t);if(Gg(t))return Array[Wg].slice.call(t);const n=HL(t);if(e===!0||e==="class_only"&&!n){const r=yr.getOwnPropertyDescriptors(t);delete r[Rn];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],o=r[l];o[Im]===!1&&(o[Im]=!0,o[Cw]=!0),(o.get||o.set)&&(r[l]={[Cw]:!0,[Im]:!0,[Pp]:o[Pp],[Tf]:t[l]})}return yr.create(rc(t),r)}else{const r=rc(t);if(r!==null&&n)return{...t};const i=yr.create(r);return yr.assign(i,t)}}function k2(t,e=!1){return Xg(t)||ba(t)||!li(t)||(lh(t)>1&&yr.defineProperties(t,{set:dm,add:dm,clear:dm,delete:dm}),yr.freeze(t),e&&Kg(t,(n,r)=>{k2(r,!0)},!1)),t}function ZZ(){Jr(2)}var dm={[Tf]:ZZ};function Xg(t){return t===null||!C2(t)?!0:yr.isFrozen(t)}var Rp="MapSet",Ow="Patches",kM="ArrayMethods",$L={};function Dl(t){const e=$L[t];return e||Jr(0,t),e}var OM=t=>!!$L[t],Mf,qL=()=>Mf,JZ=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:OM(Rp)?Dl(Rp):void 0,arrayMethodsPlugin_:OM(kM)?Dl(kM):void 0});function AM(t,e){e&&(t.patchPlugin_=Dl(Ow),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Aw(t){Ew(t),t.drafts_.forEach(eJ),t.drafts_=null}function Ew(t){t===Mf&&(Mf=t.parent_)}var EM=t=>Mf=JZ(Mf,t);function eJ(t){const e=t[Rn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function TM(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Rn].modified_&&(Aw(e),Jr(4)),li(t)&&(t=MM(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Rn].base_,t,e)}else t=MM(e,n);return tJ(e,t,!0),Aw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==UL?t:void 0}function MM(t,e){if(Xg(e))return e;const n=e[Rn];if(!n)return Lp(e,t.handledSet_,t);if(!Zg(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);WL(n,t)}return n.copy_}function tJ(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&k2(e,n)}function FL(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Zg=(t,e)=>t.scope_===e,nJ=[];function VL(t,e,n,r){const i=oa(t),a=t.type_;if(r!==void 0&&Nw(i,r,a)===e){_p(i,r,n,a);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;Kg(i,(u,h)=>{if(ba(h)){const d=o.get(h)||[];d.push(u),o.set(h,d)}})}const l=t.draftLocations_.get(e)??nJ;for(const o of l)_p(i,o,n,a)}function rJ(t,e,n){t.callbacks_.push(function(i){const a=e;if(!a||!Zg(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const l=N2(a);VL(t,a.draft_??a,l,n),WL(a,i)})}function WL(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}FL(t)}}function iJ(t,e,n){const{scope_:r}=t;if(ba(n)){const i=n[Rn];Zg(i,r)&&i.callbacks_.push(function(){Um(t);const l=N2(i);VL(t,n,l,e)})}else li(n)&&t.callbacks_.push(function(){const a=oa(t);t.type_===3?a.has(n)&&Lp(n,r.handledSet_,r):Nw(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Lp(Nw(t.copy_,e,t.type_),r.handledSet_,r)})}function Lp(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ba(t)||e.has(t)||!li(t)||Xg(t)||(e.add(t),Kg(t,(r,i)=>{if(ba(i)){const a=i[Rn];if(Zg(a,n)){const l=N2(a);_p(t,r,l,t.type_),FL(a)}}else li(i)&&Lp(i,e,n)})),t}function aJ(t,e){const n=Gg(t),r={type_:n?1:0,scope_:e?e.scope_:qL(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Bp;n&&(i=[r],a=Df);const{revoke:l,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=l,[o,r]}var Bp={get(t,e){if(e===Rn)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=oa(t);if(!NM(i,e,t.type_))return sJ(t,i,e);const a=i[e];if(t.finalized_||!li(a)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&XZ(e))return a;if(a===Eb(t.base_,e)){Um(t);const l=t.type_===1?+e:e,o=Mw(t.scope_,a,t,l);return t.copy_[l]=o}return a},has(t,e){return e in oa(t)},ownKeys(t){return Reflect.ownKeys(oa(t))},set(t,e,n){const r=KL(oa(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Eb(oa(t),e),a=i?.[Rn];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(QZ(n,i)&&(n!==void 0||NM(t.base_,e,t.type_)))return!0;Um(t),Tw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),iJ(t,e,n)),!0},deleteProperty(t,e){return Um(t),Eb(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),Tw(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=oa(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Im]:!0,[Cw]:t.type_!==1||e!=="length",[Pp]:r[Pp],[Tf]:n[e]}},defineProperty(){Jr(11)},getPrototypeOf(t){return rc(t.base_)},setPrototypeOf(){Jr(12)}},Df={};for(let t in Bp){let e=Bp[t];Df[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Df.deleteProperty=function(t,e){return Df.set.call(this,t,e,void 0)};Df.set=function(t,e,n){return Bp.set.call(this,t[0],e,n,t[0])};function Eb(t,e){const n=t[Rn];return(n?oa(n):t)[e]}function sJ(t,e,n){const r=KL(e,n);return r?Tf in r?r[Tf]:r.get?.call(t.draft_):void 0}function KL(t,e){if(!(e in t))return;let n=rc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=rc(n)}}function Tw(t){t.modified_||(t.modified_=!0,t.parent_&&Tw(t.parent_))}function Um(t){t.copy_||(t.assigned_=new Map,t.copy_=kw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var lJ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Po(n)&&!Po(r)){const l=r;r=n;const o=this;return function(h=l,...d){return o.produce(h,p=>r.call(this,p,...d))}}Po(r)||Jr(6),i!==void 0&&!Po(i)&&Jr(7);let a;if(li(n)){const l=EM(this),o=Mw(l,n,void 0);let u=!0;try{a=r(o),u=!1}finally{u?Aw(l):Ew(l)}return AM(l,i),TM(a,l)}else if(!n||!C2(n)){if(a=r(n),a===void 0&&(a=n),a===UL&&(a=void 0),this.autoFreeze_&&k2(a,!0),i){const l=[],o=[];Dl(Ow).generateReplacementPatches_(n,a,{patches_:l,inversePatches_:o}),i(l,o)}return a}else Jr(1,n)},this.produceWithPatches=(n,r)=>{if(Po(n))return(o,...u)=>this.produceWithPatches(o,h=>n(h,...u));let i,a;return[this.produce(n,r,(o,u)=>{i=o,a=u}),i,a]},Ab(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Ab(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Ab(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){li(e)||Jr(8),ba(e)&&(e=ii(e));const n=EM(this),r=Mw(n,e,void 0);return r[Rn].isManual_=!0,Ew(n),r}finishDraft(e,n){const r=e&&e[Rn];(!r||!r.isManual_)&&Jr(9);const{scope_:i}=r;return AM(i,n),TM(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Dl(Ow).applyPatches_;return ba(e)?i(e,n):this.produce(e,a=>i(a,n))}};function Mw(t,e,n,r){const[i,a]=Yg(e)?Dl(Rp).proxyMap_(e,n):Qg(e)?Dl(Rp).proxySet_(e,n):aJ(e,n);return(n?.scope_??qL()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?rJ(n,a,r):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:h}=u;a.modified_&&h&&h.generatePatches_(a,[],u)}),i}function ii(t){return ba(t)||Jr(10,t),GL(t)}function GL(t){if(!li(t)||Xg(t))return t;const e=t[Rn];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=kw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=kw(t,!0);return Kg(n,(i,a)=>{_p(n,i,GL(a))},r),e&&(e.finalized_=!1),n}var oJ=new lJ,YL=oJ.produce;function QL(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var cJ=QL(),uJ=QL,fJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Mp:Mp.apply(null,arguments)};function Vr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(vr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>IL(r)&&r.type===t,n}var XL=class Wu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Wu.prototype)}static get[Symbol.species](){return Wu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Wu(...e[0].concat(this)):new Wu(...e.concat(this))}};function DM(t){return li(t)?YL(t,()=>{}):t}function mm(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function hJ(t){return typeof t=="boolean"}var dJ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let l=new XL;return n&&(hJ(n)?l.push(cJ):l.push(uJ(n.extraArgument))),l},ZL="RTK_autoBatch",gt=()=>t=>({payload:t,meta:{[ZL]:!0}}),PM=t=>e=>{setTimeout(e,t)},JL=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,l=!1;const o=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:PM(10):t.type==="callback"?t.queueNotification:PM(t.timeout),h=()=>{l=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const p=()=>i&&d(),y=r.subscribe(p);return o.add(d),()=>{y(),o.delete(d)}},dispatch(d){try{return i=!d?.meta?.[ZL],a=!i,a&&(l||(l=!0,u(h))),r.dispatch(d)}finally{i=!0}}})},mJ=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new XL(t);return r&&i.push(JL(typeof r=="object"?r:void 0)),i};function pJ(t){const e=dJ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(j2(n))o=zL(n);else throw new Error(vr(1));let u;typeof r=="function"?u=r(e):u=e();let h=Mp;i&&(h=fJ({trace:!1,...typeof i=="object"&&i}));const d=GZ(...u),p=mJ(d);let y=typeof l=="function"?l(p):p();const v=h(...y);return BL(o,a,v)}function e8(t){const e={},n=[];let r;const i={addCase(a,l){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(vr(28));if(o in e)throw new Error(vr(29));return e[o]=l,i},addAsyncThunk(a,l){return l.pending&&(e[a.pending.type]=l.pending),l.rejected&&(e[a.rejected.type]=l.rejected),l.fulfilled&&(e[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function gJ(t){return typeof t=="function"}function yJ(t,e){let[n,r,i]=e8(e),a;if(gJ(t))a=()=>DM(t());else{const o=DM(t);a=()=>o}function l(o=a(),u){let h=[n[u.type],...r.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return h.filter(d=>!!d).length===0&&(h=[i]),h.reduce((d,p)=>{if(p)if(ba(d)){const v=p(d,u);return v===void 0?d:v}else{if(li(d))return YL(d,y=>p(y,u));{const y=p(d,u);if(y===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return d},o)}return l.getInitialState=a,l}var vJ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",xJ=(t=21)=>{let e="",n=t;for(;n--;)e+=vJ[Math.random()*64|0];return e},bJ=Symbol.for("rtk-slice-createasyncthunk");function wJ(t,e){return`${t}/${e}`}function SJ({creators:t}={}){const e=t?.asyncThunk?.[bJ];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(vr(11));const l=(typeof r.reducers=="function"?r.reducers(CJ()):r.reducers)||{},o=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(k,T){const D=typeof k=="string"?k:k.type;if(!D)throw new Error(vr(12));if(D in u.sliceCaseReducersByType)throw new Error(vr(13));return u.sliceCaseReducersByType[D]=T,h},addMatcher(k,T){return u.sliceMatchers.push({matcher:k,reducer:T}),h},exposeAction(k,T){return u.actionCreators[k]=T,h},exposeCaseReducer(k,T){return u.sliceCaseReducersByName[k]=T,h}};o.forEach(k=>{const T=l[k],D={reducerName:k,type:wJ(i,k),createNotation:typeof r.reducers=="function"};kJ(T)?AJ(D,T,h,e):NJ(D,T,h)});function d(){const[k={},T=[],D=void 0]=typeof r.extraReducers=="function"?e8(r.extraReducers):[r.extraReducers],M={...k,...u.sliceCaseReducersByType};return yJ(r.initialState,E=>{for(let _ in M)E.addCase(_,M[_]);for(let _ of u.sliceMatchers)E.addMatcher(_.matcher,_.reducer);for(let _ of T)E.addMatcher(_.matcher,_.reducer);D&&E.addDefaultCase(D)})}const p=k=>k,y=new Map,v=new WeakMap;let b;function C(k,T){return b||(b=d()),b(k,T)}function j(){return b||(b=d()),b.getInitialState()}function N(k,T=!1){function D(E){let _=E[k];return typeof _>"u"&&T&&(_=mm(v,D,j)),_}function M(E=p){const _=mm(y,T,()=>new WeakMap);return mm(_,E,()=>{const L={};for(const[I,B]of Object.entries(r.selectors??{}))L[I]=jJ(B,E,()=>mm(v,E,j),T);return L})}return{reducerPath:k,getSelectors:M,get selectors(){return M(D)},selectSlice:D}}const A={name:i,reducer:C,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:j,...N(a),injectInto(k,{reducerPath:T,...D}={}){const M=T??a;return k.inject({reducerPath:M,reducer:C},D),{...A,...N(M,!0)}}};return A}}function jJ(t,e,n,r){function i(a,...l){let o=e(a);return typeof o>"u"&&r&&(o=n()),t(o,...l)}return i.unwrapped=t,i}var Jn=SJ();function CJ(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function NJ({type:t,reducerName:e,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!OJ(r))throw new Error(vr(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,l?Vr(t,l):Vr(t))}function kJ(t){return t._reducerDefinitionType==="asyncThunk"}function OJ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function AJ({type:t,reducerName:e},n,r,i){if(!i)throw new Error(vr(18));const{payloadCreator:a,fulfilled:l,pending:o,rejected:u,settled:h,options:d}=n,p=i(t,a,d);r.exposeAction(e,p),l&&r.addCase(p.fulfilled,l),o&&r.addCase(p.pending,o),u&&r.addCase(p.rejected,u),h&&r.addMatcher(p.settled,h),r.exposeCaseReducer(e,{fulfilled:l||pm,pending:o||pm,rejected:u||pm,settled:h||pm})}function pm(){}var EJ="task",t8="listener",n8="completed",O2="cancelled",TJ=`task-${O2}`,MJ=`task-${n8}`,Dw=`${t8}-${O2}`,DJ=`${t8}-${n8}`,Jg=class{constructor(t){this.code=t,this.message=`${EJ} ${O2} (reason: ${t})`}name="TaskAbortError";message},A2=(t,e)=>{if(typeof t!="function")throw new TypeError(vr(32))},zp=()=>{},r8=(t,e=zp)=>(t.catch(e),t),i8=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Sl=t=>{if(t.aborted)throw new Jg(t.reason)};function a8(t,e){let n=zp;return new Promise((r,i)=>{const a=()=>i(new Jg(t.reason));if(t.aborted){a();return}n=i8(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=zp})}var PJ=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Jg?"cancelled":"rejected",error:n}}finally{e?.()}},Ip=t=>e=>r8(a8(t,e).then(n=>(Sl(t),n))),s8=t=>{const e=Ip(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Ko}=Object,_M={},e0="listenerMiddleware",_J=(t,e)=>{const n=r=>i8(t,()=>r.abort(t.reason));return(r,i)=>{A2(r);const a=new AbortController;n(a);const l=PJ(async()=>{Sl(t),Sl(a.signal);const o=await r({pause:Ip(a.signal),delay:s8(a.signal),signal:a.signal});return Sl(a.signal),o},()=>a.abort(MJ));return i?.autoJoin&&e.push(l.catch(zp)),{result:Ip(t)(l),cancel(){a.abort(TJ)}}}},RJ=(t,e)=>{const n=async(r,i)=>{Sl(e);let a=()=>{};const o=[new Promise((u,h)=>{let d=t({predicate:r,effect:(p,y)=>{y.unsubscribe(),u([p,y.getState(),y.getOriginalState()])}});a=()=>{d(),h()}})];i!=null&&o.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await a8(e,Promise.race(o));return Sl(e),u}finally{a()}};return(r,i)=>r8(n(r,i))},l8=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Vr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(vr(21));return A2(a),{predicate:i,type:e,effect:a}},o8=Ko(t=>{const{type:e,predicate:n,effect:r}=l8(t);return{id:xJ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(vr(22))}}},{withTypes:()=>o8}),RM=(t,e)=>{const{type:n,effect:r,predicate:i}=l8(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Pw=t=>{t.pending.forEach(e=>{e.abort(Dw)})},LJ=(t,e)=>()=>{for(const n of e.keys())Pw(n);t.clear()},LM=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},c8=Ko(Vr(`${e0}/add`),{withTypes:()=>c8}),BJ=Vr(`${e0}/removeAll`),u8=Ko(Vr(`${e0}/remove`),{withTypes:()=>u8}),zJ=(...t)=>{console.error(`${e0}/error`,...t)},oh=(t={})=>{const e=new Map,n=new Map,r=v=>{const b=n.get(v)??0;n.set(v,b+1)},i=v=>{const b=n.get(v)??1;b===1?n.delete(v):n.set(v,b-1)},{extra:a,onError:l=zJ}=t;A2(l);const o=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),b=>{v.unsubscribe(),b?.cancelActive&&Pw(v)}),u=v=>{const b=RM(e,v)??o8(v);return o(b)};Ko(u,{withTypes:()=>u});const h=v=>{const b=RM(e,v);return b&&(b.unsubscribe(),v.cancelActive&&Pw(b)),!!b};Ko(h,{withTypes:()=>h});const d=async(v,b,C,j)=>{const N=new AbortController,A=RJ(u,N.signal),k=[];try{v.pending.add(N),r(v),await Promise.resolve(v.effect(b,Ko({},C,{getOriginalState:j,condition:(T,D)=>A(T,D).then(Boolean),take:A,delay:s8(N.signal),pause:Ip(N.signal),extra:a,signal:N.signal,fork:_J(N.signal,k),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((T,D,M)=>{T!==N&&(T.abort(Dw),M.delete(T))})},cancel:()=>{N.abort(Dw),v.pending.delete(N)},throwIfCancelled:()=>{Sl(N.signal)}})))}catch(T){T instanceof Jg||LM(l,T,{raisedBy:"effect"})}finally{await Promise.all(k),N.abort(DJ),i(v),v.pending.delete(N)}},p=LJ(e,n);return{middleware:v=>b=>C=>{if(!IL(C))return b(C);if(c8.match(C))return u(C.payload);if(BJ.match(C)){p();return}if(u8.match(C))return h(C.payload);let j=v.getState();const N=()=>{if(j===_M)throw new Error(vr(23));return j};let A;try{if(A=b(C),e.size>0){const k=v.getState(),T=Array.from(e.values());for(const D of T){let M=!1;try{M=D.predicate(C,k,j)}catch(E){M=!1,LM(l,E,{raisedBy:"predicate"})}M&&d(D,C,v,N)}}}finally{j=_M}return A},startListening:u,stopListening:h,clearListeners:p}};function vr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var IJ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},f8=Jn({name:"chartLayout",initialState:IJ,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:UJ,setLayout:HJ,setChartSize:$J,setScale:qJ}=f8.actions,FJ=f8.reducer;function h8(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Ke(t){return Number.isFinite(t)}function Li(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){VJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VJ(t,e,n){return(e=WJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WJ(t){var e=KJ(t,"string");return typeof e=="symbol"?e:e+""}function KJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vn(t,e,n){return xn(t)||xn(e)?n:Ri(e)?Fg(t,e,n):typeof e=="function"?e(t):n}var GJ=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:o}=e;if((o==="vertical"||o==="horizontal"&&l==="middle")&&a!=="center"&&Ce(t[a]))return zo(zo({},t),{},{[a]:t[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&l!=="middle"&&Ce(t[l]))return zo(zo({},t),{},{[l]:t[l]+(i||0)})}return t},Oa=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",d8=(t,e,n,r)=>{if(r)return t.map(o=>o.coordinate);var i,a,l=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||l.push(e),a||l.push(n),l},m8=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:l,realScaleType:o,isCategorical:u,categoricalDomain:h,tickCount:d,ticks:p,niceTicks:y,axisType:v}=t;if(!l)return null;var b=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,C=i==="category"&&l.bandwidth?l.bandwidth()/b:0;if(C=v==="angleAxis"&&a&&a.length>=2?Ur(a[0]-a[1])*2*C:C,p||y){var j=(p||y||[]).map((N,A)=>{var k=r?r.indexOf(N):N,T=l.map(k);return Ke(T)?{coordinate:T+C,value:N,offset:C,index:A}:null}).filter(Qn);return j}return u&&h?h.map((N,A)=>{var k=l.map(N);return Ke(k)?{coordinate:k+C,value:N,index:A,offset:C}:null}).filter(Qn):l.ticks&&d!=null?l.ticks(d).map((N,A)=>{var k=l.map(N);return Ke(k)?{coordinate:k+C,value:N,index:A,offset:C}:null}).filter(Qn):l.domain().map((N,A)=>{var k=l.map(N);return Ke(k)?{coordinate:k+C,value:r?r[N]:N,index:A,offset:C}:null}).filter(Qn)},YJ=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,l=0,o=0;o<n;++o){var u=t[o],h=u?.[i];if(h!=null){var d=h[1],p=h[0],y=xa(d)?p:d;y>=0?(h[0]=a,a+=y,h[1]=a):(h[0]=l,l+=y,h[1]=l)}}}},QJ=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,l=0;l<n;++l){var o=t[l],u=o?.[i];if(u!=null){var h=xa(u[1])?u[0]:u[1];h>=0?(u[0]=a,a+=h,u[1]=a):(u[0]=0,u[1]=0)}}}},XJ={sign:YJ,expand:vX,none:Tl,silhouette:xX,wiggle:bX,positive:QJ},ZJ=(t,e,n)=>{var r,i=(r=XJ[n])!==null&&r!==void 0?r:Tl,a=yX().keys(e).value((o,u)=>Number(vn(o,u,0))).order(Sw).offset(i),l=a(t);return l.forEach((o,u)=>{o.forEach((h,d)=>{var p=vn(t[d],e[u],0);Array.isArray(p)&&p.length===2&&Ce(p[0])&&Ce(p[1])&&(h[0]=p[0],h[1]=p[1])})}),l};function zM(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!xn(i[e.dataKey])){var o=xL(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n!=null&&n[a]?n[a].coordinate+r/2:null}var u=vn(i,xn(l)?e.dataKey:l),h=e.scale.map(u);return Ce(h)?h:null}var JJ=t=>{var e=t.flat(2).filter(Ce);return[Math.min(...e),Math.max(...e)]},eee=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],tee=(t,e,n)=>{if(t!=null)return eee(Object.keys(t).reduce((r,i)=>{var a=t[i];if(!a)return r;var{stackedData:l}=a,o=l.reduce((u,h)=>{var d=h8(h,e,n),p=JJ(d);return!Ke(p[0])||!Ke(p[1])?u:[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},IM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Up=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Vg(e,d=>d.coordinate),a=1/0,l=1,o=i.length;l<o;l++){var u=i[l],h=i[l-1];a=Math.min((u?.coordinate||0)-(h?.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function HM(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return zo(zo({},e),{},{dataKey:n,payload:r,value:i,name:a})}function p8(t,e){if(t)return String(t);if(typeof e=="string")return e}var nee=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},ree=(t,e)=>e==="centric"?t.angle:t.radius,Aa=t=>t.layout.width,Ea=t=>t.layout.height,iee=t=>t.layout.scale,g8=t=>t.layout.margin,t0=ie(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),n0=ie(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),aee="data-recharts-item-index",see="data-recharts-item-id",ch=60;function $M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(n),!0).forEach(function(r){lee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lee(t,e,n){return(e=oee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oee(t){var e=cee(t,"string");return typeof e=="symbol"?e:e+""}function cee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uee=t=>t.brush.height;function fee(t){var e=n0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ch;return n+i}return n},0)}function hee(t){var e=n0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ch;return n+i}return n},0)}function dee(t){var e=t0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function mee(t){var e=t0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var wn=ie([Aa,Ea,g8,uee,fee,hee,dee,mee,RL,HZ],(t,e,n,r,i,a,l,o,u,h)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+l,bottom:(n.bottom||0)+o},y=gm(gm({},p),d),v=y.bottom;y.bottom+=r,y=GJ(y,u,h);var b=t-y.left-y.right,C=e-y.top-y.bottom;return gm(gm({brushBottom:v},y),{},{width:Math.max(b,0),height:Math.max(C,0)})}),pee=ie(wn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),y8=ie(Aa,Ea,(t,e)=>({x:0,y:0,width:t,height:e})),gee=w.createContext(null),er=()=>w.useContext(gee)!=null,r0=t=>t.brush,i0=ie([r0,wn,g8],(t,e,n)=>({height:t.height,x:Ce(t.x)?t.x:e.left,y:Ce(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ce(t.width)?t.width:e.width})),Tb={},Mb={},Db={},qM;function yee(){return qM||(qM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let l,o=null;const u=a!=null&&a.includes("leading"),h=a==null||a.includes("trailing"),d=()=>{o!==null&&(n.apply(l,o),l=void 0,o=null)},p=()=>{h&&d(),C()};let y=null;const v=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},r)},b=()=>{y!==null&&(clearTimeout(y),y=null)},C=()=>{b(),l=void 0,o=null},j=()=>{d()},N=function(...A){if(i?.aborted)return;l=this,o=A;const k=y==null;v(),u&&k&&d()};return N.schedule=v,N.cancel=C,N.flush=j,i?.addEventListener("abort",C,{once:!0}),N}t.debounce=e})(Db)),Db}var FM;function vee(){return FM||(FM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yee();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:o=!0,maxWait:u}=a,h=Array(2);l&&(h[0]="leading"),o&&(h[1]="trailing");let d,p=null;const y=e.debounce(function(...C){d=r.apply(this,C),p=null},i,{edges:h}),v=function(...C){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(d=r.apply(this,C),p=Date.now(),y.cancel(),y.schedule(),d):(y.apply(this,C),d)},b=()=>(y.flush(),d);return v.cancel=y.cancel,v.flush=b,v}t.debounce=n})(Mb)),Mb}var VM;function xee(){return VM||(VM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vee();function n(r,i=0,a={}){const{leading:l=!0,trailing:o=!0}=a;return e.debounce(r,i,{leading:l,maxWait:i,trailing:o})}t.throttle=n})(Tb)),Tb}var Pb,WM;function bee(){return WM||(WM=1,Pb=xee().throttle),Pb}var wee=bee();const See=zi(wee);var Hp=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},Ei={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},v8=(t,e,n)=>{var{width:r=Ei.width,height:i=Ei.height,aspect:a,maxHeight:l}=n,o=Ml(r)?t:Number(r),u=Ml(i)?e:Number(i);return a&&a>0&&(o?u=o/a:u&&(o=u*a),l&&u!=null&&u>l&&(u=l)),{calculatedWidth:o,calculatedHeight:u}},jee={width:0,height:0,overflow:"visible"},Cee={width:0,overflowX:"visible"},Nee={height:0,overflowY:"visible"},kee={},Oee=t=>{var{width:e,height:n}=t,r=Ml(e),i=Ml(n);return r&&i?jee:r?Cee:i?Nee:kee};function Aee(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i=Ei.width,a=Ei.height):i===void 0?i=r&&r>0?void 0:Ei.width:a===void 0&&(a=r&&r>0?void 0:Ei.height),{width:i,height:a}}function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_w.apply(null,arguments)}function KM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(n),!0).forEach(function(r){Eee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eee(t,e,n){return(e=Tee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tee(t){var e=Mee(t,"string");return typeof e=="symbol"?e:e+""}function Mee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x8=w.createContext(Ei.initialDimension);function Dee(t){return Li(t.width)&&Li(t.height)}function b8(t){var{children:e,width:n,height:r}=t,i=w.useMemo(()=>({width:n,height:r}),[n,r]);return Dee(i)?w.createElement(x8.Provider,{value:i},e):null}var E2=()=>w.useContext(x8),Pee=w.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=Ei.initialDimension,width:i,height:a,minWidth:l=Ei.minWidth,minHeight:o,maxHeight:u,children:h,debounce:d=Ei.debounce,id:p,className:y,onResize:v,style:b={}}=t,C=w.useRef(null),j=w.useRef();j.current=v,w.useImperativeHandle(e,()=>C.current);var[N,A]=w.useState({containerWidth:r.width,containerHeight:r.height}),k=w.useCallback((_,L)=>{A(I=>{var B=Math.round(_),z=Math.round(L);return I.containerWidth===B&&I.containerHeight===z?I:{containerWidth:B,containerHeight:z}})},[]);w.useEffect(()=>{if(C.current==null||typeof ResizeObserver>"u")return yc;var _=z=>{var $,ee=z[0];if(ee!=null){var{width:F,height:H}=ee.contentRect;k(F,H),($=j.current)===null||$===void 0||$.call(j,F,H)}};d>0&&(_=See(_,d,{trailing:!0,leading:!1}));var L=new ResizeObserver(_),{width:I,height:B}=C.current.getBoundingClientRect();return k(I,B),L.observe(C.current),()=>{L.disconnect()}},[k,d]);var{containerWidth:T,containerHeight:D}=N;Hp(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:M,calculatedHeight:E}=v8(T,D,{width:i,height:a,aspect:n,maxHeight:u});return Hp(M!=null&&M>0||E!=null&&E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,E,i,a,l,o,n),w.createElement("div",{id:p?"".concat(p):void 0,className:at("recharts-responsive-container",y),style:GM(GM({},b),{},{width:i,height:a,minWidth:l,minHeight:o,maxHeight:u}),ref:C},w.createElement("div",{style:Oee({width:i,height:a})},w.createElement(b8,{width:M,height:E},h)))}),$p=w.forwardRef((t,e)=>{var n=E2();if(Li(n.width)&&Li(n.height))return t.children;var{width:r,height:i}=Aee({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:l}=v8(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ce(a)&&Ce(l)?w.createElement(b8,{width:a,height:l},t.children):w.createElement(Pee,_w({},t,{width:r,height:i,ref:e}))});function T2(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var a0=()=>{var t,e=er(),n=Oe(pee),r=Oe(i0),i=(t=Oe(r0))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},_ee={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},w8=()=>{var t;return(t=Oe(wn))!==null&&t!==void 0?t:_ee},M2=()=>Oe(Aa),D2=()=>Oe(Ea),Ree=()=>Oe(t=>t.layout.margin),wt=t=>t.layout.layoutType,vc=()=>Oe(wt),S8=()=>{var t=vc();if(t==="horizontal"||t==="vertical")return t},j8=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},Lee=()=>{var t=vc();return t!==void 0},uh=t=>{var e=Ut(),n=er(),{width:r,height:i}=t,a=E2(),l=r,o=i;return a&&(l=a.width>0?a.width:r,o=a.height>0?a.height:i),w.useEffect(()=>{!n&&Li(l)&&Li(o)&&e($J({width:l,height:o}))},[e,n,l,o]),null},C8=Symbol.for("immer-nothing"),YM=Symbol.for("immer-draftable"),xr=Symbol.for("immer-state");function ei(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Pf=Object.getPrototypeOf;function ic(t){return!!t&&!!t[xr]}function Pl(t){return t?N8(t)||Array.isArray(t)||!!t[YM]||!!t.constructor?.[YM]||fh(t)||l0(t):!1}var Bee=Object.prototype.constructor.toString(),QM=new WeakMap;function N8(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=QM.get(n);return r===void 0&&(r=Function.toString.call(n),QM.set(n,r)),r===Bee}function qp(t,e,n=!0){s0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function s0(t){const e=t[xr];return e?e.type_:Array.isArray(t)?1:fh(t)?2:l0(t)?3:0}function Rw(t,e){return s0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function k8(t,e,n){const r=s0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function zee(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function fh(t){return t instanceof Map}function l0(t){return t instanceof Set}function ll(t){return t.copy_||t.base_}function Lw(t,e){if(fh(t))return new Map(t);if(l0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=N8(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[xr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],o=r[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[l]})}return Object.create(Pf(t),r)}else{const r=Pf(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function P2(t,e=!1){return o0(t)||ic(t)||!Pl(t)||(s0(t)>1&&Object.defineProperties(t,{set:ym,add:ym,clear:ym,delete:ym}),Object.freeze(t),e&&Object.values(t).forEach(n=>P2(n,!0))),t}function Iee(){ei(2)}var ym={value:Iee};function o0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Uee={};function _l(t){const e=Uee[t];return e||ei(0,t),e}var _f;function O8(){return _f}function Hee(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function XM(t,e){e&&(_l("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Bw(t){zw(t),t.drafts_.forEach($ee),t.drafts_=null}function zw(t){t===_f&&(_f=t.parent_)}function ZM(t){return _f=Hee(_f,t)}function $ee(t){const e=t[xr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function JM(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[xr].modified_&&(Bw(e),ei(4)),Pl(t)&&(t=Fp(e,t),e.parent_||Vp(e,t)),e.patches_&&_l("Patches").generateReplacementPatches_(n[xr].base_,t,e.patches_,e.inversePatches_)):t=Fp(e,n,[]),Bw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==C8?t:void 0}function Fp(t,e,n){if(o0(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[xr];if(!i)return qp(e,(a,l)=>eD(t,i,e,a,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Vp(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,o=!1;i.type_===3&&(l=new Set(a),a.clear(),o=!0),qp(l,(u,h)=>eD(t,i,a,u,h,n,o),r),Vp(t,a,!1),n&&t.patches_&&_l("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function eD(t,e,n,r,i,a,l){if(i==null||typeof i!="object"&&!l)return;const o=o0(i);if(!(o&&!l)){if(ic(i)){const u=a&&e&&e.type_!==3&&!Rw(e.assigned_,r)?a.concat(r):void 0,h=Fp(t,i,u);if(k8(n,r,h),ic(h))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Pl(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;Fp(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(fh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Vp(t,i)}}}function Vp(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&P2(e,n)}function qee(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:O8(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=_2;n&&(i=[r],a=Rf);const{revoke:l,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=l,o}var _2={get(t,e){if(e===xr)return t;const n=ll(t);if(!Rw(n,e))return Fee(t,n,e);const r=n[e];return t.finalized_||!Pl(r)?r:r===_b(t.base_,e)?(Rb(t),t.copy_[e]=Uw(r,t)):r},has(t,e){return e in ll(t)},ownKeys(t){return Reflect.ownKeys(ll(t))},set(t,e,n){const r=A8(ll(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=_b(ll(t),e),a=i?.[xr];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(zee(n,i)&&(n!==void 0||Rw(t.base_,e)))return!0;Rb(t),Iw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return _b(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Rb(t),Iw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ll(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ei(11)},getPrototypeOf(t){return Pf(t.base_)},setPrototypeOf(){ei(12)}},Rf={};qp(_2,(t,e)=>{Rf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Rf.deleteProperty=function(t,e){return Rf.set.call(this,t,e,void 0)};Rf.set=function(t,e,n){return _2.set.call(this,t[0],e,n,t[0])};function _b(t,e){const n=t[xr];return(n?ll(n):t)[e]}function Fee(t,e,n){const r=A8(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function A8(t,e){if(!(e in t))return;let n=Pf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Pf(n)}}function Iw(t){t.modified_||(t.modified_=!0,t.parent_&&Iw(t.parent_))}function Rb(t){t.copy_||(t.copy_=Lw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Vee=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const l=this;return function(u=a,...h){return l.produce(u,d=>n.call(this,d,...h))}}typeof n!="function"&&ei(6),r!==void 0&&typeof r!="function"&&ei(7);let i;if(Pl(e)){const a=ZM(this),l=Uw(e,void 0);let o=!0;try{i=n(l),o=!1}finally{o?Bw(a):zw(a)}return XM(a,r),JM(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===C8&&(i=void 0),this.autoFreeze_&&P2(i,!0),r){const a=[],l=[];_l("Patches").generateReplacementPatches_(e,i,a,l),r(a,l)}return i}else ei(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...o)=>this.produceWithPatches(l,u=>e(u,...o));let r,i;return[this.produce(e,n,(l,o)=>{r=l,i=o}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Pl(t)||ei(8),ic(t)&&(t=Wee(t));const e=ZM(this),n=Uw(t,void 0);return n[xr].isManual_=!0,zw(e),n}finishDraft(t,e){const n=t&&t[xr];(!n||!n.isManual_)&&ei(9);const{scope_:r}=n;return XM(r,e),JM(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=_l("Patches").applyPatches_;return ic(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Uw(t,e){const n=fh(t)?_l("MapSet").proxyMap_(t,e):l0(t)?_l("MapSet").proxySet_(t,e):qee(t,e);return(e?e.scope_:O8()).drafts_.push(n),n}function Wee(t){return ic(t)||ei(10,t),E8(t)}function E8(t){if(!Pl(t)||o0(t))return t;const e=t[xr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Lw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Lw(t,!0);return qp(n,(i,a)=>{k8(n,i,E8(a))},r),e&&(e.finalized_=!1),n}var Kee=new Vee;Kee.produce;var Gee={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},T8=Jn({name:"legend",initialState:Gee,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:gt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ii(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:gt()},removeLegendPayload:{reducer(t,e){var n=ii(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:gt()}}}),{setLegendSize:tD,setLegendSettings:Yee,addLegendPayload:Qee,replaceLegendPayload:Xee,removeLegendPayload:Zee}=T8.actions,Jee=T8.reducer,ete=["contextPayload"];function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hw.apply(null,arguments)}function nD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ac(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nD(Object(n),!0).forEach(function(r){tte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tte(t,e,n){return(e=nte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nte(t){var e=rte(t,"string");return typeof e=="symbol"?e:e+""}function rte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ite(t,e){if(t==null)return{};var n,r,i=ate(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ate(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ste(t){return t.value}function lte(t){var{contextPayload:e}=t,n=ite(t,ete),r=ML(e,t.payloadUniqBy,ste),i=ac(ac({},n),{},{payload:r});return w.isValidElement(t.content)?w.cloneElement(t.content,i):typeof t.content=="function"?w.createElement(t.content,i):w.createElement(YX,i)}function ote(t,e,n,r,i,a){var{layout:l,align:o,verticalAlign:u}=e,h,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&l==="vertical"?h={left:((r||0)-a.width)/2}:h=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(u==="middle"?d={top:((i||0)-a.height)/2}:d=u==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),ac(ac({},h),d)}function cte(t){var e=Ut();return w.useEffect(()=>{e(Yee(t))},[e,t]),null}function ute(t){var e=Ut();return w.useEffect(()=>(e(tD(t)),()=>{e(tD({width:0,height:0}))}),[e,t]),null}function fte(t,e,n,r){return t==="vertical"&&e!=null?{height:e}:t==="horizontal"?{width:n||r}:null}var hte={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function R2(t){var e=On(t,hte),n=FZ(),r=HQ(),i=Ree(),{width:a,height:l,wrapperStyle:o,portal:u}=e,[h,d]=LL([n]),p=M2(),y=D2();if(p==null||y==null)return null;var v=p-(i?.left||0)-(i?.right||0),b=fte(e.layout,l,a,v),C=u?o:ac(ac({position:"absolute",width:b?.width||a||"auto",height:b?.height||l||"auto"},ote(o,e,i,p,y,h)),o),j=u??r;if(j==null||n==null)return null;var N=w.createElement("div",{className:"recharts-legend-wrapper",style:C,ref:d},w.createElement(cte,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!u&&w.createElement(ute,{width:h.width,height:h.height}),w.createElement(lte,Hw({},e,b,{margin:i,chartWidth:p,chartHeight:y,contextPayload:n})));return vS.createPortal(N,j)}R2.displayName="Legend";function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$w.apply(null,arguments)}function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dte(t,e,n){return(e=mte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mte(t){var e=pte(t,"string");return typeof e=="symbol"?e:e+""}function pte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gte(t){return Array.isArray(t)&&Ri(t[0])&&Ri(t[1])?t.join(" ~ "):t}var Oo={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},yte=t=>{var{separator:e=Oo.separator,contentStyle:n,itemStyle:r,labelStyle:i=Oo.labelStyle,payload:a,formatter:l,itemSorter:o,wrapperClassName:u,labelClassName:h,label:d,labelFormatter:p,accessibilityLayer:y=Oo.accessibilityLayer}=t,v=()=>{if(a&&a.length){var D={padding:0,margin:0},M=(o?Vg(a,o):a).map((E,_)=>{if(E.type==="none")return null;var L=E.formatter||l||gte,{value:I,name:B}=E,z=I,$=B;if(L){var ee=L(I,B,E,_,a);if(Array.isArray(ee))[z,$]=ee;else if(ee!=null)z=ee;else return null}var F=Mu(Mu({},Oo.itemStyle),{},{color:E.color||Oo.itemStyle.color},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:F},Ri($)?w.createElement("span",{className:"recharts-tooltip-item-name"},$):null,Ri($)?w.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,w.createElement("span",{className:"recharts-tooltip-item-value"},z),w.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:D},M)}return null},b=Mu(Mu({},Oo.contentStyle),n),C=Mu({margin:0},i),j=!xn(d),N=j?d:"",A=at("recharts-default-tooltip",u),k=at("recharts-tooltip-label",h);j&&p&&a!==void 0&&a!==null&&(N=p(d,a));var T=y?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",$w({className:A,style:b},T),w.createElement("p",{className:k,style:C},w.isValidElement(N)?N:"".concat(N)),v())},Du="recharts-tooltip-wrapper",vte={visibility:"hidden"};function xte(t){var{coordinate:e,translateX:n,translateY:r}=t;return at(Du,{["".concat(Du,"-right")]:Ce(n)&&e&&Ce(e.x)&&n>=e.x,["".concat(Du,"-left")]:Ce(n)&&e&&Ce(e.x)&&n<e.x,["".concat(Du,"-bottom")]:Ce(r)&&e&&Ce(e.y)&&r>=e.y,["".concat(Du,"-top")]:Ce(r)&&e&&Ce(e.y)&&r<e.y})}function iD(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:a,reverseDirection:l,tooltipDimension:o,viewBox:u,viewBoxDimension:h}=t;if(a&&Ce(a[r]))return a[r];var d=n[r]-o-(i>0?i:0),p=n[r]+i;if(e[r])return l[r]?d:p;var y=u[r];if(y==null)return 0;if(l[r]){var v=d,b=y;return v<b?Math.max(p,y):Math.max(d,y)}if(h==null)return 0;var C=p+o,j=y+h;return C>j?Math.max(d,y):Math.max(p,y)}function bte(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function wte(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:a,reverseDirection:l,tooltipBox:o,useTranslate3d:u,viewBox:h}=t,d,p,y;return o.height>0&&o.width>0&&n?(p=iD({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:a,reverseDirection:l,tooltipDimension:o.width,viewBox:h,viewBoxDimension:h.width}),y=iD({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:a,reverseDirection:l,tooltipDimension:o.height,viewBox:h,viewBoxDimension:h.height}),d=bte({translateX:p,translateY:y,useTranslate3d:u})):d=vte,{cssProperties:d,cssClasses:xte({translateX:p,translateY:y,coordinate:n})}}function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){qw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qw(t,e,n){return(e=Ste(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ste(t){var e=jte(t,"string");return typeof e=="symbol"?e:e+""}function jte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Cte extends w.PureComponent{constructor(){super(...arguments),qw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),qw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:l,hasPayload:o,isAnimationActive:u,offset:h,position:d,reverseDirection:p,useTranslate3d:y,viewBox:v,wrapperStyle:b,lastBoundingBox:C,innerRef:j,hasPortalFromProps:N}=this.props,A=typeof h=="number"?h:h.x,k=typeof h=="number"?h:h.y,{cssClasses:T,cssProperties:D}=wte({allowEscapeViewBox:n,coordinate:l,offsetLeft:A,offsetTop:k,position:d,reverseDirection:p,tooltipBox:{height:C.height,width:C.width},useTranslate3d:y,viewBox:v}),M=N?{}:vm(vm({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),E=vm(vm({},M),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},b);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:T,style:E,ref:j},a)}}var M8=()=>{var t;return(t=Oe(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fw.apply(null,arguments)}function sD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sD(Object(n),!0).forEach(function(r){Nte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nte(t,e,n){return(e=kte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kte(t){var e=Ote(t,"string");return typeof e=="symbol"?e:e+""}function Ote(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oD={curveBasisClosed:sX,curveBasisOpen:lX,curveBasis:aX,curveBumpX:VQ,curveBumpY:WQ,curveLinearClosed:oX,curveLinear:$g,curveMonotoneX:cX,curveMonotoneY:uX,curveNatural:fX,curveStep:hX,curveStepAfter:mX,curveStepBefore:dX},Wp=t=>Ke(t.x)&&Ke(t.y),cD=t=>t.base!=null&&Wp(t.base)&&Wp(t),Pu=t=>t.x,_u=t=>t.y,Ate=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(sh(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=oD["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return oD[n]||$g},uD={connectNulls:!1,type:"linear"},Ete=t=>{var{type:e=uD.type,points:n=[],baseLine:r,layout:i,connectNulls:a=uD.connectNulls}=t,l=Ate(e,i),o=a?n.filter(Wp):n;if(Array.isArray(r)){var u,h=n.map((b,C)=>lD(lD({},b),{},{base:r[C]}));i==="vertical"?u=um().y(_u).x1(Pu).x0(b=>b.base.x):u=um().x(Pu).y1(_u).y0(b=>b.base.y);var d=u.defined(cD).curve(l),p=a?h.filter(cD):h;return d(p)}var y;i==="vertical"&&Ce(r)?y=um().y(_u).x1(Pu).x0(r):Ce(r)?y=um().x(Pu).y1(_u).y0(r):y=sL().x(Pu).y(_u);var v=y.defined(Wp).curve(l);return v(o)},D8=t=>{var{className:e,points:n,path:r,pathRef:i}=t,a=vc();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},o=n&&n.length?Ete(l):r;return w.createElement("path",Fw({},_i(t),x2(t),{className:at("recharts-curve",e),d:o===null?void 0:o,ref:i}))},Tte=["x","y","top","left","width","height","className"];function Vw(){return Vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vw.apply(null,arguments)}function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){Dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dte(t,e,n){return(e=Pte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pte(t){var e=_te(t,"string");return typeof e=="symbol"?e:e+""}function _te(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rte(t,e){if(t==null)return{};var n,r,i=Lte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Bte=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),zte=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:l=0,className:o}=t,u=Rte(t,Tte),h=Mte({x:e,y:n,top:r,left:i,width:a,height:l},u);return!Ce(e)||!Ce(n)||!Ce(a)||!Ce(l)||!Ce(r)||!Ce(i)?null:w.createElement("path",Vw({},_n(h),{className:at("recharts-cross",o),d:Bte(e,n,a,l,r,i)}))};function Ite(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){Ute(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ute(t,e,n){return(e=Hte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hte(t){var e=$te(t,"string");return typeof e=="symbol"?e:e+""}function $te(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qte=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),P8=(t,e,n)=>t.map(r=>"".concat(qte(r)," ").concat(e,"ms ").concat(n)).join(","),Fte=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Lf=(t,e)=>Object.keys(e).reduce((n,r)=>dD(dD({},n),{},{[r]:t(r,e[r])}),{});function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){Vte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vte(t,e,n){return(e=Wte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wte(t){var e=Kte(t,"string");return typeof e=="symbol"?e:e+""}function Kte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kp=(t,e,n)=>t+(e-t)*n,Ww=t=>{var{from:e,to:n}=t;return e!==n},_8=(t,e,n)=>{var r=Lf((i,a)=>{if(Ww(a)){var[l,o]=t(a.from,a.to,a.velocity);return $t($t({},a),{},{from:l,velocity:o})}return a},e);return n<1?Lf((i,a)=>Ww(a)&&r[i]!=null?$t($t({},a),{},{velocity:Kp(a.velocity,r[i].velocity,n),from:Kp(a.from,r[i].from,n)}):a,e):_8(t,r,n-1)};function Gte(t,e,n,r,i,a){var l,o=r.reduce((y,v)=>$t($t({},y),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),u=()=>Lf((y,v)=>v.from,o),h=()=>!Object.values(o).filter(Ww).length,d=null,p=y=>{l||(l=y);var v=y-l,b=v/n.dt;o=_8(n,o,b),i($t($t($t({},t),e),u())),l=y,h()||(d=a.setTimeout(p))};return()=>(d=a.setTimeout(p),()=>{var y;(y=d)===null||y===void 0||y()})}function Yte(t,e,n,r,i,a,l){var o=null,u=i.reduce((p,y)=>{var v=t[y],b=e[y];return v==null||b==null?p:$t($t({},p),{},{[y]:[v,b]})},{}),h,d=p=>{h||(h=p);var y=(p-h)/r,v=Lf((C,j)=>Kp(...j,n(y)),u);if(a($t($t($t({},t),e),v)),y<1)o=l.setTimeout(d);else{var b=Lf((C,j)=>Kp(...j,n(1)),u);a($t($t($t({},t),e),b))}};return()=>(o=l.setTimeout(d),()=>{var p;(p=o)===null||p===void 0||p()})}const Qte=(t,e,n,r,i,a)=>{var l=Fte(t,e);return n==null?()=>(i($t($t({},t),e)),()=>{}):n.isStepper===!0?Gte(t,e,n,l,i,a):Yte(t,e,n,r,l,i,a)};var Gp=1e-4,R8=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],L8=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),pD=(t,e)=>n=>{var r=R8(t,e);return L8(r,n)},Xte=(t,e)=>n=>{var r=R8(t,e),i=[...r.map((a,l)=>a*l).slice(1),0];return L8(i,n)},Zte=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},Jte=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Zte(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},ene=(t,e,n,r)=>{var i=pD(t,n),a=pD(e,r),l=Xte(t,n),o=h=>h>1?1:h<0?0:h,u=h=>{for(var d=h>1?1:h,p=d,y=0;y<8;++y){var v=i(p)-d,b=l(p);if(Math.abs(v-d)<Gp||b<Gp)return a(p);p=o(p-v/b)}return a(p)};return u.isStepper=!1,u},gD=function(){return ene(...Jte(...arguments))},tne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(l,o,u)=>{var h=-(l-o)*n,d=u*r,p=u+(h-d)*i/1e3,y=u*i/1e3+l;return Math.abs(y-o)<Gp&&Math.abs(p)<Gp?[o,0]:[y,p]};return a.isStepper=!0,a.dt=i,a},nne=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gD(t);case"spring":return tne();default:if(t.split("(")[0]==="cubic-bezier")return gD(t)}return typeof t=="function"?t:null};function rne(t){var e,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var o=l,[u,...h]=o;if(typeof u=="number"){i=t.setTimeout(a.bind(null,h),u);return}a(u),i=t.setTimeout(a.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class ine{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function ane(){return rne(new ine)}var sne=w.createContext(ane);function lne(t,e){var n=w.useContext(sne);return w.useMemo(()=>e??n(t),[t,e,n])}var one=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),c0={isSsr:one()},cne={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},yD={t:0},Lb={t:1};function L2(t){var e=On(t,cne),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:o,onAnimationStart:u,children:h}=e,d=n==="auto"?!c0.isSsr:n,p=lne(e.animationId,e.animationManager),[y,v]=w.useState(d?yD:Lb),b=w.useRef(null);return w.useEffect(()=>{d||v(Lb)},[d]),w.useEffect(()=>{if(!d||!r)return yc;var C=Qte(yD,Lb,nne(a),i,v,p.getTimeoutController()),j=()=>{b.current=C()};return p.start([u,l,j,i,o]),()=>{p.stop(),b.current&&b.current(),o()}},[d,r,i,a,l,u,o,p]),h(y.t)}function B2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Ef(e)),r=w.useRef(t);return r.current!==t&&(n.current=Ef(e),r.current=t),n.current}var une=["radius"],fne=["radius"],vD,xD,bD,wD,SD,jD,CD,ND,kD,OD;function AD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ED(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AD(Object(n),!0).forEach(function(r){hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hne(t,e,n){return(e=dne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dne(t){var e=mne(t,"string");return typeof e=="symbol"?e:e+""}function mne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yp(){return Yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yp.apply(null,arguments)}function TD(t,e){if(t==null)return{};var n,r,i=pne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vi(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var MD=(t,e,n,r,i)=>{var a=ps(n),l=ps(r),o=Math.min(Math.abs(a)/2,Math.abs(l)/2),u=l>=0?1:-1,h=a>=0?1:-1,d=l>=0&&a>=0||l<0&&a<0?1:0,p;if(o>0&&Array.isArray(i)){for(var y=[0,0,0,0],v=0,b=4;v<b;v++){var C,j=(C=i[v])!==null&&C!==void 0?C:0;y[v]=j>o?o:j}p=kt(vD||(vD=vi(["M",",",""])),t,e+u*y[0]),y[0]>0&&(p+=kt(xD||(xD=vi(["A ",",",",0,0,",",",",",""])),y[0],y[0],d,t+h*y[0],e)),p+=kt(bD||(bD=vi(["L ",",",""])),t+n-h*y[1],e),y[1]>0&&(p+=kt(wD||(wD=vi(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],d,t+n,e+u*y[1])),p+=kt(SD||(SD=vi(["L ",",",""])),t+n,e+r-u*y[2]),y[2]>0&&(p+=kt(jD||(jD=vi(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],d,t+n-h*y[2],e+r)),p+=kt(CD||(CD=vi(["L ",",",""])),t+h*y[3],e+r),y[3]>0&&(p+=kt(ND||(ND=vi(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],d,t,e+r-u*y[3])),p+="Z"}else if(o>0&&i===+i&&i>0){var N=Math.min(o,i);p=kt(kD||(kD=vi(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+u*N,N,N,d,t+h*N,e,t+n-h*N,e,N,N,d,t+n,e+u*N,t+n,e+r-u*N,N,N,d,t+n-h*N,e+r,t+h*N,e+r,N,N,d,t,e+r-u*N)}else p=kt(OD||(OD=vi(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return p},DD={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},B8=t=>{var e=On(t,DD),n=w.useRef(null),[r,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var V=n.current.getTotalLength();V&&i(V)}catch{}},[]);var{x:a,y:l,width:o,height:u,radius:h,className:d}=e,{animationEasing:p,animationDuration:y,animationBegin:v,isAnimationActive:b,isUpdateAnimationActive:C}=e,j=w.useRef(o),N=w.useRef(u),A=w.useRef(a),k=w.useRef(l),T=w.useMemo(()=>({x:a,y:l,width:o,height:u,radius:h}),[a,l,o,u,h]),D=B2(T,"rectangle-");if(a!==+a||l!==+l||o!==+o||u!==+u||o===0||u===0)return null;var M=at("recharts-rectangle",d);if(!C){var E=_n(e),{radius:_}=E,L=TD(E,une);return w.createElement("path",Yp({},L,{x:ps(a),y:ps(l),width:ps(o),height:ps(u),radius:typeof h=="number"?h:void 0,className:M,d:MD(a,l,o,u,h)}))}var I=j.current,B=N.current,z=A.current,$=k.current,ee="0px ".concat(r===-1?1:r,"px"),F="".concat(r,"px 0px"),H=P8(["strokeDasharray"],y,typeof p=="string"?p:DD.animationEasing);return w.createElement(L2,{animationId:D,key:D,canBegin:r>0,duration:y,easing:p,isActive:C,begin:v},V=>{var Q=Kn(I,o,V),se=Kn(B,u,V),he=Kn(z,a,V),R=Kn($,l,V);n.current&&(j.current=Q,N.current=se,A.current=he,k.current=R);var W;b?V>0?W={transition:H,strokeDasharray:F}:W={strokeDasharray:ee}:W={strokeDasharray:F};var fe=_n(e),{radius:Z}=fe,de=TD(fe,fne);return w.createElement("path",Yp({},de,{radius:typeof h=="number"?h:void 0,className:M,d:MD(he,R,Q,se,h),ref:n,style:ED(ED({},W),e.style)}))})};function PD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PD(Object(n),!0).forEach(function(r){gne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gne(t,e,n){return(e=yne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yne(t){var e=vne(t,"string");return typeof e=="symbol"?e:e+""}function vne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qp=Math.PI/180,xne=t=>t*180/Math.PI,gn=(t,e,n,r)=>({x:t+Math.cos(-Qp*r)*n,y:e+Math.sin(-Qp*r)*n}),bne=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},wne=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},Sne=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,l=wne({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var o=(n-i)/l,u=Math.acos(o);return r>a&&(u=2*Math.PI-u),{radius:l,angle:xne(u),angleInRadian:u}},jne=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},Cne=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return t+l*360},Nne=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=Sne({x:n,y:r},e),{innerRadius:l,outerRadius:o}=e;if(i<l||i>o||i===0)return null;var{startAngle:u,endAngle:h}=jne(e),d=a,p;if(u<=h){for(;d>h;)d-=360;for(;d<u;)d+=360;p=d>=u&&d<=h}else{for(;d>u;)d-=360;for(;d<h;)d+=360;p=d>=h&&d<=u}return p?_D(_D({},e),{},{radius:i,angle:Cne(d,e)}):null};function z8(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,l=gn(e,n,r,i),o=gn(e,n,r,a);return{points:[l,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}var RD,LD,BD,zD,ID,UD,HD;function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kw.apply(null,arguments)}function pl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var kne=(t,e)=>{var n=Ur(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},xm=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:o,cornerIsExternal:u}=t,h=o*(l?1:-1)+r,d=Math.asin(o/h)/Qp,p=u?i:i+a*d,y=gn(e,n,h,p),v=gn(e,n,r,p),b=u?i-a*d:i,C=gn(e,n,h*Math.cos(d*Qp),b);return{center:y,circleTangency:v,lineTangency:C,theta:d}},I8=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=t,o=kne(a,l),u=a+o,h=gn(e,n,i,a),d=gn(e,n,i,u),p=kt(RD||(RD=pl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(o)>180),+(a>u),d.x,d.y);if(r>0){var y=gn(e,n,r,a),v=gn(e,n,r,u);p+=kt(LD||(LD=pl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),v.x,v.y,r,r,+(Math.abs(o)>180),+(a<=u),y.x,y.y)}else p+=kt(BD||(BD=pl(["L ",","," Z"])),e,n);return p},One=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:o,startAngle:u,endAngle:h}=t,d=Ur(h-u),{circleTangency:p,lineTangency:y,theta:v}=xm({cx:e,cy:n,radius:i,angle:u,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:b,lineTangency:C,theta:j}=xm({cx:e,cy:n,radius:i,angle:h,sign:-d,cornerRadius:a,cornerIsExternal:o}),N=o?Math.abs(u-h):Math.abs(u-h)-v-j;if(N<0)return l?kt(zD||(zD=pl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,a,a,a*2,a,a,-a*2):I8({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:h});var A=kt(ID||(ID=pl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,a,a,+(d<0),p.x,p.y,i,i,+(N>180),+(d<0),b.x,b.y,a,a,+(d<0),C.x,C.y);if(r>0){var{circleTangency:k,lineTangency:T,theta:D}=xm({cx:e,cy:n,radius:r,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:M,lineTangency:E,theta:_}=xm({cx:e,cy:n,radius:r,angle:h,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),L=o?Math.abs(u-h):Math.abs(u-h)-D-_;if(L<0&&a===0)return"".concat(A,"L").concat(e,",").concat(n,"Z");A+=kt(UD||(UD=pl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),E.x,E.y,a,a,+(d<0),M.x,M.y,r,r,+(L>180),+(d>0),k.x,k.y,a,a,+(d<0),T.x,T.y)}else A+=kt(HD||(HD=pl(["L",",","Z"])),e,n);return A},Ane={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},U8=t=>{var e=On(t,Ane),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:u,startAngle:h,endAngle:d,className:p}=e;if(a<i||h===d)return null;var y=at("recharts-sector",p),v=a-i,b=Es(l,v,0,!0),C;return b>0&&Math.abs(h-d)<360?C=One({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(b,v/2),forceCornerRadius:o,cornerIsExternal:u,startAngle:h,endAngle:d}):C=I8({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:h,endAngle:d}),w.createElement("path",Kw({},_n(e),{className:y,d:C}))};function Ene(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(wL(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:l,angle:o}=e,u=gn(r,i,a,o),h=gn(r,i,l,o);return[{x:u.x,y:u.y},{x:h.x,y:h.y}]}return z8(e)}}var Bb={},zb={},Ib={},$D;function Tne(){return $D||($D=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PL();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Ib)),Ib}var qD;function Mne(){return qD||(qD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tne();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(zb)),zb}var FD;function Dne(){return FD||(FD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_L(),n=Mne();function r(i,a,l){l&&typeof l!="number"&&e.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const o=Math.max(Math.ceil((a-i)/(l||1)),0),u=new Array(o);for(let h=0;h<o;h++)u[h]=i,i+=l;return u}t.range=r})(Bb)),Bb}var Ub,VD;function Pne(){return VD||(VD=1,Ub=Dne().range),Ub}var _ne=Pne();const H8=zi(_ne);function xs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Rne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function z2(t){let e,n,r;t.length!==2?(e=xs,n=(o,u)=>xs(t(o),u),r=(o,u)=>t(o)-u):(e=t===xs||t===Rne?t:Lne,n=t,r=t);function i(o,u,h=0,d=o.length){if(h<d){if(e(u,u)!==0)return d;do{const p=h+d>>>1;n(o[p],u)<0?h=p+1:d=p}while(h<d)}return h}function a(o,u,h=0,d=o.length){if(h<d){if(e(u,u)!==0)return d;do{const p=h+d>>>1;n(o[p],u)<=0?h=p+1:d=p}while(h<d)}return h}function l(o,u,h=0,d=o.length){const p=i(o,u,h,d-1);return p>h&&r(o[p-1],u)>-r(o[p],u)?p-1:p}return{left:i,center:l,right:a}}function Lne(){return 0}function $8(t){return t===null?NaN:+t}function*Bne(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const zne=z2(xs),hh=zne.right;z2($8).center;class WD extends Map{constructor(e,n=Hne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(KD(this,e))}has(e){return super.has(KD(this,e))}set(e,n){return super.set(Ine(this,e),n)}delete(e){return super.delete(Une(this,e))}}function KD({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Ine({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Une({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Hne(t){return t!==null&&typeof t=="object"?t.valueOf():t}function $ne(t=xs){if(t===xs)return q8;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function q8(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const qne=Math.sqrt(50),Fne=Math.sqrt(10),Vne=Math.sqrt(2);function Xp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=qne?10:a>=Fne?5:a>=Vne?2:1;let o,u,h;return i<0?(h=Math.pow(10,-i)/l,o=Math.round(t*h),u=Math.round(e*h),o/h<t&&++o,u/h>e&&--u,h=-h):(h=Math.pow(10,i)*l,o=Math.round(t/h),u=Math.round(e/h),o*h<t&&++o,u*h>e&&--u),u<o&&.5<=n&&n<2?Xp(t,e,n*2):[o,u,h]}function Gw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,l]=r?Xp(e,t,n):Xp(t,e,n);if(!(a>=i))return[];const o=a-i+1,u=new Array(o);if(r)if(l<0)for(let h=0;h<o;++h)u[h]=(a-h)/-l;else for(let h=0;h<o;++h)u[h]=(a-h)*l;else if(l<0)for(let h=0;h<o;++h)u[h]=(i+h)/-l;else for(let h=0;h<o;++h)u[h]=(i+h)*l;return u}function Yw(t,e,n){return e=+e,t=+t,n=+n,Xp(t,e,n)[2]}function Qw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Yw(e,t,n):Yw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function GD(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function YD(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function F8(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?q8:$ne(i);r>n;){if(r-n>600){const u=r-n+1,h=e-n+1,d=Math.log(u),p=.5*Math.exp(2*d/3),y=.5*Math.sqrt(d*p*(u-p)/u)*(h-u/2<0?-1:1),v=Math.max(n,Math.floor(e-h*p/u+y)),b=Math.min(r,Math.floor(e+(u-h)*p/u+y));F8(t,e,v,b,i)}const a=t[e];let l=n,o=r;for(Ru(t,n,e),i(t[r],a)>0&&Ru(t,n,r);l<o;){for(Ru(t,l,o),++l,--o;i(t[l],a)<0;)++l;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?Ru(t,n,o):(++o,Ru(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Ru(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Wne(t,e,n){if(t=Float64Array.from(Bne(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return YD(t);if(e>=1)return GD(t);var r,i=(r-1)*e,a=Math.floor(i),l=GD(F8(t,a).subarray(0,a+1)),o=YD(t.subarray(a+1));return l+(o-l)*(i-a)}}function Kne(t,e,n=$8){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),l=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return l+(o-l)*(i-a)}}function Gne(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Gr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ta(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Xw=Symbol("implicit");function I2(){var t=new WD,e=[],n=[],r=Xw;function i(a){let l=t.get(a);if(l===void 0){if(r!==Xw)return r;t.set(a,l=e.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new WD;for(const l of a)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return I2(e,n).unknown(r)},Gr.apply(i,arguments),i}function U2(){var t=I2().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,l,o=!1,u=0,h=0,d=.5;delete t.unknown;function p(){var y=e().length,v=i<r,b=v?i:r,C=v?r:i;a=(C-b)/Math.max(1,y-u+h*2),o&&(a=Math.floor(a)),b+=(C-b-a*(y-u))*d,l=a*(1-u),o&&(b=Math.round(b),l=Math.round(l));var j=Gne(y).map(function(N){return b+a*N});return n(v?j.reverse():j)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,o=!0,p()},t.bandwidth=function(){return l},t.step=function(){return a},t.round=function(y){return arguments.length?(o=!!y,p()):o},t.padding=function(y){return arguments.length?(u=Math.min(1,h=+y),p()):u},t.paddingInner=function(y){return arguments.length?(u=Math.min(1,y),p()):u},t.paddingOuter=function(y){return arguments.length?(h=+y,p()):h},t.align=function(y){return arguments.length?(d=Math.max(0,Math.min(1,y)),p()):d},t.copy=function(){return U2(e(),[r,i]).round(o).paddingInner(u).paddingOuter(h).align(d)},Gr.apply(p(),arguments)}function V8(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return V8(e())},t}function Yne(){return V8(U2.apply(null,arguments).paddingInner(1))}function H2(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function W8(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function dh(){}var Bf=.7,Zp=1/Bf,Go="\\s*([+-]?\\d+)\\s*",zf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Di="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qne=/^#([0-9a-f]{3,8})$/,Xne=new RegExp(`^rgb\\(${Go},${Go},${Go}\\)$`),Zne=new RegExp(`^rgb\\(${Di},${Di},${Di}\\)$`),Jne=new RegExp(`^rgba\\(${Go},${Go},${Go},${zf}\\)$`),ere=new RegExp(`^rgba\\(${Di},${Di},${Di},${zf}\\)$`),tre=new RegExp(`^hsl\\(${zf},${Di},${Di}\\)$`),nre=new RegExp(`^hsla\\(${zf},${Di},${Di},${zf}\\)$`),QD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};H2(dh,If,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:XD,formatHex:XD,formatHex8:rre,formatHsl:ire,formatRgb:ZD,toString:ZD});function XD(){return this.rgb().formatHex()}function rre(){return this.rgb().formatHex8()}function ire(){return K8(this).formatHsl()}function ZD(){return this.rgb().formatRgb()}function If(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Qne.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?JD(e):n===3?new Xn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?bm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?bm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Xne.exec(t))?new Xn(e[1],e[2],e[3],1):(e=Zne.exec(t))?new Xn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Jne.exec(t))?bm(e[1],e[2],e[3],e[4]):(e=ere.exec(t))?bm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=tre.exec(t))?n5(e[1],e[2]/100,e[3]/100,1):(e=nre.exec(t))?n5(e[1],e[2]/100,e[3]/100,e[4]):QD.hasOwnProperty(t)?JD(QD[t]):t==="transparent"?new Xn(NaN,NaN,NaN,0):null}function JD(t){return new Xn(t>>16&255,t>>8&255,t&255,1)}function bm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Xn(t,e,n,r)}function are(t){return t instanceof dh||(t=If(t)),t?(t=t.rgb(),new Xn(t.r,t.g,t.b,t.opacity)):new Xn}function Zw(t,e,n,r){return arguments.length===1?are(t):new Xn(t,e,n,r??1)}function Xn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}H2(Xn,Zw,W8(dh,{brighter(t){return t=t==null?Zp:Math.pow(Zp,t),new Xn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Bf:Math.pow(Bf,t),new Xn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Xn(jl(this.r),jl(this.g),jl(this.b),Jp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:e5,formatHex:e5,formatHex8:sre,formatRgb:t5,toString:t5}));function e5(){return`#${gl(this.r)}${gl(this.g)}${gl(this.b)}`}function sre(){return`#${gl(this.r)}${gl(this.g)}${gl(this.b)}${gl((isNaN(this.opacity)?1:this.opacity)*255)}`}function t5(){const t=Jp(this.opacity);return`${t===1?"rgb(":"rgba("}${jl(this.r)}, ${jl(this.g)}, ${jl(this.b)}${t===1?")":`, ${t})`}`}function Jp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function jl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function gl(t){return t=jl(t),(t<16?"0":"")+t.toString(16)}function n5(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ti(t,e,n,r)}function K8(t){if(t instanceof ti)return new ti(t.h,t.s,t.l,t.opacity);if(t instanceof dh||(t=If(t)),!t)return new ti;if(t instanceof ti)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),l=NaN,o=a-i,u=(a+i)/2;return o?(e===a?l=(n-r)/o+(n<r)*6:n===a?l=(r-e)/o+2:l=(e-n)/o+4,o/=u<.5?a+i:2-a-i,l*=60):o=u>0&&u<1?0:l,new ti(l,o,u,t.opacity)}function lre(t,e,n,r){return arguments.length===1?K8(t):new ti(t,e,n,r??1)}function ti(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}H2(ti,lre,W8(dh,{brighter(t){return t=t==null?Zp:Math.pow(Zp,t),new ti(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Bf:Math.pow(Bf,t),new ti(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Xn(Hb(t>=240?t-240:t+120,i,r),Hb(t,i,r),Hb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ti(r5(this.h),wm(this.s),wm(this.l),Jp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Jp(this.opacity);return`${t===1?"hsl(":"hsla("}${r5(this.h)}, ${wm(this.s)*100}%, ${wm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function r5(t){return t=(t||0)%360,t<0?t+360:t}function wm(t){return Math.max(0,Math.min(1,t||0))}function Hb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $2=t=>()=>t;function ore(t,e){return function(n){return t+n*e}}function cre(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ure(t){return(t=+t)==1?G8:function(e,n){return n-e?cre(e,n,t):$2(isNaN(e)?n:e)}}function G8(t,e){var n=e-t;return n?ore(t,n):$2(isNaN(t)?e:t)}const i5=(function t(e){var n=ure(e);function r(i,a){var l=n((i=Zw(i)).r,(a=Zw(a)).r),o=n(i.g,a.g),u=n(i.b,a.b),h=G8(i.opacity,a.opacity);return function(d){return i.r=l(d),i.g=o(d),i.b=u(d),i.opacity=h(d),i+""}}return r.gamma=t,r})(1);function fre(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function hre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function dre(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=xc(t[l],e[l]);for(;l<n;++l)a[l]=e[l];return function(o){for(l=0;l<r;++l)a[l]=i[l](o);return a}}function mre(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function eg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function pre(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=xc(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Jw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$b=new RegExp(Jw.source,"g");function gre(t){return function(){return t}}function yre(t){return function(e){return t(e)+""}}function vre(t,e){var n=Jw.lastIndex=$b.lastIndex=0,r,i,a,l=-1,o=[],u=[];for(t=t+"",e=e+"";(r=Jw.exec(t))&&(i=$b.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[l]?o[l]+=a:o[++l]=a),(r=r[0])===(i=i[0])?o[l]?o[l]+=i:o[++l]=i:(o[++l]=null,u.push({i:l,x:eg(r,i)})),n=$b.lastIndex;return n<e.length&&(a=e.slice(n),o[l]?o[l]+=a:o[++l]=a),o.length<2?u[0]?yre(u[0].x):gre(e):(e=u.length,function(h){for(var d=0,p;d<e;++d)o[(p=u[d]).i]=p.x(h);return o.join("")})}function xc(t,e){var n=typeof e,r;return e==null||n==="boolean"?$2(e):(n==="number"?eg:n==="string"?(r=If(e))?(e=r,i5):vre:e instanceof If?i5:e instanceof Date?mre:hre(e)?fre:Array.isArray(e)?dre:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?pre:eg)(t,e)}function q2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function xre(t,e){e===void 0&&(e=t,t=xc);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(l){var o=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[o](l-o)}}function bre(t){return function(){return t}}function tg(t){return+t}var a5=[0,1];function Mn(t){return t}function eS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:bre(isNaN(e)?NaN:.5)}function wre(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Sre(t,e,n){var r=t[0],i=t[1],a=e[0],l=e[1];return i<r?(r=eS(i,r),a=n(l,a)):(r=eS(r,i),a=n(a,l)),function(o){return a(r(o))}}function jre(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=eS(t[l],t[l+1]),a[l]=n(e[l],e[l+1]);return function(o){var u=hh(t,o,1,r)-1;return a[u](i[u](o))}}function mh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function u0(){var t=a5,e=a5,n=xc,r,i,a,l=Mn,o,u,h;function d(){var y=Math.min(t.length,e.length);return l!==Mn&&(l=wre(t[0],t[y-1])),o=y>2?jre:Sre,u=h=null,p}function p(y){return y==null||isNaN(y=+y)?a:(u||(u=o(t.map(r),e,n)))(r(l(y)))}return p.invert=function(y){return l(i((h||(h=o(e,t.map(r),eg)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,tg),d()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),d()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=q2,d()},p.clamp=function(y){return arguments.length?(l=y?!0:Mn,d()):l!==Mn},p.interpolate=function(y){return arguments.length?(n=y,d()):n},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,v){return r=y,i=v,d()}}function F2(){return u0()(Mn,Mn)}function Cre(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ng(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function sc(t){return t=ng(Math.abs(t)),t?t[1]:NaN}function Nre(t,e){return function(n,r){for(var i=n.length,a=[],l=0,o=t[0],u=0;i>0&&o>0&&(u+o+1>r&&(o=Math.max(1,r-u)),a.push(n.substring(i-=o,i+o)),!((u+=o+1)>r));)o=t[l=(l+1)%t.length];return a.reverse().join(e)}}function kre(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Ore=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Uf(t){if(!(e=Ore.exec(t)))throw new Error("invalid format: "+t);var e;return new V2({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Uf.prototype=V2.prototype;function V2(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}V2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Are(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var rg;function Ere(t,e){var n=ng(t,e);if(!n)return rg=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(rg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ng(t,Math.max(0,e+a-1))[0]}function s5(t,e){var n=ng(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const l5={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Cre,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>s5(t*100,e),r:s5,s:Ere,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function o5(t){return t}var c5=Array.prototype.map,u5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Tre(t){var e=t.grouping===void 0||t.thousands===void 0?o5:Nre(c5.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?o5:kre(c5.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function h(p,y){p=Uf(p);var v=p.fill,b=p.align,C=p.sign,j=p.symbol,N=p.zero,A=p.width,k=p.comma,T=p.precision,D=p.trim,M=p.type;M==="n"?(k=!0,M="g"):l5[M]||(T===void 0&&(T=12),D=!0,M="g"),(N||v==="0"&&b==="=")&&(N=!0,v="0",b="=");var E=(y&&y.prefix!==void 0?y.prefix:"")+(j==="$"?n:j==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():""),_=(j==="$"?r:/[%p]/.test(M)?l:"")+(y&&y.suffix!==void 0?y.suffix:""),L=l5[M],I=/[defgprs%]/.test(M);T=T===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function B(z){var $=E,ee=_,F,H,V;if(M==="c")ee=L(z)+ee,z="";else{z=+z;var Q=z<0||1/z<0;if(z=isNaN(z)?u:L(Math.abs(z),T),D&&(z=Are(z)),Q&&+z==0&&C!=="+"&&(Q=!1),$=(Q?C==="("?C:o:C==="-"||C==="("?"":C)+$,ee=(M==="s"&&!isNaN(z)&&rg!==void 0?u5[8+rg/3]:"")+ee+(Q&&C==="("?")":""),I){for(F=-1,H=z.length;++F<H;)if(V=z.charCodeAt(F),48>V||V>57){ee=(V===46?i+z.slice(F+1):z.slice(F))+ee,z=z.slice(0,F);break}}}k&&!N&&(z=e(z,1/0));var se=$.length+z.length+ee.length,he=se<A?new Array(A-se+1).join(v):"";switch(k&&N&&(z=e(he+z,he.length?A-ee.length:1/0),he=""),b){case"<":z=$+z+ee+he;break;case"=":z=$+he+z+ee;break;case"^":z=he.slice(0,se=he.length>>1)+$+z+ee+he.slice(se);break;default:z=he+$+z+ee;break}return a(z)}return B.toString=function(){return p+""},B}function d(p,y){var v=Math.max(-8,Math.min(8,Math.floor(sc(y)/3)))*3,b=Math.pow(10,-v),C=h((p=Uf(p),p.type="f",p),{suffix:u5[8+v/3]});return function(j){return C(b*j)}}return{format:h,formatPrefix:d}}var Sm,W2,Y8;Mre({thousands:",",grouping:[3],currency:["$",""]});function Mre(t){return Sm=Tre(t),W2=Sm.format,Y8=Sm.formatPrefix,Sm}function Dre(t){return Math.max(0,-sc(Math.abs(t)))}function Pre(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sc(e)/3)))*3-sc(Math.abs(t)))}function _re(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,sc(e)-sc(t))+1}function Q8(t,e,n,r){var i=Qw(t,e,n),a;switch(r=Uf(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Pre(i,l))&&(r.precision=a),Y8(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=_re(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Dre(i))&&(r.precision=a-(r.type==="%")*2);break}}return W2(r)}function Ps(t){var e=t.domain;return t.ticks=function(n){var r=e();return Gw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Q8(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,l=r[i],o=r[a],u,h,d=10;for(o<l&&(h=l,l=o,o=h,h=i,i=a,a=h);d-- >0;){if(h=Yw(l,o,n),h===u)return r[i]=l,r[a]=o,e(r);if(h>0)l=Math.floor(l/h)*h,o=Math.ceil(o/h)*h;else if(h<0)l=Math.ceil(l*h)/h,o=Math.floor(o*h)/h;else break;u=h}return t},t}function X8(){var t=F2();return t.copy=function(){return mh(t,X8())},Gr.apply(t,arguments),Ps(t)}function Z8(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,tg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Z8(t).unknown(e)},t=arguments.length?Array.from(t,tg):[0,1],Ps(n)}function J8(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),t[n]=e.floor(i),t[r]=e.ceil(a),t}function f5(t){return Math.log(t)}function h5(t){return Math.exp(t)}function Rre(t){return-Math.log(-t)}function Lre(t){return-Math.exp(-t)}function Bre(t){return isFinite(t)?+("1e"+t):t<0?0:t}function zre(t){return t===10?Bre:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Ire(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function d5(t){return(e,n)=>-t(-e,n)}function K2(t){const e=t(f5,h5),n=e.domain;let r=10,i,a;function l(){return i=Ire(r),a=zre(r),n()[0]<0?(i=d5(i),a=d5(a),t(Rre,Lre)):t(f5,h5),e}return e.base=function(o){return arguments.length?(r=+o,l()):r},e.domain=function(o){return arguments.length?(n(o),l()):n()},e.ticks=o=>{const u=n();let h=u[0],d=u[u.length-1];const p=d<h;p&&([h,d]=[d,h]);let y=i(h),v=i(d),b,C;const j=o==null?10:+o;let N=[];if(!(r%1)&&v-y<j){if(y=Math.floor(y),v=Math.ceil(v),h>0){for(;y<=v;++y)for(b=1;b<r;++b)if(C=y<0?b/a(-y):b*a(y),!(C<h)){if(C>d)break;N.push(C)}}else for(;y<=v;++y)for(b=r-1;b>=1;--b)if(C=y>0?b/a(-y):b*a(y),!(C<h)){if(C>d)break;N.push(C)}N.length*2<j&&(N=Gw(h,d,j))}else N=Gw(y,v,Math.min(v-y,j)).map(a);return p?N.reverse():N},e.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Uf(u)).precision==null&&(u.trim=!0),u=W2(u)),o===1/0)return u;const h=Math.max(1,r*o/e.ticks().length);return d=>{let p=d/a(Math.round(i(d)));return p*r<r-.5&&(p*=r),p<=h?u(d):""}},e.nice=()=>n(J8(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function e6(){const t=K2(u0()).domain([1,10]);return t.copy=()=>mh(t,e6()).base(t.base()),Gr.apply(t,arguments),t}function m5(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function p5(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function G2(t){var e=1,n=t(m5(e),p5(e));return n.constant=function(r){return arguments.length?t(m5(e=+r),p5(e)):e},Ps(n)}function t6(){var t=G2(u0());return t.copy=function(){return mh(t,t6()).constant(t.constant())},Gr.apply(t,arguments)}function g5(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ure(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Hre(t){return t<0?-t*t:t*t}function Y2(t){var e=t(Mn,Mn),n=1;function r(){return n===1?t(Mn,Mn):n===.5?t(Ure,Hre):t(g5(n),g5(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ps(e)}function Q2(){var t=Y2(u0());return t.copy=function(){return mh(t,Q2()).exponent(t.exponent())},Gr.apply(t,arguments),t}function $re(){return Q2.apply(null,arguments).exponent(.5)}function y5(t){return Math.sign(t)*t*t}function qre(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function n6(){var t=F2(),e=[0,1],n=!1,r;function i(a){var l=qre(t(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return t.invert(y5(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,tg)).map(y5)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return n6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Gr.apply(i,arguments),Ps(i)}function r6(){var t=[],e=[],n=[],r;function i(){var l=0,o=Math.max(1,e.length);for(n=new Array(o-1);++l<o;)n[l-1]=Kne(t,l/o);return a}function a(l){return l==null||isNaN(l=+l)?r:e[hh(n,l)]}return a.invertExtent=function(l){var o=e.indexOf(l);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let o of l)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(xs),i()},a.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return r6().domain(t).range(e).unknown(r)},Gr.apply(a,arguments)}function i6(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function l(u){return u!=null&&u<=u?i[hh(r,u,0,n)]:a}function o(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return l}return l.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,o()):[t,e]},l.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,o()):i.slice()},l.invertExtent=function(u){var h=i.indexOf(u);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(u){return arguments.length&&(a=u),l},l.thresholds=function(){return r.slice()},l.copy=function(){return i6().domain([t,e]).range(i).unknown(a)},Gr.apply(Ps(l),arguments)}function a6(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[hh(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var l=e.indexOf(a);return[t[l-1],t[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return a6().domain(t).range(e).unknown(n)},Gr.apply(i,arguments)}const qb=new Date,Fb=new Date;function Vt(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const l=i(a),o=i.ceil(a);return a-l<o-a?l:o},i.offset=(a,l)=>(e(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,o)=>{const u=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<l)||!(o>0))return u;let h;do u.push(h=new Date(+a)),e(a,o),t(a);while(h<a&&a<l);return u},i.filter=a=>Vt(l=>{if(l>=l)for(;t(l),!a(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;e(l,-1),!a(l););else for(;--o>=0;)for(;e(l,1),!a(l););}),n&&(i.count=(a,l)=>(qb.setTime(+a),Fb.setTime(+l),t(qb),t(Fb),Math.floor(n(qb,Fb))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const ig=Vt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ig.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Vt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ig);ig.range;const fa=1e3,Hr=fa*60,ha=Hr*60,wa=ha*24,X2=wa*7,v5=wa*30,Vb=wa*365,yl=Vt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*fa)},(t,e)=>(e-t)/fa,t=>t.getUTCSeconds());yl.range;const Z2=Vt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fa)},(t,e)=>{t.setTime(+t+e*Hr)},(t,e)=>(e-t)/Hr,t=>t.getMinutes());Z2.range;const J2=Vt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Hr)},(t,e)=>(e-t)/Hr,t=>t.getUTCMinutes());J2.range;const ej=Vt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fa-t.getMinutes()*Hr)},(t,e)=>{t.setTime(+t+e*ha)},(t,e)=>(e-t)/ha,t=>t.getHours());ej.range;const tj=Vt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ha)},(t,e)=>(e-t)/ha,t=>t.getUTCHours());tj.range;const ph=Vt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Hr)/wa,t=>t.getDate()-1);ph.range;const f0=Vt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/wa,t=>t.getUTCDate()-1);f0.range;const s6=Vt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/wa,t=>Math.floor(t/wa));s6.range;function Il(t){return Vt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Hr)/X2)}const h0=Il(0),ag=Il(1),Fre=Il(2),Vre=Il(3),lc=Il(4),Wre=Il(5),Kre=Il(6);h0.range;ag.range;Fre.range;Vre.range;lc.range;Wre.range;Kre.range;function Ul(t){return Vt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/X2)}const d0=Ul(0),sg=Ul(1),Gre=Ul(2),Yre=Ul(3),oc=Ul(4),Qre=Ul(5),Xre=Ul(6);d0.range;sg.range;Gre.range;Yre.range;oc.range;Qre.range;Xre.range;const nj=Vt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());nj.range;const rj=Vt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());rj.range;const Sa=Vt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Sa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Sa.range;const ja=Vt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ja.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ja.range;function l6(t,e,n,r,i,a){const l=[[yl,1,fa],[yl,5,5*fa],[yl,15,15*fa],[yl,30,30*fa],[a,1,Hr],[a,5,5*Hr],[a,15,15*Hr],[a,30,30*Hr],[i,1,ha],[i,3,3*ha],[i,6,6*ha],[i,12,12*ha],[r,1,wa],[r,2,2*wa],[n,1,X2],[e,1,v5],[e,3,3*v5],[t,1,Vb]];function o(h,d,p){const y=d<h;y&&([h,d]=[d,h]);const v=p&&typeof p.range=="function"?p:u(h,d,p),b=v?v.range(h,+d+1):[];return y?b.reverse():b}function u(h,d,p){const y=Math.abs(d-h)/p,v=z2(([,,j])=>j).right(l,y);if(v===l.length)return t.every(Qw(h/Vb,d/Vb,p));if(v===0)return ig.every(Math.max(Qw(h,d,p),1));const[b,C]=l[y/l[v-1][2]<l[v][2]/y?v-1:v];return b.every(C)}return[o,u]}const[Zre,Jre]=l6(ja,rj,d0,s6,tj,J2),[eie,tie]=l6(Sa,nj,h0,ph,ej,Z2);function Wb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Kb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Lu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function nie(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,l=t.shortDays,o=t.months,u=t.shortMonths,h=Bu(i),d=zu(i),p=Bu(a),y=zu(a),v=Bu(l),b=zu(l),C=Bu(o),j=zu(o),N=Bu(u),A=zu(u),k={a:V,A:Q,b:se,B:he,c:null,d:C5,e:C5,f:Nie,g:Rie,G:Bie,H:Sie,I:jie,j:Cie,L:o6,m:kie,M:Oie,p:R,q:W,Q:O5,s:A5,S:Aie,u:Eie,U:Tie,V:Mie,w:Die,W:Pie,x:null,X:null,y:_ie,Y:Lie,Z:zie,"%":k5},T={a:fe,A:Z,b:de,B:G,c:null,d:N5,e:N5,f:$ie,g:Zie,G:eae,H:Iie,I:Uie,j:Hie,L:u6,m:qie,M:Fie,p:me,q:Me,Q:O5,s:A5,S:Vie,u:Wie,U:Kie,V:Gie,w:Yie,W:Qie,x:null,X:null,y:Xie,Y:Jie,Z:tae,"%":k5},D={a:I,A:B,b:z,B:$,c:ee,d:S5,e:S5,f:vie,g:w5,G:b5,H:j5,I:j5,j:mie,L:yie,m:die,M:pie,p:L,q:hie,Q:bie,s:wie,S:gie,u:lie,U:oie,V:cie,w:sie,W:uie,x:F,X:H,y:w5,Y:b5,Z:fie,"%":xie};k.x=M(n,k),k.X=M(r,k),k.c=M(e,k),T.x=M(n,T),T.X=M(r,T),T.c=M(e,T);function M(re,je){return function(Ee){var ue=[],St=-1,Fe=0,an=re.length,sn,$i,Ec;for(Ee instanceof Date||(Ee=new Date(+Ee));++St<an;)re.charCodeAt(St)===37&&(ue.push(re.slice(Fe,St)),($i=x5[sn=re.charAt(++St)])!=null?sn=re.charAt(++St):$i=sn==="e"?" ":"0",(Ec=je[sn])&&(sn=Ec(Ee,$i)),ue.push(sn),Fe=St+1);return ue.push(re.slice(Fe,St)),ue.join("")}}function E(re,je){return function(Ee){var ue=Lu(1900,void 0,1),St=_(ue,re,Ee+="",0),Fe,an;if(St!=Ee.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(je&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Fe=Kb(Lu(ue.y,0,1)),an=Fe.getUTCDay(),Fe=an>4||an===0?sg.ceil(Fe):sg(Fe),Fe=f0.offset(Fe,(ue.V-1)*7),ue.y=Fe.getUTCFullYear(),ue.m=Fe.getUTCMonth(),ue.d=Fe.getUTCDate()+(ue.w+6)%7):(Fe=Wb(Lu(ue.y,0,1)),an=Fe.getDay(),Fe=an>4||an===0?ag.ceil(Fe):ag(Fe),Fe=ph.offset(Fe,(ue.V-1)*7),ue.y=Fe.getFullYear(),ue.m=Fe.getMonth(),ue.d=Fe.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),an="Z"in ue?Kb(Lu(ue.y,0,1)).getUTCDay():Wb(Lu(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(an+5)%7:ue.w+ue.U*7-(an+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,Kb(ue)):Wb(ue)}}function _(re,je,Ee,ue){for(var St=0,Fe=je.length,an=Ee.length,sn,$i;St<Fe;){if(ue>=an)return-1;if(sn=je.charCodeAt(St++),sn===37){if(sn=je.charAt(St++),$i=D[sn in x5?je.charAt(St++):sn],!$i||(ue=$i(re,Ee,ue))<0)return-1}else if(sn!=Ee.charCodeAt(ue++))return-1}return ue}function L(re,je,Ee){var ue=h.exec(je.slice(Ee));return ue?(re.p=d.get(ue[0].toLowerCase()),Ee+ue[0].length):-1}function I(re,je,Ee){var ue=v.exec(je.slice(Ee));return ue?(re.w=b.get(ue[0].toLowerCase()),Ee+ue[0].length):-1}function B(re,je,Ee){var ue=p.exec(je.slice(Ee));return ue?(re.w=y.get(ue[0].toLowerCase()),Ee+ue[0].length):-1}function z(re,je,Ee){var ue=N.exec(je.slice(Ee));return ue?(re.m=A.get(ue[0].toLowerCase()),Ee+ue[0].length):-1}function $(re,je,Ee){var ue=C.exec(je.slice(Ee));return ue?(re.m=j.get(ue[0].toLowerCase()),Ee+ue[0].length):-1}function ee(re,je,Ee){return _(re,e,je,Ee)}function F(re,je,Ee){return _(re,n,je,Ee)}function H(re,je,Ee){return _(re,r,je,Ee)}function V(re){return l[re.getDay()]}function Q(re){return a[re.getDay()]}function se(re){return u[re.getMonth()]}function he(re){return o[re.getMonth()]}function R(re){return i[+(re.getHours()>=12)]}function W(re){return 1+~~(re.getMonth()/3)}function fe(re){return l[re.getUTCDay()]}function Z(re){return a[re.getUTCDay()]}function de(re){return u[re.getUTCMonth()]}function G(re){return o[re.getUTCMonth()]}function me(re){return i[+(re.getUTCHours()>=12)]}function Me(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var je=M(re+="",k);return je.toString=function(){return re},je},parse:function(re){var je=E(re+="",!1);return je.toString=function(){return re},je},utcFormat:function(re){var je=M(re+="",T);return je.toString=function(){return re},je},utcParse:function(re){var je=E(re+="",!0);return je.toString=function(){return re},je}}}var x5={"-":"",_:" ",0:"0"},tn=/^\s*\d+/,rie=/^%/,iie=/[\\^$*+?|[\]().{}]/g;function Ge(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function aie(t){return t.replace(iie,"\\$&")}function Bu(t){return new RegExp("^(?:"+t.map(aie).join("|")+")","i")}function zu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function sie(t,e,n){var r=tn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function lie(t,e,n){var r=tn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function oie(t,e,n){var r=tn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function cie(t,e,n){var r=tn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function uie(t,e,n){var r=tn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function b5(t,e,n){var r=tn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function w5(t,e,n){var r=tn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function fie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function hie(t,e,n){var r=tn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function die(t,e,n){var r=tn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function S5(t,e,n){var r=tn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function mie(t,e,n){var r=tn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function j5(t,e,n){var r=tn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function pie(t,e,n){var r=tn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function gie(t,e,n){var r=tn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function yie(t,e,n){var r=tn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function vie(t,e,n){var r=tn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function xie(t,e,n){var r=rie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function bie(t,e,n){var r=tn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function wie(t,e,n){var r=tn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function C5(t,e){return Ge(t.getDate(),e,2)}function Sie(t,e){return Ge(t.getHours(),e,2)}function jie(t,e){return Ge(t.getHours()%12||12,e,2)}function Cie(t,e){return Ge(1+ph.count(Sa(t),t),e,3)}function o6(t,e){return Ge(t.getMilliseconds(),e,3)}function Nie(t,e){return o6(t,e)+"000"}function kie(t,e){return Ge(t.getMonth()+1,e,2)}function Oie(t,e){return Ge(t.getMinutes(),e,2)}function Aie(t,e){return Ge(t.getSeconds(),e,2)}function Eie(t){var e=t.getDay();return e===0?7:e}function Tie(t,e){return Ge(h0.count(Sa(t)-1,t),e,2)}function c6(t){var e=t.getDay();return e>=4||e===0?lc(t):lc.ceil(t)}function Mie(t,e){return t=c6(t),Ge(lc.count(Sa(t),t)+(Sa(t).getDay()===4),e,2)}function Die(t){return t.getDay()}function Pie(t,e){return Ge(ag.count(Sa(t)-1,t),e,2)}function _ie(t,e){return Ge(t.getFullYear()%100,e,2)}function Rie(t,e){return t=c6(t),Ge(t.getFullYear()%100,e,2)}function Lie(t,e){return Ge(t.getFullYear()%1e4,e,4)}function Bie(t,e){var n=t.getDay();return t=n>=4||n===0?lc(t):lc.ceil(t),Ge(t.getFullYear()%1e4,e,4)}function zie(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ge(e/60|0,"0",2)+Ge(e%60,"0",2)}function N5(t,e){return Ge(t.getUTCDate(),e,2)}function Iie(t,e){return Ge(t.getUTCHours(),e,2)}function Uie(t,e){return Ge(t.getUTCHours()%12||12,e,2)}function Hie(t,e){return Ge(1+f0.count(ja(t),t),e,3)}function u6(t,e){return Ge(t.getUTCMilliseconds(),e,3)}function $ie(t,e){return u6(t,e)+"000"}function qie(t,e){return Ge(t.getUTCMonth()+1,e,2)}function Fie(t,e){return Ge(t.getUTCMinutes(),e,2)}function Vie(t,e){return Ge(t.getUTCSeconds(),e,2)}function Wie(t){var e=t.getUTCDay();return e===0?7:e}function Kie(t,e){return Ge(d0.count(ja(t)-1,t),e,2)}function f6(t){var e=t.getUTCDay();return e>=4||e===0?oc(t):oc.ceil(t)}function Gie(t,e){return t=f6(t),Ge(oc.count(ja(t),t)+(ja(t).getUTCDay()===4),e,2)}function Yie(t){return t.getUTCDay()}function Qie(t,e){return Ge(sg.count(ja(t)-1,t),e,2)}function Xie(t,e){return Ge(t.getUTCFullYear()%100,e,2)}function Zie(t,e){return t=f6(t),Ge(t.getUTCFullYear()%100,e,2)}function Jie(t,e){return Ge(t.getUTCFullYear()%1e4,e,4)}function eae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?oc(t):oc.ceil(t),Ge(t.getUTCFullYear()%1e4,e,4)}function tae(){return"+0000"}function k5(){return"%"}function O5(t){return+t}function A5(t){return Math.floor(+t/1e3)}var Ao,h6,d6;nae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nae(t){return Ao=nie(t),h6=Ao.format,Ao.parse,d6=Ao.utcFormat,Ao.utcParse,Ao}function rae(t){return new Date(t)}function iae(t){return t instanceof Date?+t:+new Date(+t)}function ij(t,e,n,r,i,a,l,o,u,h){var d=F2(),p=d.invert,y=d.domain,v=h(".%L"),b=h(":%S"),C=h("%I:%M"),j=h("%I %p"),N=h("%a %d"),A=h("%b %d"),k=h("%B"),T=h("%Y");function D(M){return(u(M)<M?v:o(M)<M?b:l(M)<M?C:a(M)<M?j:r(M)<M?i(M)<M?N:A:n(M)<M?k:T)(M)}return d.invert=function(M){return new Date(p(M))},d.domain=function(M){return arguments.length?y(Array.from(M,iae)):y().map(rae)},d.ticks=function(M){var E=y();return t(E[0],E[E.length-1],M??10)},d.tickFormat=function(M,E){return E==null?D:h(E)},d.nice=function(M){var E=y();return(!M||typeof M.range!="function")&&(M=e(E[0],E[E.length-1],M??10)),M?y(J8(E,M)):d},d.copy=function(){return mh(d,ij(t,e,n,r,i,a,l,o,u,h))},d}function aae(){return Gr.apply(ij(eie,tie,Sa,nj,h0,ph,ej,Z2,yl,h6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sae(){return Gr.apply(ij(Zre,Jre,ja,rj,d0,f0,tj,J2,yl,d6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function m0(){var t=0,e=1,n,r,i,a,l=Mn,o=!1,u;function h(p){return p==null||isNaN(p=+p)?u:l(i===0?.5:(p=(a(p)-n)*i,o?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(p){return arguments.length?(o=!!p,h):o},h.interpolator=function(p){return arguments.length?(l=p,h):l};function d(p){return function(y){var v,b;return arguments.length?([v,b]=y,l=p(v,b),h):[l(0),l(1)]}}return h.range=d(xc),h.rangeRound=d(q2),h.unknown=function(p){return arguments.length?(u=p,h):u},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),h}}function _s(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function m6(){var t=Ps(m0()(Mn));return t.copy=function(){return _s(t,m6())},Ta.apply(t,arguments)}function p6(){var t=K2(m0()).domain([1,10]);return t.copy=function(){return _s(t,p6()).base(t.base())},Ta.apply(t,arguments)}function g6(){var t=G2(m0());return t.copy=function(){return _s(t,g6()).constant(t.constant())},Ta.apply(t,arguments)}function aj(){var t=Y2(m0());return t.copy=function(){return _s(t,aj()).exponent(t.exponent())},Ta.apply(t,arguments)}function lae(){return aj.apply(null,arguments).exponent(.5)}function y6(){var t=[],e=Mn;function n(r){if(r!=null&&!isNaN(r=+r))return e((hh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(xs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Wne(t,a/r))},n.copy=function(){return y6(e).domain(t)},Ta.apply(n,arguments)}function p0(){var t=0,e=.5,n=1,r=1,i,a,l,o,u,h=Mn,d,p=!1,y;function v(C){return isNaN(C=+C)?y:(C=.5+((C=+d(C))-a)*(r*C<r*a?o:u),h(p?Math.max(0,Math.min(1,C)):C))}v.domain=function(C){return arguments.length?([t,e,n]=C,i=d(t=+t),a=d(e=+e),l=d(n=+n),o=i===a?0:.5/(a-i),u=a===l?0:.5/(l-a),r=a<i?-1:1,v):[t,e,n]},v.clamp=function(C){return arguments.length?(p=!!C,v):p},v.interpolator=function(C){return arguments.length?(h=C,v):h};function b(C){return function(j){var N,A,k;return arguments.length?([N,A,k]=j,h=xre(C,[N,A,k]),v):[h(0),h(.5),h(1)]}}return v.range=b(xc),v.rangeRound=b(q2),v.unknown=function(C){return arguments.length?(y=C,v):y},function(C){return d=C,i=C(t),a=C(e),l=C(n),o=i===a?0:.5/(a-i),u=a===l?0:.5/(l-a),r=a<i?-1:1,v}}function v6(){var t=Ps(p0()(Mn));return t.copy=function(){return _s(t,v6())},Ta.apply(t,arguments)}function x6(){var t=K2(p0()).domain([.1,1,10]);return t.copy=function(){return _s(t,x6()).base(t.base())},Ta.apply(t,arguments)}function b6(){var t=G2(p0());return t.copy=function(){return _s(t,b6()).constant(t.constant())},Ta.apply(t,arguments)}function sj(){var t=Y2(p0());return t.copy=function(){return _s(t,sj()).exponent(t.exponent())},Ta.apply(t,arguments)}function oae(){return sj.apply(null,arguments).exponent(.5)}const Ku=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:U2,scaleDiverging:v6,scaleDivergingLog:x6,scaleDivergingPow:sj,scaleDivergingSqrt:oae,scaleDivergingSymlog:b6,scaleIdentity:Z8,scaleImplicit:Xw,scaleLinear:X8,scaleLog:e6,scaleOrdinal:I2,scalePoint:Yne,scalePow:Q2,scaleQuantile:r6,scaleQuantize:i6,scaleRadial:n6,scaleSequential:m6,scaleSequentialLog:p6,scaleSequentialPow:aj,scaleSequentialQuantile:y6,scaleSequentialSqrt:lae,scaleSequentialSymlog:g6,scaleSqrt:$re,scaleSymlog:t6,scaleThreshold:a6,scaleTime:aae,scaleUtc:sae,tickFormat:Q8},Symbol.toStringTag,{value:"Module"}));var Rs=t=>t.chartData,cae=ie([Rs],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),lj=(t,e,n,r)=>r?cae(t):Rs(t);function Ca(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Ke(e)&&Ke(n))return!0}return!1}function E5(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function w6(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Ke(n))i=n;else if(typeof n=="function")return;if(Ke(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(Ca(l))return l}}function uae(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Ca(r))return E5(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,l,o;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Ce(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&IM.test(i)){var u=IM.exec(i);if(u==null||u[1]==null||e==null)l=void 0;else{var h=+u[1];l=e[0]-h}}else l=e?.[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(Ce(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e?.[1]))}catch{}else if(typeof a=="string"&&UM.test(a)){var d=UM.exec(a);if(d==null||d[1]==null||e==null)o=void 0;else{var p=+d[1];o=e[1]+p}}else o=e?.[1];var y=[l,o];if(Ca(y))return e==null?y:E5(y,e,n)}}}var bc=1e9,fae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cj,vt=!0,Wr="[DecimalError] ",Cl=Wr+"Invalid argument: ",oj=Wr+"Exponent out of range: ",wc=Math.floor,ol=Math.pow,hae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pr,Xt=1e7,mt=7,S6=9007199254740991,lg=wc(S6/mt),xe={};xe.absoluteValue=xe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};xe.comparedTo=xe.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*mt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};xe.dividedBy=xe.div=function(t){return ma(this,new this.constructor(t))};xe.dividedToIntegerBy=xe.idiv=function(t){var e=this,n=e.constructor;return ct(ma(e,new n(t),0,1),n.precision)};xe.equals=xe.eq=function(t){return!this.cmp(t)};xe.exponent=function(){return It(this)};xe.greaterThan=xe.gt=function(t){return this.cmp(t)>0};xe.greaterThanOrEqualTo=xe.gte=function(t){return this.cmp(t)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(t){return this.cmp(t)<0};xe.lessThanOrEqualTo=xe.lte=function(t){return this.cmp(t)<1};xe.logarithm=xe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(pr))throw Error(Wr+"NaN");if(n.s<1)throw Error(Wr+(n.s?"NaN":"-Infinity"));return n.eq(pr)?new r(0):(vt=!1,e=ma(Hf(n,a),Hf(t,a),a),vt=!0,ct(e,i))};xe.minus=xe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?N6(e,t):j6(e,(t.s=-t.s,t))};xe.modulo=xe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Wr+"NaN");return n.s?(vt=!1,e=ma(n,t,0,1).times(t),vt=!0,n.minus(e)):ct(new r(n),i)};xe.naturalExponential=xe.exp=function(){return C6(this)};xe.naturalLogarithm=xe.ln=function(){return Hf(this)};xe.negated=xe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};xe.plus=xe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?j6(e,t):N6(e,(t.s=-t.s,t))};xe.precision=xe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Cl+t);if(e=It(i)+1,r=i.d.length-1,n=r*mt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};xe.squareRoot=xe.sqrt=function(){var t,e,n,r,i,a,l,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(Wr+"NaN")}for(t=It(o),vt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Ti(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=wc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=l=n+3;;)if(a=r,r=a.plus(ma(o,a,l+2)).times(.5),Ti(a.d).slice(0,l)===(e=Ti(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(ct(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;l+=4}return vt=!0,ct(r,n)};xe.times=xe.mul=function(t){var e,n,r,i,a,l,o,u,h,d=this,p=d.constructor,y=d.d,v=(t=new p(t)).d;if(!d.s||!t.s)return new p(0);for(t.s*=d.s,n=d.e+t.e,u=y.length,h=v.length,u<h&&(a=y,y=v,v=a,l=u,u=h,h=l),a=[],l=u+h,r=l;r--;)a.push(0);for(r=h;--r>=0;){for(e=0,i=u+r;i>r;)o=a[i]+v[r]*y[i-r-1]+e,a[i--]=o%Xt|0,e=o/Xt|0;a[i]=(a[i]+e)%Xt|0}for(;!a[--l];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,vt?ct(t,p.precision):t};xe.toDecimalPlaces=xe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Bi(t,0,bc),e===void 0?e=r.rounding:Bi(e,0,8),ct(n,t+It(n)+1,e))};xe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Rl(r,!0):(Bi(t,0,bc),e===void 0?e=i.rounding:Bi(e,0,8),r=ct(new i(r),t+1,e),n=Rl(r,!0,t+1)),n};xe.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Rl(i):(Bi(t,0,bc),e===void 0?e=a.rounding:Bi(e,0,8),r=ct(new a(i),t+It(i)+1,e),n=Rl(r.abs(),!1,t+It(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};xe.toInteger=xe.toint=function(){var t=this,e=t.constructor;return ct(new e(t),It(t)+1,e.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(t){var e,n,r,i,a,l,o=this,u=o.constructor,h=12,d=+(t=new u(t));if(!t.s)return new u(pr);if(o=new u(o),!o.s){if(t.s<1)throw Error(Wr+"Infinity");return o}if(o.eq(pr))return o;if(r=u.precision,t.eq(pr))return ct(o,r);if(e=t.e,n=t.d.length-1,l=e>=n,a=o.s,l){if((n=d<0?-d:d)<=S6){for(i=new u(pr),e=Math.ceil(r/mt+4),vt=!1;n%2&&(i=i.times(o),M5(i.d,e)),n=wc(n/2),n!==0;)o=o.times(o),M5(o.d,e);return vt=!0,t.s<0?new u(pr).div(i):ct(i,r)}}else if(a<0)throw Error(Wr+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,vt=!1,i=t.times(Hf(o,r+h)),vt=!0,i=C6(i),i.s=a,i};xe.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=It(i),r=Rl(i,n<=a.toExpNeg||n>=a.toExpPos)):(Bi(t,1,bc),e===void 0?e=a.rounding:Bi(e,0,8),i=ct(new a(i),t,e),n=It(i),r=Rl(i,t<=n||n<=a.toExpNeg,t)),r};xe.toSignificantDigits=xe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Bi(t,1,bc),e===void 0?e=r.rounding:Bi(e,0,8)),ct(new r(n),t,e)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=It(t),n=t.constructor;return Rl(t,e<=n.toExpNeg||e>=n.toExpPos)};function j6(t,e){var n,r,i,a,l,o,u,h,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),vt?ct(e,p):e;if(u=t.d,h=e.d,l=t.e,i=e.e,u=u.slice(),a=l-i,a){for(a<0?(r=u,a=-a,o=h.length):(r=h,i=l,o=u.length),l=Math.ceil(p/mt),o=l>o?l+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=u.length,a=h.length,o-a<0&&(a=o,r=h,h=u,u=r),n=0;a;)n=(u[--a]=u[a]+h[a]+n)/Xt|0,u[a]%=Xt;for(n&&(u.unshift(n),++i),o=u.length;u[--o]==0;)u.pop();return e.d=u,e.e=i,vt?ct(e,p):e}function Bi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Cl+t)}function Ti(t){var e,n,r,i=t.length-1,a="",l=t[0];if(i>0){for(a+=l,e=1;e<i;e++)r=t[e]+"",n=mt-r.length,n&&(a+=os(n)),a+=r;l=t[e],r=l+"",n=mt-r.length,n&&(a+=os(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var ma=(function(){function t(r,i){var a,l=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+l,r[o]=a%Xt|0,l=a/Xt|0;return l&&r.unshift(l),r}function e(r,i,a,l){var o,u;if(a!=l)u=a>l?1:-1;else for(o=u=0;o<a;o++)if(r[o]!=i[o]){u=r[o]>i[o]?1:-1;break}return u}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*Xt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var o,u,h,d,p,y,v,b,C,j,N,A,k,T,D,M,E,_,L=r.constructor,I=r.s==i.s?1:-1,B=r.d,z=i.d;if(!r.s)return new L(r);if(!i.s)throw Error(Wr+"Division by zero");for(u=r.e-i.e,E=z.length,D=B.length,v=new L(I),b=v.d=[],h=0;z[h]==(B[h]||0);)++h;if(z[h]>(B[h]||0)&&--u,a==null?A=a=L.precision:l?A=a+(It(r)-It(i))+1:A=a,A<0)return new L(0);if(A=A/mt+2|0,h=0,E==1)for(d=0,z=z[0],A++;(h<D||d)&&A--;h++)k=d*Xt+(B[h]||0),b[h]=k/z|0,d=k%z|0;else{for(d=Xt/(z[0]+1)|0,d>1&&(z=t(z,d),B=t(B,d),E=z.length,D=B.length),T=E,C=B.slice(0,E),j=C.length;j<E;)C[j++]=0;_=z.slice(),_.unshift(0),M=z[0],z[1]>=Xt/2&&++M;do d=0,o=e(z,C,E,j),o<0?(N=C[0],E!=j&&(N=N*Xt+(C[1]||0)),d=N/M|0,d>1?(d>=Xt&&(d=Xt-1),p=t(z,d),y=p.length,j=C.length,o=e(p,C,y,j),o==1&&(d--,n(p,E<y?_:z,y))):(d==0&&(o=d=1),p=z.slice()),y=p.length,y<j&&p.unshift(0),n(C,p,j),o==-1&&(j=C.length,o=e(z,C,E,j),o<1&&(d++,n(C,E<j?_:z,j))),j=C.length):o===0&&(d++,C=[0]),b[h++]=d,o&&C[0]?C[j++]=B[T]||0:(C=[B[T]],j=1);while((T++<D||C[0]!==void 0)&&A--)}return b[0]||b.shift(),v.e=u,ct(v,l?a+It(v)+1:a)}})();function C6(t,e){var n,r,i,a,l,o,u=0,h=0,d=t.constructor,p=d.precision;if(It(t)>16)throw Error(oj+It(t));if(!t.s)return new d(pr);for(vt=!1,o=p,l=new d(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(ol(2,h))/Math.LN10*2+5|0,o+=r,n=i=a=new d(pr),d.precision=o;;){if(i=ct(i.times(t),o),n=n.times(++u),l=a.plus(ma(i,n,o)),Ti(l.d).slice(0,o)===Ti(a.d).slice(0,o)){for(;h--;)a=ct(a.times(a),o);return d.precision=p,e==null?(vt=!0,ct(a,p)):a}a=l}}function It(t){for(var e=t.e*mt,n=t.d[0];n>=10;n/=10)e++;return e}function Gb(t,e,n){if(e>t.LN10.sd())throw vt=!0,n&&(t.precision=n),Error(Wr+"LN10 precision limit exceeded");return ct(new t(t.LN10),e)}function os(t){for(var e="";t--;)e+="0";return e}function Hf(t,e){var n,r,i,a,l,o,u,h,d,p=1,y=10,v=t,b=v.d,C=v.constructor,j=C.precision;if(v.s<1)throw Error(Wr+(v.s?"NaN":"-Infinity"));if(v.eq(pr))return new C(0);if(e==null?(vt=!1,h=j):h=e,v.eq(10))return e==null&&(vt=!0),Gb(C,h);if(h+=y,C.precision=h,n=Ti(b),r=n.charAt(0),a=It(v),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=Ti(v.d),r=n.charAt(0),p++;a=It(v),r>1?(v=new C("0."+n),a++):v=new C(r+"."+n.slice(1))}else return u=Gb(C,h+2,j).times(a+""),v=Hf(new C(r+"."+n.slice(1)),h-y).plus(u),C.precision=j,e==null?(vt=!0,ct(v,j)):v;for(o=l=v=ma(v.minus(pr),v.plus(pr),h),d=ct(v.times(v),h),i=3;;){if(l=ct(l.times(d),h),u=o.plus(ma(l,new C(i),h)),Ti(u.d).slice(0,h)===Ti(o.d).slice(0,h))return o=o.times(2),a!==0&&(o=o.plus(Gb(C,h+2,j).times(a+""))),o=ma(o,new C(p),h),C.precision=j,e==null?(vt=!0,ct(o,j)):o;o=u,i+=2}}function T5(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=wc(n/mt),t.d=[],r=(n+1)%mt,n<0&&(r+=mt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=mt;r<i;)t.d.push(+e.slice(r,r+=mt));e=e.slice(r),r=mt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),vt&&(t.e>lg||t.e<-lg))throw Error(oj+n)}else t.s=0,t.e=0,t.d=[0];return t}function ct(t,e,n){var r,i,a,l,o,u,h,d,p=t.d;for(l=1,a=p[0];a>=10;a/=10)l++;if(r=e-l,r<0)r+=mt,i=e,h=p[d=0];else{if(d=Math.ceil((r+1)/mt),a=p.length,d>=a)return t;for(h=a=p[d],l=1;a>=10;a/=10)l++;r%=mt,i=r-mt+l}if(n!==void 0&&(a=ol(10,l-i-1),o=h/a%10|0,u=e<0||p[d+1]!==void 0||h%a,u=n<4?(o||u)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||u||n==6&&(r>0?i>0?h/ol(10,l-i):0:p[d-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return u?(a=It(t),p.length=1,e=e-a-1,p[0]=ol(10,(mt-e%mt)%mt),t.e=wc(-e/mt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=d,a=1,d--):(p.length=d+1,a=ol(10,mt-r),p[d]=i>0?(h/ol(10,l-i)%ol(10,i)|0)*a:0),u)for(;;)if(d==0){(p[0]+=a)==Xt&&(p[0]=1,++t.e);break}else{if(p[d]+=a,p[d]!=Xt)break;p[d--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(vt&&(t.e>lg||t.e<-lg))throw Error(oj+It(t));return t}function N6(t,e){var n,r,i,a,l,o,u,h,d,p,y=t.constructor,v=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),vt?ct(e,v):e;if(u=t.d,p=e.d,r=e.e,h=t.e,u=u.slice(),l=h-r,l){for(d=l<0,d?(n=u,l=-l,o=p.length):(n=p,r=h,o=u.length),i=Math.max(Math.ceil(v/mt),o)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=u.length,o=p.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(u[i]!=p[i]){d=u[i]<p[i];break}l=0}for(d&&(n=u,u=p,p=n,e.s=-e.s),o=u.length,i=p.length-o;i>0;--i)u[o++]=0;for(i=p.length;i>l;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=Xt-1;--u[a],u[i]+=Xt}u[i]-=p[i]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,vt?ct(e,v):e):new y(0)}function Rl(t,e,n){var r,i=It(t),a=Ti(t.d),l=a.length;return e?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+os(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+os(-i-1)+a,n&&(r=n-l)>0&&(a+=os(r))):i>=l?(a+=os(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+os(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=os(r))),t.s<0?"-"+a:a}function M5(t,e){if(t.length>e)return t.length=e,!0}function k6(t){var e,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Cl+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return T5(l,a.toString())}else if(typeof a!="string")throw Error(Cl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,hae.test(a))T5(l,a);else throw Error(Cl+a)}if(i.prototype=xe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=k6,i.config=i.set=dae,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function dae(t){if(!t||typeof t!="object")throw Error(Wr+"Object expected");var e,n,r,i=["precision",1,bc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(wc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Cl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Cl+n+": "+r);return this}var cj=k6(fae);pr=new cj(1);const et=cj;function O6(t){var e;return t===0?e=1:e=Math.floor(new et(t).abs().log(10).toNumber())+1,e}function A6(t,e,n){for(var r=new et(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var E6=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},T6=(t,e,n)=>{if(t.lte(0))return new et(0);var r=O6(t.toNumber()),i=new et(10).pow(r),a=t.div(i),l=r!==1?.05:.1,o=new et(Math.ceil(a.div(l).toNumber())).add(n).mul(l),u=o.mul(i);return e?new et(u.toNumber()):new et(Math.ceil(u.toNumber()))},mae=(t,e,n)=>{var r=new et(1),i=new et(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new et(10).pow(O6(t)-1),i=new et(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new et(Math.floor(t)))}else t===0?i=new et(Math.floor((e-1)/2)):n||(i=new et(Math.floor(t)));for(var l=Math.floor((e-1)/2),o=[],u=0;u<e;u++)o.push(i.add(new et(u-l).mul(r)).toNumber());return o},M6=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new et(0),tickMin:new et(0),tickMax:new et(0)};var l=T6(new et(n).sub(e).div(r-1),i,a),o;e<=0&&n>=0?o=new et(0):(o=new et(e).add(n).div(2),o=o.sub(new et(o).mod(l)));var u=Math.ceil(o.sub(e).div(l).toNumber()),h=Math.ceil(new et(n).sub(o).div(l).toNumber()),d=u+h+1;return d>r?M6(e,n,r,i,a+1):(d<r&&(h=n>0?h+(r-d):h,u=n>0?u:u+(r-d)),{step:l,tickMin:o.sub(new et(u).mul(l)),tickMax:o.add(new et(h).mul(l))})},pae=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[o,u]=E6([n,r]);if(o===-1/0||u===1/0){var h=u===1/0?[o,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),u];return n>r?h.reverse():h}if(o===u)return mae(o,i,a);var{step:d,tickMin:p,tickMax:y}=M6(o,u,l,a,0),v=A6(p,y.add(new et(.1).mul(d)),d);return n>r?v.reverse():v},gae=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,o]=E6([r,i]);if(l===-1/0||o===1/0)return[r,i];if(l===o)return[l];var u=Math.max(n,2),h=T6(new et(o).sub(l).div(u-1),a,0),d=[...A6(new et(l),new et(o),h),o];return a===!1&&(d=d.map(p=>Math.round(p))),r>i?d.reverse():d},yae=t=>t.rootProps.barCategoryGap,g0=t=>t.rootProps.stackOffset,D6=t=>t.rootProps.reverseStackOrder,uj=t=>t.options.chartName,fj=t=>t.rootProps.syncId,P6=t=>t.rootProps.syncMethod,hj=t=>t.options.eventEmitter,Dn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},rl={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},xi={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},y0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function v0(t,e,n){if(n!=="auto")return n;if(t!=null)return Oa(t,e)?"category":"number"}function D5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function og(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D5(Object(n),!0).forEach(function(r){vae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vae(t,e,n){return(e=xae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xae(t){var e=bae(t,"string");return typeof e=="symbol"?e:e+""}function bae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P5={allowDataOverflow:rl.allowDataOverflow,allowDecimals:rl.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:rl.angleAxisId,includeHidden:!1,name:void 0,reversed:rl.reversed,scale:rl.scale,tick:rl.tick,tickCount:void 0,ticks:void 0,type:rl.type,unit:void 0},_5={allowDataOverflow:xi.allowDataOverflow,allowDecimals:xi.allowDecimals,allowDuplicatedCategory:xi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xi.radiusAxisId,includeHidden:xi.includeHidden,name:void 0,reversed:xi.reversed,scale:xi.scale,tick:xi.tick,tickCount:xi.tickCount,ticks:void 0,type:xi.type,unit:void 0},wae=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},dj=ie([wae,j8],(t,e)=>{var n;if(t!=null)return t;var r=(n=v0(e,"angleAxis",P5.type))!==null&&n!==void 0?n:"category";return og(og({},P5),{},{type:r})}),Sae=(t,e)=>t.polarAxis.radiusAxis[e],mj=ie([Sae,j8],(t,e)=>{var n;if(t!=null)return t;var r=(n=v0(e,"radiusAxis",_5.type))!==null&&n!==void 0?n:"category";return og(og({},_5),{},{type:r})}),x0=t=>t.polarOptions,pj=ie([Aa,Ea,wn],bne),_6=ie([x0,pj],(t,e)=>{if(t!=null)return Es(t.innerRadius,e,0)}),R6=ie([x0,pj],(t,e)=>{if(t!=null)return Es(t.outerRadius,e,e*.8)}),jae=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},L6=ie([x0],jae);ie([dj,L6],y0);var B6=ie([pj,_6,R6],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ie([mj,B6],y0);var z6=ie([wt,x0,_6,R6,Aa,Ea],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:o,startAngle:u,endAngle:h}=e;return{cx:Es(l,i,i/2),cy:Es(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:h,clockWise:!1}}}),nn=(t,e)=>e,b0=(t,e,n)=>n;function I6(t){return t?.id}function U6(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,l=new Map;return t.forEach(o=>{var u,h=(u=o.data)!==null&&u!==void 0?u:r;if(!(h==null||h.length===0)){var d=I6(o);h.forEach((p,y)=>{var v=a==null||i?y:String(vn(p,a,null)),b=vn(p,o.dataKey,0),C;l.has(v)?C=l.get(v):C={},Object.assign(C,{[d]:b}),l.set(v,C)})}}),Array.from(l.values())}function gj(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var w0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function S0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Cae(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var rn=t=>{var e=wt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Sc=t=>t.tooltip.settings.axisId;function Nae(t){if(t in Ku)return Ku[t]();var e="scale".concat(sh(t));if(e in Ku)return Ku[e]()}function R5(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(a){function l(){return a.apply(this,arguments)}return l.toString=function(){return a.toString()},l})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var l=i[0],o=i[1];return l<=o?a>=l&&a<=o:a>=o&&a<=l},bandwidth:n?()=>n.call(t):void 0,ticks:e?a=>e.call(t,a):void 0,map:(a,l)=>{var o=t(a);if(o!=null){if(t.bandwidth&&l!==null&&l!==void 0&&l.position){var u=t.bandwidth();switch(l.position){case"middle":o+=u/2;break;case"end":o+=u;break}}return o}}}}function L5(t,e,n){if(typeof t=="function")return R5(t.copy().domain(e).range(n));if(t!=null){var r=Nae(t);if(r!=null)return r.domain(e).range(n),R5(r)}}var kae=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Ca(e)){for(var n,r,i=0;i<e.length;i++){var a=e[i];Ke(a)&&((n===void 0||a<n)&&(n=a),(r===void 0||a>r)&&(r=a))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function B5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B5(Object(n),!0).forEach(function(r){Oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oae(t,e,n){return(e=Aae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aae(t){var e=Eae(t,"string");return typeof e=="symbol"?e:e+""}function Eae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tS=[0,"auto"],Yt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},H6=(t,e)=>t.cartesianAxis.xAxis[e],Ma=(t,e)=>{var n=H6(t,e);return n??Yt},Qt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:tS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ch},$6=(t,e)=>t.cartesianAxis.yAxis[e],Da=(t,e)=>{var n=$6(t,e);return n??Qt},Tae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},yj=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Tae},Ln=(t,e,n)=>{switch(e){case"xAxis":return Ma(t,n);case"yAxis":return Da(t,n);case"zAxis":return yj(t,n);case"angleAxis":return dj(t,n);case"radiusAxis":return mj(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Mae=(t,e,n)=>{switch(e){case"xAxis":return Ma(t,n);case"yAxis":return Da(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},gh=(t,e,n)=>{switch(e){case"xAxis":return Ma(t,n);case"yAxis":return Da(t,n);case"angleAxis":return dj(t,n);case"radiusAxis":return mj(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},q6=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function F6(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var V6=t=>t.graphicalItems.cartesianItems,Dae=ie([nn,b0],F6),W6=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),yh=ie([V6,Ln,Dae],W6,{memoizeOptions:{resultEqualityCheck:S0}}),K6=ie([yh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(gj)),G6=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Pae=ie([yh],G6),Y6=t=>t.map(e=>e.data).filter(Boolean).flat(1),_ae=ie([yh],Y6,{memoizeOptions:{resultEqualityCheck:S0}}),Q6=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},vj=ie([_ae,lj],Q6),X6=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:vn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:vn(i,r)}))):t.map(r=>({value:r})),j0=ie([vj,Ln,yh],X6);function Z6(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Hm(t){if(Ri(t)||t instanceof Date){var e=Number(t);if(Ke(e))return e}}function z5(t){if(Array.isArray(t)){var e=[Hm(t[0]),Hm(t[1])];return Ca(e)?e:void 0}var n=Hm(t);if(n!=null)return[n,n]}function Na(t){return t.map(Hm).filter(Qn)}function Rae(t,e,n){return!n||typeof e!="number"||xa(e)?[]:n.length?Na(n.flatMap(r=>{var i=vn(t,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!Ke(a)||!Ke(l)))return[e-a,e+l]})):[]}var Wt=t=>{var e=rn(t),n=Sc(t);return gh(t,e,n)},vh=ie([Wt],t=>t?.dataKey),Lae=ie([K6,lj,Wt],U6),J6=(t,e,n,r)=>{var i={},a=e.reduce((l,o)=>{if(o.stackId==null)return l;var u=l[o.stackId];return u==null&&(u=[]),u.push(o),l[o.stackId]=u,l},i);return Object.fromEntries(Object.entries(a).map(l=>{var[o,u]=l,h=r?[...u].reverse():u,d=h.map(I6);return[o,{stackedData:ZJ(t,d,n),graphicalItems:h}]}))},Bae=ie([Lae,K6,g0,D6],J6),eB=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var l=tee(t,i,a);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},zae=ie([Ln],t=>t.allowDataOverflow),xj=t=>{var e;if(t==null||!("domain"in t))return tS;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Na(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:tS},tB=ie([Ln],xj),nB=ie([tB,zae],w6),Iae=ie([Bae,Rs,nn,nB],eB,{memoizeOptions:{resultEqualityCheck:w0}}),bj=t=>t.errorBars,Uae=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>Z6(n,r)),ug=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),o=Math.max(...a);return[l,o]}},rB=(t,e,n,r,i)=>{var a,l;if(n.length>0&&t.forEach(o=>{n.forEach(u=>{var h,d,p=(h=r[u.id])===null||h===void 0?void 0:h.filter(N=>Z6(i,N)),y=vn(o,(d=e.dataKey)!==null&&d!==void 0?d:u.dataKey),v=Rae(o,y,p);if(v.length>=2){var b=Math.min(...v),C=Math.max(...v);(a==null||b<a)&&(a=b),(l==null||C>l)&&(l=C)}var j=z5(y);j!=null&&(a=a==null?j[0]:Math.min(a,j[0]),l=l==null?j[1]:Math.max(l,j[1]))})}),e?.dataKey!=null&&t.forEach(o=>{var u=z5(vn(o,e.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),l=l==null?u[1]:Math.max(l,u[1]))}),Ke(a)&&Ke(l))return[a,l]},Hae=ie([vj,Ln,Pae,bj,nn],rB,{memoizeOptions:{resultEqualityCheck:w0}});function $ae(t){var{value:e}=t;if(Ri(e)||e instanceof Date)return e}var qae=(t,e,n)=>{var r=t.map($ae).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&vL(r))?H8(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},iB=t=>t.referenceElements.dots,jc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Fae=ie([iB,nn,b0],jc),aB=t=>t.referenceElements.areas,Vae=ie([aB,nn,b0],jc),sB=t=>t.referenceElements.lines,Wae=ie([sB,nn,b0],jc),lB=(t,e)=>{if(t!=null){var n=Na(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Kae=ie(Fae,nn,lB),oB=(t,e)=>{if(t!=null){var n=Na(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Gae=ie([Vae,nn],oB);function Yae(t){var e;if(t.x!=null)return Na([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Na(n)}function Qae(t){var e;if(t.y!=null)return Na([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Na(n)}var cB=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Yae(r):Qae(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Xae=ie([Wae,nn],cB),Zae=ie(Kae,Xae,Gae,(t,e,n)=>ug(t,n,e)),uB=(t,e,n,r,i,a,l,o)=>{if(n!=null)return n;var u=l==="vertical"&&o==="xAxis"||l==="horizontal"&&o==="yAxis",h=u?ug(r,a,i):ug(a,i);return uae(e,h,t.allowDataOverflow)},Jae=ie([Ln,tB,nB,Iae,Hae,Zae,wt,nn],uB,{memoizeOptions:{resultEqualityCheck:w0}}),ese=[0,1],fB=(t,e,n,r,i,a,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:o,type:u}=t,h=Oa(e,a);if(h&&o==null){var d;return H8(0,(d=n?.length)!==null&&d!==void 0?d:0)}return u==="category"?qae(r,t,h):i==="expand"?ese:l}},wj=ie([Ln,wt,vj,j0,g0,nn,Jae],fB);function tse(t){return t in Ku}var hB=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var a="scale".concat(sh(r));return tse(a)?a:"point"}}},Cc=ie([Ln,q6,uj],hB);function Sj(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?L5(t.scale,n,r):L5(e,n,r)}var dB=(t,e,n)=>{var r=xj(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ca(t))return pae(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Ca(t))return gae(t,e.tickCount,e.allowDecimals)}},jj=ie([wj,gh,Cc],dB),mB=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Ca(e)&&Array.isArray(n)&&n.length>0){var i,a,l=e[0],o=(i=n[0])!==null&&i!==void 0?i:0,u=e[1],h=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(l,o),Math.max(u,h)]}return e},nse=ie([Ln,wj,jj,nn],mB),rse=ie(j0,Ln,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Na(t.map(p=>p.value))).sort((p,y)=>p-y),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var l=a-i;if(l===0)return 1/0;for(var o=0;o<r.length-1;o++){var u=r[o],h=r[o+1];if(!(u==null||h==null)){var d=h-u;n=Math.min(n,d)}}return n/l}}),pB=ie(rse,wt,yae,wn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Ke(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var l=Es(n,t*a),o=t*a/2;return o-l-(o-l)/a*l}return 0}),ise=(t,e,n)=>{var r=Ma(t,e);return r==null||typeof r.padding!="string"?0:pB(t,"xAxis",e,n,r.padding)},ase=(t,e,n)=>{var r=Da(t,e);return r==null||typeof r.padding!="string"?0:pB(t,"yAxis",e,n,r.padding)},sse=ie(Ma,ise,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),lse=ie(Da,ase,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),ose=ie([wn,sse,i0,r0,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),cse=ie([wn,wt,lse,i0,r0,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),xh=(t,e,n,r)=>{var i;switch(e){case"xAxis":return ose(t,n,r);case"yAxis":return cse(t,n,r);case"zAxis":return(i=yj(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return L6(t);case"radiusAxis":return B6(t,n);default:return}},gB=ie([Ln,xh],y0),use=ie([Cc,nse],kae),C0=ie([Ln,Cc,use,gB],Sj);ie([yh,bj,nn],Uae);function yB(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var N0=(t,e)=>e,k0=(t,e,n)=>n,fse=ie(t0,N0,k0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(yB)),hse=ie(n0,N0,k0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(yB)),vB=(t,e)=>({width:t.width,height:e.height}),dse=(t,e)=>{var n=typeof e.width=="number"?e.width:ch;return{width:n,height:t.height}},mse=ie(wn,Ma,vB),pse=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},gse=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},yse=ie(Ea,wn,fse,N0,k0,(t,e,n,r,i)=>{var a={},l;return n.forEach(o=>{var u=vB(e,o);l==null&&(l=pse(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;a[o.id]=l-Number(h)*u.height,l+=(h?-1:1)*u.height}),a}),vse=ie(Aa,wn,hse,N0,k0,(t,e,n,r,i)=>{var a={},l;return n.forEach(o=>{var u=dse(e,o);l==null&&(l=gse(e,r,t));var h=r==="left"&&!i||r==="right"&&i;a[o.id]=l-Number(h)*u.width,l+=(h?-1:1)*u.width}),a}),xse=(t,e)=>{var n=Ma(t,e);if(n!=null)return yse(t,n.orientation,n.mirror)},bse=ie([wn,Ma,xse,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),wse=(t,e)=>{var n=Da(t,e);if(n!=null)return vse(t,n.orientation,n.mirror)},Sse=ie([wn,Da,wse,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),jse=ie(wn,Da,(t,e)=>{var n=typeof e.width=="number"?e.width:ch;return{width:n,height:t.height}}),xB=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,o=Oa(t,r),u=e.map(h=>h.value);if(l&&o&&a==="category"&&i&&vL(u))return u}},Cj=ie([wt,j0,Ln,nn],xB),bB=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=Oa(t,r);if(l&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},Nj=ie([wt,j0,gh,nn],bB),I5=ie([wt,Mae,Cc,C0,Cj,Nj,xh,jj,nn],(t,e,n,r,i,a,l,o,u)=>{if(e!=null){var h=Oa(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:h,niceTicks:o,range:l,realScaleType:n,scale:r}}}),Cse=(t,e,n,r,i,a,l,o,u)=>{if(!(e==null||r==null)){var h=Oa(t,u),{type:d,ticks:p,tickCount:y}=e,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,b=d==="category"&&r.bandwidth?r.bandwidth()/v:0;b=u==="angleAxis"&&a!=null&&a.length>=2?Ur(a[0]-a[1])*2*b:b;var C=p||i;return C?C.map((j,N)=>{var A=l?l.indexOf(j):j,k=r.map(A);return Ke(k)?{index:N,coordinate:k+b,value:j,offset:b}:null}).filter(Qn):h&&o?o.map((j,N)=>{var A=r.map(j);return Ke(A)?{coordinate:A+b,value:j,index:N,offset:b}:null}).filter(Qn):r.ticks?r.ticks(y).map((j,N)=>{var A=r.map(j);return Ke(A)?{coordinate:A+b,value:j,index:N,offset:b}:null}).filter(Qn):r.domain().map((j,N)=>{var A=r.map(j);return Ke(A)?{coordinate:A+b,value:l?l[j]:j,index:N,offset:b}:null}).filter(Qn)}},wB=ie([wt,gh,Cc,C0,jj,xh,Cj,Nj,nn],Cse),Nse=(t,e,n,r,i,a,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=Oa(t,l),{tickCount:u}=e,h=0;return h=l==="angleAxis"&&r?.length>=2?Ur(r[0]-r[1])*2*h:h,o&&a?a.map((d,p)=>{var y=n.map(d);return Ke(y)?{coordinate:y+h,value:d,index:p,offset:h}:null}).filter(Qn):n.ticks?n.ticks(u).map((d,p)=>{var y=n.map(d);return Ke(y)?{coordinate:y+h,value:d,index:p,offset:h}:null}).filter(Qn):n.domain().map((d,p)=>{var y=n.map(d);return Ke(y)?{coordinate:y+h,value:i?i[d]:d,index:p,offset:h}:null}).filter(Qn)}},SB=ie([wt,gh,C0,xh,Cj,Nj,nn],Nse),jB=ie(Ln,C0,(t,e)=>{if(!(t==null||e==null))return cg(cg({},t),{},{scale:e})}),kse=ie([Ln,Cc,wj,gB],Sj);ie((t,e,n)=>yj(t,n),kse,(t,e)=>{if(!(t==null||e==null))return cg(cg({},t),{},{scale:e})});var Ose=ie([wt,t0,n0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),CB=t=>t.options.defaultTooltipEventType,NB=t=>t.options.validateTooltipEventTypes;function kB(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function kj(t,e){var n=CB(t),r=NB(t);return kB(e,n,r)}function Ase(t){return Oe(e=>kj(e,t))}var OB=(t,e)=>{var n,r=Number(e);if(!(xa(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Ese=t=>t.tooltip.settings,fs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Tse={itemInteraction:{click:fs,hover:fs},axisInteraction:{click:fs,hover:fs},keyboardInteraction:fs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},AB=Jn({name:"tooltip",initialState:Tse,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:gt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ii(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:gt()},removeTooltipEntrySettings:{reducer(t,e){var n=ii(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:gt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:Mse,replaceTooltipEntrySettings:Dse,removeTooltipEntrySettings:Pse,setTooltipSettingsState:_se,setActiveMouseOverItemIndex:Rse,mouseLeaveItem:Rpe,mouseLeaveChart:EB,setActiveClickItemIndex:Lpe,setMouseOverAxisIndex:TB,setMouseClickAxisIndex:Lse,setSyncInteraction:nS,setKeyboardInteraction:rS}=AB.actions,Bse=AB.reducer;function U5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U5(Object(n),!0).forEach(function(r){zse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zse(t,e,n){return(e=Ise(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ise(t){var e=Use(t,"string");return typeof e=="symbol"?e:e+""}function Use(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hse(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function $se(t){return t.index!=null}var MB=(t,e,n,r)=>{if(e==null)return fs;var i=Hse(t,e,n);if(i==null)return fs;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if($se(i)){if(a)return jm(jm({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return jm(jm({},fs),{},{coordinate:i.coordinate})};function qse(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Fse(t,e){var n=qse(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),l=Math.max(r,i);return n>=a&&n<=l}function Vse(t,e,n){if(n==null||e==null)return!0;var r=vn(t,e);return r==null||!Ca(n)?!0:Fse(r,n)}var Oj=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var a=Number(i);if(!Ke(a))return i;var l=0,o=1/0;e.length>0&&(o=e.length-1);var u=Math.max(l,Math.min(a,o)),h=e[u];return h==null||Vse(h,n,r)?String(u):null},DB=(t,e,n,r,i,a,l)=>{if(a!=null){var o=l[0],u=o?.getPosition(a);if(u!=null)return u;var h=i?.[Number(a)];if(h)return n==="horizontal"?{x:h.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:h.coordinate}}},PB=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(l=>{var o;return((o=l.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},_B=t=>t.options.tooltipPayloadSearcher,Nc=t=>t.tooltip;function H5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H5(Object(n),!0).forEach(function(r){Wse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wse(t,e,n){return(e=Kse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kse(t){var e=Gse(t,"string");return typeof e=="symbol"?e:e+""}function Gse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yse(t,e){return t??e}var RB=(t,e,n,r,i,a,l)=>{if(!(e==null||a==null)){var{chartData:o,computedData:u,dataStartIndex:h,dataEndIndex:d}=n,p=[];return t.reduce((y,v)=>{var b,{dataDefinedOnItem:C,settings:j}=v,N=Yse(C,o),A=Array.isArray(N)?h8(N,h,d):N,k=(b=j?.dataKey)!==null&&b!==void 0?b:r,T=j?.nameKey,D;if(r&&Array.isArray(A)&&!Array.isArray(A[0])&&l==="axis"?D=xL(A,r,i):D=a(A,e,u,T),Array.isArray(D))D.forEach(E=>{var _=$5($5({},j),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});y.push(HM({tooltipEntrySettings:_,dataKey:E.dataKey,payload:E.payload,value:vn(E.payload,E.dataKey),name:E.name}))});else{var M;y.push(HM({tooltipEntrySettings:j,dataKey:k,payload:D,value:vn(D,k),name:(M=vn(D,T))!==null&&M!==void 0?M:j?.name}))}return y},p)}},Aj=ie([Wt,q6,uj],hB),Qse=ie([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Xse=ie([rn,Sc],F6),kc=ie([Qse,Wt,Xse],W6,{memoizeOptions:{resultEqualityCheck:S0}}),Zse=ie([kc],t=>t.filter(gj)),Jse=ie([kc],Y6,{memoizeOptions:{resultEqualityCheck:S0}}),Oc=ie([Jse,Rs],Q6),ele=ie([Zse,Rs,Wt],U6),Ej=ie([Oc,Wt,kc],X6),LB=ie([Wt],xj),tle=ie([Wt],t=>t.allowDataOverflow),BB=ie([LB,tle],w6),nle=ie([kc],t=>t.filter(gj)),rle=ie([ele,nle,g0,D6],J6),ile=ie([rle,Rs,rn,BB],eB),ale=ie([kc],G6),sle=ie([Oc,Wt,ale,bj,rn],rB,{memoizeOptions:{resultEqualityCheck:w0}}),lle=ie([iB,rn,Sc],jc),ole=ie([lle,rn],lB),cle=ie([aB,rn,Sc],jc),ule=ie([cle,rn],oB),fle=ie([sB,rn,Sc],jc),hle=ie([fle,rn],cB),dle=ie([ole,hle,ule],ug),mle=ie([Wt,LB,BB,ile,sle,dle,wt,rn],uB),bh=ie([Wt,wt,Oc,Ej,g0,rn,mle],fB),ple=ie([bh,Wt,Aj],dB),gle=ie([Wt,bh,ple,rn],mB),zB=t=>{var e=rn(t),n=Sc(t),r=!1;return xh(t,e,n,r)},IB=ie([Wt,zB],y0),UB=ie([Wt,Aj,gle,IB],Sj),yle=ie([wt,Ej,Wt,rn],xB),vle=ie([wt,Ej,Wt,rn],bB),xle=(t,e,n,r,i,a,l,o)=>{if(e){var{type:u}=e,h=Oa(t,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/d:0;return p=o==="angleAxis"&&i!=null&&i?.length>=2?Ur(i[0]-i[1])*2*p:p,h&&l?l.map((y,v)=>{var b=r.map(y);return Ke(b)?{coordinate:b+p,value:y,index:v,offset:p}:null}).filter(Qn):r.domain().map((y,v)=>{var b=r.map(y);return Ke(b)?{coordinate:b+p,value:a?a[y]:y,index:v,offset:p}:null}).filter(Qn)}}},Pa=ie([wt,Wt,Aj,UB,zB,yle,vle,rn],xle),Tj=ie([CB,NB,Ese],(t,e,n)=>kB(n.shared,t,e)),HB=t=>t.tooltip.settings.trigger,Mj=t=>t.tooltip.settings.defaultIndex,wh=ie([Nc,Tj,HB,Mj],MB),$f=ie([wh,Oc,vh,bh],Oj),$B=ie([Pa,$f],OB),ble=ie([wh],t=>{if(t)return t.dataKey});ie([wh],t=>{if(t)return t.graphicalItemId});var qB=ie([Nc,Tj,HB,Mj],PB),wle=ie([Aa,Ea,wt,wn,Pa,Mj,qB],DB),Sle=ie([wh,wle],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),jle=ie([wh],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),Cle=ie([qB,$f,Rs,vh,$B,_B,Tj],RB),Nle=ie([Cle],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function q5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q5(Object(n),!0).forEach(function(r){kle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kle(t,e,n){return(e=Ole(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ole(t){var e=Ale(t,"string");return typeof e=="symbol"?e:e+""}function Ale(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ele=()=>Oe(Wt),Tle=()=>{var t=Ele(),e=Oe(Pa),n=Oe(UB);return Up(!t||!n?void 0:F5(F5({},t),{},{scale:n}),e)};function V5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V5(Object(n),!0).forEach(function(r){Mle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mle(t,e,n){return(e=Dle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dle(t){var e=Ple(t,"string");return typeof e=="symbol"?e:e+""}function Ple(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _le=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Rle=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:l}=r;return Eo(Eo(Eo({},r),gn(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var o=i.coordinate,{angle:u}=r;return Eo(Eo(Eo({},r),gn(r.cx,r.cy,o,u)),{},{angle:u,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Lle(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var FB=(t,e,n,r,i)=>{var a,l=(a=e?.length)!==null&&a!==void 0?a:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<l;o++){var u,h,d,p,y,v=o>0?(u=n[o-1])===null||u===void 0?void 0:u.coordinate:(h=n[l-1])===null||h===void 0?void 0:h.coordinate,b=(d=n[o])===null||d===void 0?void 0:d.coordinate,C=o>=l-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(y=n[o+1])===null||y===void 0?void 0:y.coordinate,j=void 0;if(!(v==null||b==null||C==null))if(Ur(b-v)!==Ur(C-b)){var N=[];if(Ur(C-b)===Ur(i[1]-i[0])){j=C;var A=b+i[1]-i[0];N[0]=Math.min(A,(A+v)/2),N[1]=Math.max(A,(A+v)/2)}else{j=v;var k=C+i[1]-i[0];N[0]=Math.min(b,(k+b)/2),N[1]=Math.max(b,(k+b)/2)}var T=[Math.min(b,(j+b)/2),Math.max(b,(j+b)/2)];if(t>T[0]&&t<=T[1]||t>=N[0]&&t<=N[1]){var D;return(D=n[o])===null||D===void 0?void 0:D.index}}else{var M=Math.min(v,C),E=Math.max(v,C);if(t>(M+b)/2&&t<=(E+b)/2){var _;return(_=n[o])===null||_===void 0?void 0:_.index}}}else if(e)for(var L=0;L<l;L++){var I=e[L];if(I!=null){var B=e[L+1],z=e[L-1];if(L===0&&B!=null&&t<=(I.coordinate+B.coordinate)/2||L===l-1&&z!=null&&t>(I.coordinate+z.coordinate)/2||L>0&&L<l-1&&z!=null&&B!=null&&t>(I.coordinate+z.coordinate)/2&&t<=(I.coordinate+B.coordinate)/2)return I.index}}return-1},Ble=()=>Oe(uj),Dj=(t,e)=>e,VB=(t,e,n)=>n,Pj=(t,e,n,r)=>r,zle=ie(Pa,t=>Vg(t,e=>e.coordinate)),_j=ie([Nc,Dj,VB,Pj],MB),Rj=ie([_j,Oc,vh,bh],Oj),Ile=(t,e,n)=>{if(e!=null){var r=Nc(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},WB=ie([Nc,Dj,VB,Pj],PB),fg=ie([Aa,Ea,wt,wn,Pa,Pj,WB],DB),Ule=ie([_j,fg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),KB=ie([Pa,Rj],OB),Hle=ie([WB,Rj,Rs,vh,KB,_B,Dj],RB),$le=ie([_j,Rj],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),qle=(t,e,n,r,i,a,l)=>{if(!(!t||!n||!r||!i)&&Lle(t,l)){var o=nee(t,e),u=FB(o,a,i,n,r),h=_le(e,i,u,t);return{activeIndex:String(u),activeCoordinate:h}}},Fle=(t,e,n,r,i,a,l)=>{if(!(!t||!r||!i||!a||!n)){var o=Nne(t,n);if(o){var u=ree(o,e),h=FB(u,l,a,r,i),d=Rle(e,a,h,o);return{activeIndex:String(h),activeCoordinate:d}}}},Vle=(t,e,n,r,i,a,l,o)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?qle(t,e,r,i,a,l,o):Fle(t,e,n,r,i,a,l)},Wle=ie(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Kle=ie(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Dn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Cae}});function W5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W5(Object(n),!0).forEach(function(r){Gle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gle(t,e,n){return(e=Yle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yle(t){var e=Qle(t,"string");return typeof e=="symbol"?e:e+""}function Qle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xle={},Zle={zIndexMap:Object.values(Dn).reduce((t,e)=>K5(K5({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Xle)},Jle=new Set(Object.values(Dn));function eoe(t){return Jle.has(t)}var GB=Jn({name:"zIndex",initialState:Zle,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:gt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!eoe(n)&&delete t.zIndexMap[n])},prepare:gt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:gt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:gt()}}}),{registerZIndexPortal:toe,unregisterZIndexPortal:noe,registerZIndexPortalElement:roe,unregisterZIndexPortalElement:ioe}=GB.actions,aoe=GB.reducer;function _a(t){var{zIndex:e,children:n}=t,r=Lee(),i=r&&e!==void 0&&e!==0,a=er(),l=Ut();w.useLayoutEffect(()=>i?(l(toe({zIndex:e})),()=>{l(noe({zIndex:e}))}):yc,[l,e,i]);var o=Oe(u=>Wle(u,e,a));return i?o?vS.createPortal(n,o):null:n}function iS(){return iS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iS.apply(null,arguments)}function G5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G5(Object(n),!0).forEach(function(r){soe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function soe(t,e,n){return(e=loe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function loe(t){var e=ooe(t,"string");return typeof e=="symbol"?e:e+""}function ooe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function coe(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return w.isValidElement(e)?w.cloneElement(e,r):w.createElement(n,r)}function uoe(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:l,layout:o,cursor:u,tooltipEventType:h,chartName:d}=t,p=n,y=r,v=i;if(!u||!p||d!=="ScatterChart"&&h!=="axis")return null;var b,C,j;if(d==="ScatterChart")b=p,C=zte,j=Dn.cursorLine;else if(d==="BarChart")b=Ite(o,p,a,l),C=B8,j=Dn.cursorRectangle;else if(o==="radial"&&wL(p)){var{cx:N,cy:A,radius:k,startAngle:T,endAngle:D}=z8(p);b={cx:N,cy:A,startAngle:T,endAngle:D,innerRadius:k,outerRadius:k},C=U8,j=Dn.cursorLine}else b={points:Ene(o,p,a)},C=D8,j=Dn.cursorLine;var M=typeof u=="object"&&"className"in u?u.className:void 0,E=Cm(Cm(Cm(Cm({stroke:"#ccc",pointerEvents:"none"},a),b),Ug(u)),{},{payload:y,payloadIndex:v,className:at("recharts-tooltip-cursor",M)});return w.createElement(_a,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:j},w.createElement(coe,{cursor:u,cursorComp:C,cursorProps:E}))}function foe(t){var e=Tle(),n=w8(),r=vc(),i=Ble();return e==null||n==null||r==null||i==null?null:w.createElement(uoe,iS({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var YB=w.createContext(null),hoe=()=>w.useContext(YB),Yb={exports:{}},Y5;function doe(){return Y5||(Y5=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,h,d){this.fn=u,this.context=h,this.once=d||!1}function a(u,h,d,p,y){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new i(d,p||u,y),b=n?n+h:h;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],v]:u._events[b].push(v):(u._events[b]=v,u._eventsCount++),u}function l(u,h){--u._eventsCount===0?u._events=new r:delete u._events[h]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var h=[],d,p;if(this._eventsCount===0)return h;for(p in d=this._events)e.call(d,p)&&h.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(d)):h},o.prototype.listeners=function(h){var d=n?n+h:h,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,v=p.length,b=new Array(v);y<v;y++)b[y]=p[y].fn;return b},o.prototype.listenerCount=function(h){var d=n?n+h:h,p=this._events[d];return p?p.fn?1:p.length:0},o.prototype.emit=function(h,d,p,y,v,b){var C=n?n+h:h;if(!this._events[C])return!1;var j=this._events[C],N=arguments.length,A,k;if(j.fn){switch(j.once&&this.removeListener(h,j.fn,void 0,!0),N){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,d),!0;case 3:return j.fn.call(j.context,d,p),!0;case 4:return j.fn.call(j.context,d,p,y),!0;case 5:return j.fn.call(j.context,d,p,y,v),!0;case 6:return j.fn.call(j.context,d,p,y,v,b),!0}for(k=1,A=new Array(N-1);k<N;k++)A[k-1]=arguments[k];j.fn.apply(j.context,A)}else{var T=j.length,D;for(k=0;k<T;k++)switch(j[k].once&&this.removeListener(h,j[k].fn,void 0,!0),N){case 1:j[k].fn.call(j[k].context);break;case 2:j[k].fn.call(j[k].context,d);break;case 3:j[k].fn.call(j[k].context,d,p);break;case 4:j[k].fn.call(j[k].context,d,p,y);break;default:if(!A)for(D=1,A=new Array(N-1);D<N;D++)A[D-1]=arguments[D];j[k].fn.apply(j[k].context,A)}}return!0},o.prototype.on=function(h,d,p){return a(this,h,d,p,!1)},o.prototype.once=function(h,d,p){return a(this,h,d,p,!0)},o.prototype.removeListener=function(h,d,p,y){var v=n?n+h:h;if(!this._events[v])return this;if(!d)return l(this,v),this;var b=this._events[v];if(b.fn)b.fn===d&&(!y||b.once)&&(!p||b.context===p)&&l(this,v);else{for(var C=0,j=[],N=b.length;C<N;C++)(b[C].fn!==d||y&&!b[C].once||p&&b[C].context!==p)&&j.push(b[C]);j.length?this._events[v]=j.length===1?j[0]:j:l(this,v)}return this},o.prototype.removeAllListeners=function(h){var d;return h?(d=n?n+h:h,this._events[d]&&l(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(Yb)),Yb.exports}var moe=doe();const poe=zi(moe);var qf=new poe,aS="recharts.syncEvent.tooltip",Q5="recharts.syncEvent.brush",goe=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!xa(n))return t[n]}},yoe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},QB=Jn({name:"options",initialState:yoe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),voe=QB.reducer,{createEventEmitter:xoe}=QB.actions;function boe(t){return t.tooltip.syncInteraction}var woe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},XB=Jn({name:"chartData",initialState:woe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:X5,setDataStartEndIndexes:Soe,setComputedData:Bpe}=XB.actions,joe=XB.reducer,Coe=["x","y"];function Z5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function To(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z5(Object(n),!0).forEach(function(r){Noe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Noe(t,e,n){return(e=koe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function koe(t){var e=Ooe(t,"string");return typeof e=="symbol"?e:e+""}function Ooe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aoe(t,e){if(t==null)return{};var n,r,i=Eoe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Eoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Toe(){var t=Oe(fj),e=Oe(hj),n=Ut(),r=Oe(P6),i=Oe(Pa),a=vc(),l=a0(),o=Oe(u=>u.rootProps.className);w.useEffect(()=>{if(t==null)return yc;var u=(h,d,p)=>{if(e!==p&&t===h){if(r==="index"){var y;if(l&&d!==null&&d!==void 0&&(y=d.payload)!==null&&y!==void 0&&y.coordinate&&d.payload.sourceViewBox){var v=d.payload.coordinate,{x:b,y:C}=v,j=Aoe(v,Coe),{x:N,y:A,width:k,height:T}=d.payload.sourceViewBox,D=To(To({},j),{},{x:l.x+(k?(b-N)/k:0)*l.width,y:l.y+(T?(C-A)/T:0)*l.height});n(To(To({},d),{},{payload:To(To({},d.payload),{},{coordinate:D})}))}else n(d);return}if(i!=null){var M;if(typeof r=="function"){var E={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},_=r(i,E);M=i[_]}else r==="value"&&(M=i.find(H=>String(H.value)===d.payload.label));var{coordinate:L}=d.payload;if(M==null||d.payload.active===!1||L==null||l==null){n(nS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:I,y:B}=L,z=Math.min(I,l.x+l.width),$=Math.min(B,l.y+l.height),ee={x:a==="horizontal"?M.coordinate:z,y:a==="horizontal"?$:M.coordinate},F=nS({active:d.payload.active,coordinate:ee,dataKey:d.payload.dataKey,index:String(M.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(F)}}};return qf.on(aS,u),()=>{qf.off(aS,u)}},[o,n,e,t,r,i,a,l])}function Moe(){var t=Oe(fj),e=Oe(hj),n=Ut();w.useEffect(()=>{if(t==null)return yc;var r=(i,a,l)=>{e!==l&&t===i&&n(Soe(a))};return qf.on(Q5,r),()=>{qf.off(Q5,r)}},[n,e,t])}function Doe(){var t=Ut();w.useEffect(()=>{t(xoe())},[t]),Toe(),Moe()}function Poe(t,e,n,r,i,a){var l=Oe(v=>Ile(v,t,e)),o=Oe(hj),u=Oe(fj),h=Oe(P6),d=Oe(boe),p=d?.active,y=a0();w.useEffect(()=>{if(!p&&u!=null&&o!=null){var v=nS({active:a,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});qf.emit(aS,u,v,o)}},[p,n,l,i,r,o,u,h,a,y])}function J5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J5(Object(n),!0).forEach(function(r){_oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _oe(t,e,n){return(e=Roe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Roe(t){var e=Loe(t,"string");return typeof e=="symbol"?e:e+""}function Loe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Boe(t){return t.dataKey}function zoe(t,e){return w.isValidElement(t)?w.cloneElement(t,e):typeof t=="function"?w.createElement(t,e):w.createElement(yte,e)}var t4=[],Ioe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function hg(t){var e,n,r=On(t,Ioe),{active:i,allowEscapeViewBox:a,animationDuration:l,animationEasing:o,content:u,filterNull:h,isAnimationActive:d,offset:p,payloadUniqBy:y,position:v,reverseDirection:b,useTranslate3d:C,wrapperStyle:j,cursor:N,shared:A,trigger:k,defaultIndex:T,portal:D,axisId:M}=r,E=Ut(),_=typeof T=="number"?String(T):T;w.useEffect(()=>{E(_se({shared:A,trigger:k,axisId:M,active:i,defaultIndex:_}))},[E,A,k,M,i,_]);var L=a0(),I=M8(),B=Ase(A),{activeIndex:z,isActive:$}=(e=Oe(me=>$le(me,B,k,_)))!==null&&e!==void 0?e:{},ee=Oe(me=>Hle(me,B,k,_)),F=Oe(me=>KB(me,B,k,_)),H=Oe(me=>Ule(me,B,k,_)),V=ee,Q=hoe(),se=(n=i??$)!==null&&n!==void 0?n:!1,[he,R]=LL([V,se]),W=B==="axis"?F:void 0;Poe(B,k,H,W,z,se);var fe=D??Q;if(fe==null||L==null||B==null)return null;var Z=V??t4;se||(Z=t4),h&&Z.length&&(Z=ML(Z.filter(me=>me.value!=null&&(me.hide!==!0||r.includeHidden)),y,Boe));var de=Z.length>0,G=w.createElement(Cte,{allowEscapeViewBox:a,animationDuration:l,animationEasing:o,isAnimationActive:d,active:se,coordinate:H,hasPayload:de,offset:p,position:v,reverseDirection:b,useTranslate3d:C,viewBox:L,wrapperStyle:j,lastBoundingBox:he,innerRef:R,hasPortalFromProps:!!D},zoe(u,e4(e4({},r),{},{payload:Z,label:W,active:se,activeIndex:z,coordinate:H,accessibilityLayer:I})));return w.createElement(w.Fragment,null,vS.createPortal(G,fe),se&&w.createElement(foe,{cursor:N,tooltipEventType:B,coordinate:H,payload:Z,index:z}))}function Uoe(t,e,n){return(e=Hoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hoe(t){var e=$oe(t,"string");return typeof e=="symbol"?e:e+""}function $oe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qoe{constructor(e){Uoe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function n4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Foe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n4(Object(n),!0).forEach(function(r){Voe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Voe(t,e,n){return(e=Woe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Woe(t){var e=Koe(t,"string");return typeof e=="symbol"?e:e+""}function Koe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Goe={cacheSize:2e3,enableCache:!0},ZB=Foe({},Goe),r4=new qoe(ZB.cacheSize),Yoe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},i4="recharts_measurement_span";function Qoe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",l=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(o)}var a4=(t,e)=>{try{var n=document.getElementById(i4);n||(n=document.createElement("span"),n.setAttribute("id",i4),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Yoe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},sf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||c0.isSsr)return{width:0,height:0};if(!ZB.enableCache)return a4(e,n);var r=Qoe(e,n),i=r4.get(r);if(i)return i;var a=a4(e,n);return r4.set(r,a),a},JB;function Xoe(t,e,n){return(e=Zoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zoe(t){var e=Joe(t,"string");return typeof e=="symbol"?e:e+""}function Joe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,l4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ece=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,nce={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rce=["cm","mm","pt","pc","in","Q","px"];function ice(t){return rce.includes(t)}var Io="NaN";function ace(t,e){return t*nce[e]}class mn{static parse(e){var n,[,r,i]=(n=tce.exec(e))!==null&&n!==void 0?n:[];return r==null?mn.NaN:new mn(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,xa(e)&&(this.unit=""),n!==""&&!ece.test(n)&&(this.num=NaN,this.unit=""),ice(n)&&(this.num=ace(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new mn(NaN,""):new mn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new mn(NaN,""):new mn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new mn(NaN,""):new mn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new mn(NaN,""):new mn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return xa(this.num)}}JB=mn;Xoe(mn,"NaN",new JB(NaN,""));function ez(t){if(t==null||t.includes(Io))return Io;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=s4.exec(e))!==null&&n!==void 0?n:[],l=mn.parse(r??""),o=mn.parse(a??""),u=i==="*"?l.multiply(o):l.divide(o);if(u.isNaN())return Io;e=e.replace(s4,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,d,p,y]=(h=l4.exec(e))!==null&&h!==void 0?h:[],v=mn.parse(d??""),b=mn.parse(y??""),C=p==="+"?v.add(b):v.subtract(b);if(C.isNaN())return Io;e=e.replace(l4,C.toString())}return e}var o4=/\(([^()]*)\)/;function sce(t){for(var e=t,n;(n=o4.exec(e))!=null;){var[,r]=n;e=e.replace(o4,ez(r))}return e}function lce(t){var e=t.replace(/\s+/g,"");return e=sce(e),e=ez(e),e}function oce(t){try{return lce(t)}catch{return Io}}function Qb(t){var e=oce(t.slice(5,-1));return e===Io?"":e}var cce=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],uce=["dx","dy","angle","className","breakAll"];function sS(){return sS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sS.apply(null,arguments)}function c4(t,e){if(t==null)return{};var n,r,i=fce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tz=/[ \f\n\r\t\v\u2028\u2029]+/,nz=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];xn(e)||(n?i=e.toString().split(""):i=e.toString().split(tz));var a=i.map(o=>({word:o,width:sf(o,r).width})),l=n?0:sf("",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}};function hce(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var rz=(t,e,n,r)=>t.reduce((i,a)=>{var{word:l,width:o}=a,u=i[i.length-1];if(u&&o!=null&&(e==null||r||u.width+o+n<Number(e)))u.words.push(l),u.width+=o+n;else{var h={words:[l],width:o};i.push(h)}return i},[]),iz=t=>t.reduce((e,n)=>e.width>n.width?e:n),dce="",u4=(t,e,n,r,i,a,l,o)=>{var u=t.slice(0,e),h=nz({breakAll:n,style:r,children:u+dce});if(!h)return[!1,[]];var d=rz(h.wordsWithComputedWidth,a,l,o),p=d.length>i||iz(d).width>Number(a);return[p,d]},mce=(t,e,n,r,i)=>{var{maxLines:a,children:l,style:o,breakAll:u}=t,h=Ce(a),d=String(l),p=rz(e,r,n,i);if(!h||i)return p;var y=p.length>a||iz(p).width>Number(r);if(!y)return p;for(var v=0,b=d.length-1,C=0,j;v<=b&&C<=d.length-1;){var N=Math.floor((v+b)/2),A=N-1,[k,T]=u4(d,A,u,o,a,r,n,i),[D]=u4(d,N,u,o,a,r,n,i);if(!k&&!D&&(v=N+1),k&&D&&(b=N-1),!k&&D){j=T;break}C++}return j||p},f4=t=>{var e=xn(t)?[]:t.toString().split(tz);return[{words:e,width:void 0}]},pce=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=t;if((e||n)&&!c0.isSsr){var o,u,h=nz({breakAll:a,children:r,style:i});if(h){var{wordsWithComputedWidth:d,spaceWidth:p}=h;o=d,u=p}else return f4(r);return mce({breakAll:a,children:r,maxLines:l,style:i},o,u,e,!!n)}return f4(r)},az="#808080",gce={angle:0,breakAll:!1,capHeight:"0.71em",fill:az,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Lj=w.forwardRef((t,e)=>{var n=On(t,gce),{x:r,y:i,lineHeight:a,capHeight:l,fill:o,scaleToFit:u,textAnchor:h,verticalAnchor:d}=n,p=c4(n,cce),y=w.useMemo(()=>pce({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:v,dy:b,angle:C,className:j,breakAll:N}=p,A=c4(p,uce);if(!Ri(r)||!Ri(i)||y.length===0)return null;var k=Number(r)+(Ce(v)?v:0),T=Number(i)+(Ce(b)?b:0);if(!Ke(k)||!Ke(T))return null;var D;switch(d){case"start":D=Qb("calc(".concat(l,")"));break;case"middle":D=Qb("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:D=Qb("calc(".concat(y.length-1," * -").concat(a,")"));break}var M=[],E=y[0];if(u&&E!=null){var _=E.width,{width:L}=p;M.push("scale(".concat(Ce(L)&&Ce(_)?L/_:1,")"))}return C&&M.push("rotate(".concat(C,", ").concat(k,", ").concat(T,")")),M.length&&(A.transform=M.join(" ")),w.createElement("text",sS({},_n(A),{ref:e,x:k,y:T,className:at("recharts-text",j),textAnchor:h,fill:o.includes("url")?az:o}),y.map((I,B)=>{var z=I.words.join(N?"":" ");return w.createElement("tspan",{x:k,dy:B===0?D:a,key:"".concat(z,"-").concat(B)},z)}))});Lj.displayName="Text";function h4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h4(Object(n),!0).forEach(function(r){yce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yce(t,e,n){return(e=vce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vce(t){var e=xce(t,"string");return typeof e=="symbol"?e:e+""}function xce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bce=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:a,y:l,height:o,upperWidth:u,lowerWidth:h}=T2(e),d=a,p=a+(u-h)/2,y=(d+p)/2,v=(u+h)/2,b=d+u/2,C=o>=0?1:-1,j=C*r,N=C>0?"end":"start",A=C>0?"start":"end",k=u>=0?1:-1,T=k*r,D=k>0?"end":"start",M=k>0?"start":"end",E=i;if(n==="top"){var _={x:d+u/2,y:l-j,horizontalAnchor:"middle",verticalAnchor:N};return E&&(_.height=Math.max(l-E.y,0),_.width=u),_}if(n==="bottom"){var L={x:p+h/2,y:l+o+j,horizontalAnchor:"middle",verticalAnchor:A};return E&&(L.height=Math.max(E.y+E.height-(l+o),0),L.width=h),L}if(n==="left"){var I={x:y-T,y:l+o/2,horizontalAnchor:D,verticalAnchor:"middle"};return E&&(I.width=Math.max(I.x-E.x,0),I.height=o),I}if(n==="right"){var B={x:y+v+T,y:l+o/2,horizontalAnchor:M,verticalAnchor:"middle"};return E&&(B.width=Math.max(E.x+E.width-B.x,0),B.height=o),B}var z=E?{width:v,height:o}:{};return n==="insideLeft"?bi({x:y+T,y:l+o/2,horizontalAnchor:M,verticalAnchor:"middle"},z):n==="insideRight"?bi({x:y+v-T,y:l+o/2,horizontalAnchor:D,verticalAnchor:"middle"},z):n==="insideTop"?bi({x:d+u/2,y:l+j,horizontalAnchor:"middle",verticalAnchor:A},z):n==="insideBottom"?bi({x:p+h/2,y:l+o-j,horizontalAnchor:"middle",verticalAnchor:N},z):n==="insideTopLeft"?bi({x:d+T,y:l+j,horizontalAnchor:M,verticalAnchor:A},z):n==="insideTopRight"?bi({x:d+u-T,y:l+j,horizontalAnchor:D,verticalAnchor:A},z):n==="insideBottomLeft"?bi({x:p+T,y:l+o-j,horizontalAnchor:M,verticalAnchor:N},z):n==="insideBottomRight"?bi({x:p+h-T,y:l+o-j,horizontalAnchor:D,verticalAnchor:N},z):n&&typeof n=="object"&&(Ce(n.x)||Ml(n.x))&&(Ce(n.y)||Ml(n.y))?bi({x:a+Es(n.x,v),y:l+Es(n.y,o),horizontalAnchor:"end",verticalAnchor:"end"},z):bi({x:b,y:l+o/2,horizontalAnchor:"middle",verticalAnchor:"middle"},z)},wce=["labelRef"],Sce=["content"];function d4(t,e){if(t==null)return{};var n,r,i=jce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function m4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m4(Object(n),!0).forEach(function(r){Cce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cce(t,e,n){return(e=Nce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nce(t){var e=kce(t,"string");return typeof e=="symbol"?e:e+""}function kce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ua(){return ua=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ua.apply(null,arguments)}var sz=w.createContext(null),Oce=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:l,children:o}=t,u=w.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:l}),[e,n,r,i,a,l]);return w.createElement(sz.Provider,{value:u},o)},lz=()=>{var t=w.useContext(sz),e=a0();return t||(e?T2(e):void 0)},Ace=w.createContext(null),Ece=()=>{var t=w.useContext(Ace),e=Oe(z6);return t||e},Tce=t=>{var{value:e,formatter:n}=t,r=xn(t.children)?e:t.children;return typeof n=="function"?n(r):r},Bj=t=>t!=null&&typeof t=="function",Mce=(t,e)=>{var n=Ur(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Dce=(t,e,n,r,i)=>{var{offset:a,className:l}=t,{cx:o,cy:u,innerRadius:h,outerRadius:d,startAngle:p,endAngle:y,clockWise:v}=i,b=(h+d)/2,C=Mce(p,y),j=C>=0?1:-1,N,A;switch(e){case"insideStart":N=p+j*a,A=v;break;case"insideEnd":N=y-j*a,A=!v;break;case"end":N=y+j*a,A=v;break;default:throw new Error("Unsupported position ".concat(e))}A=C<=0?A:!A;var k=gn(o,u,b,N),T=gn(o,u,b,N+(A?1:-1)*359),D="M".concat(k.x,",").concat(k.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(A?0:1,`,
    `).concat(T.x,",").concat(T.y),M=xn(t.id)?Ef("recharts-radial-line-"):t.id;return w.createElement("text",ua({},r,{dominantBaseline:"central",className:at("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:M,d:D})),w.createElement("textPath",{xlinkHref:"#".concat(M)},n))},Pce=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:o,endAngle:u}=t,h=(o+u)/2;if(n==="outside"){var{x:d,y:p}=gn(r,i,l+e,h);return{x:d,y:p,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+l)/2,{x:v,y:b}=gn(r,i,y,h);return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},$m=t=>t!=null&&"cx"in t&&Ce(t.cx),_ce={angle:0,offset:5,zIndex:Dn.label,position:"middle",textBreakAll:!1};function Rce(t){if(!$m(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function cs(t){var e=On(t,_ce),{viewBox:n,parentViewBox:r,position:i,value:a,children:l,content:o,className:u="",textBreakAll:h,labelRef:d}=e,p=Ece(),y=lz(),v=i==="center"?y:p??y,b,C,j;n==null?b=v:$m(n)?b=n:b=T2(n);var N=Rce(b);if(!b||xn(a)&&xn(l)&&!w.isValidElement(o)&&typeof o!="function")return null;var A=Gu(Gu({},e),{},{viewBox:b});if(w.isValidElement(o)){var{labelRef:k}=A,T=d4(A,wce);return w.cloneElement(o,T)}if(typeof o=="function"){var{content:D}=A,M=d4(A,Sce);if(C=w.createElement(o,M),w.isValidElement(C))return C}else C=Tce(e);var E=_n(e);if($m(b)){if(i==="insideStart"||i==="insideEnd"||i==="end")return Dce(e,i,C,E,b);j=Pce(b,e.offset,e.position)}else{if(!N)return null;var _=bce({viewBox:N,position:i,offset:e.offset,parentViewBox:$m(r)?void 0:r});j=Gu(Gu({x:_.x,y:_.y,textAnchor:_.horizontalAnchor,verticalAnchor:_.verticalAnchor},_.width!==void 0?{width:_.width}:{}),_.height!==void 0?{height:_.height}:{})}return w.createElement(_a,{zIndex:e.zIndex},w.createElement(Lj,ua({ref:d,className:at("recharts-label",u)},E,j,{textAnchor:hce(E.textAnchor)?E.textAnchor:j.textAnchor,breakAll:h}),C))}cs.displayName="Label";var Lce=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?w.createElement(cs,ua({key:"label-implicit"},r)):Ri(t)?w.createElement(cs,ua({key:"label-implicit",value:t},r)):w.isValidElement(t)?t.type===cs?w.cloneElement(t,Gu({key:"label-implicit"},r)):w.createElement(cs,ua({key:"label-implicit",content:t},r)):Bj(t)?w.createElement(cs,ua({key:"label-implicit",content:t},r)):t&&typeof t=="object"?w.createElement(cs,ua({},t,{key:"label-implicit"},r)):null};function Bce(t){var{label:e,labelRef:n}=t,r=lz();return Lce(e,r,n)||null}var Xb={},Zb={},p4;function zce(){return p4||(p4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Zb)),Zb}var Jb={},g4;function Ice(){return g4||(g4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Jb)),Jb}var y4;function Uce(){return y4||(y4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zce(),n=Ice(),r=b2();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(Xb)),Xb}var e1,v4;function Hce(){return v4||(v4=1,e1=Uce().last),e1}var $ce=Hce();const qce=zi($ce);var Fce=["valueAccessor"],Vce=["dataKey","clockWise","id","textBreakAll","zIndex"];function dg(){return dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dg.apply(null,arguments)}function x4(t,e){if(t==null)return{};var n,r,i=Wce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Kce=t=>Array.isArray(t.value)?qce(t.value):t.value,oz=w.createContext(void 0),Gce=oz.Provider,cz=w.createContext(void 0);cz.Provider;function Yce(){return w.useContext(oz)}function Qce(){return w.useContext(cz)}function qm(t){var{valueAccessor:e=Kce}=t,n=x4(t,Fce),{dataKey:r,clockWise:i,id:a,textBreakAll:l,zIndex:o}=n,u=x4(n,Vce),h=Yce(),d=Qce(),p=h||d;return!p||!p.length?null:w.createElement(_a,{zIndex:o??Dn.label},w.createElement(As,{className:"recharts-label-list"},p.map((y,v)=>{var b,C=xn(r)?e(y,v):vn(y.payload,r),j=xn(a)?{}:{id:"".concat(a,"-").concat(v)};return w.createElement(cs,dg({key:"label-".concat(v)},_n(y),u,j,{fill:(b=n.fill)!==null&&b!==void 0?b:y.fill,parentViewBox:y.parentViewBox,value:C,textBreakAll:l,viewBox:y.viewBox,index:v,zIndex:0}))})))}qm.displayName="LabelList";function Xce(t){var{label:e}=t;return e?e===!0?w.createElement(qm,{key:"labelList-implicit"}):w.isValidElement(e)||Bj(e)?w.createElement(qm,{key:"labelList-implicit",content:e}):typeof e=="object"?w.createElement(qm,dg({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function lS(){return lS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lS.apply(null,arguments)}var uz=t=>{var{cx:e,cy:n,r,className:i}=t,a=at("recharts-dot",i);return Ce(e)&&Ce(n)&&Ce(r)?w.createElement("circle",lS({},_i(t),x2(t),{className:a,cx:e,cy:n,r})):null},Zce={radiusAxis:{},angleAxis:{}},fz=Jn({name:"polarAxis",initialState:Zce,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:zpe,removeRadiusAxis:Ipe,addAngleAxis:Upe,removeAngleAxis:Hpe}=fz.actions,Jce=fz.reducer;function eue(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var hz=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,t1={},b4;function tue(){return b4||(b4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(t1)),t1}var n1,w4;function nue(){return w4||(w4=1,n1=tue().isPlainObject),n1}var rue=nue();const iue=zi(rue);var S4,j4,C4,N4,k4;function O4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O4(Object(n),!0).forEach(function(r){aue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aue(t,e,n){return(e=sue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sue(t){var e=lue(t,"string");return typeof e=="symbol"?e:e+""}function lue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mg(){return mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mg.apply(null,arguments)}function Iu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var E4=(t,e,n,r,i)=>{var a=n-r,l;return l=kt(S4||(S4=Iu(["M ",",",""])),t,e),l+=kt(j4||(j4=Iu(["L ",",",""])),t+n,e),l+=kt(C4||(C4=Iu(["L ",",",""])),t+n-a/2,e+i),l+=kt(N4||(N4=Iu(["L ",",",""])),t+n-a/2-r,e+i),l+=kt(k4||(k4=Iu(["L ",","," Z"])),t,e),l},oue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cue=t=>{var e=On(t,oue),{x:n,y:r,upperWidth:i,lowerWidth:a,height:l,className:o}=e,{animationEasing:u,animationDuration:h,animationBegin:d,isUpdateAnimationActive:p}=e,y=w.useRef(null),[v,b]=w.useState(-1),C=w.useRef(i),j=w.useRef(a),N=w.useRef(l),A=w.useRef(n),k=w.useRef(r),T=B2(t,"trapezoid-");if(w.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var ee=y.current.getTotalLength();ee&&b(ee)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var D=at("recharts-trapezoid",o);if(!p)return w.createElement("g",null,w.createElement("path",mg({},_n(e),{className:D,d:E4(n,r,i,a,l)})));var M=C.current,E=j.current,_=N.current,L=A.current,I=k.current,B="0px ".concat(v===-1?1:v,"px"),z="".concat(v,"px 0px"),$=P8(["strokeDasharray"],h,u);return w.createElement(L2,{animationId:T,key:T,canBegin:v>0,duration:h,easing:u,isActive:p,begin:d},ee=>{var F=Kn(M,i,ee),H=Kn(E,a,ee),V=Kn(_,l,ee),Q=Kn(L,n,ee),se=Kn(I,r,ee);y.current&&(C.current=F,j.current=H,N.current=V,A.current=Q,k.current=se);var he=ee>0?{transition:$,strokeDasharray:z}:{strokeDasharray:B};return w.createElement("path",mg({},_n(e),{className:D,d:E4(Q,se,F,H,V),ref:y,style:A4(A4({},he),e.style)}))})},uue=["option","shapeType","activeClassName"];function fue(t,e){if(t==null)return{};var n,r,i=hue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function T4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T4(Object(n),!0).forEach(function(r){due(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function due(t,e,n){return(e=mue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mue(t){var e=pue(t,"string");return typeof e=="symbol"?e:e+""}function pue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gue(t,e){return pg(pg({},e),t)}function yue(t,e){return t==="symbols"}function M4(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return w.createElement(B8,n);case"trapezoid":return w.createElement(cue,n);case"sector":return w.createElement(U8,n);case"symbols":if(yue(e))return w.createElement(v2,n);break;case"curve":return w.createElement(D8,n);default:return null}}function vue(t){return w.isValidElement(t)?t.props:t}function xue(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=fue(t,uue),a;if(w.isValidElement(e))a=w.cloneElement(e,pg(pg({},i),vue(e)));else if(typeof e=="function")a=e(i,i.index);else if(iue(e)&&typeof e!="boolean"){var l=gue(e,i);a=w.createElement(M4,{shapeType:n,elementProps:l})}else{var o=i;a=w.createElement(M4,{shapeType:n,elementProps:o})}return i.isActive?w.createElement(As,{className:r},a):a}function bue(t){var{tooltipEntrySettings:e}=t,n=Ut(),r=er(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(Mse(e)):i.current!==e&&n(Dse({prev:i.current,next:e})),i.current=e)},[e,n,r]),w.useLayoutEffect(()=>()=>{i.current&&(n(Pse(i.current)),i.current=null)},[n]),null}function wue(t){var{legendPayload:e}=t,n=Ut(),r=er(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(Qee(e)):i.current!==e&&n(Xee({prev:i.current,next:e})),i.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{i.current&&(n(Zee(i.current)),i.current=null)},[n]),null}var r1,Sue=()=>{var[t]=w.useState(()=>Ef("uid-"));return t},jue=(r1=w3.useId)!==null&&r1!==void 0?r1:Sue;function Cue(t,e){var n=jue();return e||(t?"".concat(t,"-").concat(n):n)}var Nue=w.createContext(void 0),kue=t=>{var{id:e,type:n,children:r}=t,i=Cue("recharts-".concat(n),e);return w.createElement(Nue.Provider,{value:i},r(i))},Oue={cartesianItems:[],polarItems:[]},dz=Jn({name:"graphicalItems",initialState:Oue,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:gt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ii(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:gt()},removeCartesianGraphicalItem:{reducer(t,e){var n=ii(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:gt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:gt()},removePolarGraphicalItem:{reducer(t,e){var n=ii(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:gt()}}}),{addCartesianGraphicalItem:Aue,replaceCartesianGraphicalItem:Eue,removeCartesianGraphicalItem:Tue,addPolarGraphicalItem:$pe,removePolarGraphicalItem:qpe}=dz.actions,Mue=dz.reducer,Due=t=>{var e=Ut(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(Aue(t)):n.current!==t&&e(Eue({prev:n.current,next:t})),n.current=t},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(e(Tue(n.current)),n.current=null)},[e]),null},Pue=w.memo(Due),_ue=["points"];function D4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D4(Object(n),!0).forEach(function(r){Rue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rue(t,e,n){return(e=Lue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lue(t){var e=Bue(t,"string");return typeof e=="symbol"?e:e+""}function Bue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gg(){return gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gg.apply(null,arguments)}function zue(t,e){if(t==null)return{};var n,r,i=Iue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Iue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Uue(t){var{option:e,dotProps:n,className:r}=t;if(w.isValidElement(e))return w.cloneElement(e,n);if(typeof e=="function")return e(n);var i=at(r,typeof e!="boolean"?e.className:""),a=n??{},{points:l}=a,o=zue(a,_ue);return w.createElement(uz,gg({},o,{className:i}))}function Hue(t,e){return t==null?!1:e?!0:t.length===1}function $ue(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:l,needClip:o,clipPathId:u,zIndex:h=Dn.scatter}=t;if(!Hue(e,n))return null;var d=hz(n),p=_Q(n),y=e.map((b,C)=>{var j,N,A=i1(i1(i1({r:3},l),p),{},{index:C,cx:(j=b.x)!==null&&j!==void 0?j:void 0,cy:(N=b.y)!==null&&N!==void 0?N:void 0,dataKey:a,value:b.value,payload:b.payload,points:e});return w.createElement(Uue,{key:"dot-".concat(C),option:n,dotProps:A,className:i})}),v={};return o&&u!=null&&(v.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(u,")")),w.createElement(_a,{zIndex:h},w.createElement(As,gg({className:r},v),y))}function P4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P4(Object(n),!0).forEach(function(r){que(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function que(t,e,n){return(e=Fue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fue(t){var e=Vue(t,"string");return typeof e=="symbol"?e:e+""}function Vue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wue={xAxis:{},yAxis:{},zAxis:{}},mz=Jn({name:"cartesianAxis",initialState:Wue,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:gt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:gt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:gt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:gt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:gt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:gt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:gt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:gt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:gt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a,l=i.widthHistory||[];if(l.length===3&&l[0]===l[2]&&r===l[1]&&r!==i.width&&Math.abs(r-((a=l[0])!==null&&a!==void 0?a:0))<=1)return;var o=[...l,r].slice(-3);t.yAxis[n]=_4(_4({},i),{},{width:r,widthHistory:o})}}}}),{addXAxis:Kue,replaceXAxis:Gue,removeXAxis:Yue,addYAxis:Que,replaceYAxis:Xue,removeYAxis:Zue,addZAxis:Fpe,replaceZAxis:Vpe,removeZAxis:Wpe,updateYAxisWidth:Jue}=mz.actions,efe=mz.reducer,tfe=ie([wn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),nfe=ie([tfe,Aa,Ea],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),zj=()=>Oe(nfe),rfe=()=>Oe(Nle);function R4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R4(Object(n),!0).forEach(function(r){ife(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ife(t,e,n){return(e=afe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function afe(t){var e=sfe(t,"string");return typeof e=="symbol"?e:e+""}function sfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lfe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:l}=t;if(i===!1||e.x==null||e.y==null)return null;var o={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=a1(a1(a1({},o),Ug(i)),x2(i)),h;return w.isValidElement(i)?h=w.cloneElement(i,u):typeof i=="function"?h=i(u):h=w.createElement(uz,u),w.createElement(As,{className:"recharts-active-dot",clipPath:l},h)};function ofe(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:l=Dn.activeDot}=t,o=Oe($f),u=rfe();if(e==null||u==null)return null;var h=e.find(d=>u.includes(d.payload));return xn(h)?null:w.createElement(_a,{zIndex:l},w.createElement(lfe,{point:h,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var cfe=t=>{var{chartData:e}=t,n=Ut(),r=er();return w.useEffect(()=>r?()=>{}:(n(X5(e)),()=>{n(X5(void 0))}),[e,n,r]),null},L4={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},pz=Jn({name:"brush",initialState:L4,reducers:{setBrushSettings(t,e){return e.payload==null?L4:e.payload}}}),{setBrushSettings:Kpe}=pz.actions,ufe=pz.reducer;function ffe(t){return(t%180+180)%180}var hfe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=ffe(i),l=a*Math.PI/180,o=Math.atan(r/n),u=l>o&&l<Math.PI-o?r/Math.sin(l):n/Math.cos(l);return Math.abs(u)},dfe={dots:[],areas:[],lines:[]},gz=Jn({name:"referenceElements",initialState:dfe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ii(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ii(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ii(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Gpe,removeDot:Ype,addArea:Qpe,removeArea:Xpe,addLine:Zpe,removeLine:Jpe}=gz.actions,mfe=gz.reducer,pfe=w.createContext(void 0),gfe=t=>{var{children:e}=t,[n]=w.useState("".concat(Ef("recharts"),"-clip")),r=zj();if(r==null)return null;var{x:i,y:a,width:l,height:o}=r;return w.createElement(pfe.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:i,y:a,height:o,width:l}))),e)};function yz(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function yfe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return hfe(r,n)}function vfe(t,e,n){var r=n==="width",{x:i,y:a,width:l,height:o}=t;return e===1?{start:r?i:a,end:r?i+l:a+o}:{start:r?i+l:a+o,end:r?i:a}}function Ff(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function xfe(t,e){return yz(t,e+1)}function bfe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:l,end:o}=e,u=0,h=1,d=l,p=function(){var b=r?.[u];if(b===void 0)return{v:yz(r,h)};var C=u,j,N=()=>(j===void 0&&(j=n(b,C)),j),A=b.coordinate,k=u===0||Ff(t,A,N,d,o);k||(u=0,d=l,h+=1),k&&(d=A+t*(N()/2+i),u+=h)},y;h<=a.length;)if(y=p(),y)return y.v;return[]}function wfe(t,e,n,r,i){var a=(r||[]).slice(),l=a.length;if(l===0)return[];for(var{start:o,end:u}=e,h=1;h<=l;h++){for(var d=(l-1)%h,p=o,y=!0,v=function(){var T=r[C];if(T==null)return 0;var D=C,M,E=()=>(M===void 0&&(M=n(T,D)),M),_=T.coordinate,L=C===d||Ff(t,_,E,p,u);if(!L)return y=!1,1;L&&(p=_+t*(E()/2+i))},b,C=d;C<l&&(b=v(),!(b!==0&&b===1));C+=h);if(y){for(var j=[],N=d;N<l;N+=h){var A=r[N];A!=null&&j.push(A)}return j}}return[]}function B4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B4(Object(n),!0).forEach(function(r){Sfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sfe(t,e,n){return(e=jfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jfe(t){var e=Cfe(t,"string");return typeof e=="symbol"?e:e+""}function Cfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nfe(t,e,n,r,i){for(var a=(r||[]).slice(),l=a.length,{start:o}=e,{end:u}=e,h=function(y){var v=a[y];if(v==null)return 1;var b=v,C,j=()=>(C===void 0&&(C=n(v,y)),C);if(y===l-1){var N=t*(b.coordinate+t*j()/2-u);a[y]=b=jn(jn({},b),{},{tickCoord:N>0?b.coordinate-N*t:b.coordinate})}else a[y]=b=jn(jn({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var A=Ff(t,b.tickCoord,j,o,u);A&&(u=b.tickCoord-t*(j()/2+i),a[y]=jn(jn({},b),{},{isShow:!0}))}},d=l-1;d>=0;d--)h(d);return a}function kfe(t,e,n,r,i,a){var l=(r||[]).slice(),o=l.length,{start:u,end:h}=e;if(a){var d=r[o-1];if(d!=null){var p=n(d,o-1),y=t*(d.coordinate+t*p/2-h);if(l[o-1]=d=jn(jn({},d),{},{tickCoord:y>0?d.coordinate-y*t:d.coordinate}),d.tickCoord!=null){var v=Ff(t,d.tickCoord,()=>p,u,h);v&&(h=d.tickCoord-t*(p/2+i),l[o-1]=jn(jn({},d),{},{isShow:!0}))}}}for(var b=a?o-1:o,C=function(A){var k=l[A];if(k==null)return 1;var T=k,D,M=()=>(D===void 0&&(D=n(k,A)),D);if(A===0){var E=t*(T.coordinate-t*M()/2-u);l[A]=T=jn(jn({},T),{},{tickCoord:E<0?T.coordinate-E*t:T.coordinate})}else l[A]=T=jn(jn({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var _=Ff(t,T.tickCoord,M,u,h);_&&(u=T.tickCoord+t*(M()/2+i),l[A]=jn(jn({},T),{},{isShow:!0}))}},j=0;j<b;j++)C(j);return l}function Ij(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:l,orientation:o,interval:u,tickFormatter:h,unit:d,angle:p}=t;if(!i||!i.length||!r)return[];if(Ce(u)||c0.isSsr){var y;return(y=xfe(i,Ce(u)?u:0))!==null&&y!==void 0?y:[]}var v=[],b=o==="top"||o==="bottom"?"width":"height",C=d&&b==="width"?sf(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},j=(D,M)=>{var E=typeof h=="function"?h(D.value,M):D.value;return b==="width"?yfe(sf(E,{fontSize:e,letterSpacing:n}),C,p):sf(E,{fontSize:e,letterSpacing:n})[b]},N=i[0],A=i[1],k=i.length>=2&&N!=null&&A!=null?Ur(A.coordinate-N.coordinate):1,T=vfe(a,k,b);return u==="equidistantPreserveStart"?bfe(k,T,j,i,l):u==="equidistantPreserveEnd"?wfe(k,T,j,i,l):(u==="preserveStart"||u==="preserveStartEnd"?v=kfe(k,T,j,i,l,u==="preserveStartEnd"):v=Nfe(k,T,j,i,l),v.filter(D=>D.isShow))}var Ofe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,l=0;if(e){Array.from(e).forEach(d=>{if(d){var p=d.getBoundingClientRect();p.width>l&&(l=p.width)}});var o=n?n.getBoundingClientRect().width:0,u=i+a,h=l+u+o+(n?r:0);return Math.round(h)}return 0},Afe=["axisLine","width","height","className","hide","ticks","axisType"];function Efe(t,e){if(t==null)return{};var n,r,i=Tfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ll(){return Ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ll.apply(null,arguments)}function z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z4(Object(n),!0).forEach(function(r){Mfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mfe(t,e,n){return(e=Dfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dfe(t){var e=Pfe(t,"string");return typeof e=="symbol"?e:e+""}function Pfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pa={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Dn.axis};function _fe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:l,axisLine:o,otherSvgProps:u}=t;if(!o)return null;var h=Nt(Nt(Nt({},u),_i(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!l||a==="bottom"&&l);h=Nt(Nt({},h),{},{x1:e,y1:n+d*i,x2:e+r,y2:n+d*i})}else{var p=+(a==="left"&&!l||a==="right"&&l);h=Nt(Nt({},h),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return w.createElement("line",Ll({},h,{className:at("recharts-cartesian-axis-line",Fg(o,"className"))}))}function Rfe(t,e,n,r,i,a,l,o,u){var h,d,p,y,v,b,C=o?-1:1,j=t.tickSize||l,N=Ce(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":h=d=t.coordinate,y=n+ +!o*i,p=y-C*j,b=p-C*u,v=N;break;case"left":p=y=t.coordinate,d=e+ +!o*r,h=d-C*j,v=h-C*u,b=N;break;case"right":p=y=t.coordinate,d=e+ +o*r,h=d+C*j,v=h+C*u,b=N;break;default:h=d=t.coordinate,y=n+ +o*i,p=y+C*j,b=p+C*u,v=N;break}return{line:{x1:h,y1:p,x2:d,y2:y},tick:{x:v,y:b}}}function Lfe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Bfe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function zfe(t){var{option:e,tickProps:n,value:r}=t,i,a=at(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(e))i=w.cloneElement(e,Nt(Nt({},n),{},{className:a}));else if(typeof e=="function")i=e(Nt(Nt({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=at(l,eue(e))),i=w.createElement(Lj,Ll({},n,{className:l}),r)}return i}var Ife=w.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:l,unit:o,padding:u,tickTextProps:h,orientation:d,mirror:p,x:y,y:v,width:b,height:C,tickSize:j,tickMargin:N,fontSize:A,letterSpacing:k,getTicksConfig:T,events:D,axisType:M}=t,E=Ij(Nt(Nt({},T),{},{ticks:n}),A,k),_=Lfe(d,p),L=Bfe(d,p),I=_i(T),B=Ug(r),z={};typeof i=="object"&&(z=i);var $=Nt(Nt({},I),{},{fill:"none"},z),ee=E.map(V=>Nt({entry:V},Rfe(V,y,v,b,C,d,j,p,N))),F=ee.map(V=>{var{entry:Q,line:se}=V;return w.createElement(As,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},i&&w.createElement("line",Ll({},$,se,{className:at("recharts-cartesian-axis-tick-line",Fg(i,"className"))})))}),H=ee.map((V,Q)=>{var se,he,{entry:R,tick:W}=V,fe=Nt(Nt(Nt(Nt({verticalAnchor:L},I),{},{textAnchor:_,stroke:"none",fill:a},W),{},{index:Q,payload:R,visibleTicksCount:E.length,tickFormatter:l,padding:u},h),{},{angle:(se=(he=h?.angle)!==null&&he!==void 0?he:I.angle)!==null&&se!==void 0?se:0}),Z=Nt(Nt({},fe),B);return w.createElement(As,Ll({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},SL(D,R,Q)),r&&w.createElement(zfe,{option:r,tickProps:Z,value:"".concat(typeof l=="function"?l(R.value,Q):R.value).concat(o||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},H.length>0&&w.createElement(_a,{zIndex:Dn.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:e},H)),F.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},F))}),Ufe=w.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:l,ticks:o,axisType:u}=t,h=Efe(t,Afe),[d,p]=w.useState(""),[y,v]=w.useState(""),b=w.useRef(null);w.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var j;return Ofe({ticks:b.current,label:(j=t.labelRef)===null||j===void 0?void 0:j.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var C=w.useCallback(j=>{if(j){var N=j.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=N;var A=N[0];if(A){var k=window.getComputedStyle(A),T=k.fontSize,D=k.letterSpacing;(T!==d||D!==y)&&(p(T),v(D))}}},[d,y]);return l||r!=null&&r<=0||i!=null&&i<=0?null:w.createElement(_a,{zIndex:t.zIndex},w.createElement(As,{className:at("recharts-cartesian-axis",a)},w.createElement(_fe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:_i(t)}),w.createElement(Ife,{ref:C,axisType:u,events:h,fontSize:d,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),w.createElement(Oce,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},w.createElement(Bce,{label:t.label,labelRef:t.labelRef}),t.children)))}),Uj=w.forwardRef((t,e)=>{var n=On(t,pa);return w.createElement(Ufe,Ll({},n,{ref:e}))});Uj.displayName="CartesianAxis";var Hfe=["x1","y1","x2","y2","key"],$fe=["offset"],qfe=["xAxisId","yAxisId"],Ffe=["xAxisId","yAxisId"];function I4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I4(Object(n),!0).forEach(function(r){Vfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vfe(t,e,n){return(e=Wfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wfe(t){var e=Kfe(t,"string");return typeof e=="symbol"?e:e+""}function Kfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vl(){return vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vl.apply(null,arguments)}function yg(t,e){if(t==null)return{};var n,r,i=Gfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Yfe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:l,ry:o}=t;return w.createElement("rect",{x:r,y:i,ry:o,width:a,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function vz(t){var{option:e,lineItemProps:n}=t,r;if(w.isValidElement(e))r=w.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:l,x2:o,y2:u,key:h}=n,d=yg(n,Hfe),p=(i=_i(d))!==null&&i!==void 0?i:{},{offset:y}=p,v=yg(p,$fe);r=w.createElement("line",vl({},v,{x1:a,y1:l,x2:o,y2:u,fill:"none",key:h}))}return r}function Qfe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,o=yg(t,qfe),u=i.map((h,d)=>{var p=Nn(Nn({},o),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(d),index:d});return w.createElement(vz,{key:"line-".concat(d),option:r,lineItemProps:p})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Xfe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,o=yg(t,Ffe),u=i.map((h,d)=>{var p=Nn(Nn({},o),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(d),index:d});return w.createElement(vz,{option:r,lineItemProps:p,key:"line-".concat(d)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function Zfe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:l,horizontalPoints:o,horizontal:u=!0}=t;if(!u||!e||!e.length||o==null)return null;var h=o.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==h[0]&&h.unshift(0);var d=h.map((p,y)=>{var v=h[y+1],b=v==null,C=b?i+l-p:v-p;if(C<=0)return null;var j=y%e.length;return w.createElement("rect",{key:"react-".concat(y),y:p,x:r,height:C,width:a,stroke:"none",fill:e[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Jfe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:l,height:o,verticalPoints:u}=t;if(!e||!n||!n.length)return null;var h=u.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==h[0]&&h.unshift(0);var d=h.map((p,y)=>{var v=h[y+1],b=v==null,C=b?i+l-p:v-p;if(C<=0)return null;var j=y%n.length;return w.createElement("rect",{key:"react-".concat(y),x:p,y:a,width:C,height:o,stroke:"none",fill:n[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var ehe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return d8(Ij(Nn(Nn(Nn({},pa),n),{},{ticks:m8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},the=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return d8(Ij(Nn(Nn(Nn({},pa),n),{},{ticks:m8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},nhe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Dn.grid};function Vf(t){var e=M2(),n=D2(),r=w8(),i=Nn(Nn({},On(t,nhe)),{},{x:Ce(t.x)?t.x:r.left,y:Ce(t.y)?t.y:r.top,width:Ce(t.width)?t.width:r.width,height:Ce(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:l,x:o,y:u,width:h,height:d,syncWithTicks:p,horizontalValues:y,verticalValues:v}=i,b=er(),C=Oe(L=>I5(L,"xAxis",a,b)),j=Oe(L=>I5(L,"yAxis",l,b));if(!Li(h)||!Li(d)||!Ce(o)||!Ce(u))return null;var N=i.verticalCoordinatesGenerator||ehe,A=i.horizontalCoordinatesGenerator||the,{horizontalPoints:k,verticalPoints:T}=i;if((!k||!k.length)&&typeof A=="function"){var D=y&&y.length,M=A({yAxis:j?Nn(Nn({},j),{},{ticks:D?y:j.ticks}):void 0,width:e??h,height:n??d,offset:r},D?!0:p);Hp(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(k=M)}if((!T||!T.length)&&typeof N=="function"){var E=v&&v.length,_=N({xAxis:C?Nn(Nn({},C),{},{ticks:E?v:C.ticks}):void 0,width:e??h,height:n??d,offset:r},E?!0:p);Hp(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(T=_)}return w.createElement(_a,{zIndex:i.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(Yfe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(Zfe,vl({},i,{horizontalPoints:k})),w.createElement(Jfe,vl({},i,{verticalPoints:T})),w.createElement(Qfe,vl({},i,{offset:r,horizontalPoints:k,xAxis:C,yAxis:j})),w.createElement(Xfe,vl({},i,{offset:r,verticalPoints:T,xAxis:C,yAxis:j}))))}Vf.displayName="CartesianGrid";var rhe={},xz=Jn({name:"errorBars",initialState:rhe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:ege,replaceErrorBar:tge,removeErrorBar:nge}=xz.actions,ihe=xz.reducer,ahe=["children"];function she(t,e){if(t==null)return{};var n,r,i=lhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ohe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},che=w.createContext(ohe);function uhe(t){var{children:e}=t,n=she(t,ahe);return w.createElement(che.Provider,{value:n},e)}function bz(t,e){var n,r,i=Oe(h=>Ma(h,t)),a=Oe(h=>Da(h,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Yt.allowDataOverflow,o=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Qt.allowDataOverflow,u=l||o;return{needClip:u,needClipX:l,needClipY:o}}function fhe(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=zj(),{needClipX:a,needClipY:l,needClip:o}=bz(e,n);if(!o||!i)return null;var{x:u,y:h,width:d,height:p}=i;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:a?u:u-d/2,y:l?h:h-p/2,width:a?d:d*2,height:l?p:p*2}))}var wz=(t,e,n,r)=>jB(t,"xAxis",e,r),Sz=(t,e,n,r)=>SB(t,"xAxis",e,r),jz=(t,e,n,r)=>jB(t,"yAxis",n,r),Cz=(t,e,n,r)=>SB(t,"yAxis",n,r),hhe=ie([wt,wz,jz,Sz,Cz],(t,e,n,r,i)=>Oa(t,"xAxis")?Up(e,r,!1):Up(n,i,!1)),dhe=(t,e,n,r,i)=>i;function mhe(t){return t.type==="line"}var phe=ie([V6,dhe],(t,e)=>t.filter(mhe).find(n=>n.id===e)),ghe=ie([wt,wz,jz,Sz,Cz,phe,hhe,lj],(t,e,n,r,i,a,l,o)=>{var{chartData:u,dataStartIndex:h,dataEndIndex:d}=o;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:p,data:y}=a,v;if(y!=null&&y.length>0?v=y:v=u?.slice(h,d+1),v!=null)return rde({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:l,displayedData:v})}});function yhe(t){var e=Ug(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,l=Number(i),o=Number(a);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(o)||o<0)&&(o=r),{r:l,strokeWidth:o}}return{r:n,strokeWidth:r}}var s1={exports:{}},l1={};var U4;function vhe(){if(U4)return l1;U4=1;var t=cc();function e(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,o=t.useDebugValue;return l1.useSyncExternalStoreWithSelector=function(u,h,d,p,y){var v=i(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=l(function(){function j(D){if(!N){if(N=!0,A=D,D=p(D),y!==void 0&&b.hasValue){var M=b.value;if(y(M,D))return k=M}return k=D}if(M=k,n(A,D))return M;var E=p(D);return y!==void 0&&y(M,E)?(A=D,M):(A=D,k=E)}var N=!1,A,k,T=d===void 0?null:d;return[function(){return j(h())},T===null?void 0:function(){return j(T())}]},[h,d,p,y]);var C=r(u,v[0],v[1]);return a(function(){b.hasValue=!0,b.value=C},[C]),o(C),C},l1}var H4;function xhe(){return H4||(H4=1,s1.exports=vhe()),s1.exports}xhe();function bhe(t){t()}function whe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){bhe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var $4={notify(){},get:()=>[]};function She(t,e){let n,r=$4,i=0,a=!1;function l(C){d();const j=r.subscribe(C);let N=!1;return()=>{N||(N=!0,j(),p())}}function o(){r.notify()}function u(){b.onStateChange&&b.onStateChange()}function h(){return a}function d(){i++,n||(n=t.subscribe(u),r=whe())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=$4)}function y(){a||(a=!0,d())}function v(){a&&(a=!1,p())}const b={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:h,trySubscribe:y,tryUnsubscribe:v,getListeners:()=>r};return b}var jhe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Che=jhe(),Nhe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",khe=Nhe(),Ohe=()=>Che||khe?w.useLayoutEffect:w.useEffect,Ahe=Ohe();function q4(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Ehe(t,e){if(q4(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!q4(t[n[i]],e[n[i]]))return!1;return!0}var The=Symbol.for("react-redux-context"),Mhe=typeof globalThis<"u"?globalThis:{};function Dhe(){if(!w.createContext)return{};const t=Mhe[The]??=new Map;let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var Phe=Dhe();function _he(t){const{children:e,context:n,serverState:r,store:i}=t,a=w.useMemo(()=>{const u=She(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),l=w.useMemo(()=>i.getState(),[i]);Ahe(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,l]);const o=n||Phe;return w.createElement(o.Provider,{value:a},e)}var Rhe=_he,Lhe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Bhe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Hj(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Lhe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Ehe(t[r],e[r]))return!1}else if(!Bhe(t[r],e[r]))return!1;return!0}var zhe=["id"],Ihe=["type","layout","connectNulls","needClip","shape"],Uhe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Wf(){return Wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wf.apply(null,arguments)}function F4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F4(Object(n),!0).forEach(function(r){Hhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hhe(t,e,n){return(e=$he(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $he(t){var e=qhe(t,"string");return typeof e=="symbol"?e:e+""}function qhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $j(t,e){if(t==null)return{};var n,r,i=Fhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vhe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:p8(n,e),payload:t}]},Whe=w.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:o,unit:u,tooltipType:h,id:d}=t,p={dataDefinedOnItem:n,getPosition:yc,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:p8(l,e),hide:o,type:h,color:r,unit:u,graphicalItemId:d}};return w.createElement(bue,{tooltipEntrySettings:p})}),Nz=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Khe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Ghe=(t,e,n)=>{var r=n.reduce((v,b)=>v+b);if(!r)return Nz(e,t);for(var i=Math.floor(t/r),a=t%r,l=e-t,o=[],u=0,h=0;u<n.length;h+=(d=n[u])!==null&&d!==void 0?d:0,++u){var d,p=n[u];if(p!=null&&h+p>a){o=[...n.slice(0,u),a-h];break}}var y=o.length%2===0?[0,l]:[l];return[...Khe(n,i),...o,...y].map(v=>"".concat(v,"px")).join(", ")};function Yhe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:l}=r,{id:o}=r,u=$j(r,zhe),h=_i(u);return w.createElement($ue,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:h,needClip:l,clipPathId:e})}function Qhe(t){var{showLabels:e,children:n,points:r}=t,i=w.useMemo(()=>r?.map(a=>{var l,o,u={x:(l=a.x)!==null&&l!==void 0?l:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Si(Si({},u),{},{value:a.value,payload:a.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return w.createElement(Gce,{value:e?i:void 0},n)}function V4(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:l,layout:o,connectNulls:u,needClip:h,shape:d}=a,p=$j(a,Ihe),y=Si(Si({},_n(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:o,connectNulls:u,strokeDasharray:i??a.strokeDasharray});return w.createElement(w.Fragment,null,r?.length>1&&w.createElement(xue,Wf({shapeType:"curve",option:d},y,{pathRef:n})),w.createElement(Yhe,{points:r,clipPathId:e,props:a}))}function Xhe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Zhe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:l,strokeDasharray:o,isAnimationActive:u,animationBegin:h,animationDuration:d,animationEasing:p,animateNewValues:y,width:v,height:b,onAnimationEnd:C,onAnimationStart:j}=n,N=i.current,A=B2(l,"recharts-line-"),k=w.useRef(A),[T,D]=w.useState(!1),M=!T,E=w.useCallback(()=>{typeof C=="function"&&C(),D(!1)},[C]),_=w.useCallback(()=>{typeof j=="function"&&j(),D(!0)},[j]),L=Xhe(r.current),I=w.useRef(0);k.current!==A&&(I.current=a.current,k.current=A);var B=I.current;return w.createElement(Qhe,{points:l,showLabels:M},n.children,w.createElement(L2,{animationId:A,begin:h,duration:d,isActive:u,easing:p,onAnimationEnd:E,onAnimationStart:_,key:A},z=>{var $=Kn(B,L+B,z),ee=Math.min($,L),F;if(u)if(o){var H="".concat(o).split(/[,\s]+/gim).map(se=>parseFloat(se));F=Ghe(ee,L,H)}else F=Nz(L,ee);else F=o==null?void 0:String(o);if(z>0&&L>0&&(i.current=l,a.current=Math.max(a.current,ee)),N){var V=N.length/l.length,Q=z===1?l:l.map((se,he)=>{var R=Math.floor(he*V);if(N[R]){var W=N[R];return Si(Si({},se),{},{x:Kn(W.x,se.x,z),y:Kn(W.y,se.y,z)})}return y?Si(Si({},se),{},{x:Kn(v*2,se.x,z),y:Kn(b/2,se.y,z)}):Si(Si({},se),{},{x:se.x,y:se.y})});return i.current=Q,w.createElement(V4,{props:n,points:Q,clipPathId:e,pathRef:r,strokeDasharray:F})}return w.createElement(V4,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:F})}),w.createElement(Xce,{label:n.label}))}function Jhe(t){var{clipPathId:e,props:n}=t,r=w.useRef(null),i=w.useRef(0),a=w.useRef(null);return w.createElement(Zhe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var ede=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:vn(t.payload,e)}};class tde extends w.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:l,top:o,left:u,width:h,height:d,id:p,needClip:y,zIndex:v}=this.props;if(e)return null;var b=at("recharts-line",i),C=p,{r:j,strokeWidth:N}=yhe(n),A=hz(n),k=j*2+N,T=y?"url(#clipPath-".concat(A?"":"dots-").concat(C,")"):void 0;return w.createElement(_a,{zIndex:v},w.createElement(As,{className:b},y&&w.createElement("defs",null,w.createElement(fhe,{clipPathId:C,xAxisId:a,yAxisId:l}),!A&&w.createElement("clipPath",{id:"clipPath-dots-".concat(C)},w.createElement("rect",{x:u-k/2,y:o-k/2,width:h+k,height:d+k}))),w.createElement(uhe,{xAxisId:a,yAxisId:l,data:r,dataPointFormatter:ede,errorBarOffset:0},w.createElement(Jhe,{props:this.props,clipPathId:C}))),w.createElement(ofe,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:T}))}}var kz={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Dn.line,type:"linear"};function nde(t){var e=On(t,kz),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:o,dot:u,hide:h,isAnimationActive:d,label:p,legendType:y,xAxisId:v,yAxisId:b,id:C}=e,j=$j(e,Uhe),{needClip:N}=bz(v,b),A=zj(),k=vc(),T=er(),D=Oe(I=>ghe(I,v,b,T,C));if(k!=="horizontal"&&k!=="vertical"||D==null||A==null)return null;var{height:M,width:E,x:_,y:L}=A;return w.createElement(tde,Wf({},j,{id:C,connectNulls:o,dot:u,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,isAnimationActive:d,hide:h,label:p,legendType:y,xAxisId:v,yAxisId:b,points:D,layout:k,height:M,width:E,left:_,top:L,needClip:N}))}function rde(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:l,bandSize:o,displayedData:u}=t;return u.map((h,d)=>{var p=vn(h,l);if(e==="horizontal"){var y=zM({axis:n,ticks:i,bandSize:o,entry:h,index:d}),v=xn(p)?null:r.scale.map(p);return{x:y,y:v??null,value:p,payload:h}}var b=xn(p)?null:n.scale.map(p),C=zM({axis:r,ticks:a,bandSize:o,entry:h,index:d});return b==null||C==null?null:{x:b,y:C,value:p,payload:h}}).filter(Boolean)}function ide(t){var e=On(t,kz),n=er();return w.createElement(kue,{id:e.id,type:"line"},r=>w.createElement(w.Fragment,null,w.createElement(wue,{legendPayload:Vhe(e)}),w.createElement(Whe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),w.createElement(Pue,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),w.createElement(nde,Wf({},e,{id:r}))))}var Kf=w.memo(ide,Hj);Kf.displayName="Line";var ade=["domain","range"],sde=["domain","range"];function W4(t,e){if(t==null)return{};var n,r,i=lde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function K4(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function Oz(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=W4(t,ade),{domain:a,range:l}=e,o=W4(e,sde);return!K4(n,a)||!K4(r,l)?!1:Hj(i,o)}var ode=["type"],cde=["dangerouslySetInnerHTML","ticks","scale"],ude=["id","scale"];function oS(){return oS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oS.apply(null,arguments)}function G4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G4(Object(n),!0).forEach(function(r){fde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fde(t,e,n){return(e=hde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hde(t){var e=dde(t,"string");return typeof e=="symbol"?e:e+""}function dde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cS(t,e){if(t==null)return{};var n,r,i=mde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function pde(t){var e=Ut(),n=w.useRef(null),r=S8(),{type:i}=t,a=cS(t,ode),l=v0(r,"xAxis",i),o=w.useMemo(()=>{if(l!=null)return Y4(Y4({},a),{},{type:l})},[a,l]);return w.useLayoutEffect(()=>{o!=null&&(n.current===null?e(Kue(o)):n.current!==o&&e(Gue({prev:n.current,next:o})),n.current=o)},[o,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(Yue(n.current)),n.current=null)},[e]),null}var gde=t=>{var{xAxisId:e,className:n}=t,r=Oe(y8),i=er(),a="xAxis",l=Oe(N=>wB(N,a,e,i)),o=Oe(N=>mse(N,e)),u=Oe(N=>bse(N,e)),h=Oe(N=>H6(N,e));if(o==null||u==null||h==null)return null;var{dangerouslySetInnerHTML:d,ticks:p,scale:y}=t,v=cS(t,cde),{id:b,scale:C}=h,j=cS(h,ude);return w.createElement(Uj,oS({},v,j,{x:u.x,y:u.y,width:o.width,height:o.height,className:at("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},yde={allowDataOverflow:Yt.allowDataOverflow,allowDecimals:Yt.allowDecimals,allowDuplicatedCategory:Yt.allowDuplicatedCategory,angle:Yt.angle,axisLine:pa.axisLine,height:Yt.height,hide:!1,includeHidden:Yt.includeHidden,interval:Yt.interval,label:!1,minTickGap:Yt.minTickGap,mirror:Yt.mirror,orientation:Yt.orientation,padding:Yt.padding,reversed:Yt.reversed,scale:Yt.scale,tick:Yt.tick,tickCount:Yt.tickCount,tickLine:pa.tickLine,tickSize:pa.tickSize,type:Yt.type,xAxisId:0},vde=t=>{var e=On(t,yde);return w.createElement(w.Fragment,null,w.createElement(pde,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),w.createElement(gde,e))},Gf=w.memo(vde,Oz);Gf.displayName="XAxis";var xde=["type"],bde=["dangerouslySetInnerHTML","ticks","scale"],wde=["id","scale"];function uS(){return uS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uS.apply(null,arguments)}function Q4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q4(Object(n),!0).forEach(function(r){Sde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sde(t,e,n){return(e=jde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jde(t){var e=Cde(t,"string");return typeof e=="symbol"?e:e+""}function Cde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fS(t,e){if(t==null)return{};var n,r,i=Nde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kde(t){var e=Ut(),n=w.useRef(null),r=S8(),{type:i}=t,a=fS(t,xde),l=v0(r,"yAxis",i),o=w.useMemo(()=>{if(l!=null)return X4(X4({},a),{},{type:l})},[l,a]);return w.useLayoutEffect(()=>{o!=null&&(n.current===null?e(Que(o)):n.current!==o&&e(Xue({prev:n.current,next:o})),n.current=o)},[o,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(Zue(n.current)),n.current=null)},[e]),null}function Ode(t){var{yAxisId:e,className:n,width:r,label:i}=t,a=w.useRef(null),l=w.useRef(null),o=Oe(y8),u=er(),h=Ut(),d="yAxis",p=Oe(M=>jse(M,e)),y=Oe(M=>Sse(M,e)),v=Oe(M=>wB(M,d,e,u)),b=Oe(M=>$6(M,e));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!p||Bj(i)||w.isValidElement(i)||b==null)){var M=a.current;if(M){var E=M.getCalculatedWidth();Math.round(p.width)!==Math.round(E)&&h(Jue({id:e,width:E}))}}},[v,p,h,i,e,r,b]),p==null||y==null||b==null)return null;var{dangerouslySetInnerHTML:C,ticks:j,scale:N}=t,A=fS(t,bde),{id:k,scale:T}=b,D=fS(b,wde);return w.createElement(Uj,uS({},A,D,{ref:a,labelRef:l,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:at("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:v,axisType:d}))}var Ade={allowDataOverflow:Qt.allowDataOverflow,allowDecimals:Qt.allowDecimals,allowDuplicatedCategory:Qt.allowDuplicatedCategory,angle:Qt.angle,axisLine:pa.axisLine,hide:!1,includeHidden:Qt.includeHidden,interval:Qt.interval,label:!1,minTickGap:Qt.minTickGap,mirror:Qt.mirror,orientation:Qt.orientation,padding:Qt.padding,reversed:Qt.reversed,scale:Qt.scale,tick:Qt.tick,tickCount:Qt.tickCount,tickLine:pa.tickLine,tickSize:pa.tickSize,type:Qt.type,width:Qt.width,yAxisId:0},Ede=t=>{var e=On(t,Ade);return w.createElement(w.Fragment,null,w.createElement(kde,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),w.createElement(Ode,e))},Yf=w.memo(Ede,Oz);Yf.displayName="YAxis";var Tde=(t,e)=>e,qj=ie([Tde,wt,z6,rn,IB,Pa,zle,wn],Vle),Fj=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},Az=Vr("mouseClick"),Ez=oh();Ez.startListening({actionCreator:Az,effect:(t,e)=>{var n=t.payload,r=qj(e.getState(),Fj(n));r?.activeIndex!=null&&e.dispatch(Lse({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var hS=Vr("mouseMove"),Tz=oh(),Nm=null;Tz.startListening({actionCreator:hS,effect:(t,e)=>{var n=t.payload;Nm!==null&&cancelAnimationFrame(Nm);var r=Fj(n);Nm=requestAnimationFrame(()=>{var i=e.getState(),a=kj(i,i.tooltip.settings.shared);if(a==="axis"){var l=qj(i,r);l?.activeIndex!=null?e.dispatch(TB({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(EB())}Nm=null})}});function Mde(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var Z4={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Mz=Jn({name:"rootProps",initialState:Z4,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:Z4.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Dde=Mz.reducer,{updateOptions:Pde}=Mz.actions,_de=null,Rde={updatePolarOptions:(t,e)=>e.payload},Dz=Jn({name:"polarOptions",initialState:_de,reducers:Rde}),{updatePolarOptions:rge}=Dz.actions,Lde=Dz.reducer,Pz=Vr("keyDown"),_z=Vr("focus"),Vj=oh();Vj.startListening({actionCreator:Pz,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=Oj(i,Oc(n),vh(n),bh(n)),o=l==null?-1:Number(l);if(!(!Number.isFinite(o)||o<0)){var u=Pa(n);if(a==="Enter"){var h=fg(n,"axis","hover",String(i.index));e.dispatch(rS({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var d=Ose(n),p=d==="left-to-right"?1:-1,y=a==="ArrowRight"?1:-1,v=o+y*p;if(!(u==null||v>=u.length||v<0)){var b=fg(n,"axis","hover",String(v));e.dispatch(rS({active:!0,activeIndex:v.toString(),activeCoordinate:b}))}}}}}});Vj.startListening({actionCreator:_z,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=fg(n,"axis","hover",String(a));e.dispatch(rS({active:!0,activeIndex:a,activeCoordinate:l}))}}}});var _r=Vr("externalEvent"),Rz=oh(),o1=new Map;Rz.startListening({actionCreator:_r,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=o1.get(i);a!==void 0&&cancelAnimationFrame(a);var l=requestAnimationFrame(()=>{try{var o=e.getState(),u={activeCoordinate:Sle(o),activeDataKey:ble(o),activeIndex:$f(o),activeLabel:$B(o),activeTooltipIndex:$f(o),isTooltipActive:jle(o)};n(u,r)}finally{o1.delete(i)}});o1.set(i,l)}}});var Bde=ie([Nc],t=>t.tooltipItemPayloads),zde=ie([Bde,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(a=>a.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),Lz=Vr("touchMove"),Bz=oh();Bz.startListening({actionCreator:Lz,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=kj(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var l=qj(r,Fj({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch(TB({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var o,u=n.touches[0];if(document.elementFromPoint==null||u==null)return;var h=document.elementFromPoint(u.clientX,u.clientY);if(!h||!h.getAttribute)return;var d=h.getAttribute(aee),p=(o=h.getAttribute(see))!==null&&o!==void 0?o:void 0,y=kc(r).find(C=>C.id===p);if(d==null||y==null||p==null)return;var{dataKey:v}=y,b=zde(r,d,p);e.dispatch(Rse({activeDataKey:v,activeIndex:d,activeCoordinate:b,activeGraphicalItemId:p}))}}}});var Ide=zL({brush:ufe,cartesianAxis:efe,chartData:joe,errorBars:ihe,graphicalItems:Mue,layout:FJ,legend:Jee,options:voe,polarAxis:Jce,polarOptions:Lde,referenceElements:mfe,rootProps:Dde,tooltip:Bse,zIndex:aoe}),Ude=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return pJ({reducer:Ide,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([Ez.middleware,Tz.middleware,Vj.middleware,Rz.middleware,Bz.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(JL({type:"raf"}))},devTools:{serialize:{replacer:Mde},name:"recharts-".concat(n)}})};function Hde(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=er(),a=w.useRef(null);if(i)return n;a.current==null&&(a.current=Ude(e,r));var l=S2;return w.createElement(Rhe,{context:l,store:a.current},n)}function $de(t){var{layout:e,margin:n}=t,r=Ut(),i=er();return w.useEffect(()=>{i||(r(HJ(e)),r(UJ(n)))},[r,i,e,n]),null}var qde=w.memo($de,Hj);function Fde(t){var e=Ut();return w.useEffect(()=>{e(Pde(t))},[e,t]),null}function J4(t){var{zIndex:e,isPanorama:n}=t,r=w.useRef(null),i=Ut();return w.useLayoutEffect(()=>(r.current&&i(roe({zIndex:e,element:r.current,isPanorama:n})),()=>{i(ioe({zIndex:e,isPanorama:n}))}),[i,e,n]),w.createElement("g",{tabIndex:-1,ref:r})}function e3(t){var{children:e,isPanorama:n}=t,r=Oe(Kle);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),a=r.filter(l=>l>0);return w.createElement(w.Fragment,null,i.map(l=>w.createElement(J4,{key:l,zIndex:l,isPanorama:n})),e,a.map(l=>w.createElement(J4,{key:l,zIndex:l,isPanorama:n})))}var Vde=["children"];function Wde(t,e){if(t==null)return{};var n,r,i=Kde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(null,arguments)}var Gde={width:"100%",height:"100%",display:"block"},Yde=w.forwardRef((t,e)=>{var n=M2(),r=D2(),i=M8();if(!Li(n)||!Li(r))return null;var{children:a,otherAttributes:l,title:o,desc:u}=t,h,d;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?d=l.role:d=i?"application":void 0),w.createElement(f2,vg({},l,{title:o,desc:u,role:d,tabIndex:h,width:n,height:r,style:Gde,ref:e}),a)}),Qde=t=>{var{children:e}=t,n=Oe(i0);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return w.createElement(f2,{width:r,height:i,x:l,y:a},e)},t3=w.forwardRef((t,e)=>{var{children:n}=t,r=Wde(t,Vde),i=er();return i?w.createElement(Qde,null,w.createElement(e3,{isPanorama:!0},n)):w.createElement(Yde,vg({ref:e},r),w.createElement(e3,{isPanorama:!1},n))});function Xde(){var t=Ut(),[e,n]=w.useState(null),r=Oe(iee);return w.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Ke(a)&&a!==r&&t(qJ(a))}},[e,t,r]),n}function n3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n3(Object(n),!0).forEach(function(r){Jde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jde(t,e,n){return(e=eme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eme(t){var e=tme(t,"string");return typeof e=="symbol"?e:e+""}function tme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bs(){return bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bs.apply(null,arguments)}var nme=()=>(Doe(),null);function xg(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var rme=w.forwardRef((t,e)=>{var n,r,i=w.useRef(null),[a,l]=w.useState({containerWidth:xg((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:xg((r=t.style)===null||r===void 0?void 0:r.height)}),o=w.useCallback((h,d)=>{l(p=>{var y=Math.round(h),v=Math.round(d);return p.containerWidth===y&&p.containerHeight===v?p:{containerWidth:y,containerHeight:v}})},[]),u=w.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:d,height:p}=h.getBoundingClientRect();o(d,p);var y=b=>{var C=b[0];if(C!=null){var{width:j,height:N}=C.contentRect;o(j,N)}},v=new ResizeObserver(y);v.observe(h),i.current=v}},[e,o]);return w.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[o]),w.createElement(w.Fragment,null,w.createElement(uh,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",bs({ref:u},t)))}),ime=w.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=w.useState({containerWidth:xg(n),containerHeight:xg(r)}),l=w.useCallback((u,h)=>{a(d=>{var p=Math.round(u),y=Math.round(h);return d.containerWidth===p&&d.containerHeight===y?d:{containerWidth:p,containerHeight:y}})},[]),o=w.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:h,height:d}=u.getBoundingClientRect();l(h,d)}},[e,l]);return w.createElement(w.Fragment,null,w.createElement(uh,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",bs({ref:o},t)))}),ame=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return w.createElement(w.Fragment,null,w.createElement(uh,{width:n,height:r}),w.createElement("div",bs({ref:e},t)))}),sme=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?w.createElement(ime,bs({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?w.createElement(ame,bs({},t,{width:n,height:r,ref:e})):w.createElement(w.Fragment,null,w.createElement(uh,{width:n,height:r}),w.createElement("div",bs({ref:e},t)))});function lme(t){return t?rme:sme}var ome=w.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:o,onMouseDown:u,onMouseEnter:h,onMouseLeave:d,onMouseMove:p,onMouseUp:y,onTouchEnd:v,onTouchMove:b,onTouchStart:C,style:j,width:N,responsive:A,dispatchTouchEvents:k=!0}=t,T=w.useRef(null),D=Ut(),[M,E]=w.useState(null),[_,L]=w.useState(null),I=Xde(),B=E2(),z=B?.width>0?B.width:N,$=B?.height>0?B.height:i,ee=w.useCallback(re=>{I(re),typeof e=="function"&&e(re),E(re),L(re),re!=null&&(T.current=re)},[I,e,E,L]),F=w.useCallback(re=>{D(Az(re)),D(_r({handler:a,reactEvent:re}))},[D,a]),H=w.useCallback(re=>{D(hS(re)),D(_r({handler:h,reactEvent:re}))},[D,h]),V=w.useCallback(re=>{D(EB()),D(_r({handler:d,reactEvent:re}))},[D,d]),Q=w.useCallback(re=>{D(hS(re)),D(_r({handler:p,reactEvent:re}))},[D,p]),se=w.useCallback(()=>{D(_z())},[D]),he=w.useCallback(re=>{D(Pz(re.key))},[D]),R=w.useCallback(re=>{D(_r({handler:l,reactEvent:re}))},[D,l]),W=w.useCallback(re=>{D(_r({handler:o,reactEvent:re}))},[D,o]),fe=w.useCallback(re=>{D(_r({handler:u,reactEvent:re}))},[D,u]),Z=w.useCallback(re=>{D(_r({handler:y,reactEvent:re}))},[D,y]),de=w.useCallback(re=>{D(_r({handler:C,reactEvent:re}))},[D,C]),G=w.useCallback(re=>{k&&D(Lz(re)),D(_r({handler:b,reactEvent:re}))},[D,k,b]),me=w.useCallback(re=>{D(_r({handler:v,reactEvent:re}))},[D,v]),Me=lme(A);return w.createElement(YB.Provider,{value:M},w.createElement(eL.Provider,{value:_},w.createElement(Me,{width:z??j?.width,height:$??j?.height,className:at("recharts-wrapper",r),style:Zde({position:"relative",cursor:"default",width:z,height:$},j),onClick:F,onContextMenu:R,onDoubleClick:W,onFocus:se,onKeyDown:he,onMouseDown:fe,onMouseEnter:H,onMouseLeave:V,onMouseMove:Q,onMouseUp:Z,onTouchEnd:me,onTouchMove:G,onTouchStart:de,ref:ee},w.createElement(nme,null),n)))}),cme=["width","height","responsive","children","className","style","compact","title","desc"];function ume(t,e){if(t==null)return{};var n,r,i=fme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hme=w.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:l,style:o,compact:u,title:h,desc:d}=t,p=ume(t,cme),y=_i(p);return u?w.createElement(w.Fragment,null,w.createElement(uh,{width:n,height:r}),w.createElement(t3,{otherAttributes:y,title:h,desc:d},a)):w.createElement(ome,{className:l,style:o,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(t3,{otherAttributes:y,title:h,desc:d,ref:e},w.createElement(gfe,null,a)))});function dS(){return dS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dS.apply(null,arguments)}var dme={top:5,right:5,bottom:5,left:5},mme={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:dme,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},pme=w.forwardRef(function(e,n){var r,i=On(e.categoricalChartProps,mme),{chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,categoricalChartProps:h}=e,d={chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,eventEmitter:void 0};return w.createElement(Hde,{preloadedState:{options:d},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:a},w.createElement(cfe,{chartData:h.data}),w.createElement(qde,{layout:i.layout,margin:i.margin}),w.createElement(Fde,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(hme,dS({},i,{ref:n})))}),gme=["axis"],bg=w.forwardRef((t,e)=>w.createElement(pme,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gme,tooltipPayloadSearcher:goe,categoricalChartProps:t,ref:e}));const zz="tidedb_query_history",Iz="tidedb_last_db",yme=30,r3=["#3b82f6","#8b5cf6","#ec4899","#f59e0b","#22c55e","#06b6d4"],vme=[{value:"",label:"Default"},{value:"rfc3339",label:"RFC3339"},{value:"ns",label:"ns"},{value:"us",label:"us"},{value:"ms",label:"ms"},{value:"s",label:"s"}];function xme(t,e){if(t==null)return"";const n=String(t);if(typeof t=="string"&&/^\d{4}-\d{2}-\d{2}T/.test(t)){const l=new Date(t);return isNaN(l.getTime())?n:l.toLocaleString()}const r=Number(t);if(isNaN(r))return n;let i;switch(e){case"ns":i=r/1e6;break;case"us":i=r/1e3;break;case"ms":i=r;break;case"s":i=r*1e3;break;default:r>1e15?i=r/1e6:r>1e12?i=r/1e3:r>1e10?i=r:i=r*1e3;break}const a=new Date(i);return isNaN(a.getTime())?n:a.toLocaleString()}const bme=["SELECT","FROM","WHERE","GROUP BY","ORDER BY","LIMIT","OFFSET","INTO","SHOW","CREATE","DROP","ALTER","GRANT","REVOKE","SET","AND","OR","AS","ON","BY","FILL","SLIMIT","SOFFSET","WITH","KEY","IN","NOT","ASC","DESC","DISTINCT","MEAN","SUM","COUNT","MIN","MAX","FIRST","LAST","STDDEV","MEDIAN","PERCENTILE","DERIVATIVE","NON_NEGATIVE_DERIVATIVE","DIFFERENCE","MOVING_AVERAGE","CUMULATIVE_SUM","HOLT_WINTERS","ELAPSED","TIME","NOW","NULL","TRUE","FALSE"],wme={float:"text-blue-400",integer:"text-green-400",string:"text-amber-400",boolean:"text-purple-400"};function Uz(){try{return JSON.parse(localStorage.getItem(zz)||"[]")}catch{return[]}}function Sme(t){try{localStorage.setItem(zz,JSON.stringify(t.slice(0,yme)))}catch{}}function jme(t){const e=Uz().filter(n=>n!==t);e.unshift(t),Sme(e)}function Cme(){return localStorage.getItem(Iz)||""}function c1(t){try{localStorage.setItem(Iz,t)}catch{}}function Nme(t){return t<1e3?`${t}ms`:`${(t/1e3).toFixed(2)}s`}function kme(t){let e=t;const n=[...bme].sort((r,i)=>i.length-r.length);for(const r of n){const i=r.replace(/\s+/g,"\\s+");e=e.replace(new RegExp(`\\b${i}\\b`,"gi"),r)}return e}function Ome(t){const e=[];for(const n of t?.results??[])if(!n.error)for(const r of n.series??[]){const i=(r.values??[]).map(a=>{const l={};return r.columns.forEach((o,u)=>{l[o]=a[u]}),l});e.push({name:r.name,tags:r.tags??{},columns:r.columns,rows:i})}return e}function Hz(t,e,n){const r=new Blob([t],{type:n}),i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)}function Ame(t){const e=[];for(const n of t){t.length>1&&e.push(`# ${n.name}${Object.keys(n.tags).length?" "+JSON.stringify(n.tags):""}`),e.push(n.columns.join(","));for(const r of n.rows)e.push(n.columns.map(i=>{const a=r[i];if(a==null)return"";const l=String(a);return l.includes(",")||l.includes('"')||l.includes(`
`)?`"${l.replace(/"/g,'""')}"`:l}).join(","));e.push("")}Hz(e.join(`
`),"query_results.csv","text/csv")}function Eme(t){const e=t.map(n=>({name:n.name,tags:n.tags,columns:n.columns,values:n.rows}));Hz(JSON.stringify(e,null,2),"query_results.json","application/json")}function mS(t){const e=Object.entries(t);return e.length===0?"":"{"+e.map(([n,r])=>`${n}=${r}`).join(",")+"}"}function Tme({onInsert:t}){const[e,n]=w.useState([]),[r,i]=w.useState(new Set),[a,l]=w.useState({}),[o,u]=w.useState(new Set),[h,d]=w.useState(""),[p,y]=w.useState({});w.useEffect(()=>{we.getDatabases().then(n).catch(()=>{})},[]);const v=w.useCallback(async(k,T,D,M,E,_)=>{if(i(L=>{const I=new Set(L);return I.has(k)?I.delete(k):I.add(k),I}),!a[k]){u(L=>new Set(L).add(k));try{if(T==="database"&&D){const I=(await we.getRetentionPolicies(D)).map(B=>({type:"rp",name:B.name,dbName:D}));l(B=>({...B,[k]:I}))}else if(T==="rp"&&D){const I=(await we.getMeasurements(D)).map(B=>({type:"measurement",name:B,dbName:D,rpName:_}));l(B=>({...B,[k]:I}))}else if(T==="measurement"&&D&&E){const[L,I]=await Promise.all([we.getFieldKeys(D,E),we.getTagKeys(D,E)]),B=L.map(ee=>({type:"field",name:ee.key,fieldType:ee.type,dbName:D,measurementName:E})),z=I.map(ee=>({type:"tag",name:ee,dbName:D,measurementName:E})),$=[{type:"fields-header",name:"Fields",children:B},{type:"tags-header",name:"Tags",children:z}];l(ee=>({...ee,[k]:$}))}}catch{}finally{u(L=>{const I=new Set(L);return I.delete(k),I})}}},[a]),b=()=>{const k=[],T=D=>{const M=`db:${D}`,E=r.has(M);if(k.push({type:"database",name:D,dbName:D,depth:0,id:M,expanded:E}),!E)return;const _=a[M]??[];for(const L of _){const I=`rp:${D}:${L.name}`,B=r.has(I);if(k.push({...L,depth:1,id:I,expanded:B}),!B)continue;const z=a[I]??[];for(const $ of z){const ee=`meas:${D}:${$.name}`,F=r.has(ee);if(k.push({...$,depth:2,id:ee,expanded:F}),!F)continue;const H=a[ee]??[];for(const V of H){const Q=`group:${D}:${$.name}:${V.name}`,se=r.has(Q);if(k.push({...V,depth:3,id:Q,expanded:se}),!!se)for(const he of V.children??[]){const R=`leaf:${D}:${$.name}:${V.name}:${he.name}`;k.push({...he,depth:4,id:R})}}}}};for(const D of e)T(D);return k},C=h.trim()?b().filter(k=>k.name.toLowerCase().includes(h.toLowerCase())):b(),j=k=>{if(k.type==="database")v(k.id,"database",k.dbName,void 0,void 0,k.name);else if(k.type==="rp")v(k.id,"rp",k.dbName,k.name,void 0,k.name);else if(k.type==="measurement")v(k.id,"measurement",k.dbName,k.rpName,k.name,k.name),t(`FROM "${k.name}"`);else if(k.type==="fields-header"||k.type==="tags-header")i(T=>{const D=new Set(T);return D.has(k.id)?D.delete(k.id):D.add(k.id),D});else if(k.type==="field")t(`"${k.name}"`);else if(k.type==="tag"){t(`"${k.name}"`);const T=`tv:${k.dbName}:${k.measurementName}:${k.name}`;p[T]?y(D=>{const M={...D};return delete M[T],M}):k.dbName&&k.measurementName&&(u(D=>new Set(D).add(T)),we.getTagValues(k.dbName,k.measurementName,k.name).then(D=>y(M=>({...M,[T]:D}))).catch(()=>{}).finally(()=>u(D=>{const M=new Set(D);return M.delete(T),M})))}},N=k=>{const T=o.has(k.id);return["database","rp","measurement","fields-header","tags-header"].includes(k.type)?T?m.jsxs("svg",{className:"w-4 h-4 animate-spin text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):k.expanded?m.jsx(Ms,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}):m.jsx(hc,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}):m.jsx("span",{className:"w-4 h-4 inline-block"})},A=k=>{const T=k.type==="field"&&k.fieldType?wme[k.fieldType]??"text-gray-300":"text-gray-300";return m.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[m.jsx("span",{className:`truncate text-sm ${T}`,children:k.name}),k.type==="field"&&k.fieldType&&m.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-1",children:k.fieldType})]})};return m.jsxs("div",{className:"flex flex-col h-full bg-gray-900",children:[m.jsxs("div",{className:"px-3 py-2 border-b border-gray-700",children:[m.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Schema Explorer"}),m.jsxs("div",{className:"relative",children:[m.jsx(dc,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-gray-500"}),m.jsx("input",{type:"text",value:h,onChange:k=>d(k.target.value),placeholder:"Filter...",className:"w-full bg-gray-800 text-gray-300 text-xs pl-7 pr-2 py-1.5 rounded border border-gray-700 focus:outline-none focus:border-blue-500 placeholder-gray-600"})]})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto py-1",children:[C.length===0&&e.length===0&&m.jsx("div",{className:"text-xs text-gray-500 px-3 py-4 text-center",children:"Loading databases..."}),C.length===0&&e.length>0&&h&&m.jsxs("div",{className:"text-xs text-gray-500 px-3 py-4 text-center",children:['No results for "',h,'"']}),C.map(k=>{const T=k.type==="tag"?`tv:${k.dbName}:${k.measurementName}:${k.name}`:"",D=T&&o.has(T),M=T?p[T]:void 0;return m.jsxs("div",{children:[m.jsxs("div",{style:{paddingLeft:`${k.depth*16+8}px`},className:"flex items-center gap-1.5 py-0.5 pr-2 cursor-pointer hover:bg-gray-800 transition-colors duration-150 group select-none",onClick:()=>j(k),children:[m.jsx("span",{className:"flex-shrink-0",children:N(k)}),A(k),D&&m.jsxs("svg",{className:"w-3 h-3 animate-spin text-gray-500 ml-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]})]}),M&&M.length>0&&m.jsx("div",{style:{paddingLeft:`${(k.depth+1)*16+8}px`},className:"py-0.5",children:m.jsxs("div",{className:"flex flex-wrap gap-1 py-1",children:[M.slice(0,50).map(E=>m.jsx("span",{onClick:()=>t(`'${E}'`),className:"inline-block px-1.5 py-0.5 text-[10px] bg-gray-800 border border-gray-700 rounded text-cyan-300 cursor-pointer hover:bg-gray-700 font-mono truncate max-w-[120px]",title:E,children:E},E)),M.length>50&&m.jsxs("span",{className:"text-[10px] text-gray-500",children:["+",M.length-50," more"]})]})})]},k.id)})]})]})}function Mme({series:t,humanTime:e,epochUnit:n=""}){const[r,i]=w.useState(null),[a,l]=w.useState("asc");if(t.length===0)return m.jsx("div",{className:"text-gray-500 text-sm text-center py-8",children:"No results"});const o=u=>{r===u?l(h=>h==="asc"?"desc":"asc"):(i(u),l("asc"))};return m.jsx("div",{className:"flex flex-col gap-4 h-full overflow-y-auto",children:t.map((u,h)=>{const d=u.name+mS(u.tags);let p=[...u.rows];return r&&u.columns.includes(r)&&p.sort((y,v)=>{const b=y[r],C=v[r];if(b==null)return 1;if(C==null)return-1;const j=b<C?-1:b>C?1:0;return a==="asc"?j:-j}),m.jsxs("div",{className:"flex flex-col min-w-0",children:[t.length>1&&m.jsx("div",{className:"text-xs font-medium text-blue-400 px-1 mb-1",children:d}),m.jsx("div",{className:"overflow-x-auto rounded border border-gray-700",children:m.jsxs("table",{className:"min-w-full text-xs bg-gray-800",children:[m.jsx("thead",{children:m.jsx("tr",{className:"border-b border-gray-700",children:u.columns.map(y=>m.jsx("th",{onClick:()=>o(y),className:"px-3 py-2 text-left font-semibold text-gray-400 cursor-pointer hover:text-gray-200 hover:bg-gray-750 select-none whitespace-nowrap transition-colors duration-150",children:m.jsxs("span",{className:"flex items-center gap-1",children:[y,r===y&&m.jsx("span",{className:"text-blue-400",children:a==="asc"?"":""})]})},y))})}),m.jsx("tbody",{children:p.map((y,v)=>m.jsx("tr",{className:"border-b border-gray-700/50 hover:bg-gray-700/30 transition-colors duration-150",children:u.columns.map(b=>{const C=y[b],j=/^time$/i.test(b);let N;if(C==null)N=m.jsx("span",{className:"text-gray-600 italic",children:"null"});else if(e&&j){const A=xme(C,n);N=m.jsx("span",{title:String(C),children:A})}else N=String(C);return m.jsx("td",{className:"px-3 py-1.5 text-gray-300 whitespace-nowrap font-mono",children:N},b)})},v))})]})}),m.jsxs("div",{className:"text-xs text-gray-500 mt-1 px-1",children:[p.length," row",p.length!==1?"s":""]})]},h)})})}function Dme({series:t}){if(t.length===0)return m.jsx("div",{className:"text-gray-500 text-sm text-center py-8",children:"No results"});const e=t[0],n=e.columns.find(u=>u==="time")??null,r=e.columns.filter(u=>u!=="time"&&u!=="name");if(!n)return m.jsx("div",{className:"text-gray-500 text-sm text-center py-8",children:"Chart requires a 'time' column in the results."});const i=new Map;t.forEach(u=>{const h=mS(u.tags);u.rows.forEach(d=>{const p=String(d[n]);i.has(p)||i.set(p,{time:p});const y=i.get(p);r.forEach(v=>{const b=t.length>1?`${u.name}${h||""}.${v}`:v,C=d[v];C!=null&&(y[b]=typeof C=="number"?C:parseFloat(C))})})});const a=Array.from(i.values()).sort((u,h)=>u.time<h.time?-1:u.time>h.time?1:0),l=[];t.forEach(u=>{const h=mS(u.tags);r.forEach(d=>{const p=t.length>1?`${u.name}${h||""}.${d}`:d;l.includes(p)||l.push(p)})});const o=u=>{try{const h=new Date(u);if(!isNaN(h.getTime()))return h.toLocaleTimeString()}catch{}return u};return m.jsx("div",{className:"w-full h-full min-h-0",children:m.jsx($p,{width:"100%",height:"100%",children:m.jsxs(bg,{data:a,margin:{top:8,right:24,left:0,bottom:8},children:[m.jsx(Vf,{strokeDasharray:"3 3",stroke:"#374151"}),m.jsx(Gf,{dataKey:"time",tickFormatter:o,tick:{fill:"#9ca3af",fontSize:11},axisLine:{stroke:"#4b5563"},tickLine:{stroke:"#4b5563"}}),m.jsx(Yf,{tick:{fill:"#9ca3af",fontSize:11},axisLine:{stroke:"#4b5563"},tickLine:{stroke:"#4b5563"},width:60}),m.jsx(hg,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"6px"},labelStyle:{color:"#9ca3af",fontSize:11},itemStyle:{color:"#d1d5db",fontSize:12},formatter:u=>[typeof u=="number"?u.toLocaleString():u]}),m.jsx(R2,{wrapperStyle:{fontSize:12,color:"#9ca3af",paddingTop:"8px"}}),l.map((u,h)=>m.jsx(Kf,{type:"monotone",dataKey:u,stroke:r3[h%r3.length],dot:!1,strokeWidth:2,connectNulls:!1},u))]})})})}function Pme({onSelect:t}){const[e,n]=w.useState(!1),[r,i]=w.useState([]),a=w.useRef(null),l=()=>i(Uz());return w.useEffect(()=>{if(!e)return;l();const o=u=>{a.current&&!a.current.contains(u.target)&&n(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[e]),m.jsxs("div",{className:"relative",ref:a,children:[m.jsxs("button",{onClick:()=>n(o=>!o),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded border border-gray-600 transition-colors duration-150",children:[m.jsx(Qo,{className:"w-3.5 h-3.5"}),"History",m.jsx(Ms,{className:"w-3 h-3 text-gray-500"})]}),e&&m.jsx("div",{className:"absolute right-0 top-full mt-1 w-96 bg-gray-800 border border-gray-600 rounded shadow-2xl z-50 max-h-80 overflow-y-auto",children:r.length===0?m.jsx("div",{className:"text-gray-500 text-xs text-center py-4",children:"No query history"}):r.map((o,u)=>m.jsx("div",{onClick:()=>{t(o),n(!1)},className:"px-3 py-2 text-xs text-gray-300 hover:bg-gray-700 cursor-pointer truncate border-b border-gray-700 last:border-0 font-mono transition-colors duration-150",title:o,children:o},u))})]})}function _me(){const[t,e]=w.useState([]),[n,r]=w.useState(Cme()),[i,a]=w.useState([]),[l,o]=w.useState(""),[u,h]=w.useState("rfc3339"),[d,p]=w.useState('SELECT * FROM "measurement" LIMIT 100'),[y,v]=w.useState(null),[b,C]=w.useState(!1),[j,N]=w.useState("table"),[A,k]=w.useState(!0),[T,D]=w.useState(0);w.useEffect(()=>{const B=()=>{D(z=>z+1),v(null),r(""),a([]),o(""),we.getDatabases().then(z=>{e(z),z.length>0&&(r(z[0]),c1(z[0]))}).catch(()=>{e([])})};return window.addEventListener("tidedb-connection-change",B),()=>window.removeEventListener("tidedb-connection-change",B)},[]),w.useEffect(()=>{we.getDatabases().then(B=>{e(B),!n&&B.length>0&&(r(B[0]),c1(B[0]))}).catch(()=>{})},[]),w.useEffect(()=>{if(!n){a([]),o("");return}c1(n),we.getRetentionPolicies(n).then(B=>{a(B);const z=B.find($=>$.default);o(z?.name??B[0]?.name??"")}).catch(()=>{a([]),o("")})},[n]);const M=w.useCallback(async()=>{if(!d.trim()||b)return;C(!0);const B=performance.now();try{jme(d.trim());const z=await we.query(d.trim(),n||void 0,u||void 0),$=Math.round(performance.now()-B),ee=z.results?.[0]?.error,F=Ome(z);v({series:F,duration:$,error:ee})}catch(z){const $=Math.round(performance.now()-B);v({series:[],duration:$,error:z?.message??"Unknown error"})}finally{C(!1)}},[d,n,u,b]),E=()=>{p(B=>kme(B))},_=w.useCallback(B=>{p(z=>{const $=z.trimEnd(),ee=$.length>0?" ":"";return $+ee+B})},[]),L=B=>{B.key==="Enter"&&(B.ctrlKey||B.metaKey)&&(B.preventDefault(),M())},I=y?.series.reduce((B,z)=>B+z.rows.length,0)??0;return m.jsxs("div",{className:"flex flex-col h-full bg-gray-950 text-gray-100",children:[m.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-gray-900 border-b border-gray-700 flex-shrink-0",children:[m.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Query Explorer"}),m.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[m.jsx("label",{className:"text-xs text-gray-500",children:"Database"}),m.jsxs("select",{value:n,onChange:B=>r(B.target.value),className:"bg-gray-800 border border-gray-600 text-gray-200 text-xs rounded px-2 py-1 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:[m.jsx("option",{value:"",children:" select "}),t.map(B=>m.jsx("option",{value:B,children:B},B))]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("label",{className:"text-xs text-gray-500",children:"RP"}),m.jsxs("select",{value:l,onChange:B=>o(B.target.value),className:"bg-gray-800 border border-gray-600 text-gray-200 text-xs rounded px-2 py-1 focus:outline-none focus:border-blue-500 transition-colors duration-150",disabled:i.length===0,children:[m.jsx("option",{value:"",children:" default "}),i.map(B=>m.jsxs("option",{value:B.name,children:[B.name,B.default?" (default)":""]},B.name))]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("label",{className:"text-xs text-gray-500",children:"Epoch"}),m.jsx("select",{value:u,onChange:B=>h(B.target.value),className:"bg-gray-800 border border-gray-600 text-gray-200 text-xs rounded px-2 py-1 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:vme.map(B=>m.jsx("option",{value:B.value,children:B.label},B.value))})]})]}),m.jsxs("div",{className:"flex flex-1 min-h-0 overflow-hidden",children:[m.jsx("div",{className:"flex-shrink-0 border-r border-gray-700 overflow-hidden flex flex-col",style:{width:"250px"},children:m.jsx(Tme,{onInsert:_},T)}),m.jsxs("div",{className:"flex flex-col flex-1 min-w-0 overflow-hidden",children:[m.jsxs("div",{className:"flex-shrink-0 border-b border-gray-700 flex flex-col",style:{height:"200px"},children:[m.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 bg-gray-900 border-b border-gray-700",children:[m.jsx("span",{className:"text-xs text-gray-500",children:"InfluxQL    Ctrl+Enter to run"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:E,className:"px-2.5 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded border border-gray-600 transition-colors duration-150",children:"Format"}),m.jsx(Pme,{onSelect:p}),m.jsxs("button",{onClick:()=>{const B=d.trim();B&&!B.toUpperCase().startsWith("EXPLAIN")&&p("EXPLAIN "+B),M()},disabled:b,title:"Explain query plan",className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs bg-amber-700 hover:bg-amber-600 disabled:bg-amber-900 disabled:text-amber-400 text-white rounded transition-colors duration-150",children:[m.jsx(Km,{className:"w-3.5 h-3.5"}),"Explain"]}),m.jsxs("button",{onClick:M,disabled:b,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold bg-blue-600 hover:bg-blue-700 disabled:bg-blue-900 disabled:text-blue-400 text-white rounded transition-colors duration-150",children:[m.jsx(uf,{className:"w-3.5 h-3.5"}),b?"Running":"Run"]})]})]}),m.jsx("div",{className:"flex-1 overflow-hidden",onKeyDown:L,children:m.jsx(l2,{value:d,onChange:p,extensions:[TQ()],theme:"dark",height:"150px",style:{height:"150px",fontSize:"13px",backgroundColor:"#1f2937"},basicSetup:{lineNumbers:!0,highlightActiveLineGutter:!0,highlightActiveLine:!0,bracketMatching:!0,autocompletion:!0,indentOnInput:!0}})})]}),m.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[m.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 bg-gray-900 border-b border-gray-700 flex-shrink-0",children:[m.jsxs("button",{onClick:()=>N("table"),className:`flex items-center gap-1.5 px-3 py-1 text-xs rounded transition-colors duration-150 ${j==="table"?"bg-gray-700 text-gray-100":"text-gray-400 hover:text-gray-200 hover:bg-gray-800"}`,children:[m.jsx(V3,{className:"w-3.5 h-3.5"}),"Table"]}),m.jsxs("button",{onClick:()=>N("chart"),className:`flex items-center gap-1.5 px-3 py-1 text-xs rounded transition-colors duration-150 ${j==="chart"?"bg-gray-700 text-gray-100":"text-gray-400 hover:text-gray-200 hover:bg-gray-800"}`,children:[m.jsx(xl,{className:"w-3.5 h-3.5"}),"Chart"]}),y&&!y.error&&m.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[m.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer select-none",title:"Toggle between raw epoch and readable timestamps",children:[m.jsx(Qo,{className:"w-3 h-3 text-gray-500"}),m.jsx("span",{className:"text-xs text-gray-500",children:"Readable time"}),m.jsx("button",{type:"button",role:"switch","aria-checked":A,onClick:()=>k(B=>!B),className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors duration-200 ${A?"bg-blue-600":"bg-gray-600"}`,children:m.jsx("span",{className:`inline-block h-3 w-3 rounded-full bg-white transition-transform duration-200 ${A?"translate-x-3.5":"translate-x-0.5"}`})})]}),m.jsx("span",{className:"text-xs text-gray-600",children:"|"}),m.jsxs("span",{className:"text-xs text-gray-500",children:[I," row",I!==1?"s":""]}),m.jsxs("button",{onClick:()=>Ame(y.series),title:"Download CSV",className:"flex items-center gap-1 px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded border border-gray-600 transition-colors duration-150",children:[m.jsx(cf,{className:"w-3 h-3"})," CSV"]}),m.jsxs("button",{onClick:()=>Eme(y.series),title:"Download JSON",className:"flex items-center gap-1 px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded border border-gray-600 transition-colors duration-150",children:[m.jsx(hH,{className:"w-3 h-3"})," JSON"]})]})]}),m.jsxs("div",{className:"flex-1 overflow-hidden min-h-0 bg-gray-950 p-3",children:[!y&&m.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-2 text-gray-600",children:[m.jsx(uf,{className:"w-8 h-8 opacity-30"}),m.jsx("span",{className:"text-sm",children:"Run a query to see results"})]}),y&&y.error&&m.jsx("div",{className:"bg-red-950/50 border border-red-700 rounded p-3 text-red-300 text-sm font-mono",children:y.error}),y&&!y.error&&m.jsxs("div",{className:"h-full overflow-hidden",children:[j==="table"&&m.jsx(Mme,{series:y.series,humanTime:A,epochUnit:u}),j==="chart"&&m.jsx(Dme,{series:y.series})]})]}),m.jsxs("div",{className:"flex-shrink-0 flex items-center gap-3 px-3 py-1 bg-gray-900 border-t border-gray-700 text-xs text-gray-500",children:[b&&m.jsxs("span",{className:"flex items-center gap-1.5 text-blue-400",children:[m.jsxs("svg",{className:"w-3 h-3 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Executing"]}),y&&!b&&m.jsxs(m.Fragment,{children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(Qo,{className:"w-3 h-3"}),Nme(y.duration)]}),!y.error&&m.jsxs("span",{children:[I," row",I!==1?"s":""," returned"]}),y.error&&m.jsx("span",{className:"text-red-400",children:"Query failed"})]}),!y&&!b&&m.jsx("span",{children:"Ready"})]})]})]})]})]})}function Qf({title:t,message:e,confirmLabel:n="Confirm",onConfirm:r,onCancel:i,danger:a=!0,requireTypedConfirmation:l}){const[o,u]=w.useState(""),h=!l||o===l;return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:m.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-100 mb-2",children:t}),m.jsx("p",{className:"text-sm text-gray-400 mb-4",children:e}),l&&m.jsxs("div",{className:"mb-4",children:[m.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Type ",m.jsx("span",{className:"font-mono text-red-400 font-semibold",children:l})," to confirm:"]}),m.jsx("input",{type:"text",value:o,onChange:d=>u(d.target.value),autoFocus:!0,placeholder:l,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-600 focus:outline-none focus:border-red-500 transition-colors duration-150 font-mono"})]}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{onClick:i,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150",children:"Cancel"}),m.jsx("button",{onClick:r,disabled:!h,className:`px-4 py-2 text-sm font-semibold text-white rounded-md transition-colors duration-150 disabled:opacity-40 disabled:cursor-not-allowed ${a?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:n})]})]})})}function Rme({message:t,onDismiss:e}){return m.jsxs("div",{className:"flex items-start justify-between bg-red-950/60 border border-red-700 rounded-md px-4 py-3 mb-4 text-sm text-red-300",children:[m.jsx("span",{className:"font-mono break-all",children:t}),m.jsx("button",{onClick:e,className:"ml-4 flex-shrink-0 text-red-400 hover:text-red-200 transition-colors duration-150",children:""})]})}function Lme({message:t,onDismiss:e}){return m.jsxs("div",{className:"flex items-start justify-between bg-green-950/60 border border-green-700 rounded-md px-4 py-3 mb-4 text-sm text-green-300",children:[m.jsx("span",{children:t}),m.jsx("button",{onClick:e,className:"ml-4 flex-shrink-0 text-green-400 hover:text-green-200 transition-colors duration-150",children:""})]})}function Bme({onClose:t,onCreated:e}){const[n,r]=w.useState(""),[i,a]=w.useState("30d"),[l,o]=w.useState(!1),[u,h]=w.useState(""),d=async()=>{const p=n.trim();if(!p){h("Database name is required.");return}o(!0),h("");try{const y=i.trim()||"INF";await we.query(`CREATE DATABASE "${p}" WITH DURATION ${y}`),e(),t()}catch(y){h(y?.message??"Failed to create database.")}finally{o(!1)}};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:m.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[m.jsx($r,{className:"w-5 h-5 text-blue-400"}),"Create Database"]}),u&&m.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono",children:u}),m.jsxs("div",{className:"flex flex-col gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Database Name"}),m.jsx("input",{type:"text",value:n,onChange:p=>r(p.target.value),placeholder:"my_database",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Default RP Duration",m.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(e.g. 30d, 1h, INF)"})]}),m.jsx("input",{type:"text",value:i,onChange:p=>a(p.target.value),placeholder:"30d",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:t,disabled:l,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),m.jsxs("button",{onClick:d,disabled:l,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 flex items-center gap-2",children:[l&&m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Create Database"]})]})]})})}function zme({database:t,onClose:e,onCreated:n}){const[r,i]=w.useState(""),[a,l]=w.useState("30d"),[o,u]=w.useState(""),[h,d]=w.useState("1"),[p,y]=w.useState(!1),[v,b]=w.useState(!1),[C,j]=w.useState(""),N=async()=>{const A=r.trim();if(!A){j("Retention policy name is required.");return}const k=a.trim();if(!k){j("Duration is required.");return}b(!0),j("");try{let T=`CREATE RETENTION POLICY "${A}" ON "${t}" DURATION ${k} REPLICATION ${h||"1"}`;o.trim()&&(T+=` SHARD DURATION ${o.trim()}`),p&&(T+=" DEFAULT"),await we.query(T),n(),e()}catch(T){j(T?.message??"Failed to create retention policy.")}finally{b(!1)}};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:m.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-1 flex items-center gap-2",children:[m.jsx(Pi,{className:"w-5 h-5 text-blue-400"}),"Create Retention Policy"]}),m.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["on database ",m.jsx("span",{className:"text-blue-400 font-mono",children:t})]}),C&&m.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono",children:C}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Policy Name"}),m.jsx("input",{type:"text",value:r,onChange:A=>i(A.target.value),placeholder:"my_policy",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Duration",m.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(e.g. 7d, 30d, INF)"})]}),m.jsx("input",{type:"text",value:a,onChange:A=>l(A.target.value),placeholder:"30d",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Shard Group Duration",m.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(optional, e.g. 1d)"})]}),m.jsx("input",{type:"text",value:o,onChange:A=>u(A.target.value),placeholder:"auto",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Replication Factor"}),m.jsx("input",{type:"number",min:"1",value:h,onChange:A=>d(A.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[m.jsx("input",{type:"checkbox",checked:p,onChange:A=>y(A.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500 focus:ring-offset-gray-800"}),m.jsx("span",{className:"text-sm text-gray-300",children:"Set as default retention policy"})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:e,disabled:v,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),m.jsxs("button",{onClick:N,disabled:v,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 flex items-center gap-2",children:[v&&m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Create Policy"]})]})]})})}function Ime({database:t,rp:e,onClose:n,onAltered:r}){const[i,a]=w.useState(e.duration||""),[l,o]=w.useState(e.shardGroupDuration||""),[u,h]=w.useState(String(e.replicaN??1)),[d,p]=w.useState(e.default),[y,v]=w.useState(!1),[b,C]=w.useState(""),j=async()=>{v(!0),C("");try{let N=`ALTER RETENTION POLICY "${e.name}" ON "${t}"`;i.trim()&&(N+=` DURATION ${i.trim()}`),N+=` REPLICATION ${u||"1"}`,l.trim()&&(N+=` SHARD DURATION ${l.trim()}`),d&&(N+=" DEFAULT"),await we.query(N),r(),n()}catch(N){C(N?.message??"Failed to alter retention policy.")}finally{v(!1)}};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:m.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-1 flex items-center gap-2",children:[m.jsx(jS,{className:"w-5 h-5 text-blue-400"}),"Alter Retention Policy"]}),m.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:[m.jsx("span",{className:"text-blue-400 font-mono",children:e.name})," on ",m.jsx("span",{className:"text-blue-400 font-mono",children:t})]}),b&&m.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono",children:b}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Duration ",m.jsx("span",{className:"text-xs text-gray-500",children:"(e.g. 7d, 30d, INF)"})]}),m.jsx("input",{type:"text",value:i,onChange:N=>a(N.target.value),placeholder:"30d",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Shard Group Duration ",m.jsx("span",{className:"text-xs text-gray-500",children:"(optional)"})]}),m.jsx("input",{type:"text",value:l,onChange:N=>o(N.target.value),placeholder:"auto",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Replication Factor"}),m.jsx("input",{type:"number",min:"1",value:u,onChange:N=>h(N.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[m.jsx("input",{type:"checkbox",checked:d,onChange:N=>p(N.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500 focus:ring-offset-gray-800"}),m.jsx("span",{className:"text-sm text-gray-300",children:"Set as default retention policy"})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:n,disabled:y,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),m.jsxs("button",{onClick:j,disabled:y,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 flex items-center gap-2",children:[y&&m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Alter Policy"]})]})]})})}function Ume({onError:t,onSuccess:e}){const[n,r]=w.useState([]),[i,a]=w.useState(!0),[l,o]=w.useState(!1),[u,h]=w.useState(null),[d,p]=w.useState(null),[y,v]=w.useState(null),[b,C]=w.useState(null),j=w.useCallback(async()=>{a(!0);try{const E=await we.getDatabases();r(_=>{const L=new Map(_.map(I=>[I.name,I]));return E.map(I=>L.get(I)??{name:I,expanded:!1,retentionPolicies:null,seriesCardinality:null,loadingRPs:!1,loadingCardinality:!1})})}catch(E){t(E?.message??"Failed to load databases.")}finally{a(!1)}},[t]);w.useEffect(()=>{j()},[j]);const N=w.useCallback(async E=>{r(L=>L.map(I=>I.name!==E?I:{...I,expanded:!I.expanded}));const _=n.find(L=>L.name===E);if(!(!_||_.retentionPolicies!==null)){r(L=>L.map(I=>I.name===E?{...I,loadingRPs:!0,loadingCardinality:!0}:I));try{const[L,I]=await Promise.all([we.getRetentionPolicies(E),we.getSeriesCardinality(E)]),B=L.map(z=>({name:z.name,duration:z.duration,shardGroupDuration:z.shardGroupDuration,replicaN:z.replicaN,default:z.default}));r(z=>z.map($=>$.name===E?{...$,retentionPolicies:B,seriesCardinality:I,loadingRPs:!1,loadingCardinality:!1}:$))}catch(L){r(I=>I.map(B=>B.name===E?{...B,loadingRPs:!1,loadingCardinality:!1}:B)),t(L?.message??`Failed to load details for ${E}.`)}}},[n,t]),A=async E=>{h(null);try{await we.query(`DROP DATABASE "${E}"`),e(`Database "${E}" dropped successfully.`),j()}catch(_){t(_?.message??`Failed to drop database "${E}".`)}},k=E=>{r(_=>_.map(L=>L.name===E?{...L,retentionPolicies:null,seriesCardinality:null}:L))},T=E=>{k(E),e(`Retention policy created on "${E}".`)},D=async(E,_)=>{C(null);try{await we.query(`DROP RETENTION POLICY "${_}" ON "${E}"`),k(E),e(`Retention policy "${_}" dropped from "${E}".`),r(L=>L.map(I=>I.name===E?{...I,expanded:!1}:I)),setTimeout(()=>N(E),100)}catch(L){t(L?.message??`Failed to drop retention policy "${_}".`)}},M=E=>{k(E),e(`Retention policy altered on "${E}".`),r(_=>_.map(L=>L.name===E?{...L,expanded:!1}:L)),setTimeout(()=>N(E),100)};return m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[m.jsx($r,{className:"w-5 h-5 text-blue-400"}),"Databases"]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:j,disabled:i,title:"Refresh",className:"p-2 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-gray-200 rounded-md border border-gray-700 transition-colors duration-150 disabled:opacity-50",children:m.jsx(bt,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),m.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150",children:[m.jsx(Pi,{className:"w-4 h-4"}),"Create Database"]})]})]}),i&&n.length===0?m.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[m.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading databases..."]}):n.length===0?m.jsxs("div",{className:"text-center py-16 text-gray-500",children:[m.jsx($r,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),m.jsx("p",{className:"text-sm",children:"No databases found."})]}):m.jsx("div",{className:"flex flex-col gap-2",children:n.map(E=>m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[m.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[m.jsxs("button",{onClick:()=>N(E.name),className:"flex items-center gap-2 text-left group",children:[m.jsx("span",{className:`text-gray-400 transition-transform duration-150 ${E.expanded?"rotate-90":"rotate-0"}`,children:""}),m.jsx($r,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),m.jsx("span",{className:"text-sm font-medium text-gray-100 group-hover:text-white transition-colors duration-150 font-mono",children:E.name})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("button",{onClick:()=>p(E.name),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-md border border-gray-600 transition-colors duration-150",children:[m.jsx(Pi,{className:"w-3.5 h-3.5"}),"Create RP"]}),m.jsxs("button",{onClick:()=>h(E.name),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors duration-150",children:[m.jsx(ai,{className:"w-3.5 h-3.5"}),"Drop"]})]})]}),E.expanded&&m.jsx("div",{className:"border-t border-gray-700 px-4 py-3",children:E.loadingRPs?m.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm py-2",children:[m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading details..."]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m.jsx("span",{className:"text-xs text-gray-500",children:"Series Cardinality:"}),m.jsx("span",{className:"text-xs font-mono text-blue-300",children:E.seriesCardinality!==null?E.seriesCardinality.toLocaleString():"N/A"})]}),m.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Retention Policies"}),E.retentionPolicies&&E.retentionPolicies.length>0?m.jsx("div",{className:"rounded border border-gray-700 overflow-hidden",children:m.jsxs("table",{className:"min-w-full text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[m.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Name"}),m.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Duration"}),m.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Shard Group Duration"}),m.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Replication"}),m.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Default"}),m.jsx("th",{className:"px-3 py-2 text-right font-semibold text-gray-400 whitespace-nowrap",children:"Actions"})]})}),m.jsx("tbody",{children:E.retentionPolicies.map(_=>m.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[m.jsx("td",{className:"px-3 py-2 font-mono text-gray-200",children:_.name}),m.jsx("td",{className:"px-3 py-2 text-gray-300",children:_.duration||"INF"}),m.jsx("td",{className:"px-3 py-2 text-gray-300",children:_.shardGroupDuration||"auto"}),m.jsx("td",{className:"px-3 py-2 text-gray-300",children:_.replicaN}),m.jsx("td",{className:"px-3 py-2",children:_.default?m.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-semibold bg-blue-900/60 text-blue-300 border border-blue-700",children:"default"}):m.jsx("span",{className:"text-gray-600",children:""})}),m.jsx("td",{className:"px-3 py-2 text-right",children:m.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[m.jsx("button",{onClick:()=>v({db:E.name,rp:_}),title:"Edit",className:"p-1.5 text-gray-400 hover:text-blue-300 hover:bg-gray-700 rounded transition-colors duration-150",children:m.jsx(jS,{className:"w-3.5 h-3.5"})}),m.jsx("button",{onClick:()=>C({db:E.name,rpName:_.name}),title:"Drop",className:"p-1.5 text-gray-400 hover:text-red-300 hover:bg-gray-700 rounded transition-colors duration-150",children:m.jsx(ai,{className:"w-3.5 h-3.5"})})]})})]},_.name))})]})}):m.jsx("p",{className:"text-sm text-gray-500",children:"No retention policies found."})]})})]},E.name))}),l&&m.jsx(Bme,{onClose:()=>o(!1),onCreated:()=>{e("Database created successfully."),j()}}),u&&m.jsx(Qf,{title:"Drop Database",message:`Are you sure you want to drop the database "${u}"? This action is irreversible and all data will be permanently deleted.`,confirmLabel:"Drop Database",requireTypedConfirmation:u,onConfirm:()=>A(u),onCancel:()=>h(null)}),d&&m.jsx(zme,{database:d,onClose:()=>p(null),onCreated:()=>T(d)}),y&&m.jsx(Ime,{database:y.db,rp:y.rp,onClose:()=>v(null),onAltered:()=>M(y.db)}),b&&m.jsx(Qf,{title:"Drop Retention Policy",message:`Are you sure you want to drop the retention policy "${b.rpName}" on database "${b.db}"? All data in this policy will be permanently deleted.`,confirmLabel:"Drop RP",requireTypedConfirmation:b.rpName,onConfirm:()=>D(b.db,b.rpName),onCancel:()=>C(null)})]})}function Hme({databases:t,onClose:e,onCreated:n}){const[r,i]=w.useState(""),[a,l]=w.useState(t[0]??""),[o,u]=w.useState(""),[h,d]=w.useState(""),[p,y]=w.useState(""),[v,b]=w.useState(!1),[C,j]=w.useState(""),N=async()=>{const A=r.trim();if(!A){j("Continuous query name is required.");return}if(!a){j("Database is required.");return}const k=p.trim();if(!k){j("SELECT query is required.");return}b(!0),j("");try{let T="";const D=o.trim(),M=h.trim();(D||M)&&(T=" RESAMPLE",D&&(T+=` EVERY ${D}`),M&&(T+=` FOR ${M}`));const E=`CREATE CONTINUOUS QUERY "${A}" ON "${a}"${T} BEGIN ${k} END`;await we.query(E),n(),e()}catch(T){j(T?.message??"Failed to create continuous query.")}finally{b(!1)}};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:m.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-lg mx-4 p-6",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[m.jsx(bt,{className:"w-5 h-5 text-blue-400"}),"Create Continuous Query"]}),C&&m.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono break-all",children:C}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"CQ Name"}),m.jsx("input",{type:"text",value:r,onChange:A=>i(A.target.value),placeholder:"my_cq",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Database"}),m.jsx("select",{value:a,onChange:A=>l(A.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:t.map(A=>m.jsx("option",{value:A,children:A},A))})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Resample Every",m.jsx("span",{className:"ml-1 text-xs text-gray-500",children:"(optional)"})]}),m.jsx("input",{type:"text",value:o,onChange:A=>u(A.target.value),placeholder:"e.g. 1h",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Resample For",m.jsx("span",{className:"ml-1 text-xs text-gray-500",children:"(optional)"})]}),m.jsx("input",{type:"text",value:h,onChange:A=>d(A.target.value),placeholder:"e.g. 2h",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["SELECT Query",m.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(the full SELECT ... INTO ... FROM ... GROUP BY time(...) statement)"})]}),m.jsx("textarea",{value:p,onChange:A=>y(A.target.value),placeholder:'SELECT mean("value") INTO "downsampled"."autogen"."cpu" FROM "cpu" GROUP BY time(1h)',rows:4,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150 font-mono resize-y"})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:e,disabled:v,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),m.jsxs("button",{onClick:N,disabled:v,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 flex items-center gap-2",children:[v&&m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Create CQ"]})]})]})})}function $me({onError:t,onSuccess:e}){const[n,r]=w.useState([]),[i,a]=w.useState(!0),[l,o]=w.useState(!1),[u,h]=w.useState([]),[d,p]=w.useState(null),y=w.useCallback(async()=>{try{const j=await we.getDatabases();h(j)}catch{}},[]),v=w.useCallback(async()=>{a(!0);try{const N=(await we.getContinuousQueries()).map(A=>{const k=A.columns?.indexOf("name")??0,T=A.columns?.indexOf("query")??1,D=(A.values??[]).map(M=>({name:M[k],query:M[T]}));return{database:A.name,queries:D}});r(N)}catch(j){t(j?.message??"Failed to load continuous queries.")}finally{a(!1)}},[t]);w.useEffect(()=>{v(),y()},[v,y]);const b=async(j,N)=>{p(null);try{await we.query(`DROP CONTINUOUS QUERY "${j}" ON "${N}"`),e(`Continuous query "${j}" dropped from "${N}".`),v()}catch(A){t(A?.message??`Failed to drop continuous query "${j}".`)}},C=n.reduce((j,N)=>j+N.queries.length,0);return m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[m.jsx(bt,{className:"w-5 h-5 text-blue-400"}),"Continuous Queries",!i&&m.jsxs("span",{className:"ml-1 text-xs font-normal text-gray-500",children:["(",C," total)"]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:v,disabled:i,title:"Refresh",className:"p-2 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-gray-200 rounded-md border border-gray-700 transition-colors duration-150 disabled:opacity-50",children:m.jsx(bt,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),m.jsxs("button",{onClick:()=>{y(),o(!0)},className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150",children:[m.jsx(Pi,{className:"w-4 h-4"}),"Create CQ"]})]})]}),i?m.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[m.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading continuous queries..."]}):n.length===0||C===0?m.jsxs("div",{className:"text-center py-16 text-gray-500",children:[m.jsx(bt,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),m.jsx("p",{className:"text-sm",children:"No continuous queries found."})]}):m.jsx("div",{className:"flex flex-col gap-4",children:n.filter(j=>j.queries.length>0).map(j=>m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[m.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 border-b border-gray-700 bg-gray-800",children:[m.jsx($r,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),m.jsx("span",{className:"text-sm font-semibold text-gray-200 font-mono",children:j.database}),m.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",j.queries.length," ",j.queries.length===1?"query":"queries",")"]})]}),m.jsxs("table",{className:"min-w-full text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[m.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-400 w-40",children:"Name"}),m.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-400",children:"Query"}),m.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-400 w-24",children:"Actions"})]})}),m.jsx("tbody",{children:j.queries.map(N=>m.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[m.jsx("td",{className:"px-4 py-2.5 font-mono text-blue-300 align-top whitespace-nowrap",children:N.name}),m.jsx("td",{className:"px-4 py-2.5 text-gray-300 font-mono break-all align-top",children:m.jsx("span",{className:"whitespace-pre-wrap text-xs leading-relaxed",children:N.query})}),m.jsx("td",{className:"px-4 py-2.5 text-right align-top",children:m.jsxs("button",{onClick:()=>p({name:N.name,db:j.database}),className:"flex items-center gap-1 px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors duration-150 ml-auto",children:[m.jsx(ai,{className:"w-3 h-3"}),"Drop"]})})]},N.name))})]})]},j.database))}),d&&m.jsx(Qf,{title:"Drop Continuous Query",message:`Are you sure you want to drop the continuous query "${d.name}" on database "${d.db}"?`,confirmLabel:"Drop CQ",onConfirm:()=>b(d.name,d.db),onCancel:()=>p(null)}),l&&m.jsx(Hme,{databases:u,onClose:()=>o(!1),onCreated:()=>{e("Continuous query created successfully."),v()}})]})}function qme({onCreated:t,onError:e,onSuccess:n}){const[r,i]=w.useState(""),[a,l]=w.useState(""),[o,u]=w.useState(!1),[h,d]=w.useState(!1),p=async()=>{const y=r.trim();if(!y){e("Username is required.");return}if(!a){e("Password is required.");return}d(!0);try{await we.query(`CREATE USER "${y}" WITH PASSWORD '${a}'`),o&&await we.query(`GRANT ALL PRIVILEGES TO "${y}"`),n(`User "${y}" created successfully.`),i(""),l(""),u(!1),t()}catch(v){e(v?.message??"Failed to create user.")}finally{d(!1)}};return m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4 mb-6",children:[m.jsxs("h3",{className:"text-sm font-semibold text-gray-300 mb-3 flex items-center gap-2",children:[m.jsx(Pi,{className:"w-4 h-4 text-blue-400"}),"Create User"]}),m.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[m.jsxs("div",{className:"flex-1 min-w-36",children:[m.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Username"}),m.jsx("input",{type:"text",value:r,onChange:y=>i(y.target.value),placeholder:"username",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{className:"flex-1 min-w-36",children:[m.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Password"}),m.jsx("input",{type:"password",value:a,onChange:y=>l(y.target.value),placeholder:"password",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsx("div",{className:"flex items-center gap-2 pb-0.5",children:m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[m.jsx("input",{type:"checkbox",checked:o,onChange:y=>u(y.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500 focus:ring-offset-gray-800"}),m.jsxs("span",{className:"text-sm text-gray-300 flex items-center gap-1",children:[m.jsx(Nl,{className:"w-3.5 h-3.5 text-amber-400"}),"Admin"]})]})}),m.jsxs("button",{onClick:p,disabled:h,className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[h?m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):m.jsx(Pi,{className:"w-4 h-4"}),"Create User"]})]})]})}function Fme({username:t,onClose:e,onSuccess:n,onError:r}){const[i,a]=w.useState(""),[l,o]=w.useState(""),[u,h]=w.useState(!1),d=async()=>{if(!i){r("Password is required.");return}if(i!==l){r("Passwords do not match.");return}h(!0);try{await we.query(`SET PASSWORD FOR "${t}" = '${i}'`),n(`Password changed for "${t}".`),e()}catch(p){r(p?.message??"Failed to change password.")}finally{h(!1)}};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:m.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-sm mx-4 p-6",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[m.jsx($3,{className:"w-5 h-5 text-blue-400"}),"Change Password"]}),m.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["for user ",m.jsx("span",{className:"text-blue-400 font-mono",children:t})]}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsx("input",{type:"password",value:i,onChange:p=>a(p.target.value),placeholder:"New password",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"}),m.jsx("input",{type:"password",value:l,onChange:p=>o(p.target.value),placeholder:"Confirm password",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:e,disabled:u,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),m.jsx("button",{onClick:d,disabled:u||!i||i!==l,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:"Change Password"})]})]})})}function Vme({username:t,databases:e,onClose:n,onSuccess:r,onError:i}){const[a,l]=w.useState(e[0]??""),[o,u]=w.useState("ALL"),[h,d]=w.useState(!1),p=async()=>{if(!a){i("Database is required.");return}d(!0);try{await we.query(`GRANT ${o} ON "${a}" TO "${t}"`),r(`Granted ${o} on "${a}" to "${t}".`),n()}catch(y){i(y?.message??"Failed to grant privilege.")}finally{d(!1)}};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:m.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-sm mx-4 p-6",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[m.jsx(Nl,{className:"w-5 h-5 text-blue-400"}),"Grant Privilege"]}),m.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["to user ",m.jsx("span",{className:"text-blue-400 font-mono",children:t})]}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Database"}),m.jsx("select",{value:a,onChange:y=>l(y.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:e.map(y=>m.jsx("option",{value:y,children:y},y))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Privilege"}),m.jsxs("select",{value:o,onChange:y=>u(y.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:[m.jsx("option",{value:"ALL",children:"ALL PRIVILEGES"}),m.jsx("option",{value:"READ",children:"READ"}),m.jsx("option",{value:"WRITE",children:"WRITE"})]})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:n,disabled:h,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),m.jsx("button",{onClick:p,disabled:h,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:"Grant"})]})]})})}function Wme({onError:t,onSuccess:e}){const[n,r]=w.useState([]),[i,a]=w.useState(!0),[l,o]=w.useState(null),[u,h]=w.useState(null),[d,p]=w.useState(null),[y,v]=w.useState([]),[b,C]=w.useState(null),[j,N]=w.useState({}),[A,k]=w.useState(null),T=w.useCallback(async()=>{a(!0);try{const L=await we.getUsers();r(Array.isArray(L)?L:[])}catch(L){t(L?.message??"Failed to load users.")}finally{a(!1)}},[t]),D=w.useCallback(async()=>{try{v(await we.getDatabases())}catch{}},[]);w.useEffect(()=>{T(),D()},[T,D]);const M=async L=>{o(null);try{await we.query(`DROP USER "${L}"`),e(`User "${L}" dropped successfully.`),T()}catch(I){t(I?.message??`Failed to drop user "${L}".`)}},E=async L=>{if(b===L){C(null);return}if(C(L),!j[L]){k(L);try{const I=await we.getUserGrants(L);N(B=>({...B,[L]:I}))}catch(I){t(I?.message??`Failed to load grants for "${L}".`)}finally{k(null)}}},_=async(L,I,B)=>{try{await we.query(`REVOKE ${B} ON "${I}" FROM "${L}"`),e(`Revoked ${B} on "${I}" from "${L}".`);const z=await we.getUserGrants(L);N($=>({...$,[L]:z}))}catch(z){t(z?.message??"Failed to revoke privilege.")}};return m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[m.jsx(hA,{className:"w-5 h-5 text-blue-400"}),"Users"]}),m.jsx("button",{onClick:T,disabled:i,title:"Refresh",className:"p-2 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-gray-200 rounded-md border border-gray-700 transition-colors duration-150 disabled:opacity-50",children:m.jsx(bt,{className:`w-4 h-4 ${i?"animate-spin":""}`})})]}),m.jsx(qme,{onCreated:T,onError:t,onSuccess:e}),i?m.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[m.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading users..."]}):n.length===0?m.jsxs("div",{className:"text-center py-12 text-gray-500",children:[m.jsx(hA,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),m.jsx("p",{className:"text-sm",children:"No users found."})]}):m.jsx("div",{className:"flex flex-col gap-2",children:n.map(L=>m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[m.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:"font-mono text-gray-100 text-sm",children:L.user}),L.admin?m.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-semibold bg-amber-900/60 text-amber-300 border border-amber-700",children:[m.jsx(Nl,{className:"w-3 h-3"})," Admin"]}):m.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-semibold bg-gray-700 text-gray-400 border border-gray-600",children:"User"})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsxs("button",{onClick:()=>E(L.user),title:"View Grants",className:"flex items-center gap-1 px-2.5 py-1.5 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-md border border-gray-600 transition-colors duration-150",children:[m.jsx(uH,{className:"w-3.5 h-3.5"}),"Grants",b===L.user?m.jsx(SS,{className:"w-3 h-3"}):m.jsx(Ms,{className:"w-3 h-3"})]}),m.jsxs("button",{onClick:()=>h(L.user),title:"Change Password",className:"flex items-center gap-1 px-2.5 py-1.5 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-md border border-gray-600 transition-colors duration-150",children:[m.jsx($3,{className:"w-3.5 h-3.5"}),"Password"]}),m.jsxs("button",{onClick:()=>{D(),p(L.user)},title:"Grant Privilege",className:"flex items-center gap-1 px-2.5 py-1.5 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150",children:[m.jsx(Nl,{className:"w-3.5 h-3.5"}),"Grant"]}),m.jsxs("button",{onClick:()=>o(L.user),className:"flex items-center gap-1 px-2.5 py-1.5 text-xs bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors duration-150",children:[m.jsx(ai,{className:"w-3.5 h-3.5"}),"Drop"]})]})]}),b===L.user&&m.jsxs("div",{className:"border-t border-gray-700 px-4 py-3 bg-gray-850",children:[m.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Database Grants"}),A===L.user?m.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-xs py-2",children:[m.jsxs("svg",{className:"w-3 h-3 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading grants..."]}):(j[L.user]??[]).length===0?m.jsx("p",{className:"text-xs text-gray-500",children:"No database-specific grants."}):m.jsx("div",{className:"rounded border border-gray-700 overflow-hidden",children:m.jsxs("table",{className:"min-w-full text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[m.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400",children:"Database"}),m.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400",children:"Privilege"}),m.jsx("th",{className:"px-3 py-2 text-right font-semibold text-gray-400",children:"Actions"})]})}),m.jsx("tbody",{children:(j[L.user]??[]).map((I,B)=>m.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[m.jsx("td",{className:"px-3 py-2 font-mono text-blue-300",children:I.database}),m.jsx("td",{className:"px-3 py-2 text-gray-300",children:I.privilege}),m.jsx("td",{className:"px-3 py-2 text-right",children:m.jsx("button",{onClick:()=>_(L.user,I.database,I.privilege),className:"px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white rounded transition-colors duration-150",children:"Revoke"})})]},B))})]})})]})]},L.user))}),l&&m.jsx(Qf,{title:"Drop User",message:`Are you sure you want to drop the user "${l}"? This action cannot be undone.`,confirmLabel:"Drop User",onConfirm:()=>M(l),onCancel:()=>o(null)}),u&&m.jsx(Fme,{username:u,onClose:()=>h(null),onSuccess:e,onError:t}),d&&m.jsx(Vme,{username:d,databases:y,onClose:()=>{p(null)},onSuccess:L=>{e(L),b===d&&we.getUserGrants(d).then(I=>N(B=>({...B,[d]:I}))).catch(()=>{})},onError:t})]})}function Kme({onError:t}){const[e,n]=w.useState([]),[r,i]=w.useState(!1),[a,l]=w.useState(!1),o=async()=>{i(!0),l(!1);try{const v=await we.getDatabases();let b={};try{const j=await we.getShardGroups();for(const N of j){const A=N.database||N.Database,k=N.end_time||N["end time"]||N.expiry_time;if(A&&k){const T=new Date(k);!isNaN(T.getTime())&&(!b[A]||T>b[A])&&(b[A]=T)}}}catch{}const C=await Promise.all(v.map(async j=>{let N=0,A=[],k=0;try{N=await we.getSeriesCardinality(j)}catch{}try{A=await we.getMeasurements(j)}catch{}try{k=(await we.getRetentionPolicies(j)).length}catch{}let T=null;const D=A.slice(0,5);for(const _ of D)try{const I=(await we.query(`SELECT * FROM "${_}" ORDER BY time DESC LIMIT 1`,j,"rfc3339")).results?.[0]?.series?.[0];if(I&&I.values?.[0]){const B=I.columns.indexOf("time"),z=B>=0?String(I.values[0][B]):null;z&&(!T||z>T)&&(T=z)}}catch{}const M=b[j]||null;let E=null;return M&&(E=Math.max(0,Math.floor((Date.now()-M.getTime())/(1e3*60*60*24)))),{name:j,seriesCardinality:N,measurementCount:A.length,rpCount:k,latestShardEnd:M,staleDays:E,lastDataAt:T}}));C.sort((j,N)=>N.seriesCardinality-j.seriesCardinality),n(C),l(!0)}catch(v){t(v?.message??"Analysis failed.")}finally{i(!1)}},u=v=>v.staleDays===null?"":v.staleDays===0?"Today":v.staleDays===1?"1 day ago":`${v.staleDays}d ago`,h=7,d=e.reduce((v,b)=>v+b.seriesCardinality,0),p=e.reduce((v,b)=>v+b.measurementCount,0),y=e.filter(v=>v.staleDays!==null&&v.staleDays>h).length;return m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[m.jsx(xl,{className:"w-5 h-5 text-blue-400"}),"Usage Insights"]}),m.jsxs("button",{onClick:o,disabled:r,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[r?m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):m.jsx(xl,{className:"w-4 h-4"}),r?"Analyzing...":a?"Re-analyze":"Analyze Usage"]})]}),!a&&!r&&m.jsxs("div",{className:"text-center py-16 text-gray-500",children:[m.jsx(xl,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),m.jsx("p",{className:"text-sm",children:'Click "Analyze Usage" to scan all databases.'}),m.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Queries each database for series cardinality, measurements, and shard groups."})]}),r&&m.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[m.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Analyzing databases... this may take a moment."]}),a&&!r&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 mb-6",children:[m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 px-4 py-3",children:[m.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Databases"}),m.jsx("div",{className:"text-lg font-bold text-gray-100",children:e.length})]}),m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 px-4 py-3",children:[m.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Total Series"}),m.jsx("div",{className:"text-lg font-bold text-gray-100",children:d.toLocaleString()})]}),m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 px-4 py-3",children:[m.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Total Measurements"}),m.jsx("div",{className:"text-lg font-bold text-gray-100",children:p.toLocaleString()})]}),m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 px-4 py-3",children:[m.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["Stale (",">","7d)"]}),m.jsx("div",{className:`text-lg font-bold ${y>0?"text-amber-400":"text-green-400"}`,children:y})]})]}),e.length===0?m.jsxs("div",{className:"text-center py-12 text-gray-500",children:[m.jsx($r,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),m.jsx("p",{className:"text-sm",children:"No databases found."})]}):m.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:m.jsxs("table",{className:"min-w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400",children:"Database"}),m.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"Series"}),m.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"Measurements"}),m.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"RPs"}),m.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"Latest Shard"}),m.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"Last Data At"}),m.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-400",children:"Status"})]})}),m.jsx("tbody",{children:e.map(v=>{const b=v.staleDays!==null&&v.staleDays>h,C=v.name==="_internal";return m.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[m.jsxs("td",{className:"px-4 py-3 font-mono text-gray-100",children:[v.name,C&&m.jsx("span",{className:"ml-2 text-[10px] text-gray-500 font-sans",children:"(system)"})]}),m.jsx("td",{className:"px-4 py-3 text-right font-mono text-gray-300",children:v.seriesCardinality.toLocaleString()}),m.jsx("td",{className:"px-4 py-3 text-right font-mono text-gray-300",children:v.measurementCount.toLocaleString()}),m.jsx("td",{className:"px-4 py-3 text-right font-mono text-gray-300",children:v.rpCount}),m.jsx("td",{className:"px-4 py-3 text-right text-gray-400 text-xs",children:u(v)}),m.jsx("td",{className:"px-4 py-3 text-right text-xs font-mono",children:v.lastDataAt?m.jsx("span",{className:"text-gray-300",title:v.lastDataAt,children:(()=>{try{const j=new Date(v.lastDataAt);if(!isNaN(j.getTime()))return j.toLocaleString()}catch{}return v.lastDataAt})()}):m.jsx("span",{className:"text-gray-600",children:""})}),m.jsx("td",{className:"px-4 py-3 text-center",children:b&&!C?m.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-semibold bg-amber-900/60 text-amber-300 border border-amber-700",children:[m.jsx(Qu,{className:"w-3 h-3"}),"Stale"]}):v.staleDays!==null?m.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-green-900/40 text-green-400 border border-green-800",children:"Active"}):m.jsx("span",{className:"text-gray-600 text-xs",children:""})})]},v.name)})})]})})]})]})}function Gme({onError:t,onSuccess:e}){const[n,r]=w.useState([]),[i,a]=w.useState(!0),[l,o]=w.useState(!1),[u,h]=w.useState([]),[d,p]=w.useState(null),[y,v]=w.useState(""),[b,C]=w.useState(""),[j,N]=w.useState(""),[A,k]=w.useState("ANY"),[T,D]=w.useState(""),[M,E]=w.useState(!1),[_,L]=w.useState(""),I=w.useCallback(async()=>{a(!0);try{const F=await we.getSubscriptions();r(F)}catch(F){t(F?.message??"Failed to load subscriptions.")}finally{a(!1)}},[t]),B=w.useCallback(async()=>{try{h(await we.getDatabases())}catch{}},[]);w.useEffect(()=>{I(),B()},[I,B]);const z=async(F,H,V)=>{p(null);try{await we.query(`DROP SUBSCRIPTION "${F}" ON "${H}"."${V}"`),e(`Subscription "${F}" dropped.`),I()}catch(Q){t(Q?.message??`Failed to drop subscription "${F}".`)}},$=async()=>{if(!j.trim()){L("Subscription name is required.");return}if(!y){L("Database is required.");return}if(!b.trim()){L("Retention policy is required.");return}if(!T.trim()){L("At least one destination is required.");return}E(!0),L("");try{const F=T.split(",").map(H=>`'${H.trim()}'`).join(", ");await we.query(`CREATE SUBSCRIPTION "${j.trim()}" ON "${y}"."${b.trim()}" DESTINATIONS ${A} ${F}`),e("Subscription created successfully."),o(!1),N(""),C(""),D(""),I()}catch(F){L(F?.message??"Failed to create subscription.")}finally{E(!1)}},ee=n.reduce((F,H)=>F+(H.values?.length??0),0);return m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[m.jsx(Yv,{className:"w-5 h-5 text-blue-400"}),"Subscriptions",!i&&m.jsxs("span",{className:"ml-1 text-xs font-normal text-gray-500",children:["(",ee," total)"]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:I,disabled:i,title:"Refresh",className:"p-2 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-gray-200 rounded-md border border-gray-700 transition-colors duration-150 disabled:opacity-50",children:m.jsx(bt,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),m.jsxs("button",{onClick:()=>{B(),o(!0)},className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150",children:[m.jsx(Pi,{className:"w-4 h-4"})," Create Subscription"]})]})]}),i?m.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[m.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading subscriptions..."]}):ee===0?m.jsxs("div",{className:"text-center py-16 text-gray-500",children:[m.jsx(Yv,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),m.jsx("p",{className:"text-sm",children:"No subscriptions found."})]}):m.jsx("div",{className:"flex flex-col gap-4",children:n.filter(F=>F.values?.length>0).map(F=>m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[m.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 border-b border-gray-700 bg-gray-800",children:[m.jsx($r,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),m.jsx("span",{className:"text-sm font-semibold text-gray-200 font-mono",children:F.name})]}),m.jsxs("table",{className:"min-w-full text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[(F.columns??[]).map(H=>m.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-400",children:H},H)),m.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-400 w-24",children:"Actions"})]})}),m.jsx("tbody",{children:(F.values??[]).map((H,V)=>{const Q=(F.columns??[]).indexOf("name"),se=(F.columns??[]).indexOf("retention_policy");return m.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[H.map((he,R)=>m.jsx("td",{className:"px-4 py-2.5 text-gray-300 font-mono break-all",children:String(he??"")},R)),m.jsx("td",{className:"px-4 py-2.5 text-right",children:m.jsx("button",{onClick:()=>p({name:H[Q]??"",db:F.name,rp:H[se]??""}),className:"px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white rounded transition-colors duration-150",children:"Drop"})})]},V)})})]})]},F.name))}),d&&m.jsx(Qf,{title:"Drop Subscription",message:`Drop subscription "${d.name}" on "${d.db}"."${d.rp}"?`,confirmLabel:"Drop",onConfirm:()=>z(d.name,d.db,d.rp),onCancel:()=>p(null)}),l&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:m.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[m.jsx(Yv,{className:"w-5 h-5 text-blue-400"})," Create Subscription"]}),_&&m.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono",children:_}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Subscription Name"}),m.jsx("input",{type:"text",value:j,onChange:F=>N(F.target.value),placeholder:"my_subscription",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Database"}),m.jsxs("select",{value:y,onChange:F=>v(F.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:[m.jsx("option",{value:"",children:"Select database"}),u.map(F=>m.jsx("option",{value:F,children:F},F))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Retention Policy"}),m.jsx("input",{type:"text",value:b,onChange:F=>C(F.target.value),placeholder:"autogen",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Mode"}),m.jsxs("select",{value:A,onChange:F=>k(F.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:[m.jsx("option",{value:"ANY",children:"ANY"}),m.jsx("option",{value:"ALL",children:"ALL"})]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Destinations ",m.jsx("span",{className:"text-xs text-gray-500",children:"(comma-separated URIs)"})]}),m.jsx("input",{type:"text",value:T,onChange:F=>D(F.target.value),placeholder:"udp://host1:9090, udp://host2:9090",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:()=>o(!1),disabled:M,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),m.jsx("button",{onClick:$,disabled:M,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:"Create"})]})]})})]})}function Yme({onError:t}){const[e,n]=w.useState([]),[r,i]=w.useState([]),[a,l]=w.useState({}),[o,u]=w.useState(!1),[h,d]=w.useState(!1),p=async()=>{u(!0);try{const[b,C]=await Promise.all([we.getUsers(),we.getDatabases()]);n(Array.isArray(b)?b:[]),i(C);const j={};await Promise.all((b??[]).map(async N=>{try{const A=await we.getUserGrants(N.user),k={};for(const T of A)k[T.database]=T.privilege;j[N.user]=k}catch{j[N.user]={}}})),l(j),d(!0)}catch(b){t(b?.message??"Failed to load privilege matrix.")}finally{u(!1)}},y=b=>!b||b==="NO PRIVILEGES"?"text-gray-600":b==="ALL PRIVILEGES"?"text-green-400":b==="READ"?"text-blue-400":b==="WRITE"?"text-amber-400":"text-gray-300",v=b=>!b||b==="NO PRIVILEGES"?"-":b==="ALL PRIVILEGES"?"ALL":b;return m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[m.jsx(Nl,{className:"w-5 h-5 text-blue-400"}),"Privilege Matrix"]}),m.jsxs("button",{onClick:p,disabled:o,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[o?m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):m.jsx(bt,{className:"w-4 h-4"}),o?"Loading...":h?"Refresh":"Load Matrix"]})]}),!h&&!o&&m.jsxs("div",{className:"text-center py-16 text-gray-500",children:[m.jsx(Nl,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),m.jsx("p",{className:"text-sm",children:'Click "Load Matrix" to view the per-database privilege grid.'}),m.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Shows SHOW GRANTS for each user across all databases."})]}),o&&m.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[m.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading privilege matrix..."]}),h&&!o&&m.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-x-auto",children:m.jsxs("table",{className:"min-w-full text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 sticky left-0 bg-gray-800 z-10",children:"User"}),m.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-400",children:"Admin"}),r.map(b=>m.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-400 font-mono whitespace-nowrap",children:b},b))]})}),m.jsx("tbody",{children:e.map(b=>m.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[m.jsx("td",{className:"px-4 py-3 font-mono text-gray-100 sticky left-0 bg-gray-800",children:b.user}),m.jsx("td",{className:"px-4 py-3 text-center",children:b.admin?m.jsx("span",{className:"text-amber-400 font-semibold",children:"Yes"}):m.jsx("span",{className:"text-gray-600",children:"No"})}),r.map(C=>{const j=a[b.user]?.[C]??"";return m.jsx("td",{className:`px-4 py-3 text-center font-semibold ${y(j)}`,children:v(j)},C)})]},b.user))})]})})]})}const Qme=[{id:"databases",label:"Databases & RPs"},{id:"continuous_queries",label:"Continuous Queries"},{id:"users",label:"Users"},{id:"subscriptions",label:"Subscriptions"},{id:"privileges",label:"Privileges"},{id:"insights",label:"Usage Insights"}];function Xme(){const[t,e]=w.useState("databases"),[n,r]=w.useState(""),[i,a]=w.useState(""),[l,o]=w.useState(0);w.useEffect(()=>{const d=()=>{o(p=>p+1),r(""),a("")};return window.addEventListener("tidedb-connection-change",d),()=>window.removeEventListener("tidedb-connection-change",d)},[]);const u=w.useCallback(d=>{r(d),a("")},[]),h=w.useCallback(d=>{a(d),r("")},[]);return m.jsxs("div",{className:"min-h-full bg-gray-950 text-gray-100",children:[m.jsxs("div",{className:"border-b border-gray-800 px-6 py-4",children:[m.jsxs("h1",{className:"text-xl font-bold text-gray-100 flex items-center gap-2",children:[m.jsx($r,{className:"w-6 h-6 text-blue-400"}),"Database Administration"]}),m.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Manage databases, retention policies, continuous queries, and users."})]}),m.jsx("div",{className:"flex items-center gap-1 px-6 pt-4 pb-0",children:Qme.map(d=>m.jsx("button",{onClick:()=>{e(d.id),r(""),a("")},className:`px-4 py-2 text-sm font-medium rounded-t-md transition-colors duration-150 ${t===d.id?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-gray-200 hover:bg-gray-700"}`,children:d.label},d.id))}),m.jsxs("div",{className:"px-6 py-5",children:[n&&m.jsx(Rme,{message:n,onDismiss:()=>r("")}),i&&m.jsx(Lme,{message:i,onDismiss:()=>a("")}),t==="databases"&&m.jsx(Ume,{onError:u,onSuccess:h},l),t==="continuous_queries"&&m.jsx($me,{onError:u,onSuccess:h},l),t==="users"&&m.jsx(Wme,{onError:u,onSuccess:h},l),t==="subscriptions"&&m.jsx(Gme,{onError:u,onSuccess:h},l),t==="privileges"&&m.jsx(Yme,{onError:u},l),t==="insights"&&m.jsx(Kme,{onError:u},l)]})]})}const Zme=[{value:"ns",label:"ns  Nanoseconds"},{value:"us",label:"us  Microseconds"},{value:"ms",label:"ms  Milliseconds"},{value:"s",label:"s   Seconds"}],Jme=`Enter line protocol data here...
cpu,host=server01 usage_idle=98.2 1622505600000000000`;function u1(t){return t.split(`
`).filter(e=>e.trim().length>0&&!e.trim().startsWith("#")).length}function pS(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const a=t[i];r?a==='"'&&t[i+1]==='"'?(n+='"',i++):a==='"'?r=!1:n+=a:a==='"'?r=!0:a===","?(e.push(n),n=""):n+=a}return e.push(n),e}function i3(t,e,n,r){const i=t.split(`
`).filter(o=>o.trim().length>0);if(i.length<2)return"";const a=pS(i[0]).map(o=>o.trim()),l=[];for(let o=1;o<i.length;o++){const u=pS(i[o]);if(u.length!==a.length)continue;let h="";const d=[];let p="";if(a.forEach((v,b)=>{const C=u[b]?.trim()??"";if(C)if(v===r){const j=Number(C);if(!isNaN(j))p=String(j);else{const N=new Date(C);isNaN(N.getTime())||(p=String(N.getTime()*1e6))}}else if(n.has(v)){const j=C.replace(/ /g,"\\ ").replace(/,/g,"\\,").replace(/=/g,"\\=");h+=`,${v}=${j}`}else{const j=Number(C);!isNaN(j)&&C!==""?d.push(`${v}=${C}`):C==="true"||C==="false"||C==="TRUE"||C==="FALSE"?d.push(`${v}=${C.toLowerCase()}`):d.push(`${v}="${C.replace(/"/g,'\\"')}"`)}}),d.length===0)continue;let y=e+h+" "+d.join(",");p&&(y+=" "+p),l.push(y)}return l.join(`
`)}function epe({onConvert:t}){const[e,n]=w.useState(""),[r,i]=w.useState([]),[a,l]=w.useState(""),[o,u]=w.useState(new Set),[h,d]=w.useState(""),[p,y]=w.useState(""),v=w.useRef(null),b=w.useCallback(k=>{const T=k.split(`
`)[0]??"",D=pS(T).map(E=>E.trim()).filter(Boolean);i(D);const M=D.find(E=>/^(time|timestamp|date|datetime)$/i.test(E));M&&d(M)},[]),C=k=>{const T=k.target.files?.[0];if(!T)return;const D=new FileReader;D.onload=M=>{const E=M.target?.result;typeof E=="string"&&(n(E),b(E))},D.readAsText(T),k.target.value=""},j=k=>{u(T=>{const D=new Set(T);return D.has(k)?D.delete(k):D.add(k),D})},N=()=>{if(!a.trim()||!e)return;const k=i3(e,a.trim(),o,h);y(k)},A=()=>{if(!a.trim()||!e)return;const k=i3(e,a.trim(),o,h);t(k)};return m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4 mt-6",children:[m.jsxs("h3",{className:"text-sm font-semibold text-gray-200 mb-3 flex items-center gap-2",children:[m.jsx(pH,{className:"w-4 h-4 text-blue-400"}),"CSV Import"]}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("button",{onClick:()=>v.current?.click(),className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 text-gray-200 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[m.jsx(Wm,{className:"w-4 h-4"})," Upload CSV"]}),m.jsx("input",{ref:v,type:"file",accept:".csv",className:"hidden",onChange:C}),e&&m.jsxs("span",{className:"text-xs text-gray-400",children:[e.split(`
`).length-1," rows detected"]})]}),r.length>0&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Measurement Name"}),m.jsx("input",{type:"text",value:a,onChange:k=>l(k.target.value),placeholder:"my_measurement",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150 max-w-xs"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Timestamp Column"}),m.jsxs("select",{value:h,onChange:k=>d(k.target.value),className:"bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150 max-w-xs",children:[m.jsx("option",{value:"",children:"(none  auto timestamp)"}),r.map(k=>m.jsx("option",{value:k,children:k},k))]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-xs font-medium text-gray-400 mb-2",children:["Tag Columns ",m.jsx("span",{className:"text-gray-500",children:"(click to toggle, unselected = field)"})]}),m.jsx("div",{className:"flex flex-wrap gap-2",children:r.filter(k=>k!==h).map(k=>m.jsx("button",{onClick:()=>j(k),className:`px-2.5 py-1 text-xs rounded-md border transition-colors duration-150 font-mono ${o.has(k)?"bg-blue-600 border-blue-500 text-white":"bg-gray-700 border-gray-600 text-gray-300 hover:bg-gray-600"}`,children:k},k))})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:N,disabled:!a.trim(),className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 text-gray-200 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:"Preview"}),m.jsxs("button",{onClick:A,disabled:!a.trim(),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[m.jsx(LU,{className:"w-4 h-4"})," Convert to Line Protocol"]})]}),p&&m.jsx("div",{className:"bg-gray-900 rounded-md border border-gray-700 p-3 max-h-48 overflow-y-auto",children:m.jsxs("pre",{className:"text-xs text-gray-300 font-mono whitespace-pre-wrap",children:[p.split(`
`).slice(0,20).join(`
`),p.split(`
`).length>20?`
... (${p.split(`
`).length-20} more lines)`:""]})})]})]})]})}function tpe(){const[t,e]=w.useState([]),[n,r]=w.useState(""),[i,a]=w.useState([]),[l,o]=w.useState(""),[u,h]=w.useState("ns"),[d,p]=w.useState(""),[y,v]=w.useState({kind:"idle"}),[b,C]=w.useState(!1),j=w.useRef(null),N=w.useCallback(()=>{we.getDatabases().then(E=>{e(E),E.length>0?r(E[0]):(r(""),a([]),o(""))}).catch(()=>{e([])})},[]);w.useEffect(()=>{N()},[N]),w.useEffect(()=>{const E=()=>{N(),v({kind:"idle"})};return window.addEventListener("tidedb-connection-change",E),()=>window.removeEventListener("tidedb-connection-change",E)},[N]),w.useEffect(()=>{if(!n){a([]),o("");return}we.getRetentionPolicies(n).then(E=>{a(E);const _=E.find(L=>L.default);o(_?.name??E[0]?.name??"")}).catch(()=>{a([]),o("")})},[n]);const A=async()=>{const E=d.trim();if(!(!n||!E)){C(!0),v({kind:"loading"});try{await we.write(n,E,u,l||void 0);const _=u1(E);v({kind:"success",points:_})}catch(_){v({kind:"error",message:_?.message??"Unknown error"})}finally{C(!1)}}},k=()=>{j.current?.click()},T=E=>{const _=E.target.files?.[0];if(!_)return;const L=new FileReader;L.onload=I=>{const B=I.target?.result;typeof B=="string"&&(p(B),v({kind:"idle"}))},L.readAsText(_),E.target.value=""},D=()=>{p(""),v({kind:"idle"})},M=!!n&&d.trim().length>0;return m.jsxs("div",{className:"flex flex-col h-full bg-gray-950 text-gray-100 overflow-y-auto",children:[m.jsx("div",{className:"flex items-center gap-3 px-4 py-2 bg-gray-900 border-b border-gray-700 flex-shrink-0",children:m.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Write Data"})}),m.jsx("div",{className:"flex-1 p-6",children:m.jsxs("div",{className:"max-w-4xl mx-auto bg-gray-800 rounded-lg border border-gray-700 p-6 flex flex-col gap-6",children:[m.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[m.jsxs("div",{className:"flex flex-col gap-1.5",children:[m.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Database"}),m.jsxs("select",{value:n,onChange:E=>{r(E.target.value),v({kind:"idle"})},className:"bg-gray-700 border border-gray-600 text-gray-100 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors duration-150 min-w-[160px]",children:[m.jsx("option",{value:"",children:" select database "}),t.map(E=>m.jsx("option",{value:E,children:E},E))]})]}),m.jsxs("div",{className:"flex flex-col gap-1.5",children:[m.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Retention Policy"}),m.jsxs("select",{value:l,onChange:E=>o(E.target.value),disabled:i.length===0,className:"bg-gray-700 border border-gray-600 text-gray-100 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors duration-150 min-w-[160px] disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx("option",{value:"",children:" default "}),i.map(E=>m.jsxs("option",{value:E.name,children:[E.name,E.default?" (default)":""]},E.name))]})]}),m.jsxs("div",{className:"flex flex-col gap-1.5",children:[m.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Precision"}),m.jsx("select",{value:u,onChange:E=>h(E.target.value),className:"bg-gray-700 border border-gray-600 text-gray-100 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors duration-150 min-w-[180px]",children:Zme.map(E=>m.jsx("option",{value:E.value,children:E.label},E.value))})]})]}),m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Line Protocol Data"}),m.jsxs("span",{className:"text-xs text-gray-500",children:[u1(d)," line",u1(d)!==1?"s":""]})]}),m.jsx("div",{className:"rounded-md overflow-hidden border border-gray-600",children:m.jsx(l2,{value:d,onChange:E=>{p(E),(y.kind==="success"||y.kind==="error")&&v({kind:"idle"})},placeholder:Jme,theme:"dark",height:"300px",style:{height:"300px",fontSize:"13px",backgroundColor:"#1f2937"},basicSetup:{lineNumbers:!0,highlightActiveLineGutter:!0,highlightActiveLine:!0,bracketMatching:!1,autocompletion:!1,indentOnInput:!1}})})]}),m.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[m.jsxs("button",{onClick:A,disabled:!M||b,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-900 disabled:text-blue-400 disabled:cursor-not-allowed text-white px-4 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[m.jsx(LH,{className:"w-4 h-4"}),"Write Data"]}),m.jsxs("button",{onClick:k,disabled:b,className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-gray-200 px-4 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[m.jsx(Wm,{className:"w-4 h-4"}),"Upload File"]}),m.jsx("input",{ref:j,type:"file",accept:".txt,.lp",className:"hidden",onChange:T}),m.jsxs("button",{onClick:D,disabled:b,className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-gray-200 px-4 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[m.jsx(ai,{className:"w-4 h-4"}),"Clear"]})]}),y.kind!=="idle"&&m.jsxs("div",{className:"flex items-start gap-3 rounded-md px-4 py-3 text-sm border",style:y.kind==="loading"?{backgroundColor:"rgba(55,65,81,0.5)",borderColor:"#4b5563",color:"#d1d5db"}:y.kind==="success"?{backgroundColor:"rgba(5,46,22,0.6)",borderColor:"#15803d",color:"#86efac"}:{backgroundColor:"rgba(69,10,10,0.6)",borderColor:"#b91c1c",color:"#fca5a5"},children:[y.kind==="loading"&&m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"w-5 h-5 animate-spin flex-shrink-0 mt-0.5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),m.jsx("span",{children:"Writing data..."})]}),y.kind==="success"&&m.jsxs(m.Fragment,{children:[m.jsx(GU,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),m.jsxs("span",{children:[y.points," point",y.points!==1?"s":""," written successfully"]})]}),y.kind==="error"&&m.jsxs(m.Fragment,{children:[m.jsx(z3,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),m.jsx("span",{className:"break-all font-mono text-xs",children:y.message})]})]}),m.jsx(epe,{onConvert:E=>{p(E),v({kind:"idle"})}})]})})]})}function a3(t){return t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}function f1(t){if(!t)return"";try{return new Date(t).toLocaleString()}catch{return t}}function npe(t){const e={};if(!t?.results)return e;for(const n of t.results)if(n.series)for(const r of n.series){const i=(r.name??"").toLowerCase();if(i==="system"){const a=r.columns??[],l=r.values??[];if(l.length===0)continue;const o=l[0],u=h=>{const d=a.indexOf(h);return d>=0?String(o[d]??""):""};e.uptime=u("uptime")||u("upTime")||u("currentTime"),e.pid=u("PID")||u("pid")}if(i==="runtime"){const a=r.columns??[],l=r.values??[];if(l.length===0)continue;const o=l[0],u=h=>{const d=a.indexOf(h);return d>=0?String(o[d]??""):""};e.goVersion=u("version")||u("GOOS"),e.os=u("GOOS"),e.arch=u("GOARCH")}if(i==="build"){const a=r.columns??[],l=r.values??[];if(l.length===0)continue;const o=l[0],u=h=>{const d=a.indexOf(h);return d>=0?String(o[d]??""):""};e.version=u("Version")||u("version"),e.goVersion||(e.goVersion=u("GoVersion")||u("goVersion")),e.os||(e.os=u("OS")||u("os")),e.arch||(e.arch=u("Arch")||u("arch"))}}return e}function s3(t,e,n){if(!t?.results)return 0;for(const r of t.results)if(r.series)for(const i of r.series){if((i.name??"").toLowerCase()!==e.toLowerCase())continue;const l=i.columns??[],o=i.values??[],u=l.indexOf(n);if(!(u<0)&&o.length>0)return Number(o[0][u])||0}return 0}function rpe({message:t,onDismiss:e}){return m.jsxs("div",{className:"flex items-start justify-between bg-red-950/60 border border-red-700 rounded-md px-4 py-3 mb-4 text-sm text-red-300",children:[m.jsx("span",{className:"font-mono break-all",children:t}),m.jsx("button",{onClick:e,className:"ml-4 flex-shrink-0 text-red-400 hover:text-red-200 transition-colors duration-150",children:""})]})}function Uu({icon:t,label:e,value:n}){return m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4 flex flex-col gap-2",children:[m.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs font-semibold uppercase tracking-wider",children:[t,e]}),m.jsx("div",{className:"text-gray-100 text-sm font-mono break-all leading-relaxed",children:n||m.jsx("span",{className:"text-gray-600 italic",children:""})})]})}function l3({active:t,payload:e,label:n}){return!t||!e?.length?null:m.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-xs shadow-lg",children:[m.jsx("p",{className:"text-gray-400 mb-1",children:n}),e.map(r=>m.jsxs("p",{style:{color:r.color},children:[r.name,": ",m.jsx("span",{className:"font-mono font-semibold",children:r.value.toLocaleString()})]},r.dataKey))]})}function Hu({icon:t,title:e,subtitle:n}){return m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx("span",{className:"text-blue-400",children:t}),m.jsx("h2",{className:"text-base font-semibold text-gray-200",children:e}),n&&m.jsx("span",{className:"text-xs text-gray-500",children:n})]})}function o3(t){const e=[];if(!t?.results)return e;for(const n of t.results)for(const r of n.series??[])e.push({name:r.name??"Unknown",columns:r.columns??[],values:r.values??[]});return e}function c3({section:t}){const[e,n]=w.useState(!1);return m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[m.jsxs("button",{onClick:()=>n(r=>!r),className:"flex items-center justify-between w-full px-4 py-3 text-left hover:bg-gray-750 transition-colors duration-150",children:[m.jsx("span",{className:"text-sm font-semibold text-gray-200",children:t.name}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"text-xs text-gray-500",children:[t.columns.length," fields"]}),e?m.jsx(SS,{className:"w-4 h-4 text-gray-400"}):m.jsx(Ms,{className:"w-4 h-4 text-gray-400"})]})]}),e&&t.values.length>0&&m.jsxs("div",{className:"border-t border-gray-700 px-4 py-3",children:[m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:t.columns.map((r,i)=>m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsxs("span",{className:"text-xs text-gray-500 min-w-[120px] font-mono",children:[r,":"]}),m.jsx("span",{className:"text-xs text-gray-200 font-mono break-all",children:String(t.values[0][i]??"")})]},r))}),t.values.length>1&&m.jsx("div",{className:"mt-3 border-t border-gray-700 pt-3",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full text-xs",children:[m.jsx("thead",{children:m.jsx("tr",{className:"border-b border-gray-700",children:t.columns.map(r=>m.jsx("th",{className:"px-2 py-1 text-left font-semibold text-gray-400 whitespace-nowrap",children:r},r))})}),m.jsx("tbody",{children:t.values.map((r,i)=>m.jsx("tr",{className:"border-b border-gray-700 last:border-0",children:r.map((a,l)=>m.jsx("td",{className:"px-2 py-1 text-gray-300 font-mono whitespace-nowrap",children:String(a??"")},l))},i))})]})})})]})]})}function ipe(){const[t,e]=w.useState({}),[n,r]=w.useState(!0),[i,a]=w.useState([]),[l,o]=w.useState([]),[u,h]=w.useState(null),[d,p]=w.useState([]),[y,v]=w.useState(!0),[b,C]=w.useState(0),j=25,[N,A]=w.useState(null),[k,T]=w.useState(""),[D,M]=w.useState([]),[E,_]=w.useState([]),[L,I]=w.useState(!1),[B,z]=w.useState(!1),[$,ee]=w.useState(!1),F=w.useRef(null),H=w.useCallback(async()=>{r(!0);try{const Z=await we.getDiagnostics(),de=npe(Z);try{const G=await we.ping();G.version&&G.version!=="unknown"&&(de.version=G.version)}catch{}e(de)}catch(Z){T(Z?.message??"Failed to load diagnostics.")}finally{r(!1)}},[]),V=w.useCallback(async()=>{try{const Z=await we.getStats(),de=s3(Z,"httpd","pointsWrittenOK"),G=s3(Z,"httpd","queryReq"),me=F.current,Me=me?Math.max(0,de-me.pointsWritten):0,re=me?Math.max(0,G-me.queriesExecuted):0;F.current={pointsWritten:de,queriesExecuted:G};const je=new Date,Ee={time:a3(je),pointsWritten:Me,queriesExecuted:re};a(ue=>{const St=[...ue,Ee];return St.length>60?St.slice(St.length-60):St}),A(je)}catch(Z){T(Z?.message??"Failed to load stats.")}},[]),Q=w.useCallback(async()=>{try{const de=(await we.getRunningQueries()).map(G=>({qid:G.qid??G.id??"",database:G.database??G.db??"",query:G.query??"",duration:G.duration??""}));o(de)}catch(Z){T(Z?.message??"Failed to load running queries.")}},[]),se=w.useCallback(async()=>{v(!0);try{const de=(await we.getShardGroups()).map(G=>({id:G.id??G.shardGroupID??"",database:G.database??G.db??"",retentionPolicy:G.retentionPolicy??G.rp??G.retention_policy??"",startTime:G.startTime??G.start_time??G.start??"",endTime:G.endTime??G.end_time??G.end??"",expiryTime:G.expiryTime??G.expiry_time??G.expiry??""}));p(de)}catch(Z){T(Z?.message??"Failed to load shard groups.")}finally{v(!1)}},[]),he=async Z=>{h(Z);try{await we.killQuery(Number(Z)),await Q()}catch(de){T(de?.message??`Failed to kill query ${Z}.`)}finally{h(null)}},R=w.useCallback(async()=>{I(!0);try{const Z=await we.getDiagnostics();M(o3(Z))}catch(Z){T(Z?.message??"Failed to load diagnostics.")}finally{I(!1)}},[]),W=w.useCallback(async()=>{z(!0);try{const Z=await we.getStats();_(o3(Z))}catch(Z){T(Z?.message??"Failed to load stats.")}finally{z(!1)}},[]),fe=async()=>{ee(!0);try{const Z=await we.backup(),de=URL.createObjectURL(Z),G=document.createElement("a");G.href=de,G.download=`tidedb-backup-${new Date().toISOString().replace(/[:.]/g,"-")}.tar.gz`,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(de)}catch(Z){T(Z?.message??"Backup failed.")}finally{ee(!1)}};return w.useEffect(()=>{H(),se()},[H,se]),w.useEffect(()=>{const Z=()=>{F.current=null,a([]),M([]),_([]),T(""),H(),se()};return window.addEventListener("tidedb-connection-change",Z),()=>window.removeEventListener("tidedb-connection-change",Z)},[H,se]),w.useEffect(()=>{V(),Q();const Z=setInterval(()=>{V(),Q()},5e3);return()=>clearInterval(Z)},[V,Q]),m.jsxs("div",{className:"min-h-full bg-gray-950 text-gray-100",children:[m.jsxs("div",{className:"border-b border-gray-800 px-6 py-4 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-xl font-bold text-gray-100 flex items-center gap-2",children:[m.jsx(cl,{className:"w-6 h-6 text-blue-400"}),"System Health"]}),m.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Live diagnostics, performance metrics, and active queries."})]}),m.jsx("div",{className:"flex items-center gap-3",children:N&&m.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1.5",children:[m.jsx(bt,{className:"w-3 h-3"}),"Last updated: ",a3(N)]})})]}),m.jsxs("div",{className:"px-6 py-5 flex flex-col gap-8",children:[k&&m.jsx(rpe,{message:k,onDismiss:()=>T("")}),m.jsxs("section",{children:[m.jsx(Hu,{icon:m.jsx(y1,{className:"w-5 h-5"}),title:"Server Information"}),n?m.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm py-4",children:[m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading server info..."]}):m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[m.jsx(Uu,{icon:m.jsx(cl,{className:"w-3.5 h-3.5"}),label:"Version",value:t.version&&t.version!=="unknown"?t.version:""}),m.jsx(Uu,{icon:m.jsx(Qo,{className:"w-3.5 h-3.5"}),label:"Uptime",value:t.uptime??""}),m.jsx(Uu,{icon:m.jsx(rH,{className:"w-3.5 h-3.5"}),label:"Go Version",value:t.goVersion??""}),m.jsx(Uu,{icon:m.jsx(y1,{className:"w-3.5 h-3.5"}),label:"OS / Arch",value:t.os&&t.arch?`${t.os} / ${t.arch}`:t.os??t.arch??""}),m.jsx(Uu,{icon:m.jsx(Yu,{className:"w-3.5 h-3.5"}),label:"PID",value:t.pid??""})]})]}),m.jsxs("section",{children:[m.jsx(Hu,{icon:m.jsx(cl,{className:"w-5 h-5"}),title:"Performance Metrics",subtitle:"(auto-refresh every 5s, last 60 samples)"}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[m.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"Points Written / interval"}),i.length===0?m.jsx("div",{className:"flex items-center justify-center h-40 text-gray-600 text-sm",children:"Collecting data..."}):m.jsx($p,{width:"100%",height:180,children:m.jsxs(bg,{data:i,margin:{top:4,right:8,left:0,bottom:0},children:[m.jsx(Vf,{strokeDasharray:"3 3",stroke:"#374151"}),m.jsx(Gf,{dataKey:"time",tick:{fill:"#9ca3af",fontSize:10},tickLine:!1,axisLine:{stroke:"#374151"},interval:"preserveStartEnd"}),m.jsx(Yf,{tick:{fill:"#9ca3af",fontSize:10},tickLine:!1,axisLine:!1,width:40}),m.jsx(hg,{content:m.jsx(l3,{})}),m.jsx(Kf,{type:"monotone",dataKey:"pointsWritten",name:"Points Written",stroke:"#3b82f6",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"#3b82f6"}})]})})]}),m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[m.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"Queries Executed / interval"}),i.length===0?m.jsx("div",{className:"flex items-center justify-center h-40 text-gray-600 text-sm",children:"Collecting data..."}):m.jsx($p,{width:"100%",height:180,children:m.jsxs(bg,{data:i,margin:{top:4,right:8,left:0,bottom:0},children:[m.jsx(Vf,{strokeDasharray:"3 3",stroke:"#374151"}),m.jsx(Gf,{dataKey:"time",tick:{fill:"#9ca3af",fontSize:10},tickLine:!1,axisLine:{stroke:"#374151"},interval:"preserveStartEnd"}),m.jsx(Yf,{tick:{fill:"#9ca3af",fontSize:10},tickLine:!1,axisLine:!1,width:40}),m.jsx(hg,{content:m.jsx(l3,{})}),m.jsx(Kf,{type:"monotone",dataKey:"queriesExecuted",name:"Queries Executed",stroke:"#22c55e",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"#22c55e"}})]})})]})]})]}),m.jsxs("section",{children:[m.jsx(Hu,{icon:m.jsx(cl,{className:"w-5 h-5"}),title:"Active Queries",subtitle:"(auto-refresh every 5s)"}),m.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:l.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-600",children:[m.jsx(cl,{className:"w-8 h-8 mb-3 opacity-30"}),m.jsx("p",{className:"text-sm",children:"No active queries."})]}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap w-20",children:"Query ID"}),m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap w-36",children:"Database"}),m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400",children:"Query"}),m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap w-32",children:"Duration"}),m.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400 whitespace-nowrap w-24",children:"Actions"})]})}),m.jsx("tbody",{children:l.map(Z=>m.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[m.jsx("td",{className:"px-4 py-3 font-mono text-gray-300 text-xs",children:String(Z.qid)}),m.jsx("td",{className:"px-4 py-3 font-mono text-blue-300 text-xs whitespace-nowrap",children:Z.database||m.jsx("span",{className:"text-gray-600",children:""})}),m.jsx("td",{className:"px-4 py-3 font-mono text-gray-200 text-xs break-all max-w-xs",children:m.jsx("span",{className:"whitespace-pre-wrap leading-relaxed",children:Z.query})}),m.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs font-mono whitespace-nowrap",children:Z.duration||m.jsx("span",{className:"text-gray-600",children:""})}),m.jsx("td",{className:"px-4 py-3 text-right",children:m.jsxs("button",{onClick:()=>he(Z.qid),disabled:u===Z.qid,className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 whitespace-nowrap",children:[u===Z.qid?m.jsxs("svg",{className:"w-3 h-3 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):m.jsx(z3,{className:"w-3 h-3"}),"Kill"]})})]},Z.qid))})]})})})]}),m.jsxs("section",{children:[m.jsx(Hu,{icon:m.jsx(Yu,{className:"w-5 h-5"}),title:"Shard Groups"}),m.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:y?m.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm px-4 py-6",children:[m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading shard groups..."]}):d.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-600",children:[m.jsx(Yu,{className:"w-8 h-8 mb-3 opacity-30"}),m.jsx("p",{className:"text-sm",children:"No shard groups found."})]}):(()=>{const Z=Math.ceil(d.length/j),de=Math.min(b,Z-1),G=d.slice(de*j,(de+1)*j);return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap w-16",children:"ID"}),m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Database"}),m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Retention Policy"}),m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Start Time"}),m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"End Time"}),m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Expiry Time"})]})}),m.jsx("tbody",{children:G.map((me,Me)=>m.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[m.jsx("td",{className:"px-4 py-3 font-mono text-gray-300 text-xs",children:String(me.id)}),m.jsx("td",{className:"px-4 py-3 font-mono text-blue-300 text-xs whitespace-nowrap",children:me.database||m.jsx("span",{className:"text-gray-600",children:""})}),m.jsx("td",{className:"px-4 py-3 font-mono text-gray-300 text-xs whitespace-nowrap",children:me.retentionPolicy||m.jsx("span",{className:"text-gray-600",children:""})}),m.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs whitespace-nowrap",children:f1(me.startTime)}),m.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs whitespace-nowrap",children:f1(me.endTime)}),m.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs whitespace-nowrap",children:f1(me.expiryTime)})]},`${me.id}-${Me}`))})]})}),Z>1&&m.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-gray-700",children:[m.jsxs("span",{className:"text-xs text-gray-500",children:[d.length.toLocaleString()," shard groups  page ",de+1," of ",Z]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("button",{onClick:()=>C(0),disabled:de===0,className:"px-2 py-1 text-xs text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:"First"}),m.jsx("button",{onClick:()=>C(me=>Math.max(0,me-1)),disabled:de===0,className:"p-1 text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:m.jsx(FU,{size:14})}),m.jsx("button",{onClick:()=>C(me=>Math.min(Z-1,me+1)),disabled:de>=Z-1,className:"p-1 text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:m.jsx(hc,{size:14})}),m.jsx("button",{onClick:()=>C(Z-1),disabled:de>=Z-1,className:"px-2 py-1 text-xs text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:"Last"})]})]})]})})()})]}),m.jsxs("section",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-blue-400",children:m.jsx(H3,{className:"w-5 h-5"})}),m.jsx("h2",{className:"text-base font-semibold text-gray-200",children:"SHOW DIAGNOSTICS"}),m.jsx("span",{className:"text-xs text-gray-500",children:"(all sections)"})]}),m.jsxs("button",{onClick:R,disabled:L,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[L?m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):m.jsx(bt,{className:"w-4 h-4"}),D.length>0?"Refresh":"Load"]})]}),D.length===0&&!L&&m.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:'Click "Load" to view all diagnostic sections.'}),L&&m.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[m.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading diagnostics..."]}),D.length>0&&!L&&m.jsx("div",{className:"flex flex-col gap-2",children:D.map(Z=>m.jsx(c3,{section:Z},Z.name))})]}),m.jsxs("section",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-blue-400",children:m.jsx(xl,{className:"w-5 h-5"})}),m.jsx("h2",{className:"text-base font-semibold text-gray-200",children:"SHOW STATS"}),m.jsx("span",{className:"text-xs text-gray-500",children:"(all modules)"})]}),m.jsxs("button",{onClick:W,disabled:B,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[B?m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):m.jsx(bt,{className:"w-4 h-4"}),E.length>0?"Refresh":"Load"]})]}),E.length===0&&!B&&m.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:'Click "Load" to view all stats modules.'}),B&&m.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[m.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading stats..."]}),E.length>0&&!B&&m.jsx("div",{className:"flex flex-col gap-2",children:E.map((Z,de)=>m.jsx(c3,{section:Z},`${Z.name}-${de}`))})]}),m.jsxs("section",{children:[m.jsx(Hu,{icon:m.jsx(cf,{className:"w-5 h-5"}),title:"Backup"}),m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[m.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Download a portable backup snapshot via the debug endpoint. This creates a tar.gz archive of the current data."}),m.jsxs("button",{onClick:fe,disabled:$,className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[$?m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):m.jsx(cf,{className:"w-4 h-4"}),$?"Downloading...":"Download Backup"]})]})]})]})]})}const ape="timeseriesui_connections",spe="timeseriesui_active_connection";function u3(){try{const t=localStorage.getItem(spe)||localStorage.getItem("tidedb-active-connection");if(!t)return null;const e=localStorage.getItem(ape)||localStorage.getItem("tidedb-connections");return JSON.parse(e||"[]").find(r=>r.id===t)||null}catch{return null}}function br(){const[t,e]=w.useState(u3);w.useEffect(()=>{const r=()=>e(u3());return window.addEventListener("tidedb-connection-change",r),()=>window.removeEventListener("tidedb-connection-change",r)},[]);const n=t?.username?{username:t.username,password:t.password||""}:void 0;return{connection:t,auth:n}}class lpe{proxyBase=da+"/proxy/prometheus/";amProxyBase=da+"/proxy/alertmanager/";buildURL(e,n,r,i){const a=new URLSearchParams;if(a.set("target",e),a.set("path",n),r)for(const[l,o]of Object.entries(r))o!==void 0&&o!==""&&a.set(l,o);return(i||this.proxyBase)+"?"+a.toString()}async doFetch(e,n,r){const i=await fetch(e,{...n,headers:{Accept:"application/json",...r,...n?.headers||{}}});if(!i.ok){const a=await i.text();throw new Error(`Request failed (${i.status}): ${a}`)}return i.json()}async instantQuery(e,n,r,i){const a={query:n};r&&(a.time=r);const l=this.buildURL(e,"/api/v1/query",a);return this.doFetch(l,void 0,this.authHeaders(i))}async rangeQuery(e,n,r,i,a,l){const o={query:n,start:r,end:i,step:a},u=this.buildURL(e,"/api/v1/query_range",o);return this.doFetch(u,void 0,this.authHeaders(l))}async getLabels(e,n){const r=this.buildURL(e,"/api/v1/labels");return this.doFetch(r,void 0,this.authHeaders(n))}async getLabelValues(e,n,r){const i=this.buildURL(e,`/api/v1/label/${encodeURIComponent(n)}/values`);return this.doFetch(i,void 0,this.authHeaders(r))}async getMetadata(e,n,r,i){const a={};r&&(a.metric=r),i&&(a.limit=String(i));const l=this.buildURL(e,"/api/v1/metadata",a);return this.doFetch(l,void 0,this.authHeaders(n))}async getSeries(e,n,r){const i=new URLSearchParams;i.set("target",e),i.set("path","/api/v1/series");for(const l of n)i.append("match[]",l);const a=this.proxyBase+"?"+i.toString();return this.doFetch(a,void 0,this.authHeaders(r))}async getTargets(e,n,r){const i={};n&&(i.state=n);const a=this.buildURL(e,"/api/v1/targets",i);return this.doFetch(a,void 0,this.authHeaders(r))}async getRules(e,n,r){const i={};n&&(i.type=n);const a=this.buildURL(e,"/api/v1/rules",i);return this.doFetch(a,void 0,this.authHeaders(r))}async getAlerts(e,n){const r=this.buildURL(e,"/api/v1/alerts");return this.doFetch(r,void 0,this.authHeaders(n))}async getBuildInfo(e,n){const r=this.buildURL(e,"/api/v1/status/buildinfo");return this.doFetch(r,void 0,this.authHeaders(n))}async getRuntimeInfo(e,n){const r=this.buildURL(e,"/api/v1/status/runtimeinfo");return this.doFetch(r,void 0,this.authHeaders(n))}async getTSDBStatus(e,n){const r=this.buildURL(e,"/api/v1/status/tsdb");return this.doFetch(r,void 0,this.authHeaders(n))}async getFlags(e,n){const r=this.buildURL(e,"/api/v1/status/flags");return this.doFetch(r,void 0,this.authHeaders(n))}async getConfig(e,n){const r=this.buildURL(e,"/api/v1/status/config");return this.doFetch(r,void 0,this.authHeaders(n))}async getAMAlerts(e,n){const r=this.buildURL(e,"/api/v2/alerts",void 0,this.amProxyBase);return this.doFetch(r,void 0,this.authHeaders(n))}async getAMSilences(e,n){const r=this.buildURL(e,"/api/v2/silences",void 0,this.amProxyBase);return this.doFetch(r,void 0,this.authHeaders(n))}async createAMSilence(e,n,r){const i=this.buildURL(e,"/api/v2/silences",void 0,this.amProxyBase);return this.doFetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},this.authHeaders(r))}async deleteAMSilence(e,n,r){const i=this.buildURL(e,`/api/v2/silence/${n}`,void 0,this.amProxyBase);await fetch(i,{method:"DELETE",headers:this.authHeaders(r)})}async getAMStatus(e,n){const r=this.buildURL(e,"/api/v2/status",void 0,this.amProxyBase);return this.doFetch(r,void 0,this.authHeaders(n))}async testConnection(e,n){try{return(await this.getBuildInfo(e,n)).status==="success"}catch{return!1}}async testAlertmanager(e,n){try{return await this.getAMStatus(e,n),!0}catch{return!1}}authHeaders(e){const n={};return e?.username&&(n["X-Proxy-Username"]=e.username),e?.password&&(n["X-Proxy-Password"]=e.password),n}}const Mt=new lpe,km=["#3b82f6","#ef4444","#22c55e","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#f97316","#14b8a6","#a855f7","#6366f1","#84cc16","#e11d48","#0ea5e9","#d946ef"],f3=[{label:"15m",seconds:900},{label:"1h",seconds:3600},{label:"3h",seconds:10800},{label:"6h",seconds:21600},{label:"12h",seconds:43200},{label:"1d",seconds:86400},{label:"7d",seconds:604800}];function Om(t){const e=t.__name__||"",n=Object.entries(t).filter(([r])=>r!=="__name__").map(([r,i])=>`${r}="${i}"`).join(", ");return n?`${e}{${n}}`:e}function ope(t){return t<=3600?"15s":t<=21600?"60s":t<=86400?"300s":"600s"}function h3(){const{connection:t,auth:e}=br(),[n,r]=w.useState("up"),[i,a]=w.useState(1),[l,o]=w.useState(null),[u,h]=w.useState([]),[d,p]=w.useState([]),[y,v]=w.useState(!1),[b,C]=w.useState(null),[j,N]=w.useState(null),[A,k]=w.useState("chart"),[T,D]=w.useState(""),[M,E]=w.useState([]),[_,L]=w.useState(""),[I,B]=w.useState(!1),[z,$]=w.useState(()=>{try{return JSON.parse(localStorage.getItem("tsui_prom_history")||"[]")}catch{return[]}}),ee=w.useRef(null);w.useEffect(()=>{!t||t.type!=="prometheus"&&t.type!=="victoriametrics"||Mt.getLabelValues(t.url,"__name__",e).then(R=>{R.status==="success"&&E(R.data||[])}).catch(()=>{})},[t,e]);const F=w.useCallback(async()=>{if(!t||!n.trim())return;v(!0),C(null);const R=Date.now();try{const W=f3[i],fe=Math.floor(Date.now()/1e3),Z=(fe-W.seconds).toString(),de=fe.toString(),G=ope(W.seconds),me=await Mt.rangeQuery(t.url,n.trim(),Z,de,G,e);if(N(Date.now()-R),D(JSON.stringify(me,null,2)),me.status==="error"){C(me.error||"Query failed");return}if(o(me.data.resultType),me.data.resultType==="matrix")h(me.data.result),p([]);else{const Me=await Mt.instantQuery(t.url,n.trim(),void 0,e);D(JSON.stringify(Me,null,2)),Me.data.resultType==="vector"&&(p(Me.data.result),h([]),o("vector"))}$(Me=>{const re=Me.filter(Ee=>Ee!==n.trim()),je=[n.trim(),...re].slice(0,30);return localStorage.setItem("tsui_prom_history",JSON.stringify(je)),je})}catch(W){C(W.message),N(Date.now()-R)}finally{v(!1)}},[t,n,i,e]),H=R=>{(R.ctrlKey||R.metaKey)&&R.key==="Enter"&&(R.preventDefault(),F())},V=(()=>{if(l!=="matrix"||u.length===0)return[];const R=new Set;return u.forEach(fe=>fe.values.forEach(([Z])=>R.add(Z))),Array.from(R).sort().map(fe=>{const Z={time:fe*1e3};return u.forEach((de,G)=>{const me=de.values.find(([Me])=>Me===fe);Z[`series_${G}`]=me?parseFloat(me[1]):null}),Z})})(),Q=_?M.filter(R=>R.toLowerCase().includes(_.toLowerCase())).slice(0,50):M.slice(0,50),he=t?.type==="victoriametrics"?"MetricsQL":"PromQL";return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a Prometheus or VictoriaMetrics connection to start querying."})}):m.jsxs("div",{className:"flex h-full",children:[m.jsx("div",{className:`${I?"w-64":"w-0"} flex-shrink-0 border-r border-gray-800 overflow-hidden transition-all`,children:m.jsxs("div",{className:"p-3 space-y-2 h-full flex flex-col",children:[m.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase",children:"Metrics"}),m.jsx("input",{type:"text",placeholder:"Search metrics...",value:_,onChange:R=>L(R.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"}),m.jsxs("div",{className:"flex-1 overflow-y-auto space-y-0.5",children:[Q.map(R=>m.jsx("button",{onClick:()=>r(R),className:"block w-full text-left px-2 py-1 text-xs text-gray-300 hover:bg-gray-800 rounded truncate",title:R,children:R},R)),M.length===0&&m.jsx("p",{className:"text-xs text-gray-600 px-2 py-4",children:"No metrics loaded"})]})]})}),m.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[m.jsxs("div",{className:"p-4 border-b border-gray-800 space-y-3",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>B(R=>!R),className:"px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-400 hover:text-white text-xs",title:"Toggle metrics panel",children:I?"Hide":"Metrics"}),m.jsx("textarea",{ref:ee,value:n,onChange:R=>r(R.target.value),onKeyDown:H,rows:2,placeholder:`Enter ${he} query... (Ctrl+Enter to execute)`,className:"flex-1 px-3 py-2 rounded bg-gray-800 border border-gray-700 text-gray-100 text-sm font-mono placeholder-gray-500 focus:outline-none focus:border-blue-500 resize-none"}),m.jsxs("button",{onClick:F,disabled:y||!n.trim(),className:"px-4 py-2 rounded bg-blue-600 hover:bg-blue-500 text-white text-sm font-medium transition-colors disabled:opacity-40 flex items-center gap-1.5",children:[m.jsx(uf,{size:14}),y?"Running...":"Execute"]})]}),m.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(Qo,{size:12,className:"text-gray-500"}),m.jsx("span",{className:"text-xs text-gray-500",children:"Range:"}),f3.map((R,W)=>m.jsx("button",{onClick:()=>a(W),className:`px-2 py-0.5 rounded text-xs ${W===i?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:R.label},R.label))]}),m.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[m.jsx("button",{onClick:()=>k("chart"),className:`p-1.5 rounded ${A==="chart"?"bg-gray-700 text-white":"text-gray-500 hover:text-white"}`,title:"Chart",children:m.jsx(xl,{size:14})}),m.jsx("button",{onClick:()=>k("table"),className:`p-1.5 rounded ${A==="table"?"bg-gray-700 text-white":"text-gray-500 hover:text-white"}`,title:"Table",children:m.jsx(V3,{size:14})}),m.jsx("button",{onClick:()=>k("json"),className:`p-1.5 rounded ${A==="json"?"bg-gray-700 text-white":"text-gray-500 hover:text-white"}`,title:"Raw JSON",children:m.jsx(eH,{size:14})})]}),j!==null&&m.jsxs("span",{className:"text-xs text-gray-500",children:[j,"ms"]})]}),z.length>0&&m.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[m.jsx("span",{className:"text-xs text-gray-500",children:"History:"}),z.slice(0,8).map((R,W)=>m.jsx("button",{onClick:()=>r(R),className:"px-2 py-0.5 rounded bg-gray-800 text-gray-400 text-xs hover:text-white truncate max-w-48",children:R},W)),m.jsx("button",{onClick:()=>{$([]),localStorage.removeItem("tsui_prom_history")},className:"p-1 text-gray-600 hover:text-red-400",title:"Clear history",children:m.jsx(ai,{size:10})})]})]}),b&&m.jsx("div",{className:"mx-4 mt-3 p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:b}),m.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[A==="chart"&&l==="matrix"&&V.length>0&&m.jsxs("div",{className:"h-[400px]",children:[m.jsx($p,{width:"100%",height:"100%",children:m.jsxs(bg,{data:V,children:[m.jsx(Vf,{strokeDasharray:"3 3",stroke:"#374151"}),m.jsx(Gf,{dataKey:"time",type:"number",domain:["dataMin","dataMax"],tickFormatter:R=>new Date(R).toLocaleTimeString(),stroke:"#6b7280",fontSize:11}),m.jsx(Yf,{stroke:"#6b7280",fontSize:11}),m.jsx(hg,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:6},labelFormatter:R=>new Date(R).toLocaleString(),formatter:R=>[typeof R=="number"?R.toFixed(4):R]}),m.jsx(R2,{formatter:R=>{const W=parseInt(R.replace("series_",""));return u[W]?Om(u[W].metric):R},wrapperStyle:{fontSize:11}}),u.slice(0,15).map((R,W)=>m.jsx(Kf,{type:"monotone",dataKey:`series_${W}`,stroke:km[W%km.length],dot:!1,strokeWidth:1.5,connectNulls:!1},W))]})}),u.length>15&&m.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Showing 15 of ",u.length," series on chart. Switch to table view for all."]})]}),A==="table"&&l==="matrix"&&u.length>0&&m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-gray-800",children:[m.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Series"}),m.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Last Value"}),m.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Points"})]})}),m.jsx("tbody",{children:u.map((R,W)=>m.jsxs("tr",{className:"border-b border-gray-800/50 hover:bg-gray-900",children:[m.jsxs("td",{className:"p-2 font-mono text-gray-300 max-w-md truncate",title:Om(R.metric),children:[m.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-2",style:{backgroundColor:km[W%km.length]}}),Om(R.metric)]}),m.jsx("td",{className:"p-2 text-gray-200",children:R.values.length>0?R.values[R.values.length-1][1]:"-"}),m.jsx("td",{className:"p-2 text-gray-400",children:R.values.length})]},W))})]})}),A==="table"&&l==="vector"&&d.length>0&&m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-gray-800",children:[m.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Metric"}),m.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Value"}),m.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Timestamp"})]})}),m.jsx("tbody",{children:d.map((R,W)=>m.jsxs("tr",{className:"border-b border-gray-800/50 hover:bg-gray-900",children:[m.jsx("td",{className:"p-2 font-mono text-gray-300 max-w-md truncate",children:Om(R.metric)}),m.jsx("td",{className:"p-2 text-gray-200",children:R.value[1]}),m.jsx("td",{className:"p-2 text-gray-400",children:new Date(R.value[0]*1e3).toLocaleString()})]},W))})]})}),A==="json"&&T&&m.jsx("pre",{className:"bg-gray-900 rounded p-4 text-xs text-gray-300 font-mono overflow-auto whitespace-pre-wrap border border-gray-800",children:T}),!b&&!y&&!T&&m.jsxs("div",{className:"flex items-center justify-center h-full text-gray-600 text-sm",children:["Enter a ",he," query and press Execute or Ctrl+Enter"]})]})]})]})}function d3(){const{connection:t,auth:e}=br(),[n,r]=w.useState([]),[i,a]=w.useState(!1),[l,o]=w.useState(null),[u,h]=w.useState(""),[d,p]=w.useState("all"),[y,v]=w.useState(new Set),[b,C]=w.useState(0),j=w.useCallback(async()=>{if(!(!t||t.type!=="prometheus"&&t.type!=="victoriametrics")){a(!0),o(null);try{const M=await Mt.getTargets(t.url,"any",e);if(M.status!=="success")throw new Error("Failed to fetch targets");const E=M.data.activeTargets||[],_=new Map;E.forEach(I=>{const B=I.scrapePool||I.labels?.job||"unknown";_.has(B)||_.set(B,[]),_.get(B).push(I)});const L=Array.from(_.entries()).map(([I,B])=>({job:I,targets:B,upCount:B.filter(z=>z.health==="up").length,downCount:B.filter(z=>z.health!=="up").length})).sort((I,B)=>I.job.localeCompare(B.job));r(L),v(new Set(L.map(I=>I.job)))}catch(M){o(M.message)}finally{a(!1)}}},[t,e]);w.useEffect(()=>{j()},[j]),w.useEffect(()=>{if(b<=0)return;const M=setInterval(j,b*1e3);return()=>clearInterval(M)},[b,j]);const N=M=>{v(E=>{const _=new Set(E);return _.has(M)?_.delete(M):_.add(M),_})},A=n.reduce((M,E)=>M+E.upCount,0),k=n.reduce((M,E)=>M+E.downCount,0),T=n.reduce((M,E)=>M+E.targets.length,0),D=n.map(M=>({...M,targets:M.targets.filter(E=>!(d==="up"&&E.health!=="up"||d==="down"&&E.health==="up"||u&&!E.scrapeUrl.toLowerCase().includes(u.toLowerCase())&&!M.job.toLowerCase().includes(u.toLowerCase())))})).filter(M=>M.targets.length>0);return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a Prometheus connection."})}):m.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-lg font-semibold text-white",children:"Scrape Targets"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("select",{value:b,onChange:M=>C(Number(M.target.value)),className:"px-2 py-1 rounded bg-gray-800 border border-gray-700 text-gray-300 text-xs",children:[m.jsx("option",{value:0,children:"Auto-refresh: Off"}),m.jsx("option",{value:5,children:"5s"}),m.jsx("option",{value:10,children:"10s"}),m.jsx("option",{value:30,children:"30s"})]}),m.jsx("button",{onClick:j,disabled:i,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:m.jsx(bt,{size:14,className:i?"animate-spin":""})})]})]}),m.jsxs("div",{className:"flex gap-4 text-sm",children:[m.jsxs("span",{className:"text-gray-400",children:[T," total"]}),m.jsxs("span",{className:"text-green-400",children:[A," up"]}),k>0&&m.jsxs("span",{className:"text-red-400",children:[k," down"]})]}),m.jsxs("div",{className:"flex gap-2 items-center",children:[m.jsxs("div",{className:"relative flex-1 max-w-xs",children:[m.jsx(dc,{size:14,className:"absolute left-2.5 top-2 text-gray-500"}),m.jsx("input",{type:"text",placeholder:"Filter targets...",value:u,onChange:M=>h(M.target.value),className:"w-full pl-8 pr-3 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),m.jsx("div",{className:"flex gap-1",children:["all","up","down"].map(M=>m.jsx("button",{onClick:()=>p(M),className:`px-3 py-1 rounded text-xs capitalize ${d===M?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:M},M))})]}),l&&m.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:l}),m.jsx("div",{className:"space-y-3",children:D.map(M=>m.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[m.jsxs("button",{onClick:()=>N(M.job),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-900 hover:bg-gray-800/70 transition-colors text-left",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[y.has(M.job)?m.jsx(Ms,{size:14,className:"text-gray-500"}):m.jsx(hc,{size:14,className:"text-gray-500"}),m.jsx("span",{className:"text-sm font-medium text-white",children:M.job}),m.jsxs("span",{className:"text-xs text-gray-500",children:["(",M.targets.length,")"]})]}),m.jsxs("div",{className:"flex gap-2 text-xs",children:[m.jsxs("span",{className:"text-green-400",children:[M.upCount," up"]}),M.downCount>0&&m.jsxs("span",{className:"text-red-400",children:[M.downCount," down"]})]})]}),y.has(M.job)&&m.jsx("div",{className:"divide-y divide-gray-800/50",children:M.targets.map((E,_)=>m.jsxs("div",{className:"px-4 py-2.5 flex items-center gap-3 text-xs hover:bg-gray-900/50",children:[m.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${E.health==="up"?"bg-green-500":"bg-red-500"}`}),m.jsx("span",{className:"font-mono text-gray-300 flex-1 truncate",children:E.scrapeUrl}),m.jsxs("span",{className:"text-gray-500",children:[(E.lastScrapeDuration*1e3).toFixed(0),"ms"]}),m.jsx("span",{className:"text-gray-500",children:new Date(E.lastScrape).toLocaleTimeString()}),E.lastError&&m.jsx("span",{className:"text-red-400 truncate max-w-xs",title:E.lastError,children:E.lastError})]},_))})]},M.job))}),!i&&D.length===0&&!l&&m.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:t.type==="victoriametrics"?"No targets found. VictoriaMetrics only shows targets when configured with -promscrape.config.":"No targets found"})]})}const cpe={firing:"bg-red-500",pending:"bg-yellow-500",inactive:"bg-gray-600"},upe={firing:"text-red-400",pending:"text-yellow-400",inactive:"text-gray-500"};function m3(){const{connection:t,auth:e}=br(),[n,r]=w.useState([]),[i,a]=w.useState(!1),[l,o]=w.useState(null),[u,h]=w.useState("all"),[d,p]=w.useState(!1),[y,v]=w.useState(""),[b,C]=w.useState(new Set),j=w.useCallback(async()=>{if(!(!t||t.type!=="prometheus"&&t.type!=="victoriametrics")){a(!0),o(null);try{const _=await Mt.getRules(t.url,void 0,e);if(_.status!=="success")throw new Error("Failed to fetch rules");r(_.data.groups||[]),C(new Set((_.data.groups||[]).map(L=>L.name)))}catch(_){o(_.message)}finally{a(!1)}}},[t,e]);w.useEffect(()=>{j()},[j]);const N=_=>{C(L=>{const I=new Set(L);return I.has(_)?I.delete(_):I.add(_),I})},k=n.flatMap(_=>_.rules).filter(_=>_.type==="alerting"),T=k.filter(_=>_.state==="firing").length,D=k.filter(_=>_.state==="pending").length,M=k.filter(_=>_.state==="inactive").length,E=_=>!(!d&&_.type==="recording"||_.type==="alerting"&&u!=="all"&&_.state!==u||y&&!_.name.toLowerCase().includes(y.toLowerCase()));return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a Prometheus connection."})}):m.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-lg font-semibold text-white",children:"Alert Rules"}),m.jsx("button",{onClick:j,disabled:i,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:m.jsx(bt,{size:14,className:i?"animate-spin":""})})]}),m.jsxs("div",{className:"flex gap-4 text-sm",children:[m.jsxs("span",{className:"text-gray-400",children:[k.length," rules"]}),T>0&&m.jsxs("span",{className:"text-red-400",children:[T," firing"]}),D>0&&m.jsxs("span",{className:"text-yellow-400",children:[D," pending"]}),m.jsxs("span",{className:"text-gray-500",children:[M," inactive"]})]}),m.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[m.jsxs("div",{className:"relative flex-1 max-w-xs",children:[m.jsx(dc,{size:14,className:"absolute left-2.5 top-2 text-gray-500"}),m.jsx("input",{type:"text",placeholder:"Search rules...",value:y,onChange:_=>v(_.target.value),className:"w-full pl-8 pr-3 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),m.jsx("div",{className:"flex gap-1",children:["all","firing","pending","inactive"].map(_=>m.jsx("button",{onClick:()=>h(_),className:`px-3 py-1 rounded text-xs capitalize ${u===_?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:_},_))}),m.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-gray-400",children:[m.jsx("input",{type:"checkbox",checked:d,onChange:_=>p(_.target.checked),className:"rounded border-gray-600"}),"Recording Rules"]})]}),l&&m.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:l}),m.jsx("div",{className:"space-y-3",children:n.map(_=>{const L=_.rules.filter(E);return L.length===0?null:m.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[m.jsxs("button",{onClick:()=>N(_.name),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-900 hover:bg-gray-800/70 transition-colors text-left",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[b.has(_.name)?m.jsx(Ms,{size:14,className:"text-gray-500"}):m.jsx(hc,{size:14,className:"text-gray-500"}),m.jsx("span",{className:"text-sm font-medium text-white",children:_.name}),m.jsx("span",{className:"text-xs text-gray-500",children:_.file})]}),m.jsxs("span",{className:"text-xs text-gray-500",children:[L.length," rules"]})]}),b.has(_.name)&&m.jsx("div",{className:"divide-y divide-gray-800/50",children:L.map((I,B)=>m.jsxs("div",{className:"px-4 py-3 space-y-1.5 hover:bg-gray-900/50",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[I.state&&m.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${cpe[I.state]||"bg-gray-600"}`}),m.jsx("span",{className:`text-xs font-semibold uppercase ${upe[I.state||""]||"text-gray-500"}`,children:I.state||I.type}),m.jsx("span",{className:"text-sm font-medium text-white",children:I.name}),I.duration!==void 0&&I.duration>0&&m.jsxs("span",{className:"text-xs text-gray-500",children:["for ",I.duration,"s"]}),I.labels?.severity&&m.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${I.labels.severity==="critical"?"bg-red-900/50 text-red-400":I.labels.severity==="warning"?"bg-yellow-900/50 text-yellow-400":"bg-gray-800 text-gray-400"}`,children:I.labels.severity})]}),m.jsx("pre",{className:"text-xs text-gray-400 font-mono bg-gray-900/50 rounded px-2 py-1 overflow-x-auto",children:I.query}),I.annotations?.summary&&m.jsx("p",{className:"text-xs text-gray-500",children:I.annotations.summary}),I.alerts&&I.alerts.length>0&&m.jsxs("div",{className:"pl-4 mt-1 space-y-1",children:[m.jsxs("span",{className:"text-xs text-gray-500",children:["Firing instances (",I.alerts.length,"):"]}),I.alerts.slice(0,5).map((z,$)=>m.jsxs("div",{className:"text-xs text-gray-400 font-mono pl-2 border-l border-gray-700",children:[Object.entries(z.labels).filter(([ee])=>ee!=="alertname").map(([ee,F])=>`${ee}="${F}"`).join(", ")," ","= ",z.value,m.jsxs("span",{className:"text-gray-600 ml-2",children:["since ",new Date(z.activeAt).toLocaleString()]})]},$)),I.alerts.length>5&&m.jsxs("p",{className:"text-xs text-gray-600 pl-2",children:["...and ",I.alerts.length-5," more"]})]})]},B))})]},_.name)})})]})}function p3(){const{connection:t,auth:e}=br(),[n,r]=w.useState("alerts"),[i,a]=w.useState([]),[l,o]=w.useState([]),[u,h]=w.useState(null),[d,p]=w.useState(!1),[y,v]=w.useState(null),[b,C]=w.useState(!1),[j,N]=w.useState(""),[A,k]=w.useState(""),[T,D]=w.useState(!1),[M,E]=w.useState("2h"),[_,L]=w.useState(""),[I]=w.useState("timeseriesui"),B=t?.alertmanagerUrl,z=w.useCallback(async()=>{if(B){p(!0),v(null);try{const[F,H,V]=await Promise.allSettled([Mt.getAMAlerts(B,e),Mt.getAMSilences(B,e),Mt.getAMStatus(B,e)]);F.status==="fulfilled"&&a(F.value||[]),H.status==="fulfilled"&&o((H.value||[]).filter(Q=>Q.status.state!=="expired")),V.status==="fulfilled"&&h(V.value)}catch(F){v(F.message)}finally{p(!1)}}},[B,e]);w.useEffect(()=>{z()},[z]);const $=async()=>{if(!(!B||!j.trim()))try{const F=new Date,H=fpe(M),V=new Date(F.getTime()+H);await Mt.createAMSilence(B,{matchers:[{name:j,value:A,isRegex:T,isEqual:!0}],startsAt:F.toISOString(),endsAt:V.toISOString(),createdBy:I,comment:_||"Created by TimeseriesUI"},e),C(!1),N(""),k(""),L(""),z()}catch(F){v(F.message)}},ee=async F=>{if(B)try{await Mt.deleteAMSilence(B,F,e),z()}catch(H){v(H.message)}};return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a Prometheus connection."})}):B?m.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-lg font-semibold text-white",children:"Alertmanager"}),m.jsx("button",{onClick:z,disabled:d,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:m.jsx(bt,{size:14,className:d?"animate-spin":""})})]}),m.jsx("div",{className:"flex gap-1 border-b border-gray-800 pb-1",children:["alerts","silences","status"].map(F=>m.jsxs("button",{onClick:()=>r(F),className:`px-4 py-2 rounded-t text-sm capitalize ${n===F?"bg-gray-800 text-white border-b-2 border-blue-500":"text-gray-400 hover:text-white"}`,children:[F,F==="alerts"&&i.length>0&&m.jsx("span",{className:"ml-1.5 px-1.5 py-0.5 rounded-full bg-red-600 text-white text-[10px]",children:i.length})]},F))}),y&&m.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:y}),n==="alerts"&&m.jsxs("div",{className:"space-y-2",children:[i.length===0&&!d&&m.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No firing alerts"}),i.map((F,H)=>m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-2 hover:bg-gray-900/50",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${F.labels.severity==="critical"?"bg-red-900/50 text-red-400":F.labels.severity==="warning"?"bg-yellow-900/50 text-yellow-400":"bg-gray-800 text-gray-400"}`,children:F.labels.severity||"info"}),m.jsx("span",{className:"text-sm font-medium text-white",children:F.labels.alertname}),m.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${F.status.state==="active"?"bg-red-900/30 text-red-400":F.status.state==="suppressed"?"bg-yellow-900/30 text-yellow-400":"bg-gray-800 text-gray-400"}`,children:F.status.state})]}),m.jsx("div",{className:"text-xs text-gray-400 font-mono",children:Object.entries(F.labels).filter(([V])=>V!=="alertname"&&V!=="severity").map(([V,Q])=>m.jsxs("span",{className:"mr-2",children:[V,'="',Q,'"']},V))}),F.annotations?.description&&m.jsx("p",{className:"text-xs text-gray-500",children:F.annotations.description}),m.jsxs("div",{className:"text-xs text-gray-600",children:["Started: ",new Date(F.startsAt).toLocaleString(),F.status.silencedBy.length>0&&m.jsx("span",{className:"ml-2 text-yellow-500",children:"Silenced"})]})]},H))]}),n==="silences"&&m.jsxs("div",{className:"space-y-3",children:[m.jsxs("button",{onClick:()=>C(F=>!F),className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium transition-colors",children:[m.jsx(Pi,{size:12}),"New Silence"]}),b&&m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-3 bg-gray-900",children:[m.jsx("h3",{className:"text-sm font-medium text-white",children:"Create Silence"}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsx("input",{type:"text",placeholder:"Label name (e.g. alertname)",value:j,onChange:F=>N(F.target.value),className:"px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"}),m.jsx("input",{type:"text",placeholder:"Value (e.g. HighCPU)",value:A,onChange:F=>k(F.target.value),className:"px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),m.jsxs("div",{className:"flex gap-3 items-center",children:[m.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-400",children:[m.jsx("input",{type:"checkbox",checked:T,onChange:F=>D(F.target.checked)}),"Regex"]}),m.jsxs("select",{value:M,onChange:F=>E(F.target.value),className:"px-2 py-1 rounded bg-gray-800 border border-gray-700 text-gray-300 text-xs",children:[m.jsx("option",{value:"30m",children:"30 minutes"}),m.jsx("option",{value:"1h",children:"1 hour"}),m.jsx("option",{value:"2h",children:"2 hours"}),m.jsx("option",{value:"6h",children:"6 hours"}),m.jsx("option",{value:"24h",children:"24 hours"}),m.jsx("option",{value:"7d",children:"7 days"})]})]}),m.jsx("input",{type:"text",placeholder:"Comment",value:_,onChange:F=>L(F.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:$,className:"px-3 py-1.5 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium",children:"Create"}),m.jsx("button",{onClick:()=>C(!1),className:"px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-gray-300 text-xs",children:"Cancel"})]})]}),l.length===0&&!d&&m.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No active silences"}),l.map(F=>m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${F.status.state==="active"?"bg-yellow-900/30 text-yellow-400":"bg-gray-800 text-gray-400"}`,children:F.status.state}),m.jsxs("span",{className:"text-xs text-gray-400",children:["by ",F.createdBy]})]}),m.jsx("button",{onClick:()=>ee(F.id),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",title:"Expire silence",children:m.jsx(ai,{size:12})})]}),m.jsx("div",{className:"text-xs font-mono text-gray-300",children:F.matchers.map((H,V)=>m.jsxs("span",{className:"mr-2",children:[H.name,H.isRegex?"=~":"=",'"',H.value,'"']},V))}),F.comment&&m.jsx("p",{className:"text-xs text-gray-500",children:F.comment}),m.jsxs("div",{className:"text-xs text-gray-600",children:["Until: ",new Date(F.endsAt).toLocaleString()]})]},F.id))]}),n==="status"&&u&&m.jsx("div",{className:"space-y-3",children:m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsx("h3",{className:"text-sm font-medium text-white mb-2",children:"Cluster Status"}),m.jsx("pre",{className:"text-xs text-gray-300 font-mono whitespace-pre-wrap",children:JSON.stringify(u,null,2)})]})})]}):m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"No Alertmanager URL configured for this connection. Edit the connection to add one."})})}function fpe(t){const e=t.match(/^(\d+)(m|h|d)$/);if(!e)return 36e5;const n=parseInt(e[1]);switch(e[2]){case"m":return n*60*1e3;case"h":return n*3600*1e3;case"d":return n*86400*1e3;default:return 36e5}}function hpe(){const{connection:t,auth:e}=br(),[n,r]=w.useState(null),[i,a]=w.useState(null),[l,o]=w.useState(null),[u,h]=w.useState(null),[d,p]=w.useState(!1),[y,v]=w.useState(null),b=w.useCallback(async()=>{if(!(!t||t.type!=="prometheus"&&t.type!=="victoriametrics")){p(!0),v(null);try{const[N,A,k,T]=await Promise.allSettled([Mt.getTSDBStatus(t.url,e),Mt.getBuildInfo(t.url,e),Mt.getRuntimeInfo(t.url,e),Mt.getFlags(t.url,e)]);N.status==="fulfilled"&&N.value.status==="success"&&r(N.value.data),A.status==="fulfilled"&&A.value.status==="success"&&a(A.value.data),k.status==="fulfilled"&&k.value.status==="success"&&o(k.value.data),T.status==="fulfilled"&&T.value.status==="success"&&h(T.value.data)}catch(N){v(N.message)}finally{p(!1)}}},[t,e]);w.useEffect(()=>{b()},[b]);const C=N=>N.toLocaleString(),j=N=>N?new Date(N).toLocaleString():"-";return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a Prometheus connection."})}):m.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-lg font-semibold text-white",children:"TSDB Status & Health"}),m.jsx("button",{onClick:b,disabled:d,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:m.jsx(bt,{size:14,className:d?"animate-spin":""})})]}),y&&m.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:y}),i&&m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Build Info"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsx(dr,{label:"Version",value:i.version}),m.jsx(dr,{label:"Go Version",value:i.goVersion}),m.jsx(dr,{label:"Branch",value:i.branch}),m.jsx(dr,{label:"Build Date",value:i.buildDate})]})]}),l&&m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Runtime"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsx(dr,{label:"Start Time",value:new Date(l.startTime).toLocaleString()}),m.jsx(dr,{label:"Goroutines",value:String(l.goroutineCount)}),m.jsx(dr,{label:"GOMAXPROCS",value:String(l.GOMAXPROCS)}),m.jsx(dr,{label:"Storage Retention",value:l.storageRetention})]})]}),n&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"TSDB Head Block"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[m.jsx(dr,{label:"Head Series",value:C(n.headStats.numSeries)}),m.jsx(dr,{label:"Head Chunks",value:C(n.headStats.chunkCount)}),m.jsx(dr,{label:"Label Pairs",value:C(n.headStats.numLabelPairs)}),m.jsx(dr,{label:"Min Time",value:j(n.headStats.minTime)}),m.jsx(dr,{label:"Max Time",value:j(n.headStats.maxTime)})]})]}),n.seriesCountByMetricName&&n.seriesCountByMetricName.length>0&&m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Top Cardinality Metrics"}),m.jsxs("table",{className:"w-full text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-gray-800",children:[m.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Metric Name"}),m.jsx("th",{className:"text-right p-2 text-gray-400 font-medium",children:"Series Count"})]})}),m.jsx("tbody",{children:n.seriesCountByMetricName.slice(0,10).map((N,A)=>m.jsxs("tr",{className:"border-b border-gray-800/50",children:[m.jsx("td",{className:"p-2 font-mono text-gray-300",children:N.name}),m.jsx("td",{className:"p-2 text-right text-gray-200",children:C(N.value)})]},A))})]})]}),n.seriesCountByLabelValuePair&&n.seriesCountByLabelValuePair.length>0&&m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Top Cardinality Label Pairs"}),m.jsxs("table",{className:"w-full text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-gray-800",children:[m.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Label Pair"}),m.jsx("th",{className:"text-right p-2 text-gray-400 font-medium",children:"Series Count"})]})}),m.jsx("tbody",{children:n.seriesCountByLabelValuePair.slice(0,10).map((N,A)=>m.jsxs("tr",{className:"border-b border-gray-800/50",children:[m.jsx("td",{className:"p-2 font-mono text-gray-300",children:N.name}),m.jsx("td",{className:"p-2 text-right text-gray-200",children:C(N.value)})]},A))})]})]})]}),u&&m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Runtime Flags"}),m.jsx("div",{className:"space-y-1 max-h-80 overflow-y-auto",children:Object.entries(u).sort(([N],[A])=>N.localeCompare(A)).map(([N,A])=>m.jsxs("div",{className:"flex justify-between gap-4 text-xs py-1 border-b border-gray-800/30",children:[m.jsx("span",{className:"font-mono text-gray-400",children:N}),m.jsx("span",{className:"font-mono text-gray-200 text-right truncate max-w-xs",title:A,children:A||'""'})]},N))})]})]})}function dr({label:t,value:e}){return m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-wider",children:t}),m.jsx("p",{className:"text-sm text-gray-200 font-medium truncate",title:e,children:e})]})}const g3={counter:"bg-blue-900/50 text-blue-400",gauge:"bg-green-900/50 text-green-400",histogram:"bg-purple-900/50 text-purple-400",summary:"bg-yellow-900/50 text-yellow-400",unknown:"bg-gray-800 text-gray-400",untyped:"bg-gray-800 text-gray-400"};function y3(){const{connection:t,auth:e}=br(),n=Xf(),[r,i]=w.useState([]),[a,l]=w.useState(!1),[o,u]=w.useState(null),[h,d]=w.useState(""),[p,y]=w.useState("all"),v=w.useCallback(async()=>{if(!(!t||t.type!=="prometheus"&&t.type!=="victoriametrics")){l(!0),u(null);try{const N=await Mt.getMetadata(t.url,e);if(N.status!=="success")throw new Error("Failed to fetch metadata");const A=[];for(const[k,T]of Object.entries(N.data)){const D=T[0];A.push({name:k,type:D?.type||"unknown",help:D?.help||"",unit:D?.unit||""})}A.sort((k,T)=>k.name.localeCompare(T.name)),i(A)}catch(N){u(N.message)}finally{l(!1)}}},[t,e]);w.useEffect(()=>{v()},[v]);const b=["all",...new Set(r.map(N=>N.type))],C=r.filter(N=>!(p!=="all"&&N.type!==p||h&&!N.name.toLowerCase().includes(h.toLowerCase())&&!N.help.toLowerCase().includes(h.toLowerCase()))),j=N=>{n("/prometheus/query"),sessionStorage.setItem("tsui_prom_query_prefill",N)};return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a Prometheus connection."})}):m.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-lg font-semibold text-white",children:"Metric Explorer"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"text-xs text-gray-500",children:[C.length," of ",r.length," metrics"]}),m.jsx("button",{onClick:v,disabled:a,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:m.jsx(bt,{size:14,className:a?"animate-spin":""})})]})]}),m.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[m.jsxs("div",{className:"relative flex-1 max-w-sm",children:[m.jsx(dc,{size:14,className:"absolute left-2.5 top-2 text-gray-500"}),m.jsx("input",{type:"text",placeholder:"Search metrics...",value:h,onChange:N=>d(N.target.value),className:"w-full pl-8 pr-3 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),m.jsx("div",{className:"flex gap-1",children:b.map(N=>m.jsx("button",{onClick:()=>y(N),className:`px-3 py-1 rounded text-xs capitalize ${p===N?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:N},N))})]}),o&&m.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:o}),m.jsxs("div",{className:"space-y-2",children:[C.slice(0,200).map(N=>m.jsxs("div",{className:"rounded-lg border border-gray-800 p-3 hover:bg-gray-900/50 transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("span",{className:"font-mono text-sm text-gray-200 font-medium",children:N.name}),m.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${g3[N.type]||g3.unknown}`,children:N.type}),N.unit&&m.jsxs("span",{className:"text-[10px] text-gray-500",children:["(",N.unit,")"]})]}),N.help&&m.jsx("p",{className:"text-xs text-gray-500 mb-2",children:N.help}),m.jsxs("button",{onClick:()=>j(N.name),className:"flex items-center gap-1 text-xs text-blue-400 hover:text-blue-300 transition-colors",children:[m.jsx(oH,{size:10}),"Query"]})]},N.name)),C.length>200&&m.jsxs("p",{className:"text-xs text-gray-500 text-center py-2",children:["Showing 200 of ",C.length," metrics. Use search to narrow results."]})]}),!a&&C.length===0&&!o&&m.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:"No metrics found"})]})}function v3(){const{connection:t,auth:e}=br(),[n,r]=w.useState(""),[i,a]=w.useState(!1),[l,o]=w.useState(null),[u,h]=w.useState(!1),[d,p]=w.useState(""),y=w.useCallback(async()=>{if(!(!t||t.type!=="prometheus"&&t.type!=="victoriametrics")){a(!0),o(null);try{const j=await Mt.getConfig(t.url,e);if(j.status!=="success")throw new Error("Failed to fetch config");r(j.data.yaml||"")}catch(j){o(j.message)}finally{a(!1)}}},[t,e]);w.useEffect(()=>{y()},[y]);const v=async()=>{await navigator.clipboard.writeText(n),h(!0),setTimeout(()=>h(!1),2e3)},b=n.split(`
`),C=d?b.map((j,N)=>({line:j,num:N+1,match:j.toLowerCase().includes(d.toLowerCase())})):b.map((j,N)=>({line:j,num:N+1,match:!1}));return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a Prometheus connection."})}):m.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-lg font-semibold text-white",children:t.type==="victoriametrics"?"Runtime Flags":"Running Config"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("button",{onClick:v,disabled:!n,className:"flex items-center gap-1 px-3 py-1.5 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 text-xs transition-colors",children:[u?m.jsx(B3,{size:12,className:"text-green-400"}):m.jsx(g1,{size:12}),u?"Copied":"Copy"]}),m.jsx("button",{onClick:y,disabled:i,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:m.jsx(bt,{size:14,className:i?"animate-spin":""})})]})]}),l&&m.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:l}),m.jsxs("div",{className:"relative max-w-xs",children:[m.jsx(dc,{size:14,className:"absolute left-2.5 top-2 text-gray-500"}),m.jsx("input",{type:"text",placeholder:"Search in config...",value:d,onChange:j=>p(j.target.value),className:"w-full pl-8 pr-3 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),n&&m.jsx("div",{className:"rounded-lg border border-gray-800 overflow-auto max-h-[calc(100vh-250px)]",children:m.jsx("pre",{className:"p-4 text-xs font-mono leading-relaxed",children:C.map(j=>m.jsxs("div",{className:`flex ${j.match?"bg-yellow-900/20":""}`,children:[m.jsx("span",{className:"text-gray-600 select-none w-10 text-right pr-3 flex-shrink-0",children:j.num}),m.jsx("span",{className:"text-gray-300 whitespace-pre",children:j.line})]},j.num))})}),!n&&!i&&!l&&m.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:"No config loaded"})]})}function x3(){const{connection:t,auth:e}=br(),[n,r]=w.useState([]),[i,a]=w.useState(!1),[l,o]=w.useState(null),[u,h]=w.useState(""),[d,p]=w.useState(new Set),[y,v]=w.useState(!1),b=w.useCallback(async()=>{if(!(!t||t.type!=="prometheus"&&t.type!=="victoriametrics")){a(!0),o(null);try{const k=await Mt.getTargets(t.url,"any",e);if(k.status!=="success")throw new Error("Failed to fetch targets");const T=k.data.activeTargets||[],D=k.data.droppedTargets||[],M=new Map;T.forEach(_=>{const L=_.scrapePool||_.labels?.job||"unknown";M.has(L)||M.set(L,{job:L,activeTargets:[],droppedTargets:[]}),M.get(L).activeTargets.push(_)}),D.forEach(_=>{const L=_.discoveredLabels?.__job_name__||_.discoveredLabels?.job||"dropped";M.has(L)||M.set(L,{job:L,activeTargets:[],droppedTargets:[]}),M.get(L).droppedTargets.push(_)});const E=Array.from(M.values()).sort((_,L)=>_.job.localeCompare(L.job));r(E),p(new Set(E.map(_=>_.job)))}catch(k){o(k.message)}finally{a(!1)}}},[t,e]);w.useEffect(()=>{b()},[b]);const C=k=>{p(T=>{const D=new Set(T);return D.has(k)?D.delete(k):D.add(k),D})},j=n.reduce((k,T)=>k+T.activeTargets.length,0),N=n.reduce((k,T)=>k+T.droppedTargets.length,0),A=u?n.filter(k=>k.job.toLowerCase().includes(u.toLowerCase())||k.activeTargets.some(T=>T.scrapeUrl.toLowerCase().includes(u.toLowerCase()))):n;return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a Prometheus connection."})}):m.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-lg font-semibold text-white",children:"Service Discovery"}),m.jsx("button",{onClick:b,disabled:i,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:m.jsx(bt,{size:14,className:i?"animate-spin":""})})]}),m.jsxs("div",{className:"flex gap-4 text-sm",children:[m.jsxs("span",{className:"text-gray-400",children:[j," active targets"]}),m.jsxs("span",{className:"text-gray-500",children:[N," dropped"]})]}),m.jsxs("div",{className:"flex gap-2 items-center",children:[m.jsxs("div",{className:"relative flex-1 max-w-xs",children:[m.jsx(dc,{size:14,className:"absolute left-2.5 top-2 text-gray-500"}),m.jsx("input",{type:"text",placeholder:"Search jobs or targets...",value:u,onChange:k=>h(k.target.value),className:"w-full pl-8 pr-3 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),m.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-gray-400",children:[m.jsx("input",{type:"checkbox",checked:y,onChange:k=>v(k.target.checked),className:"rounded border-gray-600"}),"Show Dropped"]})]}),l&&m.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:l}),m.jsx("div",{className:"space-y-3",children:A.map(k=>m.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[m.jsx("button",{onClick:()=>C(k.job),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-900 hover:bg-gray-800/70 transition-colors text-left",children:m.jsxs("div",{className:"flex items-center gap-2",children:[d.has(k.job)?m.jsx(Ms,{size:14,className:"text-gray-500"}):m.jsx(hc,{size:14,className:"text-gray-500"}),m.jsx("span",{className:"text-sm font-medium text-white",children:k.job}),m.jsxs("span",{className:"text-xs text-gray-500",children:[k.activeTargets.length," active",k.droppedTargets.length>0&&`, ${k.droppedTargets.length} dropped`]})]})}),d.has(k.job)&&m.jsxs("div",{className:"divide-y divide-gray-800/50",children:[k.activeTargets.map((T,D)=>m.jsxs("div",{className:"px-4 py-3 space-y-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${T.health==="up"?"bg-green-500":"bg-red-500"}`}),m.jsx("span",{className:"font-mono text-xs text-gray-300",children:T.scrapeUrl})]}),m.jsxs("div",{className:"pl-4 grid grid-cols-2 gap-x-6 gap-y-1",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-[10px] text-gray-500 uppercase block",children:"Discovered Labels"}),m.jsx("div",{className:"text-xs font-mono text-gray-400 space-y-0.5",children:Object.entries(T.discoveredLabels||{}).map(([M,E])=>m.jsxs("div",{children:[m.jsxs("span",{className:"text-gray-500",children:[M,"="]}),'"',E,'"']},M))})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[10px] text-gray-500 uppercase block",children:"Target Labels"}),m.jsx("div",{className:"text-xs font-mono text-gray-400 space-y-0.5",children:Object.entries(T.labels||{}).map(([M,E])=>m.jsxs("div",{children:[m.jsxs("span",{className:"text-gray-500",children:[M,"="]}),'"',E,'"']},M))})]})]})]},D)),y&&k.droppedTargets.map((T,D)=>m.jsxs("div",{className:"px-4 py-3 opacity-60",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("span",{className:"w-2 h-2 rounded-full flex-shrink-0 bg-gray-600"}),m.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"DROPPED"})]}),m.jsx("div",{className:"pl-4 text-xs font-mono text-gray-500 space-y-0.5",children:Object.entries(T.discoveredLabels||{}).map(([M,E])=>m.jsxs("div",{children:[m.jsxs("span",{className:"text-gray-600",children:[M,"="]}),'"',E,'"']},M))})]},`dropped-${D}`))]})]},k.job))}),!i&&A.length===0&&!l&&m.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:"No targets found"})]})}const dpe=da+"/proxy/victoriametrics/";function wr(t,e,n){const r=new URLSearchParams;if(r.set("target",t),r.set("path",e),n)for(const[i,a]of Object.entries(n))a!==void 0&&a!==""&&r.set(i,a);return dpe+"?"+r.toString()}function Ac(t){const e={};return t?.username&&(e["X-Proxy-Username"]=t.username),t?.password&&(e["X-Proxy-Password"]=t.password),e}async function Ls(t,e,n){const r=await fetch(t,{...e,headers:{Accept:"application/json",...Ac(n)}});if(!r.ok){const i=await r.text();throw new Error(`Request failed (${r.status}): ${i}`)}return r.json()}async function mpe(t,e){const n=wr(t,"/api/v1/status/active_queries");return(await Ls(n,void 0,e)).data||[]}async function ppe(t,e=20,n="30m",r){const i=wr(t,"/api/v1/status/top_queries",{topN:String(e),maxLifetime:n});return(await Ls(i,void 0,r)).data}async function $z(t,e){const n=wr(t,"/api/v1/series/count");return(await Ls(n,void 0,e)).data?.[0]??0}async function gpe(t,e,n){const r={};e.topN&&(r.topN=String(e.topN)),e.focusLabel&&(r.focusLabel=e.focusLabel),e.date&&(r.date=e.date),e.match&&(r["match[]"]=e.match);const i=wr(t,"/api/v1/status/tsdb",r);return(await Ls(i,void 0,n)).data}async function ype(t,e){const n=wr(t,"/snapshot/list");return(await Ls(n,void 0,e)).snapshots||[]}async function vpe(t,e){const n=wr(t,"/snapshot/create");return(await Ls(n,void 0,e)).snapshot||""}async function xpe(t,e,n){const r=wr(t,"/snapshot/delete",{snapshot:e});await Ls(r,void 0,n)}async function bpe(t,e){const n=wr(t,"/snapshot/delete_all");await Ls(n,void 0,e)}async function wpe(t,e,n){const r=wr(t,"/internal/force_merge",{partition_prefix:e});await fetch(r,{headers:Ac(n)})}async function Spe(t,e){const n=wr(t,"/internal/resetRollupResultCache");await fetch(n,{headers:Ac(e)})}async function jpe(t,e,n){const r=wr(t,"/api/v1/admin/tsdb/delete_series",{"match[]":e});await fetch(r,{method:"POST",headers:Ac(n)})}async function b3(t,e,n){const r={json:"/api/v1/export",csv:"/api/v1/export/csv",native:"/api/v1/export/native"},i={"match[]":e.match};e.start&&(i.start=e.start),e.end&&(i.end=e.end),e.csvFormat&&(i.format=e.csvFormat);const a=wr(t,r[e.format],i);return(await fetch(a,{headers:Ac(n)})).text()}async function Cpe(t,e,n){const r={json:"/api/v1/import",csv:"/api/v1/import/csv",native:"/api/v1/import/native",prometheus:"/api/v1/import/prometheus"},i={};e.csvFormat&&(i.format=e.csvFormat);const a=wr(t,r[e.format],i);await fetch(a,{method:"POST",body:e.body,headers:Ac(n)})}function Npe(){const{connection:t,auth:e}=br(),n=Xf(),[r,i]=w.useState([]),[a,l]=w.useState([]),[o,u]=w.useState([]),[h,d]=w.useState([]),[p,y]=w.useState(!1),[v,b]=w.useState(null),[C,j]=w.useState("count"),[N,A]=w.useState(20),[k,T]=w.useState("30m"),[D,M]=w.useState(2),[E,_]=w.useState(null),L=w.useCallback(async()=>{if(!(!t||t.type!=="victoriametrics")){y(!0),b(null);try{const[$,ee]=await Promise.all([mpe(t.url,e),ppe(t.url,N,k,e)]);i($),l(ee.topByCount||[]),u(ee.topByAvgDuration||[]),d(ee.topBySumDuration||[])}catch($){b($.message)}finally{y(!1)}}},[t,e,N,k]);w.useEffect(()=>{L()},[L]),w.useEffect(()=>{if(D<=0)return;const $=setInterval(L,D*1e3);return()=>clearInterval($)},[D,L]);const I=$=>{navigator.clipboard.writeText($),_($),setTimeout(()=>_(null),1500)},B=$=>{sessionStorage.setItem("tsui_prom_query_prefill",$),n("/victoriametrics/query")},z=C==="count"?a:C==="avgDuration"?o:h;return!t||t.type!=="victoriametrics"?m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a VictoriaMetrics connection."})}):m.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-lg font-semibold text-white",children:"Active & Top Queries"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("select",{value:D,onChange:$=>M(Number($.target.value)),className:"px-2 py-1 rounded bg-gray-800 border border-gray-700 text-gray-300 text-xs",children:[m.jsx("option",{value:0,children:"Auto-refresh: Off"}),m.jsx("option",{value:2,children:"2s"}),m.jsx("option",{value:5,children:"5s"}),m.jsx("option",{value:10,children:"10s"})]}),m.jsx("button",{onClick:L,disabled:p,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:m.jsx(bt,{size:14,className:p?"animate-spin":""})})]})]}),v&&m.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:v}),m.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[m.jsx("div",{className:"px-4 py-3 bg-gray-900 border-b border-gray-800 flex items-center justify-between",children:m.jsxs("h2",{className:"text-sm font-medium text-white flex items-center gap-2",children:[m.jsx(Qo,{size:14,className:"text-blue-400"}),"Active Queries",m.jsxs("span",{className:"text-xs text-gray-500",children:["(",r.length," running)"]})]})}),r.length>0?m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-gray-800 bg-gray-900/50",children:[m.jsx("th",{className:"text-left p-3 text-gray-400 font-medium",children:"Query"}),m.jsx("th",{className:"text-left p-3 text-gray-400 font-medium w-24",children:"Duration"}),m.jsx("th",{className:"text-left p-3 text-gray-400 font-medium w-36",children:"Client"}),m.jsx("th",{className:"text-right p-3 text-gray-400 font-medium w-20",children:"Actions"})]})}),m.jsx("tbody",{children:r.map($=>m.jsxs("tr",{className:"border-b border-gray-800/50 hover:bg-gray-900/50",children:[m.jsx("td",{className:"p-3 font-mono text-gray-300 max-w-lg truncate",title:$.query,children:$.query}),m.jsx("td",{className:"p-3 text-gray-400",children:$.duration}),m.jsx("td",{className:"p-3 text-gray-500",children:$.remote_addr}),m.jsxs("td",{className:"p-3 text-right",children:[m.jsx("button",{onClick:()=>I($.query),className:"p-1 text-gray-500 hover:text-white",title:"Copy",children:m.jsx(g1,{size:12})}),m.jsx("button",{onClick:()=>B($.query),className:"p-1 text-gray-500 hover:text-blue-400 ml-1",title:"Run in Explorer",children:m.jsx(uf,{size:12})})]})]},$.id))})]})}):m.jsx("div",{className:"p-6 text-center text-gray-500 text-sm",children:"No queries currently executing"})]}),m.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[m.jsxs("div",{className:"px-4 py-3 bg-gray-900 border-b border-gray-800",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("h2",{className:"text-sm font-medium text-white",children:"Top Queries"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("label",{className:"text-xs text-gray-500",children:"Top N:"}),m.jsxs("select",{value:N,onChange:$=>A(Number($.target.value)),className:"px-2 py-1 rounded bg-gray-800 border border-gray-700 text-gray-300 text-xs",children:[m.jsx("option",{value:10,children:"10"}),m.jsx("option",{value:20,children:"20"}),m.jsx("option",{value:50,children:"50"})]}),m.jsx("label",{className:"text-xs text-gray-500",children:"Lifetime:"}),m.jsxs("select",{value:k,onChange:$=>T($.target.value),className:"px-2 py-1 rounded bg-gray-800 border border-gray-700 text-gray-300 text-xs",children:[m.jsx("option",{value:"5m",children:"5m"}),m.jsx("option",{value:"15m",children:"15m"}),m.jsx("option",{value:"30m",children:"30m"}),m.jsx("option",{value:"1h",children:"1h"}),m.jsx("option",{value:"6h",children:"6h"})]})]})]}),m.jsx("div",{className:"flex gap-1",children:[["count","By Count"],["avgDuration","By Avg Duration"],["sumDuration","By Total Duration"]].map(([$,ee])=>m.jsx("button",{onClick:()=>j($),className:`px-3 py-1.5 rounded text-xs font-medium transition-colors ${C===$?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:ee},$))})]}),z.length>0?m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-gray-800 bg-gray-900/50",children:[m.jsx("th",{className:"text-left p-3 text-gray-400 font-medium w-10",children:"#"}),m.jsx("th",{className:"text-left p-3 text-gray-400 font-medium",children:"Query"}),m.jsx("th",{className:"text-right p-3 text-gray-400 font-medium w-20",children:"Count"}),m.jsx("th",{className:"text-right p-3 text-gray-400 font-medium w-24",children:"Avg Duration"}),m.jsx("th",{className:"text-right p-3 text-gray-400 font-medium w-20",children:"Actions"})]})}),m.jsx("tbody",{children:z.map(($,ee)=>m.jsxs("tr",{className:"border-b border-gray-800/50 hover:bg-gray-900/50",children:[m.jsx("td",{className:"p-3 text-gray-500",children:ee+1}),m.jsx("td",{className:"p-3 font-mono text-gray-300 max-w-lg truncate",title:$.query,children:$.query}),m.jsx("td",{className:"p-3 text-right text-gray-400",children:$.count.toLocaleString()}),m.jsxs("td",{className:"p-3 text-right text-gray-400",children:[$.avgDurationSeconds.toFixed(3),"s"]}),m.jsxs("td",{className:"p-3 text-right",children:[m.jsx("button",{onClick:()=>I($.query),className:"p-1 text-gray-500 hover:text-white",title:E===$.query?"Copied!":"Copy query",children:m.jsx(g1,{size:12})}),m.jsx("button",{onClick:()=>B($.query),className:"p-1 text-gray-500 hover:text-blue-400 ml-1",title:"Run in Explorer",children:m.jsx(uf,{size:12})})]})]},ee))})]})}):m.jsx("div",{className:"p-6 text-center text-gray-500 text-sm",children:"No top query data available"})]})]})}function gS(t){return t.toLocaleString()}function Am({name:t,value:e,max:n}){const r=n>0?e/n*100:0;return m.jsxs("div",{className:"flex items-center gap-3 py-1.5",children:[m.jsx("span",{className:"text-xs text-gray-300 font-mono flex-1 truncate",title:t,children:t}),m.jsx("div",{className:"w-48 flex-shrink-0",children:m.jsx("div",{className:"h-4 bg-gray-800 rounded overflow-hidden",children:m.jsx("div",{className:"h-full bg-blue-600 rounded",style:{width:`${r}%`}})})}),m.jsx("span",{className:"text-xs text-gray-400 w-20 text-right flex-shrink-0",children:gS(e)})]})}function kpe(){const{connection:t,auth:e}=br(),[n,r]=w.useState(null),[i,a]=w.useState(null),[l,o]=w.useState(null),[u,h]=w.useState(null),[d,p]=w.useState(null),[y,v]=w.useState(!1),[b,C]=w.useState(null),[j,N]=w.useState(10),[A,k]=w.useState(""),[T,D]=w.useState(""),[M,E]=w.useState(""),_=w.useCallback(async()=>{if(!(!t||t.type!=="victoriametrics")){v(!0),C(null);try{const[$,ee,F,H,V]=await Promise.all([gpe(t.url,{topN:j,focusLabel:A||void 0,date:T||void 0,match:M||void 0},e),$z(t.url,e),Mt.getBuildInfo(t.url,e).catch(()=>null),Mt.getRuntimeInfo(t.url,e).catch(()=>null),Mt.getFlags(t.url,e).catch(()=>null)]);r($),a(ee),F?.status==="success"&&o(F.data),H?.status==="success"&&h(H.data),V?.status==="success"&&p(V.data)}catch($){C($.message)}finally{v(!1)}}},[t,e,j,A,T,M]);if(w.useEffect(()=>{_()},[_]),!t||t.type!=="victoriametrics")return m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a VictoriaMetrics connection."})});const L=n?.seriesCountByMetricName?.[0]?.value||1,I=n?.seriesCountByLabelName?.[0]?.value||1,B=n?.seriesCountByLabelValuePair?.[0]?.value||1,z=n?.seriesCountByFocusLabelValue?.[0]?.value||1;return m.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-lg font-semibold text-white",children:"TSDB Status & Cardinality"}),i!==null&&m.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Total Series: ",m.jsx("span",{className:"text-white font-medium",children:gS(i)}),n?.totalSeriesPrev!=null&&n.totalSeriesPrev>0&&m.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",i>=n.totalSeriesPrev?"+":"",gS(i-n.totalSeriesPrev)," vs previous)"]})]})]}),m.jsx("button",{onClick:_,disabled:y,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:m.jsx(bt,{size:14,className:y?"animate-spin":""})})]}),b&&m.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:b}),m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 bg-gray-900/50",children:[m.jsxs("h3",{className:"text-xs font-semibold text-gray-400 uppercase mb-3 flex items-center gap-1.5",children:[m.jsx(xl,{size:12})," Filters"]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Date (YYYYMMDD)"}),m.jsx("input",{type:"text",placeholder:"e.g. 20260219",value:T,onChange:$=>D($.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-600 focus:outline-none focus:border-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Top N"}),m.jsxs("select",{value:j,onChange:$=>N(Number($.target.value)),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-300 text-xs",children:[m.jsx("option",{value:5,children:"5"}),m.jsx("option",{value:10,children:"10"}),m.jsx("option",{value:20,children:"20"}),m.jsx("option",{value:50,children:"50"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Focus Label"}),m.jsx("input",{type:"text",placeholder:"e.g. instance",value:A,onChange:$=>k($.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-600 focus:outline-none focus:border-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Match Filter"}),m.jsx("input",{type:"text",placeholder:'e.g. {job="node"}',value:M,onChange:$=>E($.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-600 focus:outline-none focus:border-blue-500"})]})]}),m.jsx("button",{onClick:_,className:"mt-3 px-4 py-1.5 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium transition-colors",children:"Apply Filters"})]}),n&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Top Metrics by Series Count"}),m.jsxs("div",{className:"space-y-0.5",children:[(n.seriesCountByMetricName||[]).map($=>m.jsx(Am,{name:$.name,value:$.value,max:L},$.name)),(!n.seriesCountByMetricName||n.seriesCountByMetricName.length===0)&&m.jsx("p",{className:"text-xs text-gray-500",children:"No data"})]})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Top Labels by Series Count"}),m.jsx("div",{className:"space-y-0.5",children:(n.seriesCountByLabelName||[]).map($=>m.jsx(Am,{name:$.name,value:$.value,max:I},$.name))})]}),m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Top Label Value Pairs"}),m.jsx("div",{className:"space-y-0.5",children:(n.seriesCountByLabelValuePair||[]).map($=>m.jsx(Am,{name:$.name,value:$.value,max:B},$.name))})]})]}),A&&n.seriesCountByFocusLabelValue&&n.seriesCountByFocusLabelValue.length>0&&m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsxs("h3",{className:"text-sm font-medium text-white mb-3",children:["Focus Label Values (",A,")"]}),m.jsx("div",{className:"space-y-0.5",children:n.seriesCountByFocusLabelValue.map($=>m.jsx(Am,{name:$.name,value:$.value,max:z},$.name))})]})]}),(l||u||d)&&m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Runtime Info"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[l?.version&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Version:"})," ",m.jsx("span",{className:"text-gray-200",children:l.version})]}),l?.goVersion&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Go:"})," ",m.jsx("span",{className:"text-gray-200",children:l.goVersion})]}),u?.storageRetention&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Retention:"})," ",m.jsx("span",{className:"text-gray-200",children:u.storageRetention})]}),u?.startTime&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Started:"})," ",m.jsx("span",{className:"text-gray-200",children:new Date(u.startTime).toLocaleString()})]})]}),d&&Object.keys(d).length>0&&m.jsxs("details",{className:"mt-3",children:[m.jsxs("summary",{className:"text-xs text-gray-400 cursor-pointer hover:text-white",children:["Startup Flags (",Object.keys(d).length,")"]}),m.jsx("div",{className:"mt-2 max-h-48 overflow-auto",children:m.jsx("table",{className:"w-full text-xs",children:m.jsx("tbody",{children:Object.entries(d).map(([$,ee])=>m.jsxs("tr",{className:"border-b border-gray-800/30",children:[m.jsx("td",{className:"py-1 pr-3 text-gray-400 font-mono",children:$}),m.jsx("td",{className:"py-1 text-gray-300 font-mono",children:ee})]},$))})})})]})]})]})}function Ope(){const{connection:t,auth:e}=br(),[n,r]=w.useState([]),[i,a]=w.useState(!1),[l,o]=w.useState(null),[u,h]=w.useState(!1),[d,p]=w.useState(null),[y,v]=w.useState(!1),[b,C]=w.useState(null),j=w.useCallback(async()=>{if(!(!t||t.type!=="victoriametrics")){a(!0),o(null);try{const T=await ype(t.url,e);r(T)}catch(T){o(T.message)}finally{a(!1)}}},[t,e]);w.useEffect(()=>{j()},[j]);const N=async()=>{if(t){h(!0),o(null);try{const T=await vpe(t.url,e);C(T),await j()}catch(T){o(T.message)}finally{h(!1)}}},A=async T=>{if(t){p(T);try{await xpe(t.url,T,e),await j()}catch(D){o(D.message)}finally{p(null)}}},k=async()=>{if(t){v(!1),a(!0);try{await bpe(t.url,e),await j()}catch(T){o(T.message)}finally{a(!1)}}};return!t||t.type!=="victoriametrics"?m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a VictoriaMetrics connection."})}):m.jsxs("div",{className:"p-6 space-y-6 max-w-5xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("h1",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[m.jsx(L3,{size:18,className:"text-blue-400"}),"Snapshots"]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("button",{onClick:N,disabled:u,className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium transition-colors disabled:opacity-40",children:[m.jsx(Pi,{size:12}),u?"Creating...":"Create Snapshot"]}),m.jsx("button",{onClick:j,disabled:i,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:m.jsx(bt,{size:14,className:i?"animate-spin":""})})]})]}),l&&m.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:l}),b&&m.jsxs("div",{className:"p-3 rounded bg-green-900/20 border border-green-800/50 text-green-300 text-sm",children:["Snapshot created: ",m.jsx("code",{className:"font-mono text-green-200",children:b})]}),m.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[m.jsxs("div",{className:"px-4 py-3 bg-gray-900 border-b border-gray-800 flex items-center justify-between",children:[m.jsxs("h2",{className:"text-sm font-medium text-white",children:["Existing Snapshots ",m.jsxs("span",{className:"text-gray-500",children:["(",n.length,")"]})]}),n.length>1&&m.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-1 px-2 py-1 rounded text-xs text-red-400 hover:bg-red-900/20 transition-colors",children:[m.jsx(ai,{size:10}),"Delete All"]})]}),n.length>0?m.jsx("div",{className:"divide-y divide-gray-800/50",children:n.map(T=>m.jsxs("div",{className:"px-4 py-3 flex items-center justify-between hover:bg-gray-900/50",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-mono text-gray-200",children:T}),m.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["Path: <storageDataPath>/snapshots/",T]})]}),m.jsxs("button",{onClick:()=>A(T),disabled:d===T,className:"flex items-center gap-1 px-2 py-1 rounded text-xs text-red-400 hover:bg-red-900/20 transition-colors disabled:opacity-40",children:[m.jsx(ai,{size:10}),d===T?"Deleting...":"Delete"]})]},T))}):m.jsx("div",{className:"p-8 text-center text-gray-500 text-sm",children:"No snapshots found"})]}),y&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:m.jsxs("div",{className:"bg-gray-900 rounded-lg border border-gray-700 p-6 max-w-md w-full mx-4",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx(Qu,{size:20,className:"text-red-400"}),m.jsx("h3",{className:"text-sm font-semibold text-white",children:"Delete All Snapshots?"})]}),m.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:["This will permanently delete all ",n.length," snapshots. This action cannot be undone."]}),m.jsxs("div",{className:"flex gap-2 justify-end",children:[m.jsx("button",{onClick:()=>v(!1),className:"px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-gray-300 text-xs",children:"Cancel"}),m.jsx("button",{onClick:k,className:"px-3 py-1.5 rounded bg-red-600 hover:bg-red-500 text-white text-xs font-medium",children:"Delete All"})]})]})}),m.jsx("div",{className:"rounded-lg border border-gray-800 p-4 bg-gray-900/30",children:m.jsxs("p",{className:"text-xs text-gray-500",children:["Snapshots are created in ",m.jsx("code",{className:"text-gray-400",children:"<storageDataPath>/snapshots/"}),". Use ",m.jsx("code",{className:"text-gray-400",children:"vmbackup"})," to archive snapshots to S3/GCS. Snapshots must be deleted via this API, not with ",m.jsx("code",{className:"text-gray-400",children:"rm -rf"}),"."]})})]})}function Ape(){const{connection:t,auth:e}=br(),[n,r]=w.useState("export"),[i,a]=w.useState('{__name__!=""}'),[l,o]=w.useState(""),[u,h]=w.useState(""),[d,p]=w.useState("json"),[y,v]=w.useState("__name__,__value__,__timestamp__:unix_s"),[b,C]=w.useState(""),[j,N]=w.useState(!1),[A,k]=w.useState("prometheus"),[T,D]=w.useState(""),[M,E]=w.useState(""),[_,L]=w.useState(!1),[I,B]=w.useState(null),[z,$]=w.useState(null),ee=async()=>{if(!(!t||!i.trim())){N(!0),$(null);try{const se=(await b3(t.url,{match:i,start:l||void 0,end:u||void 0,format:d,csvFormat:d==="csv"?y:void 0},e)).split(`
`).slice(0,100);C(se.join(`
`))}catch(Q){$(Q.message)}finally{N(!1)}}},F=async()=>{if(!(!t||!i.trim())){N(!0),$(null);try{const Q=await b3(t.url,{match:i,start:l||void 0,end:u||void 0,format:d,csvFormat:d==="csv"?y:void 0},e),se=d==="csv"?"csv":d==="native"?"bin":"jsonl",he=new Blob([Q],{type:"application/octet-stream"}),R=URL.createObjectURL(he),W=document.createElement("a");W.href=R,W.download=`export.${se}`,W.click(),URL.revokeObjectURL(R)}catch(Q){$(Q.message)}finally{N(!1)}}},H=async()=>{if(!(!t||!T.trim())){L(!0),$(null),B(null);try{await Cpe(t.url,{format:A,body:T,csvFormat:A==="csv"?M:void 0},e),B("Data imported successfully"),D("")}catch(Q){$(Q.message)}finally{L(!1)}}},V=Q=>{const se=Q.target.files?.[0];if(!se)return;const he=new FileReader;he.onload=()=>D(he.result),he.readAsText(se)};return!t||t.type!=="victoriametrics"?m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a VictoriaMetrics connection."})}):m.jsxs("div",{className:"p-6 space-y-6 max-w-5xl mx-auto",children:[m.jsx("h1",{className:"text-lg font-semibold text-white",children:"Export / Import"}),m.jsxs("div",{className:"flex gap-1",children:[m.jsxs("button",{onClick:()=>r("export"),className:`flex items-center gap-1.5 px-4 py-2 rounded-t text-sm font-medium transition-colors ${n==="export"?"bg-gray-800 text-white border border-gray-700 border-b-gray-800":"text-gray-400 hover:text-white"}`,children:[m.jsx(cf,{size:14})," Export"]}),m.jsxs("button",{onClick:()=>r("import"),className:`flex items-center gap-1.5 px-4 py-2 rounded-t text-sm font-medium transition-colors ${n==="import"?"bg-gray-800 text-white border border-gray-700 border-b-gray-800":"text-gray-400 hover:text-white"}`,children:[m.jsx(Wm,{size:14})," Import"]})]}),z&&m.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:z}),n==="export"&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Match Selector"}),m.jsx("input",{type:"text",value:i,onChange:Q=>a(Q.target.value),placeholder:'{__name__=~"vm_.*"}',className:"w-full px-3 py-2 rounded bg-gray-800 border border-gray-700 text-gray-200 text-sm font-mono placeholder-gray-600 focus:outline-none focus:border-blue-500"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Start (optional, Unix ts or RFC3339)"}),m.jsx("input",{type:"text",value:l,onChange:Q=>o(Q.target.value),placeholder:"e.g. 2026-02-18T00:00:00Z",className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-600 focus:outline-none focus:border-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"End (optional)"}),m.jsx("input",{type:"text",value:u,onChange:Q=>h(Q.target.value),placeholder:"e.g. 2026-02-19T00:00:00Z",className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-600 focus:outline-none focus:border-blue-500"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Format"}),m.jsx("div",{className:"flex gap-1",children:["json","csv","native"].map(Q=>m.jsx("button",{onClick:()=>p(Q),className:`px-3 py-1.5 rounded text-xs font-medium uppercase ${d===Q?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:Q},Q))})]}),d==="csv"&&m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"CSV Format String"}),m.jsx("input",{type:"text",value:y,onChange:Q=>v(Q.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs font-mono placeholder-gray-600 focus:outline-none focus:border-blue-500"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:ee,disabled:j||!i.trim(),className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-white text-xs font-medium transition-colors disabled:opacity-40",children:[m.jsx(H3,{size:12}),j?"Loading...":"Preview (first 100 rows)"]}),m.jsxs("button",{onClick:F,disabled:j||!i.trim(),className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium transition-colors disabled:opacity-40",children:[m.jsx(cf,{size:12}),"Download Export"]})]})]}),b&&m.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[m.jsx("div",{className:"px-4 py-2 bg-gray-900 border-b border-gray-800 text-xs text-gray-400",children:"Preview"}),m.jsx("pre",{className:"p-4 text-xs text-gray-300 font-mono overflow-auto max-h-80 whitespace-pre-wrap",children:b})]})]}),n==="import"&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Format"}),m.jsx("div",{className:"flex gap-1",children:["prometheus","json","csv","native"].map(Q=>m.jsx("button",{onClick:()=>k(Q),className:`px-3 py-1.5 rounded text-xs font-medium capitalize ${A===Q?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:Q==="prometheus"?"Prometheus Text":Q.toUpperCase()},Q))})]}),A==="csv"&&m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"CSV Format String"}),m.jsx("input",{type:"text",value:M,onChange:Q=>E(Q.target.value),placeholder:"e.g. 2:metric:cpu,3:label:host,4:time:unix_s",className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs font-mono placeholder-gray-600 focus:outline-none focus:border-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Choose a file or paste data below"}),m.jsx("input",{type:"file",onChange:V,className:"block text-xs text-gray-400 mb-2"}),m.jsx("textarea",{value:T,onChange:Q=>D(Q.target.value),rows:8,placeholder:A==="prometheus"?'metric_name{label="value"} 123 1700000000000':"Paste data here...",className:"w-full px-3 py-2 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs font-mono placeholder-gray-600 focus:outline-none focus:border-blue-500 resize-none"})]}),m.jsxs("button",{onClick:H,disabled:_||!T.trim(),className:"flex items-center gap-1.5 px-4 py-2 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium transition-colors disabled:opacity-40",children:[m.jsx(Wm,{size:12}),_?"Importing...":"Import Data"]})]}),I&&m.jsx("div",{className:"p-3 rounded bg-green-900/20 border border-green-800/50 text-green-300 text-sm",children:I})]})]})}function Epe(){const{connection:t,auth:e}=br(),[n,r]=w.useState(null),[i,a]=w.useState(null),[l,o]=w.useState(null),[u,h]=w.useState(""),[d,p]=w.useState([]),[y,v]=w.useState(!1),[b,C]=w.useState(!1),[j,N]=w.useState(!1),[A,k]=w.useState(""),[T,D]=w.useState(!1),[M,E]=w.useState(!1),[_,L]=w.useState(!1),I=w.useCallback(async()=>{if(!(!t||t.type!=="victoriametrics"))try{const V=await $z(t.url,e);r(V)}catch{}},[t,e]);w.useEffect(()=>{I()},[I]);const B=async()=>{if(!(!t||!u.trim())){v(!0),a(null);try{const V=await Mt.getSeries(t.url,[u.trim()],e);if(V.status==="success"){const Q=V.data.map(se=>{const he=se.__name__||"",R=Object.entries(se).filter(([W])=>W!=="__name__").map(([W,fe])=>`${W}="${fe}"`).join(", ");return R?`${he}{${R}}`:he});p(Q.slice(0,100))}}catch(V){a(V.message)}finally{v(!1)}}},z=async()=>{if(!(!t||!u.trim())){C(!1),N(!0),a(null),o(null);try{await jpe(t.url,u.trim(),e),o(`Series matching "${u}" have been deleted. Run force merge on affected partitions to reclaim disk space.`),p([]),h(""),await I()}catch(V){a(V.message)}finally{N(!1)}}},$=async()=>{if(!(!t||!A.trim())){E(!1),D(!0),a(null),o(null);try{await wpe(t.url,A.trim(),e),o(`Force merge triggered for partition ${A}. This runs in the background.`)}catch(V){a(V.message)}finally{D(!1)}}},ee=async()=>{if(t){L(!0),a(null),o(null);try{await Spe(t.url,e),o("Rollup result cache has been reset.")}catch(V){a(V.message)}finally{L(!1)}}};if(!t||t.type!=="victoriametrics")return m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a VictoriaMetrics connection."})});const F=[],H=new Date;for(let V=0;V<12;V++){const Q=new Date(H.getFullYear(),H.getMonth()-V,1);F.push(`${Q.getFullYear()}_${String(Q.getMonth()+1).padStart(2,"0")}`)}return m.jsxs("div",{className:"p-6 space-y-6 max-w-5xl mx-auto",children:[m.jsx("h1",{className:"text-lg font-semibold text-white",children:"Admin Operations"}),i&&m.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:i}),l&&m.jsx("div",{className:"p-3 rounded bg-green-900/20 border border-green-800/50 text-green-300 text-sm",children:l}),m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-4",children:[m.jsxs("h2",{className:"text-sm font-medium text-white flex items-center gap-2",children:[m.jsx($r,{size:14,className:"text-blue-400"}),"Series Management"]}),n!==null&&m.jsxs("p",{className:"text-xs text-gray-400",children:["Total Series: ",m.jsx("span",{className:"text-white font-medium",children:n.toLocaleString()})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Delete Series Matching"}),m.jsx("input",{type:"text",value:u,onChange:V=>h(V.target.value),placeholder:'{__name__="old_metric_name"}',className:"w-full px-3 py-2 rounded bg-gray-800 border border-gray-700 text-gray-200 text-sm font-mono placeholder-gray-600 focus:outline-none focus:border-blue-500"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:B,disabled:y||!u.trim(),className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-white text-xs font-medium transition-colors disabled:opacity-40",children:y?"Loading...":"Preview (dry run)"}),m.jsxs("button",{onClick:()=>C(!0),disabled:j||!u.trim(),className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-red-600 hover:bg-red-500 text-white text-xs font-medium transition-colors disabled:opacity-40",children:[m.jsx(ai,{size:12}),j?"Deleting...":"Delete Series"]})]}),d.length>0&&m.jsxs("div",{className:"rounded border border-gray-800 bg-gray-900/50 p-3 max-h-48 overflow-auto",children:[m.jsxs("p",{className:"text-xs text-gray-400 mb-2",children:["Found ",d.length," matching series",d.length>=100?" (showing first 100)":"",":"]}),d.map((V,Q)=>m.jsx("p",{className:"text-xs font-mono text-gray-300 truncate",children:V},Q))]})]}),m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-4",children:[m.jsxs("h2",{className:"text-sm font-medium text-white flex items-center gap-2",children:[m.jsx(Km,{size:14,className:"text-yellow-400"}),"Force Merge"]}),m.jsxs("div",{className:"p-3 rounded bg-yellow-900/20 border border-yellow-800/50 text-yellow-300 text-xs",children:[m.jsx(Qu,{size:12,className:"inline mr-1"}),"Force merge consumes additional CPU, disk IO, and storage space. Only use to reclaim space after deleting series from old partitions."]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Partition (YYYY_MM)"}),m.jsxs("select",{value:A,onChange:V=>k(V.target.value),className:"px-3 py-2 rounded bg-gray-800 border border-gray-700 text-gray-300 text-sm",children:[m.jsx("option",{value:"",children:"Select partition..."}),F.map(V=>m.jsx("option",{value:V,children:V},V))]})]}),m.jsxs("button",{onClick:()=>E(!0),disabled:T||!A,className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-yellow-600 hover:bg-yellow-500 text-white text-xs font-medium transition-colors disabled:opacity-40",children:[m.jsx(Km,{size:12}),T?"Merging...":"Trigger Force Merge"]})]}),m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-3",children:[m.jsxs("h2",{className:"text-sm font-medium text-white flex items-center gap-2",children:[m.jsx(bt,{size:14,className:"text-green-400"}),"Cache Management"]}),m.jsx("p",{className:"text-xs text-gray-500",children:"Reset the rollup result cache. Recommended after backfilling data so new data is reflected in query results."}),m.jsxs("button",{onClick:ee,disabled:_,className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-green-600 hover:bg-green-500 text-white text-xs font-medium transition-colors disabled:opacity-40",children:[m.jsx(bt,{size:12,className:_?"animate-spin":""}),_?"Resetting...":"Reset Rollup Result Cache"]})]}),b&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:m.jsxs("div",{className:"bg-gray-900 rounded-lg border border-gray-700 p-6 max-w-md w-full mx-4",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx(Qu,{size:20,className:"text-red-400"}),m.jsx("h3",{className:"text-sm font-semibold text-white",children:"Delete Series?"})]}),m.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"This will delete all series matching:"}),m.jsx("code",{className:"block text-xs text-red-300 font-mono bg-gray-800 p-2 rounded mb-4",children:u}),m.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"This action cannot be undone. You may need to run force merge afterward to reclaim disk space."}),m.jsxs("div",{className:"flex gap-2 justify-end",children:[m.jsx("button",{onClick:()=>C(!1),className:"px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-gray-300 text-xs",children:"Cancel"}),m.jsx("button",{onClick:z,className:"px-3 py-1.5 rounded bg-red-600 hover:bg-red-500 text-white text-xs font-medium",children:"Delete"})]})]})}),M&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:m.jsxs("div",{className:"bg-gray-900 rounded-lg border border-gray-700 p-6 max-w-md w-full mx-4",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx(Qu,{size:20,className:"text-yellow-400"}),m.jsx("h3",{className:"text-sm font-semibold text-white",children:"Trigger Force Merge?"})]}),m.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:["This will trigger a force merge on partition ",m.jsx("strong",{className:"text-white",children:A}),". This consumes additional CPU and disk IO resources."]}),m.jsxs("div",{className:"flex gap-2 justify-end",children:[m.jsx("button",{onClick:()=>E(!1),className:"px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-gray-300 text-xs",children:"Cancel"}),m.jsx("button",{onClick:$,className:"px-3 py-1.5 rounded bg-yellow-600 hover:bg-yellow-500 text-white text-xs font-medium",children:"Merge"})]})]})})]})}function Tpe(){return m.jsx(i$,{children:m.jsxs(fU,{children:[m.jsx(Qe,{path:"/",element:m.jsx(Cu,{to:"/influxdb/query",replace:!0})}),m.jsx(Qe,{path:"/explore",element:m.jsx(Cu,{to:"/influxdb/query",replace:!0})}),m.jsx(Qe,{path:"/admin",element:m.jsx(Cu,{to:"/influxdb/admin",replace:!0})}),m.jsx(Qe,{path:"/write",element:m.jsx(Cu,{to:"/influxdb/write",replace:!0})}),m.jsx(Qe,{path:"/health",element:m.jsx(Cu,{to:"/influxdb/health",replace:!0})}),m.jsx(Qe,{path:"/influxdb/query",element:m.jsx(_me,{})}),m.jsx(Qe,{path:"/influxdb/admin",element:m.jsx(Xme,{})}),m.jsx(Qe,{path:"/influxdb/write",element:m.jsx(tpe,{})}),m.jsx(Qe,{path:"/influxdb/health",element:m.jsx(ipe,{})}),m.jsx(Qe,{path:"/prometheus/query",element:m.jsx(h3,{})}),m.jsx(Qe,{path:"/prometheus/targets",element:m.jsx(d3,{})}),m.jsx(Qe,{path:"/prometheus/alerts",element:m.jsx(m3,{})}),m.jsx(Qe,{path:"/prometheus/alertmanager",element:m.jsx(p3,{})}),m.jsx(Qe,{path:"/prometheus/tsdb",element:m.jsx(hpe,{})}),m.jsx(Qe,{path:"/prometheus/metrics",element:m.jsx(y3,{})}),m.jsx(Qe,{path:"/prometheus/config",element:m.jsx(v3,{})}),m.jsx(Qe,{path:"/prometheus/service-discovery",element:m.jsx(x3,{})}),m.jsx(Qe,{path:"/victoriametrics/query",element:m.jsx(h3,{})}),m.jsx(Qe,{path:"/victoriametrics/targets",element:m.jsx(d3,{})}),m.jsx(Qe,{path:"/victoriametrics/alerts",element:m.jsx(m3,{})}),m.jsx(Qe,{path:"/victoriametrics/alertmanager",element:m.jsx(p3,{})}),m.jsx(Qe,{path:"/victoriametrics/metrics",element:m.jsx(y3,{})}),m.jsx(Qe,{path:"/victoriametrics/config",element:m.jsx(v3,{})}),m.jsx(Qe,{path:"/victoriametrics/service-discovery",element:m.jsx(x3,{})}),m.jsx(Qe,{path:"/victoriametrics/tsdb",element:m.jsx(kpe,{})}),m.jsx(Qe,{path:"/victoriametrics/active-queries",element:m.jsx(Npe,{})}),m.jsx(Qe,{path:"/victoriametrics/snapshots",element:m.jsx(Ope,{})}),m.jsx(Qe,{path:"/victoriametrics/export-import",element:m.jsx(Ape,{})}),m.jsx(Qe,{path:"/victoriametrics/admin",element:m.jsx(Epe,{})})]})})}w9.createRoot(document.getElementById("root")).render(m.jsx(yS.StrictMode,{children:m.jsx(xU,{basename:da+"/ui",children:m.jsx(Tpe,{})})}));
