function z7(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function _i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dv={exports:{}},gu={};var PA;function I7(){if(PA)return gu;PA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:a}}return gu.Fragment=e,gu.jsx=n,gu.jsxs=n,gu}var _A;function U7(){return _A||(_A=1,Dv.exports=I7()),Dv.exports}var g=U7(),Pv={exports:{}},Te={};var RA;function H7(){if(RA)return Te;RA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),y=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=y&&L[y]||L["@@iterator"],typeof L=="function"?L:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,C={};function k(L,Y,ue){this.props=L,this.context=Y,this.refs=C,this.updater=ue||b}k.prototype.isReactComponent={},k.prototype.setState=function(L,Y){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Y,"setState")},k.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function N(){}N.prototype=k.prototype;function j(L,Y,ue){this.props=L,this.context=Y,this.refs=C,this.updater=ue||b}var M=j.prototype=new N;M.constructor=j,O(M,k.prototype),M.isPureReactComponent=!0;var D=Array.isArray;function T(){}var E={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function R(L,Y,ue){var X=ue.ref;return{$$typeof:t,type:L,key:Y,ref:X!==void 0?X:null,props:ue}}function H(L,Y){return R(L.type,Y,L.props)}function B(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function z(L){var Y={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ue){return Y[ue]})}var ie=/\/+/g;function ne(L,Y){return typeof L=="object"&&L!==null&&L.key!=null?z(""+L.key):Y.toString(36)}function I(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(T,T):(L.status="pending",L.then(function(Y){L.status==="pending"&&(L.status="fulfilled",L.value=Y)},function(Y){L.status==="pending"&&(L.status="rejected",L.reason=Y)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function q(L,Y,ue,X,de){var he=typeof L;(he==="undefined"||he==="boolean")&&(L=null);var ve=!1;if(L===null)ve=!0;else switch(he){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(L.$$typeof){case t:case e:ve=!0;break;case d:return ve=L._init,q(ve(L._payload),Y,ue,X,de)}}if(ve)return de=de(L),ve=X===""?"."+ne(L,0):X,D(de)?(ue="",ve!=null&&(ue=ve.replace(ie,"$&/")+"/"),q(de,Y,ue,"",function(Ee){return Ee})):de!=null&&(B(de)&&(de=H(de,ue+(de.key==null||L&&L.key===de.key?"":(""+de.key).replace(ie,"$&/")+"/")+ve)),Y.push(de)),1;ve=0;var ot=X===""?".":X+":";if(D(L))for(var ae=0;ae<L.length;ae++)X=L[ae],he=ot+ne(X,ae),ve+=q(X,Y,ue,he,de);else if(ae=v(L),typeof ae=="function")for(L=ae.call(L),ae=0;!(X=L.next()).done;)X=X.value,he=ot+ne(X,ae++),ve+=q(X,Y,ue,he,de);else if(he==="object"){if(typeof L.then=="function")return q(I(L),Y,ue,X,de);throw Y=String(L),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ve}function V(L,Y,ue){if(L==null)return L;var X=[],de=0;return q(L,X,"","",function(he){return Y.call(ue,he,de++)}),X}function te(L){if(L._status===-1){var Y=L._result;Y=Y(),Y.then(function(ue){(L._status===0||L._status===-1)&&(L._status=1,L._result=ue)},function(ue){(L._status===0||L._status===-1)&&(L._status=2,L._result=ue)}),L._status===-1&&(L._status=0,L._result=Y)}if(L._status===1)return L._result.default;throw L._result}var W=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},ce={map:V,forEach:function(L,Y,ue){V(L,function(){Y.apply(this,arguments)},ue)},count:function(L){var Y=0;return V(L,function(){Y++}),Y},toArray:function(L){return V(L,function(Y){return Y})||[]},only:function(L){if(!B(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Te.Activity=m,Te.Children=ce,Te.Component=k,Te.Fragment=n,Te.Profiler=i,Te.PureComponent=j,Te.StrictMode=r,Te.Suspense=u,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Te.__COMPILER_RUNTIME={__proto__:null,c:function(L){return E.H.useMemoCache(L)}},Te.cache=function(L){return function(){return L.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(L,Y,ue){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var X=O({},L.props),de=L.key;if(Y!=null)for(he in Y.key!==void 0&&(de=""+Y.key),Y)!_.call(Y,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&Y.ref===void 0||(X[he]=Y[he]);var he=arguments.length-2;if(he===1)X.children=ue;else if(1<he){for(var ve=Array(he),ot=0;ot<he;ot++)ve[ot]=arguments[ot+2];X.children=ve}return R(L.type,de,X)},Te.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:a,_context:L},L},Te.createElement=function(L,Y,ue){var X,de={},he=null;if(Y!=null)for(X in Y.key!==void 0&&(he=""+Y.key),Y)_.call(Y,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(de[X]=Y[X]);var ve=arguments.length-2;if(ve===1)de.children=ue;else if(1<ve){for(var ot=Array(ve),ae=0;ae<ve;ae++)ot[ae]=arguments[ae+2];de.children=ot}if(L&&L.defaultProps)for(X in ve=L.defaultProps,ve)de[X]===void 0&&(de[X]=ve[X]);return R(L,he,de)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(L){return{$$typeof:o,render:L}},Te.isValidElement=B,Te.lazy=function(L){return{$$typeof:d,_payload:{_status:-1,_result:L},_init:te}},Te.memo=function(L,Y){return{$$typeof:h,type:L,compare:Y===void 0?null:Y}},Te.startTransition=function(L){var Y=E.T,ue={};E.T=ue;try{var X=L(),de=E.S;de!==null&&de(ue,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(T,W)}catch(he){W(he)}finally{Y!==null&&ue.types!==null&&(Y.types=ue.types),E.T=Y}},Te.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},Te.use=function(L){return E.H.use(L)},Te.useActionState=function(L,Y,ue){return E.H.useActionState(L,Y,ue)},Te.useCallback=function(L,Y){return E.H.useCallback(L,Y)},Te.useContext=function(L){return E.H.useContext(L)},Te.useDebugValue=function(){},Te.useDeferredValue=function(L,Y){return E.H.useDeferredValue(L,Y)},Te.useEffect=function(L,Y){return E.H.useEffect(L,Y)},Te.useEffectEvent=function(L){return E.H.useEffectEvent(L)},Te.useId=function(){return E.H.useId()},Te.useImperativeHandle=function(L,Y,ue){return E.H.useImperativeHandle(L,Y,ue)},Te.useInsertionEffect=function(L,Y){return E.H.useInsertionEffect(L,Y)},Te.useLayoutEffect=function(L,Y){return E.H.useLayoutEffect(L,Y)},Te.useMemo=function(L,Y){return E.H.useMemo(L,Y)},Te.useOptimistic=function(L,Y){return E.H.useOptimistic(L,Y)},Te.useReducer=function(L,Y,ue){return E.H.useReducer(L,Y,ue)},Te.useRef=function(L){return E.H.useRef(L)},Te.useState=function(L){return E.H.useState(L)},Te.useSyncExternalStore=function(L,Y,ue){return E.H.useSyncExternalStore(L,Y,ue)},Te.useTransition=function(){return E.H.useTransition()},Te.version="19.2.4",Te}var LA;function ac(){return LA||(LA=1,Pv.exports=H7()),Pv.exports}var S=ac();const eP=_i(S),tP=z7({__proto__:null,default:eP},[S]);var _v={exports:{}},yu={},Rv={exports:{}},Lv={};var BA;function q7(){return BA||(BA=1,(function(t){function e(q,V){var te=q.length;q.push(V);e:for(;0<te;){var W=te-1>>>1,ce=q[W];if(0<i(ce,V))q[W]=V,q[te]=ce,te=W;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var V=q[0],te=q.pop();if(te!==V){q[0]=te;e:for(var W=0,ce=q.length,L=ce>>>1;W<L;){var Y=2*(W+1)-1,ue=q[Y],X=Y+1,de=q[X];if(0>i(ue,te))X<ce&&0>i(de,ue)?(q[W]=de,q[X]=te,W=X):(q[W]=ue,q[Y]=te,W=Y);else if(X<ce&&0>i(de,te))q[W]=de,q[X]=te,W=X;else break e}}return V}function i(q,V){var te=q.sortIndex-V.sortIndex;return te!==0?te:q.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var u=[],h=[],d=1,m=null,y=3,v=!1,b=!1,O=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function M(q){for(var V=n(h);V!==null;){if(V.callback===null)r(h);else if(V.startTime<=q)r(h),V.sortIndex=V.expirationTime,e(u,V);else break;V=n(h)}}function D(q){if(O=!1,M(q),!b)if(n(u)!==null)b=!0,T||(T=!0,z());else{var V=n(h);V!==null&&I(D,V.startTime-q)}}var T=!1,E=-1,_=5,R=-1;function H(){return C?!0:!(t.unstable_now()-R<_)}function B(){if(C=!1,T){var q=t.unstable_now();R=q;var V=!0;try{e:{b=!1,O&&(O=!1,N(E),E=-1),v=!0;var te=y;try{t:{for(M(q),m=n(u);m!==null&&!(m.expirationTime>q&&H());){var W=m.callback;if(typeof W=="function"){m.callback=null,y=m.priorityLevel;var ce=W(m.expirationTime<=q);if(q=t.unstable_now(),typeof ce=="function"){m.callback=ce,M(q),V=!0;break t}m===n(u)&&r(u),M(q)}else r(u);m=n(u)}if(m!==null)V=!0;else{var L=n(h);L!==null&&I(D,L.startTime-q),V=!1}}break e}finally{m=null,y=te,v=!1}V=void 0}}finally{V?z():T=!1}}}var z;if(typeof j=="function")z=function(){j(B)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ne=ie.port2;ie.port1.onmessage=B,z=function(){ne.postMessage(null)}}else z=function(){k(B,0)};function I(q,V){E=k(function(){q(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(q){switch(y){case 1:case 2:case 3:var V=3;break;default:V=y}var te=y;y=V;try{return q()}finally{y=te}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(q,V){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var te=y;y=q;try{return V()}finally{y=te}},t.unstable_scheduleCallback=function(q,V,te){var W=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?W+te:W):te=W,q){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=te+ce,q={id:d++,callback:V,priorityLevel:q,startTime:te,expirationTime:ce,sortIndex:-1},te>W?(q.sortIndex=te,e(h,q),n(u)===null&&q===n(h)&&(O?(N(E),E=-1):O=!0,I(D,te-W))):(q.sortIndex=ce,e(u,q),b||v||(b=!0,T||(T=!0,z()))),q},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(q){var V=y;return function(){var te=y;y=V;try{return q.apply(this,arguments)}finally{y=te}}}})(Lv)),Lv}var zA;function $7(){return zA||(zA=1,Rv.exports=q7()),Rv.exports}var Bv={exports:{}},Sn={};var IA;function V7(){if(IA)return Sn;IA=1;var t=ac();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)h+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,h,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:u,containerInfo:h,implementation:d}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Sn.createPortal=function(u,h){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(u,h,null,d)},Sn.flushSync=function(u){var h=l.T,d=r.p;try{if(l.T=null,r.p=2,u)return u()}finally{l.T=h,r.p=d,r.d.f()}},Sn.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(u,h))},Sn.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Sn.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var d=h.as,m=o(d,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;d==="style"?r.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:v}):d==="script"&&r.d.X(u,{crossOrigin:m,integrity:y,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Sn.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var d=o(h.as,h.crossOrigin);r.d.M(u,{crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(u)},Sn.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var d=h.as,m=o(d,h.crossOrigin);r.d.L(u,d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Sn.preloadModule=function(u,h){if(typeof u=="string")if(h){var d=o(h.as,h.crossOrigin);r.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(u)},Sn.requestFormReset=function(u){r.d.r(u)},Sn.unstable_batchedUpdates=function(u,h){return u(h)},Sn.useFormState=function(u,h,d){return l.H.useFormState(u,h,d)},Sn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Sn.version="19.2.4",Sn}var UA;function nP(){if(UA)return Bv.exports;UA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bv.exports=V7(),Bv.exports}var HA;function F7(){if(HA)return yu;HA=1;var t=$7(),e=ac(),n=nP();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,f=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(f=c.return),s=c.return;while(s)}return c.tag===3?f:null}function l(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function o(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function h(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(r(188));return c!==s?null:s}for(var f=s,p=c;;){var x=f.return;if(x===null)break;var w=x.alternate;if(w===null){if(p=x.return,p!==null){f=p;continue}break}if(x.child===w.child){for(w=x.child;w;){if(w===f)return u(x),s;if(w===p)return u(x),c;w=w.sibling}throw Error(r(188))}if(f.return!==p.return)f=x,p=w;else{for(var A=!1,P=x.child;P;){if(P===f){A=!0,f=x,p=w;break}if(P===p){A=!0,p=x,f=w;break}P=P.sibling}if(!A){for(P=w.child;P;){if(P===f){A=!0,f=w,p=x;break}if(P===p){A=!0,p=w,f=x;break}P=P.sibling}if(!A)throw Error(r(189))}}if(f.alternate!==p)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?s:c}function d(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=d(s),c!==null)return c;s=s.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),j=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var ie=Symbol.for("react.client.reference");function ne(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===ie?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case O:return"Fragment";case k:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case T:return"SuspenseList";case R:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case j:return s.displayName||"Context";case N:return(s._context.displayName||"Context")+".Consumer";case M:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case E:return c=s.displayName||null,c!==null?c:ne(s.type)||"Memo";case _:c=s._payload,s=s._init;try{return ne(s(c))}catch{}}return null}var I=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},W=[],ce=-1;function L(s){return{current:s}}function Y(s){0>ce||(s.current=W[ce],W[ce]=null,ce--)}function ue(s,c){ce++,W[ce]=s.current,s.current=c}var X=L(null),de=L(null),he=L(null),ve=L(null);function ot(s,c){switch(ue(he,c),ue(de,s),ue(X,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?nA(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=nA(c),s=rA(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Y(X),ue(X,s)}function ae(){Y(X),Y(de),Y(he)}function Ee(s){s.memoizedState!==null&&ue(ve,s);var c=X.current,f=rA(c,s.type);c!==f&&(ue(de,s),ue(X,f))}function _e(s){de.current===s&&(Y(X),Y(de)),ve.current===s&&(Y(ve),hu._currentValue=te)}var fe,bt;function $e(s){if(fe===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);fe=c&&c[1]||"",bt=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+s+bt}var rn=!1;function an(s,c){if(!s||rn)return"";rn=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(c){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(J){var Q=J}Reflect.construct(s,[],le)}else{try{le.call()}catch(J){Q=J}s.call(le.prototype)}}else{try{throw Error()}catch(J){Q=J}(le=s())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=p.DetermineComponentFrameRoot(),A=w[0],P=w[1];if(A&&P){var U=A.split(`
`),G=P.split(`
`);for(x=p=0;p<U.length&&!U[p].includes("DetermineComponentFrameRoot");)p++;for(;x<G.length&&!G[x].includes("DetermineComponentFrameRoot");)x++;if(p===U.length||x===G.length)for(p=U.length-1,x=G.length-1;1<=p&&0<=x&&U[p]!==G[x];)x--;for(;1<=p&&0<=x;p--,x--)if(U[p]!==G[x]){if(p!==1||x!==1)do if(p--,x--,0>x||U[p]!==G[x]){var re=`
`+U[p].replace(" at new "," at ");return s.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",s.displayName)),re}while(1<=p&&0<=x);break}}}finally{rn=!1,Error.prepareStackTrace=f}return(f=s?s.displayName||s.name:"")?$e(f):""}function zi(s,c){switch(s.tag){case 26:case 27:case 5:return $e(s.type);case 16:return $e("Lazy");case 13:return s.child!==c&&c!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return an(s.type,!1);case 11:return an(s.type.render,!1);case 1:return an(s.type,!0);case 31:return $e("Activity");default:return""}}function Cc(s){try{var c="",f=null;do c+=zi(s,f),f=s,s=s.return;while(s);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var y0=Object.prototype.hasOwnProperty,v0=t.unstable_scheduleCallback,x0=t.unstable_cancelCallback,gz=t.unstable_shouldYield,yz=t.unstable_requestPaint,tr=t.unstable_now,vz=t.unstable_getCurrentPriorityLevel,_C=t.unstable_ImmediatePriority,RC=t.unstable_UserBlockingPriority,dh=t.unstable_NormalPriority,xz=t.unstable_LowPriority,LC=t.unstable_IdlePriority,bz=t.log,wz=t.unstable_setDisableYieldValue,Oc=null,nr=null;function Ma(s){if(typeof bz=="function"&&wz(s),nr&&typeof nr.setStrictMode=="function")try{nr.setStrictMode(Oc,s)}catch{}}var rr=Math.clz32?Math.clz32:Oz,Sz=Math.log,Cz=Math.LN2;function Oz(s){return s>>>=0,s===0?32:31-(Sz(s)/Cz|0)|0}var mh=256,ph=262144,gh=4194304;function _s(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function yh(s,c,f){var p=s.pendingLanes;if(p===0)return 0;var x=0,w=s.suspendedLanes,A=s.pingedLanes;s=s.warmLanes;var P=p&134217727;return P!==0?(p=P&~w,p!==0?x=_s(p):(A&=P,A!==0?x=_s(A):f||(f=P&~s,f!==0&&(x=_s(f))))):(P=p&~w,P!==0?x=_s(P):A!==0?x=_s(A):f||(f=p&~s,f!==0&&(x=_s(f)))),x===0?0:c!==0&&c!==x&&(c&w)===0&&(w=x&-x,f=c&-c,w>=f||w===32&&(f&4194048)!==0)?c:x}function kc(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function kz(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BC(){var s=gh;return gh<<=1,(gh&62914560)===0&&(gh=4194304),s}function b0(s){for(var c=[],f=0;31>f;f++)c.push(s);return c}function jc(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function jz(s,c,f,p,x,w){var A=s.pendingLanes;s.pendingLanes=f,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=f,s.entangledLanes&=f,s.errorRecoveryDisabledLanes&=f,s.shellSuspendCounter=0;var P=s.entanglements,U=s.expirationTimes,G=s.hiddenUpdates;for(f=A&~f;0<f;){var re=31-rr(f),le=1<<re;P[re]=0,U[re]=-1;var Q=G[re];if(Q!==null)for(G[re]=null,re=0;re<Q.length;re++){var J=Q[re];J!==null&&(J.lane&=-536870913)}f&=~le}p!==0&&zC(s,p,0),w!==0&&x===0&&s.tag!==0&&(s.suspendedLanes|=w&~(A&~c))}function zC(s,c,f){s.pendingLanes|=c,s.suspendedLanes&=~c;var p=31-rr(c);s.entangledLanes|=c,s.entanglements[p]=s.entanglements[p]|1073741824|f&261930}function IC(s,c){var f=s.entangledLanes|=c;for(s=s.entanglements;f;){var p=31-rr(f),x=1<<p;x&c|s[p]&c&&(s[p]|=c),f&=~x}}function UC(s,c){var f=c&-c;return f=(f&42)!==0?1:w0(f),(f&(s.suspendedLanes|c))!==0?0:f}function w0(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function S0(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function HC(){var s=V.p;return s!==0?s:(s=window.event,s===void 0?32:jA(s.type))}function qC(s,c){var f=V.p;try{return V.p=s,c()}finally{V.p=f}}var Da=Math.random().toString(36).slice(2),sn="__reactFiber$"+Da,Bn="__reactProps$"+Da,Ll="__reactContainer$"+Da,C0="__reactEvents$"+Da,Az="__reactListeners$"+Da,Nz="__reactHandles$"+Da,$C="__reactResources$"+Da,Ac="__reactMarker$"+Da;function O0(s){delete s[sn],delete s[Bn],delete s[C0],delete s[Az],delete s[Nz]}function Bl(s){var c=s[sn];if(c)return c;for(var f=s.parentNode;f;){if(c=f[Ll]||f[sn]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(s=uA(s);s!==null;){if(f=s[sn])return f;s=uA(s)}return c}s=f,f=s.parentNode}return null}function zl(s){if(s=s[sn]||s[Ll]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function Nc(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function Il(s){var c=s[$C];return c||(c=s[$C]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Vt(s){s[Ac]=!0}var VC=new Set,FC={};function Rs(s,c){Ul(s,c),Ul(s+"Capture",c)}function Ul(s,c){for(FC[s]=c,s=0;s<c.length;s++)VC.add(c[s])}var Ez=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),WC={},KC={};function Tz(s){return y0.call(KC,s)?!0:y0.call(WC,s)?!1:Ez.test(s)?KC[s]=!0:(WC[s]=!0,!1)}function vh(s,c,f){if(Tz(c))if(f===null)s.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var p=c.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+f)}}function xh(s,c,f){if(f===null)s.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+f)}}function Ii(s,c,f,p){if(p===null)s.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(f);return}s.setAttributeNS(c,f,""+p)}}function br(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function GC(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Mz(s,c,f){var p=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var x=p.get,w=p.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return x.call(this)},set:function(A){f=""+A,w.call(this,A)}}),Object.defineProperty(s,c,{enumerable:p.enumerable}),{getValue:function(){return f},setValue:function(A){f=""+A},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function k0(s){if(!s._valueTracker){var c=GC(s)?"checked":"value";s._valueTracker=Mz(s,c,""+s[c])}}function YC(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var f=c.getValue(),p="";return s&&(p=GC(s)?s.checked?"true":"false":s.value),s=p,s!==f?(c.setValue(s),!0):!1}function bh(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Dz=/[\n"\\]/g;function wr(s){return s.replace(Dz,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function j0(s,c,f,p,x,w,A,P){s.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.type=A:s.removeAttribute("type"),c!=null?A==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+br(c)):s.value!==""+br(c)&&(s.value=""+br(c)):A!=="submit"&&A!=="reset"||s.removeAttribute("value"),c!=null?A0(s,A,br(c)):f!=null?A0(s,A,br(f)):p!=null&&s.removeAttribute("value"),x==null&&w!=null&&(s.defaultChecked=!!w),x!=null&&(s.checked=x&&typeof x!="function"&&typeof x!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?s.name=""+br(P):s.removeAttribute("name")}function QC(s,c,f,p,x,w,A,P){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),c!=null||f!=null){if(!(w!=="submit"&&w!=="reset"||c!=null)){k0(s);return}f=f!=null?""+br(f):"",c=c!=null?""+br(c):f,P||c===s.value||(s.value=c),s.defaultValue=c}p=p??x,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=P?s.checked:!!p,s.defaultChecked=!!p,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.name=A),k0(s)}function A0(s,c,f){c==="number"&&bh(s.ownerDocument)===s||s.defaultValue===""+f||(s.defaultValue=""+f)}function Hl(s,c,f,p){if(s=s.options,c){c={};for(var x=0;x<f.length;x++)c["$"+f[x]]=!0;for(f=0;f<s.length;f++)x=c.hasOwnProperty("$"+s[f].value),s[f].selected!==x&&(s[f].selected=x),x&&p&&(s[f].defaultSelected=!0)}else{for(f=""+br(f),c=null,x=0;x<s.length;x++){if(s[x].value===f){s[x].selected=!0,p&&(s[x].defaultSelected=!0);return}c!==null||s[x].disabled||(c=s[x])}c!==null&&(c.selected=!0)}}function XC(s,c,f){if(c!=null&&(c=""+br(c),c!==s.value&&(s.value=c),f==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=f!=null?""+br(f):""}function ZC(s,c,f,p){if(c==null){if(p!=null){if(f!=null)throw Error(r(92));if(I(p)){if(1<p.length)throw Error(r(93));p=p[0]}f=p}f==null&&(f=""),c=f}f=br(c),s.defaultValue=f,p=s.textContent,p===f&&p!==""&&p!==null&&(s.value=p),k0(s)}function ql(s,c){if(c){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=c;return}}s.textContent=c}var Pz=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function JC(s,c,f){var p=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?p?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":p?s.setProperty(c,f):typeof f!="number"||f===0||Pz.has(c)?c==="float"?s.cssFloat=f:s[c]=(""+f).trim():s[c]=f+"px"}function eO(s,c,f){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,f!=null){for(var p in f)!f.hasOwnProperty(p)||c!=null&&c.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var x in c)p=c[x],c.hasOwnProperty(x)&&f[x]!==p&&JC(s,x,p)}else for(var w in c)c.hasOwnProperty(w)&&JC(s,w,c[w])}function N0(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _z=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rz=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wh(s){return Rz.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ui(){}var E0=null;function T0(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var $l=null,Vl=null;function tO(s){var c=zl(s);if(c&&(s=c.stateNode)){var f=s[Bn]||null;e:switch(s=c.stateNode,c.type){case"input":if(j0(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+wr(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var p=f[c];if(p!==s&&p.form===s.form){var x=p[Bn]||null;if(!x)throw Error(r(90));j0(p,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(c=0;c<f.length;c++)p=f[c],p.form===s.form&&YC(p)}break e;case"textarea":XC(s,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&Hl(s,!!f.multiple,c,!1)}}}var M0=!1;function nO(s,c,f){if(M0)return s(c,f);M0=!0;try{var p=s(c);return p}finally{if(M0=!1,($l!==null||Vl!==null)&&(od(),$l&&(c=$l,s=Vl,Vl=$l=null,tO(c),s)))for(c=0;c<s.length;c++)tO(s[c])}}function Ec(s,c){var f=s.stateNode;if(f===null)return null;var p=f[Bn]||null;if(p===null)return null;f=p[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(r(231,c,typeof f));return f}var Hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),D0=!1;if(Hi)try{var Tc={};Object.defineProperty(Tc,"passive",{get:function(){D0=!0}}),window.addEventListener("test",Tc,Tc),window.removeEventListener("test",Tc,Tc)}catch{D0=!1}var Pa=null,P0=null,Sh=null;function rO(){if(Sh)return Sh;var s,c=P0,f=c.length,p,x="value"in Pa?Pa.value:Pa.textContent,w=x.length;for(s=0;s<f&&c[s]===x[s];s++);var A=f-s;for(p=1;p<=A&&c[f-p]===x[w-p];p++);return Sh=x.slice(s,1<p?1-p:void 0)}function Ch(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function Oh(){return!0}function iO(){return!1}function zn(s){function c(f,p,x,w,A){this._reactName=f,this._targetInst=x,this.type=p,this.nativeEvent=w,this.target=A,this.currentTarget=null;for(var P in s)s.hasOwnProperty(P)&&(f=s[P],this[P]=f?f(w):w[P]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Oh:iO,this.isPropagationStopped=iO,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Oh)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Oh)},persist:function(){},isPersistent:Oh}),c}var Ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kh=zn(Ls),Mc=m({},Ls,{view:0,detail:0}),Lz=zn(Mc),_0,R0,Dc,jh=m({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:B0,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Dc&&(Dc&&s.type==="mousemove"?(_0=s.screenX-Dc.screenX,R0=s.screenY-Dc.screenY):R0=_0=0,Dc=s),_0)},movementY:function(s){return"movementY"in s?s.movementY:R0}}),aO=zn(jh),Bz=m({},jh,{dataTransfer:0}),zz=zn(Bz),Iz=m({},Mc,{relatedTarget:0}),L0=zn(Iz),Uz=m({},Ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Hz=zn(Uz),qz=m({},Ls,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$z=zn(qz),Vz=m({},Ls,{data:0}),sO=zn(Vz),Fz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gz(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=Kz[s])?!!c[s]:!1}function B0(){return Gz}var Yz=m({},Mc,{key:function(s){if(s.key){var c=Fz[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Ch(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Wz[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:B0,charCode:function(s){return s.type==="keypress"?Ch(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ch(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Qz=zn(Yz),Xz=m({},jh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lO=zn(Xz),Zz=m({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:B0}),Jz=zn(Zz),eI=m({},Ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),tI=zn(eI),nI=m({},jh,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),rI=zn(nI),iI=m({},Ls,{newState:0,oldState:0}),aI=zn(iI),sI=[9,13,27,32],z0=Hi&&"CompositionEvent"in window,Pc=null;Hi&&"documentMode"in document&&(Pc=document.documentMode);var lI=Hi&&"TextEvent"in window&&!Pc,oO=Hi&&(!z0||Pc&&8<Pc&&11>=Pc),cO=" ",uO=!1;function fO(s,c){switch(s){case"keyup":return sI.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hO(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Fl=!1;function oI(s,c){switch(s){case"compositionend":return hO(c);case"keypress":return c.which!==32?null:(uO=!0,cO);case"textInput":return s=c.data,s===cO&&uO?null:s;default:return null}}function cI(s,c){if(Fl)return s==="compositionend"||!z0&&fO(s,c)?(s=rO(),Sh=P0=Pa=null,Fl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return oO&&c.locale!=="ko"?null:c.data;default:return null}}var uI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dO(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!uI[s.type]:c==="textarea"}function mO(s,c,f,p){$l?Vl?Vl.push(p):Vl=[p]:$l=p,c=pd(c,"onChange"),0<c.length&&(f=new kh("onChange","change",null,f,p),s.push({event:f,listeners:c}))}var _c=null,Rc=null;function fI(s){Qj(s,0)}function Ah(s){var c=Nc(s);if(YC(c))return s}function pO(s,c){if(s==="change")return c}var gO=!1;if(Hi){var I0;if(Hi){var U0="oninput"in document;if(!U0){var yO=document.createElement("div");yO.setAttribute("oninput","return;"),U0=typeof yO.oninput=="function"}I0=U0}else I0=!1;gO=I0&&(!document.documentMode||9<document.documentMode)}function vO(){_c&&(_c.detachEvent("onpropertychange",xO),Rc=_c=null)}function xO(s){if(s.propertyName==="value"&&Ah(Rc)){var c=[];mO(c,Rc,s,T0(s)),nO(fI,c)}}function hI(s,c,f){s==="focusin"?(vO(),_c=c,Rc=f,_c.attachEvent("onpropertychange",xO)):s==="focusout"&&vO()}function dI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ah(Rc)}function mI(s,c){if(s==="click")return Ah(c)}function pI(s,c){if(s==="input"||s==="change")return Ah(c)}function gI(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var ir=typeof Object.is=="function"?Object.is:gI;function Lc(s,c){if(ir(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var f=Object.keys(s),p=Object.keys(c);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var x=f[p];if(!y0.call(c,x)||!ir(s[x],c[x]))return!1}return!0}function bO(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function wO(s,c){var f=bO(s);s=0;for(var p;f;){if(f.nodeType===3){if(p=s+f.textContent.length,s<=c&&p>=c)return{node:f,offset:c-s};s=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=bO(f)}}function SO(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?SO(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function CO(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=bh(s.document);c instanceof s.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)s=c.contentWindow;else break;c=bh(s.document)}return c}function H0(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var yI=Hi&&"documentMode"in document&&11>=document.documentMode,Wl=null,q0=null,Bc=null,$0=!1;function OO(s,c,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;$0||Wl==null||Wl!==bh(p)||(p=Wl,"selectionStart"in p&&H0(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Bc&&Lc(Bc,p)||(Bc=p,p=pd(q0,"onSelect"),0<p.length&&(c=new kh("onSelect","select",null,c,f),s.push({event:c,listeners:p}),c.target=Wl)))}function Bs(s,c){var f={};return f[s.toLowerCase()]=c.toLowerCase(),f["Webkit"+s]="webkit"+c,f["Moz"+s]="moz"+c,f}var Kl={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},V0={},kO={};Hi&&(kO=document.createElement("div").style,"AnimationEvent"in window||(delete Kl.animationend.animation,delete Kl.animationiteration.animation,delete Kl.animationstart.animation),"TransitionEvent"in window||delete Kl.transitionend.transition);function zs(s){if(V0[s])return V0[s];if(!Kl[s])return s;var c=Kl[s],f;for(f in c)if(c.hasOwnProperty(f)&&f in kO)return V0[s]=c[f];return s}var jO=zs("animationend"),AO=zs("animationiteration"),NO=zs("animationstart"),vI=zs("transitionrun"),xI=zs("transitionstart"),bI=zs("transitioncancel"),EO=zs("transitionend"),TO=new Map,F0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");F0.push("scrollEnd");function Wr(s,c){TO.set(s,c),Rs(c,[s])}var Nh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Sr=[],Gl=0,W0=0;function Eh(){for(var s=Gl,c=W0=Gl=0;c<s;){var f=Sr[c];Sr[c++]=null;var p=Sr[c];Sr[c++]=null;var x=Sr[c];Sr[c++]=null;var w=Sr[c];if(Sr[c++]=null,p!==null&&x!==null){var A=p.pending;A===null?x.next=x:(x.next=A.next,A.next=x),p.pending=x}w!==0&&MO(f,x,w)}}function Th(s,c,f,p){Sr[Gl++]=s,Sr[Gl++]=c,Sr[Gl++]=f,Sr[Gl++]=p,W0|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function K0(s,c,f,p){return Th(s,c,f,p),Mh(s)}function Is(s,c){return Th(s,null,null,c),Mh(s)}function MO(s,c,f){s.lanes|=f;var p=s.alternate;p!==null&&(p.lanes|=f);for(var x=!1,w=s.return;w!==null;)w.childLanes|=f,p=w.alternate,p!==null&&(p.childLanes|=f),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(x=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,x&&c!==null&&(x=31-rr(f),s=w.hiddenUpdates,p=s[x],p===null?s[x]=[c]:p.push(c),c.lane=f|536870912),w):null}function Mh(s){if(50<au)throw au=0,nv=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var Yl={};function wI(s,c,f,p){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(s,c,f,p){return new wI(s,c,f,p)}function G0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function qi(s,c){var f=s.alternate;return f===null?(f=ar(s.tag,c,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=c,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&65011712,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,c=s.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f.refCleanup=s.refCleanup,f}function DO(s,c){s.flags&=65011714;var f=s.alternate;return f===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=f.childLanes,s.lanes=f.lanes,s.child=f.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=f.memoizedProps,s.memoizedState=f.memoizedState,s.updateQueue=f.updateQueue,s.type=f.type,c=f.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function Dh(s,c,f,p,x,w){var A=0;if(p=s,typeof s=="function")G0(s)&&(A=1);else if(typeof s=="string")A=j7(s,f,X.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case R:return s=ar(31,f,c,x),s.elementType=R,s.lanes=w,s;case O:return Us(f.children,x,w,c);case C:A=8,x|=24;break;case k:return s=ar(12,f,c,x|2),s.elementType=k,s.lanes=w,s;case D:return s=ar(13,f,c,x),s.elementType=D,s.lanes=w,s;case T:return s=ar(19,f,c,x),s.elementType=T,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:A=10;break e;case N:A=9;break e;case M:A=11;break e;case E:A=14;break e;case _:A=16,p=null;break e}A=29,f=Error(r(130,s===null?"null":typeof s,"")),p=null}return c=ar(A,f,c,x),c.elementType=s,c.type=p,c.lanes=w,c}function Us(s,c,f,p){return s=ar(7,s,p,c),s.lanes=f,s}function Y0(s,c,f){return s=ar(6,s,null,c),s.lanes=f,s}function PO(s){var c=ar(18,null,null,0);return c.stateNode=s,c}function Q0(s,c,f){return c=ar(4,s.children!==null?s.children:[],s.key,c),c.lanes=f,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var _O=new WeakMap;function Cr(s,c){if(typeof s=="object"&&s!==null){var f=_O.get(s);return f!==void 0?f:(c={value:s,source:c,stack:Cc(c)},_O.set(s,c),c)}return{value:s,source:c,stack:Cc(c)}}var Ql=[],Xl=0,Ph=null,zc=0,Or=[],kr=0,_a=null,oi=1,ci="";function $i(s,c){Ql[Xl++]=zc,Ql[Xl++]=Ph,Ph=s,zc=c}function RO(s,c,f){Or[kr++]=oi,Or[kr++]=ci,Or[kr++]=_a,_a=s;var p=oi;s=ci;var x=32-rr(p)-1;p&=~(1<<x),f+=1;var w=32-rr(c)+x;if(30<w){var A=x-x%5;w=(p&(1<<A)-1).toString(32),p>>=A,x-=A,oi=1<<32-rr(c)+x|f<<x|p,ci=w+s}else oi=1<<w|f<<x|p,ci=s}function X0(s){s.return!==null&&($i(s,1),RO(s,1,0))}function Z0(s){for(;s===Ph;)Ph=Ql[--Xl],Ql[Xl]=null,zc=Ql[--Xl],Ql[Xl]=null;for(;s===_a;)_a=Or[--kr],Or[kr]=null,ci=Or[--kr],Or[kr]=null,oi=Or[--kr],Or[kr]=null}function LO(s,c){Or[kr++]=oi,Or[kr++]=ci,Or[kr++]=_a,oi=c.id,ci=c.overflow,_a=s}var ln=null,ft=null,He=!1,Ra=null,jr=!1,J0=Error(r(519));function La(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ic(Cr(c,s)),J0}function BO(s){var c=s.stateNode,f=s.type,p=s.memoizedProps;switch(c[sn]=s,c[Bn]=p,f){case"dialog":Be("cancel",c),Be("close",c);break;case"iframe":case"object":case"embed":Be("load",c);break;case"video":case"audio":for(f=0;f<lu.length;f++)Be(lu[f],c);break;case"source":Be("error",c);break;case"img":case"image":case"link":Be("error",c),Be("load",c);break;case"details":Be("toggle",c);break;case"input":Be("invalid",c),QC(c,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Be("invalid",c);break;case"textarea":Be("invalid",c),ZC(c,p.value,p.defaultValue,p.children)}f=p.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||p.suppressHydrationWarning===!0||eA(c.textContent,f)?(p.popover!=null&&(Be("beforetoggle",c),Be("toggle",c)),p.onScroll!=null&&Be("scroll",c),p.onScrollEnd!=null&&Be("scrollend",c),p.onClick!=null&&(c.onclick=Ui),c=!0):c=!1,c||La(s,!0)}function zO(s){for(ln=s.return;ln;)switch(ln.tag){case 5:case 31:case 13:jr=!1;return;case 27:case 3:jr=!0;return;default:ln=ln.return}}function Zl(s){if(s!==ln)return!1;if(!He)return zO(s),He=!0,!1;var c=s.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=s.type,f=!(f!=="form"&&f!=="button")||yv(s.type,s.memoizedProps)),f=!f),f&&ft&&La(s),zO(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));ft=cA(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));ft=cA(s)}else c===27?(c=ft,Qa(s.type)?(s=Sv,Sv=null,ft=s):ft=c):ft=ln?Nr(s.stateNode.nextSibling):null;return!0}function Hs(){ft=ln=null,He=!1}function ey(){var s=Ra;return s!==null&&(qn===null?qn=s:qn.push.apply(qn,s),Ra=null),s}function Ic(s){Ra===null?Ra=[s]:Ra.push(s)}var ty=L(null),qs=null,Vi=null;function Ba(s,c,f){ue(ty,c._currentValue),c._currentValue=f}function Fi(s){s._currentValue=ty.current,Y(ty)}function ny(s,c,f){for(;s!==null;){var p=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,p!==null&&(p.childLanes|=c)):p!==null&&(p.childLanes&c)!==c&&(p.childLanes|=c),s===f)break;s=s.return}}function ry(s,c,f,p){var x=s.child;for(x!==null&&(x.return=s);x!==null;){var w=x.dependencies;if(w!==null){var A=x.child;w=w.firstContext;e:for(;w!==null;){var P=w;w=x;for(var U=0;U<c.length;U++)if(P.context===c[U]){w.lanes|=f,P=w.alternate,P!==null&&(P.lanes|=f),ny(w.return,f,s),p||(A=null);break e}w=P.next}}else if(x.tag===18){if(A=x.return,A===null)throw Error(r(341));A.lanes|=f,w=A.alternate,w!==null&&(w.lanes|=f),ny(A,f,s),A=null}else A=x.child;if(A!==null)A.return=x;else for(A=x;A!==null;){if(A===s){A=null;break}if(x=A.sibling,x!==null){x.return=A.return,A=x;break}A=A.return}x=A}}function Jl(s,c,f,p){s=null;for(var x=c,w=!1;x!==null;){if(!w){if((x.flags&524288)!==0)w=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var A=x.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var P=x.type;ir(x.pendingProps.value,A.value)||(s!==null?s.push(P):s=[P])}}else if(x===ve.current){if(A=x.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(s!==null?s.push(hu):s=[hu])}x=x.return}s!==null&&ry(c,s,f,p),c.flags|=262144}function _h(s){for(s=s.firstContext;s!==null;){if(!ir(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function $s(s){qs=s,Vi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function on(s){return IO(qs,s)}function Rh(s,c){return qs===null&&$s(s),IO(s,c)}function IO(s,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},Vi===null){if(s===null)throw Error(r(308));Vi=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else Vi=Vi.next=c;return f}var SI=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(f,p){s.push(p)}};this.abort=function(){c.aborted=!0,s.forEach(function(f){return f()})}},CI=t.unstable_scheduleCallback,OI=t.unstable_NormalPriority,Mt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function iy(){return{controller:new SI,data:new Map,refCount:0}}function Uc(s){s.refCount--,s.refCount===0&&CI(OI,function(){s.controller.abort()})}var Hc=null,ay=0,eo=0,to=null;function kI(s,c){if(Hc===null){var f=Hc=[];ay=0,eo=ov(),to={status:"pending",value:void 0,then:function(p){f.push(p)}}}return ay++,c.then(UO,UO),c}function UO(){if(--ay===0&&Hc!==null){to!==null&&(to.status="fulfilled");var s=Hc;Hc=null,eo=0,to=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function jI(s,c){var f=[],p={status:"pending",value:null,reason:null,then:function(x){f.push(x)}};return s.then(function(){p.status="fulfilled",p.value=c;for(var x=0;x<f.length;x++)(0,f[x])(c)},function(x){for(p.status="rejected",p.reason=x,x=0;x<f.length;x++)(0,f[x])(void 0)}),p}var HO=q.S;q.S=function(s,c){Oj=tr(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&kI(s,c),HO!==null&&HO(s,c)};var Vs=L(null);function sy(){var s=Vs.current;return s!==null?s:it.pooledCache}function Lh(s,c){c===null?ue(Vs,Vs.current):ue(Vs,c.pool)}function qO(){var s=sy();return s===null?null:{parent:Mt._currentValue,pool:s}}var no=Error(r(460)),ly=Error(r(474)),Bh=Error(r(542)),zh={then:function(){}};function $O(s){return s=s.status,s==="fulfilled"||s==="rejected"}function VO(s,c,f){switch(f=s[f],f===void 0?s.push(c):f!==c&&(c.then(Ui,Ui),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,WO(s),s;default:if(typeof c.status=="string")c.then(Ui,Ui);else{if(s=it,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(p){if(c.status==="pending"){var x=c;x.status="fulfilled",x.value=p}},function(p){if(c.status==="pending"){var x=c;x.status="rejected",x.reason=p}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,WO(s),s}throw Ws=c,no}}function Fs(s){try{var c=s._init;return c(s._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(Ws=f,no):f}}var Ws=null;function FO(){if(Ws===null)throw Error(r(459));var s=Ws;return Ws=null,s}function WO(s){if(s===no||s===Bh)throw Error(r(483))}var ro=null,qc=0;function Ih(s){var c=qc;return qc+=1,ro===null&&(ro=[]),VO(ro,s,c)}function $c(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function Uh(s,c){throw c.$$typeof===y?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function KO(s){function c(F,$){if(s){var K=F.deletions;K===null?(F.deletions=[$],F.flags|=16):K.push($)}}function f(F,$){if(!s)return null;for(;$!==null;)c(F,$),$=$.sibling;return null}function p(F){for(var $=new Map;F!==null;)F.key!==null?$.set(F.key,F):$.set(F.index,F),F=F.sibling;return $}function x(F,$){return F=qi(F,$),F.index=0,F.sibling=null,F}function w(F,$,K){return F.index=K,s?(K=F.alternate,K!==null?(K=K.index,K<$?(F.flags|=67108866,$):K):(F.flags|=67108866,$)):(F.flags|=1048576,$)}function A(F){return s&&F.alternate===null&&(F.flags|=67108866),F}function P(F,$,K,se){return $===null||$.tag!==6?($=Y0(K,F.mode,se),$.return=F,$):($=x($,K),$.return=F,$)}function U(F,$,K,se){var Oe=K.type;return Oe===O?re(F,$,K.props.children,se,K.key):$!==null&&($.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===_&&Fs(Oe)===$.type)?($=x($,K.props),$c($,K),$.return=F,$):($=Dh(K.type,K.key,K.props,null,F.mode,se),$c($,K),$.return=F,$)}function G(F,$,K,se){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=Q0(K,F.mode,se),$.return=F,$):($=x($,K.children||[]),$.return=F,$)}function re(F,$,K,se,Oe){return $===null||$.tag!==7?($=Us(K,F.mode,se,Oe),$.return=F,$):($=x($,K),$.return=F,$)}function le(F,$,K){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Y0(""+$,F.mode,K),$.return=F,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case v:return K=Dh($.type,$.key,$.props,null,F.mode,K),$c(K,$),K.return=F,K;case b:return $=Q0($,F.mode,K),$.return=F,$;case _:return $=Fs($),le(F,$,K)}if(I($)||z($))return $=Us($,F.mode,K,null),$.return=F,$;if(typeof $.then=="function")return le(F,Ih($),K);if($.$$typeof===j)return le(F,Rh(F,$),K);Uh(F,$)}return null}function Q(F,$,K,se){var Oe=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Oe!==null?null:P(F,$,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return K.key===Oe?U(F,$,K,se):null;case b:return K.key===Oe?G(F,$,K,se):null;case _:return K=Fs(K),Q(F,$,K,se)}if(I(K)||z(K))return Oe!==null?null:re(F,$,K,se,null);if(typeof K.then=="function")return Q(F,$,Ih(K),se);if(K.$$typeof===j)return Q(F,$,Rh(F,K),se);Uh(F,K)}return null}function J(F,$,K,se,Oe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return F=F.get(K)||null,P($,F,""+se,Oe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case v:return F=F.get(se.key===null?K:se.key)||null,U($,F,se,Oe);case b:return F=F.get(se.key===null?K:se.key)||null,G($,F,se,Oe);case _:return se=Fs(se),J(F,$,K,se,Oe)}if(I(se)||z(se))return F=F.get(K)||null,re($,F,se,Oe,null);if(typeof se.then=="function")return J(F,$,K,Ih(se),Oe);if(se.$$typeof===j)return J(F,$,K,Rh($,se),Oe);Uh($,se)}return null}function be(F,$,K,se){for(var Oe=null,Ve=null,Se=$,Pe=$=0,Ue=null;Se!==null&&Pe<K.length;Pe++){Se.index>Pe?(Ue=Se,Se=null):Ue=Se.sibling;var Fe=Q(F,Se,K[Pe],se);if(Fe===null){Se===null&&(Se=Ue);break}s&&Se&&Fe.alternate===null&&c(F,Se),$=w(Fe,$,Pe),Ve===null?Oe=Fe:Ve.sibling=Fe,Ve=Fe,Se=Ue}if(Pe===K.length)return f(F,Se),He&&$i(F,Pe),Oe;if(Se===null){for(;Pe<K.length;Pe++)Se=le(F,K[Pe],se),Se!==null&&($=w(Se,$,Pe),Ve===null?Oe=Se:Ve.sibling=Se,Ve=Se);return He&&$i(F,Pe),Oe}for(Se=p(Se);Pe<K.length;Pe++)Ue=J(Se,F,Pe,K[Pe],se),Ue!==null&&(s&&Ue.alternate!==null&&Se.delete(Ue.key===null?Pe:Ue.key),$=w(Ue,$,Pe),Ve===null?Oe=Ue:Ve.sibling=Ue,Ve=Ue);return s&&Se.forEach(function(ts){return c(F,ts)}),He&&$i(F,Pe),Oe}function Ae(F,$,K,se){if(K==null)throw Error(r(151));for(var Oe=null,Ve=null,Se=$,Pe=$=0,Ue=null,Fe=K.next();Se!==null&&!Fe.done;Pe++,Fe=K.next()){Se.index>Pe?(Ue=Se,Se=null):Ue=Se.sibling;var ts=Q(F,Se,Fe.value,se);if(ts===null){Se===null&&(Se=Ue);break}s&&Se&&ts.alternate===null&&c(F,Se),$=w(ts,$,Pe),Ve===null?Oe=ts:Ve.sibling=ts,Ve=ts,Se=Ue}if(Fe.done)return f(F,Se),He&&$i(F,Pe),Oe;if(Se===null){for(;!Fe.done;Pe++,Fe=K.next())Fe=le(F,Fe.value,se),Fe!==null&&($=w(Fe,$,Pe),Ve===null?Oe=Fe:Ve.sibling=Fe,Ve=Fe);return He&&$i(F,Pe),Oe}for(Se=p(Se);!Fe.done;Pe++,Fe=K.next())Fe=J(Se,F,Pe,Fe.value,se),Fe!==null&&(s&&Fe.alternate!==null&&Se.delete(Fe.key===null?Pe:Fe.key),$=w(Fe,$,Pe),Ve===null?Oe=Fe:Ve.sibling=Fe,Ve=Fe);return s&&Se.forEach(function(B7){return c(F,B7)}),He&&$i(F,Pe),Oe}function tt(F,$,K,se){if(typeof K=="object"&&K!==null&&K.type===O&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case v:e:{for(var Oe=K.key;$!==null;){if($.key===Oe){if(Oe=K.type,Oe===O){if($.tag===7){f(F,$.sibling),se=x($,K.props.children),se.return=F,F=se;break e}}else if($.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===_&&Fs(Oe)===$.type){f(F,$.sibling),se=x($,K.props),$c(se,K),se.return=F,F=se;break e}f(F,$);break}else c(F,$);$=$.sibling}K.type===O?(se=Us(K.props.children,F.mode,se,K.key),se.return=F,F=se):(se=Dh(K.type,K.key,K.props,null,F.mode,se),$c(se,K),se.return=F,F=se)}return A(F);case b:e:{for(Oe=K.key;$!==null;){if($.key===Oe)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){f(F,$.sibling),se=x($,K.children||[]),se.return=F,F=se;break e}else{f(F,$);break}else c(F,$);$=$.sibling}se=Q0(K,F.mode,se),se.return=F,F=se}return A(F);case _:return K=Fs(K),tt(F,$,K,se)}if(I(K))return be(F,$,K,se);if(z(K)){if(Oe=z(K),typeof Oe!="function")throw Error(r(150));return K=Oe.call(K),Ae(F,$,K,se)}if(typeof K.then=="function")return tt(F,$,Ih(K),se);if(K.$$typeof===j)return tt(F,$,Rh(F,K),se);Uh(F,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,$!==null&&$.tag===6?(f(F,$.sibling),se=x($,K),se.return=F,F=se):(f(F,$),se=Y0(K,F.mode,se),se.return=F,F=se),A(F)):f(F,$)}return function(F,$,K,se){try{qc=0;var Oe=tt(F,$,K,se);return ro=null,Oe}catch(Se){if(Se===no||Se===Bh)throw Se;var Ve=ar(29,Se,null,F.mode);return Ve.lanes=se,Ve.return=F,Ve}}}var Ks=KO(!0),GO=KO(!1),za=!1;function oy(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cy(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ia(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ua(s,c,f){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(Ge&2)!==0){var x=p.pending;return x===null?c.next=c:(c.next=x.next,x.next=c),p.pending=c,c=Mh(s),MO(s,null,f),c}return Th(s,p,c,f),Mh(s)}function Vc(s,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var p=c.lanes;p&=s.pendingLanes,f|=p,c.lanes=f,IC(s,f)}}function uy(s,c){var f=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var x=null,w=null;if(f=f.firstBaseUpdate,f!==null){do{var A={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};w===null?x=w=A:w=w.next=A,f=f.next}while(f!==null);w===null?x=w=c:w=w.next=c}else x=w=c;f={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:w,shared:p.shared,callbacks:p.callbacks},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=c}var fy=!1;function Fc(){if(fy){var s=to;if(s!==null)throw s}}function Wc(s,c,f,p){fy=!1;var x=s.updateQueue;za=!1;var w=x.firstBaseUpdate,A=x.lastBaseUpdate,P=x.shared.pending;if(P!==null){x.shared.pending=null;var U=P,G=U.next;U.next=null,A===null?w=G:A.next=G,A=U;var re=s.alternate;re!==null&&(re=re.updateQueue,P=re.lastBaseUpdate,P!==A&&(P===null?re.firstBaseUpdate=G:P.next=G,re.lastBaseUpdate=U))}if(w!==null){var le=x.baseState;A=0,re=G=U=null,P=w;do{var Q=P.lane&-536870913,J=Q!==P.lane;if(J?(Ie&Q)===Q:(p&Q)===Q){Q!==0&&Q===eo&&(fy=!0),re!==null&&(re=re.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var be=s,Ae=P;Q=c;var tt=f;switch(Ae.tag){case 1:if(be=Ae.payload,typeof be=="function"){le=be.call(tt,le,Q);break e}le=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ae.payload,Q=typeof be=="function"?be.call(tt,le,Q):be,Q==null)break e;le=m({},le,Q);break e;case 2:za=!0}}Q=P.callback,Q!==null&&(s.flags|=64,J&&(s.flags|=8192),J=x.callbacks,J===null?x.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:P.tag,payload:P.payload,callback:P.callback,next:null},re===null?(G=re=J,U=le):re=re.next=J,A|=Q;if(P=P.next,P===null){if(P=x.shared.pending,P===null)break;J=P,P=J.next,J.next=null,x.lastBaseUpdate=J,x.shared.pending=null}}while(!0);re===null&&(U=le),x.baseState=U,x.firstBaseUpdate=G,x.lastBaseUpdate=re,w===null&&(x.shared.lanes=0),Fa|=A,s.lanes=A,s.memoizedState=le}}function YO(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function QO(s,c){var f=s.callbacks;if(f!==null)for(s.callbacks=null,s=0;s<f.length;s++)YO(f[s],c)}var io=L(null),Hh=L(0);function XO(s,c){s=ea,ue(Hh,s),ue(io,c),ea=s|c.baseLanes}function hy(){ue(Hh,ea),ue(io,io.current)}function dy(){ea=Hh.current,Y(io),Y(Hh)}var sr=L(null),Ar=null;function Ha(s){var c=s.alternate;ue(jt,jt.current&1),ue(sr,s),Ar===null&&(c===null||io.current!==null||c.memoizedState!==null)&&(Ar=s)}function my(s){ue(jt,jt.current),ue(sr,s),Ar===null&&(Ar=s)}function ZO(s){s.tag===22?(ue(jt,jt.current),ue(sr,s),Ar===null&&(Ar=s)):qa()}function qa(){ue(jt,jt.current),ue(sr,sr.current)}function lr(s){Y(sr),Ar===s&&(Ar=null),Y(jt)}var jt=L(0);function qh(s){for(var c=s;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||bv(f)||wv(f)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Wi=0,De=null,Je=null,Dt=null,$h=!1,ao=!1,Gs=!1,Vh=0,Kc=0,so=null,AI=0;function wt(){throw Error(r(321))}function py(s,c){if(c===null)return!1;for(var f=0;f<c.length&&f<s.length;f++)if(!ir(s[f],c[f]))return!1;return!0}function gy(s,c,f,p,x,w){return Wi=w,De=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,q.H=s===null||s.memoizedState===null?Rk:My,Gs=!1,w=f(p,x),Gs=!1,ao&&(w=ek(c,f,p,x)),JO(s),w}function JO(s){q.H=Qc;var c=Je!==null&&Je.next!==null;if(Wi=0,Dt=Je=De=null,$h=!1,Kc=0,so=null,c)throw Error(r(300));s===null||Pt||(s=s.dependencies,s!==null&&_h(s)&&(Pt=!0))}function ek(s,c,f,p){De=s;var x=0;do{if(ao&&(so=null),Kc=0,ao=!1,25<=x)throw Error(r(301));if(x+=1,Dt=Je=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}q.H=Lk,w=c(f,p)}while(ao);return w}function NI(){var s=q.H,c=s.useState()[0];return c=typeof c.then=="function"?Gc(c):c,s=s.useState()[0],(Je!==null?Je.memoizedState:null)!==s&&(De.flags|=1024),c}function yy(){var s=Vh!==0;return Vh=0,s}function vy(s,c,f){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~f}function xy(s){if($h){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}$h=!1}Wi=0,Dt=Je=De=null,ao=!1,Kc=Vh=0,so=null}function Nn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?De.memoizedState=Dt=s:Dt=Dt.next=s,Dt}function At(){if(Je===null){var s=De.alternate;s=s!==null?s.memoizedState:null}else s=Je.next;var c=Dt===null?De.memoizedState:Dt.next;if(c!==null)Dt=c,Je=s;else{if(s===null)throw De.alternate===null?Error(r(467)):Error(r(310));Je=s,s={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Dt===null?De.memoizedState=Dt=s:Dt=Dt.next=s}return Dt}function Fh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gc(s){var c=Kc;return Kc+=1,so===null&&(so=[]),s=VO(so,s,c),c=De,(Dt===null?c.memoizedState:Dt.next)===null&&(c=c.alternate,q.H=c===null||c.memoizedState===null?Rk:My),s}function Wh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Gc(s);if(s.$$typeof===j)return on(s)}throw Error(r(438,String(s)))}function by(s){var c=null,f=De.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var p=De.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(c={data:p.data.map(function(x){return x.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=Fh(),De.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(s),p=0;p<s;p++)f[p]=H;return c.index++,f}function Ki(s,c){return typeof c=="function"?c(s):c}function Kh(s){var c=At();return wy(c,Je,s)}function wy(s,c,f){var p=s.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=f;var x=s.baseQueue,w=p.pending;if(w!==null){if(x!==null){var A=x.next;x.next=w.next,w.next=A}c.baseQueue=x=w,p.pending=null}if(w=s.baseState,x===null)s.memoizedState=w;else{c=x.next;var P=A=null,U=null,G=c,re=!1;do{var le=G.lane&-536870913;if(le!==G.lane?(Ie&le)===le:(Wi&le)===le){var Q=G.revertLane;if(Q===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),le===eo&&(re=!0);else if((Wi&Q)===Q){G=G.next,Q===eo&&(re=!0);continue}else le={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},U===null?(P=U=le,A=w):U=U.next=le,De.lanes|=Q,Fa|=Q;le=G.action,Gs&&f(w,le),w=G.hasEagerState?G.eagerState:f(w,le)}else Q={lane:le,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},U===null?(P=U=Q,A=w):U=U.next=Q,De.lanes|=le,Fa|=le;G=G.next}while(G!==null&&G!==c);if(U===null?A=w:U.next=P,!ir(w,s.memoizedState)&&(Pt=!0,re&&(f=to,f!==null)))throw f;s.memoizedState=w,s.baseState=A,s.baseQueue=U,p.lastRenderedState=w}return x===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function Sy(s){var c=At(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var p=f.dispatch,x=f.pending,w=c.memoizedState;if(x!==null){f.pending=null;var A=x=x.next;do w=s(w,A.action),A=A.next;while(A!==x);ir(w,c.memoizedState)||(Pt=!0),c.memoizedState=w,c.baseQueue===null&&(c.baseState=w),f.lastRenderedState=w}return[w,p]}function tk(s,c,f){var p=De,x=At(),w=He;if(w){if(f===void 0)throw Error(r(407));f=f()}else f=c();var A=!ir((Je||x).memoizedState,f);if(A&&(x.memoizedState=f,Pt=!0),x=x.queue,ky(ik.bind(null,p,x,s),[s]),x.getSnapshot!==c||A||Dt!==null&&Dt.memoizedState.tag&1){if(p.flags|=2048,lo(9,{destroy:void 0},rk.bind(null,p,x,f,c),null),it===null)throw Error(r(349));w||(Wi&127)!==0||nk(p,c,f)}return f}function nk(s,c,f){s.flags|=16384,s={getSnapshot:c,value:f},c=De.updateQueue,c===null?(c=Fh(),De.updateQueue=c,c.stores=[s]):(f=c.stores,f===null?c.stores=[s]:f.push(s))}function rk(s,c,f,p){c.value=f,c.getSnapshot=p,ak(c)&&sk(s)}function ik(s,c,f){return f(function(){ak(c)&&sk(s)})}function ak(s){var c=s.getSnapshot;s=s.value;try{var f=c();return!ir(s,f)}catch{return!0}}function sk(s){var c=Is(s,2);c!==null&&$n(c,s,2)}function Cy(s){var c=Nn();if(typeof s=="function"){var f=s;if(s=f(),Gs){Ma(!0);try{f()}finally{Ma(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:s},c}function lk(s,c,f,p){return s.baseState=f,wy(s,Je,typeof p=="function"?p:Ki)}function EI(s,c,f,p,x){if(Qh(s))throw Error(r(485));if(s=c.action,s!==null){var w={payload:x,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){w.listeners.push(A)}};q.T!==null?f(!0):w.isTransition=!1,p(w),f=c.pending,f===null?(w.next=c.pending=w,ok(c,w)):(w.next=f.next,c.pending=f.next=w)}}function ok(s,c){var f=c.action,p=c.payload,x=s.state;if(c.isTransition){var w=q.T,A={};q.T=A;try{var P=f(x,p),U=q.S;U!==null&&U(A,P),ck(s,c,P)}catch(G){Oy(s,c,G)}finally{w!==null&&A.types!==null&&(w.types=A.types),q.T=w}}else try{w=f(x,p),ck(s,c,w)}catch(G){Oy(s,c,G)}}function ck(s,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(p){uk(s,c,p)},function(p){return Oy(s,c,p)}):uk(s,c,f)}function uk(s,c,f){c.status="fulfilled",c.value=f,fk(c),s.state=f,c=s.pending,c!==null&&(f=c.next,f===c?s.pending=null:(f=f.next,c.next=f,ok(s,f)))}function Oy(s,c,f){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do c.status="rejected",c.reason=f,fk(c),c=c.next;while(c!==p)}s.action=null}function fk(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function hk(s,c){return c}function dk(s,c){if(He){var f=it.formState;if(f!==null){e:{var p=De;if(He){if(ft){t:{for(var x=ft,w=jr;x.nodeType!==8;){if(!w){x=null;break t}if(x=Nr(x.nextSibling),x===null){x=null;break t}}w=x.data,x=w==="F!"||w==="F"?x:null}if(x){ft=Nr(x.nextSibling),p=x.data==="F!";break e}}La(p)}p=!1}p&&(c=f[0])}}return f=Nn(),f.memoizedState=f.baseState=c,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hk,lastRenderedState:c},f.queue=p,f=Dk.bind(null,De,p),p.dispatch=f,p=Cy(!1),w=Ty.bind(null,De,!1,p.queue),p=Nn(),x={state:c,dispatch:null,action:s,pending:null},p.queue=x,f=EI.bind(null,De,x,w,f),x.dispatch=f,p.memoizedState=s,[c,f,!1]}function mk(s){var c=At();return pk(c,Je,s)}function pk(s,c,f){if(c=wy(s,c,hk)[0],s=Kh(Ki)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var p=Gc(c)}catch(A){throw A===no?Bh:A}else p=c;c=At();var x=c.queue,w=x.dispatch;return f!==c.memoizedState&&(De.flags|=2048,lo(9,{destroy:void 0},TI.bind(null,x,f),null)),[p,w,s]}function TI(s,c){s.action=c}function gk(s){var c=At(),f=Je;if(f!==null)return pk(c,f,s);At(),c=c.memoizedState,f=At();var p=f.queue.dispatch;return f.memoizedState=s,[c,p,!1]}function lo(s,c,f,p){return s={tag:s,create:f,deps:p,inst:c,next:null},c=De.updateQueue,c===null&&(c=Fh(),De.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=s.next=s:(p=f.next,f.next=s,s.next=p,c.lastEffect=s),s}function yk(){return At().memoizedState}function Gh(s,c,f,p){var x=Nn();De.flags|=s,x.memoizedState=lo(1|c,{destroy:void 0},f,p===void 0?null:p)}function Yh(s,c,f,p){var x=At();p=p===void 0?null:p;var w=x.memoizedState.inst;Je!==null&&p!==null&&py(p,Je.memoizedState.deps)?x.memoizedState=lo(c,w,f,p):(De.flags|=s,x.memoizedState=lo(1|c,w,f,p))}function vk(s,c){Gh(8390656,8,s,c)}function ky(s,c){Yh(2048,8,s,c)}function MI(s){De.flags|=4;var c=De.updateQueue;if(c===null)c=Fh(),De.updateQueue=c,c.events=[s];else{var f=c.events;f===null?c.events=[s]:f.push(s)}}function xk(s){var c=At().memoizedState;return MI({ref:c,nextImpl:s}),function(){if((Ge&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function bk(s,c){return Yh(4,2,s,c)}function wk(s,c){return Yh(4,4,s,c)}function Sk(s,c){if(typeof c=="function"){s=s();var f=c(s);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function Ck(s,c,f){f=f!=null?f.concat([s]):null,Yh(4,4,Sk.bind(null,c,s),f)}function jy(){}function Ok(s,c){var f=At();c=c===void 0?null:c;var p=f.memoizedState;return c!==null&&py(c,p[1])?p[0]:(f.memoizedState=[s,c],s)}function kk(s,c){var f=At();c=c===void 0?null:c;var p=f.memoizedState;if(c!==null&&py(c,p[1]))return p[0];if(p=s(),Gs){Ma(!0);try{s()}finally{Ma(!1)}}return f.memoizedState=[p,c],p}function Ay(s,c,f){return f===void 0||(Wi&1073741824)!==0&&(Ie&261930)===0?s.memoizedState=c:(s.memoizedState=f,s=jj(),De.lanes|=s,Fa|=s,f)}function jk(s,c,f,p){return ir(f,c)?f:io.current!==null?(s=Ay(s,f,p),ir(s,c)||(Pt=!0),s):(Wi&42)===0||(Wi&1073741824)!==0&&(Ie&261930)===0?(Pt=!0,s.memoizedState=f):(s=jj(),De.lanes|=s,Fa|=s,c)}function Ak(s,c,f,p,x){var w=V.p;V.p=w!==0&&8>w?w:8;var A=q.T,P={};q.T=P,Ty(s,!1,c,f);try{var U=x(),G=q.S;if(G!==null&&G(P,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var re=jI(U,p);Yc(s,c,re,ur(s))}else Yc(s,c,p,ur(s))}catch(le){Yc(s,c,{then:function(){},status:"rejected",reason:le},ur())}finally{V.p=w,A!==null&&P.types!==null&&(A.types=P.types),q.T=A}}function DI(){}function Ny(s,c,f,p){if(s.tag!==5)throw Error(r(476));var x=Nk(s).queue;Ak(s,x,c,te,f===null?DI:function(){return Ek(s),f(p)})}function Nk(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:te},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:f},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function Ek(s){var c=Nk(s);c.next===null&&(c=s.alternate.memoizedState),Yc(s,c.next.queue,{},ur())}function Ey(){return on(hu)}function Tk(){return At().memoizedState}function Mk(){return At().memoizedState}function PI(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var f=ur();s=Ia(f);var p=Ua(c,s,f);p!==null&&($n(p,c,f),Vc(p,c,f)),c={cache:iy()},s.payload=c;return}c=c.return}}function _I(s,c,f){var p=ur();f={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Qh(s)?Pk(c,f):(f=K0(s,c,f,p),f!==null&&($n(f,s,p),_k(f,c,p)))}function Dk(s,c,f){var p=ur();Yc(s,c,f,p)}function Yc(s,c,f,p){var x={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Qh(s))Pk(c,x);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=c.lastRenderedReducer,w!==null))try{var A=c.lastRenderedState,P=w(A,f);if(x.hasEagerState=!0,x.eagerState=P,ir(P,A))return Th(s,c,x,0),it===null&&Eh(),!1}catch{}if(f=K0(s,c,x,p),f!==null)return $n(f,s,p),_k(f,c,p),!0}return!1}function Ty(s,c,f,p){if(p={lane:2,revertLane:ov(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Qh(s)){if(c)throw Error(r(479))}else c=K0(s,f,p,2),c!==null&&$n(c,s,2)}function Qh(s){var c=s.alternate;return s===De||c!==null&&c===De}function Pk(s,c){ao=$h=!0;var f=s.pending;f===null?c.next=c:(c.next=f.next,f.next=c),s.pending=c}function _k(s,c,f){if((f&4194048)!==0){var p=c.lanes;p&=s.pendingLanes,f|=p,c.lanes=f,IC(s,f)}}var Qc={readContext:on,use:Wh,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};Qc.useEffectEvent=wt;var Rk={readContext:on,use:Wh,useCallback:function(s,c){return Nn().memoizedState=[s,c===void 0?null:c],s},useContext:on,useEffect:vk,useImperativeHandle:function(s,c,f){f=f!=null?f.concat([s]):null,Gh(4194308,4,Sk.bind(null,c,s),f)},useLayoutEffect:function(s,c){return Gh(4194308,4,s,c)},useInsertionEffect:function(s,c){Gh(4,2,s,c)},useMemo:function(s,c){var f=Nn();c=c===void 0?null:c;var p=s();if(Gs){Ma(!0);try{s()}finally{Ma(!1)}}return f.memoizedState=[p,c],p},useReducer:function(s,c,f){var p=Nn();if(f!==void 0){var x=f(c);if(Gs){Ma(!0);try{f(c)}finally{Ma(!1)}}}else x=c;return p.memoizedState=p.baseState=x,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:x},p.queue=s,s=s.dispatch=_I.bind(null,De,s),[p.memoizedState,s]},useRef:function(s){var c=Nn();return s={current:s},c.memoizedState=s},useState:function(s){s=Cy(s);var c=s.queue,f=Dk.bind(null,De,c);return c.dispatch=f,[s.memoizedState,f]},useDebugValue:jy,useDeferredValue:function(s,c){var f=Nn();return Ay(f,s,c)},useTransition:function(){var s=Cy(!1);return s=Ak.bind(null,De,s.queue,!0,!1),Nn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,f){var p=De,x=Nn();if(He){if(f===void 0)throw Error(r(407));f=f()}else{if(f=c(),it===null)throw Error(r(349));(Ie&127)!==0||nk(p,c,f)}x.memoizedState=f;var w={value:f,getSnapshot:c};return x.queue=w,vk(ik.bind(null,p,w,s),[s]),p.flags|=2048,lo(9,{destroy:void 0},rk.bind(null,p,w,f,c),null),f},useId:function(){var s=Nn(),c=it.identifierPrefix;if(He){var f=ci,p=oi;f=(p&~(1<<32-rr(p)-1)).toString(32)+f,c="_"+c+"R_"+f,f=Vh++,0<f&&(c+="H"+f.toString(32)),c+="_"}else f=AI++,c="_"+c+"r_"+f.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:Ey,useFormState:dk,useActionState:dk,useOptimistic:function(s){var c=Nn();c.memoizedState=c.baseState=s;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=Ty.bind(null,De,!0,f),f.dispatch=c,[s,c]},useMemoCache:by,useCacheRefresh:function(){return Nn().memoizedState=PI.bind(null,De)},useEffectEvent:function(s){var c=Nn(),f={impl:s};return c.memoizedState=f,function(){if((Ge&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},My={readContext:on,use:Wh,useCallback:Ok,useContext:on,useEffect:ky,useImperativeHandle:Ck,useInsertionEffect:bk,useLayoutEffect:wk,useMemo:kk,useReducer:Kh,useRef:yk,useState:function(){return Kh(Ki)},useDebugValue:jy,useDeferredValue:function(s,c){var f=At();return jk(f,Je.memoizedState,s,c)},useTransition:function(){var s=Kh(Ki)[0],c=At().memoizedState;return[typeof s=="boolean"?s:Gc(s),c]},useSyncExternalStore:tk,useId:Tk,useHostTransitionStatus:Ey,useFormState:mk,useActionState:mk,useOptimistic:function(s,c){var f=At();return lk(f,Je,s,c)},useMemoCache:by,useCacheRefresh:Mk};My.useEffectEvent=xk;var Lk={readContext:on,use:Wh,useCallback:Ok,useContext:on,useEffect:ky,useImperativeHandle:Ck,useInsertionEffect:bk,useLayoutEffect:wk,useMemo:kk,useReducer:Sy,useRef:yk,useState:function(){return Sy(Ki)},useDebugValue:jy,useDeferredValue:function(s,c){var f=At();return Je===null?Ay(f,s,c):jk(f,Je.memoizedState,s,c)},useTransition:function(){var s=Sy(Ki)[0],c=At().memoizedState;return[typeof s=="boolean"?s:Gc(s),c]},useSyncExternalStore:tk,useId:Tk,useHostTransitionStatus:Ey,useFormState:gk,useActionState:gk,useOptimistic:function(s,c){var f=At();return Je!==null?lk(f,Je,s,c):(f.baseState=s,[s,f.queue.dispatch])},useMemoCache:by,useCacheRefresh:Mk};Lk.useEffectEvent=xk;function Dy(s,c,f,p){c=s.memoizedState,f=f(p,c),f=f==null?c:m({},c,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var Py={enqueueSetState:function(s,c,f){s=s._reactInternals;var p=ur(),x=Ia(p);x.payload=c,f!=null&&(x.callback=f),c=Ua(s,x,p),c!==null&&($n(c,s,p),Vc(c,s,p))},enqueueReplaceState:function(s,c,f){s=s._reactInternals;var p=ur(),x=Ia(p);x.tag=1,x.payload=c,f!=null&&(x.callback=f),c=Ua(s,x,p),c!==null&&($n(c,s,p),Vc(c,s,p))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var f=ur(),p=Ia(f);p.tag=2,c!=null&&(p.callback=c),c=Ua(s,p,f),c!==null&&($n(c,s,f),Vc(c,s,f))}};function Bk(s,c,f,p,x,w,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,w,A):c.prototype&&c.prototype.isPureReactComponent?!Lc(f,p)||!Lc(x,w):!0}function zk(s,c,f,p){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,p),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,p),c.state!==s&&Py.enqueueReplaceState(c,c.state,null)}function Ys(s,c){var f=c;if("ref"in c){f={};for(var p in c)p!=="ref"&&(f[p]=c[p])}if(s=s.defaultProps){f===c&&(f=m({},f));for(var x in s)f[x]===void 0&&(f[x]=s[x])}return f}function Ik(s){Nh(s)}function Uk(s){console.error(s)}function Hk(s){Nh(s)}function Xh(s,c){try{var f=s.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(p){setTimeout(function(){throw p})}}function qk(s,c,f){try{var p=s.onCaughtError;p(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function _y(s,c,f){return f=Ia(f),f.tag=3,f.payload={element:null},f.callback=function(){Xh(s,c)},f}function $k(s){return s=Ia(s),s.tag=3,s}function Vk(s,c,f,p){var x=f.type.getDerivedStateFromError;if(typeof x=="function"){var w=p.value;s.payload=function(){return x(w)},s.callback=function(){qk(c,f,p)}}var A=f.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(s.callback=function(){qk(c,f,p),typeof x!="function"&&(Wa===null?Wa=new Set([this]):Wa.add(this));var P=p.stack;this.componentDidCatch(p.value,{componentStack:P!==null?P:""})})}function RI(s,c,f,p,x){if(f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(c=f.alternate,c!==null&&Jl(c,f,x,!0),f=sr.current,f!==null){switch(f.tag){case 31:case 13:return Ar===null?cd():f.alternate===null&&St===0&&(St=3),f.flags&=-257,f.flags|=65536,f.lanes=x,p===zh?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([p]):c.add(p),av(s,p,x)),!1;case 22:return f.flags|=65536,p===zh?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([p])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([p]):f.add(p)),av(s,p,x)),!1}throw Error(r(435,f.tag))}return av(s,p,x),cd(),!1}if(He)return c=sr.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=x,p!==J0&&(s=Error(r(422),{cause:p}),Ic(Cr(s,f)))):(p!==J0&&(c=Error(r(423),{cause:p}),Ic(Cr(c,f))),s=s.current.alternate,s.flags|=65536,x&=-x,s.lanes|=x,p=Cr(p,f),x=_y(s.stateNode,p,x),uy(s,x),St!==4&&(St=2)),!1;var w=Error(r(520),{cause:p});if(w=Cr(w,f),iu===null?iu=[w]:iu.push(w),St!==4&&(St=2),c===null)return!0;p=Cr(p,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,s=x&-x,f.lanes|=s,s=_y(f.stateNode,p,s),uy(f,s),!1;case 1:if(c=f.type,w=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Wa===null||!Wa.has(w))))return f.flags|=65536,x&=-x,f.lanes|=x,x=$k(x),Vk(x,s,f,p),uy(f,x),!1}f=f.return}while(f!==null);return!1}var Ry=Error(r(461)),Pt=!1;function cn(s,c,f,p){c.child=s===null?GO(c,null,f,p):Ks(c,s.child,f,p)}function Fk(s,c,f,p,x){f=f.render;var w=c.ref;if("ref"in p){var A={};for(var P in p)P!=="ref"&&(A[P]=p[P])}else A=p;return $s(c),p=gy(s,c,f,A,w,x),P=yy(),s!==null&&!Pt?(vy(s,c,x),Gi(s,c,x)):(He&&P&&X0(c),c.flags|=1,cn(s,c,p,x),c.child)}function Wk(s,c,f,p,x){if(s===null){var w=f.type;return typeof w=="function"&&!G0(w)&&w.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=w,Kk(s,c,w,p,x)):(s=Dh(f.type,null,p,c,c.mode,x),s.ref=c.ref,s.return=c,c.child=s)}if(w=s.child,!$y(s,x)){var A=w.memoizedProps;if(f=f.compare,f=f!==null?f:Lc,f(A,p)&&s.ref===c.ref)return Gi(s,c,x)}return c.flags|=1,s=qi(w,p),s.ref=c.ref,s.return=c,c.child=s}function Kk(s,c,f,p,x){if(s!==null){var w=s.memoizedProps;if(Lc(w,p)&&s.ref===c.ref)if(Pt=!1,c.pendingProps=p=w,$y(s,x))(s.flags&131072)!==0&&(Pt=!0);else return c.lanes=s.lanes,Gi(s,c,x)}return Ly(s,c,f,p,x)}function Gk(s,c,f,p){var x=p.children,w=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((c.flags&128)!==0){if(w=w!==null?w.baseLanes|f:f,s!==null){for(p=c.child=s.child,x=0;p!==null;)x=x|p.lanes|p.childLanes,p=p.sibling;p=x&~w}else p=0,c.child=null;return Yk(s,c,w,f,p)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&Lh(c,w!==null?w.cachePool:null),w!==null?XO(c,w):hy(),ZO(c);else return p=c.lanes=536870912,Yk(s,c,w!==null?w.baseLanes|f:f,f,p)}else w!==null?(Lh(c,w.cachePool),XO(c,w),qa(),c.memoizedState=null):(s!==null&&Lh(c,null),hy(),qa());return cn(s,c,x,f),c.child}function Xc(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function Yk(s,c,f,p,x){var w=sy();return w=w===null?null:{parent:Mt._currentValue,pool:w},c.memoizedState={baseLanes:f,cachePool:w},s!==null&&Lh(c,null),hy(),ZO(c),s!==null&&Jl(s,c,p,!0),c.childLanes=x,null}function Zh(s,c){return c=ed({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function Qk(s,c,f){return Ks(c,s.child,null,f),s=Zh(c,c.pendingProps),s.flags|=2,lr(c),c.memoizedState=null,s}function LI(s,c,f){var p=c.pendingProps,x=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(He){if(p.mode==="hidden")return s=Zh(c,p),c.lanes=536870912,Xc(null,s);if(my(c),(s=ft)?(s=oA(s,jr),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:_a!==null?{id:oi,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},f=PO(s),f.return=c,c.child=f,ln=c,ft=null)):s=null,s===null)throw La(c);return c.lanes=536870912,null}return Zh(c,p)}var w=s.memoizedState;if(w!==null){var A=w.dehydrated;if(my(c),x)if(c.flags&256)c.flags&=-257,c=Qk(s,c,f);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if(Pt||Jl(s,c,f,!1),x=(f&s.childLanes)!==0,Pt||x){if(p=it,p!==null&&(A=UC(p,f),A!==0&&A!==w.retryLane))throw w.retryLane=A,Is(s,A),$n(p,s,A),Ry;cd(),c=Qk(s,c,f)}else s=w.treeContext,ft=Nr(A.nextSibling),ln=c,He=!0,Ra=null,jr=!1,s!==null&&LO(c,s),c=Zh(c,p),c.flags|=4096;return c}return s=qi(s.child,{mode:p.mode,children:p.children}),s.ref=c.ref,c.child=s,s.return=c,s}function Jh(s,c){var f=c.ref;if(f===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(s===null||s.ref!==f)&&(c.flags|=4194816)}}function Ly(s,c,f,p,x){return $s(c),f=gy(s,c,f,p,void 0,x),p=yy(),s!==null&&!Pt?(vy(s,c,x),Gi(s,c,x)):(He&&p&&X0(c),c.flags|=1,cn(s,c,f,x),c.child)}function Xk(s,c,f,p,x,w){return $s(c),c.updateQueue=null,f=ek(c,p,f,x),JO(s),p=yy(),s!==null&&!Pt?(vy(s,c,w),Gi(s,c,w)):(He&&p&&X0(c),c.flags|=1,cn(s,c,f,w),c.child)}function Zk(s,c,f,p,x){if($s(c),c.stateNode===null){var w=Yl,A=f.contextType;typeof A=="object"&&A!==null&&(w=on(A)),w=new f(p,w),c.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Py,c.stateNode=w,w._reactInternals=c,w=c.stateNode,w.props=p,w.state=c.memoizedState,w.refs={},oy(c),A=f.contextType,w.context=typeof A=="object"&&A!==null?on(A):Yl,w.state=c.memoizedState,A=f.getDerivedStateFromProps,typeof A=="function"&&(Dy(c,f,A,p),w.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(A=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),A!==w.state&&Py.enqueueReplaceState(w,w.state,null),Wc(c,p,w,x),Fc(),w.state=c.memoizedState),typeof w.componentDidMount=="function"&&(c.flags|=4194308),p=!0}else if(s===null){w=c.stateNode;var P=c.memoizedProps,U=Ys(f,P);w.props=U;var G=w.context,re=f.contextType;A=Yl,typeof re=="object"&&re!==null&&(A=on(re));var le=f.getDerivedStateFromProps;re=typeof le=="function"||typeof w.getSnapshotBeforeUpdate=="function",P=c.pendingProps!==P,re||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P||G!==A)&&zk(c,w,p,A),za=!1;var Q=c.memoizedState;w.state=Q,Wc(c,p,w,x),Fc(),G=c.memoizedState,P||Q!==G||za?(typeof le=="function"&&(Dy(c,f,le,p),G=c.memoizedState),(U=za||Bk(c,f,U,p,Q,G,A))?(re||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(c.flags|=4194308)):(typeof w.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=p,c.memoizedState=G),w.props=p,w.state=G,w.context=A,p=U):(typeof w.componentDidMount=="function"&&(c.flags|=4194308),p=!1)}else{w=c.stateNode,cy(s,c),A=c.memoizedProps,re=Ys(f,A),w.props=re,le=c.pendingProps,Q=w.context,G=f.contextType,U=Yl,typeof G=="object"&&G!==null&&(U=on(G)),P=f.getDerivedStateFromProps,(G=typeof P=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==le||Q!==U)&&zk(c,w,p,U),za=!1,Q=c.memoizedState,w.state=Q,Wc(c,p,w,x),Fc();var J=c.memoizedState;A!==le||Q!==J||za||s!==null&&s.dependencies!==null&&_h(s.dependencies)?(typeof P=="function"&&(Dy(c,f,P,p),J=c.memoizedState),(re=za||Bk(c,f,re,p,Q,J,U)||s!==null&&s.dependencies!==null&&_h(s.dependencies))?(G||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,J,U),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,J,U)),typeof w.componentDidUpdate=="function"&&(c.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===s.memoizedProps&&Q===s.memoizedState||(c.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&Q===s.memoizedState||(c.flags|=1024),c.memoizedProps=p,c.memoizedState=J),w.props=p,w.state=J,w.context=U,p=re):(typeof w.componentDidUpdate!="function"||A===s.memoizedProps&&Q===s.memoizedState||(c.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&Q===s.memoizedState||(c.flags|=1024),p=!1)}return w=p,Jh(s,c),p=(c.flags&128)!==0,w||p?(w=c.stateNode,f=p&&typeof f.getDerivedStateFromError!="function"?null:w.render(),c.flags|=1,s!==null&&p?(c.child=Ks(c,s.child,null,x),c.child=Ks(c,null,f,x)):cn(s,c,f,x),c.memoizedState=w.state,s=c.child):s=Gi(s,c,x),s}function Jk(s,c,f,p){return Hs(),c.flags|=256,cn(s,c,f,p),c.child}var By={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zy(s){return{baseLanes:s,cachePool:qO()}}function Iy(s,c,f){return s=s!==null?s.childLanes&~f:0,c&&(s|=cr),s}function ej(s,c,f){var p=c.pendingProps,x=!1,w=(c.flags&128)!==0,A;if((A=w)||(A=s!==null&&s.memoizedState===null?!1:(jt.current&2)!==0),A&&(x=!0,c.flags&=-129),A=(c.flags&32)!==0,c.flags&=-33,s===null){if(He){if(x?Ha(c):qa(),(s=ft)?(s=oA(s,jr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:_a!==null?{id:oi,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},f=PO(s),f.return=c,c.child=f,ln=c,ft=null)):s=null,s===null)throw La(c);return wv(s)?c.lanes=32:c.lanes=536870912,null}var P=p.children;return p=p.fallback,x?(qa(),x=c.mode,P=ed({mode:"hidden",children:P},x),p=Us(p,x,f,null),P.return=c,p.return=c,P.sibling=p,c.child=P,p=c.child,p.memoizedState=zy(f),p.childLanes=Iy(s,A,f),c.memoizedState=By,Xc(null,p)):(Ha(c),Uy(c,P))}var U=s.memoizedState;if(U!==null&&(P=U.dehydrated,P!==null)){if(w)c.flags&256?(Ha(c),c.flags&=-257,c=Hy(s,c,f)):c.memoizedState!==null?(qa(),c.child=s.child,c.flags|=128,c=null):(qa(),P=p.fallback,x=c.mode,p=ed({mode:"visible",children:p.children},x),P=Us(P,x,f,null),P.flags|=2,p.return=c,P.return=c,p.sibling=P,c.child=p,Ks(c,s.child,null,f),p=c.child,p.memoizedState=zy(f),p.childLanes=Iy(s,A,f),c.memoizedState=By,c=Xc(null,p));else if(Ha(c),wv(P)){if(A=P.nextSibling&&P.nextSibling.dataset,A)var G=A.dgst;A=G,p=Error(r(419)),p.stack="",p.digest=A,Ic({value:p,source:null,stack:null}),c=Hy(s,c,f)}else if(Pt||Jl(s,c,f,!1),A=(f&s.childLanes)!==0,Pt||A){if(A=it,A!==null&&(p=UC(A,f),p!==0&&p!==U.retryLane))throw U.retryLane=p,Is(s,p),$n(A,s,p),Ry;bv(P)||cd(),c=Hy(s,c,f)}else bv(P)?(c.flags|=192,c.child=s.child,c=null):(s=U.treeContext,ft=Nr(P.nextSibling),ln=c,He=!0,Ra=null,jr=!1,s!==null&&LO(c,s),c=Uy(c,p.children),c.flags|=4096);return c}return x?(qa(),P=p.fallback,x=c.mode,U=s.child,G=U.sibling,p=qi(U,{mode:"hidden",children:p.children}),p.subtreeFlags=U.subtreeFlags&65011712,G!==null?P=qi(G,P):(P=Us(P,x,f,null),P.flags|=2),P.return=c,p.return=c,p.sibling=P,c.child=p,Xc(null,p),p=c.child,P=s.child.memoizedState,P===null?P=zy(f):(x=P.cachePool,x!==null?(U=Mt._currentValue,x=x.parent!==U?{parent:U,pool:U}:x):x=qO(),P={baseLanes:P.baseLanes|f,cachePool:x}),p.memoizedState=P,p.childLanes=Iy(s,A,f),c.memoizedState=By,Xc(s.child,p)):(Ha(c),f=s.child,s=f.sibling,f=qi(f,{mode:"visible",children:p.children}),f.return=c,f.sibling=null,s!==null&&(A=c.deletions,A===null?(c.deletions=[s],c.flags|=16):A.push(s)),c.child=f,c.memoizedState=null,f)}function Uy(s,c){return c=ed({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function ed(s,c){return s=ar(22,s,null,c),s.lanes=0,s}function Hy(s,c,f){return Ks(c,s.child,null,f),s=Uy(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function tj(s,c,f){s.lanes|=c;var p=s.alternate;p!==null&&(p.lanes|=c),ny(s.return,c,f)}function qy(s,c,f,p,x,w){var A=s.memoizedState;A===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:x,treeForkCount:w}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=p,A.tail=f,A.tailMode=x,A.treeForkCount=w)}function nj(s,c,f){var p=c.pendingProps,x=p.revealOrder,w=p.tail;p=p.children;var A=jt.current,P=(A&2)!==0;if(P?(A=A&1|2,c.flags|=128):A&=1,ue(jt,A),cn(s,c,p,f),p=He?zc:0,!P&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&tj(s,f,c);else if(s.tag===19)tj(s,f,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(x){case"forwards":for(f=c.child,x=null;f!==null;)s=f.alternate,s!==null&&qh(s)===null&&(x=f),f=f.sibling;f=x,f===null?(x=c.child,c.child=null):(x=f.sibling,f.sibling=null),qy(c,!1,x,f,w,p);break;case"backwards":case"unstable_legacy-backwards":for(f=null,x=c.child,c.child=null;x!==null;){if(s=x.alternate,s!==null&&qh(s)===null){c.child=x;break}s=x.sibling,x.sibling=f,f=x,x=s}qy(c,!0,f,null,w,p);break;case"together":qy(c,!1,null,null,void 0,p);break;default:c.memoizedState=null}return c.child}function Gi(s,c,f){if(s!==null&&(c.dependencies=s.dependencies),Fa|=c.lanes,(f&c.childLanes)===0)if(s!==null){if(Jl(s,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,f=qi(s,s.pendingProps),c.child=f,f.return=c;s.sibling!==null;)s=s.sibling,f=f.sibling=qi(s,s.pendingProps),f.return=c;f.sibling=null}return c.child}function $y(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&_h(s)))}function BI(s,c,f){switch(c.tag){case 3:ot(c,c.stateNode.containerInfo),Ba(c,Mt,s.memoizedState.cache),Hs();break;case 27:case 5:Ee(c);break;case 4:ot(c,c.stateNode.containerInfo);break;case 10:Ba(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,my(c),null;break;case 13:var p=c.memoizedState;if(p!==null)return p.dehydrated!==null?(Ha(c),c.flags|=128,null):(f&c.child.childLanes)!==0?ej(s,c,f):(Ha(c),s=Gi(s,c,f),s!==null?s.sibling:null);Ha(c);break;case 19:var x=(s.flags&128)!==0;if(p=(f&c.childLanes)!==0,p||(Jl(s,c,f,!1),p=(f&c.childLanes)!==0),x){if(p)return nj(s,c,f);c.flags|=128}if(x=c.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ue(jt,jt.current),p)break;return null;case 22:return c.lanes=0,Gk(s,c,f,c.pendingProps);case 24:Ba(c,Mt,s.memoizedState.cache)}return Gi(s,c,f)}function rj(s,c,f){if(s!==null)if(s.memoizedProps!==c.pendingProps)Pt=!0;else{if(!$y(s,f)&&(c.flags&128)===0)return Pt=!1,BI(s,c,f);Pt=(s.flags&131072)!==0}else Pt=!1,He&&(c.flags&1048576)!==0&&RO(c,zc,c.index);switch(c.lanes=0,c.tag){case 16:e:{var p=c.pendingProps;if(s=Fs(c.elementType),c.type=s,typeof s=="function")G0(s)?(p=Ys(s,p),c.tag=1,c=Zk(null,c,s,p,f)):(c.tag=0,c=Ly(null,c,s,p,f));else{if(s!=null){var x=s.$$typeof;if(x===M){c.tag=11,c=Fk(null,c,s,p,f);break e}else if(x===E){c.tag=14,c=Wk(null,c,s,p,f);break e}}throw c=ne(s)||s,Error(r(306,c,""))}}return c;case 0:return Ly(s,c,c.type,c.pendingProps,f);case 1:return p=c.type,x=Ys(p,c.pendingProps),Zk(s,c,p,x,f);case 3:e:{if(ot(c,c.stateNode.containerInfo),s===null)throw Error(r(387));p=c.pendingProps;var w=c.memoizedState;x=w.element,cy(s,c),Wc(c,p,null,f);var A=c.memoizedState;if(p=A.cache,Ba(c,Mt,p),p!==w.cache&&ry(c,[Mt],f,!0),Fc(),p=A.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:A.cache},c.updateQueue.baseState=w,c.memoizedState=w,c.flags&256){c=Jk(s,c,p,f);break e}else if(p!==x){x=Cr(Error(r(424)),c),Ic(x),c=Jk(s,c,p,f);break e}else for(s=c.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ft=Nr(s.firstChild),ln=c,He=!0,Ra=null,jr=!0,f=GO(c,null,p,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Hs(),p===x){c=Gi(s,c,f);break e}cn(s,c,p,f)}c=c.child}return c;case 26:return Jh(s,c),s===null?(f=mA(c.type,null,c.pendingProps,null))?c.memoizedState=f:He||(f=c.type,s=c.pendingProps,p=gd(he.current).createElement(f),p[sn]=c,p[Bn]=s,un(p,f,s),Vt(p),c.stateNode=p):c.memoizedState=mA(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return Ee(c),s===null&&He&&(p=c.stateNode=fA(c.type,c.pendingProps,he.current),ln=c,jr=!0,x=ft,Qa(c.type)?(Sv=x,ft=Nr(p.firstChild)):ft=x),cn(s,c,c.pendingProps.children,f),Jh(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&He&&((x=p=ft)&&(p=d7(p,c.type,c.pendingProps,jr),p!==null?(c.stateNode=p,ln=c,ft=Nr(p.firstChild),jr=!1,x=!0):x=!1),x||La(c)),Ee(c),x=c.type,w=c.pendingProps,A=s!==null?s.memoizedProps:null,p=w.children,yv(x,w)?p=null:A!==null&&yv(x,A)&&(c.flags|=32),c.memoizedState!==null&&(x=gy(s,c,NI,null,null,f),hu._currentValue=x),Jh(s,c),cn(s,c,p,f),c.child;case 6:return s===null&&He&&((s=f=ft)&&(f=m7(f,c.pendingProps,jr),f!==null?(c.stateNode=f,ln=c,ft=null,s=!0):s=!1),s||La(c)),null;case 13:return ej(s,c,f);case 4:return ot(c,c.stateNode.containerInfo),p=c.pendingProps,s===null?c.child=Ks(c,null,p,f):cn(s,c,p,f),c.child;case 11:return Fk(s,c,c.type,c.pendingProps,f);case 7:return cn(s,c,c.pendingProps,f),c.child;case 8:return cn(s,c,c.pendingProps.children,f),c.child;case 12:return cn(s,c,c.pendingProps.children,f),c.child;case 10:return p=c.pendingProps,Ba(c,c.type,p.value),cn(s,c,p.children,f),c.child;case 9:return x=c.type._context,p=c.pendingProps.children,$s(c),x=on(x),p=p(x),c.flags|=1,cn(s,c,p,f),c.child;case 14:return Wk(s,c,c.type,c.pendingProps,f);case 15:return Kk(s,c,c.type,c.pendingProps,f);case 19:return nj(s,c,f);case 31:return LI(s,c,f);case 22:return Gk(s,c,f,c.pendingProps);case 24:return $s(c),p=on(Mt),s===null?(x=sy(),x===null&&(x=it,w=iy(),x.pooledCache=w,w.refCount++,w!==null&&(x.pooledCacheLanes|=f),x=w),c.memoizedState={parent:p,cache:x},oy(c),Ba(c,Mt,x)):((s.lanes&f)!==0&&(cy(s,c),Wc(c,null,null,f),Fc()),x=s.memoizedState,w=c.memoizedState,x.parent!==p?(x={parent:p,cache:p},c.memoizedState=x,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=x),Ba(c,Mt,p)):(p=w.cache,Ba(c,Mt,p),p!==x.cache&&ry(c,[Mt],f,!0))),cn(s,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Yi(s){s.flags|=4}function Vy(s,c,f,p,x){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(x&335544128)===x)if(s.stateNode.complete)s.flags|=8192;else if(Tj())s.flags|=8192;else throw Ws=zh,ly}else s.flags&=-16777217}function ij(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!xA(c))if(Tj())s.flags|=8192;else throw Ws=zh,ly}function td(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?BC():536870912,s.lanes|=c,fo|=c)}function Zc(s,c){if(!He)switch(s.tailMode){case"hidden":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function ht(s){var c=s.alternate!==null&&s.alternate.child===s.child,f=0,p=0;if(c)for(var x=s.child;x!==null;)f|=x.lanes|x.childLanes,p|=x.subtreeFlags&65011712,p|=x.flags&65011712,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)f|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=p,s.childLanes=f,c}function zI(s,c,f){var p=c.pendingProps;switch(Z0(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(c),null;case 1:return ht(c),null;case 3:return f=c.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),Fi(Mt),ae(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Zl(c)?Yi(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,ey())),ht(c),null;case 26:var x=c.type,w=c.memoizedState;return s===null?(Yi(c),w!==null?(ht(c),ij(c,w)):(ht(c),Vy(c,x,null,p,f))):w?w!==s.memoizedState?(Yi(c),ht(c),ij(c,w)):(ht(c),c.flags&=-16777217):(s=s.memoizedProps,s!==p&&Yi(c),ht(c),Vy(c,x,s,p,f)),null;case 27:if(_e(c),f=he.current,x=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==p&&Yi(c);else{if(!p){if(c.stateNode===null)throw Error(r(166));return ht(c),null}s=X.current,Zl(c)?BO(c):(s=fA(x,p,f),c.stateNode=s,Yi(c))}return ht(c),null;case 5:if(_e(c),x=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==p&&Yi(c);else{if(!p){if(c.stateNode===null)throw Error(r(166));return ht(c),null}if(w=X.current,Zl(c))BO(c);else{var A=gd(he.current);switch(w){case 1:w=A.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:w=A.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":w=A.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":w=A.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":w=A.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof p.is=="string"?A.createElement("select",{is:p.is}):A.createElement("select"),p.multiple?w.multiple=!0:p.size&&(w.size=p.size);break;default:w=typeof p.is=="string"?A.createElement(x,{is:p.is}):A.createElement(x)}}w[sn]=c,w[Bn]=p;e:for(A=c.child;A!==null;){if(A.tag===5||A.tag===6)w.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===c)break e;for(;A.sibling===null;){if(A.return===null||A.return===c)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}c.stateNode=w;e:switch(un(w,x,p),x){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Yi(c)}}return ht(c),Vy(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,f),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==p&&Yi(c);else{if(typeof p!="string"&&c.stateNode===null)throw Error(r(166));if(s=he.current,Zl(c)){if(s=c.stateNode,f=c.memoizedProps,p=null,x=ln,x!==null)switch(x.tag){case 27:case 5:p=x.memoizedProps}s[sn]=c,s=!!(s.nodeValue===f||p!==null&&p.suppressHydrationWarning===!0||eA(s.nodeValue,f)),s||La(c,!0)}else s=gd(s).createTextNode(p),s[sn]=c,c.stateNode=s}return ht(c),null;case 31:if(f=c.memoizedState,s===null||s.memoizedState!==null){if(p=Zl(c),f!==null){if(s===null){if(!p)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[sn]=c}else Hs(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ht(c),s=!1}else f=ey(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),s=!0;if(!s)return c.flags&256?(lr(c),c):(lr(c),null);if((c.flags&128)!==0)throw Error(r(558))}return ht(c),null;case 13:if(p=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(x=Zl(c),p!==null&&p.dehydrated!==null){if(s===null){if(!x)throw Error(r(318));if(x=c.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[sn]=c}else Hs(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ht(c),x=!1}else x=ey(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=x),x=!0;if(!x)return c.flags&256?(lr(c),c):(lr(c),null)}return lr(c),(c.flags&128)!==0?(c.lanes=f,c):(f=p!==null,s=s!==null&&s.memoizedState!==null,f&&(p=c.child,x=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(x=p.alternate.memoizedState.cachePool.pool),w=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==x&&(p.flags|=2048)),f!==s&&f&&(c.child.flags|=8192),td(c,c.updateQueue),ht(c),null);case 4:return ae(),s===null&&hv(c.stateNode.containerInfo),ht(c),null;case 10:return Fi(c.type),ht(c),null;case 19:if(Y(jt),p=c.memoizedState,p===null)return ht(c),null;if(x=(c.flags&128)!==0,w=p.rendering,w===null)if(x)Zc(p,!1);else{if(St!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(w=qh(s),w!==null){for(c.flags|=128,Zc(p,!1),s=w.updateQueue,c.updateQueue=s,td(c,s),c.subtreeFlags=0,s=f,f=c.child;f!==null;)DO(f,s),f=f.sibling;return ue(jt,jt.current&1|2),He&&$i(c,p.treeForkCount),c.child}s=s.sibling}p.tail!==null&&tr()>sd&&(c.flags|=128,x=!0,Zc(p,!1),c.lanes=4194304)}else{if(!x)if(s=qh(w),s!==null){if(c.flags|=128,x=!0,s=s.updateQueue,c.updateQueue=s,td(c,s),Zc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!He)return ht(c),null}else 2*tr()-p.renderingStartTime>sd&&f!==536870912&&(c.flags|=128,x=!0,Zc(p,!1),c.lanes=4194304);p.isBackwards?(w.sibling=c.child,c.child=w):(s=p.last,s!==null?s.sibling=w:c.child=w,p.last=w)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=tr(),s.sibling=null,f=jt.current,ue(jt,x?f&1|2:f&1),He&&$i(c,p.treeForkCount),s):(ht(c),null);case 22:case 23:return lr(c),dy(),p=c.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(c.flags|=8192):p&&(c.flags|=8192),p?(f&536870912)!==0&&(c.flags&128)===0&&(ht(c),c.subtreeFlags&6&&(c.flags|=8192)):ht(c),f=c.updateQueue,f!==null&&td(c,f.retryQueue),f=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048),s!==null&&Y(Vs),null;case 24:return f=null,s!==null&&(f=s.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),Fi(Mt),ht(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function II(s,c){switch(Z0(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return Fi(Mt),ae(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return _e(c),null;case 31:if(c.memoizedState!==null){if(lr(c),c.alternate===null)throw Error(r(340));Hs()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(lr(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Hs()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return Y(jt),null;case 4:return ae(),null;case 10:return Fi(c.type),null;case 22:case 23:return lr(c),dy(),s!==null&&Y(Vs),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return Fi(Mt),null;case 25:return null;default:return null}}function aj(s,c){switch(Z0(c),c.tag){case 3:Fi(Mt),ae();break;case 26:case 27:case 5:_e(c);break;case 4:ae();break;case 31:c.memoizedState!==null&&lr(c);break;case 13:lr(c);break;case 19:Y(jt);break;case 10:Fi(c.type);break;case 22:case 23:lr(c),dy(),s!==null&&Y(Vs);break;case 24:Fi(Mt)}}function Jc(s,c){try{var f=c.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var x=p.next;f=x;do{if((f.tag&s)===s){p=void 0;var w=f.create,A=f.inst;p=w(),A.destroy=p}f=f.next}while(f!==x)}}catch(P){Xe(c,c.return,P)}}function $a(s,c,f){try{var p=c.updateQueue,x=p!==null?p.lastEffect:null;if(x!==null){var w=x.next;p=w;do{if((p.tag&s)===s){var A=p.inst,P=A.destroy;if(P!==void 0){A.destroy=void 0,x=c;var U=f,G=P;try{G()}catch(re){Xe(x,U,re)}}}p=p.next}while(p!==w)}}catch(re){Xe(c,c.return,re)}}function sj(s){var c=s.updateQueue;if(c!==null){var f=s.stateNode;try{QO(c,f)}catch(p){Xe(s,s.return,p)}}}function lj(s,c,f){f.props=Ys(s.type,s.memoizedProps),f.state=s.memoizedState;try{f.componentWillUnmount()}catch(p){Xe(s,c,p)}}function eu(s,c){try{var f=s.ref;if(f!==null){switch(s.tag){case 26:case 27:case 5:var p=s.stateNode;break;case 30:p=s.stateNode;break;default:p=s.stateNode}typeof f=="function"?s.refCleanup=f(p):f.current=p}}catch(x){Xe(s,c,x)}}function ui(s,c){var f=s.ref,p=s.refCleanup;if(f!==null)if(typeof p=="function")try{p()}catch(x){Xe(s,c,x)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(x){Xe(s,c,x)}else f.current=null}function oj(s){var c=s.type,f=s.memoizedProps,p=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&p.focus();break e;case"img":f.src?p.src=f.src:f.srcSet&&(p.srcset=f.srcSet)}}catch(x){Xe(s,s.return,x)}}function Fy(s,c,f){try{var p=s.stateNode;l7(p,s.type,f,c),p[Bn]=c}catch(x){Xe(s,s.return,x)}}function cj(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Qa(s.type)||s.tag===4}function Wy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||cj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Qa(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ky(s,c,f){var p=s.tag;if(p===5||p===6)s=s.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(s,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(s),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Ui));else if(p!==4&&(p===27&&Qa(s.type)&&(f=s.stateNode,c=null),s=s.child,s!==null))for(Ky(s,c,f),s=s.sibling;s!==null;)Ky(s,c,f),s=s.sibling}function nd(s,c,f){var p=s.tag;if(p===5||p===6)s=s.stateNode,c?f.insertBefore(s,c):f.appendChild(s);else if(p!==4&&(p===27&&Qa(s.type)&&(f=s.stateNode),s=s.child,s!==null))for(nd(s,c,f),s=s.sibling;s!==null;)nd(s,c,f),s=s.sibling}function uj(s){var c=s.stateNode,f=s.memoizedProps;try{for(var p=s.type,x=c.attributes;x.length;)c.removeAttributeNode(x[0]);un(c,p,f),c[sn]=s,c[Bn]=f}catch(w){Xe(s,s.return,w)}}var Qi=!1,_t=!1,Gy=!1,fj=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function UI(s,c){if(s=s.containerInfo,pv=Cd,s=CO(s),H0(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var x=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{f.nodeType,w.nodeType}catch{f=null;break e}var A=0,P=-1,U=-1,G=0,re=0,le=s,Q=null;t:for(;;){for(var J;le!==f||x!==0&&le.nodeType!==3||(P=A+x),le!==w||p!==0&&le.nodeType!==3||(U=A+p),le.nodeType===3&&(A+=le.nodeValue.length),(J=le.firstChild)!==null;)Q=le,le=J;for(;;){if(le===s)break t;if(Q===f&&++G===x&&(P=A),Q===w&&++re===p&&(U=A),(J=le.nextSibling)!==null)break;le=Q,Q=le.parentNode}le=J}f=P===-1||U===-1?null:{start:P,end:U}}else f=null}f=f||{start:0,end:0}}else f=null;for(gv={focusedElem:s,selectionRange:f},Cd=!1,Ft=c;Ft!==null;)if(c=Ft,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,Ft=s;else for(;Ft!==null;){switch(c=Ft,w=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(f=0;f<s.length;f++)x=s[f],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,f=c,x=w.memoizedProps,w=w.memoizedState,p=f.stateNode;try{var be=Ys(f.type,x);s=p.getSnapshotBeforeUpdate(be,w),p.__reactInternalSnapshotBeforeUpdate=s}catch(Ae){Xe(f,f.return,Ae)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,f=s.nodeType,f===9)xv(s);else if(f===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":xv(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,Ft=s;break}Ft=c.return}}function hj(s,c,f){var p=f.flags;switch(f.tag){case 0:case 11:case 15:Zi(s,f),p&4&&Jc(5,f);break;case 1:if(Zi(s,f),p&4)if(s=f.stateNode,c===null)try{s.componentDidMount()}catch(A){Xe(f,f.return,A)}else{var x=Ys(f.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(x,c,s.__reactInternalSnapshotBeforeUpdate)}catch(A){Xe(f,f.return,A)}}p&64&&sj(f),p&512&&eu(f,f.return);break;case 3:if(Zi(s,f),p&64&&(s=f.updateQueue,s!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{QO(s,c)}catch(A){Xe(f,f.return,A)}}break;case 27:c===null&&p&4&&uj(f);case 26:case 5:Zi(s,f),c===null&&p&4&&oj(f),p&512&&eu(f,f.return);break;case 12:Zi(s,f);break;case 31:Zi(s,f),p&4&&pj(s,f);break;case 13:Zi(s,f),p&4&&gj(s,f),p&64&&(s=f.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(f=YI.bind(null,f),p7(s,f))));break;case 22:if(p=f.memoizedState!==null||Qi,!p){c=c!==null&&c.memoizedState!==null||_t,x=Qi;var w=_t;Qi=p,(_t=c)&&!w?Ji(s,f,(f.subtreeFlags&8772)!==0):Zi(s,f),Qi=x,_t=w}break;case 30:break;default:Zi(s,f)}}function dj(s){var c=s.alternate;c!==null&&(s.alternate=null,dj(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&O0(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var mt=null,In=!1;function Xi(s,c,f){for(f=f.child;f!==null;)mj(s,c,f),f=f.sibling}function mj(s,c,f){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(Oc,f)}catch{}switch(f.tag){case 26:_t||ui(f,c),Xi(s,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:_t||ui(f,c);var p=mt,x=In;Qa(f.type)&&(mt=f.stateNode,In=!1),Xi(s,c,f),cu(f.stateNode),mt=p,In=x;break;case 5:_t||ui(f,c);case 6:if(p=mt,x=In,mt=null,Xi(s,c,f),mt=p,In=x,mt!==null)if(In)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(f.stateNode)}catch(w){Xe(f,c,w)}else try{mt.removeChild(f.stateNode)}catch(w){Xe(f,c,w)}break;case 18:mt!==null&&(In?(s=mt,sA(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,f.stateNode),bo(s)):sA(mt,f.stateNode));break;case 4:p=mt,x=In,mt=f.stateNode.containerInfo,In=!0,Xi(s,c,f),mt=p,In=x;break;case 0:case 11:case 14:case 15:$a(2,f,c),_t||$a(4,f,c),Xi(s,c,f);break;case 1:_t||(ui(f,c),p=f.stateNode,typeof p.componentWillUnmount=="function"&&lj(f,c,p)),Xi(s,c,f);break;case 21:Xi(s,c,f);break;case 22:_t=(p=_t)||f.memoizedState!==null,Xi(s,c,f),_t=p;break;default:Xi(s,c,f)}}function pj(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{bo(s)}catch(f){Xe(c,c.return,f)}}}function gj(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{bo(s)}catch(f){Xe(c,c.return,f)}}function HI(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new fj),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new fj),c;default:throw Error(r(435,s.tag))}}function rd(s,c){var f=HI(s);c.forEach(function(p){if(!f.has(p)){f.add(p);var x=QI.bind(null,s,p);p.then(x,x)}})}function Un(s,c){var f=c.deletions;if(f!==null)for(var p=0;p<f.length;p++){var x=f[p],w=s,A=c,P=A;e:for(;P!==null;){switch(P.tag){case 27:if(Qa(P.type)){mt=P.stateNode,In=!1;break e}break;case 5:mt=P.stateNode,In=!1;break e;case 3:case 4:mt=P.stateNode.containerInfo,In=!0;break e}P=P.return}if(mt===null)throw Error(r(160));mj(w,A,x),mt=null,In=!1,w=x.alternate,w!==null&&(w.return=null),x.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)yj(c,s),c=c.sibling}var Kr=null;function yj(s,c){var f=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Un(c,s),Hn(s),p&4&&($a(3,s,s.return),Jc(3,s),$a(5,s,s.return));break;case 1:Un(c,s),Hn(s),p&512&&(_t||f===null||ui(f,f.return)),p&64&&Qi&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(f=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=f===null?p:f.concat(p))));break;case 26:var x=Kr;if(Un(c,s),Hn(s),p&512&&(_t||f===null||ui(f,f.return)),p&4){var w=f!==null?f.memoizedState:null;if(p=s.memoizedState,f===null)if(p===null)if(s.stateNode===null){e:{p=s.type,f=s.memoizedProps,x=x.ownerDocument||x;t:switch(p){case"title":w=x.getElementsByTagName("title")[0],(!w||w[Ac]||w[sn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=x.createElement(p),x.head.insertBefore(w,x.querySelector("head > title"))),un(w,p,f),w[sn]=s,Vt(w),p=w;break e;case"link":var A=yA("link","href",x).get(p+(f.href||""));if(A){for(var P=0;P<A.length;P++)if(w=A[P],w.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&w.getAttribute("rel")===(f.rel==null?null:f.rel)&&w.getAttribute("title")===(f.title==null?null:f.title)&&w.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){A.splice(P,1);break t}}w=x.createElement(p),un(w,p,f),x.head.appendChild(w);break;case"meta":if(A=yA("meta","content",x).get(p+(f.content||""))){for(P=0;P<A.length;P++)if(w=A[P],w.getAttribute("content")===(f.content==null?null:""+f.content)&&w.getAttribute("name")===(f.name==null?null:f.name)&&w.getAttribute("property")===(f.property==null?null:f.property)&&w.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&w.getAttribute("charset")===(f.charSet==null?null:f.charSet)){A.splice(P,1);break t}}w=x.createElement(p),un(w,p,f),x.head.appendChild(w);break;default:throw Error(r(468,p))}w[sn]=s,Vt(w),p=w}s.stateNode=p}else vA(x,s.type,s.stateNode);else s.stateNode=gA(x,p,s.memoizedProps);else w!==p?(w===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):w.count--,p===null?vA(x,s.type,s.stateNode):gA(x,p,s.memoizedProps)):p===null&&s.stateNode!==null&&Fy(s,s.memoizedProps,f.memoizedProps)}break;case 27:Un(c,s),Hn(s),p&512&&(_t||f===null||ui(f,f.return)),f!==null&&p&4&&Fy(s,s.memoizedProps,f.memoizedProps);break;case 5:if(Un(c,s),Hn(s),p&512&&(_t||f===null||ui(f,f.return)),s.flags&32){x=s.stateNode;try{ql(x,"")}catch(be){Xe(s,s.return,be)}}p&4&&s.stateNode!=null&&(x=s.memoizedProps,Fy(s,x,f!==null?f.memoizedProps:x)),p&1024&&(Gy=!0);break;case 6:if(Un(c,s),Hn(s),p&4){if(s.stateNode===null)throw Error(r(162));p=s.memoizedProps,f=s.stateNode;try{f.nodeValue=p}catch(be){Xe(s,s.return,be)}}break;case 3:if(xd=null,x=Kr,Kr=yd(c.containerInfo),Un(c,s),Kr=x,Hn(s),p&4&&f!==null&&f.memoizedState.isDehydrated)try{bo(c.containerInfo)}catch(be){Xe(s,s.return,be)}Gy&&(Gy=!1,vj(s));break;case 4:p=Kr,Kr=yd(s.stateNode.containerInfo),Un(c,s),Hn(s),Kr=p;break;case 12:Un(c,s),Hn(s);break;case 31:Un(c,s),Hn(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,rd(s,p)));break;case 13:Un(c,s),Hn(s),s.child.flags&8192&&s.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(ad=tr()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,rd(s,p)));break;case 22:x=s.memoizedState!==null;var U=f!==null&&f.memoizedState!==null,G=Qi,re=_t;if(Qi=G||x,_t=re||U,Un(c,s),_t=re,Qi=G,Hn(s),p&8192)e:for(c=s.stateNode,c._visibility=x?c._visibility&-2:c._visibility|1,x&&(f===null||U||Qi||_t||Qs(s)),f=null,c=s;;){if(c.tag===5||c.tag===26){if(f===null){U=f=c;try{if(w=U.stateNode,x)A=w.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{P=U.stateNode;var le=U.memoizedProps.style,Q=le!=null&&le.hasOwnProperty("display")?le.display:null;P.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(be){Xe(U,U.return,be)}}}else if(c.tag===6){if(f===null){U=c;try{U.stateNode.nodeValue=x?"":U.memoizedProps}catch(be){Xe(U,U.return,be)}}}else if(c.tag===18){if(f===null){U=c;try{var J=U.stateNode;x?lA(J,!0):lA(U.stateNode,!1)}catch(be){Xe(U,U.return,be)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}p&4&&(p=s.updateQueue,p!==null&&(f=p.retryQueue,f!==null&&(p.retryQueue=null,rd(s,f))));break;case 19:Un(c,s),Hn(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,rd(s,p)));break;case 30:break;case 21:break;default:Un(c,s),Hn(s)}}function Hn(s){var c=s.flags;if(c&2){try{for(var f,p=s.return;p!==null;){if(cj(p)){f=p;break}p=p.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var x=f.stateNode,w=Wy(s);nd(s,w,x);break;case 5:var A=f.stateNode;f.flags&32&&(ql(A,""),f.flags&=-33);var P=Wy(s);nd(s,P,A);break;case 3:case 4:var U=f.stateNode.containerInfo,G=Wy(s);Ky(s,G,U);break;default:throw Error(r(161))}}catch(re){Xe(s,s.return,re)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function vj(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;vj(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function Zi(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)hj(s,c.alternate,c),c=c.sibling}function Qs(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:$a(4,c,c.return),Qs(c);break;case 1:ui(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&lj(c,c.return,f),Qs(c);break;case 27:cu(c.stateNode);case 26:case 5:ui(c,c.return),Qs(c);break;case 22:c.memoizedState===null&&Qs(c);break;case 30:Qs(c);break;default:Qs(c)}s=s.sibling}}function Ji(s,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var p=c.alternate,x=s,w=c,A=w.flags;switch(w.tag){case 0:case 11:case 15:Ji(x,w,f),Jc(4,w);break;case 1:if(Ji(x,w,f),p=w,x=p.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(G){Xe(p,p.return,G)}if(p=w,x=p.updateQueue,x!==null){var P=p.stateNode;try{var U=x.shared.hiddenCallbacks;if(U!==null)for(x.shared.hiddenCallbacks=null,x=0;x<U.length;x++)YO(U[x],P)}catch(G){Xe(p,p.return,G)}}f&&A&64&&sj(w),eu(w,w.return);break;case 27:uj(w);case 26:case 5:Ji(x,w,f),f&&p===null&&A&4&&oj(w),eu(w,w.return);break;case 12:Ji(x,w,f);break;case 31:Ji(x,w,f),f&&A&4&&pj(x,w);break;case 13:Ji(x,w,f),f&&A&4&&gj(x,w);break;case 22:w.memoizedState===null&&Ji(x,w,f),eu(w,w.return);break;case 30:break;default:Ji(x,w,f)}c=c.sibling}}function Yy(s,c){var f=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==f&&(s!=null&&s.refCount++,f!=null&&Uc(f))}function Qy(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Uc(s))}function Gr(s,c,f,p){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)xj(s,c,f,p),c=c.sibling}function xj(s,c,f,p){var x=c.flags;switch(c.tag){case 0:case 11:case 15:Gr(s,c,f,p),x&2048&&Jc(9,c);break;case 1:Gr(s,c,f,p);break;case 3:Gr(s,c,f,p),x&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Uc(s)));break;case 12:if(x&2048){Gr(s,c,f,p),s=c.stateNode;try{var w=c.memoizedProps,A=w.id,P=w.onPostCommit;typeof P=="function"&&P(A,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(U){Xe(c,c.return,U)}}else Gr(s,c,f,p);break;case 31:Gr(s,c,f,p);break;case 13:Gr(s,c,f,p);break;case 23:break;case 22:w=c.stateNode,A=c.alternate,c.memoizedState!==null?w._visibility&2?Gr(s,c,f,p):tu(s,c):w._visibility&2?Gr(s,c,f,p):(w._visibility|=2,oo(s,c,f,p,(c.subtreeFlags&10256)!==0||!1)),x&2048&&Yy(A,c);break;case 24:Gr(s,c,f,p),x&2048&&Qy(c.alternate,c);break;default:Gr(s,c,f,p)}}function oo(s,c,f,p,x){for(x=x&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var w=s,A=c,P=f,U=p,G=A.flags;switch(A.tag){case 0:case 11:case 15:oo(w,A,P,U,x),Jc(8,A);break;case 23:break;case 22:var re=A.stateNode;A.memoizedState!==null?re._visibility&2?oo(w,A,P,U,x):tu(w,A):(re._visibility|=2,oo(w,A,P,U,x)),x&&G&2048&&Yy(A.alternate,A);break;case 24:oo(w,A,P,U,x),x&&G&2048&&Qy(A.alternate,A);break;default:oo(w,A,P,U,x)}c=c.sibling}}function tu(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=s,p=c,x=p.flags;switch(p.tag){case 22:tu(f,p),x&2048&&Yy(p.alternate,p);break;case 24:tu(f,p),x&2048&&Qy(p.alternate,p);break;default:tu(f,p)}c=c.sibling}}var nu=8192;function co(s,c,f){if(s.subtreeFlags&nu)for(s=s.child;s!==null;)bj(s,c,f),s=s.sibling}function bj(s,c,f){switch(s.tag){case 26:co(s,c,f),s.flags&nu&&s.memoizedState!==null&&A7(f,Kr,s.memoizedState,s.memoizedProps);break;case 5:co(s,c,f);break;case 3:case 4:var p=Kr;Kr=yd(s.stateNode.containerInfo),co(s,c,f),Kr=p;break;case 22:s.memoizedState===null&&(p=s.alternate,p!==null&&p.memoizedState!==null?(p=nu,nu=16777216,co(s,c,f),nu=p):co(s,c,f));break;default:co(s,c,f)}}function wj(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function ru(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var p=c[f];Ft=p,Cj(p,s)}wj(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Sj(s),s=s.sibling}function Sj(s){switch(s.tag){case 0:case 11:case 15:ru(s),s.flags&2048&&$a(9,s,s.return);break;case 3:ru(s);break;case 12:ru(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,id(s)):ru(s);break;default:ru(s)}}function id(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var p=c[f];Ft=p,Cj(p,s)}wj(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:$a(8,c,c.return),id(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,id(c));break;default:id(c)}s=s.sibling}}function Cj(s,c){for(;Ft!==null;){var f=Ft;switch(f.tag){case 0:case 11:case 15:$a(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var p=f.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Uc(f.memoizedState.cache)}if(p=f.child,p!==null)p.return=f,Ft=p;else e:for(f=s;Ft!==null;){p=Ft;var x=p.sibling,w=p.return;if(dj(p),p===f){Ft=null;break e}if(x!==null){x.return=w,Ft=x;break e}Ft=w}}}var qI={getCacheForType:function(s){var c=on(Mt),f=c.data.get(s);return f===void 0&&(f=s(),c.data.set(s,f)),f},cacheSignal:function(){return on(Mt).controller.signal}},$I=typeof WeakMap=="function"?WeakMap:Map,Ge=0,it=null,Le=null,Ie=0,Qe=0,or=null,Va=!1,uo=!1,Xy=!1,ea=0,St=0,Fa=0,Xs=0,Zy=0,cr=0,fo=0,iu=null,qn=null,Jy=!1,ad=0,Oj=0,sd=1/0,ld=null,Wa=null,zt=0,Ka=null,ho=null,ta=0,ev=0,tv=null,kj=null,au=0,nv=null;function ur(){return(Ge&2)!==0&&Ie!==0?Ie&-Ie:q.T!==null?ov():HC()}function jj(){if(cr===0)if((Ie&536870912)===0||He){var s=ph;ph<<=1,(ph&3932160)===0&&(ph=262144),cr=s}else cr=536870912;return s=sr.current,s!==null&&(s.flags|=32),cr}function $n(s,c,f){(s===it&&(Qe===2||Qe===9)||s.cancelPendingCommit!==null)&&(mo(s,0),Ga(s,Ie,cr,!1)),jc(s,f),((Ge&2)===0||s!==it)&&(s===it&&((Ge&2)===0&&(Xs|=f),St===4&&Ga(s,Ie,cr,!1)),fi(s))}function Aj(s,c,f){if((Ge&6)!==0)throw Error(r(327));var p=!f&&(c&127)===0&&(c&s.expiredLanes)===0||kc(s,c),x=p?WI(s,c):iv(s,c,!0),w=p;do{if(x===0){uo&&!p&&Ga(s,c,0,!1);break}else{if(f=s.current.alternate,w&&!VI(f)){x=iv(s,c,!1),w=!1;continue}if(x===2){if(w=c,s.errorRecoveryDisabledLanes&w)var A=0;else A=s.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){c=A;e:{var P=s;x=iu;var U=P.current.memoizedState.isDehydrated;if(U&&(mo(P,A).flags|=256),A=iv(P,A,!1),A!==2){if(Xy&&!U){P.errorRecoveryDisabledLanes|=w,Xs|=w,x=4;break e}w=qn,qn=x,w!==null&&(qn===null?qn=w:qn.push.apply(qn,w))}x=A}if(w=!1,x!==2)continue}}if(x===1){mo(s,0),Ga(s,c,0,!0);break}e:{switch(p=s,w=x,w){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Ga(p,c,cr,!Va);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(x=ad+300-tr(),10<x)){if(Ga(p,c,cr,!Va),yh(p,0,!0)!==0)break e;ta=c,p.timeoutHandle=iA(Nj.bind(null,p,f,qn,ld,Jy,c,cr,Xs,fo,Va,w,"Throttled",-0,0),x);break e}Nj(p,f,qn,ld,Jy,c,cr,Xs,fo,Va,w,null,-0,0)}}break}while(!0);fi(s)}function Nj(s,c,f,p,x,w,A,P,U,G,re,le,Q,J){if(s.timeoutHandle=-1,le=c.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ui},bj(c,w,le);var be=(w&62914560)===w?ad-tr():(w&4194048)===w?Oj-tr():0;if(be=N7(le,be),be!==null){ta=w,s.cancelPendingCommit=be(Lj.bind(null,s,c,w,f,p,x,A,P,U,re,le,null,Q,J)),Ga(s,w,A,!G);return}}Lj(s,c,w,f,p,x,A,P,U)}function VI(s){for(var c=s;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var p=0;p<f.length;p++){var x=f[p],w=x.getSnapshot;x=x.value;try{if(!ir(w(),x))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ga(s,c,f,p){c&=~Zy,c&=~Xs,s.suspendedLanes|=c,s.pingedLanes&=~c,p&&(s.warmLanes|=c),p=s.expirationTimes;for(var x=c;0<x;){var w=31-rr(x),A=1<<w;p[w]=-1,x&=~A}f!==0&&zC(s,f,c)}function od(){return(Ge&6)===0?(su(0),!1):!0}function rv(){if(Le!==null){if(Qe===0)var s=Le.return;else s=Le,Vi=qs=null,xy(s),ro=null,qc=0,s=Le;for(;s!==null;)aj(s.alternate,s),s=s.return;Le=null}}function mo(s,c){var f=s.timeoutHandle;f!==-1&&(s.timeoutHandle=-1,u7(f)),f=s.cancelPendingCommit,f!==null&&(s.cancelPendingCommit=null,f()),ta=0,rv(),it=s,Le=f=qi(s.current,null),Ie=c,Qe=0,or=null,Va=!1,uo=kc(s,c),Xy=!1,fo=cr=Zy=Xs=Fa=St=0,qn=iu=null,Jy=!1,(c&8)!==0&&(c|=c&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=c;0<p;){var x=31-rr(p),w=1<<x;c|=s[x],p&=~w}return ea=c,Eh(),f}function Ej(s,c){De=null,q.H=Qc,c===no||c===Bh?(c=FO(),Qe=3):c===ly?(c=FO(),Qe=4):Qe=c===Ry?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,or=c,Le===null&&(St=1,Xh(s,Cr(c,s.current)))}function Tj(){var s=sr.current;return s===null?!0:(Ie&4194048)===Ie?Ar===null:(Ie&62914560)===Ie||(Ie&536870912)!==0?s===Ar:!1}function Mj(){var s=q.H;return q.H=Qc,s===null?Qc:s}function Dj(){var s=q.A;return q.A=qI,s}function cd(){St=4,Va||(Ie&4194048)!==Ie&&sr.current!==null||(uo=!0),(Fa&134217727)===0&&(Xs&134217727)===0||it===null||Ga(it,Ie,cr,!1)}function iv(s,c,f){var p=Ge;Ge|=2;var x=Mj(),w=Dj();(it!==s||Ie!==c)&&(ld=null,mo(s,c)),c=!1;var A=St;e:do try{if(Qe!==0&&Le!==null){var P=Le,U=or;switch(Qe){case 8:rv(),A=6;break e;case 3:case 2:case 9:case 6:sr.current===null&&(c=!0);var G=Qe;if(Qe=0,or=null,po(s,P,U,G),f&&uo){A=0;break e}break;default:G=Qe,Qe=0,or=null,po(s,P,U,G)}}FI(),A=St;break}catch(re){Ej(s,re)}while(!0);return c&&s.shellSuspendCounter++,Vi=qs=null,Ge=p,q.H=x,q.A=w,Le===null&&(it=null,Ie=0,Eh()),A}function FI(){for(;Le!==null;)Pj(Le)}function WI(s,c){var f=Ge;Ge|=2;var p=Mj(),x=Dj();it!==s||Ie!==c?(ld=null,sd=tr()+500,mo(s,c)):uo=kc(s,c);e:do try{if(Qe!==0&&Le!==null){c=Le;var w=or;t:switch(Qe){case 1:Qe=0,or=null,po(s,c,w,1);break;case 2:case 9:if($O(w)){Qe=0,or=null,_j(c);break}c=function(){Qe!==2&&Qe!==9||it!==s||(Qe=7),fi(s)},w.then(c,c);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:$O(w)?(Qe=0,or=null,_j(c)):(Qe=0,or=null,po(s,c,w,7));break;case 5:var A=null;switch(Le.tag){case 26:A=Le.memoizedState;case 5:case 27:var P=Le;if(A?xA(A):P.stateNode.complete){Qe=0,or=null;var U=P.sibling;if(U!==null)Le=U;else{var G=P.return;G!==null?(Le=G,ud(G)):Le=null}break t}}Qe=0,or=null,po(s,c,w,5);break;case 6:Qe=0,or=null,po(s,c,w,6);break;case 8:rv(),St=6;break e;default:throw Error(r(462))}}KI();break}catch(re){Ej(s,re)}while(!0);return Vi=qs=null,q.H=p,q.A=x,Ge=f,Le!==null?0:(it=null,Ie=0,Eh(),St)}function KI(){for(;Le!==null&&!gz();)Pj(Le)}function Pj(s){var c=rj(s.alternate,s,ea);s.memoizedProps=s.pendingProps,c===null?ud(s):Le=c}function _j(s){var c=s,f=c.alternate;switch(c.tag){case 15:case 0:c=Xk(f,c,c.pendingProps,c.type,void 0,Ie);break;case 11:c=Xk(f,c,c.pendingProps,c.type.render,c.ref,Ie);break;case 5:xy(c);default:aj(f,c),c=Le=DO(c,ea),c=rj(f,c,ea)}s.memoizedProps=s.pendingProps,c===null?ud(s):Le=c}function po(s,c,f,p){Vi=qs=null,xy(c),ro=null,qc=0;var x=c.return;try{if(RI(s,x,c,f,Ie)){St=1,Xh(s,Cr(f,s.current)),Le=null;return}}catch(w){if(x!==null)throw Le=x,w;St=1,Xh(s,Cr(f,s.current)),Le=null;return}c.flags&32768?(He||p===1?s=!0:uo||(Ie&536870912)!==0?s=!1:(Va=s=!0,(p===2||p===9||p===3||p===6)&&(p=sr.current,p!==null&&p.tag===13&&(p.flags|=16384))),Rj(c,s)):ud(c)}function ud(s){var c=s;do{if((c.flags&32768)!==0){Rj(c,Va);return}s=c.return;var f=zI(c.alternate,c,ea);if(f!==null){Le=f;return}if(c=c.sibling,c!==null){Le=c;return}Le=c=s}while(c!==null);St===0&&(St=5)}function Rj(s,c){do{var f=II(s.alternate,s);if(f!==null){f.flags&=32767,Le=f;return}if(f=s.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(s=s.sibling,s!==null)){Le=s;return}Le=s=f}while(s!==null);St=6,Le=null}function Lj(s,c,f,p,x,w,A,P,U){s.cancelPendingCommit=null;do fd();while(zt!==0);if((Ge&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(w=c.lanes|c.childLanes,w|=W0,jz(s,f,w,A,P,U),s===it&&(Le=it=null,Ie=0),ho=c,Ka=s,ta=f,ev=w,tv=x,kj=p,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,XI(dh,function(){return Hj(),null})):(s.callbackNode=null,s.callbackPriority=0),p=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||p){p=q.T,q.T=null,x=V.p,V.p=2,A=Ge,Ge|=4;try{UI(s,c,f)}finally{Ge=A,V.p=x,q.T=p}}zt=1,Bj(),zj(),Ij()}}function Bj(){if(zt===1){zt=0;var s=Ka,c=ho,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=q.T,q.T=null;var p=V.p;V.p=2;var x=Ge;Ge|=4;try{yj(c,s);var w=gv,A=CO(s.containerInfo),P=w.focusedElem,U=w.selectionRange;if(A!==P&&P&&P.ownerDocument&&SO(P.ownerDocument.documentElement,P)){if(U!==null&&H0(P)){var G=U.start,re=U.end;if(re===void 0&&(re=G),"selectionStart"in P)P.selectionStart=G,P.selectionEnd=Math.min(re,P.value.length);else{var le=P.ownerDocument||document,Q=le&&le.defaultView||window;if(Q.getSelection){var J=Q.getSelection(),be=P.textContent.length,Ae=Math.min(U.start,be),tt=U.end===void 0?Ae:Math.min(U.end,be);!J.extend&&Ae>tt&&(A=tt,tt=Ae,Ae=A);var F=wO(P,Ae),$=wO(P,tt);if(F&&$&&(J.rangeCount!==1||J.anchorNode!==F.node||J.anchorOffset!==F.offset||J.focusNode!==$.node||J.focusOffset!==$.offset)){var K=le.createRange();K.setStart(F.node,F.offset),J.removeAllRanges(),Ae>tt?(J.addRange(K),J.extend($.node,$.offset)):(K.setEnd($.node,$.offset),J.addRange(K))}}}}for(le=[],J=P;J=J.parentNode;)J.nodeType===1&&le.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<le.length;P++){var se=le[P];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Cd=!!pv,gv=pv=null}finally{Ge=x,V.p=p,q.T=f}}s.current=c,zt=2}}function zj(){if(zt===2){zt=0;var s=Ka,c=ho,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=q.T,q.T=null;var p=V.p;V.p=2;var x=Ge;Ge|=4;try{hj(s,c.alternate,c)}finally{Ge=x,V.p=p,q.T=f}}zt=3}}function Ij(){if(zt===4||zt===3){zt=0,yz();var s=Ka,c=ho,f=ta,p=kj;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?zt=5:(zt=0,ho=Ka=null,Uj(s,s.pendingLanes));var x=s.pendingLanes;if(x===0&&(Wa=null),S0(f),c=c.stateNode,nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(Oc,c,void 0,(c.current.flags&128)===128)}catch{}if(p!==null){c=q.T,x=V.p,V.p=2,q.T=null;try{for(var w=s.onRecoverableError,A=0;A<p.length;A++){var P=p[A];w(P.value,{componentStack:P.stack})}}finally{q.T=c,V.p=x}}(ta&3)!==0&&fd(),fi(s),x=s.pendingLanes,(f&261930)!==0&&(x&42)!==0?s===nv?au++:(au=0,nv=s):au=0,su(0)}}function Uj(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,Uc(c)))}function fd(){return Bj(),zj(),Ij(),Hj()}function Hj(){if(zt!==5)return!1;var s=Ka,c=ev;ev=0;var f=S0(ta),p=q.T,x=V.p;try{V.p=32>f?32:f,q.T=null,f=tv,tv=null;var w=Ka,A=ta;if(zt=0,ho=Ka=null,ta=0,(Ge&6)!==0)throw Error(r(331));var P=Ge;if(Ge|=4,Sj(w.current),xj(w,w.current,A,f),Ge=P,su(0,!1),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(Oc,w)}catch{}return!0}finally{V.p=x,q.T=p,Uj(s,c)}}function qj(s,c,f){c=Cr(f,c),c=_y(s.stateNode,c,2),s=Ua(s,c,2),s!==null&&(jc(s,2),fi(s))}function Xe(s,c,f){if(s.tag===3)qj(s,s,f);else for(;c!==null;){if(c.tag===3){qj(c,s,f);break}else if(c.tag===1){var p=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Wa===null||!Wa.has(p))){s=Cr(f,s),f=$k(2),p=Ua(c,f,2),p!==null&&(Vk(f,p,c,s),jc(p,2),fi(p));break}}c=c.return}}function av(s,c,f){var p=s.pingCache;if(p===null){p=s.pingCache=new $I;var x=new Set;p.set(c,x)}else x=p.get(c),x===void 0&&(x=new Set,p.set(c,x));x.has(f)||(Xy=!0,x.add(f),s=GI.bind(null,s,c,f),c.then(s,s))}function GI(s,c,f){var p=s.pingCache;p!==null&&p.delete(c),s.pingedLanes|=s.suspendedLanes&f,s.warmLanes&=~f,it===s&&(Ie&f)===f&&(St===4||St===3&&(Ie&62914560)===Ie&&300>tr()-ad?(Ge&2)===0&&mo(s,0):Zy|=f,fo===Ie&&(fo=0)),fi(s)}function $j(s,c){c===0&&(c=BC()),s=Is(s,c),s!==null&&(jc(s,c),fi(s))}function YI(s){var c=s.memoizedState,f=0;c!==null&&(f=c.retryLane),$j(s,f)}function QI(s,c){var f=0;switch(s.tag){case 31:case 13:var p=s.stateNode,x=s.memoizedState;x!==null&&(f=x.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(c),$j(s,f)}function XI(s,c){return v0(s,c)}var hd=null,go=null,sv=!1,dd=!1,lv=!1,Ya=0;function fi(s){s!==go&&s.next===null&&(go===null?hd=go=s:go=go.next=s),dd=!0,sv||(sv=!0,JI())}function su(s,c){if(!lv&&dd){lv=!0;do for(var f=!1,p=hd;p!==null;){if(s!==0){var x=p.pendingLanes;if(x===0)var w=0;else{var A=p.suspendedLanes,P=p.pingedLanes;w=(1<<31-rr(42|s)+1)-1,w&=x&~(A&~P),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(f=!0,Kj(p,w))}else w=Ie,w=yh(p,p===it?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(w&3)===0||kc(p,w)||(f=!0,Kj(p,w));p=p.next}while(f);lv=!1}}function ZI(){Vj()}function Vj(){dd=sv=!1;var s=0;Ya!==0&&c7()&&(s=Ya);for(var c=tr(),f=null,p=hd;p!==null;){var x=p.next,w=Fj(p,c);w===0?(p.next=null,f===null?hd=x:f.next=x,x===null&&(go=f)):(f=p,(s!==0||(w&3)!==0)&&(dd=!0)),p=x}zt!==0&&zt!==5||su(s),Ya!==0&&(Ya=0)}function Fj(s,c){for(var f=s.suspendedLanes,p=s.pingedLanes,x=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var A=31-rr(w),P=1<<A,U=x[A];U===-1?((P&f)===0||(P&p)!==0)&&(x[A]=kz(P,c)):U<=c&&(s.expiredLanes|=P),w&=~P}if(c=it,f=Ie,f=yh(s,s===c?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p=s.callbackNode,f===0||s===c&&(Qe===2||Qe===9)||s.cancelPendingCommit!==null)return p!==null&&p!==null&&x0(p),s.callbackNode=null,s.callbackPriority=0;if((f&3)===0||kc(s,f)){if(c=f&-f,c===s.callbackPriority)return c;switch(p!==null&&x0(p),S0(f)){case 2:case 8:f=RC;break;case 32:f=dh;break;case 268435456:f=LC;break;default:f=dh}return p=Wj.bind(null,s),f=v0(f,p),s.callbackPriority=c,s.callbackNode=f,c}return p!==null&&p!==null&&x0(p),s.callbackPriority=2,s.callbackNode=null,2}function Wj(s,c){if(zt!==0&&zt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var f=s.callbackNode;if(fd()&&s.callbackNode!==f)return null;var p=Ie;return p=yh(s,s===it?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p===0?null:(Aj(s,p,c),Fj(s,tr()),s.callbackNode!=null&&s.callbackNode===f?Wj.bind(null,s):null)}function Kj(s,c){if(fd())return null;Aj(s,c,!0)}function JI(){f7(function(){(Ge&6)!==0?v0(_C,ZI):Vj()})}function ov(){if(Ya===0){var s=eo;s===0&&(s=mh,mh<<=1,(mh&261888)===0&&(mh=256)),Ya=s}return Ya}function Gj(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:wh(""+s)}function Yj(s,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,s.id&&f.setAttribute("form",s.id),c.parentNode.insertBefore(f,c),s=new FormData(s),f.parentNode.removeChild(f),s}function e7(s,c,f,p,x){if(c==="submit"&&f&&f.stateNode===x){var w=Gj((x[Bn]||null).action),A=p.submitter;A&&(c=(c=A[Bn]||null)?Gj(c.formAction):A.getAttribute("formAction"),c!==null&&(w=c,A=null));var P=new kh("action","action",null,p,x);s.push({event:P,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ya!==0){var U=A?Yj(x,A):new FormData(x);Ny(f,{pending:!0,data:U,method:x.method,action:w},null,U)}}else typeof w=="function"&&(P.preventDefault(),U=A?Yj(x,A):new FormData(x),Ny(f,{pending:!0,data:U,method:x.method,action:w},w,U))},currentTarget:x}]})}}for(var cv=0;cv<F0.length;cv++){var uv=F0[cv],t7=uv.toLowerCase(),n7=uv[0].toUpperCase()+uv.slice(1);Wr(t7,"on"+n7)}Wr(jO,"onAnimationEnd"),Wr(AO,"onAnimationIteration"),Wr(NO,"onAnimationStart"),Wr("dblclick","onDoubleClick"),Wr("focusin","onFocus"),Wr("focusout","onBlur"),Wr(vI,"onTransitionRun"),Wr(xI,"onTransitionStart"),Wr(bI,"onTransitionCancel"),Wr(EO,"onTransitionEnd"),Ul("onMouseEnter",["mouseout","mouseover"]),Ul("onMouseLeave",["mouseout","mouseover"]),Ul("onPointerEnter",["pointerout","pointerover"]),Ul("onPointerLeave",["pointerout","pointerover"]),Rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function Qj(s,c){c=(c&4)!==0;for(var f=0;f<s.length;f++){var p=s[f],x=p.event;p=p.listeners;e:{var w=void 0;if(c)for(var A=p.length-1;0<=A;A--){var P=p[A],U=P.instance,G=P.currentTarget;if(P=P.listener,U!==w&&x.isPropagationStopped())break e;w=P,x.currentTarget=G;try{w(x)}catch(re){Nh(re)}x.currentTarget=null,w=U}else for(A=0;A<p.length;A++){if(P=p[A],U=P.instance,G=P.currentTarget,P=P.listener,U!==w&&x.isPropagationStopped())break e;w=P,x.currentTarget=G;try{w(x)}catch(re){Nh(re)}x.currentTarget=null,w=U}}}}function Be(s,c){var f=c[C0];f===void 0&&(f=c[C0]=new Set);var p=s+"__bubble";f.has(p)||(Xj(c,s,2,!1),f.add(p))}function fv(s,c,f){var p=0;c&&(p|=4),Xj(f,s,p,c)}var md="_reactListening"+Math.random().toString(36).slice(2);function hv(s){if(!s[md]){s[md]=!0,VC.forEach(function(f){f!=="selectionchange"&&(r7.has(f)||fv(f,!1,s),fv(f,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[md]||(c[md]=!0,fv("selectionchange",!1,c))}}function Xj(s,c,f,p){switch(jA(c)){case 2:var x=M7;break;case 8:x=D7;break;default:x=Av}f=x.bind(null,c,f,s),x=void 0,!D0||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(x=!0),p?x!==void 0?s.addEventListener(c,f,{capture:!0,passive:x}):s.addEventListener(c,f,!0):x!==void 0?s.addEventListener(c,f,{passive:x}):s.addEventListener(c,f,!1)}function dv(s,c,f,p,x){var w=p;if((c&1)===0&&(c&2)===0&&p!==null)e:for(;;){if(p===null)return;var A=p.tag;if(A===3||A===4){var P=p.stateNode.containerInfo;if(P===x)break;if(A===4)for(A=p.return;A!==null;){var U=A.tag;if((U===3||U===4)&&A.stateNode.containerInfo===x)return;A=A.return}for(;P!==null;){if(A=Bl(P),A===null)return;if(U=A.tag,U===5||U===6||U===26||U===27){p=w=A;continue e}P=P.parentNode}}p=p.return}nO(function(){var G=w,re=T0(f),le=[];e:{var Q=TO.get(s);if(Q!==void 0){var J=kh,be=s;switch(s){case"keypress":if(Ch(f)===0)break e;case"keydown":case"keyup":J=Qz;break;case"focusin":be="focus",J=L0;break;case"focusout":be="blur",J=L0;break;case"beforeblur":case"afterblur":J=L0;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=aO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=zz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Jz;break;case jO:case AO:case NO:J=Hz;break;case EO:J=tI;break;case"scroll":case"scrollend":J=Lz;break;case"wheel":J=rI;break;case"copy":case"cut":case"paste":J=$z;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=lO;break;case"toggle":case"beforetoggle":J=aI}var Ae=(c&4)!==0,tt=!Ae&&(s==="scroll"||s==="scrollend"),F=Ae?Q!==null?Q+"Capture":null:Q;Ae=[];for(var $=G,K;$!==null;){var se=$;if(K=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||K===null||F===null||(se=Ec($,F),se!=null&&Ae.push(ou($,se,K))),tt)break;$=$.return}0<Ae.length&&(Q=new J(Q,be,null,f,re),le.push({event:Q,listeners:Ae}))}}if((c&7)===0){e:{if(Q=s==="mouseover"||s==="pointerover",J=s==="mouseout"||s==="pointerout",Q&&f!==E0&&(be=f.relatedTarget||f.fromElement)&&(Bl(be)||be[Ll]))break e;if((J||Q)&&(Q=re.window===re?re:(Q=re.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(be=f.relatedTarget||f.toElement,J=G,be=be?Bl(be):null,be!==null&&(tt=a(be),Ae=be.tag,be!==tt||Ae!==5&&Ae!==27&&Ae!==6)&&(be=null)):(J=null,be=G),J!==be)){if(Ae=aO,se="onMouseLeave",F="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(Ae=lO,se="onPointerLeave",F="onPointerEnter",$="pointer"),tt=J==null?Q:Nc(J),K=be==null?Q:Nc(be),Q=new Ae(se,$+"leave",J,f,re),Q.target=tt,Q.relatedTarget=K,se=null,Bl(re)===G&&(Ae=new Ae(F,$+"enter",be,f,re),Ae.target=K,Ae.relatedTarget=tt,se=Ae),tt=se,J&&be)t:{for(Ae=i7,F=J,$=be,K=0,se=F;se;se=Ae(se))K++;se=0;for(var Oe=$;Oe;Oe=Ae(Oe))se++;for(;0<K-se;)F=Ae(F),K--;for(;0<se-K;)$=Ae($),se--;for(;K--;){if(F===$||$!==null&&F===$.alternate){Ae=F;break t}F=Ae(F),$=Ae($)}Ae=null}else Ae=null;J!==null&&Zj(le,Q,J,Ae,!1),be!==null&&tt!==null&&Zj(le,tt,be,Ae,!0)}}e:{if(Q=G?Nc(G):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var Ve=pO;else if(dO(Q))if(gO)Ve=pI;else{Ve=dI;var Se=hI}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?G&&N0(G.elementType)&&(Ve=pO):Ve=mI;if(Ve&&(Ve=Ve(s,G))){mO(le,Ve,f,re);break e}Se&&Se(s,Q,G),s==="focusout"&&G&&Q.type==="number"&&G.memoizedProps.value!=null&&A0(Q,"number",Q.value)}switch(Se=G?Nc(G):window,s){case"focusin":(dO(Se)||Se.contentEditable==="true")&&(Wl=Se,q0=G,Bc=null);break;case"focusout":Bc=q0=Wl=null;break;case"mousedown":$0=!0;break;case"contextmenu":case"mouseup":case"dragend":$0=!1,OO(le,f,re);break;case"selectionchange":if(yI)break;case"keydown":case"keyup":OO(le,f,re)}var Pe;if(z0)e:{switch(s){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Fl?fO(s,f)&&(Ue="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(Ue="onCompositionStart");Ue&&(oO&&f.locale!=="ko"&&(Fl||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Fl&&(Pe=rO()):(Pa=re,P0="value"in Pa?Pa.value:Pa.textContent,Fl=!0)),Se=pd(G,Ue),0<Se.length&&(Ue=new sO(Ue,s,null,f,re),le.push({event:Ue,listeners:Se}),Pe?Ue.data=Pe:(Pe=hO(f),Pe!==null&&(Ue.data=Pe)))),(Pe=lI?oI(s,f):cI(s,f))&&(Ue=pd(G,"onBeforeInput"),0<Ue.length&&(Se=new sO("onBeforeInput","beforeinput",null,f,re),le.push({event:Se,listeners:Ue}),Se.data=Pe)),e7(le,s,G,f,re)}Qj(le,c)})}function ou(s,c,f){return{instance:s,listener:c,currentTarget:f}}function pd(s,c){for(var f=c+"Capture",p=[];s!==null;){var x=s,w=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||w===null||(x=Ec(s,f),x!=null&&p.unshift(ou(s,x,w)),x=Ec(s,c),x!=null&&p.push(ou(s,x,w))),s.tag===3)return p;s=s.return}return[]}function i7(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Zj(s,c,f,p,x){for(var w=c._reactName,A=[];f!==null&&f!==p;){var P=f,U=P.alternate,G=P.stateNode;if(P=P.tag,U!==null&&U===p)break;P!==5&&P!==26&&P!==27||G===null||(U=G,x?(G=Ec(f,w),G!=null&&A.unshift(ou(f,G,U))):x||(G=Ec(f,w),G!=null&&A.push(ou(f,G,U)))),f=f.return}A.length!==0&&s.push({event:c,listeners:A})}var a7=/\r\n?/g,s7=/\u0000|\uFFFD/g;function Jj(s){return(typeof s=="string"?s:""+s).replace(a7,`
`).replace(s7,"")}function eA(s,c){return c=Jj(c),Jj(s)===c}function et(s,c,f,p,x,w){switch(f){case"children":typeof p=="string"?c==="body"||c==="textarea"&&p===""||ql(s,p):(typeof p=="number"||typeof p=="bigint")&&c!=="body"&&ql(s,""+p);break;case"className":xh(s,"class",p);break;case"tabIndex":xh(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":xh(s,f,p);break;case"style":eO(s,p,w);break;case"data":if(c!=="object"){xh(s,"data",p);break}case"src":case"href":if(p===""&&(c!=="a"||f!=="href")){s.removeAttribute(f);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(f);break}p=wh(""+p),s.setAttribute(f,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(f==="formAction"?(c!=="input"&&et(s,c,"name",x.name,x,null),et(s,c,"formEncType",x.formEncType,x,null),et(s,c,"formMethod",x.formMethod,x,null),et(s,c,"formTarget",x.formTarget,x,null)):(et(s,c,"encType",x.encType,x,null),et(s,c,"method",x.method,x,null),et(s,c,"target",x.target,x,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(f);break}p=wh(""+p),s.setAttribute(f,p);break;case"onClick":p!=null&&(s.onclick=Ui);break;case"onScroll":p!=null&&Be("scroll",s);break;case"onScrollEnd":p!=null&&Be("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(x.children!=null)throw Error(r(60));s.innerHTML=f}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}f=wh(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(f,""+p):s.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(f,""):s.removeAttribute(f);break;case"capture":case"download":p===!0?s.setAttribute(f,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(f,p):s.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(f,p):s.removeAttribute(f);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(f):s.setAttribute(f,p);break;case"popover":Be("beforetoggle",s),Be("toggle",s),vh(s,"popover",p);break;case"xlinkActuate":Ii(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Ii(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Ii(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Ii(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Ii(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Ii(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Ii(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Ii(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Ii(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":vh(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=_z.get(f)||f,vh(s,f,p))}}function mv(s,c,f,p,x,w){switch(f){case"style":eO(s,p,w);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(x.children!=null)throw Error(r(60));s.innerHTML=f}}break;case"children":typeof p=="string"?ql(s,p):(typeof p=="number"||typeof p=="bigint")&&ql(s,""+p);break;case"onScroll":p!=null&&Be("scroll",s);break;case"onScrollEnd":p!=null&&Be("scrollend",s);break;case"onClick":p!=null&&(s.onclick=Ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!FC.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(x=f.endsWith("Capture"),c=f.slice(2,x?f.length-7:void 0),w=s[Bn]||null,w=w!=null?w[f]:null,typeof w=="function"&&s.removeEventListener(c,w,x),typeof p=="function")){typeof w!="function"&&w!==null&&(f in s?s[f]=null:s.hasAttribute(f)&&s.removeAttribute(f)),s.addEventListener(c,p,x);break e}f in s?s[f]=p:p===!0?s.setAttribute(f,""):vh(s,f,p)}}}function un(s,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",s),Be("load",s);var p=!1,x=!1,w;for(w in f)if(f.hasOwnProperty(w)){var A=f[w];if(A!=null)switch(w){case"src":p=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:et(s,c,w,A,f,null)}}x&&et(s,c,"srcSet",f.srcSet,f,null),p&&et(s,c,"src",f.src,f,null);return;case"input":Be("invalid",s);var P=w=A=x=null,U=null,G=null;for(p in f)if(f.hasOwnProperty(p)){var re=f[p];if(re!=null)switch(p){case"name":x=re;break;case"type":A=re;break;case"checked":U=re;break;case"defaultChecked":G=re;break;case"value":w=re;break;case"defaultValue":P=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,c));break;default:et(s,c,p,re,f,null)}}QC(s,w,P,U,G,A,x,!1);return;case"select":Be("invalid",s),p=A=w=null;for(x in f)if(f.hasOwnProperty(x)&&(P=f[x],P!=null))switch(x){case"value":w=P;break;case"defaultValue":A=P;break;case"multiple":p=P;default:et(s,c,x,P,f,null)}c=w,f=A,s.multiple=!!p,c!=null?Hl(s,!!p,c,!1):f!=null&&Hl(s,!!p,f,!0);return;case"textarea":Be("invalid",s),w=x=p=null;for(A in f)if(f.hasOwnProperty(A)&&(P=f[A],P!=null))switch(A){case"value":p=P;break;case"defaultValue":x=P;break;case"children":w=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:et(s,c,A,P,f,null)}ZC(s,p,x,w);return;case"option":for(U in f)f.hasOwnProperty(U)&&(p=f[U],p!=null)&&(U==="selected"?s.selected=p&&typeof p!="function"&&typeof p!="symbol":et(s,c,U,p,f,null));return;case"dialog":Be("beforetoggle",s),Be("toggle",s),Be("cancel",s),Be("close",s);break;case"iframe":case"object":Be("load",s);break;case"video":case"audio":for(p=0;p<lu.length;p++)Be(lu[p],s);break;case"image":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"embed":case"source":case"link":Be("error",s),Be("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in f)if(f.hasOwnProperty(G)&&(p=f[G],p!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:et(s,c,G,p,f,null)}return;default:if(N0(c)){for(re in f)f.hasOwnProperty(re)&&(p=f[re],p!==void 0&&mv(s,c,re,p,f,void 0));return}}for(P in f)f.hasOwnProperty(P)&&(p=f[P],p!=null&&et(s,c,P,p,f,null))}function l7(s,c,f,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,w=null,A=null,P=null,U=null,G=null,re=null;for(J in f){var le=f[J];if(f.hasOwnProperty(J)&&le!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":U=le;default:p.hasOwnProperty(J)||et(s,c,J,null,p,le)}}for(var Q in p){var J=p[Q];if(le=f[Q],p.hasOwnProperty(Q)&&(J!=null||le!=null))switch(Q){case"type":w=J;break;case"name":x=J;break;case"checked":G=J;break;case"defaultChecked":re=J;break;case"value":A=J;break;case"defaultValue":P=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,c));break;default:J!==le&&et(s,c,Q,J,p,le)}}j0(s,A,P,U,G,re,w,x);return;case"select":J=A=P=Q=null;for(w in f)if(U=f[w],f.hasOwnProperty(w)&&U!=null)switch(w){case"value":break;case"multiple":J=U;default:p.hasOwnProperty(w)||et(s,c,w,null,p,U)}for(x in p)if(w=p[x],U=f[x],p.hasOwnProperty(x)&&(w!=null||U!=null))switch(x){case"value":Q=w;break;case"defaultValue":P=w;break;case"multiple":A=w;default:w!==U&&et(s,c,x,w,p,U)}c=P,f=A,p=J,Q!=null?Hl(s,!!f,Q,!1):!!p!=!!f&&(c!=null?Hl(s,!!f,c,!0):Hl(s,!!f,f?[]:"",!1));return;case"textarea":J=Q=null;for(P in f)if(x=f[P],f.hasOwnProperty(P)&&x!=null&&!p.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:et(s,c,P,null,p,x)}for(A in p)if(x=p[A],w=f[A],p.hasOwnProperty(A)&&(x!=null||w!=null))switch(A){case"value":Q=x;break;case"defaultValue":J=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==w&&et(s,c,A,x,p,w)}XC(s,Q,J);return;case"option":for(var be in f)Q=f[be],f.hasOwnProperty(be)&&Q!=null&&!p.hasOwnProperty(be)&&(be==="selected"?s.selected=!1:et(s,c,be,null,p,Q));for(U in p)Q=p[U],J=f[U],p.hasOwnProperty(U)&&Q!==J&&(Q!=null||J!=null)&&(U==="selected"?s.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":et(s,c,U,Q,p,J));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in f)Q=f[Ae],f.hasOwnProperty(Ae)&&Q!=null&&!p.hasOwnProperty(Ae)&&et(s,c,Ae,null,p,Q);for(G in p)if(Q=p[G],J=f[G],p.hasOwnProperty(G)&&Q!==J&&(Q!=null||J!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,c));break;default:et(s,c,G,Q,p,J)}return;default:if(N0(c)){for(var tt in f)Q=f[tt],f.hasOwnProperty(tt)&&Q!==void 0&&!p.hasOwnProperty(tt)&&mv(s,c,tt,void 0,p,Q);for(re in p)Q=p[re],J=f[re],!p.hasOwnProperty(re)||Q===J||Q===void 0&&J===void 0||mv(s,c,re,Q,p,J);return}}for(var F in f)Q=f[F],f.hasOwnProperty(F)&&Q!=null&&!p.hasOwnProperty(F)&&et(s,c,F,null,p,Q);for(le in p)Q=p[le],J=f[le],!p.hasOwnProperty(le)||Q===J||Q==null&&J==null||et(s,c,le,Q,p,J)}function tA(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function o7(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,f=performance.getEntriesByType("resource"),p=0;p<f.length;p++){var x=f[p],w=x.transferSize,A=x.initiatorType,P=x.duration;if(w&&P&&tA(A)){for(A=0,P=x.responseEnd,p+=1;p<f.length;p++){var U=f[p],G=U.startTime;if(G>P)break;var re=U.transferSize,le=U.initiatorType;re&&tA(le)&&(U=U.responseEnd,A+=re*(U<P?1:(P-G)/(U-G)))}if(--p,c+=8*(w+A)/(x.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var pv=null,gv=null;function gd(s){return s.nodeType===9?s:s.ownerDocument}function nA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rA(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function yv(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var vv=null;function c7(){var s=window.event;return s&&s.type==="popstate"?s===vv?!1:(vv=s,!0):(vv=null,!1)}var iA=typeof setTimeout=="function"?setTimeout:void 0,u7=typeof clearTimeout=="function"?clearTimeout:void 0,aA=typeof Promise=="function"?Promise:void 0,f7=typeof queueMicrotask=="function"?queueMicrotask:typeof aA<"u"?function(s){return aA.resolve(null).then(s).catch(h7)}:iA;function h7(s){setTimeout(function(){throw s})}function Qa(s){return s==="head"}function sA(s,c){var f=c,p=0;do{var x=f.nextSibling;if(s.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"||f==="/&"){if(p===0){s.removeChild(x),bo(c);return}p--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")p++;else if(f==="html")cu(s.ownerDocument.documentElement);else if(f==="head"){f=s.ownerDocument.head,cu(f);for(var w=f.firstChild;w;){var A=w.nextSibling,P=w.nodeName;w[Ac]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&w.rel.toLowerCase()==="stylesheet"||f.removeChild(w),w=A}}else f==="body"&&cu(s.ownerDocument.body);f=x}while(f);bo(c)}function lA(s,c){var f=s;s=0;do{var p=f.nextSibling;if(f.nodeType===1?c?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(c?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),p&&p.nodeType===8)if(f=p.data,f==="/$"){if(s===0)break;s--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||s++;f=p}while(f)}function xv(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":xv(f),O0(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}s.removeChild(f)}}function d7(s,c,f,p){for(;s.nodeType===1;){var x=f;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[Ac])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==x.rel||s.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||s.getAttribute("title")!==(x.title==null?null:x.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(x.src==null?null:x.src)||s.getAttribute("type")!==(x.type==null?null:x.type)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var w=x.name==null?null:""+x.name;if(x.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=Nr(s.nextSibling),s===null)break}return null}function m7(s,c,f){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!f||(s=Nr(s.nextSibling),s===null))return null;return s}function oA(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Nr(s.nextSibling),s===null))return null;return s}function bv(s){return s.data==="$?"||s.data==="$~"}function wv(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function p7(s,c){var f=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||f.readyState!=="loading")c();else{var p=function(){c(),f.removeEventListener("DOMContentLoaded",p)};f.addEventListener("DOMContentLoaded",p),s._reactRetry=p}}function Nr(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var Sv=null;function cA(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"||f==="/&"){if(c===0)return Nr(s.nextSibling);c--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||c++}s=s.nextSibling}return null}function uA(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(c===0)return s;c--}else f!=="/$"&&f!=="/&"||c++}s=s.previousSibling}return null}function fA(s,c,f){switch(c=gd(f),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function cu(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);O0(s)}var Er=new Map,hA=new Set;function yd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var na=V.d;V.d={f:g7,r:y7,D:v7,C:x7,L:b7,m:w7,X:C7,S:S7,M:O7};function g7(){var s=na.f(),c=od();return s||c}function y7(s){var c=zl(s);c!==null&&c.tag===5&&c.type==="form"?Ek(c):na.r(s)}var yo=typeof document>"u"?null:document;function dA(s,c,f){var p=yo;if(p&&typeof c=="string"&&c){var x=wr(c);x='link[rel="'+s+'"][href="'+x+'"]',typeof f=="string"&&(x+='[crossorigin="'+f+'"]'),hA.has(x)||(hA.add(x),s={rel:s,crossOrigin:f,href:c},p.querySelector(x)===null&&(c=p.createElement("link"),un(c,"link",s),Vt(c),p.head.appendChild(c)))}}function v7(s){na.D(s),dA("dns-prefetch",s,null)}function x7(s,c){na.C(s,c),dA("preconnect",s,c)}function b7(s,c,f){na.L(s,c,f);var p=yo;if(p&&s&&c){var x='link[rel="preload"][as="'+wr(c)+'"]';c==="image"&&f&&f.imageSrcSet?(x+='[imagesrcset="'+wr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(x+='[imagesizes="'+wr(f.imageSizes)+'"]')):x+='[href="'+wr(s)+'"]';var w=x;switch(c){case"style":w=vo(s);break;case"script":w=xo(s)}Er.has(w)||(s=m({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:s,as:c},f),Er.set(w,s),p.querySelector(x)!==null||c==="style"&&p.querySelector(uu(w))||c==="script"&&p.querySelector(fu(w))||(c=p.createElement("link"),un(c,"link",s),Vt(c),p.head.appendChild(c)))}}function w7(s,c){na.m(s,c);var f=yo;if(f&&s){var p=c&&typeof c.as=="string"?c.as:"script",x='link[rel="modulepreload"][as="'+wr(p)+'"][href="'+wr(s)+'"]',w=x;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=xo(s)}if(!Er.has(w)&&(s=m({rel:"modulepreload",href:s},c),Er.set(w,s),f.querySelector(x)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(fu(w)))return}p=f.createElement("link"),un(p,"link",s),Vt(p),f.head.appendChild(p)}}}function S7(s,c,f){na.S(s,c,f);var p=yo;if(p&&s){var x=Il(p).hoistableStyles,w=vo(s);c=c||"default";var A=x.get(w);if(!A){var P={loading:0,preload:null};if(A=p.querySelector(uu(w)))P.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":c},f),(f=Er.get(w))&&Cv(s,f);var U=A=p.createElement("link");Vt(U),un(U,"link",s),U._p=new Promise(function(G,re){U.onload=G,U.onerror=re}),U.addEventListener("load",function(){P.loading|=1}),U.addEventListener("error",function(){P.loading|=2}),P.loading|=4,vd(A,c,p)}A={type:"stylesheet",instance:A,count:1,state:P},x.set(w,A)}}}function C7(s,c){na.X(s,c);var f=yo;if(f&&s){var p=Il(f).hoistableScripts,x=xo(s),w=p.get(x);w||(w=f.querySelector(fu(x)),w||(s=m({src:s,async:!0},c),(c=Er.get(x))&&Ov(s,c),w=f.createElement("script"),Vt(w),un(w,"link",s),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(x,w))}}function O7(s,c){na.M(s,c);var f=yo;if(f&&s){var p=Il(f).hoistableScripts,x=xo(s),w=p.get(x);w||(w=f.querySelector(fu(x)),w||(s=m({src:s,async:!0,type:"module"},c),(c=Er.get(x))&&Ov(s,c),w=f.createElement("script"),Vt(w),un(w,"link",s),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(x,w))}}function mA(s,c,f,p){var x=(x=he.current)?yd(x):null;if(!x)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=vo(f.href),f=Il(x).hoistableStyles,p=f.get(c),p||(p={type:"style",instance:null,count:0,state:null},f.set(c,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){s=vo(f.href);var w=Il(x).hoistableStyles,A=w.get(s);if(A||(x=x.ownerDocument||x,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,A),(w=x.querySelector(uu(s)))&&!w._p&&(A.instance=w,A.state.loading=5),Er.has(s)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Er.set(s,f),w||k7(x,s,f,A.state))),c&&p===null)throw Error(r(528,""));return A}if(c&&p!==null)throw Error(r(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=xo(f),f=Il(x).hoistableScripts,p=f.get(c),p||(p={type:"script",instance:null,count:0,state:null},f.set(c,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function vo(s){return'href="'+wr(s)+'"'}function uu(s){return'link[rel="stylesheet"]['+s+"]"}function pA(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function k7(s,c,f,p){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?p.loading=1:(c=s.createElement("link"),p.preload=c,c.addEventListener("load",function(){return p.loading|=1}),c.addEventListener("error",function(){return p.loading|=2}),un(c,"link",f),Vt(c),s.head.appendChild(c))}function xo(s){return'[src="'+wr(s)+'"]'}function fu(s){return"script[async]"+s}function gA(s,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var p=s.querySelector('style[data-href~="'+wr(f.href)+'"]');if(p)return c.instance=p,Vt(p),p;var x=m({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),Vt(p),un(p,"style",x),vd(p,f.precedence,s),c.instance=p;case"stylesheet":x=vo(f.href);var w=s.querySelector(uu(x));if(w)return c.state.loading|=4,c.instance=w,Vt(w),w;p=pA(f),(x=Er.get(x))&&Cv(p,x),w=(s.ownerDocument||s).createElement("link"),Vt(w);var A=w;return A._p=new Promise(function(P,U){A.onload=P,A.onerror=U}),un(w,"link",p),c.state.loading|=4,vd(w,f.precedence,s),c.instance=w;case"script":return w=xo(f.src),(x=s.querySelector(fu(w)))?(c.instance=x,Vt(x),x):(p=f,(x=Er.get(w))&&(p=m({},f),Ov(p,x)),s=s.ownerDocument||s,x=s.createElement("script"),Vt(x),un(x,"link",p),s.head.appendChild(x),c.instance=x);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(p=c.instance,c.state.loading|=4,vd(p,f.precedence,s));return c.instance}function vd(s,c,f){for(var p=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=p.length?p[p.length-1]:null,w=x,A=0;A<p.length;A++){var P=p[A];if(P.dataset.precedence===c)w=P;else if(w!==x)break}w?w.parentNode.insertBefore(s,w.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(s,c.firstChild))}function Cv(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function Ov(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var xd=null;function yA(s,c,f){if(xd===null){var p=new Map,x=xd=new Map;x.set(f,p)}else x=xd,p=x.get(f),p||(p=new Map,x.set(f,p));if(p.has(s))return p;for(p.set(s,null),f=f.getElementsByTagName(s),x=0;x<f.length;x++){var w=f[x];if(!(w[Ac]||w[sn]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var A=w.getAttribute(c)||"";A=s+A;var P=p.get(A);P?P.push(w):p.set(A,[w])}}return p}function vA(s,c,f){s=s.ownerDocument||s,s.head.insertBefore(f,c==="title"?s.querySelector("head > title"):null)}function j7(s,c,f){if(f===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;return c.rel==="stylesheet"?(s=c.disabled,typeof c.precedence=="string"&&s==null):!0;case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function xA(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function A7(s,c,f,p){if(f.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var x=vo(p.href),w=c.querySelector(uu(x));if(w){c=w._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=bd.bind(s),c.then(s,s)),f.state.loading|=4,f.instance=w,Vt(w);return}w=c.ownerDocument||c,p=pA(p),(x=Er.get(x))&&Cv(p,x),w=w.createElement("link"),Vt(w);var A=w;A._p=new Promise(function(P,U){A.onload=P,A.onerror=U}),un(w,"link",p),f.instance=w}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(s.count++,f=bd.bind(s),c.addEventListener("load",f),c.addEventListener("error",f))}}var kv=0;function N7(s,c){return s.stylesheets&&s.count===0&&Sd(s,s.stylesheets),0<s.count||0<s.imgCount?function(f){var p=setTimeout(function(){if(s.stylesheets&&Sd(s,s.stylesheets),s.unsuspend){var w=s.unsuspend;s.unsuspend=null,w()}},6e4+c);0<s.imgBytes&&kv===0&&(kv=62500*o7());var x=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Sd(s,s.stylesheets),s.unsuspend)){var w=s.unsuspend;s.unsuspend=null,w()}},(s.imgBytes>kv?50:800)+c);return s.unsuspend=f,function(){s.unsuspend=null,clearTimeout(p),clearTimeout(x)}}:null}function bd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var wd=null;function Sd(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,wd=new Map,c.forEach(E7,s),wd=null,bd.call(s))}function E7(s,c){if(!(c.state.loading&4)){var f=wd.get(s);if(f)var p=f.get(null);else{f=new Map,wd.set(s,f);for(var x=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<x.length;w++){var A=x[w];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(f.set(A.dataset.precedence,A),p=A)}p&&f.set(null,p)}x=c.instance,A=x.getAttribute("data-precedence"),w=f.get(A)||p,w===p&&f.set(null,x),f.set(A,x),this.count++,p=bd.bind(this),x.addEventListener("load",p),x.addEventListener("error",p),w?w.parentNode.insertBefore(x,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(x,s.firstChild)),c.state.loading|=4}}var hu={$$typeof:j,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function T7(s,c,f,p,x,w,A,P,U){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=b0(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=b0(0),this.hiddenUpdates=b0(null),this.identifierPrefix=p,this.onUncaughtError=x,this.onCaughtError=w,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function bA(s,c,f,p,x,w,A,P,U,G,re,le){return s=new T7(s,c,f,A,U,G,re,le,P),c=1,w===!0&&(c|=24),w=ar(3,null,null,c),s.current=w,w.stateNode=s,c=iy(),c.refCount++,s.pooledCache=c,c.refCount++,w.memoizedState={element:p,isDehydrated:f,cache:c},oy(w),s}function wA(s){return s?(s=Yl,s):Yl}function SA(s,c,f,p,x,w){x=wA(x),p.context===null?p.context=x:p.pendingContext=x,p=Ia(c),p.payload={element:f},w=w===void 0?null:w,w!==null&&(p.callback=w),f=Ua(s,p,c),f!==null&&($n(f,s,c),Vc(f,s,c))}function CA(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<c?f:c}}function jv(s,c){CA(s,c),(s=s.alternate)&&CA(s,c)}function OA(s){if(s.tag===13||s.tag===31){var c=Is(s,67108864);c!==null&&$n(c,s,67108864),jv(s,67108864)}}function kA(s){if(s.tag===13||s.tag===31){var c=ur();c=w0(c);var f=Is(s,c);f!==null&&$n(f,s,c),jv(s,c)}}var Cd=!0;function M7(s,c,f,p){var x=q.T;q.T=null;var w=V.p;try{V.p=2,Av(s,c,f,p)}finally{V.p=w,q.T=x}}function D7(s,c,f,p){var x=q.T;q.T=null;var w=V.p;try{V.p=8,Av(s,c,f,p)}finally{V.p=w,q.T=x}}function Av(s,c,f,p){if(Cd){var x=Nv(p);if(x===null)dv(s,c,p,Od,f),AA(s,p);else if(_7(x,s,c,f,p))p.stopPropagation();else if(AA(s,p),c&4&&-1<P7.indexOf(s)){for(;x!==null;){var w=zl(x);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var A=_s(w.pendingLanes);if(A!==0){var P=w;for(P.pendingLanes|=2,P.entangledLanes|=2;A;){var U=1<<31-rr(A);P.entanglements[1]|=U,A&=~U}fi(w),(Ge&6)===0&&(sd=tr()+500,su(0))}}break;case 31:case 13:P=Is(w,2),P!==null&&$n(P,w,2),od(),jv(w,2)}if(w=Nv(p),w===null&&dv(s,c,p,Od,f),w===x)break;x=w}x!==null&&p.stopPropagation()}else dv(s,c,p,null,f)}}function Nv(s){return s=T0(s),Ev(s)}var Od=null;function Ev(s){if(Od=null,s=Bl(s),s!==null){var c=a(s);if(c===null)s=null;else{var f=c.tag;if(f===13){if(s=l(c),s!==null)return s;s=null}else if(f===31){if(s=o(c),s!==null)return s;s=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return Od=s,null}function jA(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vz()){case _C:return 2;case RC:return 8;case dh:case xz:return 32;case LC:return 268435456;default:return 32}default:return 32}}var Tv=!1,Xa=null,Za=null,Ja=null,du=new Map,mu=new Map,es=[],P7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function AA(s,c){switch(s){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":du.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":mu.delete(c.pointerId)}}function pu(s,c,f,p,x,w){return s===null||s.nativeEvent!==w?(s={blockedOn:c,domEventName:f,eventSystemFlags:p,nativeEvent:w,targetContainers:[x]},c!==null&&(c=zl(c),c!==null&&OA(c)),s):(s.eventSystemFlags|=p,c=s.targetContainers,x!==null&&c.indexOf(x)===-1&&c.push(x),s)}function _7(s,c,f,p,x){switch(c){case"focusin":return Xa=pu(Xa,s,c,f,p,x),!0;case"dragenter":return Za=pu(Za,s,c,f,p,x),!0;case"mouseover":return Ja=pu(Ja,s,c,f,p,x),!0;case"pointerover":var w=x.pointerId;return du.set(w,pu(du.get(w)||null,s,c,f,p,x)),!0;case"gotpointercapture":return w=x.pointerId,mu.set(w,pu(mu.get(w)||null,s,c,f,p,x)),!0}return!1}function NA(s){var c=Bl(s.target);if(c!==null){var f=a(c);if(f!==null){if(c=f.tag,c===13){if(c=l(f),c!==null){s.blockedOn=c,qC(s.priority,function(){kA(f)});return}}else if(c===31){if(c=o(f),c!==null){s.blockedOn=c,qC(s.priority,function(){kA(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function kd(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var f=Nv(s.nativeEvent);if(f===null){f=s.nativeEvent;var p=new f.constructor(f.type,f);E0=p,f.target.dispatchEvent(p),E0=null}else return c=zl(f),c!==null&&OA(c),s.blockedOn=f,!1;c.shift()}return!0}function EA(s,c,f){kd(s)&&f.delete(c)}function R7(){Tv=!1,Xa!==null&&kd(Xa)&&(Xa=null),Za!==null&&kd(Za)&&(Za=null),Ja!==null&&kd(Ja)&&(Ja=null),du.forEach(EA),mu.forEach(EA)}function jd(s,c){s.blockedOn===c&&(s.blockedOn=null,Tv||(Tv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,R7)))}var Ad=null;function TA(s){Ad!==s&&(Ad=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ad===s&&(Ad=null);for(var c=0;c<s.length;c+=3){var f=s[c],p=s[c+1],x=s[c+2];if(typeof p!="function"){if(Ev(p||f)===null)continue;break}var w=zl(f);w!==null&&(s.splice(c,3),c-=3,Ny(w,{pending:!0,data:x,method:f.method,action:p},p,x))}}))}function bo(s){function c(U){return jd(U,s)}Xa!==null&&jd(Xa,s),Za!==null&&jd(Za,s),Ja!==null&&jd(Ja,s),du.forEach(c),mu.forEach(c);for(var f=0;f<es.length;f++){var p=es[f];p.blockedOn===s&&(p.blockedOn=null)}for(;0<es.length&&(f=es[0],f.blockedOn===null);)NA(f),f.blockedOn===null&&es.shift();if(f=(s.ownerDocument||s).$$reactFormReplay,f!=null)for(p=0;p<f.length;p+=3){var x=f[p],w=f[p+1],A=x[Bn]||null;if(typeof w=="function")A||TA(f);else if(A){var P=null;if(w&&w.hasAttribute("formAction")){if(x=w,A=w[Bn]||null)P=A.formAction;else if(Ev(x)!==null)continue}else P=A.action;typeof P=="function"?f[p+1]=P:(f.splice(p,3),p-=3),TA(f)}}}function MA(){function s(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(A){return x=A})},focusReset:"manual",scroll:"manual"})}function c(){x!==null&&(x(),x=null),p||setTimeout(f,20)}function f(){if(!p&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,x=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(f,100),function(){p=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),x!==null&&(x(),x=null)}}}function Mv(s){this._internalRoot=s}Nd.prototype.render=Mv.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var f=c.current,p=ur();SA(f,p,s,c,null,null)},Nd.prototype.unmount=Mv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;SA(s.current,2,null,s,null,null),od(),c[Ll]=null}};function Nd(s){this._internalRoot=s}Nd.prototype.unstable_scheduleHydration=function(s){if(s){var c=HC();s={blockedOn:null,target:s,priority:c};for(var f=0;f<es.length&&c!==0&&c<es[f].priority;f++);es.splice(f,0,s),f===0&&NA(s)}};var DA=e.version;if(DA!=="19.2.4")throw Error(r(527,DA,"19.2.4"));V.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=h(c),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var L7={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ed.isDisabled&&Ed.supportsFiber)try{Oc=Ed.inject(L7),nr=Ed}catch{}}return yu.createRoot=function(s,c){if(!i(s))throw Error(r(299));var f=!1,p="",x=Ik,w=Uk,A=Hk;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(w=c.onCaughtError),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),c=bA(s,1,!1,null,null,f,p,null,x,w,A,MA),s[Ll]=c.current,hv(s),new Mv(c)},yu.hydrateRoot=function(s,c,f){if(!i(s))throw Error(r(299));var p=!1,x="",w=Ik,A=Uk,P=Hk,U=null;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(x=f.identifierPrefix),f.onUncaughtError!==void 0&&(w=f.onUncaughtError),f.onCaughtError!==void 0&&(A=f.onCaughtError),f.onRecoverableError!==void 0&&(P=f.onRecoverableError),f.formState!==void 0&&(U=f.formState)),c=bA(s,1,!0,c,f??null,p,x,U,w,A,P,MA),c.context=wA(null),f=c.current,p=ur(),p=w0(p),x=Ia(p),x.callback=null,Ua(f,x,p),f=p,c.current.lanes=f,jc(c,f),fi(c),s[Ll]=c.current,hv(s),new Nd(c)},yu.version="19.2.4",yu}var qA;function W7(){if(qA)return _v.exports;qA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_v.exports=F7(),_v.exports}var K7=W7();const G7=_i(K7);var lS=nP();function Zu(){return Zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zu.apply(this,arguments)}var os;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(os||(os={}));const $A="popstate";function Y7(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:l,hash:o}=r.location;return n1("",{pathname:a,search:l,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rm(i)}return X7(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Q7(){return Math.random().toString(36).substr(2,8)}function VA(t,e){return{usr:t.state,key:t.key,idx:e}}function n1(t,e,n,r){return n===void 0&&(n=null),Zu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?sc(e):e,{state:n,key:e&&e.key||r||Q7()})}function Rm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function sc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function X7(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,o=os.Pop,u=null,h=d();h==null&&(h=0,l.replaceState(Zu({},l.state,{idx:h}),""));function d(){return(l.state||{idx:null}).idx}function m(){o=os.Pop;let C=d(),k=C==null?null:C-h;h=C,u&&u({action:o,location:O.location,delta:k})}function y(C,k){o=os.Push;let N=n1(O.location,C,k);h=d()+1;let j=VA(N,h),M=O.createHref(N);try{l.pushState(j,"",M)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(M)}a&&u&&u({action:o,location:O.location,delta:1})}function v(C,k){o=os.Replace;let N=n1(O.location,C,k);h=d();let j=VA(N,h),M=O.createHref(N);l.replaceState(j,"",M),a&&u&&u({action:o,location:O.location,delta:0})}function b(C){let k=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof C=="string"?C:Rm(C);return N=N.replace(/ $/,"%20"),vt(k,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,k)}let O={get action(){return o},get location(){return t(i,l)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener($A,m),u=C,()=>{i.removeEventListener($A,m),u=null}},createHref(C){return e(i,C)},createURL:b,encodeLocation(C){let k=b(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:y,replace:v,go(C){return l.go(C)}};return O}var FA;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(FA||(FA={}));function Z7(t,e,n){return n===void 0&&(n="/"),J7(t,e,n)}function J7(t,e,n,r){let i=typeof e=="string"?sc(e):e,a=Fo(i.pathname||"/",n);if(a==null)return null;let l=rP(t);e9(l);let o=null;for(let u=0;o==null&&u<l.length;++u){let h=f9(a);o=c9(l[u],h)}return o}function rP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,l,o)=>{let u={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};u.relativePath.startsWith("/")&&(vt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=hs([r,u.relativePath]),d=n.concat(u);a.children&&a.children.length>0&&(vt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),rP(a.children,e,d,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:l9(h,a.index),routesMeta:d})};return t.forEach((a,l)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,l);else for(let u of iP(a.path))i(a,l,u)}),e}function iP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=iP(r.join("/")),o=[];return o.push(...l.map(u=>u===""?a:[a,u].join("/"))),i&&o.push(...l),o.map(u=>t.startsWith("/")&&u===""?"/":u)}function e9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:o9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const t9=/^:[\w-]+$/,n9=3,r9=2,i9=1,a9=10,s9=-2,WA=t=>t==="*";function l9(t,e){let n=t.split("/"),r=n.length;return n.some(WA)&&(r+=s9),e&&(r+=r9),n.filter(i=>!WA(i)).reduce((i,a)=>i+(t9.test(a)?n9:a===""?i9:a9),r)}function o9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function c9(t,e,n){let{routesMeta:r}=t,i={},a="/",l=[];for(let o=0;o<r.length;++o){let u=r[o],h=o===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",m=r1({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},d),y=u.route;if(!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:hs([a,m.pathname]),pathnameBase:g9(hs([a,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(a=hs([a,m.pathnameBase]))}return l}function r1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=u9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((h,d,m)=>{let{paramName:y,isOptional:v}=d;if(y==="*"){let O=o[m]||"";l=a.slice(0,a.length-O.length).replace(/(.)\/+$/,"$1")}const b=o[m];return v&&!b?h[y]=void 0:h[y]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function u9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),oS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function f9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Fo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const h9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d9=t=>h9.test(t);function m9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?sc(t):t,a;if(n)if(d9(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),oS(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?a=KA(n.substring(1),"/"):a=KA(n,e)}else a=e;return{pathname:a,search:y9(r),hash:v9(i)}}function KA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function p9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cS(t,e){let n=p9(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function uS(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=sc(t):(i=Zu({},t),vt(!i.pathname||!i.pathname.includes("?"),zv("?","pathname","search",i)),vt(!i.pathname||!i.pathname.includes("#"),zv("#","pathname","hash",i)),vt(!i.search||!i.search.includes("#"),zv("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,o;if(l==null)o=n;else{let m=e.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}o=m>=0?e[m]:"/"}let u=m9(i,o),h=l&&l!=="/"&&l.endsWith("/"),d=(a||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||d)&&(u.pathname+="/"),u}const hs=t=>t.join("/").replace(/\/\/+/g,"/"),g9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),y9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,v9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function x9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const aP=["post","put","patch","delete"];new Set(aP);const b9=["get",...aP];new Set(b9);function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}const ug=S.createContext(null),sP=S.createContext(null),Sa=S.createContext(null),fg=S.createContext(null),As=S.createContext({outlet:null,matches:[],isDataRoute:!1}),lP=S.createContext(null);function w9(t,e){let{relative:n}=e===void 0?{}:e;lc()||vt(!1);let{basename:r,navigator:i}=S.useContext(Sa),{hash:a,pathname:l,search:o}=dg(t,{relative:n}),u=l;return r!=="/"&&(u=l==="/"?r:hs([r,l])),i.createHref({pathname:u,search:o,hash:a})}function lc(){return S.useContext(fg)!=null}function Dl(){return lc()||vt(!1),S.useContext(fg).location}function oP(t){S.useContext(Sa).static||S.useLayoutEffect(t)}function hg(){let{isDataRoute:t}=S.useContext(As);return t?_9():S9()}function S9(){lc()||vt(!1);let t=S.useContext(ug),{basename:e,future:n,navigator:r}=S.useContext(Sa),{matches:i}=S.useContext(As),{pathname:a}=Dl(),l=JSON.stringify(cS(i,n.v7_relativeSplatPath)),o=S.useRef(!1);return oP(()=>{o.current=!0}),S.useCallback(function(h,d){if(d===void 0&&(d={}),!o.current)return;if(typeof h=="number"){r.go(h);return}let m=uS(h,JSON.parse(l),a,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:hs([e,m.pathname])),(d.replace?r.replace:r.push)(m,d.state,d)},[e,r,l,a,t])}function dg(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(Sa),{matches:i}=S.useContext(As),{pathname:a}=Dl(),l=JSON.stringify(cS(i,r.v7_relativeSplatPath));return S.useMemo(()=>uS(t,JSON.parse(l),a,n==="path"),[t,l,a,n])}function C9(t,e){return O9(t,e)}function O9(t,e,n,r){lc()||vt(!1);let{navigator:i}=S.useContext(Sa),{matches:a}=S.useContext(As),l=a[a.length-1],o=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let h=Dl(),d;if(e){var m;let C=typeof e=="string"?sc(e):e;u==="/"||(m=C.pathname)!=null&&m.startsWith(u)||vt(!1),d=C}else d=h;let y=d.pathname||"/",v=y;if(u!=="/"){let C=u.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(C.length).join("/")}let b=Z7(t,{pathname:v}),O=E9(b&&b.map(C=>Object.assign({},C,{params:Object.assign({},o,C.params),pathname:hs([u,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:hs([u,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,n,r);return e&&O?S.createElement(fg.Provider,{value:{location:Ju({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:os.Pop}},O):O}function k9(){let t=P9(),e=x9(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,null)}const j9=S.createElement(k9,null);class A9 extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(As.Provider,{value:this.props.routeContext},S.createElement(lP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function N9(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(ug);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(As.Provider,{value:e},r)}function E9(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=l.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);d>=0||vt(!1),l=l.slice(0,Math.min(l.length,d+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<l.length;d++){let m=l[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:y,errors:v}=n,b=m.route.loader&&y[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){u=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((d,m,y)=>{let v,b=!1,O=null,C=null;n&&(v=o&&m.route.id?o[m.route.id]:void 0,O=m.route.errorElement||j9,u&&(h<0&&y===0?(R9("route-fallback"),b=!0,C=null):h===y&&(b=!0,C=m.route.hydrateFallbackElement||null)));let k=e.concat(l.slice(0,y+1)),N=()=>{let j;return v?j=O:b?j=C:m.route.Component?j=S.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=d,S.createElement(N9,{match:m,routeContext:{outlet:d,matches:k,isDataRoute:n!=null},children:j})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?S.createElement(A9,{location:n.location,revalidation:n.revalidation,component:O,error:v,children:N(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):N()},null)}var cP=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(cP||{}),uP=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(uP||{});function T9(t){let e=S.useContext(ug);return e||vt(!1),e}function M9(t){let e=S.useContext(sP);return e||vt(!1),e}function D9(t){let e=S.useContext(As);return e||vt(!1),e}function fP(t){let e=D9(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function P9(){var t;let e=S.useContext(lP),n=M9(),r=fP();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function _9(){let{router:t}=T9(cP.UseNavigateStable),e=fP(uP.UseNavigateStable),n=S.useRef(!1);return oP(()=>{n.current=!0}),S.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ju({fromRouteId:e},a)))},[t,e])}const GA={};function R9(t,e,n){GA[t]||(GA[t]=!0)}function L9(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function vu(t){let{to:e,replace:n,state:r,relative:i}=t;lc()||vt(!1);let{future:a,static:l}=S.useContext(Sa),{matches:o}=S.useContext(As),{pathname:u}=Dl(),h=hg(),d=uS(e,cS(o,a.v7_relativeSplatPath),u,i==="path"),m=JSON.stringify(d);return S.useEffect(()=>h(JSON.parse(m),{replace:n,state:r,relative:i}),[h,m,i,n,r]),null}function Wt(t){vt(!1)}function B9(t){let{basename:e="/",children:n=null,location:r,navigationType:i=os.Pop,navigator:a,static:l=!1,future:o}=t;lc()&&vt(!1);let u=e.replace(/^\/*/,"/"),h=S.useMemo(()=>({basename:u,navigator:a,static:l,future:Ju({v7_relativeSplatPath:!1},o)}),[u,o,a,l]);typeof r=="string"&&(r=sc(r));let{pathname:d="/",search:m="",hash:y="",state:v=null,key:b="default"}=r,O=S.useMemo(()=>{let C=Fo(d,u);return C==null?null:{location:{pathname:C,search:m,hash:y,state:v,key:b},navigationType:i}},[u,d,m,y,v,b,i]);return O==null?null:S.createElement(Sa.Provider,{value:h},S.createElement(fg.Provider,{children:n,value:O}))}function z9(t){let{children:e,location:n}=t;return C9(i1(e),n)}new Promise(()=>{});function i1(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let a=[...e,i];if(r.type===S.Fragment){n.push.apply(n,i1(r.props.children,a));return}r.type!==Wt&&vt(!1),!r.props.index||!r.props.children||vt(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=i1(r.props.children,a)),n.push(l)}),n}function Lm(){return Lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lm.apply(this,arguments)}function hP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function I9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function U9(t,e){return t.button===0&&(!e||e==="_self")&&!I9(t)}const H9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],q9=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],$9="6";try{window.__reactRouterVersion=$9}catch{}const V9=S.createContext({isTransitioning:!1}),F9="startTransition",YA=tP[F9];function W9(t){let{basename:e,children:n,future:r,window:i}=t,a=S.useRef();a.current==null&&(a.current=Y7({window:i,v5Compat:!0}));let l=a.current,[o,u]=S.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},d=S.useCallback(m=>{h&&YA?YA(()=>u(m)):u(m)},[u,h]);return S.useLayoutEffect(()=>l.listen(d),[l,d]),S.useEffect(()=>L9(r),[r]),S.createElement(B9,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:l,future:r})}const K9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y9=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:o,target:u,to:h,preventScrollReset:d,viewTransition:m}=e,y=hP(e,H9),{basename:v}=S.useContext(Sa),b,O=!1;if(typeof h=="string"&&G9.test(h)&&(b=h,K9))try{let j=new URL(window.location.href),M=h.startsWith("//")?new URL(j.protocol+h):new URL(h),D=Fo(M.pathname,v);M.origin===j.origin&&D!=null?h=D+M.search+M.hash:O=!0}catch{}let C=w9(h,{relative:i}),k=Z9(h,{replace:l,state:o,target:u,preventScrollReset:d,relative:i,viewTransition:m});function N(j){r&&r(j),j.defaultPrevented||k(j)}return S.createElement("a",Lm({},y,{href:b||C,onClick:O||a?r:N,ref:n,target:u}))}),Q9=S.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:l=!1,style:o,to:u,viewTransition:h,children:d}=e,m=hP(e,q9),y=dg(u,{relative:m.relative}),v=Dl(),b=S.useContext(sP),{navigator:O,basename:C}=S.useContext(Sa),k=b!=null&&J9(y)&&h===!0,N=O.encodeLocation?O.encodeLocation(y).pathname:y.pathname,j=v.pathname,M=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(j=j.toLowerCase(),M=M?M.toLowerCase():null,N=N.toLowerCase()),M&&C&&(M=Fo(M,C)||M);const D=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let T=j===N||!l&&j.startsWith(N)&&j.charAt(D)==="/",E=M!=null&&(M===N||!l&&M.startsWith(N)&&M.charAt(N.length)==="/"),_={isActive:T,isPending:E,isTransitioning:k},R=T?r:void 0,H;typeof a=="function"?H=a(_):H=[a,T?"active":null,E?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(_):o;return S.createElement(Y9,Lm({},m,{"aria-current":R,className:H,ref:n,style:B,to:u,viewTransition:h}),typeof d=="function"?d(_):d)});var a1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(a1||(a1={}));var QA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(QA||(QA={}));function X9(t){let e=S.useContext(ug);return e||vt(!1),e}function Z9(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:o}=e===void 0?{}:e,u=hg(),h=Dl(),d=dg(t,{relative:l});return S.useCallback(m=>{if(U9(m,n)){m.preventDefault();let y=r!==void 0?r:Rm(h)===Rm(d);u(t,{replace:y,state:i,preventScrollReset:a,relative:l,viewTransition:o})}},[h,u,d,r,i,n,t,a,l,o])}function J9(t,e){e===void 0&&(e={});let n=S.useContext(V9);n==null&&vt(!1);let{basename:r}=X9(a1.useViewTransitionState),i=dg(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Fo(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Fo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return r1(i.pathname,l)!=null||r1(i.pathname,a)!=null}const dP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const eU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const tU=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const XA=t=>{const e=tU(t);return e.charAt(0).toUpperCase()+e.slice(1)};var nU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rU=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const iU=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...o},u)=>S.createElement("svg",{ref:u,...nU,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:dP("lucide",i),...!a&&!rU(o)&&{"aria-hidden":"true"},...o},[...l.map(([h,d])=>S.createElement(h,d)),...Array.isArray(a)?a:[a]]));const Ne=(t,e)=>{const n=S.forwardRef(({className:r,...i},a)=>S.createElement(iU,{ref:a,iconNode:e,className:dP(`lucide-${eU(XA(t))}`,`lucide-${t}`,r),...i}));return n.displayName=XA(t),n};const aU=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],sl=Ne("activity",aU);const sU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],lU=Ne("arrow-right",sU);const oU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],cU=Ne("bell-off",oU);const uU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],fU=Ne("bell",uU);const hU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ro=Ne("chart-column",hU);const dU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],mP=Ne("check",dU);const mU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ns=Ne("chevron-down",mU);const pU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],gU=Ne("chevron-left",pU);const yU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qf=Ne("chevron-right",yU);const vU=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],fS=Ne("chevron-up",vU);const xU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bU=Ne("circle-check-big",xU);const wU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],pP=Ne("circle-x",wU);const SU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],CU=Ne("circle",SU);const OU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],ef=Ne("clock",OU);const kU=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],jU=Ne("code-xml",kU);const AU=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],NU=Ne("copy",AU);const EU=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],TU=Ne("cpu",EU);const MU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],DU=Ne("crosshair",MU);const PU=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ti=Ne("database",PU);const _U=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],s1=Ne("download",_U);const RU=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],LU=Ne("external-link",RU);const BU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zU=Ne("eye",BU);const IU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],UU=Ne("file-braces",IU);const HU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],qU=Ne("file-code",HU);const $U=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],VU=Ne("file-spreadsheet",$U);const FU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],WU=Ne("file-text",FU);const KU=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],ZA=Ne("flame",KU);const GU=[["path",{d:"M10 16h.01",key:"1bzywj"}],["path",{d:"M2.212 11.577a2 2 0 0 0-.212.896V18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5.527a2 2 0 0 0-.212-.896L18.55 5.11A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"18tbho"}],["path",{d:"M21.946 12.013H2.054",key:"zqlbp7"}],["path",{d:"M6 16h.01",key:"1pmjb7"}]],xm=Ne("hard-drive",GU);const YU=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],gP=Ne("key",YU);const QU=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],XU=Ne("layout-list",QU);const ZU=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Iv=Ne("link",ZU);const JU=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],eH=Ne("menu",JU);const tH=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],nH=Ne("pen-line",tH);const rH=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],hS=Ne("pencil",rH);const iH=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],l1=Ne("play",iH);const aH=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fa=Ne("plus",aH);const sH=[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]],lH=Ne("radar",sH);const oH=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Zt=Ne("refresh-cw",oH);const cH=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],oc=Ne("search",cH);const uH=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],fH=Ne("send",uH);const hH=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],o1=Ne("server",hH);const dH=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Wo=Ne("shield",dH);const mH=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],yP=Ne("table-2",mH);const pH=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],vP=Ne("terminal",pH);const gH=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ys=Ne("trash-2",gH);const yH=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vH=Ne("triangle-alert",yH);const xH=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],xP=Ne("upload",xH);const bH=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],JA=Ne("users",bH);const wH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bP=Ne("x",wH);const SH=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],CH=Ne("zap",SH);class OH{baseUrl;credentials={};_standaloneMode=!1;_remoteConnection=null;constructor(){this.baseUrl=""}get standaloneMode(){return this._standaloneMode}setStandaloneMode(e){this._standaloneMode=e}setRemoteConnection(e){this._remoteConnection=e}getRemoteConnection(){return this._remoteConnection}setCredentials(e,n){this.credentials={username:e,password:n}}getAuthParams(){if(this._standaloneMode&&this._remoteConnection)return"";const e=new URLSearchParams;return this.credentials.username&&e.set("u",this.credentials.username),this.credentials.password&&e.set("p",this.credentials.password),e.toString()}getProxyHeaders(){const e={};return this._standaloneMode&&this._remoteConnection&&(e["X-Influxdb-Url"]=this._remoteConnection.url,this._remoteConnection.username&&(e["X-Influxdb-Username"]=this._remoteConnection.username),this._remoteConnection.password&&(e["X-Influxdb-Password"]=this._remoteConnection.password)),e}async ping(){try{const e=await fetch(`${this.baseUrl}/ping`,{headers:this.getProxyHeaders()});return{version:e.headers.get("X-Tidedb-Version")||e.headers.get("X-Influxdb-Version")||"unknown",ok:e.status===204}}catch{return{version:"unknown",ok:!1}}}async query(e,n,r){const i=new URLSearchParams;i.set("q",e),n&&i.set("db",n),r&&i.set("epoch",r);const a=this.getAuthParams();a&&new URLSearchParams(a).forEach((u,h)=>i.set(h,u));const l=await fetch(`${this.baseUrl}/query?${i.toString()}`,{method:"POST",headers:{Accept:"application/json",...this.getProxyHeaders()}});if(!l.ok){const o=await l.text();throw new Error(`Query failed (${l.status}): ${o}`)}return l.json()}async write(e,n,r="ns",i){const a=new URLSearchParams;a.set("db",e),a.set("precision",r),i&&a.set("rp",i);const l=this.getAuthParams();l&&new URLSearchParams(l).forEach((h,d)=>a.set(d,h));const o=await fetch(`${this.baseUrl}/write?${a.toString()}`,{method:"POST",body:n,headers:this.getProxyHeaders()});if(!o.ok&&o.status!==204){const u=await o.text();throw new Error(`Write failed (${o.status}): ${u}`)}}async getDiagnostics(){return this.query("SHOW DIAGNOSTICS")}async getStats(){return this.query("SHOW STATS")}async getDatabases(){const n=(await this.query("SHOW DATABASES")).results?.[0]?.series?.[0];return n?n.values.map(r=>r[0]):[]}async getRetentionPolicies(e){const r=(await this.query(`SHOW RETENTION POLICIES ON "${e}"`)).results?.[0]?.series?.[0];return r?r.values.map(i=>{const a={};return r.columns.forEach((l,o)=>{a[l]=i[o]}),a}):[]}async getMeasurements(e){const r=(await this.query("SHOW MEASUREMENTS",e)).results?.[0]?.series?.[0];return r?r.values.map(i=>i[0]):[]}async getTagKeys(e,n){const i=(await this.query(`SHOW TAG KEYS FROM "${n}"`,e)).results?.[0]?.series?.[0];return i?i.values.map(a=>a[0]):[]}async getFieldKeys(e,n){const i=(await this.query(`SHOW FIELD KEYS FROM "${n}"`,e)).results?.[0]?.series?.[0];return i?i.values.map(a=>({key:a[0],type:a[1]})):[]}async getSeriesCardinality(e){const r=(await this.query("SHOW SERIES CARDINALITY",e)).results?.[0]?.series?.[0];return r?r.values[0][0]:0}async getRunningQueries(){const n=(await this.query("SHOW QUERIES")).results?.[0]?.series?.[0];return n?n.values.map(r=>{const i={};return n.columns.forEach((a,l)=>{i[a]=r[l]}),i}):[]}async killQuery(e){await this.query(`KILL QUERY ${e}`)}async getDebugVars(){return(await fetch(`${this.baseUrl}/debug/vars`,{headers:this.getProxyHeaders()})).json()}async getContinuousQueries(e){return(await this.query("SHOW CONTINUOUS QUERIES",e)).results?.[0]?.series||[]}async getShardGroups(){const n=(await this.query("SHOW SHARD GROUPS")).results?.[0]?.series?.[0];return n?n.values.map(r=>{const i={};return n.columns.forEach((a,l)=>{i[a]=r[l]}),i}):[]}async getUsers(){const n=(await this.query("SHOW USERS")).results?.[0]?.series?.[0];return!n||!Array.isArray(n.values)?[]:n.values.map(r=>({user:r[0],admin:r[1]}))}async getUserGrants(e){const r=(await this.query(`SHOW GRANTS FOR "${e}"`)).results?.[0]?.series?.[0];return r?r.values.map(i=>{const a={};return r.columns.forEach((l,o)=>{a[l]=i[o]}),a}):[]}async getSubscriptions(){return(await this.query("SHOW SUBSCRIPTIONS")).results?.[0]?.series||[]}async getTagValues(e,n,r){const a=(await this.query(`SHOW TAG VALUES FROM "${n}" WITH KEY = "${r}"`,e)).results?.[0]?.series?.[0];if(!a)return[];const l=a.columns.indexOf("value");return a.values.map(o=>o[l>=0?l:1])}async backup(){const e=await fetch(`${this.baseUrl}/debug/backup`,{method:"GET",headers:this.getProxyHeaders()});if(!e.ok)throw new Error(`Backup failed (${e.status}): ${await e.text()}`);return e.blob()}}const we=new OH,wP="timeseriesui_connections",c1="timeseriesui_active_connection";function kH(){try{const t=localStorage.getItem(wP)||localStorage.getItem("tidedb-connections");return JSON.parse(t||"[]").map(n=>({...n,type:n.type||"influxdb",source:n.source||"browser"}))}catch{return[]}}function xu(t){localStorage.setItem(wP,JSON.stringify(t))}function jH(){return localStorage.getItem(c1)||localStorage.getItem("tidedb-active-connection")}function Td(t){t?localStorage.setItem(c1,t):localStorage.removeItem(c1)}function Uv(){return Date.now().toString(36)+Math.random().toString(36).slice(2,7)}function AH({onConnectionChange:t,defaultUrl:e}){const[n,r]=S.useState(kH),[i,a]=S.useState(jH),[l,o]=S.useState(!1),[u,h]=S.useState(null),[d,m]=S.useState(""),[y,v]=S.useState(""),[b,O]=S.useState(""),[C,k]=S.useState(""),[N,j]=S.useState("influxdb"),[M,D]=S.useState("");S.useEffect(()=>{(async()=>{try{const I=await fetch("/api/v1/connections");if(I.ok){const q=await I.json();Array.isArray(q)&&q.length>0&&r(V=>{const te=new Set(V.map(L=>L.url)),W=q.filter(L=>!te.has(L.url)).map(L=>({id:Uv(),name:L.name||"CLI Connection",type:L.type||"influxdb",url:L.url,username:L.username||"",password:L.password||"",source:"cli",alertmanagerUrl:L.alertmanagerUrl,alertmanagerUsername:L.alertmanagerUsername,alertmanagerPassword:L.alertmanagerPassword}));if(W.length===0)return V;const ce=[...V,...W];return xu(ce),ce})}}catch{}})()},[]),S.useEffect(()=>{if(e&&n.length===0){const I={id:Uv(),name:"Default",type:"influxdb",url:e,username:"",password:"",source:"browser"},q=[I];r(q),xu(q),a(I.id),Td(I.id)}},[]);const T=S.useCallback((I,q)=>{const V=I.find(te=>te.id===q)||null;V&&V.type==="influxdb"?we.setRemoteConnection({url:V.url,username:V.username,password:V.password}):V||we.setRemoteConnection(null),t(V)},[t]);S.useEffect(()=>{T(n,i)},[]);const E=I=>{a(I),Td(I),T(n,I)},_=()=>{m(""),v(""),O(""),k(""),j("influxdb"),D(""),h(null)},R=()=>{_(),h("new")},H=I=>{m(I.name),v(I.url),O(I.username),k(I.password),j(I.type),D(I.alertmanagerUrl||""),h(I.id)},B=()=>{const I=d.trim()||"Untitled",q=y.trim();if(q){if(u==="new"){const V={id:Uv(),name:I,type:N,url:q,username:b,password:C,source:"browser",alertmanagerUrl:N==="prometheus"&&M.trim()||void 0},te=[...n,V];r(te),xu(te),(te.length===1||!i)&&(a(V.id),Td(V.id),T(te,V.id))}else{const V=n.map(te=>te.id===u?{...te,name:I,type:N,url:q,username:b,password:C,alertmanagerUrl:N==="prometheus"&&M.trim()||void 0}:te);r(V),xu(V),i===u&&T(V,i)}_()}},z=I=>{if(n.find(te=>te.id===I)?.source==="cli")return;const V=n.filter(te=>te.id!==I);if(r(V),xu(V),i===I){const te=V.length>0?V[0].id:null;a(te),Td(te),T(V,te)}u===I&&_()},ie=n.find(I=>I.id===i),ne=({type:I})=>I==="prometheus"?g.jsx(ZA,{size:10,className:"text-orange-400 flex-shrink-0"}):g.jsx(ti,{size:10,className:"text-blue-400 flex-shrink-0"});return g.jsxs("div",{children:[g.jsxs("button",{onClick:()=>o(I=>!I),className:"flex items-center justify-between w-full px-3 py-2 text-xs font-medium text-gray-400 hover:text-white hover:bg-gray-800 rounded-md transition-colors duration-150",children:[g.jsxs("span",{className:"flex items-center gap-1.5 truncate",children:[g.jsx(o1,{size:12,className:"flex-shrink-0"}),ie?g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(ne,{type:ie.type}),ie.name]}):"Connections"]}),l?g.jsx(fS,{size:14}):g.jsx(Ns,{size:14})]}),l&&g.jsxs("div",{className:"mt-1 px-1 space-y-1",children:[n.map(I=>g.jsxs("div",{className:`flex items-center justify-between gap-1 px-2 py-1.5 rounded text-xs transition-colors duration-100 ${I.id===i?"bg-blue-600/20 border border-blue-600/40":"bg-gray-800 border border-gray-700 hover:border-gray-600"}`,children:[g.jsxs("button",{onClick:()=>E(I.id),className:"flex-1 text-left truncate text-gray-200",title:`${I.type}: ${I.url}`,children:[g.jsxs("span",{className:"font-medium flex items-center gap-1",children:[g.jsx(ne,{type:I.type}),I.name,I.source==="cli"&&g.jsx("span",{className:"text-[9px] bg-gray-700 text-gray-400 px-1 rounded",children:"CLI"})]}),g.jsx("span",{className:"block text-gray-500 truncate text-[10px]",children:I.url})]}),g.jsx("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:I.source!=="cli"&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>H(I),className:"p-1 text-gray-500 hover:text-gray-200 transition-colors",title:"Edit",children:g.jsx(hS,{size:10})}),g.jsx("button",{onClick:()=>z(I.id),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",title:"Remove",children:g.jsx(ys,{size:10})})]})})]},I.id)),u?g.jsxs("div",{className:"space-y-1.5 pt-1 border-t border-gray-700 mt-1",children:[g.jsxs("div",{className:"flex gap-1",children:[g.jsxs("button",{onClick:()=>j("influxdb"),className:`flex-1 flex items-center justify-center gap-1 py-1.5 rounded text-xs font-medium transition-colors ${N==="influxdb"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white border border-gray-700"}`,children:[g.jsx(ti,{size:10}),"InfluxDB"]}),g.jsxs("button",{onClick:()=>j("prometheus"),className:`flex-1 flex items-center justify-center gap-1 py-1.5 rounded text-xs font-medium transition-colors ${N==="prometheus"?"bg-orange-600 text-white":"bg-gray-800 text-gray-400 hover:text-white border border-gray-700"}`,children:[g.jsx(ZA,{size:10}),"Prometheus"]})]}),g.jsx("input",{type:"text",placeholder:"Name (e.g. Production)",value:d,onChange:I=>m(I.target.value),autoFocus:!0,className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors"}),g.jsx("input",{type:"text",placeholder:N==="influxdb"?"URL (e.g. http://localhost:8086)":"URL (e.g. http://localhost:9090)",value:y,onChange:I=>v(I.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors"}),g.jsx("input",{type:"text",placeholder:"Username (optional)",value:b,onChange:I=>O(I.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors"}),g.jsx("input",{type:"password",placeholder:"Password (optional)",value:C,onChange:I=>k(I.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors"}),N==="prometheus"&&g.jsx("input",{type:"text",placeholder:"Alertmanager URL (optional)",value:M,onChange:I=>D(I.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-orange-500 transition-colors"}),g.jsxs("div",{className:"flex gap-1.5",children:[g.jsxs("button",{onClick:B,disabled:!y.trim(),className:"flex-1 flex items-center justify-center gap-1 py-1.5 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium transition-colors duration-150 disabled:opacity-40",children:[g.jsx(mP,{size:12}),u==="new"?"Add":"Save"]}),g.jsx("button",{onClick:_,className:"flex items-center justify-center gap-1 px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-gray-300 text-xs transition-colors duration-150",children:g.jsx(bP,{size:12})})]})]}):g.jsxs("button",{onClick:R,className:"flex items-center gap-1.5 w-full px-2 py-1.5 text-xs text-blue-400 hover:text-blue-300 hover:bg-gray-800 rounded transition-colors duration-150",children:[g.jsx(fa,{size:12}),"Add Connection"]})]})]})}const NH=[{to:"/influxdb/query",label:"Query Explorer",icon:vP},{to:"/influxdb/admin",label:"Admin",icon:ti},{to:"/influxdb/write",label:"Write Data",icon:nH},{to:"/influxdb/health",label:"System Health",icon:sl}],EH=[{to:"/prometheus/query",label:"Query Explorer",icon:vP},{to:"/prometheus/targets",label:"Targets",icon:DU},{to:"/prometheus/alerts",label:"Alert Rules",icon:fU},{to:"/prometheus/tsdb",label:"TSDB Status",icon:xm},{to:"/prometheus/metrics",label:"Metrics Explorer",icon:XU},{to:"/prometheus/config",label:"Config",icon:qU},{to:"/prometheus/service-discovery",label:"Service Discovery",icon:lH}],TH={to:"/prometheus/alertmanager",label:"Alertmanager",icon:cU};function MH(t){if(!t)return[];if(t.type==="prometheus"){const e=[...EH];return t.alertmanagerUrl&&e.splice(3,0,TH),e}return NH}function DH({children:t}){const[e,n]=S.useState(!1),[r,i]=S.useState(null),[a,l]=S.useState(!1),[o,u]=S.useState(null),[h,d]=S.useState(!1),[m,y]=S.useState(void 0),[v,b]=S.useState(!1),O=hg(),C=Dl();S.useEffect(()=>{(async()=>{try{const D=await fetch("/api/mode");if(D.ok){const T=await D.json();T.mode==="standalone"&&(d(!0),we.setStandaloneMode(!0),T.defaultUrl&&y(T.defaultUrl))}}catch{}b(!0)})()},[]);const k=S.useCallback(async()=>{if(!o){l(!1),i(null);return}if(o.type==="influxdb")try{const D=await we.ping();i(D.version),l(D.ok)}catch{l(!1)}else try{const D=`/proxy/prometheus/?target=${encodeURIComponent(o.url)}&path=/api/v1/status/buildinfo`,T=await fetch(D,{headers:o.username?{"X-Proxy-Username":o.username,"X-Proxy-Password":o.password||""}:{}});if(T.ok){const E=await T.json();i(E.data?.version||"unknown"),l(E.status==="success")}else l(!1)}catch{l(!1)}},[o]);S.useEffect(()=>{if(!v)return;k();const D=setInterval(k,1e4);return()=>clearInterval(D)},[v,k]);const N=S.useCallback(D=>{if(u(D),window.dispatchEvent(new CustomEvent("tidedb-connection-change",{detail:D})),D){const T=C.pathname;(D.type==="influxdb"&&T.startsWith("/prometheus")||D.type==="prometheus"&&(T.startsWith("/influxdb")||T==="/explore"||T==="/admin"||T==="/write"||T==="/health")||T==="/"||T==="")&&(D.type==="influxdb"?O("/influxdb/query"):O("/prometheus/query"))}},[O,C.pathname]),j=MH(o),M=g.jsxs("div",{className:"flex flex-col h-full",children:[g.jsx("div",{className:"px-5 py-5 border-b border-gray-800",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-7 h-7 rounded bg-blue-600 flex items-center justify-center flex-shrink-0",children:g.jsx(sl,{size:15,className:"text-white"})}),g.jsxs("div",{children:[g.jsx("span",{className:"text-white font-semibold text-base leading-tight block",children:"TimeseriesUI"}),r&&r!=="unknown"&&g.jsxs("span",{className:"text-gray-500 text-xs leading-tight block",children:["v",r]})]})]})}),g.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:[o&&g.jsx("div",{className:"px-3 mb-3",children:g.jsx("span",{className:"text-[10px] font-semibold text-gray-500 uppercase tracking-wider",children:o.type==="influxdb"?"InfluxDB":"Prometheus"})}),j.map(({to:D,label:T,icon:E})=>g.jsxs(Q9,{to:D,onClick:()=>n(!1),className:({isActive:_})=>["flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150",_?"bg-gray-800 text-white border-l-2 border-blue-500 pl-[10px]":"text-gray-400 hover:text-white hover:bg-gray-800 border-l-2 border-transparent pl-[10px]"].join(" "),children:[g.jsx(E,{size:16,className:"flex-shrink-0"}),T]},D)),!o&&g.jsx("div",{className:"px-3 py-8 text-center",children:g.jsx("p",{className:"text-gray-500 text-xs",children:"Add a connection below to get started"})})]}),g.jsxs("div",{className:"border-t border-gray-800 px-3 py-4 space-y-3",children:[h&&g.jsx(AH,{onConnectionChange:N,defaultUrl:m}),g.jsxs("div",{className:"flex items-center gap-2 px-3 py-2",children:[g.jsx(CU,{size:8,className:a?"fill-green-500 text-green-500":"fill-red-500 text-red-500"}),g.jsx("span",{className:"text-xs text-gray-400",children:a?"Connected":o?"Disconnected":"No connection"})]})]})]});return g.jsxs("div",{className:"flex h-screen bg-gray-950 text-white overflow-hidden",children:[e&&g.jsx("div",{className:"fixed inset-0 z-20 bg-black/60 lg:hidden",onClick:()=>n(!1)}),g.jsx("aside",{className:["fixed inset-y-0 left-0 z-30 w-60 bg-gray-900 flex flex-col transition-transform duration-200 ease-in-out","lg:static lg:translate-x-0 lg:flex-shrink-0",e?"translate-x-0":"-translate-x-full"].join(" "),children:M}),g.jsxs("div",{className:"flex flex-col flex-1 min-w-0 overflow-hidden",children:[g.jsxs("header",{className:"lg:hidden flex items-center gap-3 px-4 py-3 bg-gray-900 border-b border-gray-800 flex-shrink-0",children:[g.jsx("button",{onClick:()=>n(D=>!D),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Toggle sidebar",children:e?g.jsx(bP,{size:20}):g.jsx(eH,{size:20})}),g.jsx("span",{className:"text-white font-semibold text-sm",children:"TimeseriesUI"})]}),g.jsx("main",{className:"flex-1 overflow-auto bg-gray-950",children:t})]})]})}function u1(){return u1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u1.apply(null,arguments)}function PH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}let f1=[],SP=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?SP:f1).push(n=n+t[e])})();function _H(t){if(t<768)return!1;for(let e=0,n=f1.length;;){let r=e+n>>1;if(t<f1[r])n=r;else if(t>=SP[r])e=r+1;else return!0;if(e==n)return!1}}function eN(t){return t>=127462&&t<=127487}const tN=8205;function RH(t,e,n=!0,r=!0){return(n?CP:LH)(t,e,r)}function CP(t,e,n){if(e==t.length)return e;e&&OP(t.charCodeAt(e))&&kP(t.charCodeAt(e-1))&&e--;let r=Hv(t,e);for(e+=nN(r);e<t.length;){let i=Hv(t,e);if(r==tN||i==tN||n&&_H(i))e+=nN(i),r=i;else if(eN(i)){let a=0,l=e-2;for(;l>=0&&eN(Hv(t,l));)a++,l-=2;if(a%2==0)break;e+=2}else break}return e}function LH(t,e,n){for(;e>0;){let r=CP(t,e-2,n);if(r<e)return r;e--}return 0}function Hv(t,e){let n=t.charCodeAt(e);if(!kP(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return OP(r)?(n-55296<<10)+(r-56320)+65536:n}function OP(t){return t>=56320&&t<57344}function kP(t){return t>=55296&&t<56320}function nN(t){return t<65536?1:2}let Ye=class jP{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=Ko(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),bi.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=Ko(this,e,n);let r=[];return this.decompose(e,n,r,0),bi.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new $u(this),a=new $u(e);for(let l=n,o=n;;){if(i.next(l),a.next(l),l=0,i.lineBreak!=a.lineBreak||i.done!=a.done||i.value!=a.value)return!1;if(o+=i.value.length,i.done||o>=r)return!0}}iter(e=1){return new $u(this,e)}iterRange(e,n=this.length){return new AP(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new NP(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?jP.empty:e.length<=32?new Nt(e):bi.from(Nt.split(e,[]))}};class Nt extends Ye{constructor(e,n=BH(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let a=0;;a++){let l=this.text[a],o=i+l.length;if((n?r:o)>=e)return new zH(i,o,r,l);i=o+1,r++}}decompose(e,n,r,i){let a=e<=0&&n>=this.length?this:new Nt(rN(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let l=r.pop(),o=bm(a.text,l.text.slice(),0,a.length);if(o.length<=32)r.push(new Nt(o,l.length+a.length));else{let u=o.length>>1;r.push(new Nt(o.slice(0,u)),new Nt(o.slice(u)))}}else r.push(a)}replace(e,n,r){if(!(r instanceof Nt))return super.replace(e,n,r);[e,n]=Ko(this,e,n);let i=bm(this.text,bm(r.text,rN(this.text,0,e)),n),a=this.length+r.length-(n-e);return i.length<=32?new Nt(i,a):bi.from(Nt.split(i,[]),a)}sliceString(e,n=this.length,r=`
`){[e,n]=Ko(this,e,n);let i="";for(let a=0,l=0;a<=n&&l<this.text.length;l++){let o=this.text[l],u=a+o.length;a>e&&l&&(i+=r),e<u&&n>a&&(i+=o.slice(Math.max(0,e-a),n-a)),a=u+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let a of e)r.push(a),i+=a.length+1,r.length==32&&(n.push(new Nt(r,i)),r=[],i=-1);return i>-1&&n.push(new Nt(r,i)),n}}class bi extends Ye{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let a=0;;a++){let l=this.children[a],o=i+l.length,u=r+l.lines-1;if((n?u:o)>=e)return l.lineInner(e,n,r,i);i=o+1,r=u+1}}decompose(e,n,r,i){for(let a=0,l=0;l<=n&&a<this.children.length;a++){let o=this.children[a],u=l+o.length;if(e<=u&&n>=l){let h=i&((l<=e?1:0)|(u>=n?2:0));l>=e&&u<=n&&!h?r.push(o):o.decompose(e-l,n-l,r,h)}l=u+1}}replace(e,n,r){if([e,n]=Ko(this,e,n),r.lines<this.lines)for(let i=0,a=0;i<this.children.length;i++){let l=this.children[i],o=a+l.length;if(e>=a&&n<=o){let u=l.replace(e-a,n-a,r),h=this.lines-l.lines+u.lines;if(u.lines<h>>4&&u.lines>h>>6){let d=this.children.slice();return d[i]=u,new bi(d,this.length-(n-e)+r.length)}return super.replace(a,o,u)}a=o+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=Ko(this,e,n);let i="";for(let a=0,l=0;a<this.children.length&&l<=n;a++){let o=this.children[a],u=l+o.length;l>e&&a&&(i+=r),e<u&&n>l&&(i+=o.sliceString(e-l,n-l,r)),l=u+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof bi))return 0;let r=0,[i,a,l,o]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,a+=n){if(i==l||a==o)return r;let u=this.children[i],h=e.children[a];if(u!=h)return r+u.scanIdentical(h,n);r+=u.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let v of e)r+=v.lines;if(r<32){let v=[];for(let b of e)b.flatten(v);return new Nt(v,n)}let i=Math.max(32,r>>5),a=i<<1,l=i>>1,o=[],u=0,h=-1,d=[];function m(v){let b;if(v.lines>a&&v instanceof bi)for(let O of v.children)m(O);else v.lines>l&&(u>l||!u)?(y(),o.push(v)):v instanceof Nt&&u&&(b=d[d.length-1])instanceof Nt&&v.lines+b.lines<=32?(u+=v.lines,h+=v.length+1,d[d.length-1]=new Nt(b.text.concat(v.text),b.length+1+v.length)):(u+v.lines>i&&y(),u+=v.lines,h+=v.length+1,d.push(v))}function y(){u!=0&&(o.push(d.length==1?d[0]:bi.from(d,h)),h=-1,u=d.length=0)}for(let v of e)m(v);return y(),o.length==1?o[0]:new bi(o,n)}}Ye.empty=new Nt([""],0);function BH(t){let e=-1;for(let n of t)e+=n.length+1;return e}function bm(t,e,n=0,r=1e9){for(let i=0,a=0,l=!0;a<t.length&&i<=r;a++){let o=t[a],u=i+o.length;u>=n&&(u>r&&(o=o.slice(0,r-i)),i<n&&(o=o.slice(n-i)),l?(e[e.length-1]+=o,l=!1):e.push(o)),i=u+1}return e}function rN(t,e,n){return bm(t,[""],e,n)}class $u{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof Nt?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],a=this.offsets[r],l=a>>1,o=i instanceof Nt?i.text.length:i.children.length;if(l==(n>0?o:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((a&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Nt){let u=i.text[l+(n<0?-1:0)];if(this.offsets[r]+=n,u.length>Math.max(0,e))return this.value=e==0?u:n>0?u.slice(e):u.slice(0,u.length-e),this;e-=u.length}else{let u=i.children[l+(n<0?-1:0)];e>u.length?(e-=u.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(u),this.offsets.push(n>0?1:(u instanceof Nt?u.text.length:u.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class AP{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new $u(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class NP{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Ye.prototype[Symbol.iterator]=function(){return this.iter()},$u.prototype[Symbol.iterator]=AP.prototype[Symbol.iterator]=NP.prototype[Symbol.iterator]=function(){return this});let zH=class{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}};function Ko(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function Xt(t,e,n=!0,r=!0){return RH(t,e,n,r)}function IH(t){return t>=56320&&t<57344}function UH(t){return t>=55296&&t<56320}function Vn(t,e){let n=t.charCodeAt(e);if(!UH(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return IH(r)?(n-55296<<10)+(r-56320)+65536:n}function dS(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function wi(t){return t<65536?1:2}const h1=/\r\n?|\n/;var Tn=(function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t})(Tn||(Tn={}));class Ni{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let a=this.sections[n++],l=this.sections[n++];l<0?(e(r,i,a),i+=a):i+=l,r+=a}}iterChangedRanges(e,n=!1){d1(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new Ni(e)}composeDesc(e){return this.empty?e:e.empty?this:EP(this,e)}mapDesc(e,n=!1){return e.empty?this:m1(this,e,n)}mapPos(e,n=-1,r=Tn.Simple){let i=0,a=0;for(let l=0;l<this.sections.length;){let o=this.sections[l++],u=this.sections[l++],h=i+o;if(u<0){if(h>e)return a+(e-i);a+=o}else{if(r!=Tn.Simple&&h>=e&&(r==Tn.TrackDel&&i<e&&h>e||r==Tn.TrackBefore&&i<e||r==Tn.TrackAfter&&h>e))return null;if(h>e||h==e&&n<0&&!o)return e==i||n<0?a:a+u;a+=u}i=h}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return a}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let a=this.sections[r++],l=this.sections[r++],o=i+a;if(l>=0&&i<=n&&o>=e)return i<e&&o>n?"cover":!0;i=o}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Ni(e)}static create(e){return new Ni(e)}}class Ut extends Ni{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return d1(this,(n,r,i,a,l)=>e=e.replace(i,i+(r-n),l),!1),e}mapDesc(e,n=!1){return m1(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,a=0;i<n.length;i+=2){let l=n[i],o=n[i+1];if(o>=0){n[i]=o,n[i+1]=l;let u=i>>1;for(;r.length<u;)r.push(Ye.empty);r.push(l?e.slice(a,a+l):Ye.empty)}a+=l}return new Ut(n,r)}compose(e){return this.empty?e:e.empty?this:EP(this,e,!0)}map(e,n=!1){return e.empty?this:m1(this,e,n,!0)}iterChanges(e,n=!1){d1(this,e,n)}get desc(){return Ni.create(this.sections)}filter(e){let n=[],r=[],i=[],a=new tf(this);e:for(let l=0,o=0;;){let u=l==e.length?1e9:e[l++];for(;o<u||o==u&&a.len==0;){if(a.done)break e;let d=Math.min(a.len,u-o);On(i,d,-1);let m=a.ins==-1?-1:a.off==0?a.ins:0;On(n,d,m),m>0&&cs(r,n,a.text),a.forward(d),o+=d}let h=e[l++];for(;o<h;){if(a.done)break e;let d=Math.min(a.len,h-o);On(n,d,-1),On(i,d,a.ins==-1?-1:a.off==0?a.ins:0),a.forward(d),o+=d}}return{changes:new Ut(n,r),filtered:Ni.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],a=[],l=0,o=null;function u(d=!1){if(!d&&!i.length)return;l<n&&On(i,n-l,-1);let m=new Ut(i,a);o=o?o.compose(m.map(o)):m,i=[],a=[],l=0}function h(d){if(Array.isArray(d))for(let m of d)h(m);else if(d instanceof Ut){if(d.length!=n)throw new RangeError(`Mismatched change set length (got ${d.length}, expected ${n})`);u(),o=o?o.compose(d.map(o)):d}else{let{from:m,to:y=m,insert:v}=d;if(m>y||m<0||y>n)throw new RangeError(`Invalid change range ${m} to ${y} (in doc of length ${n})`);let b=v?typeof v=="string"?Ye.of(v.split(r||h1)):v:Ye.empty,O=b.length;if(m==y&&O==0)return;m<l&&u(),m>l&&On(i,m-l,-1),On(i,y-m,O),cs(a,i,b),l=y}}return h(e),u(!o),o}static empty(e){return new Ut(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let a=e[i];if(typeof a=="number")n.push(a,-1);else{if(!Array.isArray(a)||typeof a[0]!="number"||a.some((l,o)=>o&&typeof l!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(a.length==1)n.push(a[0],0);else{for(;r.length<i;)r.push(Ye.empty);r[i]=Ye.of(a.slice(1)),n.push(a[0],r[i].length)}}}return new Ut(n,r)}static createSet(e,n){return new Ut(e,n)}}function On(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function cs(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Ye.empty);t.push(n)}}function d1(t,e,n){let r=t.inserted;for(let i=0,a=0,l=0;l<t.sections.length;){let o=t.sections[l++],u=t.sections[l++];if(u<0)i+=o,a+=o;else{let h=i,d=a,m=Ye.empty;for(;h+=o,d+=u,u&&r&&(m=m.append(r[l-2>>1])),!(n||l==t.sections.length||t.sections[l+1]<0);)o=t.sections[l++],u=t.sections[l++];e(i,h,a,d,m),i=h,a=d}}}function m1(t,e,n,r=!1){let i=[],a=r?[]:null,l=new tf(t),o=new tf(e);for(let u=-1;;){if(l.done&&o.len||o.done&&l.len)throw new Error("Mismatched change set lengths");if(l.ins==-1&&o.ins==-1){let h=Math.min(l.len,o.len);On(i,h,-1),l.forward(h),o.forward(h)}else if(o.ins>=0&&(l.ins<0||u==l.i||l.off==0&&(o.len<l.len||o.len==l.len&&!n))){let h=o.len;for(On(i,o.ins,-1);h;){let d=Math.min(l.len,h);l.ins>=0&&u<l.i&&l.len<=d&&(On(i,0,l.ins),a&&cs(a,i,l.text),u=l.i),l.forward(d),h-=d}o.next()}else if(l.ins>=0){let h=0,d=l.len;for(;d;)if(o.ins==-1){let m=Math.min(d,o.len);h+=m,d-=m,o.forward(m)}else if(o.ins==0&&o.len<d)d-=o.len,o.next();else break;On(i,h,u<l.i?l.ins:0),a&&u<l.i&&cs(a,i,l.text),u=l.i,l.forward(l.len-d)}else{if(l.done&&o.done)return a?Ut.createSet(i,a):Ni.create(i);throw new Error("Mismatched change set lengths")}}}function EP(t,e,n=!1){let r=[],i=n?[]:null,a=new tf(t),l=new tf(e);for(let o=!1;;){if(a.done&&l.done)return i?Ut.createSet(r,i):Ni.create(r);if(a.ins==0)On(r,a.len,0,o),a.next();else if(l.len==0&&!l.done)On(r,0,l.ins,o),i&&cs(i,r,l.text),l.next();else{if(a.done||l.done)throw new Error("Mismatched change set lengths");{let u=Math.min(a.len2,l.len),h=r.length;if(a.ins==-1){let d=l.ins==-1?-1:l.off?0:l.ins;On(r,u,d,o),i&&d&&cs(i,r,l.text)}else l.ins==-1?(On(r,a.off?0:a.len,u,o),i&&cs(i,r,a.textBit(u))):(On(r,a.off?0:a.len,l.off?0:l.ins,o),i&&!l.off&&cs(i,r,l.text));o=(a.ins>u||l.ins>=0&&l.len>u)&&(o||r.length>h),a.forward2(u),l.forward(u)}}}}class tf{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Ye.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Ye.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class cl{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new cl(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return oe.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return oe.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&this.goalColumn==e.goalColumn&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return oe.range(e.anchor,e.head)}static create(e,n,r){return new cl(e,n,r)}}class oe{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:oe.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new oe([this.main],0)}addRange(e,n=!0){return oe.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,oe.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new oe(e.ranges.map(n=>cl.fromJSON(n)),e.main)}static single(e,n=e){return new oe([oe.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let a=e[i];if(a.empty?a.from<=r:a.from<r)return oe.normalized(e.slice(),n);r=a.to}return new oe(e,n)}static cursor(e,n=0,r,i){return cl.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let a=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?cl.create(n,e,48|a):cl.create(e,n,(n>e?8:0)|a)}static normalized(e,n=0){let r=e[n];e.sort((i,a)=>i.from-a.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let a=e[i],l=e[i-1];if(a.empty?a.from<=l.to:a.from<l.to){let o=l.from,u=Math.max(a.to,l.to);i<=n&&n--,e.splice(--i,2,a.anchor>a.head?oe.range(u,o):oe.range(o,u))}}return new oe(e,n)}}function TP(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let mS=0;class ye{constructor(e,n,r,i,a){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=mS++,this.default=e([]),this.extensions=typeof a=="function"?a(this):a}get reader(){return this}static define(e={}){return new ye(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:pS),!!e.static,e.enables)}of(e){return new wm([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new wm(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new wm(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function pS(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class wm{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=mS++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,a=this.id,l=e[a]>>1,o=this.type==2,u=!1,h=!1,d=[];for(let m of this.dependencies)m=="doc"?u=!0:m=="selection"?h=!0:(((n=e[m.id])!==null&&n!==void 0?n:1)&1)==0&&d.push(e[m.id]);return{create(m){return m.values[l]=r(m),1},update(m,y){if(u&&y.docChanged||h&&(y.docChanged||y.selection)||p1(m,d)){let v=r(m);if(o?!iN(v,m.values[l],i):!i(v,m.values[l]))return m.values[l]=v,1}return 0},reconfigure:(m,y)=>{let v,b=y.config.address[a];if(b!=null){let O=zm(y,b);if(this.dependencies.every(C=>C instanceof ye?y.facet(C)===m.facet(C):C instanceof bn?y.field(C,!1)==m.field(C,!1):!0)||(o?iN(v=r(m),O,i):i(v=r(m),O)))return m.values[l]=O,0}else v=r(m);return m.values[l]=v,1}}}}function iN(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function p1(t,e){let n=!1;for(let r of e)Vu(t,r)&1&&(n=!0);return n}function HH(t,e,n){let r=n.map(u=>t[u.id]),i=n.map(u=>u.type),a=r.filter(u=>!(u&1)),l=t[e.id]>>1;function o(u){let h=[];for(let d=0;d<r.length;d++){let m=zm(u,r[d]);if(i[d]==2)for(let y of m)h.push(y);else h.push(m)}return e.combine(h)}return{create(u){for(let h of r)Vu(u,h);return u.values[l]=o(u),1},update(u,h){if(!p1(u,a))return 0;let d=o(u);return e.compare(d,u.values[l])?0:(u.values[l]=d,1)},reconfigure(u,h){let d=p1(u,r),m=h.config.facets[e.id],y=h.facet(e);if(m&&!d&&pS(n,m))return u.values[l]=y,0;let v=o(u);return e.compare(v,y)?(u.values[l]=y,0):(u.values[l]=v,1)}}}const Md=ye.define({static:!0});class bn{constructor(e,n,r,i,a){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=a,this.provides=void 0}static define(e){let n=new bn(mS++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(Md).find(r=>r.field==this);return(n?.create||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let a=r.values[n],l=this.updateF(a,i);return this.compareF(a,l)?0:(r.values[n]=l,1)},reconfigure:(r,i)=>{let a=r.facet(Md),l=i.facet(Md),o;return(o=a.find(u=>u.field==this))&&o!=l.find(u=>u.field==this)?(r.values[n]=o.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,Md.of({field:this,create:e})]}get extension(){return this}}const ll={lowest:4,low:3,default:2,high:1,highest:0};function bu(t){return e=>new MP(e,t)}const Pl={highest:bu(ll.highest),high:bu(ll.high),default:bu(ll.default),low:bu(ll.low),lowest:bu(ll.lowest)};class MP{constructor(e,n){this.inner=e,this.prec=n}}class mg{of(e){return new g1(this,e)}reconfigure(e){return mg.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class g1{constructor(e,n){this.compartment=e,this.inner=n}}class Bm{constructor(e,n,r,i,a,l){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=a,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],a=Object.create(null),l=new Map;for(let y of qH(e,n,l))y instanceof bn?i.push(y):(a[y.facet.id]||(a[y.facet.id]=[])).push(y);let o=Object.create(null),u=[],h=[];for(let y of i)o[y.id]=h.length<<1,h.push(v=>y.slot(v));let d=r?.config.facets;for(let y in a){let v=a[y],b=v[0].facet,O=d&&d[y]||[];if(v.every(C=>C.type==0))if(o[b.id]=u.length<<1|1,pS(O,v))u.push(r.facet(b));else{let C=b.combine(v.map(k=>k.value));u.push(r&&b.compare(C,r.facet(b))?r.facet(b):C)}else{for(let C of v)C.type==0?(o[C.id]=u.length<<1|1,u.push(C.value)):(o[C.id]=h.length<<1,h.push(k=>C.dynamicSlot(k)));o[b.id]=h.length<<1,h.push(C=>HH(C,b,v))}}let m=h.map(y=>y(o));return new Bm(e,l,m,o,u,a)}}function qH(t,e,n){let r=[[],[],[],[],[]],i=new Map;function a(l,o){let u=i.get(l);if(u!=null){if(u<=o)return;let h=r[u].indexOf(l);h>-1&&r[u].splice(h,1),l instanceof g1&&n.delete(l.compartment)}if(i.set(l,o),Array.isArray(l))for(let h of l)a(h,o);else if(l instanceof g1){if(n.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(l.compartment)||l.inner;n.set(l.compartment,h),a(h,o)}else if(l instanceof MP)a(l.inner,l.prec);else if(l instanceof bn)r[o].push(l),l.provides&&a(l.provides,o);else if(l instanceof wm)r[o].push(l),l.facet.extensions&&a(l.facet.extensions,ll.default);else{let h=l.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);a(h,o)}}return a(t,ll.default),r.reduce((l,o)=>l.concat(o))}function Vu(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function zm(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const DP=ye.define(),y1=ye.define({combine:t=>t.some(e=>e),static:!0}),PP=ye.define({combine:t=>t.length?t[0]:void 0,static:!0}),_P=ye.define(),RP=ye.define(),LP=ye.define(),BP=ye.define({combine:t=>t.length?t[0]:!1});class Ri{constructor(e,n){this.type=e,this.value=n}static define(){return new $H}}class $H{of(e){return new Ri(this,e)}}class VH{constructor(e){this.map=e}of(e){return new Me(this,e)}}class Me{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Me(this.type,n)}is(e){return this.type==e}static define(e={}){return new VH(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let a=i.map(n);a&&r.push(a)}return r}}Me.reconfigure=Me.define();Me.appendConfig=Me.define();class Ht{constructor(e,n,r,i,a,l){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=a,this.scrollIntoView=l,this._doc=null,this._state=null,r&&TP(r,n.newLength),a.some(o=>o.type==Ht.time)||(this.annotations=a.concat(Ht.time.of(Date.now())))}static create(e,n,r,i,a,l){return new Ht(e,n,r,i,a,l)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Ht.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Ht.time=Ri.define();Ht.userEvent=Ri.define();Ht.addToHistory=Ri.define();Ht.remote=Ri.define();function FH(t,e){let n=[];for(let r=0,i=0;;){let a,l;if(r<t.length&&(i==e.length||e[i]>=t[r]))a=t[r++],l=t[r++];else if(i<e.length)a=e[i++],l=e[i++];else return n;!n.length||n[n.length-1]<a?n.push(a,l):n[n.length-1]<l&&(n[n.length-1]=l)}}function zP(t,e,n){var r;let i,a,l;return n?(i=e.changes,a=Ut.empty(e.changes.length),l=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),a=t.changes.mapDesc(e.changes,!0),l=t.changes.compose(i)),{changes:l,selection:e.selection?e.selection.map(a):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:Me.mapEffects(t.effects,i).concat(Me.mapEffects(e.effects,a)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function v1(t,e,n){let r=e.selection,i=Lo(e.annotations);return e.userEvent&&(i=i.concat(Ht.userEvent.of(e.userEvent))),{changes:e.changes instanceof Ut?e.changes:Ut.of(e.changes||[],n,t.facet(PP)),selection:r&&(r instanceof oe?r:oe.single(r.anchor,r.head)),effects:Lo(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function IP(t,e,n){let r=v1(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let a=1;a<e.length;a++){e[a].filter===!1&&(n=!1);let l=!!e[a].sequential;r=zP(r,v1(t,e[a],l?r.changes.newLength:t.doc.length),l)}let i=Ht.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return KH(n?WH(i):i)}function WH(t){let e=t.startState,n=!0;for(let i of e.facet(_P)){let a=i(t);if(a===!1){n=!1;break}Array.isArray(a)&&(n=n===!0?a:FH(n,a))}if(n!==!0){let i,a;if(n===!1)a=t.changes.invertedDesc,i=Ut.empty(e.doc.length);else{let l=t.changes.filter(n);i=l.changes,a=l.filtered.mapDesc(l.changes).invertedDesc}t=Ht.create(e,i,t.selection&&t.selection.map(a),Me.mapEffects(t.effects,a),t.annotations,t.scrollIntoView)}let r=e.facet(RP);for(let i=r.length-1;i>=0;i--){let a=r[i](t);a instanceof Ht?t=a:Array.isArray(a)&&a.length==1&&a[0]instanceof Ht?t=a[0]:t=IP(e,Lo(a),!1)}return t}function KH(t){let e=t.startState,n=e.facet(LP),r=t;for(let i=n.length-1;i>=0;i--){let a=n[i](t);a&&Object.keys(a).length&&(r=zP(r,v1(e,a,t.changes.newLength),!0))}return r==t?t:Ht.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const GH=[];function Lo(t){return t==null?GH:Array.isArray(t)?t:[t]}var gt=(function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t})(gt||(gt={}));const YH=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let x1;try{x1=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function QH(t){if(x1)return x1.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||YH.test(n)))return!0}return!1}function XH(t){return e=>{if(!/\S/.test(e))return gt.Space;if(QH(e))return gt.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return gt.Word;return gt.Other}}class qe{constructor(e,n,r,i,a,l){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=a,l&&(l._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)Vu(this,o<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return Vu(this,r),zm(this,r)}update(...e){return IP(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let o of e.effects)o.is(mg.reconfigure)?(n&&(i=new Map,n.compartments.forEach((u,h)=>i.set(h,u)),n=null),i.set(o.value.compartment,o.value.extension)):o.is(Me.reconfigure)?(n=null,r=o.value):o.is(Me.appendConfig)&&(n=null,r=Lo(r).concat(o.value));let a;n?a=e.startState.values.slice():(n=Bm.resolve(r,i,this),a=new qe(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(u,h)=>h.reconfigure(u,this),null).values);let l=e.startState.facet(y1)?e.newSelection:e.newSelection.asSingle();new qe(n,e.newDoc,l,a,(o,u)=>u.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:oe.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),a=[r.range],l=Lo(r.effects);for(let o=1;o<n.ranges.length;o++){let u=e(n.ranges[o]),h=this.changes(u.changes),d=h.map(i);for(let y=0;y<o;y++)a[y]=a[y].map(d);let m=i.mapDesc(h,!0);a.push(u.range.map(m)),i=i.compose(d),l=Me.mapEffects(l,d).concat(Me.mapEffects(Lo(u.effects),m))}return{changes:i,selection:oe.create(a,n.mainIndex),effects:l}}changes(e=[]){return e instanceof Ut?e:Ut.of(e,this.doc.length,this.facet(qe.lineSeparator))}toText(e){return Ye.of(e.split(this.facet(qe.lineSeparator)||h1))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Vu(this,n),zm(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof bn&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let a in r)if(Object.prototype.hasOwnProperty.call(e,a)){let l=r[a],o=e[a];i.push(l.init(u=>l.spec.fromJSON(o,u)))}}return qe.create({doc:e.doc,selection:oe.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=Bm.resolve(e.extensions||[],new Map),r=e.doc instanceof Ye?e.doc:Ye.of((e.doc||"").split(n.staticFacet(qe.lineSeparator)||h1)),i=e.selection?e.selection instanceof oe?e.selection:oe.single(e.selection.anchor,e.selection.head):oe.single(0);return TP(i,r.length),n.staticFacet(y1)||(i=i.asSingle()),new qe(n,r,i,n.dynamicSlots.map(()=>null),(a,l)=>l.create(a),null)}get tabSize(){return this.facet(qe.tabSize)}get lineBreak(){return this.facet(qe.lineSeparator)||`
`}get readOnly(){return this.facet(BP)}phrase(e,...n){for(let r of this.facet(qe.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let a=+(i||1);return!a||a>n.length?r:n[a-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let a of this.facet(DP))for(let l of a(this,n,r))Object.prototype.hasOwnProperty.call(l,e)&&i.push(l[e]);return i}charCategorizer(e){let n=this.languageDataAt("wordChars",e);return XH(n.length?n[0]:"")}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),a=this.charCategorizer(e),l=e-r,o=e-r;for(;l>0;){let u=Xt(n,l,!1);if(a(n.slice(u,l))!=gt.Word)break;l=u}for(;o<i;){let u=Xt(n,o);if(a(n.slice(o,u))!=gt.Word)break;o=u}return l==o?null:oe.range(l+r,o+r)}}qe.allowMultipleSelections=y1;qe.tabSize=ye.define({combine:t=>t.length?t[0]:4});qe.lineSeparator=PP;qe.readOnly=BP;qe.phrases=ye.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});qe.languageData=DP;qe.changeFilter=_P;qe.transactionFilter=RP;qe.transactionExtender=LP;mg.reconfigure=Me.define();function Li(t,e,n={}){let r={};for(let i of t)for(let a of Object.keys(i)){let l=i[a],o=r[a];if(o===void 0)r[a]=l;else if(!(o===l||l===void 0))if(Object.hasOwnProperty.call(n,a))r[a]=n[a](o,l);else throw new Error("Config merge conflict for field "+a)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class vs{eq(e){return this==e}range(e,n=e){return b1.create(e,n,this)}}vs.prototype.startSide=vs.prototype.endSide=0;vs.prototype.point=!1;vs.prototype.mapMode=Tn.TrackDel;function gS(t,e){return t==e||t.constructor==e.constructor&&t.eq(e)}let b1=class UP{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new UP(e,n,r)}};function w1(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class yS{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let a=r?this.to:this.from;for(let l=i,o=a.length;;){if(l==o)return l;let u=l+o>>1,h=a[u]-e||(r?this.value[u].endSide:this.value[u].startSide)-n;if(u==l)return h>=0?l:o;h>=0?o=u:l=u+1}}between(e,n,r,i){for(let a=this.findIndex(n,-1e9,!0),l=this.findIndex(r,1e9,!1,a);a<l;a++)if(i(this.from[a]+e,this.to[a]+e,this.value[a])===!1)return!1}map(e,n){let r=[],i=[],a=[],l=-1,o=-1;for(let u=0;u<this.value.length;u++){let h=this.value[u],d=this.from[u]+e,m=this.to[u]+e,y,v;if(d==m){let b=n.mapPos(d,h.startSide,h.mapMode);if(b==null||(y=v=b,h.startSide!=h.endSide&&(v=n.mapPos(d,h.endSide),v<y)))continue}else if(y=n.mapPos(d,h.startSide),v=n.mapPos(m,h.endSide),y>v||y==v&&h.startSide>0&&h.endSide<=0)continue;(v-y||h.endSide-h.startSide)<0||(l<0&&(l=y),h.point&&(o=Math.max(o,v-y)),r.push(h),i.push(y-l),a.push(v-l))}return{mapped:r.length?new yS(i,a,r,o):null,pos:l}}}class ze{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new ze(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:a=this.length}=e,l=e.filter;if(n.length==0&&!l)return this;if(r&&(n=n.slice().sort(w1)),this.isEmpty)return n.length?ze.of(n):this;let o=new HP(this,null,-1).goto(0),u=0,h=[],d=new ha;for(;o.value||u<n.length;)if(u<n.length&&(o.from-n[u].from||o.startSide-n[u].value.startSide)>=0){let m=n[u++];d.addInner(m.from,m.to,m.value)||h.push(m)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(u==n.length||this.chunkEnd(o.chunkIndex)<n[u].from)&&(!l||i>this.chunkEnd(o.chunkIndex)||a<this.chunkPos[o.chunkIndex])&&d.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!l||i>o.to||a<o.from||l(o.from,o.to,o.value))&&(d.addInner(o.from,o.to,o.value)||h.push(b1.create(o.from,o.to,o.value))),o.next());return d.finishInner(this.nextLayer.isEmpty&&!h.length?ze.empty:this.nextLayer.update({add:h,filter:l,filterFrom:i,filterTo:a}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let l=0;l<this.chunk.length;l++){let o=this.chunkPos[l],u=this.chunk[l],h=e.touchesRange(o,o+u.length);if(h===!1)i=Math.max(i,u.maxPoint),n.push(u),r.push(e.mapPos(o));else if(h===!0){let{mapped:d,pos:m}=u.map(o,e);d&&(i=Math.max(i,d.maxPoint),n.push(d),r.push(m))}}let a=this.nextLayer.map(e);return n.length==0?a:new ze(r,n,a||ze.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let a=this.chunkPos[i],l=this.chunk[i];if(n>=a&&e<=a+l.length&&l.between(a,e-a,n-a,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return nf.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return nf.from(e).goto(n)}static compare(e,n,r,i,a=-1){let l=e.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=a),o=n.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=a),u=aN(l,o,r),h=new wu(l,u,a),d=new wu(o,u,a);r.iterGaps((m,y,v)=>sN(h,m,d,y,v,i)),r.empty&&r.length==0&&sN(h,0,d,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let a=e.filter(d=>!d.isEmpty&&n.indexOf(d)<0),l=n.filter(d=>!d.isEmpty&&e.indexOf(d)<0);if(a.length!=l.length)return!1;if(!a.length)return!0;let o=aN(a,l),u=new wu(a,o,0).goto(r),h=new wu(l,o,0).goto(r);for(;;){if(u.to!=h.to||!S1(u.active,h.active)||u.point&&(!h.point||!gS(u.point,h.point)))return!1;if(u.to>i)return!0;u.next(),h.next()}}static spans(e,n,r,i,a=-1){let l=new wu(e,null,a).goto(n),o=n,u=l.openStart;for(;;){let h=Math.min(l.to,r);if(l.point){let d=l.activeForPoint(l.to),m=l.pointFrom<n?d.length+1:l.point.startSide<0?d.length:Math.min(d.length,u);i.point(o,h,l.point,d,m,l.pointRank),u=Math.min(l.openEnd(h),d.length)}else h>o&&(i.span(o,h,l.active,u),u=l.openEnd(h));if(l.to>r)return u+(l.point&&l.to>r?1:0);o=l.to,l.next()}}static of(e,n=!1){let r=new ha;for(let i of e instanceof b1?[e]:n?ZH(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return ze.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=ze.empty;i=i.nextLayer)n=new ze(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}ze.empty=new ze([],[],null,-1);function ZH(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(w1(e,r)>0)return t.slice().sort(w1);e=r}return t}ze.empty.nextLayer=ze.empty;class ha{finishChunk(e){this.chunks.push(new yS(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new ha)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(ze.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=ze.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function aN(t,e,n){let r=new Map;for(let a of t)for(let l=0;l<a.chunk.length;l++)a.chunk[l].maxPoint<=0&&r.set(a.chunk[l],a.chunkPos[l]);let i=new Set;for(let a of e)for(let l=0;l<a.chunk.length;l++){let o=r.get(a.chunk[l]);o!=null&&(n?n.mapPos(o):o)==a.chunkPos[l]&&!n?.touchesRange(o,o+a.chunk[l].length)&&i.add(a.chunk[l])}return i}class HP{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class nf{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let a=0;a<e.length;a++)for(let l=e[a];!l.isEmpty;l=l.nextLayer)l.maxPoint>=r&&i.push(new HP(l,n,r,a));return i.length==1?i[0]:new nf(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)qv(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)qv(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),qv(this.heap,0)}}}function qv(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class wu{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=nf.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){Dd(this.active,e),Dd(this.activeTo,e),Dd(this.activeRank,e),this.minActive=lN(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:a}=this.cursor;for(;n<this.activeRank.length&&(a-this.activeRank[n]||i-this.activeTo[n])>0;)n++;Pd(this.active,n,r),Pd(this.activeTo,n,i),Pd(this.activeRank,n,a),e&&Pd(e,n,this.cursor.from),this.minActive=lN(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Dd(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let a=this.cursor.value;if(!a.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=a,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=a.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function sN(t,e,n,r,i,a){t.goto(e),n.goto(r);let l=r+i,o=r,u=r-e,h=!!a.boundChange;for(let d=!1;;){let m=t.to+u-n.to,y=m||t.endSide-n.endSide,v=y<0?t.to+u:n.to,b=Math.min(v,l);if(t.point||n.point?(t.point&&n.point&&gS(t.point,n.point)&&S1(t.activeForPoint(t.to),n.activeForPoint(n.to))||a.comparePoint(o,b,t.point,n.point),d=!1):(d&&a.boundChange(o),b>o&&!S1(t.active,n.active)&&a.compareRange(o,b,t.active,n.active),h&&b<l&&(m||t.openEnd(v)!=n.openEnd(v))&&(d=!0)),v>l)break;o=v,y<=0&&t.next(),y>=0&&n.next()}}function S1(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!gS(t[n],e[n]))return!1;return!0}function Dd(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function Pd(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function lN(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function cc(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Xt(t,i));return r}function C1(t,e,n,r){for(let i=0,a=0;;){if(a>=e)return i;if(i==t.length)break;a+=t.charCodeAt(i)==9?n-a%n:1,i=Xt(t,i)}return r===!0?-1:t.length}const O1="",oN=typeof Symbol>"u"?"__"+O1:Symbol.for(O1),k1=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),cN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class xs{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(l){return/^@/.test(l)?[l]:l.split(/,\s*/)}function a(l,o,u,h){let d=[],m=/^@(\w+)\b/.exec(l[0]),y=m&&m[1]=="keyframes";if(m&&o==null)return u.push(l[0]+";");for(let v in o){let b=o[v];if(/&/.test(v))a(v.split(/,\s*/).map(O=>l.map(C=>O.replace(/&/,C))).reduce((O,C)=>O.concat(C)),b,u);else if(b&&typeof b=="object"){if(!m)throw new RangeError("The value of a property ("+v+") should be a primitive value.");a(i(v),b,d,y)}else b!=null&&d.push(v.replace(/_.*/,"").replace(/[A-Z]/g,O=>"-"+O.toLowerCase())+": "+b+";")}(d.length||y)&&u.push((r&&!m&&!h?l.map(r):l).join(", ")+" {"+d.join(" ")+"}")}for(let l in e)a(i(l),e[l],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=cN[oN]||1;return cN[oN]=e+1,O1+e.toString(36)}static mount(e,n,r){let i=e[k1],a=r&&r.nonce;i?a&&i.setNonce(a):i=new JH(e,a),i.mount(Array.isArray(n)?n:[n],e)}}let uN=new Map;class JH{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let a=uN.get(r);if(a)return e[k1]=a;this.sheet=new i.CSSStyleSheet,uN.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[k1]=this}mount(e,n){let r=this.sheet,i=0,a=0;for(let l=0;l<e.length;l++){let o=e[l],u=this.modules.indexOf(o);if(u<a&&u>-1&&(this.modules.splice(u,1),a--,u=-1),u==-1){if(this.modules.splice(a++,0,o),r)for(let h=0;h<o.rules.length;h++)r.insertRule(o.rules[h],i++)}else{for(;a<u;)i+=this.modules[a++].rules.length;i+=o.rules.length,a++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let l="";for(let u=0;u<this.modules.length;u++)l+=this.modules[u].getRules()+`
`;this.styleTag.textContent=l;let o=n.head||n;this.styleTag.parentNode!=o&&o.insertBefore(this.styleTag,o.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var bs={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},rf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},eq=typeof navigator<"u"&&/Mac/.test(navigator.platform),tq=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var mn=0;mn<10;mn++)bs[48+mn]=bs[96+mn]=String(mn);for(var mn=1;mn<=24;mn++)bs[mn+111]="F"+mn;for(var mn=65;mn<=90;mn++)bs[mn]=String.fromCharCode(mn+32),rf[mn]=String.fromCharCode(mn);for(var $v in bs)rf.hasOwnProperty($v)||(rf[$v]=bs[$v]);function nq(t){var e=eq&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||tq&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?rf:bs)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function nt(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)qP(t,arguments[e]);return t}function qP(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)qP(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}let En=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},j1=typeof document<"u"?document:{documentElement:{style:{}}};const A1=/Edge\/(\d+)/.exec(En.userAgent),$P=/MSIE \d/.test(En.userAgent),N1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(En.userAgent),pg=!!($P||N1||A1),fN=!pg&&/gecko\/(\d+)/i.test(En.userAgent),Vv=!pg&&/Chrome\/(\d+)/.exec(En.userAgent),rq="webkitFontSmoothing"in j1.documentElement.style,E1=!pg&&/Apple Computer/.test(En.vendor),hN=E1&&(/Mobile\/\w+/.test(En.userAgent)||En.maxTouchPoints>2);var ge={mac:hN||/Mac/.test(En.platform),windows:/Win/.test(En.platform),linux:/Linux|X11/.test(En.platform),ie:pg,ie_version:$P?j1.documentMode||6:N1?+N1[1]:A1?+A1[1]:0,gecko:fN,gecko_version:fN?+(/Firefox\/(\d+)/.exec(En.userAgent)||[0,0])[1]:0,chrome:!!Vv,chrome_version:Vv?+Vv[1]:0,ios:hN,android:/Android\b/.test(En.userAgent),webkit_version:rq?+(/\bAppleWebKit\/(\d+)/.exec(En.userAgent)||[0,0])[1]:0,safari:E1,safari_version:E1?+(/\bVersion\/(\d+(\.\d+)?)/.exec(En.userAgent)||[0,0])[1]:0,tabSize:j1.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function vS(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const Im=Object.create(null);function xS(t,e,n){if(t==e)return!0;t||(t=Im),e||(e=Im);let r=Object.keys(t),i=Object.keys(e);if(r.length-0!=i.length-0)return!1;for(let a of r)if(a!=n&&(i.indexOf(a)==-1||t[a]!==e[a]))return!1;return!0}function iq(t,e){for(let n=t.attributes.length-1;n>=0;n--){let r=t.attributes[n].name;e[r]==null&&t.removeAttribute(r)}for(let n in e){let r=e[n];n=="style"?t.style.cssText=r:t.getAttribute(n)!=r&&t.setAttribute(n,r)}}function dN(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function aq(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class Bi{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var yn=(function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t})(yn||(yn={}));class ke extends vs{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new $f(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new wl(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:a,end:l}=VP(e,n);r=(a?n?-3e8:-1:5e8)-1,i=(l?n?2e8:1:-6e8)+1}return new wl(e,r,i,n,e.widget||null,!0)}static line(e){return new Vf(e)}static set(e,n=!1){return ze.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ke.none=ze.empty;class $f extends ke{constructor(e){let{start:n,end:r}=VP(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?vS(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||Im}eq(e){return this==e||e instanceof $f&&this.tagName==e.tagName&&xS(this.attrs,e.attrs)}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}$f.prototype.point=!1;class Vf extends ke{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Vf&&this.spec.class==e.spec.class&&xS(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}Vf.prototype.mapMode=Tn.TrackBefore;Vf.prototype.point=!0;class wl extends ke{constructor(e,n,r,i,a,l){super(n,r,a,e),this.block=i,this.isReplace=l,this.mapMode=i?n<=0?Tn.TrackBefore:Tn.TrackAfter:Tn.TrackDel}get type(){return this.startSide!=this.endSide?yn.WidgetRange:this.startSide<=0?yn.WidgetBefore:yn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof wl&&sq(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}wl.prototype.point=!0;function VP(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function sq(t,e){return t==e||!!(t&&e&&t.compare(e))}function Bo(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class af extends vs{constructor(e,n){super(),this.tagName=e,this.attributes=n}eq(e){return e==this||e instanceof af&&this.tagName==e.tagName&&xS(this.attributes,e.attributes)}static create(e){return new af(e.tagName,e.attributes||Im)}static set(e,n=!1){return ze.of(e,n)}}af.prototype.startSide=af.prototype.endSide=-1;function sf(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function T1(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function Fu(t,e){if(!e.anchorNode)return!1;try{return T1(t,e.anchorNode)}catch{return!1}}function Wu(t){return t.nodeType==3?of(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Ku(t,e,n,r){return n?mN(t,e,n,r,-1)||mN(t,e,n,r,1):!1}function ws(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Um(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function mN(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:da(t))){if(t.nodeName=="DIV")return!1;let a=t.parentNode;if(!a||a.nodeType!=1)return!1;e=ws(t)+(i<0?0:1),t=a}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?da(t):0}else return!1}}function da(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function lf(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function lq(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function FP(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function oq(t,e,n,r,i,a,l,o){let u=t.ownerDocument,h=u.defaultView||window;for(let d=t,m=!1;d&&!m;)if(d.nodeType==1){let y,v=d==u.body,b=1,O=1;if(v)y=lq(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(d).position)&&(m=!0),d.scrollHeight<=d.clientHeight&&d.scrollWidth<=d.clientWidth){d=d.assignedSlot||d.parentNode;continue}let N=d.getBoundingClientRect();({scaleX:b,scaleY:O}=FP(d,N)),y={left:N.left,right:N.left+d.clientWidth*b,top:N.top,bottom:N.top+d.clientHeight*O}}let C=0,k=0;if(i=="nearest")e.top<y.top?(k=e.top-(y.top+l),n>0&&e.bottom>y.bottom+k&&(k=e.bottom-y.bottom+l)):e.bottom>y.bottom&&(k=e.bottom-y.bottom+l,n<0&&e.top-k<y.top&&(k=e.top-(y.top+l)));else{let N=e.bottom-e.top,j=y.bottom-y.top;k=(i=="center"&&N<=j?e.top+N/2-j/2:i=="start"||i=="center"&&n<0?e.top-l:e.bottom-j+l)-y.top}if(r=="nearest"?e.left<y.left?(C=e.left-(y.left+a),n>0&&e.right>y.right+C&&(C=e.right-y.right+a)):e.right>y.right&&(C=e.right-y.right+a,n<0&&e.left<y.left+C&&(C=e.left-(y.left+a))):C=(r=="center"?e.left+(e.right-e.left)/2-(y.right-y.left)/2:r=="start"==o?e.left-a:e.right-(y.right-y.left)+a)-y.left,C||k)if(v)h.scrollBy(C,k);else{let N=0,j=0;if(k){let M=d.scrollTop;d.scrollTop+=k/O,j=(d.scrollTop-M)*O}if(C){let M=d.scrollLeft;d.scrollLeft+=C/b,N=(d.scrollLeft-M)*b}e={left:e.left-N,top:e.top-j,right:e.right-N,bottom:e.bottom-j},N&&Math.abs(N-C)<1&&(r="nearest"),j&&Math.abs(j-k)<1&&(i="nearest")}if(v)break;(e.top<y.top||e.bottom>y.bottom||e.left<y.left||e.right>y.right)&&(e={left:Math.max(e.left,y.left),right:Math.min(e.right,y.right),top:Math.max(e.top,y.top),bottom:Math.min(e.bottom,y.bottom)}),d=d.assignedSlot||d.parentNode}else if(d.nodeType==11)d=d.host;else break}function cq(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class uq{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?da(n):0),r,Math.min(e.focusOffset,r?da(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let tl=null;ge.safari&&ge.safari_version>=26&&(tl=!1);function WP(t){if(t.setActive)return t.setActive();if(tl)return t.focus(tl);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(tl==null?{get preventScroll(){return tl={preventScroll:!0},!0}}:void 0),!tl){tl=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],a=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=a&&(r.scrollLeft=a)}}}let pN;function of(t,e,n=e){let r=pN||(pN=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function zo(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let a=new KeyboardEvent("keydown",i);a.synthetic=!0,t.dispatchEvent(a);let l=new KeyboardEvent("keyup",i);return l.synthetic=!0,t.dispatchEvent(l),a.defaultPrevented||l.defaultPrevented}function fq(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function hq(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,da(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=da(n))}else{if(n==t)return!0;r=ws(n),n=n.parentNode}}function KP(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function GP(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=da(n)}else if(n.parentNode&&!Um(n))r=ws(n),n=n.parentNode;else return null}}function YP(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!Um(n))r=ws(n)+1,n=n.parentNode;else return null}}class Jr{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Jr(e.parentNode,ws(e),n)}static after(e,n){return new Jr(e.parentNode,ws(e)+1,n)}}var st=(function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t})(st||(st={}));const Sl=st.LTR,bS=st.RTL;function QP(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const dq=QP("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),mq=QP("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),M1=Object.create(null),hi=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);M1[e]=n,M1[n]=-e}function XP(t){return t<=247?dq[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?mq[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const pq=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Ci{get dir(){return this.level%2?bS:Sl}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let a=-1;for(let l=0;l<e.length;l++){let o=e[l];if(o.from<=n&&o.to>=n){if(o.level==r)return l;(a<0||(i!=0?i<0?o.from<n:o.to>n:e[a].level>o.level))&&(a=l)}}if(a<0)throw new RangeError("Index out of range");return a}}function ZP(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!ZP(r.inner,i.inner))return!1}return!0}const at=[];function gq(t,e,n,r,i){for(let a=0;a<=r.length;a++){let l=a?r[a-1].to:e,o=a<r.length?r[a].from:n,u=a?256:i;for(let h=l,d=u,m=u;h<o;h++){let y=XP(t.charCodeAt(h));y==512?y=d:y==8&&m==4&&(y=16),at[h]=y==4?2:y,y&7&&(m=y),d=y}for(let h=l,d=u,m=u;h<o;h++){let y=at[h];if(y==128)h<o-1&&d==at[h+1]&&d&24?y=at[h]=d:at[h]=256;else if(y==64){let v=h+1;for(;v<o&&at[v]==64;)v++;let b=h&&d==8||v<n&&at[v]==8?m==1?1:8:256;for(let O=h;O<v;O++)at[O]=b;h=v-1}else y==8&&m==1&&(at[h]=1);d=y,y&7&&(m=y)}}}function yq(t,e,n,r,i){let a=i==1?2:1;for(let l=0,o=0,u=0;l<=r.length;l++){let h=l?r[l-1].to:e,d=l<r.length?r[l].from:n;for(let m=h,y,v,b;m<d;m++)if(v=M1[y=t.charCodeAt(m)])if(v<0){for(let O=o-3;O>=0;O-=3)if(hi[O+1]==-v){let C=hi[O+2],k=C&2?i:C&4?C&1?a:i:0;k&&(at[m]=at[hi[O]]=k),o=O;break}}else{if(hi.length==189)break;hi[o++]=m,hi[o++]=y,hi[o++]=u}else if((b=at[m])==2||b==1){let O=b==i;u=O?0:1;for(let C=o-3;C>=0;C-=3){let k=hi[C+2];if(k&2)break;if(O)hi[C+2]|=2;else{if(k&4)break;hi[C+2]|=4}}}}}function vq(t,e,n,r){for(let i=0,a=r;i<=n.length;i++){let l=i?n[i-1].to:t,o=i<n.length?n[i].from:e;for(let u=l;u<o;){let h=at[u];if(h==256){let d=u+1;for(;;)if(d==o){if(i==n.length)break;d=n[i++].to,o=i<n.length?n[i].from:e}else if(at[d]==256)d++;else break;let m=a==1,y=(d<e?at[d]:r)==1,v=m==y?m?1:2:r;for(let b=d,O=i,C=O?n[O-1].to:t;b>u;)b==C&&(b=n[--O].from,C=O?n[O-1].to:t),at[--b]=v;u=d}else a=h,u++}}}function D1(t,e,n,r,i,a,l){let o=r%2?2:1;if(r%2==i%2)for(let u=e,h=0;u<n;){let d=!0,m=!1;if(h==a.length||u<a[h].from){let O=at[u];O!=o&&(d=!1,m=O==16)}let y=!d&&o==1?[]:null,v=d?r:r+1,b=u;e:for(;;)if(h<a.length&&b==a[h].from){if(m)break e;let O=a[h];if(!d)for(let C=O.to,k=h+1;;){if(C==n)break e;if(k<a.length&&a[k].from==C)C=a[k++].to;else{if(at[C]==o)break e;break}}if(h++,y)y.push(O);else{O.from>u&&l.push(new Ci(u,O.from,v));let C=O.direction==Sl!=!(v%2);P1(t,C?r+1:r,i,O.inner,O.from,O.to,l),u=O.to}b=O.to}else{if(b==n||(d?at[b]!=o:at[b]==o))break;b++}y?D1(t,u,b,r+1,i,y,l):u<b&&l.push(new Ci(u,b,v)),u=b}else for(let u=n,h=a.length;u>e;){let d=!0,m=!1;if(!h||u>a[h-1].to){let O=at[u-1];O!=o&&(d=!1,m=O==16)}let y=!d&&o==1?[]:null,v=d?r:r+1,b=u;e:for(;;)if(h&&b==a[h-1].to){if(m)break e;let O=a[--h];if(!d)for(let C=O.from,k=h;;){if(C==e)break e;if(k&&a[k-1].to==C)C=a[--k].from;else{if(at[C-1]==o)break e;break}}if(y)y.push(O);else{O.to<u&&l.push(new Ci(O.to,u,v));let C=O.direction==Sl!=!(v%2);P1(t,C?r+1:r,i,O.inner,O.from,O.to,l),u=O.from}b=O.from}else{if(b==e||(d?at[b-1]!=o:at[b-1]==o))break;b--}y?D1(t,b,u,r+1,i,y,l):b<u&&l.push(new Ci(b,u,v)),u=b}}function P1(t,e,n,r,i,a,l){let o=e%2?2:1;gq(t,i,a,r,o),yq(t,i,a,r,o),vq(i,a,r,o),D1(t,i,a,e,n,r,l)}function xq(t,e,n){if(!t)return[new Ci(0,0,e==bS?1:0)];if(e==Sl&&!n.length&&!pq.test(t))return JP(t.length);if(n.length)for(;t.length>at.length;)at[at.length]=256;let r=[],i=e==Sl?0:1;return P1(t,i,i,n,0,t.length,r),r}function JP(t){return[new Ci(0,t,0)]}let e3="";function bq(t,e,n,r,i){var a;let l=r.head-t.from,o=Ci.find(e,l,(a=r.bidiLevel)!==null&&a!==void 0?a:-1,r.assoc),u=e[o],h=u.side(i,n);if(l==h){let y=o+=i?1:-1;if(y<0||y>=e.length)return null;u=e[o=y],l=u.side(!i,n),h=u.side(i,n)}let d=Xt(t.text,l,u.forward(i,n));(d<u.from||d>u.to)&&(d=h),e3=t.text.slice(Math.min(l,d),Math.max(l,d));let m=o==(i?e.length-1:0)?null:e[o+(i?1:-1)];return m&&d==h&&m.level+(i?0:1)<u.level?oe.cursor(m.side(!i,n)+t.from,m.forward(i,n)?1:-1,m.level):oe.cursor(d+t.from,u.forward(i,n)?-1:1,u.level)}function wq(t,e,n){for(let r=e;r<n;r++){let i=XP(t.charCodeAt(r));if(i==1)return Sl;if(i==2||i==4)return bS}return Sl}const t3=ye.define(),n3=ye.define(),r3=ye.define(),i3=ye.define(),_1=ye.define(),a3=ye.define(),s3=ye.define(),wS=ye.define(),SS=ye.define(),l3=ye.define({combine:t=>t.some(e=>e)}),o3=ye.define({combine:t=>t.some(e=>e)}),c3=ye.define();class Io{constructor(e,n="nearest",r="nearest",i=5,a=5,l=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=a,this.isSnapshot=l}map(e){return e.empty?this:new Io(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Io(oe.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const _d=Me.define({map:(t,e)=>t.map(e)}),u3=Me.define();function Gn(t,e,n){let r=t.facet(i3);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const aa=ye.define({combine:t=>t.length?t[0]:!0});let Sq=0;const Eo=ye.define({combine(t){return t.filter((e,n)=>{for(let r=0;r<n;r++)if(t[r].plugin==e.plugin)return!1;return!0})}});class Tt{constructor(e,n,r,i,a){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=a(this),this.extension=this.baseExtensions.concat(Eo.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Eo.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:a,decorations:l}=n||{};return new Tt(Sq++,e,r,i,o=>{let u=[];return l&&u.push(gg.of(h=>{let d=h.plugin(o);return d?l(d):ke.none})),a&&u.push(a(o)),u})}static fromClass(e,n){return Tt.define((r,i)=>new e(r,i),n)}}class Fv{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(Gn(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){Gn(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){Gn(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const f3=ye.define(),CS=ye.define(),gg=ye.define(),h3=ye.define(),OS=ye.define(),Ff=ye.define(),d3=ye.define();function gN(t,e){let n=t.state.facet(d3);if(!n.length)return n;let r=n.map(a=>a instanceof Function?a(t):a),i=[];return ze.spans(r,e.from,e.to,{point(){},span(a,l,o,u){let h=a-e.from,d=l-e.from,m=i;for(let y=o.length-1;y>=0;y--,u--){let v=o[y].spec.bidiIsolate,b;if(v==null&&(v=wq(e.text,h,d)),u>0&&m.length&&(b=m[m.length-1]).to==h&&b.direction==v)b.to=d,m=b.inner;else{let O={from:h,to:d,direction:v,inner:[]};m.push(O),m=O.inner}}}}),i}const m3=ye.define();function kS(t){let e=0,n=0,r=0,i=0;for(let a of t.state.facet(m3)){let l=a(t);l&&(l.left!=null&&(e=Math.max(e,l.left)),l.right!=null&&(n=Math.max(n,l.right)),l.top!=null&&(r=Math.max(r,l.top)),l.bottom!=null&&(i=Math.max(i,l.bottom)))}return{left:e,right:n,top:r,bottom:i}}const Lu=ye.define();class Rr{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new Rr(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,a=0,l=0;;){let o=i<e.length?e[i].fromB:1e9,u=a<n.length?n[a]:1e9,h=Math.min(o,u);if(h==1e9)break;let d=h+l,m=h,y=d;for(;;)if(a<n.length&&n[a]<=m){let v=n[a+1];a+=2,m=Math.max(m,v);for(let b=i;b<e.length&&e[b].fromB<=m;b++)l=e[b].toA-e[b].toB;y=Math.max(y,v+l)}else if(i<e.length&&e[i].fromB<=m){let v=e[i++];m=Math.max(m,v.toB),y=Math.max(y,v.toA),l=v.toA-v.toB}else break;r.push(new Rr(d,y,h,m))}return r}}class Hm{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Ut.empty(this.startState.doc.length);for(let a of r)this.changes=this.changes.compose(a.changes);let i=[];this.changes.iterChangedRanges((a,l,o,u)=>i.push(new Rr(a,l,o,u))),this.changedRanges=i}static create(e,n,r){return new Hm(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const Cq=[];class Rt{constructor(e,n,r=0){this.dom=e,this.length=n,this.flags=r,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return Cq}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let n=this.domAttrs;n&&iq(this.dom,n)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,n=this.posAtStart){let r=n;for(let i of this.children){if(i==e)return r;r+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,n){return null}domPosFor(e,n){let r=ws(this.dom),i=this.length?e>0:n>0;return new Jr(this.parent.dom,r+(i?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof vg)return e;return null}static get(e){return e.cmTile}}class yg extends Rt{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let n=this.dom,r=null,i,a=e?.node==n?e:null,l=0;for(let o of this.children){if(o.sync(e),l+=o.length+o.breakAfter,i=r?r.nextSibling:n.firstChild,a&&i!=o.dom&&(a.written=!0),o.dom.parentNode==n)for(;i&&i!=o.dom;)i=yN(i);else n.insertBefore(o.dom,i);r=o.dom}for(i=r?r.nextSibling:n.firstChild,a&&i&&(a.written=!0);i;)i=yN(i);this.length=l}}function yN(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class vg extends yg{constructor(e,n){super(n),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let n=Rt.get(e);if(n&&this.owns(n))return n;e=e.parentNode}}blockTiles(e){for(let n=[],r=this,i=0,a=0;;)if(i==r.children.length){if(!n.length)return;r=r.parent,r.breakAfter&&a++,i=n.pop()}else{let l=r.children[i++];if(l instanceof ds)n.push(i),r=l,i=0;else{let o=a+l.length,u=e(l,a);if(u!==void 0)return u;a=o+l.breakAfter}}}resolveBlock(e,n){let r,i=-1,a,l=-1;if(this.blockTiles((o,u)=>{let h=u+o.length;if(e>=u&&e<=h){if(o.isWidget()&&n>=-1&&n<=1){if(o.flags&32)return!0;o.flags&16&&(r=void 0)}(u<e||e==h&&(n<-1?o.length:o.covers(1)))&&(!r||!o.isWidget()&&r.isWidget())&&(r=o,i=e-u),(h>e||e==u&&(n>1?o.length:o.covers(-1)))&&(!a||!o.isWidget()&&a.isWidget())&&(a=o,l=e-u)}}),!r&&!a)throw new Error("No tile at position "+e);return r&&n<0||!a?{tile:r,offset:i}:{tile:a,offset:l}}}class ds extends yg{constructor(e,n){super(e),this.wrapper=n}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,n){let r=new ds(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class Go extends yg{constructor(e,n){super(e),this.attrs=n}isLine(){return!0}static start(e,n,r){let i=new Go(n||document.createElement("div"),e);return(!n||!r)&&(i.flags|=4),i}get domAttrs(){return this.attrs}resolveInline(e,n,r){let i=null,a=-1,l=null,o=-1;function u(d,m){for(let y=0,v=0;y<d.children.length&&v<=m;y++){let b=d.children[y],O=v+b.length;O>=m&&(b.isComposite()?u(b,m-v):(!l||l.isHidden&&(n>0||r&&kq(l,b)))&&(O>m||b.flags&32)?(l=b,o=m-v):(v<m||b.flags&16&&!b.isHidden)&&(i=b,a=m-v)),v=O}}u(this,e);let h=(n<0?i:l)||i||l;return h?{tile:h,offset:h==i?a:o}:null}coordsIn(e,n){let r=this.resolveInline(e,n,!0);return r?r.tile.coordsIn(Math.max(0,r.offset),n):Oq(this)}domIn(e,n){let r=this.resolveInline(e,n);if(r){let{tile:i,offset:a}=r;if(this.dom.contains(i.dom))return i.isText()?new Jr(i.dom,Math.min(i.dom.nodeValue.length,a)):i.domPosFor(a,i.flags&16?1:i.flags&32?-1:n);let l=r.tile.parent,o=!1;for(let u of l.children){if(o)return new Jr(u.dom,0);u==r.tile&&(o=!0)}}return new Jr(this.dom,0)}}function Oq(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=Wu(e);return n[n.length-1]||null}function kq(t,e){let n=t.coordsIn(0,1),r=e.coordsIn(0,1);return n&&r&&r.top<n.bottom}class Wn extends yg{constructor(e,n){super(e),this.mark=n}get domAttrs(){return this.mark.attrs}static of(e,n){let r=new Wn(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class ul extends Rt{constructor(e,n){super(e,n.length),this.text=n}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,n){let r=this.dom.nodeValue.length;e>r&&(e=r);let i=e,a=e,l=0;e==0&&n<0||e==r&&n>=0?ge.chrome||ge.gecko||(e?(i--,l=1):a<r&&(a++,l=-1)):n<0?i--:a<r&&a++;let o=of(this.dom,i,a).getClientRects();if(!o.length)return null;let u=o[(l?l<0:n>=0)?0:o.length-1];return ge.safari&&!l&&u.width==0&&(u=Array.prototype.find.call(o,h=>h.width)||u),l?lf(u,l<0):u||null}static of(e,n){let r=new ul(n||document.createTextNode(e),e);return n||(r.flags|=2),r}}class Cl extends Rt{constructor(e,n,r,i){super(e,n,i),this.widget=r}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,n){return this.coordsInWidget(e,n,!1)}coordsInWidget(e,n,r){let i=this.widget.coordsAt(this.dom,e,n);if(i)return i;if(r)return lf(this.dom.getBoundingClientRect(),this.length?e==0:n<=0);{let a=this.dom.getClientRects(),l=null;if(!a.length)return null;let o=this.flags&16?!0:this.flags&32?!1:e>0;for(let u=o?a.length-1:0;l=a[u],!(e>0?u==0:u==a.length-1||l.top<l.bottom);u+=o?-1:1);return lf(l,!o)}}get overrideDOMText(){if(!this.length)return Ye.empty;let{root:e}=this;if(!e)return Ye.empty;let n=this.posAtStart;return e.view.state.doc.slice(n,n+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,n,r,i,a){return a||(a=e.toDOM(n),e.editable||(a.contentEditable="false")),new Cl(a,r,e,i)}}class qm extends Rt{constructor(e){let n=document.createElement("img");n.className="cm-widgetBuffer",n.setAttribute("aria-hidden","true"),super(n,0,e)}get isHidden(){return!0}get overrideDOMText(){return Ye.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class jq{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,n,r){let{tile:i,index:a,beforeBreak:l,parents:o}=this;for(;e||n>0;)if(i.isComposite())if(l){if(!e)break;r&&r.break(),e--,l=!1}else if(a==i.children.length){if(!e&&!o.length)break;r&&r.leave(i),l=!!i.breakAfter,{tile:i,index:a}=o.pop(),a++}else{let u=i.children[a],h=u.breakAfter;(n>0?u.length<=e:u.length<e)&&(!r||r.skip(u,0,u.length)!==!1||!u.isComposite)?(l=!!h,a++,e-=u.length):(o.push({tile:i,index:a}),i=u,a=0,r&&u.isComposite()&&r.enter(u))}else if(a==i.length)l=!!i.breakAfter,{tile:i,index:a}=o.pop(),a++;else if(e){let u=Math.min(e,i.length-a);r&&r.skip(i,a,a+u),e-=u,a+=u}else break;return this.tile=i,this.index=a,this.beforeBreak=l,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class Aq{constructor(e,n,r,i){this.from=e,this.to=n,this.wrapper=r,this.rank=i}}class Nq{constructor(e,n,r){this.cache=e,this.root=n,this.blockWrappers=r,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,n,r,i){var a;this.flushBuffer();let l=this.ensureMarks(n,r),o=l.lastChild;if(o&&o.isText()&&!(o.flags&8)&&o.length+e.length<512){this.cache.reused.set(o,2);let u=l.children[l.children.length-1]=new ul(o.dom,o.text+e);u.parent=l}else l.append(i||ul.of(e,(a=this.cache.find(ul))===null||a===void 0?void 0:a.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,n){let r=this.curLine;r.dom!=n.line.dom&&(r.setDOM(this.cache.reused.has(n.line)?Wv(n.line.dom):n.line.dom),this.cache.reused.set(n.line,2));let i=r;for(let o=n.marks.length-1;o>=0;o--){let u=n.marks[o],h=i.lastChild;if(h instanceof Wn&&h.mark.eq(u.mark))h.dom!=u.dom&&h.setDOM(Wv(u.dom)),i=h;else{if(this.cache.reused.get(u)){let m=Rt.get(u.dom);m&&m.setDOM(Wv(u.dom))}let d=Wn.of(u.mark,u.dom);i.append(d),i=d}this.cache.reused.set(u,2)}let a=Rt.get(e.text);a&&this.cache.reused.set(a,2);let l=new ul(e.text,e.text.nodeValue);l.flags|=8,i.append(l)}addInlineWidget(e,n,r){let i=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);i||this.flushBuffer();let a=this.ensureMarks(n,r);!i&&!(e.flags&16)&&a.append(this.getBuffer(1)),a.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,n,r){this.flushBuffer(),this.ensureMarks(n,r).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let n=this.afterWidget||this.lastBlock;n.length+=e,this.pos+=e}addLineStart(e,n){var r;e||(e=p3);let i=Go.start(e,n||((r=this.cache.find(Go))===null||r===void 0?void 0:r.dom),!!n);this.getBlockPos().append(this.lastBlock=this.curLine=i)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,n){var r;let i=this.curLine;for(let a=e.length-1;a>=0;a--){let l=e[a],o;if(n>0&&(o=i.lastChild)&&o instanceof Wn&&o.mark.eq(l))i=o,n--;else{let u=Wn.of(l,(r=this.cache.find(Wn,h=>h.mark.eq(l)))===null||r===void 0?void 0:r.dom);i.append(u),i=u,n=0}}return i}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!vN(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(ge.ios&&vN(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(Kv,0,32)||new Cl(Kv.toDOM(),0,Kv,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let n=new Aq(e.from,e.to,e.value,e.rank),r=this.wrappers.length;for(;r>0&&(this.wrappers[r-1].rank-n.rank||this.wrappers[r-1].to-n.to)<0;)r--;this.wrappers.splice(r,0,n)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let n=this.root;for(let r of this.wrappers){let i=n.lastChild;if(r.from<this.pos&&i instanceof ds&&i.wrapper.eq(r.wrapper))n=i;else{let a=ds.of(r.wrapper,(e=this.cache.find(ds,l=>l.wrapper.eq(r.wrapper)))===null||e===void 0?void 0:e.dom);n.append(a),n=a}}return n}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let n=2|(e<0?16:32),r=this.cache.find(qm,void 0,1);return r&&(r.flags=n),r||new qm(n)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class Eq{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:i,lineBreak:a,done:l}=this.cursor.next(this.skipCount);if(this.skipCount=0,l)throw new Error("Ran out of text content when drawing inline views");this.text=i;let o=this.textOff=Math.min(e,i.length);return a?null:i.slice(0,o)}let n=Math.min(this.text.length,this.textOff+e),r=this.text.slice(this.textOff,n);return this.textOff=n,r}}const $m=[Cl,Go,ul,Wn,qm,ds,vg];for(let t=0;t<$m.length;t++)$m[t].bucket=t;class Tq{constructor(e){this.view=e,this.buckets=$m.map(()=>[]),this.index=$m.map(()=>0),this.reused=new Map}add(e){let n=e.constructor.bucket,r=this.buckets[n];r.length<6?r.push(e):r[this.index[n]=(this.index[n]+1)%6]=e}find(e,n,r=2){let i=e.bucket,a=this.buckets[i],l=this.index[i];for(let o=a.length-1;o>=0;o--){let u=(o+l)%a.length,h=a[u];if((!n||n(h))&&!this.reused.has(h))return a.splice(u,1),u<l&&this.index[i]--,this.reused.set(h,r),h}return null}findWidget(e,n,r){let i=this.buckets[0];if(i.length)for(let a=0,l=0;;a++){if(a==i.length){if(l)return null;l=1,a=0}let o=i[a];if(!this.reused.has(o)&&(l==0?o.widget.compare(e):o.widget.constructor==e.constructor&&e.updateDOM(o.dom,this.view)))return i.splice(a,1),a<this.index[0]&&this.index[0]--,o.widget==e&&o.length==n&&(o.flags&497)==r?(this.reused.set(o,1),o):(this.reused.set(o,2),new Cl(o.dom,n,e,o.flags&-498|r))}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,n=2){if(!this.reused.has(e))return this.reused.set(e,n),e.dom}clear(){for(let e=0;e<this.buckets.length;e++)this.buckets[e].length=this.index[e]=0}}class Mq{constructor(e,n,r,i,a){this.view=e,this.decorations=i,this.disallowBlockEffectsFor=a,this.openWidget=!1,this.openMarks=0,this.cache=new Tq(e),this.text=new Eq(e.state.doc),this.builder=new Nq(this.cache,new vg(e,e.contentDOM),ze.iter(r)),this.cache.reused.set(n,2),this.old=new jq(n),this.reuseWalker={skip:(l,o,u)=>{if(this.cache.add(l),l.isComposite())return!1},enter:l=>this.cache.add(l),leave:()=>{},break:()=>{}}}run(e,n){let r=n&&this.getCompositionContext(n.text);for(let i=0,a=0,l=0;;){let o=l<e.length?e[l++]:null,u=o?o.fromA:this.old.root.length;if(u>i){let h=u-i;this.preserve(h,!l,!o),i=u,a+=h}if(!o)break;n&&o.fromA<=n.range.fromA&&o.toA>=n.range.toA?(this.forward(o.fromA,n.range.fromA,n.range.fromA<n.range.toA?1:-1),this.emit(a,n.range.fromB),this.cache.clear(),this.builder.addComposition(n,r),this.text.skip(n.range.toB-n.range.fromB),this.forward(n.range.fromA,o.toA),this.emit(n.range.toB,o.toB)):(this.forward(o.fromA,o.toA),this.emit(a,o.toB)),a=o.toB,i=o.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,n,r){let i=_q(this.old),a=this.openMarks;this.old.advance(e,r?1:-1,{skip:(l,o,u)=>{if(l.isWidget())if(this.openWidget)this.builder.continueWidget(u-o);else{let h=u>0||o<l.length?Cl.of(l.widget,this.view,u-o,l.flags&496,this.cache.maybeReuse(l)):this.cache.reuse(l);h.flags&256?(h.flags&=-2,this.builder.addBlockWidget(h)):(this.builder.ensureLine(null),this.builder.addInlineWidget(h,i,a),a=i.length)}else if(l.isText())this.builder.ensureLine(null),!o&&u==l.length?this.builder.addText(l.text,i,a,this.cache.reuse(l)):(this.cache.add(l),this.builder.addText(l.text.slice(o,u),i,a)),a=i.length;else if(l.isLine())l.flags&=-2,this.cache.reused.set(l,1),this.builder.addLine(l);else if(l instanceof qm)this.cache.add(l);else if(l instanceof Wn)this.builder.ensureLine(null),this.builder.addMark(l,i,a),this.cache.reused.set(l,1),a=i.length;else return!1;this.openWidget=!1},enter:l=>{l.isLine()?this.builder.addLineStart(l.attrs,this.cache.maybeReuse(l)):(this.cache.add(l),l instanceof Wn&&i.unshift(l.mark)),this.openWidget=!1},leave:l=>{l.isLine()?i.length&&(i.length=a=0):l instanceof Wn&&(i.shift(),a=Math.min(a,i.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,n){let r=null,i=this.builder,a=0,l=ze.spans(this.decorations,e,n,{point:(o,u,h,d,m,y)=>{if(h instanceof wl){if(this.disallowBlockEffectsFor[y]){if(h.block)throw new RangeError("Block decorations may not be specified via plugins");if(u>this.view.state.doc.lineAt(o).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(a=d.length,m>d.length)i.continueWidget(u-o);else{let v=h.widget||(h.block?Yo.block:Yo.inline),b=Dq(h),O=this.cache.findWidget(v,u-o,b)||Cl.of(v,this.view,u-o,b);h.block?(h.startSide>0&&i.addLineStartIfNotCovered(r),i.addBlockWidget(O)):(i.ensureLine(r),i.addInlineWidget(O,d,m))}r=null}else r=Pq(r,h);u>o&&this.text.skip(u-o)},span:(o,u,h,d)=>{for(let m=o;m<u;){let y=this.text.next(Math.min(512,u-m));y==null?(i.addLineStartIfNotCovered(r),i.addBreak(),m++):(i.ensureLine(r),i.addText(y,h,m==o?d:h.length),m+=y.length),r=null}}});i.addLineStartIfNotCovered(r),this.openWidget=l>a,this.openMarks=l}forward(e,n,r=1){n-e<=10?this.old.advance(n-e,r,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(n-e-10,-1),this.old.advance(5,r,this.reuseWalker))}getCompositionContext(e){let n=[],r=null;for(let i=e.parentNode;;i=i.parentNode){let a=Rt.get(i);if(i==this.view.contentDOM)break;a instanceof Wn?n.push(a):a?.isLine()?r=a:i.nodeName=="DIV"&&!r&&i!=this.view.contentDOM?r=new Go(i,p3):n.push(Wn.of(new $f({tagName:i.nodeName.toLowerCase(),attributes:aq(i)}),i))}return{line:r,marks:n}}}function vN(t,e){let n=r=>{for(let i of r.children)if((e?i.isText():i.length)||n(i))return!0;return!1};return n(t)}function Dq(t){let e=t.isReplace?(t.startSide<0?64:0)|(t.endSide>0?128:0):t.startSide>0?32:16;return t.block&&(e|=256),e}const p3={class:"cm-line"};function Pq(t,e){let n=e.spec.attributes,r=e.spec.class;return!n&&!r||(t||(t={class:"cm-line"}),n&&vS(n,t),r&&(t.class+=" "+r)),t}function _q(t){let e=[];for(let n=t.parents.length;n>1;n--){let r=n==t.parents.length?t.tile:t.parents[n].tile;r instanceof Wn&&e.push(r.mark)}return e}function Wv(t){let e=Rt.get(t);return e&&e.setDOM(t.cloneNode()),t}class Yo extends Bi{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Yo.inline=new Yo("span");Yo.block=new Yo("div");const Kv=new class extends Bi{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class xN{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=ke.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new vg(e,e.contentDOM),this.updateInner([new Rr(0,0,0,e.state.doc.length)],null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:d,toA:m})=>m<this.minWidthFrom||d>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!$q(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let a=i>-1?Lq(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){let{from:d,to:m}=this.hasComposition;r=new Rr(d,m,e.changes.mapPos(d,-1),e.changes.mapPos(m,1)).addToSet(r.slice())}this.hasComposition=a?{from:a.range.fromB,to:a.range.toB}:null,(ge.ie||ge.chrome)&&!a&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let l=this.decorations,o=this.blockWrappers;this.updateDeco();let u=Iq(l,this.decorations,e.changes);u.length&&(r=Rr.extendWithRanges(r,u));let h=Hq(o,this.blockWrappers,e.changes);return h.length&&(r=Rr.extendWithRanges(r,h)),a&&!r.some(d=>d.fromA<=a.range.fromA&&d.toA>=a.range.toA)&&(r=a.range.addToSet(r.slice())),this.tile.flags&2&&r.length==0?!1:(this.updateInner(r,a),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n){this.view.viewState.mustMeasureContent=!0;let{observer:r}=this.view;r.ignore(()=>{if(n||e.length){let l=this.tile,o=new Mq(this.view,l,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=o.run(e,n),R1(l,o.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=ge.chrome||ge.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(a),a&&(a.written||r.selectionRange.focusNode!=a.node||!this.tile.dom.contains(a.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.tile.children)a.isWidget()&&a.widget instanceof Gv&&i.push(a.dom);r.updateGaps(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(u3)&&(this.editContextFormatting=r.value)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:r}=this.tile,i=this.view.root.activeElement,a=i==r,l=!a&&!(this.view.state.facet(aa)||r.tabIndex>-1)&&Fu(r,this.view.observer.selectionRange)&&!(i&&r.contains(i));if(!(a||n||l))return;let o=this.forceSelection;this.forceSelection=!1;let u=this.view.state.selection.main,h,d;if(u.empty?d=h=this.inlineDOMNearPos(u.anchor,u.assoc||1):(d=this.inlineDOMNearPos(u.head,u.head==u.from?1:-1),h=this.inlineDOMNearPos(u.anchor,u.anchor==u.from?1:-1)),ge.gecko&&u.empty&&!this.hasComposition&&Rq(h)){let y=document.createTextNode("");this.view.observer.ignore(()=>h.node.insertBefore(y,h.node.childNodes[h.offset]||null)),h=d=new Jr(y,0),o=!0}let m=this.view.observer.selectionRange;(o||!m.focusNode||(!Ku(h.node,h.offset,m.anchorNode,m.anchorOffset)||!Ku(d.node,d.offset,m.focusNode,m.focusOffset))&&!this.suppressWidgetCursorChange(m,u))&&(this.view.observer.ignore(()=>{ge.android&&ge.chrome&&r.contains(m.focusNode)&&qq(m.focusNode,r)&&(r.blur(),r.focus({preventScroll:!0}));let y=sf(this.view.root);if(y)if(u.empty){if(ge.gecko){let v=Bq(h.node,h.offset);if(v&&v!=3){let b=(v==1?GP:YP)(h.node,h.offset);b&&(h=new Jr(b.node,b.offset))}}y.collapse(h.node,h.offset),u.bidiLevel!=null&&y.caretBidiLevel!==void 0&&(y.caretBidiLevel=u.bidiLevel)}else if(y.extend){y.collapse(h.node,h.offset);try{y.extend(d.node,d.offset)}catch{}}else{let v=document.createRange();u.anchor>u.head&&([h,d]=[d,h]),v.setEnd(d.node,d.offset),v.setStart(h.node,h.offset),y.removeAllRanges(),y.addRange(v)}l&&this.view.root.activeElement==r&&(r.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(h,d)),this.impreciseAnchor=h.precise?null:new Jr(m.anchorNode,m.anchorOffset),this.impreciseHead=d.precise?null:new Jr(m.focusNode,m.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&Ku(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=sf(e.root),{anchorNode:i,anchorOffset:a}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let l=this.lineAt(n.head,n.assoc);if(!l)return;let o=l.posAtStart;if(n.head==o||n.head==o+l.length)return;let u=this.coordsAt(n.head,-1),h=this.coordsAt(n.head,1);if(!u||!h||u.bottom>h.top)return;let d=this.domAtPos(n.head+n.assoc,n.assoc);r.collapse(d.node,d.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let m=e.observer.selectionRange;e.docView.posFromDOM(m.anchorNode,m.anchorOffset)!=n.from&&r.collapse(i,a)}posFromDOM(e,n){let r=this.tile.nearest(e);if(!r)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let i=r.posAtStart;if(r.isComposite()){let a;if(e==r.dom)a=r.dom.childNodes[n];else{let l=da(e)==0?0:n==0?-1:1;for(;;){let o=e.parentNode;if(o==r.dom)break;l==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?l=-1:l=1),e=o}l<0?a=e:a=e.nextSibling}if(a==r.dom.firstChild)return i;for(;a&&!Rt.get(a);)a=a.nextSibling;if(!a)return i+r.length;for(let l=0,o=i;;l++){let u=r.children[l];if(u.dom==a)return o;o+=u.length+u.breakAfter}}else return r.isText()?e==r.dom?i+n:i+(n?r.length:0):i}domAtPos(e,n){let{tile:r,offset:i}=this.tile.resolveBlock(e,n);return r.isWidget()?r.domPosFor(e,n):r.domIn(i,n)}inlineDOMNearPos(e,n){let r,i=-1,a=!1,l,o=-1,u=!1;return this.tile.blockTiles((h,d)=>{if(h.isWidget()){if(h.flags&32&&d>=e)return!0;h.flags&16&&(a=!0)}else{let m=d+h.length;if(d<=e&&(r=h,i=e-d,a=m<e),m>=e&&!l&&(l=h,o=e-d,u=d>e),d>e&&l)return!0}}),!r&&!l?this.domAtPos(e,n):(a&&l?r=null:u&&r&&(l=null),r&&n<0||!l?r.domIn(i,n):l.domIn(o,n))}coordsAt(e,n){let{tile:r,offset:i}=this.tile.resolveBlock(e,n);return r.isWidget()?r.widget instanceof Gv?null:r.coordsInWidget(i,n,!0):r.coordsIn(i,n)}lineAt(e,n){let{tile:r}=this.tile.resolveBlock(e,n);return r.isLine()?r:null}coordsForChar(e){let{tile:n,offset:r}=this.tile.resolveBlock(e,1);if(!n.isLine())return null;function i(a,l){if(a.isComposite())for(let o of a.children){if(o.length>=l){let u=i(o,l);if(u)return u}if(l-=o.length,l<0)break}else if(a.isText()&&l<a.length){let o=Xt(a.text,l);if(o==l)return null;let u=of(a.dom,l,o).getClientRects();for(let h=0;h<u.length;h++){let d=u[h];if(h==u.length-1||d.top<d.bottom&&d.left<d.right)return d}}return null}return i(n,r)}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,a=this.view.contentDOM.clientWidth,l=a>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,u=this.view.textDirection==st.LTR,h=0,d=(m,y,v)=>{for(let b=0;b<m.children.length&&!(y>i);b++){let O=m.children[b],C=y+O.length,k=O.dom.getBoundingClientRect(),{height:N}=k;if(v&&!b&&(h+=k.top-v.top),O instanceof ds)C>r&&d(O,y,k);else if(y>=r&&(h>0&&n.push(-h),n.push(N+h),h=0,l)){let j=O.dom.lastChild,M=j?Wu(j):[];if(M.length){let D=M[M.length-1],T=u?D.right-k.left:k.right-D.left;T>o&&(o=T,this.minWidth=a,this.minWidthFrom=y,this.minWidthTo=C)}}v&&b==m.children.length-1&&(h+=v.bottom-k.bottom),y=C+O.breakAfter}};return d(this.tile,0,null),n}textDirectionAt(e){let{tile:n}=this.tile.resolveBlock(e,1);return getComputedStyle(n.dom).direction=="rtl"?st.RTL:st.LTR}measureTextSize(){let e=this.tile.blockTiles(l=>{if(l.isLine()&&l.children.length&&l.length<=20){let o=0,u;for(let h of l.children){if(!h.isText()||/[^ -~]/.test(h.text))return;let d=Wu(h.dom);if(d.length!=1)return;o+=d[0].width,u=d[0].height}if(o)return{lineHeight:l.dom.getBoundingClientRect().height,charWidth:o/l.length,textHeight:u}}});if(e)return e;let n=document.createElement("div"),r,i,a;return n.className="cm-line",n.style.width="99999px",n.style.position="absolute",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(n);let l=Wu(n.firstChild)[0];r=n.getBoundingClientRect().height,i=l&&l.width?l.width/27:7,a=l&&l.height?l.height:r,n.remove()}),{lineHeight:r,charWidth:i,textHeight:a}}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let a=i==n.viewports.length?null:n.viewports[i],l=a?a.from-1:this.view.state.doc.length;if(l>r){let o=(n.lineBlockAt(l).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(ke.replace({widget:new Gv(o),block:!0,inclusive:!0,isBlockGap:!0}).range(r,l))}if(!a)break;r=a.to+1}return ke.set(e)}updateDeco(){let e=1,n=this.view.state.facet(gg).map(a=>(this.dynamicDecorationMap[e++]=typeof a=="function")?a(this.view):a),r=!1,i=this.view.state.facet(OS).map((a,l)=>{let o=typeof a=="function";return o&&(r=!0),o?a(this.view):a});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(ze.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(h3).map(a=>typeof a=="function"?a(this.view):a)}scrollIntoView(e){if(e.isSnapshot){let h=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=h.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let h of this.view.state.facet(c3))try{if(h(this.view,e.range,e))return!0}catch(d){Gn(this.view.state,d,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let a=kS(this.view),l={left:r.left-a.left,top:r.top-a.top,right:r.right+a.right,bottom:r.bottom+a.bottom},{offsetWidth:o,offsetHeight:u}=this.view.scrollDOM;oq(this.view.scrollDOM,l,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,o),-o),Math.max(Math.min(e.yMargin,u),-u),this.view.textDirection==st.LTR)}lineHasWidget(e){let n=r=>r.isWidget()||r.children.some(n);return n(this.tile.resolveBlock(e,1).tile)}destroy(){R1(this.tile)}}function R1(t,e){let n=e?.get(t);if(n!=1){n==null&&t.destroy();for(let r of t.children)R1(r,e)}}function Rq(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function g3(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=GP(n.focusNode,n.focusOffset),i=YP(n.focusNode,n.focusOffset),a=r||i;if(i&&r&&i.node!=r.node){let o=Rt.get(i.node);if(!o||o.isText()&&o.text!=i.node.nodeValue)a=i;else if(t.docView.lastCompositionAfterCursor){let u=Rt.get(r.node);!u||u.isText()&&u.text!=r.node.nodeValue||(a=i)}}if(t.docView.lastCompositionAfterCursor=a!=r,!a)return null;let l=e-a.offset;return{from:l,to:l+a.node.nodeValue.length,node:a.node}}function Lq(t,e,n){let r=g3(t,n);if(!r)return null;let{node:i,from:a,to:l}=r,o=i.nodeValue;if(/[\n\r]/.test(o)||t.state.doc.sliceString(r.from,r.to)!=o)return null;let u=e.invertedDesc;return{range:new Rr(u.mapPos(a),u.mapPos(l),a,l),text:i}}function Bq(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let zq=class{constructor(){this.changes=[]}compareRange(e,n){Bo(e,n,this.changes)}comparePoint(e,n){Bo(e,n,this.changes)}boundChange(e){Bo(e,e,this.changes)}};function Iq(t,e,n){let r=new zq;return ze.compare(t,e,n,r),r.changes}class Uq{constructor(){this.changes=[]}compareRange(e,n){Bo(e,n,this.changes)}comparePoint(){}boundChange(e){Bo(e,e,this.changes)}}function Hq(t,e,n){let r=new Uq;return ze.compare(t,e,n,r),r.changes}function qq(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function $q(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}class Gv extends Bi{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function Vq(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),a=e-i.from;if(i.length==0)return oe.cursor(e);a==0?n=1:a==i.length&&(n=-1);let l=a,o=a;n<0?l=Xt(i.text,a,!1):o=Xt(i.text,a);let u=r(i.text.slice(l,o));for(;l>0;){let h=Xt(i.text,l,!1);if(r(i.text.slice(h,l))!=u)break;l=h}for(;o<i.length;){let h=Xt(i.text,o);if(r(i.text.slice(o,h))!=u)break;o=h}return oe.range(l+i.from,o+i.from)}function Fq(t,e,n,r,i){let a=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let o=t.viewState.heightOracle.textHeight,u=Math.floor((i-n.top-(t.defaultLineHeight-o)*.5)/o);a+=u*t.viewState.heightOracle.lineLength}let l=t.state.sliceDoc(n.from,n.to);return n.from+C1(l,a,t.state.tabSize)}function L1(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let a of r.type){if(a.from>e)break;if(!(a.to<e)){if(a.from<e&&a.to>e)return a;(!i||a.type==yn.Text&&(i.type!=a.type||(n<0?a.from<e:a.to>e)))&&(i=a)}}return i||r}return r}function Wq(t,e,n,r){let i=L1(t,e.head,e.assoc||-1),a=!r||i.type!=yn.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(a){let l=t.dom.getBoundingClientRect(),o=t.textDirectionAt(i.from),u=t.posAtCoords({x:n==(o==st.LTR)?l.right-1:l.left+1,y:(a.top+a.bottom)/2});if(u!=null)return oe.cursor(u,n?-1:1)}return oe.cursor(n?i.to:i.from,n?-1:1)}function bN(t,e,n,r){let i=t.state.doc.lineAt(e.head),a=t.bidiSpans(i),l=t.textDirectionAt(i.from);for(let o=e,u=null;;){let h=bq(i,a,l,o,n),d=e3;if(!h){if(i.number==(n?t.state.doc.lines:1))return o;d=`
`,i=t.state.doc.line(i.number+(n?1:-1)),a=t.bidiSpans(i),h=t.visualLineSide(i,!n)}if(u){if(!u(d))return o}else{if(!r)return h;u=r(d)}o=h}}function Kq(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return a=>{let l=r(a);return i==gt.Space&&(i=l),i==l}}function Gq(t,e,n,r){let i=e.head,a=n?1:-1;if(i==(n?t.state.doc.length:0))return oe.cursor(i,e.assoc);let l=e.goalColumn,o,u=t.contentDOM.getBoundingClientRect(),h=t.coordsAtPos(i,(e.empty?e.assoc:0)||(n?1:-1)),d=t.documentTop;if(h)l==null&&(l=h.left-u.left),o=a<0?h.top:h.bottom;else{let b=t.viewState.lineBlockAt(i);l==null&&(l=Math.min(u.right-u.left,t.defaultCharacterWidth*(i-b.from))),o=(a<0?b.top:b.bottom)+d}let m=u.left+l,y=r??t.viewState.heightOracle.textHeight>>1,v=B1(t,{x:m,y:o+y*a},!1,a);return oe.cursor(v.pos,v.assoc,void 0,l)}function Gu(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(a,l,o)=>{if(e>a&&e<l){let u=r||n||(e-a<l-e?-1:1);e=u<0?a:l,r=u}});if(!r)return e}}function y3(t,e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],a=null;if(i.empty){let l=Gu(t,i.from,0);l!=i.from&&(a=oe.cursor(l,-1))}else{let l=Gu(t,i.from,-1),o=Gu(t,i.to,1);(l!=i.from||o!=i.to)&&(a=oe.range(i.from==i.anchor?l:o,i.from==i.head?l:o))}a&&(n||(n=e.ranges.slice()),n[r]=a)}return n?oe.create(n,e.mainIndex):e}function Yv(t,e,n){let r=Gu(t.state.facet(Ff).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:oe.cursor(r,r<n.from?1:-1)}class Si{constructor(e,n){this.pos=e,this.assoc=n}}function B1(t,e,n,r){let i=t.contentDOM.getBoundingClientRect(),a=i.top+t.viewState.paddingTop,{x:l,y:o}=e,u=o-a,h;for(;;){if(u<0)return new Si(0,1);if(u>t.viewState.docHeight)return new Si(t.state.doc.length,-1);if(h=t.elementAtHeight(u),r==null)break;if(h.type==yn.Text){if(r<0?h.to<t.viewport.from:h.from>t.viewport.to)break;let y=t.docView.coordsAt(r<0?h.from:h.to,r>0?-1:1);if(y&&(r<0?y.top<=u+a:y.bottom>=u+a))break}let m=t.viewState.heightOracle.textHeight/2;u=r>0?h.bottom+m:h.top-m}if(t.viewport.from>=h.to||t.viewport.to<=h.from){if(n)return null;if(h.type==yn.Text){let m=Fq(t,i,h,l,o);return new Si(m,m==h.from?1:-1)}}if(h.type!=yn.Text)return u<(h.top+h.bottom)/2?new Si(h.from,1):new Si(h.to,-1);let d=t.docView.lineAt(h.from,2);return(!d||d.length!=h.length)&&(d=t.docView.lineAt(h.from,-2)),new Yq(t,l,o,t.textDirectionAt(h.from)).scanTile(d,h.from)}class Yq{constructor(e,n,r,i){this.view=e,this.x=n,this.y=r,this.baseDir=i,this.line=null,this.spans=null}bidiSpansAt(e){return(!this.line||this.line.from>e||this.line.to<e)&&(this.line=this.view.state.doc.lineAt(e),this.spans=this.view.bidiSpans(this.line)),this}baseDirAt(e,n){let{line:r,spans:i}=this.bidiSpansAt(e);return i[Ci.find(i,e-r.from,-1,n)].level==this.baseDir}dirAt(e,n){let{line:r,spans:i}=this.bidiSpansAt(e);return i[Ci.find(i,e-r.from,-1,n)].dir}bidiIn(e,n){let{spans:r,line:i}=this.bidiSpansAt(e);return r.length>1||r.length&&(r[0].level!=this.baseDir||r[0].to+i.from<n)}scan(e,n){let r=0,i=e.length-1,a=new Set,l=this.bidiIn(e[0],e[i]),o,u,h=-1,d=1e9,m;e:for(;r<i;){let v=i-r,b=r+i>>1;t:if(a.has(b)){let C=r+Math.floor(Math.random()*v);for(let k=0;k<v;k++){if(!a.has(C)){b=C;break t}C++,C==i&&(C=r)}break e}a.add(b);let O=n(b);if(O)for(let C=0;C<O.length;C++){let k=O[C],N=0;if(k.bottom<this.y)(!o||o.bottom<k.bottom)&&(o=k),N=1;else if(k.top>this.y)(!u||u.top>k.top)&&(u=k),N=-1;else{let j=k.left>this.x?this.x-k.left:k.right<this.x?this.x-k.right:0,M=Math.abs(j);M<d&&(h=b,d=M,m=k),j&&(N=j<0==(this.baseDir==st.LTR)?-1:1)}N==-1&&(!l||this.baseDirAt(e[b],1))?i=b:N==1&&(!l||this.baseDirAt(e[b+1],-1))&&(r=b+1)}}if(!m){let v=o&&(!u||this.y-o.bottom<u.top-this.y)?o:u;return this.y=(v.top+v.bottom)/2,this.scan(e,n)}let y=(l?this.dirAt(e[h],1):this.baseDir)==st.LTR;return{i:h,after:this.x>(m.left+m.right)/2==y}}scanText(e,n){let r=[];for(let a=0;a<e.length;a=Xt(e.text,a))r.push(n+a);r.push(n+e.length);let i=this.scan(r,a=>{let l=r[a]-n,o=r[a+1]-n;return of(e.dom,l,o).getClientRects()});return i.after?new Si(r[i.i+1],-1):new Si(r[i.i],1)}scanTile(e,n){if(!e.length)return new Si(n,1);if(e.children.length==1){let o=e.children[0];if(o.isText())return this.scanText(o,n);if(o.isComposite())return this.scanTile(o,n)}let r=[n];for(let o=0,u=n;o<e.children.length;o++)r.push(u+=e.children[o].length);let i=this.scan(r,o=>{let u=e.children[o];return u.flags&48?null:(u.dom.nodeType==1?u.dom:of(u.dom,0,u.length)).getClientRects()}),a=e.children[i.i],l=r[i.i];return a.isText()?this.scanText(a,l):a.isComposite()?this.scanTile(a,l):i.after?new Si(r[i.i+1],-1):new Si(l,1)}}const Bu="";class Qq{constructor(e,n){this.points=e,this.view=n,this.text="",this.lineSeparator=n.state.facet(qe.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Bu}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let a=this.text.length;this.readNode(i);let l=Rt.get(i),o=i.nextSibling;if(o==n){l?.breakAfter&&!o&&r!=this.view.contentDOM&&this.lineBreak();break}let u=Rt.get(o);(l&&u?l.breakAfter:(l?l.breakAfter:Um(i))||Um(o)&&(i.nodeName!="BR"||l?.isWidget())&&this.text.length>a)&&!Zq(o,n)&&this.lineBreak(),i=o}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let a=-1,l=1,o;if(this.lineSeparator?(a=n.indexOf(this.lineSeparator,r),l=this.lineSeparator.length):(o=i.exec(n))&&(a=o.index,l=o[0].length),this.append(n.slice(r,a<0?n.length:a)),a<0)break;if(this.lineBreak(),l>1)for(let u of this.points)u.node==e&&u.pos>this.text.length&&(u.pos-=l-1);r=a+l}}readNode(e){let n=Rt.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(Xq(e,r.node,r.offset)?n:0))}}function Xq(t,e,n){for(;;){if(!e||n<da(e))return!1;if(e==t)return!0;n=ws(e)+1,e=e.parentNode}}function Zq(t,e){let n;for(;!(t==e||!t);t=t.nextSibling){let r=Rt.get(t);if(!r?.isWidget())return!1;r&&(n||(n=[])).push(r)}if(n)for(let r of n){let i=r.overrideDOMText;if(i?.length)return!1}return!0}class wN{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class Jq{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:a,impreciseAnchor:l}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=v3(e.docView.tile,n,r,0))){let o=a||l?[]:t$(e),u=new Qq(o,e);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=n$(o,this.bounds.from)}else{let o=e.observer.selectionRange,u=a&&a.node==o.focusNode&&a.offset==o.focusOffset||!T1(e.contentDOM,o.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(o.focusNode,o.focusOffset),h=l&&l.node==o.anchorNode&&l.offset==o.anchorOffset||!T1(e.contentDOM,o.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(o.anchorNode,o.anchorOffset),d=e.viewport;if((ge.ios||ge.chrome)&&e.state.selection.main.empty&&u!=h&&(d.from>0||d.to<e.state.doc.length)){let m=Math.min(u,h),y=Math.max(u,h),v=d.from-m,b=d.to-y;(v==0||v==1||m==0)&&(b==0||b==-1||y==e.state.doc.length)&&(u=0,h=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(oe.range(h,u)):this.newSel=oe.single(h,u)}}}function v3(t,e,n,r){if(t.isComposite()){let i=-1,a=-1,l=-1,o=-1;for(let u=0,h=r,d=r;u<t.children.length;u++){let m=t.children[u],y=h+m.length;if(h<e&&y>n)return v3(m,e,n,h);if(y>=e&&i==-1&&(i=u,a=h),h>n&&m.dom.parentNode==t.dom){l=u,o=d;break}d=y,h=y+m.breakAfter}return{from:a,to:o<0?r+t.length:o,startDOM:(i?t.children[i-1].dom.nextSibling:null)||t.dom.firstChild,endDOM:l<t.children.length&&l>=0?t.children[l].dom:null}}else return t.isText()?{from:r,to:r+t.length,startDOM:t.dom,endDOM:t.dom.nextSibling}:null}function x3(t,e){let n,{newSel:r}=e,i=t.state.selection.main,a=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:l,to:o}=e.bounds,u=i.from,h=null;(a===8||ge.android&&e.text.length<o-l)&&(u=i.to,h="end");let d=b3(t.state.doc.sliceString(l,o,Bu),e.text,u-l,h);d&&(ge.chrome&&a==13&&d.toB==d.from+2&&e.text.slice(d.from,d.toB)==Bu+Bu&&d.toB--,n={from:l+d.from,to:l+d.toA,insert:Ye.of(e.text.slice(d.from,d.toB).split(Bu))})}else r&&(!t.hasFocus&&t.state.facet(aa)||Vm(r,i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(ge.mac||ge.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=oe.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:Ye.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:t.state.doc.lineAt(i.from).to<i.to&&t.docView.lineHasWidget(i.to)&&t.inputState.insertingTextAt>Date.now()-50?n={from:i.from,to:i.to,insert:t.state.toText(t.inputState.insertingText)}:ge.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=oe.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Ye.of([" "])}),n)return jS(t,n,r,a);if(r&&!Vm(r,i)){let l=!1,o="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(l=!0),o=t.inputState.lastSelectionOrigin,o=="select.pointer"&&(r=y3(t.state.facet(Ff).map(u=>u(t)),r))),t.dispatch({selection:r,scrollIntoView:l,userEvent:o}),!0}else return!1}function jS(t,e,n,r=-1){if(ge.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(ge.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&zo(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&zo(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&zo(t.contentDOM,"Delete",46)))return!0;let a=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let l,o=()=>l||(l=e$(t,e,n));return t.state.facet(a3).some(u=>u(t,e.from,e.to,a,o))||t.dispatch(o()),!0}function e$(t,e,n){let r,i=t.state,a=i.selection.main,l=-1;if(e.from==e.to&&e.from<a.from||e.from>a.to){let u=e.from<a.from?-1:1,h=u<0?a.from:a.to,d=Gu(i.facet(Ff).map(m=>m(t)),h,u);e.from==d&&(l=d)}if(l>-1)r={changes:e,selection:oe.cursor(e.from+e.insert.length,-1)};else if(e.from>=a.from&&e.to<=a.to&&e.to-e.from>=(a.to-a.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let u=a.from<e.from?i.sliceDoc(a.from,e.from):"",h=a.to>e.to?i.sliceDoc(e.to,a.to):"";r=i.replaceSelection(t.state.toText(u+e.insert.sliceString(0,void 0,t.state.lineBreak)+h))}else{let u=i.changes(e),h=n&&n.main.to<=u.newLength?n.main:void 0;if(i.selection.ranges.length>1&&(t.inputState.composing>=0||t.inputState.compositionPendingChange)&&e.to<=a.to+10&&e.to>=a.to-10){let d=t.state.sliceDoc(e.from,e.to),m,y=n&&g3(t,n.main.head);if(y){let b=e.insert.length-(e.to-e.from);m={from:y.from,to:y.to-b}}else m=t.state.doc.lineAt(a.head);let v=a.to-e.to;r=i.changeByRange(b=>{if(b.from==a.from&&b.to==a.to)return{changes:u,range:h||b.map(u)};let O=b.to-v,C=O-d.length;if(t.state.sliceDoc(C,O)!=d||O>=m.from&&C<=m.to)return{range:b};let k=i.changes({from:C,to:O,insert:e.insert}),N=b.to-a.to;return{changes:k,range:h?oe.range(Math.max(0,h.anchor+N),Math.max(0,h.head+N)):b.map(k)}})}else r={changes:u,selection:h&&i.selection.replaceRange(h)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:o,scrollIntoView:!0})}function b3(t,e,n,r){let i=Math.min(t.length,e.length),a=0;for(;a<i&&t.charCodeAt(a)==e.charCodeAt(a);)a++;if(a==i&&t.length==e.length)return null;let l=t.length,o=e.length;for(;l>0&&o>0&&t.charCodeAt(l-1)==e.charCodeAt(o-1);)l--,o--;if(r=="end"){let u=Math.max(0,a-Math.min(l,o));n-=l+u-a}if(l<a&&t.length<e.length){let u=n<=a&&n>=l?a-n:0;a-=u,o=a+(o-l),l=a}else if(o<a){let u=n<=a&&n>=o?a-n:0;a-=u,l=a+(l-o),o=a}return{from:a,toA:l,toB:o}}function t$(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a}=t.observer.selectionRange;return n&&(e.push(new wN(n,r)),(i!=n||a!=r)&&e.push(new wN(i,a))),e}function n$(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?oe.single(n+e,r+e):null}function Vm(t,e){return e.head==t.main.head&&e.anchor==t.main.anchor}class r${setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ge.safari&&e.contentDOM.addEventListener("input",()=>null),ge.gecko&&v$(e.contentDOM.ownerDocument)}handleEvent(e){!f$(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=i$(e),r=this.handlers,i=this.view.contentDOM;for(let a in n)if(a!="scroll"){let l=!n[a].handlers.length,o=r[a];o&&l!=!o.handlers.length&&(i.removeEventListener(a,this.handleEvent),o=null),o||i.addEventListener(a,this.handleEvent,{passive:l})}for(let a in r)a!="scroll"&&!n[a]&&i.removeEventListener(a,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&S3.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ge.android&&ge.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return ge.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=w3.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||a$.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,zo(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:ge.safari&&!ge.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function SN(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){Gn(n.state,i)}}}function i$(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec,a=i&&i.plugin.domEventHandlers,l=i&&i.plugin.domEventObservers;if(a)for(let o in a){let u=a[o];u&&n(o).handlers.push(SN(r.value,u))}if(l)for(let o in l){let u=l[o];u&&n(o).observers.push(SN(r.value,u))}}for(let r in ri)n(r).handlers.push(ri[r]);for(let r in Hr)n(r).observers.push(Hr[r]);return e}const w3=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],a$="dthko",S3=[16,17,18,20,91,92,224,225],Rd=6;function Ld(t){return Math.max(0,t)*.7+8}function s$(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class l${constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=cq(e.contentDOM),this.atoms=e.state.facet(Ff).map(l=>l(e));let a=e.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this)),a.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(qe.allowMultipleSelections)&&o$(e,n),this.dragging=u$(e,n)&&k3(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&s$(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,a=0,l=this.view.win.innerWidth,o=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:l}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:a,bottom:o}=this.scrollParents.y.getBoundingClientRect());let u=kS(this.view);e.clientX-u.left<=i+Rd?n=-Ld(i-e.clientX):e.clientX+u.right>=l-Rd&&(n=Ld(e.clientX-l)),e.clientY-u.top<=a+Rd?r=-Ld(a-e.clientY):e.clientY+u.bottom>=o-Rd&&(r=Ld(e.clientY-o)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:n}=this,r=y3(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function o$(t,e){let n=t.state.facet(t3);return n.length?n[0](e):ge.mac?e.metaKey:e.ctrlKey}function c$(t,e){let n=t.state.facet(n3);return n.length?n[0](e):ge.mac?!e.altKey:!e.ctrlKey}function u$(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=sf(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let a=0;a<i.length;a++){let l=i[a];if(l.left<=e.clientX&&l.right>=e.clientX&&l.top<=e.clientY&&l.bottom>=e.clientY)return!0}return!1}function f$(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=Rt.get(n))&&r.isWidget()&&!r.isHidden&&r.widget.ignoreEvent(e))return!1;return!0}const ri=Object.create(null),Hr=Object.create(null),C3=ge.ie&&ge.ie_version<15||ge.ios&&ge.webkit_version<604;function h$(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),O3(t,n.value)},50)}function xg(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function O3(t,e){e=xg(t.state,wS,e);let{state:n}=t,r,i=1,a=n.toText(e),l=a.lines==n.selection.ranges.length;if(z1!=null&&n.selection.ranges.every(u=>u.empty)&&z1==a.toString()){let u=-1;r=n.changeByRange(h=>{let d=n.doc.lineAt(h.from);if(d.from==u)return{range:h};u=d.from;let m=n.toText((l?a.line(i++).text:e)+n.lineBreak);return{changes:{from:d.from,insert:m},range:oe.cursor(h.from+m.length)}})}else l?r=n.changeByRange(u=>{let h=a.line(i++);return{changes:{from:u.from,to:u.to,insert:h.text},range:oe.cursor(u.from+h.length)}}):r=n.replaceSelection(a);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Hr.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};ri.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);Hr.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Hr.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};ri.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(r3))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=m$(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new l$(t,e,n,r)),r&&t.observer.ignore(()=>{WP(t.contentDOM);let a=t.root.activeElement;a&&!a.contains(t.contentDOM)&&a.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function CN(t,e,n,r){if(r==1)return oe.cursor(e,n);if(r==2)return Vq(t.state,e,n);{let i=t.docView.lineAt(e,n),a=t.state.doc.lineAt(i?i.posAtEnd:e),l=i?i.posAtStart:a.from,o=i?i.posAtEnd:a.to;return o<t.state.doc.length&&o==a.to&&o++,oe.range(l,o)}}const d$=ge.ie&&ge.ie_version<=11;let ON=null,kN=0,jN=0;function k3(t){if(!d$)return t.detail;let e=ON,n=jN;return ON=t,jN=Date.now(),kN=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(kN+1)%3:1}function m$(t,e){let n=t.posAndSideAtCoords({x:e.clientX,y:e.clientY},!1),r=k3(e),i=t.state.selection;return{update(a){a.docChanged&&(n.pos=a.changes.mapPos(n.pos),i=i.map(a.changes))},get(a,l,o){let u=t.posAndSideAtCoords({x:a.clientX,y:a.clientY},!1),h,d=CN(t,u.pos,u.assoc,r);if(n.pos!=u.pos&&!l){let m=CN(t,n.pos,n.assoc,r),y=Math.min(m.from,d.from),v=Math.max(m.to,d.to);d=y<d.from?oe.range(y,v):oe.range(v,y)}return l?i.replaceRange(i.main.extend(d.from,d.to)):o&&r==1&&i.ranges.length>1&&(h=p$(i,u.pos))?h:o?i.addRange(d):oe.create([d])}}}function p$(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return oe.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}ri.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.tile.nearest(e.target);if(i&&i.isWidget()){let a=i.posAtStart,l=a+i.length;(a>=n.to||l<=n.from)&&(n=oe.range(a,l))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",xg(t.state,SS,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};ri.dragend=t=>(t.inputState.draggedContent=null,!1);function AN(t,e,n,r){if(n=xg(t.state,wS,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:a}=t.inputState,l=r&&a&&c$(t,e)?{from:a.from,to:a.to}:null,o={from:i,insert:n},u=t.state.changes(l?[l,o]:o);t.focus(),t.dispatch({changes:u,selection:{anchor:u.mapPos(i,-1),head:u.mapPos(i,1)},userEvent:l?"move.drop":"input.drop"}),t.inputState.draggedContent=null}ri.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,a=()=>{++i==n.length&&AN(t,e,r.filter(l=>l!=null).join(t.state.lineBreak),!1)};for(let l=0;l<n.length;l++){let o=new FileReader;o.onerror=a,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(r[l]=o.result),a()},o.readAsText(n[l])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return AN(t,e,r,!0),!0}return!1};ri.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=C3?null:e.clipboardData;return n?(O3(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(h$(t),!1)};function g$(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function y$(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:a}of t.selection.ranges){let l=t.doc.lineAt(a);l.number>i&&(e.push(l.text),n.push({from:l.from,to:Math.min(t.doc.length,l.to+1)})),i=l.number}r=!0}return{text:xg(t,SS,e.join(t.lineBreak)),ranges:n,linewise:r}}let z1=null;ri.copy=ri.cut=(t,e)=>{if(!Fu(t.contentDOM,t.observer.selectionRange))return!1;let{text:n,ranges:r,linewise:i}=y$(t.state);if(!n&&!i)return!1;z1=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let a=C3?null:e.clipboardData;return a?(a.clearData(),a.setData("text/plain",n),!0):(g$(t,n),!1)};const j3=Ri.define();function A3(t,e){let n=[];for(let r of t.facet(s3)){let i=r(t,e);i&&n.push(i)}return n.length?t.update({effects:n,annotations:j3.of(!0)}):null}function N3(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=A3(t.state,e);n?t.dispatch(n):t.update([])}},10)}Hr.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),N3(t)};Hr.blur=t=>{t.observer.clearSelectionRange(),N3(t)};Hr.compositionstart=Hr.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};Hr.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,ge.chrome&&ge.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};Hr.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};ri.beforeinput=(t,e)=>{var n,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(t.inputState.insertingText=e.data,t.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&t.observer.editContext){let a=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),l=e.getTargetRanges();if(a&&l.length){let o=l[0],u=t.posAtDOM(o.startContainer,o.startOffset),h=t.posAtDOM(o.endContainer,o.endOffset);return jS(t,{from:u,to:h,insert:t.state.toText(a)},null),!0}}let i;if(ge.chrome&&ge.android&&(i=w3.find(a=>a.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let a=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var l;(((l=window.visualViewport)===null||l===void 0?void 0:l.height)||0)>a+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return ge.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),ge.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>Hr.compositionend(t,e),20),!1};const NN=new Set;function v$(t){NN.has(t)||(NN.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const EN=["pre-wrap","normal","pre-line","break-spaces"];let Qo=!1;function TN(){Qo=!1}class x${constructor(e){this.lineWrapping=e,this.doc=Ye.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return EN.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,a,l){let o=EN.indexOf(e)>-1,u=Math.abs(n-this.lineHeight)>.3||this.lineWrapping!=o||Math.abs(r-this.charWidth)>.1;if(this.lineWrapping=o,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=a,u){this.heightSamples={};for(let h=0;h<l.length;h++){let d=l[h];d<0?h++:this.heightSamples[Math.floor(d*10)]=!0}}return u}}class b${constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Yr{constructor(e,n,r,i,a){this.from=e,this.length=n,this.top=r,this.height=i,this._content=a}get type(){return typeof this._content=="number"?yn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof wl?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Yr(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var ut=(function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t})(ut||(ut={}));const Sm=.001;class Pn{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Sm&&(Qo=!0),this.height=e)}replace(e,n,r){return Pn.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let a=this,l=r.doc;for(let o=i.length-1;o>=0;o--){let{fromA:u,toA:h,fromB:d,toB:m}=i[o],y=a.lineAt(u,ut.ByPosNoHeight,r.setDoc(n),0,0),v=y.to>=h?y:a.lineAt(h,ut.ByPosNoHeight,r,0,0);for(m+=v.to-h,h=v.to;o>0&&y.from<=i[o-1].toA;)u=i[o-1].fromA,d=i[o-1].fromB,o--,u<y.from&&(y=a.lineAt(u,ut.ByPosNoHeight,r,0,0));d+=y.from-u,u=y.from;let b=AS.build(r.setDoc(l),e,d,m);a=Fm(a,a.replace(u,h,b))}return a.updateHeight(r,0)}static empty(){return new mr(0,0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,a=0;for(;;)if(n==r)if(i>a*2){let o=e[n-1];o.break?e.splice(--n,1,o.left,null,o.right):e.splice(--n,1,o.left,o.right),r+=1+o.break,i-=o.size}else if(a>i*2){let o=e[r];o.break?e.splice(r,1,o.left,null,o.right):e.splice(r,1,o.left,o.right),r+=2+o.break,a-=o.size}else break;else if(i<a){let o=e[n++];o&&(i+=o.size)}else{let o=e[--r];o&&(a+=o.size)}let l=0;return e[n-1]==null?(l=1,n--):e[n]==null&&(l=1,r++),new S$(Pn.of(e.slice(0,n)),l,Pn.of(e.slice(r)))}}function Fm(t,e){return t==e?t:(t.constructor!=e.constructor&&(Qo=!0),e)}Pn.prototype.size=1;const w$=ke.replace({});class E3 extends Pn{constructor(e,n,r){super(e,n),this.deco=r,this.spaceAbove=0}mainBlock(e,n){return new Yr(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,n,r,i){return this.spaceAbove&&e<r+this.spaceAbove?new Yr(i,0,r,this.spaceAbove,w$):this.mainBlock(r,i)}lineAt(e,n,r,i,a){let l=this.mainBlock(i,a);return this.spaceAbove?this.blockAt(0,r,i,a).join(l):l}forEachLine(e,n,r,i,a,l){e<=a+this.length&&n>=a&&l(this.lineAt(0,ut.ByPos,r,i,a))}setMeasuredHeight(e){let n=e.heights[e.index++];n<0?(this.spaceAbove=-n,n=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(n)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setMeasuredHeight(i),this.outdated=!1,this}toString(){return`block(${this.length})`}}class mr extends E3{constructor(e,n,r){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=r}mainBlock(e,n){return new Yr(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof mr||i instanceof hn&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof hn?i=new mr(i.length,this.height,this.spaceAbove):i.height=this.height,this.outdated||(i.outdated=!1),i):Pn.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setMeasuredHeight(i):(r||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class hn extends Pn{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,a=i-r+1,l,o=0;if(e.lineWrapping){let u=Math.min(this.height,e.lineHeight*a);l=u/a,this.length>a+1&&(o=(this.height-u)/(this.length-a-1))}else l=this.height/a;return{firstLine:r,lastLine:i,perLine:l,perChar:o}}blockAt(e,n,r,i){let{firstLine:a,lastLine:l,perLine:o,perChar:u}=this.heightMetrics(n,i);if(n.lineWrapping){let h=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),d=n.doc.lineAt(h),m=o+d.length*u,y=Math.max(r,e-m/2);return new Yr(d.from,d.length,y,m,0)}else{let h=Math.max(0,Math.min(l-a,Math.floor((e-r)/o))),{from:d,length:m}=n.doc.line(a+h);return new Yr(d,m,r+o*h,o,0)}}lineAt(e,n,r,i,a){if(n==ut.ByHeight)return this.blockAt(e,r,i,a);if(n==ut.ByPosNoHeight){let{from:v,to:b}=r.doc.lineAt(e);return new Yr(v,b-v,0,0,0)}let{firstLine:l,perLine:o,perChar:u}=this.heightMetrics(r,a),h=r.doc.lineAt(e),d=o+h.length*u,m=h.number-l,y=i+o*m+u*(h.from-a-m);return new Yr(h.from,h.length,Math.max(i,Math.min(y,i+this.height-d)),d,0)}forEachLine(e,n,r,i,a,l){e=Math.max(e,a),n=Math.min(n,a+this.length);let{firstLine:o,perLine:u,perChar:h}=this.heightMetrics(r,a);for(let d=e,m=i;d<=n;){let y=r.doc.lineAt(d);if(d==e){let b=y.number-o;m+=u*b+h*(e-a-b)}let v=u+h*y.length;l(new Yr(y.from,y.length,m,v,0)),m+=v,d=y.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let a=r[r.length-1];a instanceof hn?r[r.length-1]=new hn(a.length+i):r.push(null,new hn(i-1))}if(e>0){let a=r[0];a instanceof hn?r[0]=new hn(e+a.length):r.unshift(new hn(e-1),null)}return Pn.of(r)}decomposeLeft(e,n){n.push(new hn(e-1),null)}decomposeRight(e,n){n.push(null,new hn(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let a=n+this.length;if(i&&i.from<=n+this.length&&i.more){let l=[],o=Math.max(n,i.from),u=-1;for(i.from>n&&l.push(new hn(i.from-n-1).updateHeight(e,n));o<=a&&i.more;){let d=e.doc.lineAt(o).length;l.length&&l.push(null);let m=i.heights[i.index++],y=0;m<0&&(y=-m,m=i.heights[i.index++]),u==-1?u=m:Math.abs(m-u)>=Sm&&(u=-2);let v=new mr(d,m,y);v.outdated=!1,l.push(v),o+=d+1}o<=a&&l.push(null,new hn(a-o).updateHeight(e,o));let h=Pn.of(l);return(u<0||Math.abs(h.height-this.height)>=Sm||Math.abs(u-this.heightMetrics(e,n).perLine)>=Sm)&&(Qo=!0),Fm(this,h)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class S$ extends Pn{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let a=r+this.left.height;return e<a?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,a,i+this.left.length+this.break)}lineAt(e,n,r,i,a){let l=i+this.left.height,o=a+this.left.length+this.break,u=n==ut.ByHeight?e<l:e<o,h=u?this.left.lineAt(e,n,r,i,a):this.right.lineAt(e,n,r,l,o);if(this.break||(u?h.to<o:h.from>o))return h;let d=n==ut.ByPosNoHeight?ut.ByPosNoHeight:ut.ByPos;return u?h.join(this.right.lineAt(o,d,r,l,o)):this.left.lineAt(o,d,r,i,a).join(h)}forEachLine(e,n,r,i,a,l){let o=i+this.left.height,u=a+this.left.length+this.break;if(this.break)e<u&&this.left.forEachLine(e,n,r,i,a,l),n>=u&&this.right.forEachLine(e,n,r,o,u,l);else{let h=this.lineAt(u,ut.ByPos,r,i,a);e<h.from&&this.left.forEachLine(e,h.from-1,r,i,a,l),h.to>=e&&h.from<=n&&l(h),n>h.to&&this.right.forEachLine(h.to+1,n,r,o,u,l)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let a=[];e>0&&this.decomposeLeft(e,a);let l=a.length;for(let o of r)a.push(o);if(e>0&&MN(a,l-1),n<this.length){let o=a.length;this.decomposeRight(n,a),MN(a,o)}return Pn.of(a)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?Pn.of(this.break?[e,null,n]:[e,n]):(this.left=Fm(this.left,e),this.right=Fm(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:a,right:l}=this,o=n+a.length+this.break,u=null;return i&&i.from<=n+a.length&&i.more?u=a=a.updateHeight(e,n,r,i):a.updateHeight(e,n,r),i&&i.from<=o+l.length&&i.more?u=l=l.updateHeight(e,o,r,i):l.updateHeight(e,o,r),u?this.balanced(a,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function MN(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof hn&&(r=t[e+1])instanceof hn&&t.splice(e-1,3,new hn(n.length+1+r.length))}const C$=5;class AS{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof mr?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new mr(r-this.pos,-1,0)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,a=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let l=n-e;r.block?this.addBlock(new E3(l,i,r)):(l||a||i>=C$)&&this.addLineDeco(i,a,l)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new mr(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,n){let r=new hn(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof mr)return e;let n=new mr(0,-1,0);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof mr)&&!this.isCovered?this.nodes.push(new mr(0,-1,0)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof mr&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let a=new AS(r,e);return ze.spans(n,r,i,a,0),a.finish(r)}}function O$(t,e,n){let r=new k$;return ze.compare(t,e,n,r,0),r.changes}class k${constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&Bo(e,n,this.changes,5)}}function j$(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,a=Math.max(0,n.left),l=Math.min(i.innerWidth,n.right),o=Math.max(0,n.top),u=Math.min(i.innerHeight,n.bottom);for(let h=t.parentNode;h&&h!=r.body;)if(h.nodeType==1){let d=h,m=window.getComputedStyle(d);if((d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&m.overflow!="visible"){let y=d.getBoundingClientRect();a=Math.max(a,y.left),l=Math.min(l,y.right),o=Math.max(o,y.top),u=Math.min(h==t.parentNode?i.innerHeight:u,y.bottom)}h=m.position=="absolute"||m.position=="fixed"?d.offsetParent:d.parentNode}else if(h.nodeType==11)h=h.host;else break;return{left:a-n.left,right:Math.max(a,l)-n.left,top:o-(n.top+e),bottom:Math.max(o,u)-(n.top+e)}}function A$(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function N$(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class Qv{constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],a=n[r];if(i.from!=a.from||i.to!=a.to||i.size!=a.size)return!1}return!0}draw(e,n){return ke.replace({widget:new E$(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class E$ extends Bi{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class DN{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=PN,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=st.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(CS).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new x$(n),this.stateDeco=_N(e),this.heightMap=Pn.empty().applyChanges(this.stateDeco,Ye.empty,this.heightOracle.setDoc(e.doc),[new Rr(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ke.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:a,to:l})=>i>=a&&i<=l)){let{from:a,to:l}=this.lineBlockAt(i);e.push(new Bd(a,l))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?PN:new NS(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(zu(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=_N(this.state);let i=e.changedRanges,a=Rr.extendWithRanges(i,O$(r,this.stateDeco,e?e.changes:Ut.empty(this.state.doc.length))),l=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);TN(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),a),(this.heightMap.height!=l||Qo)&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=l);let u=a.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<u.from||n.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,n));let h=u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,e.flags|=this.updateForViewport(),(h||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&(e.selectionSet||e.focusChanged)&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(o3)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,a=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?st.RTL:st.LTR;let l=this.heightOracle.mustRefreshForWrapping(a)||this.mustMeasureContent,o=n.getBoundingClientRect(),u=l||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let h=0,d=0;if(o.width&&o.height){let{scaleX:M,scaleY:D}=FP(n,o);(M>.005&&Math.abs(this.scaleX-M)>.005||D>.005&&Math.abs(this.scaleY-D)>.005)&&(this.scaleX=M,this.scaleY=D,h|=16,l=u=!0)}let m=(parseInt(r.paddingTop)||0)*this.scaleY,y=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=m||this.paddingBottom!=y)&&(this.paddingTop=m,this.paddingBottom=y,h|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(u=!0),this.editorWidth=e.scrollDOM.clientWidth,h|=16);let v=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=v&&(this.scrollAnchorHeight=-1,this.scrollTop=v),this.scrolledToBottom=KP(e.scrollDOM);let b=(this.printing?N$:j$)(n,this.paddingTop),O=b.top-this.pixelViewport.top,C=b.bottom-this.pixelViewport.bottom;this.pixelViewport=b;let k=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(k!=this.inView&&(this.inView=k,k&&(u=!0)),!this.inView&&!this.scrollTarget&&!A$(e.dom))return 0;let N=o.width;if((this.contentDOMWidth!=N||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,h|=16),u){let M=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(M)&&(l=!0),l||i.lineWrapping&&Math.abs(N-this.contentDOMWidth)>i.charWidth){let{lineHeight:D,charWidth:T,textHeight:E}=e.docView.measureTextSize();l=D>0&&i.refresh(a,D,T,E,Math.max(5,N/T),M),l&&(e.docView.minWidth=0,h|=16)}O>0&&C>0?d=Math.max(O,C):O<0&&C<0&&(d=Math.min(O,C)),TN();for(let D of this.viewports){let T=D.from==this.viewport.from?M:e.docView.measureVisibleLineHeights(D);this.heightMap=(l?Pn.empty().applyChanges(this.stateDeco,Ye.empty,this.heightOracle,[new Rr(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,l,new b$(D.from,T))}Qo&&(h|=2)}let j=!this.viewportIsAppropriate(this.viewport,d)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return j&&(h&2&&(h|=this.updateScaler()),this.viewport=this.getViewport(d,this.scrollTarget),h|=this.updateForViewport()),(h&2||j)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps,e)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,a=this.heightOracle,{visibleTop:l,visibleBottom:o}=this,u=new Bd(i.lineAt(l-r*1e3,ut.ByHeight,a,0,0).from,i.lineAt(o+(1-r)*1e3,ut.ByHeight,a,0,0).to);if(n){let{head:h}=n.range;if(h<u.from||h>u.to){let d=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),m=i.lineAt(h,ut.ByPos,a,0,0),y;n.y=="center"?y=(m.top+m.bottom)/2-d/2:n.y=="start"||n.y=="nearest"&&h<u.from?y=m.top:y=m.bottom-d,u=new Bd(i.lineAt(y-1e3/2,ut.ByHeight,a,0,0).from,i.lineAt(y+d+1e3/2,ut.ByHeight,a,0,0).to)}}return u}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new Bd(this.heightMap.lineAt(r,ut.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,ut.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,ut.ByPos,this.heightOracle,0,0),{bottom:a}=this.heightMap.lineAt(n,ut.ByPos,this.heightOracle,0,0),{visibleTop:l,visibleBottom:o}=this;return(e==0||i<=l-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||a>=o+Math.max(10,Math.min(r,250)))&&i>l-2*1e3&&a<o+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new Qv(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,a=i>>1,l=i<<1;if(this.defaultTextDirection!=st.LTR&&!r)return[];let o=[],u=(d,m,y,v)=>{if(m-d<a)return;let b=this.state.selection.main,O=[b.from];b.empty||O.push(b.to);for(let k of O)if(k>d&&k<m){u(d,k-10,y,v),u(k+10,m,y,v);return}let C=M$(e,k=>k.from>=y.from&&k.to<=y.to&&Math.abs(k.from-d)<a&&Math.abs(k.to-m)<a&&!O.some(N=>k.from<N&&k.to>N));if(!C){if(m<y.to&&n&&r&&n.visibleRanges.some(j=>j.from<=m&&j.to>=m)){let j=n.moveToLineBoundary(oe.cursor(m),!1,!0).head;j>d&&(m=j)}let k=this.gapSize(y,d,m,v),N=r||k<2e6?k:2e6;C=new Qv(d,m,k,N)}o.push(C)},h=d=>{if(d.length<l||d.type!=yn.Text)return;let m=T$(d.from,d.to,this.stateDeco);if(m.total<l)return;let y=this.scrollTarget?this.scrollTarget.range.head:null,v,b;if(r){let O=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,C,k;if(y!=null){let N=Id(m,y),j=((this.visibleBottom-this.visibleTop)/2+O)/d.height;C=N-j,k=N+j}else C=(this.visibleTop-d.top-O)/d.height,k=(this.visibleBottom-d.top+O)/d.height;v=zd(m,C),b=zd(m,k)}else{let O=m.total*this.heightOracle.charWidth,C=i*this.heightOracle.charWidth,k=0;if(O>2e6)for(let T of e)T.from>=d.from&&T.from<d.to&&T.size!=T.displaySize&&T.from*this.heightOracle.charWidth+k<this.pixelViewport.left&&(k=T.size-T.displaySize);let N=this.pixelViewport.left+k,j=this.pixelViewport.right+k,M,D;if(y!=null){let T=Id(m,y),E=((j-N)/2+C)/O;M=T-E,D=T+E}else M=(N-C)/O,D=(j+C)/O;v=zd(m,M),b=zd(m,D)}v>d.from&&u(d.from,v,d,m),b<d.to&&u(b,d.to,d,m)};for(let d of this.viewportLines)Array.isArray(d.type)?d.type.forEach(h):h(d);return o}gapSize(e,n,r,i){let a=Id(i,r)-Id(i,n);return this.heightOracle.lineWrapping?e.height*a:i.total*this.heightOracle.charWidth*a}updateLineGaps(e){Qv.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ke.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];ze.spans(n,this.viewport.from,this.viewport.to,{span(a,l){r.push({from:a,to:l})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let a=0;a<r.length&&!(i&8);a++){let l=this.visibleRanges[a],o=r[a];(l.from!=o.from||l.to!=o.to)&&(i|=4,e&&e.mapPos(l.from,-1)==o.from&&e.mapPos(l.to,1)==o.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||zu(this.heightMap.lineAt(e,ut.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||zu(this.heightMap.lineAt(this.scaler.fromDOM(e),ut.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return zu(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Bd{constructor(e,n){this.from=e,this.to=n}}function T$(t,e,n){let r=[],i=t,a=0;return ze.spans(n,t,e,{span(){},point(l,o){l>i&&(r.push({from:i,to:l}),a+=l-i),i=o}},20),i<e&&(r.push({from:i,to:e}),a+=e-i),{total:a,ranges:r}}function zd({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:a,to:l}=e[i],o=l-a;if(r<=o)return a+r;r-=o}}function Id(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function M$(t,e){for(let n of t)if(e(n))return n}const PN={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};function _N(t){let e=t.facet(gg).filter(r=>typeof r!="function"),n=t.facet(OS).filter(r=>typeof r!="function");return n.length&&e.push(ze.join(n)),e}class NS{constructor(e,n,r){let i=0,a=0,l=0;this.viewports=r.map(({from:o,to:u})=>{let h=n.lineAt(o,ut.ByPos,e,0,0).top,d=n.lineAt(u,ut.ByPos,e,0,0).bottom;return i+=d-h,{from:o,to:u,top:h,bottom:d,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let o of this.viewports)o.domTop=l+(o.top-a)*this.scale,l=o.domBottom=o.domTop+(o.bottom-o.top),a=o.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let a=n<this.viewports.length?this.viewports[n]:null;if(!a||e<a.top)return i+(e-r)*this.scale;if(e<=a.bottom)return a.domTop+(e-a.top);r=a.bottom,i=a.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let a=n<this.viewports.length?this.viewports[n]:null;if(!a||e<a.domTop)return r+(e-i)/this.scale;if(e<=a.domBottom)return a.top+(e-a.domTop);r=a.bottom,i=a.domBottom}}eq(e){return e instanceof NS?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function zu(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Yr(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>zu(i,e)):t._content)}const Ud=ye.define({combine:t=>t.join(" ")}),I1=ye.define({combine:t=>t.indexOf(!0)>-1}),U1=xs.newName(),T3=xs.newName(),M3=xs.newName(),D3={"&light":"."+T3,"&dark":"."+M3};function H1(t,e,n){return new xs(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const D$=H1("."+U1,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},D3),P$={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Xv=ge.ie&&ge.ie_version<=11;class _${constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new uq,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(ge.ie&&ge.ie_version<=11||ge.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&ge.android&&e.constructor.EDIT_CONTEXT!==!1&&!(ge.chrome&&ge.chrome_version<126)&&(this.editContext=new L$(e),e.state.facet(aa)&&(e.contentDOM.editContext=this.editContext.editContext)),Xv&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(aa)?r.root.activeElement!=this.dom:!Fu(this.dom,i))return;let a=i.anchorNode&&r.docView.tile.nearest(i.anchorNode);if(a&&a.isWidget()&&a.widget.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(ge.ie&&ge.ie_version<=11||ge.android&&ge.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Ku(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=sf(e.root);if(!n)return!1;let r=ge.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&R$(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=Fu(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&hq(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,P$),Xv&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Xv&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let a=this.delayedAndroidKey;a&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=a.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&a.force&&zo(this.dom,a.key,a.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let a of e){let l=this.readMutation(a);l&&(l.typeOver&&(i=!0),n==-1?{from:n,to:r}=l:(n=Math.min(l.from,n),r=Math.max(l.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Fu(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let a=new Jq(this.view,e,n,r);return this.view.docView.domChanged={newSel:a.newSel?a.newSel.main:null},a}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=x3(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!Vm(this.view.state.selection,n.newSel.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.tile.nearest(e.target);if(!n||n.isWidget())return null;if(n.markDirty(e.type=="attributes"),e.type=="childList"){let r=RN(n,e.previousSibling||e.target.previousSibling,-1),i=RN(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(aa)!=e.state.facet(aa)&&(e.view.contentDOM.editContext=e.state.facet(aa)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function RN(t,e,n){for(;e;){let r=Rt.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function LN(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,a=e.endOffset,l=t.docView.domAtPos(t.state.selection.main.anchor,1);return Ku(l.node,l.offset,i,a)&&([n,r,i,a]=[i,a,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a}}function R$(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return LN(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?LN(t,n):null}class L${constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:a,head:l}=i,o=this.toEditorPos(r.updateRangeStart),u=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:o,drifted:!1});let h=u-o>r.text.length;o==this.from&&a<this.from?o=a:u==this.to&&a>this.to&&(u=a);let d=b3(e.state.sliceDoc(o,u),r.text,(h?i.from:i.to)-o,h?"end":null);if(!d){let y=oe.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));Vm(y,i)||e.dispatch({selection:y,userEvent:"select"});return}let m={from:d.from+o,to:d.toA+o,insert:Ye.of(r.text.slice(d.from,d.toB).split(`
`))};if((ge.mac||ge.android)&&m.from==l-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(m={from:o,to:u,insert:Ye.of([r.text.replace("."," ")])}),this.pendingContextChange=m,!e.state.readOnly){let y=this.to-this.from+(m.to-m.from+m.insert.length);jS(e,m,oe.single(this.toEditorPos(r.selectionStart,y),this.toEditorPos(r.selectionEnd,y)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),m.from<m.to&&!m.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(n.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(n.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],a=null;for(let l=this.toEditorPos(r.rangeStart),o=this.toEditorPos(r.rangeEnd);l<o;l++){let u=e.coordsForChar(l);a=u&&new DOMRect(u.left,u.top,u.right-u.left,u.bottom-u.top)||a||new DOMRect,i.push(a)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let a of r.getTextFormats()){let l=a.underlineStyle,o=a.underlineThickness;if(!/none/i.test(l)&&!/none/i.test(o)){let u=this.toEditorPos(a.rangeStart),h=this.toEditorPos(a.rangeEnd);if(u<h){let d=`text-decoration: underline ${/^[a-z]/.test(l)?l+" ":l=="Dashed"?"dashed ":l=="Squiggle"?"wavy ":""}${/thin/i.test(o)?1:2}px`;i.push(ke.mark({attributes:{style:d}}).range(u,h))}}}e.dispatch({effects:u3.of(ke.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=sf(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((a,l,o,u,h)=>{if(r)return;let d=h.length-(l-a);if(i&&l>=i.to)if(i.from==a&&i.to==l&&i.insert.eq(h)){i=this.pendingContextChange=null,n+=d,this.to+=d;return}else i=null,this.revertPending(e.state);if(a+=n,l+=n,l<=this.from)this.from+=d,this.to+=d;else if(a<this.to){if(a<this.from||l>this.to||this.to-this.from+h.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(a),this.toContextPos(l),h.toString()),this.to+=d}n+=d}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class pe{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(a=>r(a,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||fq(e.parent)||document,this.viewState=new DN(e.state||qe.create(e)),e.scrollTo&&e.scrollTo.is(_d)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Eo).map(i=>new Fv(i));for(let i of this.plugins)i.update(this);this.observer=new _$(this),this.inputState=new r$(this),this.inputState.ensureHandlers(this.plugins),this.docView=new xN(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>{this.viewState.mustMeasureContent=!0,this.requestMeasure()})}dispatch(...e){let n=e.length==1&&e[0]instanceof Ht?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,a=this.state;for(let y of e){if(y.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=y.state}if(this.destroyed){this.viewState.state=a;return}let l=this.hasFocus,o=0,u=null;e.some(y=>y.annotation(j3))?(this.inputState.notifiedFocused=l,o=1):l!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=l,u=A3(a,l),u||(o=1));let h=this.observer.delayedAndroidKey,d=null;if(h?(this.observer.clearDelayedAndroidKey(),d=this.observer.readChange(),(d&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(d=null)):this.observer.clear(),a.facet(qe.phrases)!=this.state.facet(qe.phrases))return this.setState(a);i=Hm.create(this,a,e),i.flags|=o;let m=this.viewState.scrollTarget;try{this.updateState=2;for(let y of e){if(m&&(m=m.map(y.changes)),y.scrollIntoView){let{main:v}=y.state.selection;m=new Io(v.empty?v:oe.cursor(v.head,v.head>v.anchor?-1:1))}for(let v of y.effects)v.is(_d)&&(m=v.value.clip(this.state))}this.viewState.update(i,m),this.bidiCache=Wm.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(Lu)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(y=>y.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Ud)!=i.state.facet(Ud)&&(this.viewState.mustMeasureContent=!0),(n||r||m||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let y of this.state.facet(_1))try{y(i)}catch(v){Gn(this.state,v,"update listener")}(u||d)&&Promise.resolve().then(()=>{u&&this.state==u.startState&&this.dispatch(u),d&&!x3(this,d)&&h.force&&zo(this.contentDOM,h.key,h.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new DN(e),this.plugins=e.facet(Eo).map(r=>new Fv(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new xN(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Eo),r=e.state.facet(Eo);if(n!=r){let i=[];for(let a of r){let l=n.indexOf(a);if(l<0)i.push(new Fv(a));else{let o=this.plugins[l];o.mustUpdate=e,i.push(o)}}for(let a of this.plugins)a.mustUpdate!=e&&a.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){Gn(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:a,scrollAnchorHeight:l}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(l=-1),this.viewState.scrollAnchorHeight=-1;try{for(let o=0;;o++){if(l<0)if(KP(r))a=-1,l=this.viewState.heightMap.height;else{let v=this.viewState.scrollAnchorAt(i);a=v.from,l=v.top}this.updateState=1;let u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];u&4||([this.measureRequests,h]=[h,this.measureRequests]);let d=h.map(v=>{try{return v.read(this)}catch(b){return Gn(this.state,b),BN}}),m=Hm.create(this,this.state,[]),y=!1;m.flags|=u,n?n.flags|=u:n=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),y=this.docView.update(m),y&&this.docViewUpdate());for(let v=0;v<h.length;v++)if(d[v]!=BN)try{let b=h[v];b.write&&b.write(d[v],this)}catch(b){Gn(this.state,b)}if(y&&this.docView.updateSelection(!0),!m.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=-1;continue}else{let b=(a<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(a).top)-l;if(b>1||b<-1){i=i+b,r.scrollTop=i/this.scaleY,l=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let o of this.state.facet(_1))o(n)}get themeClasses(){return U1+" "+(this.state.facet(I1)?M3:T3)+" "+this.state.facet(Ud)}updateAttrs(){let e=zN(this,f3,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(aa)?"true":"false",class:"cm-content",style:`${ge.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),zN(this,CS,n);let r=this.observer.ignore(()=>{let i=dN(this.contentDOM,this.contentAttrs,n),a=dN(this.dom,this.editorAttrs,e);return i||a});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(pe.announce)){n&&(this.announceDOM.textContent=""),n=!1;let a=this.announceDOM.appendChild(document.createElement("div"));a.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Lu);let e=this.state.facet(pe.cspNonce);xs.mount(this.root,this.styleModules.concat(D$).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return Yv(this,e,bN(this,e,n,r))}moveByGroup(e,n){return Yv(this,e,bN(this,e,n,r=>Kq(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),a=r[n?r.length-1:0];return oe.cursor(a.side(n,i)+e.from,a.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return Wq(this,e,n,r)}moveVertically(e,n,r){return Yv(this,e,Gq(this,e,n,r))}domAtPos(e,n=1){return this.docView.domAtPos(e,n)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){this.readMeasured();let r=B1(this,e,n);return r&&r.pos}posAndSideAtCoords(e,n=!0){return this.readMeasured(),B1(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),a=this.bidiSpans(i),l=a[Ci.find(a,e-i.from,-1,n)];return lf(r,l.dir==st.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(l3)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>B$)return JP(e.length);let n=this.textDirectionAt(e.from),r;for(let a of this.bidiCache)if(a.from==e.from&&a.dir==n&&(a.fresh||ZP(a.isolates,r=gN(this,e))))return a.order;r||(r=gN(this,e));let i=xq(e.text,n,r);return this.bidiCache.push(new Wm(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ge.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{WP(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return _d.of(new Io(typeof e=="number"?oe.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return _d.of(new Io(oe.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Tt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Tt.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=xs.newName(),i=[Ud.of(r),Lu.of(H1(`.${r}`,e))];return n&&n.dark&&i.push(I1.of(!0)),i}static baseTheme(e){return Pl.lowest(Lu.of(H1("."+U1,e,D3)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&Rt.get(r)||Rt.get(e);return((n=i?.root)===null||n===void 0?void 0:n.view)||null}}pe.styleModule=Lu;pe.inputHandler=a3;pe.clipboardInputFilter=wS;pe.clipboardOutputFilter=SS;pe.scrollHandler=c3;pe.focusChangeEffect=s3;pe.perLineTextDirection=l3;pe.exceptionSink=i3;pe.updateListener=_1;pe.editable=aa;pe.mouseSelectionStyle=r3;pe.dragMovesSelection=n3;pe.clickAddsSelectionRange=t3;pe.decorations=gg;pe.blockWrappers=h3;pe.outerDecorations=OS;pe.atomicRanges=Ff;pe.bidiIsolatedRanges=d3;pe.scrollMargins=m3;pe.darkTheme=I1;pe.cspNonce=ye.define({combine:t=>t.length?t[0]:""});pe.contentAttributes=CS;pe.editorAttributes=f3;pe.lineWrapping=pe.contentAttributes.of({class:"cm-lineWrapping"});pe.announce=Me.define();const B$=4096,BN={};class Wm{constructor(e,n,r,i,a,l){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=a,this.order=l}static update(e,n){if(n.empty&&!e.some(a=>a.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:st.LTR;for(let a=Math.max(0,e.length-10);a<e.length;a++){let l=e[a];l.dir==i&&!n.touchesRange(l.from,l.to)&&r.push(new Wm(n.mapPos(l.from,1),n.mapPos(l.to,-1),l.dir,l.isolates,!1,l.order))}return r}}function zN(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let a=r[i],l=typeof a=="function"?a(t):a;l&&vS(l,n)}return n}const z$=ge.mac?"mac":ge.windows?"win":ge.linux?"linux":"key";function I$(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,a,l,o;for(let u=0;u<n.length-1;++u){const h=n[u];if(/^(cmd|meta|m)$/i.test(h))o=!0;else if(/^a(lt)?$/i.test(h))i=!0;else if(/^(c|ctrl|control)$/i.test(h))a=!0;else if(/^s(hift)?$/i.test(h))l=!0;else if(/^mod$/i.test(h))e=="mac"?o=!0:a=!0;else throw new Error("Unrecognized modifier name: "+h)}return i&&(r="Alt-"+r),a&&(r="Ctrl-"+r),o&&(r="Meta-"+r),l&&(r="Shift-"+r),r}function Hd(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const U$=Pl.default(pe.domEventHandlers({keydown(t,e){return _3(P3(e.state),t,e,"editor")}})),bg=ye.define({enables:U$}),IN=new WeakMap;function P3(t){let e=t.facet(bg),n=IN.get(e);return n||IN.set(e,n=$$(e.reduce((r,i)=>r.concat(i),[]))),n}function H$(t,e,n){return _3(P3(t.state),e,t,n)}let ss=null;const q$=4e3;function $$(t,e=z$){let n=Object.create(null),r=Object.create(null),i=(l,o)=>{let u=r[l];if(u==null)r[l]=o;else if(u!=o)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},a=(l,o,u,h,d)=>{var m,y;let v=n[l]||(n[l]=Object.create(null)),b=o.split(/ (?!$)/).map(k=>I$(k,e));for(let k=1;k<b.length;k++){let N=b.slice(0,k).join(" ");i(N,!0),v[N]||(v[N]={preventDefault:!0,stopPropagation:!1,run:[j=>{let M=ss={view:j,prefix:N,scope:l};return setTimeout(()=>{ss==M&&(ss=null)},q$),!0}]})}let O=b.join(" ");i(O,!1);let C=v[O]||(v[O]={preventDefault:!1,stopPropagation:!1,run:((y=(m=v._any)===null||m===void 0?void 0:m.run)===null||y===void 0?void 0:y.slice())||[]});u&&C.run.push(u),h&&(C.preventDefault=!0),d&&(C.stopPropagation=!0)};for(let l of t){let o=l.scope?l.scope.split(" "):["editor"];if(l.any)for(let h of o){let d=n[h]||(n[h]=Object.create(null));d._any||(d._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:m}=l;for(let y in d)d[y].run.push(v=>m(v,q1))}let u=l[e]||l.key;if(u)for(let h of o)a(h,u,l.run,l.preventDefault,l.stopPropagation),l.shift&&a(h,"Shift-"+u,l.shift,l.preventDefault,l.stopPropagation)}return n}let q1=null;function _3(t,e,n,r){q1=e;let i=nq(e),a=Vn(i,0),l=wi(a)==i.length&&i!=" ",o="",u=!1,h=!1,d=!1;ss&&ss.view==n&&ss.scope==r&&(o=ss.prefix+" ",S3.indexOf(e.keyCode)<0&&(h=!0,ss=null));let m=new Set,y=C=>{if(C){for(let k of C.run)if(!m.has(k)&&(m.add(k),k(n)))return C.stopPropagation&&(d=!0),!0;C.preventDefault&&(C.stopPropagation&&(d=!0),h=!0)}return!1},v=t[r],b,O;return v&&(y(v[o+Hd(i,e,!l)])?u=!0:l&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ge.windows&&e.ctrlKey&&e.altKey)&&!(ge.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(b=bs[e.keyCode])&&b!=i?(y(v[o+Hd(b,e,!0)])||e.shiftKey&&(O=rf[e.keyCode])!=i&&O!=b&&y(v[o+Hd(O,e,!1)]))&&(u=!0):l&&e.shiftKey&&y(v[o+Hd(i,e,!0)])&&(u=!0),!u&&y(v._any)&&(u=!0)),h&&(u=!0),u&&d&&e.stopPropagation(),q1=null,u}class Wf{constructor(e,n,r,i,a){this.className=e,this.left=n,this.top=r,this.width=i,this.height=a}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let a=R3(e);return[new Wf(n,i.left-a.left,i.top-a.top,null,i.bottom-i.top)]}else return V$(e,n,r)}}function R3(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==st.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function UN(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let a=t.dom.getBoundingClientRect(),l=(i.top+i.bottom)/2,o=t.posAtCoords({x:a.left+1,y:l}),u=t.posAtCoords({x:a.right-1,y:l});return o==null||u==null?r:{from:Math.max(r.from,Math.min(o,u)),to:Math.min(r.to,Math.max(o,u))}}function V$(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),a=t.textDirection==st.LTR,l=t.contentDOM,o=l.getBoundingClientRect(),u=R3(t),h=l.querySelector(".cm-line"),d=h&&window.getComputedStyle(h),m=o.left+(d?parseInt(d.paddingLeft)+Math.min(0,parseInt(d.textIndent)):0),y=o.right-(d?parseInt(d.paddingRight):0),v=L1(t,r,1),b=L1(t,i,-1),O=v.type==yn.Text?v:null,C=b.type==yn.Text?b:null;if(O&&(t.lineWrapping||v.widgetLineBreaks)&&(O=UN(t,r,1,O)),C&&(t.lineWrapping||b.widgetLineBreaks)&&(C=UN(t,i,-1,C)),O&&C&&O.from==C.from&&O.to==C.to)return N(j(n.from,n.to,O));{let D=O?j(n.from,null,O):M(v,!1),T=C?j(null,n.to,C):M(b,!0),E=[];return(O||v).to<(C||b).from-(O&&C?1:0)||v.widgetLineBreaks>1&&D.bottom+t.defaultLineHeight/2<T.top?E.push(k(m,D.bottom,y,T.top)):D.bottom<T.top&&t.elementAtHeight((D.bottom+T.top)/2).type==yn.Text&&(D.bottom=T.top=(D.bottom+T.top)/2),N(D).concat(E).concat(N(T))}function k(D,T,E,_){return new Wf(e,D-u.left,T-u.top,Math.max(0,E-D),_-T)}function N({top:D,bottom:T,horizontal:E}){let _=[];for(let R=0;R<E.length;R+=2)_.push(k(E[R],D,E[R+1],T));return _}function j(D,T,E){let _=1e9,R=-1e9,H=[];function B(ne,I,q,V,te){let W=t.coordsAtPos(ne,ne==E.to?-2:2),ce=t.coordsAtPos(q,q==E.from?2:-2);!W||!ce||(_=Math.min(W.top,ce.top,_),R=Math.max(W.bottom,ce.bottom,R),te==st.LTR?H.push(a&&I?m:W.left,a&&V?y:ce.right):H.push(!a&&V?m:ce.left,!a&&I?y:W.right))}let z=D??E.from,ie=T??E.to;for(let ne of t.visibleRanges)if(ne.to>z&&ne.from<ie)for(let I=Math.max(ne.from,z),q=Math.min(ne.to,ie);;){let V=t.state.doc.lineAt(I);for(let te of t.bidiSpans(V)){let W=te.from+V.from,ce=te.to+V.from;if(W>=q)break;ce>I&&B(Math.max(W,I),D==null&&W<=z,Math.min(ce,q),T==null&&ce>=ie,te.dir)}if(I=V.to+1,I>=q)break}return H.length==0&&B(z,D==null,ie,T==null,t.textDirection),{top:_,bottom:R,horizontal:H}}function M(D,T){let E=o.top+(T?D.top:D.bottom);return{top:E,bottom:E,horizontal:[]}}}function F$(t,e){return t.constructor==e.constructor&&t.eq(e)}class W${constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(Cm)!=e.state.facet(Cm)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(Cm);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!F$(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e,ge.safari&&ge.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Cm=ye.define();function L3(t){return[Tt.define(e=>new W$(e,t)),Cm.of(t)]}const cf=ye.define({combine(t){return Li(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function K$(t={}){return[cf.of(t),G$,Y$,Q$,o3.of(!0)]}function B3(t){return t.startState.facet(cf)!=t.state.facet(cf)}const G$=L3({above:!0,markers(t){let{state:e}=t,n=e.facet(cf),r=[];for(let i of e.selection.ranges){let a=i==e.selection.main;if(i.empty||n.drawRangeCursor){let l=a?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",o=i.empty?i:oe.cursor(i.head,i.head>i.anchor?-1:1);for(let u of Wf.forRange(t,l,o))r.push(u)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=B3(t);return n&&HN(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){HN(e.state,t)},class:"cm-cursorLayer"});function HN(t,e){e.style.animationDuration=t.facet(cf).cursorBlinkRate+"ms"}const Y$=L3({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:Wf.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||B3(t)},class:"cm-selectionLayer"}),Q$=Pl.highest(pe.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),z3=Me.define({map(t,e){return t==null?null:e.mapPos(t)}}),Iu=bn.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(z3)?r.value:n,t)}}),X$=Tt.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(Iu);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Iu)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(Iu),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Iu)!=t&&this.view.dispatch({effects:z3.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Z$(){return[Iu,X$]}function qN(t,e,n,r,i){e.lastIndex=0;for(let a=t.iterRange(n,r),l=n,o;!a.next().done;l+=a.value.length)if(!a.lineBreak)for(;o=e.exec(a.value);)i(l+o.index,o)}function J$(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:a}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),a=Math.min(t.state.doc.lineAt(a).to,a+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=a:r.push({from:i,to:a});return r}class eV{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:a,maxLength:l=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(o,u,h,d)=>i(d,h,h+o[0].length,o,u);else if(typeof r=="function")this.addMatch=(o,u,h,d)=>{let m=r(o,u,h);m&&d(h,h+o[0].length,m)};else if(r)this.addMatch=(o,u,h,d)=>d(h,h+o[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=a,this.maxLength=l}createDeco(e){let n=new ha,r=n.add.bind(n);for(let{from:i,to:a}of J$(e,this.maxLength))qN(e.state.doc,this.regexp,i,a,(l,o)=>this.addMatch(o,e,l,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((a,l,o,u)=>{u>=e.view.viewport.from&&o<=e.view.viewport.to&&(r=Math.min(o,r),i=Math.max(u,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let a of e.visibleRanges){let l=Math.max(a.from,r),o=Math.min(a.to,i);if(o>=l){let u=e.state.doc.lineAt(l),h=u.to<o?e.state.doc.lineAt(o):u,d=Math.max(a.from,u.from),m=Math.min(a.to,h.to);if(this.boundary){for(;l>u.from;l--)if(this.boundary.test(u.text[l-1-u.from])){d=l;break}for(;o<h.to;o++)if(this.boundary.test(h.text[o-h.from])){m=o;break}}let y=[],v,b=(O,C,k)=>y.push(k.range(O,C));if(u==h)for(this.regexp.lastIndex=d-u.from;(v=this.regexp.exec(u.text))&&v.index<m-u.from;)this.addMatch(v,e,v.index+u.from,b);else qN(e.state.doc,this.regexp,d,m,(O,C)=>this.addMatch(C,e,O,b));n=n.update({filterFrom:d,filterTo:m,filter:(O,C)=>O<d||C>m,add:y})}}return n}}const $1=/x/.unicode!=null?"gu":"g",tV=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,$1),nV={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Zv=null;function rV(){var t;if(Zv==null&&typeof document<"u"&&document.body){let e=document.body.style;Zv=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return Zv||!1}const Om=ye.define({combine(t){let e=Li(t,{render:null,specialChars:tV,addSpecialChars:null});return(e.replaceTabs=!rV())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,$1)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,$1)),e}});function iV(t={}){return[Om.of(t),aV()]}let $N=null;function aV(){return $N||($N=Tt.fromClass(class{constructor(t){this.view=t,this.decorations=ke.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Om)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new eV({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,a=Vn(e[0],0);if(a==9){let l=i.lineAt(r),o=n.state.tabSize,u=cc(l.text,o,r-l.from);return ke.replace({widget:new cV((o-u%o)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[a]||(this.decorationCache[a]=ke.replace({widget:new oV(t,a)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Om);t.startState.facet(Om)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const sV="";function lV(t){return t>=32?sV:t==10?"":String.fromCharCode(9216+t)}class oV extends Bi{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=lV(this.code),r=e.state.phrase("Control character")+" "+(nV[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let a=document.createElement("span");return a.textContent=n,a.title=r,a.setAttribute("aria-label",r),a.className="cm-specialChar",a}ignoreEvent(){return!1}}class cV extends Bi{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function uV(){return hV}const fV=ke.line({class:"cm-activeLine"}),hV=Tt.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(fV.range(i.from)),e=i.from)}return ke.set(n)}},{decorations:t=>t.decorations});class dV extends Bi{constructor(e){super(),this.content=e}toDOM(e){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),n.setAttribute("aria-hidden","true"),n}coordsAt(e){let n=e.firstChild?Wu(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=lf(n[0],r.direction!="rtl"),a=parseInt(r.lineHeight);return i.bottom-i.top>a*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+a}:i}ignoreEvent(){return!1}}function mV(t){let e=Tt.fromClass(class{constructor(n){this.view=n,this.placeholder=t?ke.set([ke.widget({widget:new dV(t),side:1}).range(0)]):ke.none}get decorations(){return this.view.state.doc.length?ke.none:this.placeholder}},{decorations:n=>n.decorations});return typeof t=="string"?[e,pe.contentAttributes.of({"aria-placeholder":t})]:e}const V1=2e3;function pV(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),a=[];if(e.off>V1||n.off>V1||e.col<0||n.col<0){let l=Math.min(e.off,n.off),o=Math.max(e.off,n.off);for(let u=r;u<=i;u++){let h=t.doc.line(u);h.length<=o&&a.push(oe.range(h.from+l,h.to+o))}}else{let l=Math.min(e.col,n.col),o=Math.max(e.col,n.col);for(let u=r;u<=i;u++){let h=t.doc.line(u),d=C1(h.text,l,t.tabSize,!0);if(d<0)a.push(oe.cursor(h.to));else{let m=C1(h.text,o,t.tabSize);a.push(oe.range(h.from+d,h.from+m))}}}return a}function gV(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function VN(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,a=i>V1?-1:i==r.length?gV(t,e.clientX):cc(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:a,off:i}}function yV(t,e){let n=VN(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let a=i.changes.mapPos(i.startState.doc.line(n.line).from),l=i.state.doc.lineAt(a);n={line:l.number,col:n.col,off:Math.min(n.off,l.length)},r=r.map(i.changes)}},get(i,a,l){let o=VN(t,i);if(!o)return r;let u=pV(t.state,n,o);return u.length?l?oe.create(u.concat(r.ranges)):oe.create(u):r}}:null}function vV(t){let e=(n=>n.altKey&&n.button==0);return pe.mouseSelectionStyle.of((n,r)=>e(r)?yV(n,r):null)}const xV={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},bV={style:"cursor: crosshair"};function wV(t={}){let[e,n]=xV[t.key||"Alt"],r=Tt.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,pe.contentAttributes.of(i=>{var a;return!((a=i.plugin(r))===null||a===void 0)&&a.isDown?bV:null})]}const qd="-10000px";class I3{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(l=>l);let a=null;this.tooltipViews=this.tooltips.map(l=>a=r(l,a))}update(e,n){var r;let i=e.state.facet(this.facet),a=i.filter(u=>u);if(i===this.input){for(let u of this.tooltipViews)u.update&&u.update(e);return!1}let l=[],o=n?[]:null;for(let u=0;u<a.length;u++){let h=a[u],d=-1;if(h){for(let m=0;m<this.tooltips.length;m++){let y=this.tooltips[m];y&&y.create==h.create&&(d=m)}if(d<0)l[u]=this.createTooltipView(h,u?l[u-1]:null),o&&(o[u]=!!h.above);else{let m=l[u]=this.tooltipViews[d];o&&(o[u]=n[d]),m.update&&m.update(e)}}}for(let u of this.tooltipViews)l.indexOf(u)<0&&(this.removeTooltipView(u),(r=u.destroy)===null||r===void 0||r.call(u));return n&&(o.forEach((u,h)=>n[h]=u),n.length=o.length),this.input=i,this.tooltips=a,this.tooltipViews=l,!0}}function SV(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const Jv=ye.define({combine:t=>{var e,n,r;return{position:ge.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||SV}}}),FN=new WeakMap,ES=Tt.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(Jv);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new I3(t,TS,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(Jv);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=qd,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:a}=this.manager.tooltipViews[0];if(ge.safari){let l=a.getBoundingClientRect();n=Math.abs(l.top+1e4)>1||Math.abs(l.left)>1}else n=!!a.offsetParent&&a.offsetParent!=this.container.ownerDocument.body}if(n||this.position=="absolute")if(this.parent){let a=this.parent.getBoundingClientRect();a.width&&a.height&&(t=a.width/this.parent.offsetWidth,e=a.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=kS(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((a,l)=>{let o=this.manager.tooltipViews[l];return o.getCoords?o.getCoords(a.pos):this.view.coordsAtPos(a.pos)}),size:this.manager.tooltipViews.map(({dom:a})=>a.getBoundingClientRect()),space:this.view.state.facet(Jv).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let o of this.manager.tooltipViews)o.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:a}=t,l=[];for(let o=0;o<this.manager.tooltips.length;o++){let u=this.manager.tooltips[o],h=this.manager.tooltipViews[o],{dom:d}=h,m=t.pos[o],y=t.size[o];if(!m||u.clip!==!1&&(m.bottom<=Math.max(n.top,r.top)||m.top>=Math.min(n.bottom,r.bottom)||m.right<Math.max(n.left,r.left)-.1||m.left>Math.min(n.right,r.right)+.1)){d.style.top=qd;continue}let v=u.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,b=v?7:0,O=y.right-y.left,C=(e=FN.get(h))!==null&&e!==void 0?e:y.bottom-y.top,k=h.offset||OV,N=this.view.textDirection==st.LTR,j=y.width>r.right-r.left?N?r.left:r.right-y.width:N?Math.max(r.left,Math.min(m.left-(v?14:0)+k.x,r.right-O)):Math.min(Math.max(r.left,m.left-O+(v?14:0)-k.x),r.right-O),M=this.above[o];!u.strictSide&&(M?m.top-C-b-k.y<r.top:m.bottom+C+b+k.y>r.bottom)&&M==r.bottom-m.bottom>m.top-r.top&&(M=this.above[o]=!M);let D=(M?m.top-r.top:r.bottom-m.bottom)-b;if(D<C&&h.resize!==!1){if(D<this.view.defaultLineHeight){d.style.top=qd;continue}FN.set(h,C),d.style.height=(C=D)/a+"px"}else d.style.height&&(d.style.height="");let T=M?m.top-C-b-k.y:m.bottom+b+k.y,E=j+O;if(h.overlap!==!0)for(let _ of l)_.left<E&&_.right>j&&_.top<T+C&&_.bottom>T&&(T=M?_.top-C-2-b:_.bottom+b+2);if(this.position=="absolute"?(d.style.top=(T-t.parent.top)/a+"px",WN(d,(j-t.parent.left)/i)):(d.style.top=T/a+"px",WN(d,j/i)),v){let _=m.left+(N?k.x:-k.x)-(j+14-7);v.style.left=_/i+"px"}h.overlap!==!0&&l.push({left:j,top:T,right:E,bottom:T+C}),d.classList.toggle("cm-tooltip-above",M),d.classList.toggle("cm-tooltip-below",!M),h.positioned&&h.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=qd}},{eventObservers:{scroll(){this.maybeMeasure()}}});function WN(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const CV=pe.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),OV={x:0,y:0},TS=ye.define({enables:[ES,CV]}),Km=ye.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class wg{static create(e){return new wg(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new I3(e,Km,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const kV=TS.compute([Km],t=>{let e=t.facet(Km);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:wg.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class jV{constructor(e,n,r,i,a){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=a,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.tile.nearest(n.target);if(!r)return;let i,a=1;if(r.isWidget())i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let o=e.coordsAtPos(i);if(!o||n.y<o.top||n.y>o.bottom||n.x<o.left-e.defaultCharacterWidth||n.x>o.right+e.defaultCharacterWidth)return;let u=e.bidiSpans(e.state.doc.lineAt(i)).find(d=>d.from<=i&&d.to>=i),h=u&&u.dir==st.RTL?-1:1;a=n.x<o.left?-h:h}let l=this.source(e,i,a);if(l?.then){let o=this.pending={pos:i};l.then(u=>{this.pending==o&&(this.pending=null,u&&!(Array.isArray(u)&&!u.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(u)?u:[u])}))},u=>Gn(e.state,u,"hover tooltip"))}else l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])})}get tooltip(){let e=this.view.plugin(ES),n=e?e.manager.tooltips.findIndex(r=>r.create==wg.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:a}=this;if(i.length&&a&&!AV(a.dom,e)||this.pending){let{pos:l}=i[0]||this.pending,o=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:l;(l==o?this.view.posAtCoords(this.lastMove)!=l:!NV(this.view,l,o,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),clearTimeout(this.restartTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const $d=4;function AV(t,e){let{left:n,right:r,top:i,bottom:a}=t.getBoundingClientRect(),l;if(l=t.querySelector(".cm-tooltip-arrow")){let o=l.getBoundingClientRect();i=Math.min(o.top,i),a=Math.max(o.bottom,a)}return e.clientX>=n-$d&&e.clientX<=r+$d&&e.clientY>=i-$d&&e.clientY<=a+$d}function NV(t,e,n,r,i,a){let l=t.scrollDOM.getBoundingClientRect(),o=t.documentTop+t.documentPadding.top+t.contentHeight;if(l.left>r||l.right<r||l.top>i||Math.min(l.bottom,o)<i)return!1;let u=t.posAtCoords({x:r,y:i},!1);return u>=e&&u<=n}function EV(t,e={}){let n=Me.define(),r=bn.define({create(){return[]},update(i,a){if(i.length&&(e.hideOnChange&&(a.docChanged||a.selection)?i=[]:e.hideOn&&(i=i.filter(l=>!e.hideOn(a,l))),a.docChanged)){let l=[];for(let o of i){let u=a.changes.mapPos(o.pos,-1,Tn.TrackDel);if(u!=null){let h=Object.assign(Object.create(null),o);h.pos=u,h.end!=null&&(h.end=a.changes.mapPos(h.end)),l.push(h)}}i=l}for(let l of a.effects)l.is(n)&&(i=l.value),l.is(TV)&&(i=[]);return i},provide:i=>Km.from(i)});return{active:r,extension:[r,Tt.define(i=>new jV(i,t,r,n,e.hoverTime||300)),kV]}}function U3(t,e){let n=t.plugin(ES);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const TV=Me.define(),KN=ye.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function MS(t,e){let n=t.plugin(H3),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const H3=Tt.fromClass(class{constructor(t){this.input=t.state.facet(uf),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(KN);this.top=new Vd(t,!0,e.topContainer),this.bottom=new Vd(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(KN);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Vd(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Vd(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(uf);if(n!=this.input){let r=n.filter(u=>u),i=[],a=[],l=[],o=[];for(let u of r){let h=this.specs.indexOf(u),d;h<0?(d=u(t.view),o.push(d)):(d=this.panels[h],d.update&&d.update(t)),i.push(d),(d.top?a:l).push(d)}this.specs=r,this.panels=i,this.top.sync(a),this.bottom.sync(l);for(let u of o)u.dom.classList.add("cm-panel"),u.mount&&u.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>pe.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class Vd{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=GN(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=GN(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function GN(t){let e=t.nextSibling;return t.remove(),e}const uf=ye.define({enables:H3});function MV(t,e){let n,r=new Promise(l=>n=l),i=l=>DV(l,e,n);t.state.field(ex,!1)?t.dispatch({effects:q3.of(i)}):t.dispatch({effects:Me.appendConfig.of(ex.init(()=>[i]))});let a=$3.of(i);return{close:a,result:r.then(l=>((t.win.queueMicrotask||(u=>t.win.setTimeout(u,10)))(()=>{t.state.field(ex).indexOf(i)>-1&&t.dispatch({effects:a})}),l))}}const ex=bn.define({create(){return[]},update(t,e){for(let n of e.effects)n.is(q3)?t=[n.value].concat(t):n.is($3)&&(t=t.filter(r=>r!=n.value));return t},provide:t=>uf.computeN([t],e=>e.field(t))}),q3=Me.define(),$3=Me.define();function DV(t,e,n){let r=e.content?e.content(t,()=>l(null)):null;if(!r){if(r=nt("form"),e.input){let o=nt("input",e.input);/^(text|password|number|email|tel|url)$/.test(o.type)&&o.classList.add("cm-textfield"),o.name||(o.name="input"),r.appendChild(nt("label",(e.label||"")+": ",o))}else r.appendChild(document.createTextNode(e.label||""));r.appendChild(document.createTextNode(" ")),r.appendChild(nt("button",{class:"cm-button",type:"submit"},e.submitLabel||"OK"))}let i=r.nodeName=="FORM"?[r]:r.querySelectorAll("form");for(let o=0;o<i.length;o++){let u=i[o];u.addEventListener("keydown",h=>{h.keyCode==27?(h.preventDefault(),l(null)):h.keyCode==13&&(h.preventDefault(),l(u))}),u.addEventListener("submit",h=>{h.preventDefault(),l(u)})}let a=nt("div",r,nt("button",{onclick:()=>l(null),"aria-label":t.state.phrase("close"),class:"cm-dialog-close",type:"button"},[""]));e.class&&(a.className=e.class),a.classList.add("cm-dialog");function l(o){a.contains(a.ownerDocument.activeElement)&&t.focus(),n(o)}return{dom:a,top:e.top,mount:()=>{if(e.focus){let o;typeof e.focus=="string"?o=r.querySelector(e.focus):o=r.querySelector("input")||r.querySelector("button"),o&&"select"in o?o.select():o&&"focus"in o&&o.focus()}}}}class ma extends vs{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ma.prototype.elementClass="";ma.prototype.toDOM=void 0;ma.prototype.mapMode=Tn.TrackBefore;ma.prototype.startSide=ma.prototype.endSide=-1;ma.prototype.point=!0;const km=ye.define(),PV=ye.define(),_V={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>ze.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},Yu=ye.define();function RV(t){return[V3(),Yu.of({..._V,...t})]}const YN=ye.define({combine:t=>t.some(e=>e)});function V3(t){return[LV]}const LV=Tt.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Yu).map(e=>new XN(t,e)),this.fixed=!t.state.facet(YN);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(t.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(YN)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=ze.iter(this.view.state.facet(km),this.view.viewport.from),r=[],i=this.gutters.map(a=>new BV(a,this.view.viewport,-this.view.documentPadding.top));for(let a of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(a.type)){let l=!0;for(let o of a.type)if(o.type==yn.Text&&l){F1(n,r,o.from);for(let u of i)u.line(this.view,o,r);l=!1}else if(o.widget)for(let u of i)u.widget(this.view,o)}else if(a.type==yn.Text){F1(n,r,a.from);for(let l of i)l.line(this.view,a,r)}else if(a.widget)for(let l of i)l.widget(this.view,a);for(let a of i)a.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet(Yu),n=t.state.facet(Yu),r=t.docChanged||t.heightChanged||t.viewportChanged||!ze.eq(t.startState.facet(km),t.state.facet(km),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let a of n){let l=e.indexOf(a);l<0?i.push(new XN(this.view,a)):(this.gutters[l].update(t),i.push(this.gutters[l]))}for(let a of this.gutters)a.dom.remove(),i.indexOf(a)<0&&a.destroy();for(let a of i)a.config.side=="after"?this.getDOMAfter().appendChild(a.dom):this.dom.appendChild(a.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>pe.scrollMargins.of(e=>{let n=e.plugin(t);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*e.scaleX,i=n.domAfter?n.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==st.LTR?{left:r,right:i}:{right:r,left:i}})});function QN(t){return Array.isArray(t)?t:[t]}function F1(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class BV{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=ze.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,a=(n.top-this.height)/e.scaleY,l=n.height/e.scaleY;if(this.i==i.elements.length){let o=new F3(e,l,a,r);i.elements.push(o),i.dom.appendChild(o.dom)}else i.elements[this.i].update(e,l,a,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];F1(this.cursor,i,n.from),r.length&&(i=i.concat(r));let a=this.gutter.config.lineMarker(e,n,i);a&&i.unshift(a);let l=this.gutter;i.length==0&&!l.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let a of e.state.facet(PV)){let l=a(e,n.widget,n);l&&(i||(i=[])).push(l)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class XN{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let a=i.target,l;if(a!=this.dom&&this.dom.contains(a)){for(;a.parentNode!=this.dom;)a=a.parentNode;let u=a.getBoundingClientRect();l=(u.top+u.bottom)/2}else l=i.clientY;let o=e.lineBlockAtHeight(l-e.documentTop);n.domEventHandlers[r](e,o,i)&&i.preventDefault()});this.markers=QN(n.markers(e)),n.initialSpacer&&(this.spacer=new F3(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=QN(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!ze.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class F3{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),zV(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let a=0,l=0;;){let o=l,u=a<n.length?n[a++]:null,h=!1;if(u){let d=u.elementClass;d&&(r+=" "+d);for(let m=l;m<this.markers.length;m++)if(this.markers[m].compare(u)){o=m,h=!0;break}}else o=this.markers.length;for(;l<o;){let d=this.markers[l++];if(d.toDOM){d.destroy(i);let m=i.nextSibling;i.remove(),i=m}}if(!u)break;u.toDOM&&(h?i=i.nextSibling:this.dom.insertBefore(u.toDOM(e),i)),h&&l++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function zV(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const IV=ye.define(),UV=ye.define(),To=ye.define({combine(t){return Li(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let a=r[i],l=n[i];r[i]=a?(o,u,h)=>a(o,u,h)||l(o,u,h):l}return r}})}});class tx extends ma{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function nx(t,e){return t.state.facet(To).formatNumber(e,t.state)}const HV=Yu.compute([To],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(IV)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new tx(nx(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(UV)){let a=i(e,n,r);if(a)return a}return null},lineMarkerChange:e=>e.startState.facet(To)!=e.state.facet(To),initialSpacer(e){return new tx(nx(e,ZN(e.state.doc.lines)))},updateSpacer(e,n){let r=nx(n.view,ZN(n.view.state.doc.lines));return r==e.number?e:new tx(r)},domEventHandlers:t.facet(To).domEventHandlers,side:"before"}));function qV(t={}){return[To.of(t),V3(),HV]}function ZN(t){let e=9;for(;e<t;)e=e*10+9;return e}const $V=new class extends ma{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},VV=km.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push($V.range(i)))}return ze.of(e)});function FV(){return VV}const W3=1024;let WV=0;class rx{constructor(e,n){this.from=e,this.to=n}}class Re{constructor(e={}){this.id=WV++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Zn.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}Re.closedBy=new Re({deserialize:t=>t.split(" ")});Re.openedBy=new Re({deserialize:t=>t.split(" ")});Re.group=new Re({deserialize:t=>t.split(" ")});Re.isolate=new Re({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});Re.contextHash=new Re({perNode:!0});Re.lookAhead=new Re({perNode:!0});Re.mounted=new Re({perNode:!0});class Qu{constructor(e,n,r,i=!1){this.tree=e,this.overlay=n,this.parser=r,this.bracketed=i}static get(e){return e&&e.props&&e.props[Re.mounted.id]}}const KV=Object.create(null);class Zn{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):KV,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Zn(e.name||"",n,e.id,r);if(e.props){for(let a of e.props)if(Array.isArray(a)||(a=a(i)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[a[0].id]=a[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(Re.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(Re.group),a=-1;a<(i?i.length:0);a++){let l=n[a<0?r.name:i[a]];if(l)return l}}}}Zn.none=new Zn("",Object.create(null),0,8);class DS{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let a of e){let l=a(r);if(l){i||(i=Object.assign({},r.props));let o=l[1],u=l[0];u.combine&&u.id in i&&(o=u.combine(i[u.id],o)),i[u.id]=o}}n.push(i?new Zn(r.name,i,r.id,r.flags):r)}return new DS(n)}}const Fd=new WeakMap,JN=new WeakMap;var kt;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays",t[t.EnterBracketed=16]="EnterBracketed"})(kt||(kt={}));class Et{constructor(e,n,r,i,a){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,a&&a.length){this.props=Object.create(null);for(let[l,o]of a)this.props[typeof l=="number"?l:l.id]=o}}toString(){let e=Qu.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new K1(this.topNode,e)}cursorAt(e,n=0,r=0){let i=Fd.get(this)||this.topNode,a=new K1(i);return a.moveTo(e,n),Fd.set(this,a._tree),a}get topNode(){return new Ur(this,0,0,null)}resolve(e,n=0){let r=ff(Fd.get(this)||this.topNode,e,n,!1);return Fd.set(this,r),r}resolveInner(e,n=0){let r=ff(JN.get(this)||this.topNode,e,n,!0);return JN.set(this,r),r}resolveStack(e,n=0){return QV(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:a=this.length}=e,l=e.mode||0,o=(l&kt.IncludeAnonymous)>0;for(let u=this.cursor(l|kt.IncludeAnonymous);;){let h=!1;if(u.from<=a&&u.to>=i&&(!o&&u.type.isAnonymous||n(u)!==!1)){if(u.firstChild())continue;h=!0}for(;h&&r&&(o||!u.type.isAnonymous)&&r(u),!u.nextSibling();){if(!u.parent())return;h=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:RS(Zn.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new Et(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new Et(Zn.none,n,r,i)))}static build(e){return XV(e)}}Et.empty=new Et(Zn.none,[],[],0);class PS{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new PS(this.buffer,this.index)}}class Ss{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return Zn.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],a=i.name;if(/\W/.test(a)&&!i.isError&&(a=JSON.stringify(a)),e+=4,r==e)return a;let l=[];for(;e<r;)l.push(this.childString(e)),e=this.buffer[e+3];return a+"("+l.join(",")+")"}findChild(e,n,r,i,a){let{buffer:l}=this,o=-1;for(let u=e;u!=n&&!(K3(a,i,l[u+1],l[u+2])&&(o=u,r>0));u=l[u+3]);return o}slice(e,n,r){let i=this.buffer,a=new Uint16Array(n-e),l=0;for(let o=e,u=0;o<n;){a[u++]=i[o++],a[u++]=i[o++]-r;let h=a[u++]=i[o++]-r;a[u++]=i[o++]-e,l=Math.max(l,h)}return new Ss(a,l,this.set)}}function K3(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function ff(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let l=!r&&t instanceof Ur&&t.index<0?null:t.parent;if(!l)return t;t=l}let a=r?0:kt.IgnoreOverlays;if(r)for(let l=t,o=l.parent;o;l=o,o=l.parent)l instanceof Ur&&l.index<0&&((i=o.enter(e,n,a))===null||i===void 0?void 0:i.from)!=l.from&&(t=o);for(;;){let l=t.enter(e,n,a);if(!l)return t;t=l}}class G3{cursor(e=0){return new K1(this,e)}getChild(e,n=null,r=null){let i=eE(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return eE(this,e,n,r)}resolve(e,n=0){return ff(this,e,n,!1)}resolveInner(e,n=0){return ff(this,e,n,!0)}matchContext(e){return W1(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class Ur extends G3{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,a=0){for(let l=this;;){for(let{children:o,positions:u}=l._tree,h=n>0?o.length:-1;e!=h;e+=n){let d=o[e],m=u[e]+l.from,y;if(!(!(a&kt.EnterBracketed&&d instanceof Et&&(y=Qu.get(d))&&!y.overlay&&y.bracketed&&r>=m&&r<=m+d.length)&&!K3(i,r,m,m+d.length))){if(d instanceof Ss){if(a&kt.ExcludeBuffers)continue;let v=d.findChild(0,d.buffer.length,n,r-m,i);if(v>-1)return new us(new GV(l,d,e,m),null,v)}else if(a&kt.IncludeAnonymous||!d.type.isAnonymous||_S(d)){let v;if(!(a&kt.IgnoreMounts)&&(v=Qu.get(d))&&!v.overlay)return new Ur(v.tree,m,e,l);let b=new Ur(d,m,e,l);return a&kt.IncludeAnonymous||!b.type.isAnonymous?b:b.nextChild(n<0?d.children.length-1:0,n,r,i,a)}}}if(a&kt.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?e=l.index+n:e=n<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,n,r=0){let i;if(!(r&kt.IgnoreOverlays)&&(i=Qu.get(this._tree))&&i.overlay){let a=e-this.from,l=r&kt.EnterBracketed&&i.bracketed;for(let{from:o,to:u}of i.overlay)if((n>0||l?o<=a:o<a)&&(n<0||l?u>=a:u>a))return new Ur(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function eE(t,e,n,r){let i=t.cursor(),a=[];if(!i.firstChild())return a;if(n!=null){for(let l=!1;!l;)if(l=i.type.is(n),!i.nextSibling())return a}for(;;){if(r!=null&&i.type.is(r))return a;if(i.type.is(e)&&a.push(i.node),!i.nextSibling())return r==null?a:[]}}function W1(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class GV{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class us extends G3{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return a<0?null:new us(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,n,r=0){if(r&kt.ExcludeBuffers)return null;let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return a<0?null:new us(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new us(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new us(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,a=r.buffer[this.index+3];if(a>i){let l=r.buffer[this.index+1];e.push(r.slice(i,a,l)),n.push(0)}return new Et(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Y3(t){if(!t.length)return null;let e=0,n=t[0];for(let a=1;a<t.length;a++){let l=t[a];(l.from>n.from||l.to<n.to)&&(n=l,e=a)}let r=n instanceof Ur&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new YV(i,n)}class YV{constructor(e,n){this.heads=e,this.node=n}get next(){return Y3(this.heads)}}function QV(t,e,n){let r=t.resolveInner(e,n),i=null;for(let a=r instanceof Ur?r:r.context.parent;a;a=a.parent)if(a.index<0){let l=a.parent;(i||(i=[r])).push(l.resolve(e,n)),a=l}else{let l=Qu.get(a.tree);if(l&&l.overlay&&l.overlay[0].from<=e&&l.overlay[l.overlay.length-1].to>=e){let o=new Ur(l.tree,l.overlay[0].from+a.from,-1,a);(i||(i=[r])).push(ff(o,e,n,!1))}}return i?Y3(i):r}class K1{get name(){return this.type.name}constructor(e,n=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=n&~kt.EnterBracketed,e instanceof Ur)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Ur?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,a=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return a<0?!1:(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&kt.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&kt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&kt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(i.buffer.buffer[a+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let a=n+e,l=e<0?-1:r._tree.children.length;a!=l;a+=e){let o=r._tree.children[a];if(this.mode&kt.IncludeAnonymous||o instanceof Ss||!o.type.isAnonymous||_S(o))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,a=this.stack.length;a>=0;){for(let l=e;l;l=l._parent)if(l.index==i){if(i==this.index)return l;n=l,r=a+1;break e}i=this.stack[--a]}for(let i=r;i<this.stack.length;i++)n=new us(this.buffer,n,this.stack[i]);return this.bufferNode=new us(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return W1(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,a=this.stack.length-1;i>=0;a--){if(a<0)return W1(this._tree,e,i);let l=r[n.buffer[this.stack[a]]];if(!l.isAnonymous){if(e[i]&&e[i]!=l.name)return!1;i--}}return!0}}function _S(t){return t.children.some(e=>e instanceof Ss||!e.type.isAnonymous||_S(e))}function XV(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=W3,reused:a=[],minRepeatType:l=r.types.length}=t,o=Array.isArray(n)?new PS(n,n.length):n,u=r.types,h=0,d=0;function m(D,T,E,_,R,H){let{id:B,start:z,end:ie,size:ne}=o,I=d,q=h;if(ne<0)if(o.next(),ne==-1){let L=a[B];E.push(L),_.push(z-D);return}else if(ne==-3){h=B;return}else if(ne==-4){d=B;return}else throw new RangeError(`Unrecognized record size: ${ne}`);let V=u[B],te,W,ce=z-D;if(ie-z<=i&&(W=C(o.pos-T,R))){let L=new Uint16Array(W.size-W.skip),Y=o.pos-W.size,ue=L.length;for(;o.pos>Y;)ue=k(W.start,L,ue);te=new Ss(L,ie-W.start,r),ce=W.start-D}else{let L=o.pos-ne;o.next();let Y=[],ue=[],X=B>=l?B:-1,de=0,he=ie;for(;o.pos>L;)X>=0&&o.id==X&&o.size>=0?(o.end<=he-i&&(b(Y,ue,z,de,o.end,he,X,I,q),de=Y.length,he=o.end),o.next()):H>2500?y(z,L,Y,ue):m(z,L,Y,ue,X,H+1);if(X>=0&&de>0&&de<Y.length&&b(Y,ue,z,de,z,he,X,I,q),Y.reverse(),ue.reverse(),X>-1&&de>0){let ve=v(V,q);te=RS(V,Y,ue,0,Y.length,0,ie-z,ve,ve)}else te=O(V,Y,ue,ie-z,I-ie,q)}E.push(te),_.push(ce)}function y(D,T,E,_){let R=[],H=0,B=-1;for(;o.pos>T;){let{id:z,start:ie,end:ne,size:I}=o;if(I>4)o.next();else{if(B>-1&&ie<B)break;B<0&&(B=ne-i),R.push(z,ie,ne),H++,o.next()}}if(H){let z=new Uint16Array(H*4),ie=R[R.length-2];for(let ne=R.length-3,I=0;ne>=0;ne-=3)z[I++]=R[ne],z[I++]=R[ne+1]-ie,z[I++]=R[ne+2]-ie,z[I++]=I;E.push(new Ss(z,R[2]-ie,r)),_.push(ie-D)}}function v(D,T){return(E,_,R)=>{let H=0,B=E.length-1,z,ie;if(B>=0&&(z=E[B])instanceof Et){if(!B&&z.type==D&&z.length==R)return z;(ie=z.prop(Re.lookAhead))&&(H=_[B]+z.length+ie)}return O(D,E,_,R,H,T)}}function b(D,T,E,_,R,H,B,z,ie){let ne=[],I=[];for(;D.length>_;)ne.push(D.pop()),I.push(T.pop()+E-R);D.push(O(r.types[B],ne,I,H-R,z-H,ie)),T.push(R-E)}function O(D,T,E,_,R,H,B){if(H){let z=[Re.contextHash,H];B=B?[z].concat(B):[z]}if(R>25){let z=[Re.lookAhead,R];B=B?[z].concat(B):[z]}return new Et(D,T,E,_,B)}function C(D,T){let E=o.fork(),_=0,R=0,H=0,B=E.end-i,z={size:0,start:0,skip:0};e:for(let ie=E.pos-D;E.pos>ie;){let ne=E.size;if(E.id==T&&ne>=0){z.size=_,z.start=R,z.skip=H,H+=4,_+=4,E.next();continue}let I=E.pos-ne;if(ne<0||I<ie||E.start<B)break;let q=E.id>=l?4:0,V=E.start;for(E.next();E.pos>I;){if(E.size<0)if(E.size==-3||E.size==-4)q+=4;else break e;else E.id>=l&&(q+=4);E.next()}R=V,_+=ne,H+=q}return(T<0||_==D)&&(z.size=_,z.start=R,z.skip=H),z.size>4?z:void 0}function k(D,T,E){let{id:_,start:R,end:H,size:B}=o;if(o.next(),B>=0&&_<l){let z=E;if(B>4){let ie=o.pos-(B-4);for(;o.pos>ie;)E=k(D,T,E)}T[--E]=z,T[--E]=H-D,T[--E]=R-D,T[--E]=_}else B==-3?h=_:B==-4&&(d=_);return E}let N=[],j=[];for(;o.pos>0;)m(t.start||0,t.bufferStart||0,N,j,-1,0);let M=(e=t.length)!==null&&e!==void 0?e:N.length?j[0]+N[0].length:0;return new Et(u[t.topID],N.reverse(),j.reverse(),M)}const tE=new WeakMap;function jm(t,e){if(!t.isAnonymous||e instanceof Ss||e.type!=t)return 1;let n=tE.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Et)){n=1;break}n+=jm(t,r)}tE.set(e,n)}return n}function RS(t,e,n,r,i,a,l,o,u){let h=0;for(let b=r;b<i;b++)h+=jm(t,e[b]);let d=Math.ceil(h*1.5/8),m=[],y=[];function v(b,O,C,k,N){for(let j=C;j<k;){let M=j,D=O[j],T=jm(t,b[j]);for(j++;j<k;j++){let E=jm(t,b[j]);if(T+E>=d)break;T+=E}if(j==M+1){if(T>d){let E=b[M];v(E.children,E.positions,0,E.children.length,O[M]+N);continue}m.push(b[M])}else{let E=O[j-1]+b[j-1].length-D;m.push(RS(t,b,O,M,j,D,E,null,u))}y.push(D+N-a)}}return v(e,n,r,i,0),(o||u)(m,y,l)}class gl{constructor(e,n,r,i,a=!1,l=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(a?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new gl(0,e.length,e,0,!1,r)];for(let a of n)a.to>e.length&&i.push(a);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],a=1,l=e.length?e[0]:null;for(let o=0,u=0,h=0;;o++){let d=o<n.length?n[o]:null,m=d?d.fromA:1e9;if(m-u>=r)for(;l&&l.from<m;){let y=l;if(u>=y.from||m<=y.to||h){let v=Math.max(y.from,u)-h,b=Math.min(y.to,m)-h;y=v>=b?null:new gl(v,b,y.tree,y.offset+h,o>0,!!d)}if(y&&i.push(y),l.to>m)break;l=a<e.length?e[a++]:null}if(!d)break;u=d.toA,h=d.toA-d.toB}return i}}class Q3{startParse(e,n,r){return typeof e=="string"&&(e=new ZV(e)),r=r?r.length?r.map(i=>new rx(i.from,i.to)):[new rx(0,0)]:[new rx(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let a=i.advance();if(a)return a}}}class ZV{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new Re({perNode:!0});let JV=0;class _r{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=JV++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof _r&&(n=e),n?.base)throw new Error("Can not derive from a modified tag");let i=new _r(r,[],null,[]);if(i.set.push(i),n)for(let a of n.set)i.set.push(a);return i}static defineModifier(e){let n=new Gm(e);return r=>r.modified.indexOf(n)>-1?r:Gm.get(r.base||r,r.modified.concat(n).sort((i,a)=>i.id-a.id))}}let eF=0;class Gm{constructor(e){this.name=e,this.instances=[],this.id=eF++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(o=>o.base==e&&tF(n,o.modified));if(r)return r;let i=[],a=new _r(e.name,i,e,n);for(let o of n)o.instances.push(a);let l=nF(n);for(let o of e.set)if(!o.modified.length)for(let u of l)i.push(Gm.get(o,u));return a}}function tF(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function nF(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function X3(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let a=[],l=2,o=i;for(let m=0;;){if(o=="..."&&m>0&&m+3==i.length){l=1;break}let y=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!y)throw new RangeError("Invalid path: "+i);if(a.push(y[0]=="*"?"":y[0][0]=='"'?JSON.parse(y[0]):y[0]),m+=y[0].length,m==i.length)break;let v=i[m++];if(m==i.length&&v=="!"){l=0;break}if(v!="/")throw new RangeError("Invalid path: "+i);o=i.slice(m)}let u=a.length-1,h=a[u];if(!h)throw new RangeError("Invalid path: "+i);let d=new hf(r,l,u>0?a.slice(0,u):null);e[h]=d.sort(e[h])}}return Z3.add(e)}const Z3=new Re({combine(t,e){let n,r,i;for(;t||e;){if(!t||e&&t.depth>=e.depth?(i=e,e=e.next):(i=t,t=t.next),n&&n.mode==i.mode&&!i.context&&!n.context)continue;let a=new hf(i.tags,i.mode,i.context);n?n.next=a:r=a,n=a}return r}});class hf{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}hf.empty=new hf([],2,null);function J3(t,e){let n=Object.create(null);for(let a of t)if(!Array.isArray(a.tag))n[a.tag.id]=a.class;else for(let l of a.tag)n[l.id]=a.class;let{scope:r,all:i=null}=e||{};return{style:a=>{let l=i;for(let o of a)for(let u of o.set){let h=n[u.id];if(h){l=l?l+" "+h:h;break}}return l},scope:r}}function rF(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function iF(t,e,n,r=0,i=t.length){let a=new aF(r,Array.isArray(e)?e:[e],n);a.highlightRange(t.cursor(),r,i,"",a.highlighters),a.flush(i)}class aF{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,a){let{type:l,from:o,to:u}=e;if(o>=r||u<=n)return;l.isTop&&(a=this.highlighters.filter(v=>!v.scope||v.scope(l)));let h=i,d=sF(e)||hf.empty,m=rF(a,d.tags);if(m&&(h&&(h+=" "),h+=m,d.mode==1&&(i+=(i?" ":"")+m)),this.startSpan(Math.max(n,o),h),d.opaque)return;let y=e.tree&&e.tree.prop(Re.mounted);if(y&&y.overlay){let v=e.node.enter(y.overlay[0].from+o,1),b=this.highlighters.filter(C=>!C.scope||C.scope(y.tree.type)),O=e.firstChild();for(let C=0,k=o;;C++){let N=C<y.overlay.length?y.overlay[C]:null,j=N?N.from+o:u,M=Math.max(n,k),D=Math.min(r,j);if(M<D&&O)for(;e.from<D&&(this.highlightRange(e,M,D,i,a),this.startSpan(Math.min(D,e.to),h),!(e.to>=j||!e.nextSibling())););if(!N||j>r)break;k=N.to+o,k>n&&(this.highlightRange(v.cursor(),Math.max(n,N.from+o),Math.min(r,k),"",b),this.startSpan(Math.min(r,k),h))}O&&e.parent()}else if(e.firstChild()){y&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,a),this.startSpan(Math.min(r,e.to),h)}while(e.nextSibling());e.parent()}}}function sF(t){let e=t.type.prop(Z3);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const me=_r.define,Wd=me(),ns=me(),nE=me(ns),rE=me(ns),rs=me(),Kd=me(rs),ix=me(rs),vi=me(),Zs=me(vi),di=me(),mi=me(),G1=me(),Su=me(G1),Gd=me(),Z={comment:Wd,lineComment:me(Wd),blockComment:me(Wd),docComment:me(Wd),name:ns,variableName:me(ns),typeName:nE,tagName:me(nE),propertyName:rE,attributeName:me(rE),className:me(ns),labelName:me(ns),namespace:me(ns),macroName:me(ns),literal:rs,string:Kd,docString:me(Kd),character:me(Kd),attributeValue:me(Kd),number:ix,integer:me(ix),float:me(ix),bool:me(rs),regexp:me(rs),escape:me(rs),color:me(rs),url:me(rs),keyword:di,self:me(di),null:me(di),atom:me(di),unit:me(di),modifier:me(di),operatorKeyword:me(di),controlKeyword:me(di),definitionKeyword:me(di),moduleKeyword:me(di),operator:mi,derefOperator:me(mi),arithmeticOperator:me(mi),logicOperator:me(mi),bitwiseOperator:me(mi),compareOperator:me(mi),updateOperator:me(mi),definitionOperator:me(mi),typeOperator:me(mi),controlOperator:me(mi),punctuation:G1,separator:me(G1),bracket:Su,angleBracket:me(Su),squareBracket:me(Su),paren:me(Su),brace:me(Su),content:vi,heading:Zs,heading1:me(Zs),heading2:me(Zs),heading3:me(Zs),heading4:me(Zs),heading5:me(Zs),heading6:me(Zs),contentSeparator:me(vi),list:me(vi),quote:me(vi),emphasis:me(vi),strong:me(vi),link:me(vi),monospace:me(vi),strikethrough:me(vi),inserted:me(),deleted:me(),changed:me(),invalid:me(),meta:Gd,documentMeta:me(Gd),annotation:me(Gd),processingInstruction:me(Gd),definition:_r.defineModifier("definition"),constant:_r.defineModifier("constant"),function:_r.defineModifier("function"),standard:_r.defineModifier("standard"),local:_r.defineModifier("local"),special:_r.defineModifier("special")};for(let t in Z){let e=Z[t];e instanceof _r&&(e.name=t)}J3([{tag:Z.link,class:"tok-link"},{tag:Z.heading,class:"tok-heading"},{tag:Z.emphasis,class:"tok-emphasis"},{tag:Z.strong,class:"tok-strong"},{tag:Z.keyword,class:"tok-keyword"},{tag:Z.atom,class:"tok-atom"},{tag:Z.bool,class:"tok-bool"},{tag:Z.url,class:"tok-url"},{tag:Z.labelName,class:"tok-labelName"},{tag:Z.inserted,class:"tok-inserted"},{tag:Z.deleted,class:"tok-deleted"},{tag:Z.literal,class:"tok-literal"},{tag:Z.string,class:"tok-string"},{tag:Z.number,class:"tok-number"},{tag:[Z.regexp,Z.escape,Z.special(Z.string)],class:"tok-string2"},{tag:Z.variableName,class:"tok-variableName"},{tag:Z.local(Z.variableName),class:"tok-variableName tok-local"},{tag:Z.definition(Z.variableName),class:"tok-variableName tok-definition"},{tag:Z.special(Z.variableName),class:"tok-variableName2"},{tag:Z.definition(Z.propertyName),class:"tok-propertyName tok-definition"},{tag:Z.typeName,class:"tok-typeName"},{tag:Z.namespace,class:"tok-namespace"},{tag:Z.className,class:"tok-className"},{tag:Z.macroName,class:"tok-macroName"},{tag:Z.propertyName,class:"tok-propertyName"},{tag:Z.operator,class:"tok-operator"},{tag:Z.comment,class:"tok-comment"},{tag:Z.meta,class:"tok-meta"},{tag:Z.invalid,class:"tok-invalid"},{tag:Z.punctuation,class:"tok-punctuation"}]);var ax;const Mo=new Re;function lF(t){return ye.define({combine:t?e=>e.concat(t):void 0})}const oF=new Re;class ei{constructor(e,n,r=[],i=""){this.data=e,this.name=i,qe.prototype.hasOwnProperty("tree")||Object.defineProperty(qe.prototype,"tree",{get(){return Jt(this)}}),this.parser=n,this.extension=[Cs.of(this),qe.languageData.of((a,l,o)=>{let u=iE(a,l,o),h=u.type.prop(Mo);if(!h)return[];let d=a.facet(h),m=u.type.prop(oF);if(m){let y=u.resolve(l-u.from,o);for(let v of m)if(v.test(y,a)){let b=a.facet(v.facet);return v.type=="replace"?b:b.concat(d)}}return d})].concat(r)}isActiveAt(e,n,r=-1){return iE(e,n,r).type.prop(Mo)==this.data}findRegions(e){let n=e.facet(Cs);if(n?.data==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(a,l)=>{if(a.prop(Mo)==this.data){r.push({from:l,to:l+a.length});return}let o=a.prop(Re.mounted);if(o){if(o.tree.prop(Mo)==this.data){if(o.overlay)for(let u of o.overlay)r.push({from:u.from+l,to:u.to+l});else r.push({from:l,to:l+a.length});return}else if(o.overlay){let u=r.length;if(i(o.tree,o.overlay[0].from+l),r.length>u)return}}for(let u=0;u<a.children.length;u++){let h=a.children[u];h instanceof Et&&i(h,a.positions[u]+l)}};return i(Jt(e),0),r}get allowsNesting(){return!0}}ei.setState=Me.define();function iE(t,e,n){let r=t.facet(Cs),i=Jt(t).topNode;if(!r||r.allowsNesting)for(let a=i;a;a=a.enter(e,n,kt.ExcludeBuffers|kt.EnterBracketed))a.type.isTop&&(i=a);return i}class Ym extends ei{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=lF(e.languageData);return new Ym(n,e.parser.configure({props:[Mo.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new Ym(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Jt(t){let e=t.field(ei.state,!1);return e?e.tree:Et.empty}class cF{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let Cu=null;class Qm{constructor(e,n,r=[],i,a,l,o,u){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=a,this.viewport=l,this.skipped=o,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new Qm(e,n,[],Et.empty,0,r,[],null)}startParse(){return this.parser.startParse(new cF(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Et.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(gl.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(gl.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Cu;Cu=this;try{return e()}finally{Cu=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=aE(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:a,viewport:l,skipped:o}=this;if(this.takeTree(),!e.empty){let u=[];if(e.iterChangedRanges((h,d,m,y)=>u.push({fromA:h,toA:d,fromB:m,toB:y})),r=gl.applyChanges(r,u),i=Et.empty,a=0,l={from:e.mapPos(l.from,-1),to:e.mapPos(l.to,1)},this.skipped.length){o=[];for(let h of this.skipped){let d=e.mapPos(h.from,1),m=e.mapPos(h.to,-1);d<m&&o.push({from:d,to:m})}}}return new Qm(this.parser,n,r,i,a,l,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:a}=this.skipped[r];i<e.to&&a>e.from&&(this.fragments=aE(this.fragments,i,a),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends Q3{createParse(n,r,i){let a=i[0].from,l=i[i.length-1].to;return{parsedPos:a,advance(){let u=Cu;if(u){for(let h of i)u.tempSkipped.push(h);e&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,e]):e)}return this.parsedPos=l,new Et(Zn.none,[],[],l-a)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Cu}}function aE(t,e,n){return gl.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Xo{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new Xo(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=Qm.create(e.facet(Cs).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new Xo(r)}}ei.state=bn.define({create:Xo.init,update(t,e){for(let n of e.effects)if(n.is(ei.setState))return n.value;return e.startState.facet(Cs)!=e.state.facet(Cs)?Xo.init(e.state):t.apply(e)}});let e_=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(e_=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const sx=typeof navigator<"u"&&(!((ax=navigator.scheduling)===null||ax===void 0)&&ax.isInputPending)?()=>navigator.scheduling.isInputPending():null,uF=Tt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(ei.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(ei.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=e_(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,a=r.field(ei.state);if(a.tree==a.context.tree&&a.context.isDone(i+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,e&&!sx?Math.max(25,e.timeRemaining()-5):1e9),o=a.context.treeLen<i&&r.doc.length>i+1e3,u=a.context.work(()=>sx&&sx()||Date.now()>l,i+(o?0:1e5));this.chunkBudget-=Date.now()-n,(u||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:ei.setState.of(new Xo(a.context))})),this.chunkBudget>0&&!(u&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>Gn(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Cs=ye.define({combine(t){return t.length?t[0]:null},enables:t=>[ei.state,uF,pe.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class fF{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const hF=ye.define(),Sg=ye.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Xm(t){let e=t.facet(Sg);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function df(t,e){let n="",r=t.tabSize,i=t.facet(Sg)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let a=0;a<e;a++)n+=i;return n}function LS(t,e){t instanceof qe&&(t=new Cg(t));for(let r of t.state.facet(hF)){let i=r(t,e);if(i!==void 0)return i}let n=Jt(t.state);return n.length>=e?dF(t,n,e):null}class Cg{constructor(e,n={}){this.state=e,this.options=n,this.unit=Xm(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:a}=this.options;return i!=null&&i>=r.from&&i<=r.to?a&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),a=this.countColumn(r,e-i),l=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return l>-1&&(a+=l-this.countColumn(r,r.search(/\S|$/))),a}countColumn(e,n=e.length){return cc(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),a=this.options.overrideIndentation;if(a){let l=a(i);if(l>-1)return l}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const t_=new Re;function dF(t,e,n){let r=e.resolveStack(n),i=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let a=[];for(let l=i;l&&!(l.from<r.node.from||l.to>r.node.to||l.from==r.node.from&&l.type==r.node.type);l=l.parent)a.push(l);for(let l=a.length-1;l>=0;l--)r={node:a[l],next:r}}return n_(r,t,n)}function n_(t,e,n){for(let r=t;r;r=r.next){let i=pF(r.node);if(i)return i(BS.create(e,n,r))}return 0}function mF(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function pF(t){let e=t.type.prop(t_);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(Re.closedBy))){let i=t.lastChild,a=i&&r.indexOf(i.name)>-1;return l=>xF(l,!0,1,void 0,a&&!mF(l)?i.from:void 0)}return t.parent==null?gF:null}function gF(){return 0}class BS extends Cg{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new BS(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(yF(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return n_(this.context.next,this.base,this.pos)}}function yF(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function vF(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,a=t.state.doc.lineAt(n.from),l=i==null||i<=a.from?a.to:Math.min(a.to,i);for(let o=n.to;;){let u=e.childAfter(o);if(!u||u==r)return null;if(!u.type.isSkipped){if(u.from>=l)return null;let h=/^ */.exec(a.text.slice(n.to-a.from))[0].length;return{from:n.from,to:n.to+h}}o=u.to}}function xF(t,e,n,r,i){let a=t.textAfter,l=a.match(/^\s*/)[0].length,o=r&&a.slice(l,l+r.length)==r||i==t.pos+l,u=vF(t);return u?o?t.column(u.from):t.column(u.to):t.baseIndent+(o?0:t.unit*n)}function bF({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const wF=200;function SF(){return qe.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+wF)return t;let a=n.sliceString(i.from,r);if(!e.some(h=>h.test(a)))return t;let{state:l}=t,o=-1,u=[];for(let{head:h}of l.selection.ranges){let d=l.doc.lineAt(h);if(d.from==o)continue;o=d.from;let m=LS(l,d.from);if(m==null)continue;let y=/^\s*/.exec(d.text)[0],v=df(l,m);y!=v&&u.push({from:d.from,to:d.from+y.length,insert:v})}return u.length?[t,{changes:u,sequential:!0}]:t})}const CF=ye.define(),r_=new Re;function OF(t,e,n){let r=Jt(t);if(r.length<n)return null;let i=r.resolveStack(n,1),a=null;for(let l=i;l;l=l.next){let o=l.node;if(o.to<=n||o.from>n)continue;if(a&&o.from<e)break;let u=o.type.prop(r_);if(u&&(o.to<r.length-50||r.length==t.doc.length||!kF(o))){let h=u(o,t);h&&h.from<=n&&h.from>=e&&h.to>n&&(a=h)}}return a}function kF(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function Zm(t,e,n){for(let r of t.facet(CF)){let i=r(t,e,n);if(i)return i}return OF(t,e,n)}function i_(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const Og=Me.define({map:i_}),Kf=Me.define({map:i_});function a_(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const Ol=bn.define({create(){return ke.none},update(t,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((n,r)=>t=sE(t,n,r)),t=t.map(e.changes);for(let n of e.effects)if(n.is(Og)&&!jF(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(o_),i=r?ke.replace({widget:new PF(r(e.state,n.value))}):lE;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(Kf)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));return e.selection&&(t=sE(t,e.selection.main.head)),t},provide:t=>pe.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(lE.range(r,i))}return ke.set(e,!0)}});function sE(t,e,n=e){let r=!1;return t.between(e,n,(i,a)=>{i<n&&a>e&&(r=!0)}),r?t.update({filterFrom:e,filterTo:n,filter:(i,a)=>i>=n||a<=e}):t}function Jm(t,e,n){var r;let i=null;return(r=t.field(Ol,!1))===null||r===void 0||r.between(e,n,(a,l)=>{(!i||i.from>a)&&(i={from:a,to:l})}),i}function jF(t,e,n){let r=!1;return t.between(e,e,(i,a)=>{i==e&&a==n&&(r=!0)}),r}function s_(t,e){return t.field(Ol,!1)?e:e.concat(Me.appendConfig.of(c_()))}const AF=t=>{for(let e of a_(t)){let n=Zm(t.state,e.from,e.to);if(n)return t.dispatch({effects:s_(t.state,[Og.of(n),l_(t,n)])}),!0}return!1},NF=t=>{if(!t.state.field(Ol,!1))return!1;let e=[];for(let n of a_(t)){let r=Jm(t.state,n.from,n.to);r&&e.push(Kf.of(r),l_(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function l_(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return pe.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const EF=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),a=Zm(e,i.from,i.to);a&&n.push(Og.of(a)),r=(a?t.lineBlockAt(a.to):i).to+1}return n.length&&t.dispatch({effects:s_(t.state,n)}),!!n.length},TF=t=>{let e=t.state.field(Ol,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(Kf.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},MF=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:AF},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:NF},{key:"Ctrl-Alt-[",run:EF},{key:"Ctrl-Alt-]",run:TF}],DF={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},o_=ye.define({combine(t){return Li(t,DF)}});function c_(t){return[Ol,LF]}function u_(t,e){let{state:n}=t,r=n.facet(o_),i=l=>{let o=t.lineBlockAt(t.posAtDOM(l.target)),u=Jm(t.state,o.from,o.to);u&&t.dispatch({effects:Kf.of(u)}),l.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let a=document.createElement("span");return a.textContent=r.placeholderText,a.setAttribute("aria-label",n.phrase("folded code")),a.title=n.phrase("unfold"),a.className="cm-foldPlaceholder",a.onclick=i,a}const lE=ke.replace({widget:new class extends Bi{toDOM(t){return u_(t,null)}}});class PF extends Bi{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return u_(e,this.value)}}const _F={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class lx extends ma{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function RF(t={}){let e={..._F,...t},n=new lx(e,!0),r=new lx(e,!1),i=Tt.fromClass(class{constructor(l){this.from=l.viewport.from,this.markers=this.buildMarkers(l)}update(l){(l.docChanged||l.viewportChanged||l.startState.facet(Cs)!=l.state.facet(Cs)||l.startState.field(Ol,!1)!=l.state.field(Ol,!1)||Jt(l.startState)!=Jt(l.state)||e.foldingChanged(l))&&(this.markers=this.buildMarkers(l.view))}buildMarkers(l){let o=new ha;for(let u of l.viewportLineBlocks){let h=Jm(l.state,u.from,u.to)?r:Zm(l.state,u.from,u.to)?n:null;h&&o.add(u.from,u.from,h)}return o.finish()}}),{domEventHandlers:a}=e;return[i,RV({class:"cm-foldGutter",markers(l){var o;return((o=l.plugin(i))===null||o===void 0?void 0:o.markers)||ze.empty},initialSpacer(){return new lx(e,!1)},domEventHandlers:{...a,click:(l,o,u)=>{if(a.click&&a.click(l,o,u))return!0;let h=Jm(l.state,o.from,o.to);if(h)return l.dispatch({effects:Kf.of(h)}),!0;let d=Zm(l.state,o.from,o.to);return d?(l.dispatch({effects:Og.of(d)}),!0):!1}}}),c_()]}const LF=pe.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Gf{constructor(e,n){this.specs=e;let r;function i(o){let u=xs.newName();return(r||(r=Object.create(null)))["."+u]=o,u}const a=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,l=n.scope;this.scope=l instanceof ei?o=>o.prop(Mo)==l.data:l?o=>o==l:void 0,this.style=J3(e.map(o=>({tag:o.tag,class:o.class||i(Object.assign({},o,{tag:null}))})),{all:a}).style,this.module=r?new xs(r):null,this.themeType=n.themeType}static define(e,n){return new Gf(e,n||{})}}const Y1=ye.define(),f_=ye.define({combine(t){return t.length?[t[0]]:null}});function ox(t){let e=t.facet(Y1);return e.length?e:t.facet(f_)}function h_(t,e){let n=[zF],r;return t instanceof Gf&&(t.module&&n.push(pe.styleModule.of(t.module)),r=t.themeType),e?.fallback?n.push(f_.of(t)):r?n.push(Y1.computeN([pe.darkTheme],i=>i.facet(pe.darkTheme)==(r=="dark")?[t]:[])):n.push(Y1.of(t)),n}class BF{constructor(e){this.markCache=Object.create(null),this.tree=Jt(e.state),this.decorations=this.buildDeco(e,ox(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=Jt(e.state),r=ox(e.state),i=r!=ox(e.startState),{viewport:a}=e.view,l=e.changes.mapPos(this.decoratedTo,1);n.length<a.to&&!i&&n.type==this.tree.type&&l>=a.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=l):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=a.to)}buildDeco(e,n){if(!n||!this.tree.length)return ke.none;let r=new ha;for(let{from:i,to:a}of e.visibleRanges)iF(this.tree,n,(l,o,u)=>{r.add(l,o,this.markCache[u]||(this.markCache[u]=ke.mark({class:u})))},i,a);return r.finish()}}const zF=Pl.high(Tt.fromClass(BF,{decorations:t=>t.decorations})),IF=Gf.define([{tag:Z.meta,color:"#404740"},{tag:Z.link,textDecoration:"underline"},{tag:Z.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Z.emphasis,fontStyle:"italic"},{tag:Z.strong,fontWeight:"bold"},{tag:Z.strikethrough,textDecoration:"line-through"},{tag:Z.keyword,color:"#708"},{tag:[Z.atom,Z.bool,Z.url,Z.contentSeparator,Z.labelName],color:"#219"},{tag:[Z.literal,Z.inserted],color:"#164"},{tag:[Z.string,Z.deleted],color:"#a11"},{tag:[Z.regexp,Z.escape,Z.special(Z.string)],color:"#e40"},{tag:Z.definition(Z.variableName),color:"#00f"},{tag:Z.local(Z.variableName),color:"#30a"},{tag:[Z.typeName,Z.namespace],color:"#085"},{tag:Z.className,color:"#167"},{tag:[Z.special(Z.variableName),Z.macroName],color:"#256"},{tag:Z.definition(Z.propertyName),color:"#00c"},{tag:Z.comment,color:"#940"},{tag:Z.invalid,color:"#f00"}]),UF=pe.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),d_=1e4,m_="()[]{}",p_=ye.define({combine(t){return Li(t,{afterCursor:!0,brackets:m_,maxScanDistance:d_,renderMatch:$F})}}),HF=ke.mark({class:"cm-matchingBracket"}),qF=ke.mark({class:"cm-nonmatchingBracket"});function $F(t){let e=[],n=t.matched?HF:qF;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const VF=bn.define({create(){return ke.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(p_);for(let i of e.state.selection.ranges){if(!i.empty)continue;let a=Oi(e.state,i.head,-1,r)||i.head>0&&Oi(e.state,i.head-1,1,r)||r.afterCursor&&(Oi(e.state,i.head,1,r)||i.head<e.state.doc.length&&Oi(e.state,i.head+1,-1,r));a&&(n=n.concat(r.renderMatch(a,e.state)))}return ke.set(n,!0)},provide:t=>pe.decorations.from(t)}),FF=[VF,UF];function WF(t={}){return[p_.of(t),FF]}const KF=new Re;function Q1(t,e,n){let r=t.prop(e<0?Re.openedBy:Re.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function X1(t){let e=t.type.prop(KF);return e?e(t.node):t}function Oi(t,e,n,r={}){let i=r.maxScanDistance||d_,a=r.brackets||m_,l=Jt(t),o=l.resolveInner(e,n);for(let u=o;u;u=u.parent){let h=Q1(u.type,n,a);if(h&&u.from<u.to){let d=X1(u);if(d&&(n>0?e>=d.from&&e<d.to:e>d.from&&e<=d.to))return GF(t,e,n,u,d,h,a)}}return YF(t,e,n,l,o.type,i,a)}function GF(t,e,n,r,i,a,l){let o=r.parent,u={from:i.from,to:i.to},h=0,d=o?.cursor();if(d&&(n<0?d.childBefore(r.from):d.childAfter(r.to)))do if(n<0?d.to<=r.from:d.from>=r.to){if(h==0&&a.indexOf(d.type.name)>-1&&d.from<d.to){let m=X1(d);return{start:u,end:m?{from:m.from,to:m.to}:void 0,matched:!0}}else if(Q1(d.type,n,l))h++;else if(Q1(d.type,-n,l)){if(h==0){let m=X1(d);return{start:u,end:m&&m.from<m.to?{from:m.from,to:m.to}:void 0,matched:!1}}h--}}while(n<0?d.prevSibling():d.nextSibling());return{start:u,matched:!1}}function YF(t,e,n,r,i,a,l){let o=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),u=l.indexOf(o);if(u<0||u%2==0!=n>0)return null;let h={from:n<0?e-1:e,to:n>0?e+1:e},d=t.doc.iterRange(e,n>0?t.doc.length:0),m=0;for(let y=0;!d.next().done&&y<=a;){let v=d.value;n<0&&(y+=v.length);let b=e+y*n;for(let O=n>0?0:v.length-1,C=n>0?v.length:-1;O!=C;O+=n){let k=l.indexOf(v[O]);if(!(k<0||r.resolveInner(b+O,1).type!=i))if(k%2==0==n>0)m++;else{if(m==1)return{start:h,end:{from:b+O,to:b+O+1},matched:k>>1==u>>1};m--}}n>0&&(y+=v.length)}return d.done?{start:h,matched:!1}:null}const QF=Object.create(null),oE=[Zn.none],cE=[],uE=Object.create(null),XF=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])XF[t]=ZF(QF,e);function cx(t,e){cE.indexOf(t)>-1||(cE.push(t),console.warn(e))}function ZF(t,e){let n=[];for(let o of e.split(" ")){let u=[];for(let h of o.split(".")){let d=t[h]||Z[h];d?typeof d=="function"?u.length?u=u.map(d):cx(h,`Modifier ${h} used at start of tag`):u.length?cx(h,`Tag ${h} used as modifier`):u=Array.isArray(d)?d:[d]:cx(h,`Unknown highlighting tag ${h}`)}for(let h of u)n.push(h)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(o=>o.id),a=uE[i];if(a)return a.id;let l=uE[i]=Zn.define({id:oE.length,name:r,props:[X3({[r]:n})]});return oE.push(l),l.id}st.RTL,st.LTR;const JF=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=IS(t.state,n.from);return r.line?eW(t):r.block?nW(t):!1};function zS(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const eW=zS(aW,0),tW=zS(g_,0),nW=zS((t,e)=>g_(t,e,iW(e)),0);function IS(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const Ou=50;function rW(t,{open:e,close:n},r,i){let a=t.sliceDoc(r-Ou,r),l=t.sliceDoc(i,i+Ou),o=/\s*$/.exec(a)[0].length,u=/^\s*/.exec(l)[0].length,h=a.length-o;if(a.slice(h-e.length,h)==e&&l.slice(u,u+n.length)==n)return{open:{pos:r-o,margin:o&&1},close:{pos:i+u,margin:u&&1}};let d,m;i-r<=2*Ou?d=m=t.sliceDoc(r,i):(d=t.sliceDoc(r,r+Ou),m=t.sliceDoc(i-Ou,i));let y=/^\s*/.exec(d)[0].length,v=/\s*$/.exec(m)[0].length,b=m.length-v-n.length;return d.slice(y,y+e.length)==e&&m.slice(b,b+n.length)==n?{open:{pos:r+y+e.length,margin:/\s/.test(d.charAt(y+e.length))?1:0},close:{pos:i-v-n.length,margin:/\s/.test(m.charAt(b-1))?1:0}}:null}function iW(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let a=e.length-1;a>=0&&e[a].to>r.from?e[a].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function g_(t,e,n=e.selection.ranges){let r=n.map(a=>IS(e,a.from).block);if(!r.every(a=>a))return null;let i=n.map((a,l)=>rW(e,r[l],a.from,a.to));if(t!=2&&!i.every(a=>a))return{changes:e.changes(n.map((a,l)=>i[l]?[]:[{from:a.from,insert:r[l].open+" "},{from:a.to,insert:" "+r[l].close}]))};if(t!=1&&i.some(a=>a)){let a=[];for(let l=0,o;l<i.length;l++)if(o=i[l]){let u=r[l],{open:h,close:d}=o;a.push({from:h.pos-u.open.length,to:h.pos+h.margin},{from:d.pos-d.margin,to:d.pos+u.close.length})}return{changes:a}}return null}function aW(t,e,n=e.selection.ranges){let r=[],i=-1;e:for(let{from:a,to:l}of n){let o=r.length,u=1e9,h;for(let d=a;d<=l;){let m=e.doc.lineAt(d);if(h==null&&(h=IS(e,m.from).line,!h))continue e;if(m.from>i&&(a==l||l>m.from)){i=m.from;let y=/^\s*/.exec(m.text)[0].length,v=y==m.length,b=m.text.slice(y,y+h.length)==h?y:-1;y<m.text.length&&y<u&&(u=y),r.push({line:m,comment:b,token:h,indent:y,empty:v,single:!1})}d=m.to+1}if(u<1e9)for(let d=o;d<r.length;d++)r[d].indent<r[d].line.text.length&&(r[d].indent=u);r.length==o+1&&(r[o].single=!0)}if(t!=2&&r.some(a=>a.comment<0&&(!a.empty||a.single))){let a=[];for(let{line:o,token:u,indent:h,empty:d,single:m}of r)(m||!d)&&a.push({from:o.from+h,insert:u+" "});let l=e.changes(a);return{changes:l,selection:e.selection.map(l,1)}}else if(t!=1&&r.some(a=>a.comment>=0)){let a=[];for(let{line:l,comment:o,token:u}of r)if(o>=0){let h=l.from+o,d=h+u.length;l.text[d-l.from]==" "&&d++,a.push({from:h,to:d})}return{changes:a}}return null}const Z1=Ri.define(),sW=Ri.define(),lW=ye.define(),y_=ye.define({combine(t){return Li(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),v_=bn.define({create(){return ki.empty},update(t,e){let n=e.state.facet(y_),r=e.annotation(Z1);if(r){let u=Yn.fromTransaction(e,r.selection),h=r.side,d=h==0?t.undone:t.done;return u?d=ep(d,d.length,n.minDepth,u):d=w_(d,e.startState.selection),new ki(h==0?r.rest:d,h==0?d:r.rest)}let i=e.annotation(sW);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Ht.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let a=Yn.fromTransaction(e),l=e.annotation(Ht.time),o=e.annotation(Ht.userEvent);return a?t=t.addChanges(a,l,o,n,e):e.selection&&(t=t.addSelection(e.startState.selection,l,o,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new ki(t.done.map(Yn.fromJSON),t.undone.map(Yn.fromJSON))}});function oW(t={}){return[v_,y_.of(t),pe.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?x_:e.inputType=="historyRedo"?J1:null;return r?(e.preventDefault(),r(n)):!1}})]}function kg(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(v_,!1);if(!i)return!1;let a=i.pop(t,n,e);return a?(r(a),!0):!1}}const x_=kg(0,!1),J1=kg(1,!1),cW=kg(0,!0),uW=kg(1,!0);class Yn{constructor(e,n,r,i,a){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=a}setSelAfter(e){return new Yn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new Yn(e.changes&&Ut.fromJSON(e.changes),[],e.mapped&&Ni.fromJSON(e.mapped),e.startSelection&&oe.fromJSON(e.startSelection),e.selectionsAfter.map(oe.fromJSON))}static fromTransaction(e,n){let r=Lr;for(let i of e.startState.facet(lW)){let a=i(e);a.length&&(r=r.concat(a))}return!r.length&&e.changes.empty?null:new Yn(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,Lr)}static selection(e){return new Yn(void 0,Lr,void 0,void 0,e)}}function ep(t,e,n,r){let i=e+1>n+20?e-n-1:0,a=t.slice(i,e);return a.push(r),a}function fW(t,e){let n=[],r=!1;return t.iterChangedRanges((i,a)=>n.push(i,a)),e.iterChangedRanges((i,a,l,o)=>{for(let u=0;u<n.length;){let h=n[u++],d=n[u++];o>=h&&l<=d&&(r=!0)}}),r}function hW(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function b_(t,e){return t.length?e.length?t.concat(e):t:e}const Lr=[],dW=200;function w_(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-dW));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),ep(t,t.length-1,1e9,n.setSelAfter(r)))}else return[Yn.selection([e])]}function mW(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function ux(t,e){if(!t.length)return t;let n=t.length,r=Lr;for(;n;){let i=pW(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let a=t.slice(0,n);return a[n-1]=i,a}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[Yn.selection(r)]:Lr}function pW(t,e,n){let r=b_(t.selectionsAfter.length?t.selectionsAfter.map(o=>o.map(e)):Lr,n);if(!t.changes)return Yn.selection(r);let i=t.changes.map(e),a=e.mapDesc(t.changes,!0),l=t.mapped?t.mapped.composeDesc(a):a;return new Yn(i,Me.mapEffects(t.effects,e),l,t.startSelection.map(a),r)}const gW=/^(input\.type|delete)($|\.)/;class ki{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new ki(this.done,this.undone):this}addChanges(e,n,r,i,a){let l=this.done,o=l[l.length-1];return o&&o.changes&&!o.changes.empty&&e.changes&&(!r||gW.test(r))&&(!o.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(a,fW(o.changes,e.changes))||r=="input.type.compose")?l=ep(l,l.length-1,i.minDepth,new Yn(e.changes.compose(o.changes),b_(Me.mapEffects(e.effects,o.changes),o.effects),o.mapped,o.startSelection,Lr)):l=ep(l,l.length,i.minDepth,e),new ki(l,Lr,n,r)}addSelection(e,n,r,i){let a=this.done.length?this.done[this.done.length-1].selectionsAfter:Lr;return a.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&hW(a[a.length-1],e)?this:new ki(w_(this.done,e),this.undone,n,r)}addMapping(e){return new ki(ux(this.done,e),ux(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let a=i[i.length-1],l=a.selectionsAfter[0]||(a.startSelection?a.startSelection.map(a.changes.invertedDesc,1):n.selection);if(r&&a.selectionsAfter.length)return n.update({selection:a.selectionsAfter[a.selectionsAfter.length-1],annotations:Z1.of({side:e,rest:mW(i),selection:l}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(a.changes){let o=i.length==1?Lr:i.slice(0,i.length-1);return a.mapped&&(o=ux(o,a.mapped)),n.update({changes:a.changes,selection:a.startSelection,effects:a.effects,annotations:Z1.of({side:e,rest:o,selection:l}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}ki.empty=new ki(Lr,Lr);const yW=[{key:"Mod-z",run:x_,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:J1,preventDefault:!0},{linux:"Ctrl-Shift-z",run:J1,preventDefault:!0},{key:"Mod-u",run:cW,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:uW,preventDefault:!0}];function uc(t,e){return oe.create(t.ranges.map(e),t.mainIndex)}function ai(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function si({state:t,dispatch:e},n){let r=uc(t.selection,n);return r.eq(t.selection,!0)?!1:(e(ai(t,r)),!0)}function jg(t,e){return oe.cursor(e?t.to:t.from)}function S_(t,e){return si(t,n=>n.empty?t.moveByChar(n,e):jg(n,e))}function jn(t){return t.textDirectionAt(t.state.selection.main.head)==st.LTR}const C_=t=>S_(t,!jn(t)),O_=t=>S_(t,jn(t));function k_(t,e){return si(t,n=>n.empty?t.moveByGroup(n,e):jg(n,e))}const vW=t=>k_(t,!jn(t)),xW=t=>k_(t,jn(t));function bW(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Ag(t,e,n){let r=Jt(t).resolveInner(e.head),i=n?Re.closedBy:Re.openedBy;for(let u=e.head;;){let h=n?r.childAfter(u):r.childBefore(u);if(!h)break;bW(t,h,i)?r=h:u=n?h.to:h.from}let a=r.type.prop(i),l,o;return a&&(l=n?Oi(t,r.from,1):Oi(t,r.to,-1))&&l.matched?o=n?l.end.to:l.end.from:o=n?r.to:r.from,oe.cursor(o,n?-1:1)}const wW=t=>si(t,e=>Ag(t.state,e,!jn(t))),SW=t=>si(t,e=>Ag(t.state,e,jn(t)));function j_(t,e){return si(t,n=>{if(!n.empty)return jg(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const A_=t=>j_(t,!1),N_=t=>j_(t,!0);function E_(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let a of t.state.facet(pe.scrollMargins)){let l=a(t);l?.top&&(n=Math.max(l?.top,n)),l?.bottom&&(r=Math.max(l?.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function T_(t,e){let n=E_(t),{state:r}=t,i=uc(r.selection,l=>l.empty?t.moveVertically(l,e,n.height):jg(l,e));if(i.eq(r.selection))return!1;let a;if(n.selfScroll){let l=t.coordsAtPos(r.selection.main.head),o=t.scrollDOM.getBoundingClientRect(),u=o.top+n.marginTop,h=o.bottom-n.marginBottom;l&&l.top>u&&l.bottom<h&&(a=pe.scrollIntoView(i.main.head,{y:"start",yMargin:l.top-u}))}return t.dispatch(ai(r,i),{effects:a}),!0}const fE=t=>T_(t,!1),ew=t=>T_(t,!0);function Es(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let a=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;a&&e.head!=r.from+a&&(i=oe.cursor(r.from+a))}return i}const CW=t=>si(t,e=>Es(t,e,!0)),OW=t=>si(t,e=>Es(t,e,!1)),kW=t=>si(t,e=>Es(t,e,!jn(t))),jW=t=>si(t,e=>Es(t,e,jn(t))),AW=t=>si(t,e=>oe.cursor(t.lineBlockAt(e.head).from,1)),NW=t=>si(t,e=>oe.cursor(t.lineBlockAt(e.head).to,-1));function EW(t,e,n){let r=!1,i=uc(t.selection,a=>{let l=Oi(t,a.head,-1)||Oi(t,a.head,1)||a.head>0&&Oi(t,a.head-1,1)||a.head<t.doc.length&&Oi(t,a.head+1,-1);if(!l||!l.end)return a;r=!0;let o=l.start.from==a.head?l.end.to:l.end.from;return oe.cursor(o)});return r?(e(ai(t,i)),!0):!1}const TW=({state:t,dispatch:e})=>EW(t,e);function Vr(t,e){let n=uc(t.state.selection,r=>{let i=e(r);return oe.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(ai(t.state,n)),!0)}function M_(t,e){return Vr(t,n=>t.moveByChar(n,e))}const D_=t=>M_(t,!jn(t)),P_=t=>M_(t,jn(t));function __(t,e){return Vr(t,n=>t.moveByGroup(n,e))}const MW=t=>__(t,!jn(t)),DW=t=>__(t,jn(t)),PW=t=>Vr(t,e=>Ag(t.state,e,!jn(t))),_W=t=>Vr(t,e=>Ag(t.state,e,jn(t)));function R_(t,e){return Vr(t,n=>t.moveVertically(n,e))}const L_=t=>R_(t,!1),B_=t=>R_(t,!0);function z_(t,e){return Vr(t,n=>t.moveVertically(n,e,E_(t).height))}const hE=t=>z_(t,!1),dE=t=>z_(t,!0),RW=t=>Vr(t,e=>Es(t,e,!0)),LW=t=>Vr(t,e=>Es(t,e,!1)),BW=t=>Vr(t,e=>Es(t,e,!jn(t))),zW=t=>Vr(t,e=>Es(t,e,jn(t))),IW=t=>Vr(t,e=>oe.cursor(t.lineBlockAt(e.head).from)),UW=t=>Vr(t,e=>oe.cursor(t.lineBlockAt(e.head).to)),mE=({state:t,dispatch:e})=>(e(ai(t,{anchor:0})),!0),pE=({state:t,dispatch:e})=>(e(ai(t,{anchor:t.doc.length})),!0),gE=({state:t,dispatch:e})=>(e(ai(t,{anchor:t.selection.main.anchor,head:0})),!0),yE=({state:t,dispatch:e})=>(e(ai(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),HW=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),qW=({state:t,dispatch:e})=>{let n=Ng(t).map(({from:r,to:i})=>oe.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:oe.create(n),userEvent:"select"})),!0},$W=({state:t,dispatch:e})=>{let n=uc(t.selection,r=>{let i=Jt(t),a=i.resolveStack(r.from,1);if(r.empty){let l=i.resolveStack(r.from,-1);l.node.from>=a.node.from&&l.node.to<=a.node.to&&(a=l)}for(let l=a;l;l=l.next){let{node:o}=l;if((o.from<r.from&&o.to>=r.to||o.to>r.to&&o.from<=r.from)&&l.next)return oe.range(o.to,o.from)}return r});return n.eq(t.selection)?!1:(e(ai(t,n)),!0)};function I_(t,e){let{state:n}=t,r=n.selection,i=n.selection.ranges.slice();for(let a of n.selection.ranges){let l=n.doc.lineAt(a.head);if(e?l.to<t.state.doc.length:l.from>0)for(let o=a;;){let u=t.moveVertically(o,e);if(u.head<l.from||u.head>l.to){i.some(h=>h.head==u.head)||i.push(u);break}else{if(u.head==o.head)break;o=u}}}return i.length==r.ranges.length?!1:(t.dispatch(ai(n,oe.create(i,i.length-1))),!0)}const VW=t=>I_(t,!1),FW=t=>I_(t,!0),WW=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=oe.create([n.main]):n.main.empty||(r=oe.create([oe.cursor(n.main.head)])),r?(e(ai(t,r)),!0):!1};function Yf(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(a=>{let{from:l,to:o}=a;if(l==o){let u=e(a);u<l?(n="delete.backward",u=Yd(t,u,!1)):u>l&&(n="delete.forward",u=Yd(t,u,!0)),l=Math.min(l,u),o=Math.max(o,u)}else l=Yd(t,l,!1),o=Yd(t,o,!0);return l==o?{range:a}:{changes:{from:l,to:o},range:oe.cursor(l,l<a.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?pe.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Yd(t,e,n){if(t instanceof pe)for(let r of t.state.facet(pe.atomicRanges).map(i=>i(t)))r.between(e,e,(i,a)=>{i<e&&a>e&&(e=n?a:i)});return e}const U_=(t,e,n)=>Yf(t,r=>{let i=r.from,{state:a}=t,l=a.doc.lineAt(i),o,u;if(n&&!e&&i>l.from&&i<l.from+200&&!/[^ \t]/.test(o=l.text.slice(0,i-l.from))){if(o[o.length-1]=="	")return i-1;let h=cc(o,a.tabSize),d=h%Xm(a)||Xm(a);for(let m=0;m<d&&o[o.length-1-m]==" ";m++)i--;u=i}else u=Xt(l.text,i-l.from,e,e)+l.from,u==i&&l.number!=(e?a.doc.lines:1)?u+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(l.text.slice(u-l.from,i-l.from))&&(u=Xt(l.text,u-l.from,!1,!1)+l.from);return u}),tw=t=>U_(t,!1,!0),H_=t=>U_(t,!0,!1),q_=(t,e)=>Yf(t,n=>{let r=n.head,{state:i}=t,a=i.doc.lineAt(r),l=i.charCategorizer(r);for(let o=null;;){if(r==(e?a.to:a.from)){r==n.head&&a.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let u=Xt(a.text,r-a.from,e)+a.from,h=a.text.slice(Math.min(r,u)-a.from,Math.max(r,u)-a.from),d=l(h);if(o!=null&&d!=o)break;(h!=" "||r!=n.head)&&(o=d),r=u}return r}),$_=t=>q_(t,!1),KW=t=>q_(t,!0),GW=t=>Yf(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),YW=t=>Yf(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),QW=t=>Yf(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),XW=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Ye.of(["",""])},range:oe.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},ZW=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,a=t.doc.lineAt(i),l=i==a.from?i-1:Xt(a.text,i-a.from,!1)+a.from,o=i==a.to?i+1:Xt(a.text,i-a.from,!0)+a.from;return{changes:{from:l,to:o,insert:t.doc.slice(i,o).append(t.doc.slice(l,i))},range:oe.cursor(o)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Ng(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),a=t.doc.lineAt(r.to);if(!r.empty&&r.to==a.from&&(a=t.doc.lineAt(r.to-1)),n>=i.number){let l=e[e.length-1];l.to=a.to,l.ranges.push(r)}else e.push({from:i.from,to:a.to,ranges:[r]});n=a.number+1}return e}function V_(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let a of Ng(t)){if(n?a.to==t.doc.length:a.from==0)continue;let l=t.doc.lineAt(n?a.to+1:a.from-1),o=l.length+1;if(n){r.push({from:a.to,to:l.to},{from:a.from,insert:l.text+t.lineBreak});for(let u of a.ranges)i.push(oe.range(Math.min(t.doc.length,u.anchor+o),Math.min(t.doc.length,u.head+o)))}else{r.push({from:l.from,to:a.from},{from:a.to,insert:t.lineBreak+l.text});for(let u of a.ranges)i.push(oe.range(u.anchor-o,u.head-o))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:oe.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const JW=({state:t,dispatch:e})=>V_(t,e,!1),eK=({state:t,dispatch:e})=>V_(t,e,!0);function F_(t,e,n){if(t.readOnly)return!1;let r=[];for(let a of Ng(t))n?r.push({from:a.from,insert:t.doc.slice(a.from,a.to)+t.lineBreak}):r.push({from:a.to,insert:t.lineBreak+t.doc.slice(a.from,a.to)});let i=t.changes(r);return e(t.update({changes:i,selection:t.selection.map(i,n?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const tK=({state:t,dispatch:e})=>F_(t,e,!1),nK=({state:t,dispatch:e})=>F_(t,e,!0),rK=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Ng(e).map(({from:i,to:a})=>(i>0?i--:a<e.doc.length&&a++,{from:i,to:a}))),r=uc(e.selection,i=>{let a;if(t.lineWrapping){let l=t.lineBlockAt(i.head),o=t.coordsAtPos(i.head,i.assoc||1);o&&(a=l.bottom+t.documentTop-o.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,a)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function iK(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=Jt(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),a;return r&&i&&r.to<=e&&i.from>=e&&(a=r.type.prop(Re.closedBy))&&a.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const vE=W_(!1),aK=W_(!0);function W_(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:a,to:l}=i,o=e.doc.lineAt(a),u=!t&&a==l&&iK(e,a);t&&(a=l=(l<=o.to?o:e.doc.lineAt(l)).to);let h=new Cg(e,{simulateBreak:a,simulateDoubleBreak:!!u}),d=LS(h,a);for(d==null&&(d=cc(/^\s*/.exec(e.doc.lineAt(a).text)[0],e.tabSize));l<o.to&&/\s/.test(o.text[l-o.from]);)l++;u?{from:a,to:l}=u:a>o.from&&a<o.from+100&&!/\S/.test(o.text.slice(0,a))&&(a=o.from);let m=["",df(e,d)];return u&&m.push(df(e,h.lineIndent(o.from,-1))),{changes:{from:a,to:l,insert:Ye.of(m)},range:oe.cursor(a+1+m[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function US(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let l=r.from;l<=r.to;){let o=t.doc.lineAt(l);o.number>n&&(r.empty||r.to>o.from)&&(e(o,i,r),n=o.number),l=o.to+1}let a=t.changes(i);return{changes:i,range:oe.range(a.mapPos(r.anchor,1),a.mapPos(r.head,1))}})}const sK=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new Cg(t,{overrideIndentation:a=>{let l=n[a];return l??-1}}),i=US(t,(a,l,o)=>{let u=LS(r,a.from);if(u==null)return;/\S/.test(a.text)||(u=0);let h=/^\s*/.exec(a.text)[0],d=df(t,u);(h!=d||o.from<a.from+h.length)&&(n[a.from]=u,l.push({from:a.from,to:a.from+h.length,insert:d}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},K_=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(US(t,(n,r)=>{r.push({from:n.from,insert:t.facet(Sg)})}),{userEvent:"input.indent"})),!0),G_=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(US(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let a=cc(i,t.tabSize),l=0,o=df(t,Math.max(0,a-Xm(t)));for(;l<i.length&&l<o.length&&i.charCodeAt(l)==o.charCodeAt(l);)l++;r.push({from:n.from+l,to:n.from+i.length,insert:o.slice(l)})}),{userEvent:"delete.dedent"})),!0),lK=t=>(t.setTabFocusMode(),!0),oK=[{key:"Ctrl-b",run:C_,shift:D_,preventDefault:!0},{key:"Ctrl-f",run:O_,shift:P_},{key:"Ctrl-p",run:A_,shift:L_},{key:"Ctrl-n",run:N_,shift:B_},{key:"Ctrl-a",run:AW,shift:IW},{key:"Ctrl-e",run:NW,shift:UW},{key:"Ctrl-d",run:H_},{key:"Ctrl-h",run:tw},{key:"Ctrl-k",run:GW},{key:"Ctrl-Alt-h",run:$_},{key:"Ctrl-o",run:XW},{key:"Ctrl-t",run:ZW},{key:"Ctrl-v",run:ew}],cK=[{key:"ArrowLeft",run:C_,shift:D_,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:vW,shift:MW,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:kW,shift:BW,preventDefault:!0},{key:"ArrowRight",run:O_,shift:P_,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:xW,shift:DW,preventDefault:!0},{mac:"Cmd-ArrowRight",run:jW,shift:zW,preventDefault:!0},{key:"ArrowUp",run:A_,shift:L_,preventDefault:!0},{mac:"Cmd-ArrowUp",run:mE,shift:gE},{mac:"Ctrl-ArrowUp",run:fE,shift:hE},{key:"ArrowDown",run:N_,shift:B_,preventDefault:!0},{mac:"Cmd-ArrowDown",run:pE,shift:yE},{mac:"Ctrl-ArrowDown",run:ew,shift:dE},{key:"PageUp",run:fE,shift:hE},{key:"PageDown",run:ew,shift:dE},{key:"Home",run:OW,shift:LW,preventDefault:!0},{key:"Mod-Home",run:mE,shift:gE},{key:"End",run:CW,shift:RW,preventDefault:!0},{key:"Mod-End",run:pE,shift:yE},{key:"Enter",run:vE,shift:vE},{key:"Mod-a",run:HW},{key:"Backspace",run:tw,shift:tw,preventDefault:!0},{key:"Delete",run:H_,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:$_,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:KW,preventDefault:!0},{mac:"Mod-Backspace",run:YW,preventDefault:!0},{mac:"Mod-Delete",run:QW,preventDefault:!0}].concat(oK.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),uK=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:wW,shift:PW},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:SW,shift:_W},{key:"Alt-ArrowUp",run:JW},{key:"Shift-Alt-ArrowUp",run:tK},{key:"Alt-ArrowDown",run:eK},{key:"Shift-Alt-ArrowDown",run:nK},{key:"Mod-Alt-ArrowUp",run:VW},{key:"Mod-Alt-ArrowDown",run:FW},{key:"Escape",run:WW},{key:"Mod-Enter",run:aK},{key:"Alt-l",mac:"Ctrl-l",run:qW},{key:"Mod-i",run:$W,preventDefault:!0},{key:"Mod-[",run:G_},{key:"Mod-]",run:K_},{key:"Mod-Alt-\\",run:sK},{key:"Shift-Mod-k",run:rK},{key:"Shift-Mod-\\",run:TW},{key:"Mod-/",run:JF},{key:"Alt-A",run:tW},{key:"Ctrl-m",mac:"Shift-Alt-m",run:lK}].concat(cK),fK={key:"Tab",run:K_,shift:G_},xE=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class Zo{constructor(e,n,r=0,i=e.length,a,l){this.test=l,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=a?o=>a(xE(o)):xE,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Vn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=dS(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=wi(e);let i=this.normalize(n);if(i.length)for(let a=0,l=r;;a++){let o=i.charCodeAt(a),u=this.match(o,l,this.bufferPos+this.bufferStart);if(a==i.length-1){if(u)return this.value=u,this;break}l==r&&a<n.length&&n.charCodeAt(a)==o&&l++}}}match(e,n,r){let i=null;for(let a=0;a<this.matches.length;a+=2){let l=this.matches[a],o=!1;this.query.charCodeAt(l)==e&&(l==this.query.length-1?i={from:this.matches[a+1],to:r}:(this.matches[a]++,o=!0)),o||(this.matches.splice(a,2),a-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Zo.prototype[Symbol.iterator]=function(){return this});const Y_={from:-1,to:-1,match:/.*/.exec("")},HS="gm"+(/x/.unicode==null?"":"u");class Q_{constructor(e,n,r,i=0,a=e.length){if(this.text=e,this.to=a,this.curLine="",this.done=!1,this.value=Y_,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new X_(e,n,r,i,a);this.re=new RegExp(n,HS+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let l=e.lineAt(i);this.curLineStart=l.from,this.matchPos=tp(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=tp(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const fx=new WeakMap;class Uo{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=fx.get(e);if(!i||i.from>=r||i.to<=n){let o=new Uo(n,e.sliceString(n,r));return fx.set(e,o),o}if(i.from==n&&i.to==r)return i;let{text:a,from:l}=i;return l>n&&(a=e.sliceString(n,l)+a,l=n),i.to<r&&(a+=e.sliceString(i.to,r)),fx.set(e,new Uo(l,a)),new Uo(n,a.slice(n-l,r-l))}}class X_{constructor(e,n,r,i,a){this.text=e,this.to=a,this.done=!1,this.value=Y_,this.matchPos=tp(e,i),this.re=new RegExp(n,HS+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=Uo.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=tp(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Uo.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(Q_.prototype[Symbol.iterator]=X_.prototype[Symbol.iterator]=function(){return this});function hK(t){try{return new RegExp(t,HS),!0}catch{return!1}}function tp(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}const dK=t=>{let{state:e}=t,n=String(e.doc.lineAt(t.state.selection.main.head).number),{close:r,result:i}=MV(t,{label:e.phrase("Go to line"),input:{type:"text",name:"line",value:n},focus:!0,submitLabel:e.phrase("go")});return i.then(a=>{let l=a&&/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(a.elements.line.value);if(!l){t.dispatch({effects:r});return}let o=e.doc.lineAt(e.selection.main.head),[,u,h,d,m]=l,y=d?+d.slice(1):0,v=h?+h:o.number;if(h&&m){let C=v/100;u&&(C=C*(u=="-"?-1:1)+o.number/e.doc.lines),v=Math.round(e.doc.lines*C)}else h&&u&&(v=v*(u=="-"?-1:1)+o.number);let b=e.doc.line(Math.max(1,Math.min(e.doc.lines,v))),O=oe.cursor(b.from+Math.max(0,Math.min(y,b.length)));t.dispatch({effects:[r,pe.scrollIntoView(O.from,{y:"center"})],selection:O})}),!0},mK={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},pK=ye.define({combine(t){return Li(t,mK,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function gK(t){return[wK,bK]}const yK=ke.mark({class:"cm-selectionMatch"}),vK=ke.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function bE(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=gt.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=gt.Word)}function xK(t,e,n,r){return t(e.sliceDoc(n,n+1))==gt.Word&&t(e.sliceDoc(r-1,r))==gt.Word}const bK=Tt.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(pK),{state:n}=t,r=n.selection;if(r.ranges.length>1)return ke.none;let i=r.main,a,l=null;if(i.empty){if(!e.highlightWordAroundCursor)return ke.none;let u=n.wordAt(i.head);if(!u)return ke.none;l=n.charCategorizer(i.head),a=n.sliceDoc(u.from,u.to)}else{let u=i.to-i.from;if(u<e.minSelectionLength||u>200)return ke.none;if(e.wholeWords){if(a=n.sliceDoc(i.from,i.to),l=n.charCategorizer(i.head),!(bE(l,n,i.from,i.to)&&xK(l,n,i.from,i.to)))return ke.none}else if(a=n.sliceDoc(i.from,i.to),!a)return ke.none}let o=[];for(let u of t.visibleRanges){let h=new Zo(n.doc,a,u.from,u.to);for(;!h.next().done;){let{from:d,to:m}=h.value;if((!l||bE(l,n,d,m))&&(i.empty&&d<=i.from&&m>=i.to?o.push(vK.range(d,m)):(d>=i.to||m<=i.from)&&o.push(yK.range(d,m)),o.length>e.maxMatches))return ke.none}}return ke.set(o)}},{decorations:t=>t.decorations}),wK=pe.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),SK=({state:t,dispatch:e})=>{let{selection:n}=t,r=oe.create(n.ranges.map(i=>t.wordAt(i.head)||oe.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function CK(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),a=i&&i.from==n.from&&i.to==n.to;for(let l=!1,o=new Zo(t.doc,e,r[r.length-1].to);;)if(o.next(),o.done){if(l)return null;o=new Zo(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),l=!0}else{if(l&&r.some(u=>u.from==o.value.from))continue;if(a){let u=t.wordAt(o.value.from);if(!u||u.from!=o.value.from||u.to!=o.value.to)continue}return o.value}}const OK=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(a=>a.from===a.to))return SK({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(a=>t.sliceDoc(a.from,a.to)!=r))return!1;let i=CK(t,r);return i?(e(t.update({selection:t.selection.addRange(oe.range(i.from,i.to),!1),effects:pe.scrollIntoView(i.to)})),!0):!1},fc=ye.define({combine(t){return Li(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new zK(e),scrollToMatch:e=>pe.scrollIntoView(e)})}});class Z_{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||hK(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord,this.test=e.test}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord&&this.test==e.test}create(){return this.regexp?new TK(this):new AK(this)}getCursor(e,n=0,r){let i=e.doc?e:qe.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?Ao(this,i,n,r):jo(this,i,n,r)}}class J_{constructor(e){this.spec=e}}function kK(t,e,n){return(r,i,a,l)=>{if(n&&!n(r,i,a,l))return!1;let o=r>=l&&i<=l+a.length?a.slice(r-l,i-l):e.doc.sliceString(r,i);return t(o,e,r,i)}}function jo(t,e,n,r){let i;return t.wholeWord&&(i=jK(e.doc,e.charCategorizer(e.selection.main.head))),t.test&&(i=kK(t.test,e,i)),new Zo(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:a=>a.toLowerCase(),i)}function jK(t,e){return(n,r,i,a)=>((a>n||a+i.length<r)&&(a=Math.max(0,n-2),i=t.sliceString(a,Math.min(t.length,r+2))),(e(np(i,n-a))!=gt.Word||e(rp(i,n-a))!=gt.Word)&&(e(rp(i,r-a))!=gt.Word||e(np(i,r-a))!=gt.Word))}class AK extends J_{constructor(e){super(e)}nextMatch(e,n,r){let i=jo(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let a=Math.min(e.doc.length,n+this.spec.unquoted.length);i=jo(this.spec,e,0,a).nextOverlapping()}return i.done||i.value.from==n&&i.value.to==r?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let a=Math.max(n,i-1e4-this.spec.unquoted.length),l=jo(this.spec,e,a,i),o=null;for(;!l.nextOverlapping().done;)o=l.value;if(o)return o;if(a==n)return null;i-=1e4}}prevMatch(e,n,r){let i=this.prevMatchInRange(e,0,n);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=n||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=jo(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let a=jo(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!a.next().done;)i(a.value.from,a.value.to)}}function NK(t,e,n){return(r,i,a)=>(!n||n(r,i,a))&&t(a[0],e,r,i)}function Ao(t,e,n,r){let i;return t.wholeWord&&(i=EK(e.charCategorizer(e.selection.main.head))),t.test&&(i=NK(t.test,e,i)),new Q_(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:i},n,r)}function np(t,e){return t.slice(Xt(t,e,!1),e)}function rp(t,e){return t.slice(e,Xt(t,e))}function EK(t){return(e,n,r)=>!r[0].length||(t(np(r.input,r.index))!=gt.Word||t(rp(r.input,r.index))!=gt.Word)&&(t(rp(r.input,r.index+r[0].length))!=gt.Word||t(np(r.input,r.index+r[0].length))!=gt.Word)}class TK extends J_{nextMatch(e,n,r){let i=Ao(this.spec,e,r,e.doc.length).next();return i.done&&(i=Ao(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let a=Math.max(n,r-i*1e4),l=Ao(this.spec,e,a,r),o=null;for(;!l.next().done;)o=l.value;if(o&&(a==n||o.from>a+10))return o;if(a==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let a=+r.slice(0,i);if(a>0&&a<e.match.length)return e.match[a]+r.slice(i)}return n})}matchAll(e,n){let r=Ao(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let a=Ao(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!a.next().done;)i(a.value.from,a.value.to)}}const mf=Me.define(),qS=Me.define(),ms=bn.define({create(t){return new hx(nw(t).create(),null)},update(t,e){for(let n of e.effects)n.is(mf)?t=new hx(n.value.create(),t.panel):n.is(qS)&&(t=new hx(t.query,n.value?$S:null));return t},provide:t=>uf.from(t,e=>e.panel)});class hx{constructor(e,n){this.query=e,this.panel=n}}const MK=ke.mark({class:"cm-searchMatch"}),DK=ke.mark({class:"cm-searchMatch cm-searchMatch-selected"}),PK=Tt.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(ms))}update(t){let e=t.state.field(ms);(e!=t.startState.field(ms)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return ke.none;let{view:n}=this,r=new ha;for(let i=0,a=n.visibleRanges,l=a.length;i<l;i++){let{from:o,to:u}=a[i];for(;i<l-1&&u>a[i+1].from-500;)u=a[++i].to;t.highlight(n.state,o,u,(h,d)=>{let m=n.state.selection.ranges.some(y=>y.from==h&&y.to==d);r.add(h,d,m?DK:MK)})}return r.finish()}},{decorations:t=>t.decorations});function Qf(t){return e=>{let n=e.state.field(ms,!1);return n&&n.query.spec.valid?t(e,n):nR(e)}}const ip=Qf((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=oe.single(r.from,r.to),a=t.state.facet(fc);return t.dispatch({selection:i,effects:[VS(t,r),a.scrollToMatch(i.main,t)],userEvent:"select.search"}),tR(t),!0}),ap=Qf((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let a=oe.single(i.from,i.to),l=t.state.facet(fc);return t.dispatch({selection:a,effects:[VS(t,i),l.scrollToMatch(a.main,t)],userEvent:"select.search"}),tR(t),!0}),_K=Qf((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:oe.create(n.map(r=>oe.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),RK=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,a=[],l=0;for(let o=new Zo(t.doc,t.sliceDoc(r,i));!o.next().done;){if(a.length>1e3)return!1;o.value.from==r&&(l=a.length),a.push(oe.range(o.value.from,o.value.to))}return e(t.update({selection:oe.create(a,l),userEvent:"select.search.matches"})),!0},wE=Qf((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let a=e.nextMatch(n,r,r);if(!a)return!1;let l=a,o=[],u,h,d=[];l.from==r&&l.to==i&&(h=n.toText(e.getReplacement(l)),o.push({from:l.from,to:l.to,insert:h}),l=e.nextMatch(n,l.from,l.to),d.push(pe.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+".")));let m=t.state.changes(o);return l&&(u=oe.single(l.from,l.to).map(m),d.push(VS(t,l)),d.push(n.facet(fc).scrollToMatch(u.main,t))),t.dispatch({changes:m,selection:u,effects:d,userEvent:"input.replace"}),!0}),LK=Qf((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:a,to:l}=i;return{from:a,to:l,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:pe.announce.of(r),userEvent:"input.replace.all"}),!0});function $S(t){return t.state.facet(fc).createPanel(t)}function nw(t,e){var n,r,i,a,l;let o=t.selection.main,u=o.empty||o.to>o.from+100?"":t.sliceDoc(o.from,o.to);if(e&&!u)return e;let h=t.facet(fc);return new Z_({search:((n=e?.literal)!==null&&n!==void 0?n:h.literal)?u:u.replace(/\n/g,"\\n"),caseSensitive:(r=e?.caseSensitive)!==null&&r!==void 0?r:h.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:h.literal,regexp:(a=e?.regexp)!==null&&a!==void 0?a:h.regexp,wholeWord:(l=e?.wholeWord)!==null&&l!==void 0?l:h.wholeWord})}function eR(t){let e=MS(t,$S);return e&&e.dom.querySelector("[main-field]")}function tR(t){let e=eR(t);e&&e==t.root.activeElement&&e.select()}const nR=t=>{let e=t.state.field(ms,!1);if(e&&e.panel){let n=eR(t);if(n&&n!=t.root.activeElement){let r=nw(t.state,e.query.spec);r.valid&&t.dispatch({effects:mf.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[qS.of(!0),e?mf.of(nw(t.state,e.query.spec)):Me.appendConfig.of(UK)]});return!0},rR=t=>{let e=t.state.field(ms,!1);if(!e||!e.panel)return!1;let n=MS(t,$S);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:qS.of(!1)}),!0},BK=[{key:"Mod-f",run:nR,scope:"editor search-panel"},{key:"F3",run:ip,shift:ap,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:ip,shift:ap,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:rR,scope:"editor search-panel"},{key:"Mod-Shift-l",run:RK},{key:"Mod-Alt-g",run:dK},{key:"Mod-d",run:OK,preventDefault:!0}];class zK{constructor(e){this.view=e;let n=this.query=e.state.field(ms).query.spec;this.commit=this.commit.bind(this),this.searchField=nt("input",{value:n.search,placeholder:fr(e,"Find"),"aria-label":fr(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=nt("input",{value:n.replace,placeholder:fr(e,"Replace"),"aria-label":fr(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=nt("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=nt("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=nt("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,a,l){return nt("button",{class:"cm-button",name:i,onclick:a,type:"button"},l)}this.dom=nt("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>ip(e),[fr(e,"next")]),r("prev",()=>ap(e),[fr(e,"previous")]),r("select",()=>_K(e),[fr(e,"all")]),nt("label",null,[this.caseField,fr(e,"match case")]),nt("label",null,[this.reField,fr(e,"regexp")]),nt("label",null,[this.wordField,fr(e,"by word")]),...e.state.readOnly?[]:[nt("br"),this.replaceField,r("replace",()=>wE(e),[fr(e,"replace")]),r("replaceAll",()=>LK(e),[fr(e,"replace all")])],nt("button",{name:"close",onclick:()=>rR(e),"aria-label":fr(e,"close"),type:"button"},[""])])}commit(){let e=new Z_({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:mf.of(e)}))}keydown(e){H$(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?ap:ip)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),wE(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(mf)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(fc).top}}function fr(t,e){return t.state.phrase(e)}const Qd=30,Xd=/[\s\.,:;?!]/;function VS(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,a=Math.max(r.from,e-Qd),l=Math.min(i,n+Qd),o=t.state.sliceDoc(a,l);if(a!=r.from){for(let u=0;u<Qd;u++)if(!Xd.test(o[u+1])&&Xd.test(o[u])){o=o.slice(u);break}}if(l!=i){for(let u=o.length-1;u>o.length-Qd;u--)if(!Xd.test(o[u-1])&&Xd.test(o[u])){o=o.slice(0,u);break}}return pe.announce.of(`${t.state.phrase("current match")}. ${o} ${t.state.phrase("on line")} ${r.number}.`)}const IK=pe.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),UK=[ms,Pl.low(PK),IK];class iR{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=Jt(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),a=i.search(sR(e,!1));return a<0?null:{from:r+a,to:this.pos,text:i.slice(a)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function SE(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function HK(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let a=1;a<i.length;a++)n[i[a]]=!0}let r=SE(e)+SE(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function aR(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:HK(e);return i=>{let a=i.matchBefore(r);return a||i.explicit?{from:a?a.from:i.pos,options:e,validFor:n}:null}}function qK(t,e){return n=>{for(let r=Jt(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class CE{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function yl(t){return t.selection.main.from}function sR(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",a=r[r.length-1]!="$";return!i&&!a?t:new RegExp(`${i?"^":""}(?:${r})${a?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const lR=Ri.define();function $K(t,e,n,r){let{main:i}=t.selection,a=n-i.from,l=r-i.from;return{...t.changeByRange(o=>{if(o!=i&&n!=r&&t.sliceDoc(o.from+a,o.from+l)!=t.sliceDoc(n,r))return{range:o};let u=t.toText(e);return{changes:{from:o.from+a,to:r==i.from?o.to:o.from+l,insert:u},range:oe.cursor(o.from+a+u.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const OE=new WeakMap;function VK(t){if(!Array.isArray(t))return t;let e=OE.get(t);return e||OE.set(t,e=aR(t)),e}const sp=Me.define(),pf=Me.define();class FK{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=Vn(e,n),i=wi(r);this.chars.push(r);let a=e.slice(n,n+i),l=a.toUpperCase();this.folded.push(Vn(l==a?a.toLowerCase():l,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:a,byWord:l}=this;if(n.length==1){let N=Vn(e,0),j=wi(N),M=j==e.length?0:-100;if(N!=n[0])if(N==r[0])M+=-200;else return null;return this.ret(M,[0,j])}let o=e.indexOf(this.pattern);if(o==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let u=n.length,h=0;if(o<0){for(let N=0,j=Math.min(e.length,200);N<j&&h<u;){let M=Vn(e,N);(M==n[h]||M==r[h])&&(i[h++]=N),N+=wi(M)}if(h<u)return null}let d=0,m=0,y=!1,v=0,b=-1,O=-1,C=/[a-z]/.test(e),k=!0;for(let N=0,j=Math.min(e.length,200),M=0;N<j&&m<u;){let D=Vn(e,N);o<0&&(d<u&&D==n[d]&&(a[d++]=N),v<u&&(D==n[v]||D==r[v]?(v==0&&(b=N),O=N+1,v++):v=0));let T,E=D<255?D>=48&&D<=57||D>=97&&D<=122?2:D>=65&&D<=90?1:0:(T=dS(D))!=T.toLowerCase()?1:T!=T.toUpperCase()?2:0;(!N||E==1&&C||M==0&&E!=0)&&(n[m]==D||r[m]==D&&(y=!0)?l[m++]=N:l.length&&(k=!1)),M=E,N+=wi(D)}return m==u&&l[0]==0&&k?this.result(-100+(y?-200:0),l,e):v==u&&b==0?this.ret(-200-e.length+(O==e.length?0:-100),[0,O]):o>-1?this.ret(-700-e.length,[o,o+this.pattern.length]):v==u?this.ret(-900-e.length,[b,O]):m==u?this.result(-100+(y?-200:0)+-700+(k?0:-1100),l,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],a=0;for(let l of n){let o=l+(this.astral?wi(Vn(r,l)):1);a&&i[a-1]==l?i[a-1]=o:(i[a++]=l,i[a++]=o)}return this.ret(e-r.length,i)}}class WK{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const Qt=ye.define({combine(t){return Li(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:KK,filterStrict:!1,compareCompletions:(e,n)=>(e.sortText||e.label).localeCompare(n.sortText||n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>kE(e(r),n(r)),optionClass:(e,n)=>r=>kE(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function kE(t,e){return t?e?t+" "+e:t:e}function KK(t,e,n,r,i,a){let l=t.textDirection==st.RTL,o=l,u=!1,h="top",d,m,y=e.left-i.left,v=i.right-e.right,b=r.right-r.left,O=r.bottom-r.top;if(o&&y<Math.min(b,v)?o=!1:!o&&v<Math.min(b,y)&&(o=!0),b<=(o?y:v))d=Math.max(i.top,Math.min(n.top,i.bottom-O))-e.top,m=Math.min(400,o?y:v);else{u=!0,m=Math.min(400,(l?e.right:i.right-e.left)-30);let N=i.bottom-e.bottom;N>=O||N>e.top?d=n.bottom-e.top:(h="bottom",d=e.bottom-n.top)}let C=(e.bottom-e.top)/a.offsetHeight,k=(e.right-e.left)/a.offsetWidth;return{style:`${h}: ${d/C}px; max-width: ${m/k}px`,class:"cm-completionInfo-"+(u?l?"left-narrow":"right-narrow":o?"left":"right")}}function GK(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,a){let l=document.createElement("span");l.className="cm-completionLabel";let o=n.displayLabel||n.label,u=0;for(let h=0;h<a.length;){let d=a[h++],m=a[h++];d>u&&l.appendChild(document.createTextNode(o.slice(u,d)));let y=l.appendChild(document.createElement("span"));y.appendChild(document.createTextNode(o.slice(d,m))),y.className="cm-completionMatchedText",u=m}return u<o.length&&l.appendChild(document.createTextNode(o.slice(u))),l},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function dx(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class YK{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:u=>this.placeInfo(u),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:a,selected:l}=i.open,o=e.state.facet(Qt);this.optionContent=GK(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=dx(a.length,l,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",u=>{let{options:h}=e.state.field(n).open;for(let d=u.target,m;d&&d!=this.dom;d=d.parentNode)if(d.nodeName=="LI"&&(m=/-(\d+)$/.exec(d.id))&&+m[1]<h.length){this.applyCompletion(e,h[+m[1]]),u.preventDefault();return}}),this.dom.addEventListener("focusout",u=>{let h=e.state.field(this.stateField,!1);h&&h.tooltip&&e.state.facet(Qt).closeOnBlur&&u.relatedTarget!=e.contentDOM&&e.dispatch({effects:pf.of(null)})}),this.showOptions(a,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:a,selected:l,disabled:o}=r.open;(!i.open||i.open.options!=a)&&(this.range=dx(a.length,l,e.state.facet(Qt).maxRenderedOptions),this.showOptions(a,r.id)),this.updateSel(),o!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;(n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=dx(n.options.length,n.selected,this.view.state.facet(Qt).maxRenderedOptions),this.showOptions(n.options,e.id));let r=this.updateSelectedOption(n.selected);if(r){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:a}=i;if(!a)return;let l=typeof a=="string"?document.createTextNode(a):a(i);if(!l)return;"then"in l?l.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,i)}).catch(o=>Gn(this.view.state,o,"completion info")):(this.addInfoPane(l,i),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:a}=e;r.appendChild(i),this.infoDestroy=a||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return n&&XK(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),a=this.space;if(!a){let l=this.dom.ownerDocument.documentElement;a={left:0,top:0,right:l.clientWidth,bottom:l.clientHeight}}return i.top>Math.min(a.bottom,n.bottom)-10||i.bottom<Math.max(a.top,n.top)+10?null:this.view.state.facet(Qt).positionInfo(this.view,n,i,r,a,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",l=>{l.target==i&&l.preventDefault()});let a=null;for(let l=r.from;l<r.to;l++){let{completion:o,match:u}=e[l],{section:h}=o;if(h){let y=typeof h=="string"?h:h.name;if(y!=a&&(l>r.from||r.from==0))if(a=y,typeof h!="string"&&h.header)i.appendChild(h.header(h));else{let v=i.appendChild(document.createElement("completion-section"));v.textContent=y}}const d=i.appendChild(document.createElement("li"));d.id=n+"-"+l,d.setAttribute("role","option");let m=this.optionClass(o);m&&(d.className=m);for(let y of this.optionContent){let v=y(o,this.view.state,this.view,u);v&&d.appendChild(v)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function QK(t,e){return n=>new YK(n,t,e)}function XK(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function jE(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function ZK(t,e){let n=[],r=null,i=null,a=d=>{n.push(d);let{section:m}=d.completion;if(m){r||(r=[]);let y=typeof m=="string"?m:m.name;r.some(v=>v.name==y)||r.push(typeof m=="string"?{name:y}:m)}},l=e.facet(Qt);for(let d of t)if(d.hasResult()){let m=d.result.getMatch;if(d.result.filter===!1)for(let y of d.result.options)a(new CE(y,d.source,m?m(y):[],1e9-n.length));else{let y=e.sliceDoc(d.from,d.to),v,b=l.filterStrict?new WK(y):new FK(y);for(let O of d.result.options)if(v=b.match(O.label)){let C=O.displayLabel?m?m(O,v.matched):[]:v.matched,k=v.score+(O.boost||0);if(a(new CE(O,d.source,C,k)),typeof O.section=="object"&&O.section.rank==="dynamic"){let{name:N}=O.section;i||(i=Object.create(null)),i[N]=Math.max(k,i[N]||-1e9)}}}}if(r){let d=Object.create(null),m=0,y=(v,b)=>(v.rank==="dynamic"&&b.rank==="dynamic"?i[b.name]-i[v.name]:0)||(typeof v.rank=="number"?v.rank:1e9)-(typeof b.rank=="number"?b.rank:1e9)||(v.name<b.name?-1:1);for(let v of r.sort(y))m-=1e5,d[v.name]=m;for(let v of n){let{section:b}=v.completion;b&&(v.score+=d[typeof b=="string"?b:b.name])}}let o=[],u=null,h=l.compareCompletions;for(let d of n.sort((m,y)=>y.score-m.score||h(m.completion,y.completion))){let m=d.completion;!u||u.label!=m.label||u.detail!=m.detail||u.type!=null&&m.type!=null&&u.type!=m.type||u.apply!=m.apply||u.boost!=m.boost?o.push(d):jE(d.completion)>jE(u)&&(o[o.length-1]=d),u=d.completion}return o}class Do{constructor(e,n,r,i,a,l){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=a,this.disabled=l}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Do(this.options,AE(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,a,l){if(i&&!l&&e.some(h=>h.isPending))return i.setDisabled();let o=ZK(e,n);if(!o.length)return i&&e.some(h=>h.isPending)?i.setDisabled():null;let u=n.facet(Qt).selectOnOpen?0:-1;if(i&&i.selected!=u&&i.selected!=-1){let h=i.options[i.selected].completion;for(let d=0;d<o.length;d++)if(o[d].completion==h){u=d;break}}return new Do(o,AE(r,u),{pos:e.reduce((h,d)=>d.hasResult()?Math.min(h,d.from):h,1e8),create:iG,above:a.aboveCursor},i?i.timestamp:Date.now(),u,!1)}map(e){return new Do(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Do(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class lp{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new lp(nG,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(Qt),a=(r.override||n.languageDataAt("autocomplete",yl(n)).map(VK)).map(u=>(this.active.find(d=>d.source==u)||new Br(u,this.active.some(d=>d.state!=0)?1:0)).update(e,r));a.length==this.active.length&&a.every((u,h)=>u==this.active[h])&&(a=this.active);let l=this.open,o=e.effects.some(u=>u.is(FS));l&&e.docChanged&&(l=l.map(e.changes)),e.selection||a.some(u=>u.hasResult()&&e.changes.touchesRange(u.from,u.to))||!JK(a,this.active)||o?l=Do.build(a,n,this.id,l,r,o):l&&l.disabled&&!a.some(u=>u.isPending)&&(l=null),!l&&a.every(u=>!u.isPending)&&a.some(u=>u.hasResult())&&(a=a.map(u=>u.hasResult()?new Br(u.source,0):u));for(let u of e.effects)u.is(cR)&&(l=l&&l.setSelected(u.value,this.id));return a==this.active&&l==this.open?this:new lp(a,this.id,l)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?eG:tG}}function JK(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let i=n==t.length,a=r==e.length;if(i||a)return i==a;if(t[n++].result!=e[r++].result)return!1}}const eG={"aria-autocomplete":"list"},tG={};function AE(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const nG=[];function oR(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(lR);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class Br{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=oR(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new Br(i.source,0)),r&4&&i.state==0&&(i=new Br(this.source,1)),i=i.updateFor(e,r);for(let a of e.effects)if(a.is(sp))i=new Br(i.source,1,a.value);else if(a.is(pf))i=new Br(i.source,0);else if(a.is(FS))for(let l of a.value)l.source==i.source&&(i=l);return i}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(yl(e.state))}}class Ho extends Br{constructor(e,n,r,i,a,l){super(e,3,n),this.limit=r,this.result=i,this.from=a,this.to=l}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let a=e.changes.mapPos(this.from),l=e.changes.mapPos(this.to,1),o=yl(e.state);if(o>l||!i||n&2&&(yl(e.startState)==this.from||o<this.limit))return new Br(this.source,n&4?1:0);let u=e.changes.mapPos(this.limit);return rG(i.validFor,e.state,a,l)?new Ho(this.source,this.explicit,u,i,a,l):i.update&&(i=i.update(i,a,l,new iR(e.state,o,!1)))?new Ho(this.source,this.explicit,u,i,i.from,(r=i.to)!==null&&r!==void 0?r:yl(e.state)):new Br(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Ho(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Br(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function rG(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):sR(t,!0).test(i)}const FS=Me.define({map(t,e){return t.map(n=>n.map(e))}}),cR=Me.define(),Fn=bn.define({create(){return lp.start()},update(t,e){return t.update(e)},provide:t=>[TS.from(t,e=>e.tooltip),pe.contentAttributes.from(t,e=>e.attrs)]});function WS(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(Fn).active.find(i=>i.source==e.source);return r instanceof Ho?(typeof n=="string"?t.dispatch({...$K(t.state,n,r.from,r.to),annotations:lR.of(e.completion)}):n(t,e.completion,r.from,r.to),!0):!1}const iG=QK(Fn,WS);function Zd(t,e="option"){return n=>{let r=n.state.field(Fn,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(Qt).interactionDelay)return!1;let i=1,a;e=="page"&&(a=U3(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(a.dom.offsetHeight/a.dom.querySelector("li").offsetHeight)-1));let{length:l}=r.open.options,o=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:l-1;return o<0?o=e=="page"?0:l-1:o>=l&&(o=e=="page"?l-1:0),n.dispatch({effects:cR.of(o)}),!0}}const aG=t=>{let e=t.state.field(Fn,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Qt).interactionDelay?!1:WS(t,e.open.options[e.open.selected])},mx=t=>t.state.field(Fn,!1)?(t.dispatch({effects:sp.of(!0)}),!0):!1,sG=t=>{let e=t.state.field(Fn,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:pf.of(null)}),!0)};class lG{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const oG=50,cG=1e3,uG=Tt.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Fn).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(Fn),n=t.state.facet(Qt);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Fn)==e)return;let r=t.transactions.some(a=>{let l=oR(a,n);return l&8||(a.selection||a.docChanged)&&!(l&3)});for(let a=0;a<this.running.length;a++){let l=this.running[a];if(r||l.context.abortOnDocChange&&t.docChanged||l.updates.length+t.transactions.length>oG&&Date.now()-l.time>cG){for(let o of l.context.abortListeners)try{o()}catch(u){Gn(this.view.state,u)}l.context.abortListeners=null,this.running.splice(a--,1)}else l.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(a=>a.effects.some(l=>l.is(sp)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(a=>a.isPending&&!this.running.some(l=>l.active.source==a.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let a of t.transactions)a.isUserEvent("input.type")?this.composing=2:this.composing==2&&a.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Fn);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Qt).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=yl(e),r=new iR(e,n,t.explicit,this.view),i=new lG(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(a=>{i.context.aborted||(i.done=a||null,this.scheduleAccept())},a=>{this.view.dispatch({effects:pf.of(null)}),Gn(this.view.state,a)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Qt).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(Qt),r=this.view.state.field(Fn);for(let i=0;i<this.running.length;i++){let a=this.running[i];if(a.done===void 0)continue;if(this.running.splice(i--,1),a.done){let o=yl(a.updates.length?a.updates[0].startState:this.view.state),u=Math.min(o,a.done.from+(a.active.explicit?0:1)),h=new Ho(a.active.source,a.active.explicit,u,a.done,a.done.from,(t=a.done.to)!==null&&t!==void 0?t:o);for(let d of a.updates)h=h.update(d,n);if(h.hasResult()){e.push(h);continue}}let l=r.active.find(o=>o.source==a.active.source);if(l&&l.isPending)if(a.done==null){let o=new Br(a.active.source,0);for(let u of a.updates)o=o.update(u,n);o.isPending||e.push(o)}else this.startQuery(l)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:FS.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Fn,!1);if(e&&e.tooltip&&this.view.state.facet(Qt).closeOnBlur){let n=e.open&&U3(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:pf.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:sp.of(!1)}),20),this.composing=0}}}),fG=typeof navigator=="object"&&/Win/.test(navigator.platform),hG=Pl.highest(pe.domEventHandlers({keydown(t,e){let n=e.state.field(Fn,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(fG&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(l=>l.source==r.source),a=r.completion.commitCharacters||i.result.commitCharacters;return a&&a.indexOf(t.key)>-1&&WS(e,r),!1}})),dG=pe.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),gf={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},fl=Me.define({map(t,e){let n=e.mapPos(t,-1,Tn.TrackAfter);return n??void 0}}),KS=new class extends vs{};KS.startSide=1;KS.endSide=-1;const uR=bn.define({create(){return ze.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(fl)&&(t=t.update({add:[KS.range(n.value,n.value+1)]}));return t}});function mG(){return[gG,uR]}const px="()[]{}<>";function fR(t){for(let e=0;e<px.length;e+=2)if(px.charCodeAt(e)==t)return px.charAt(e+1);return dS(t<128?t:t+1)}function hR(t,e){return t.languageDataAt("closeBrackets",e)[0]||gf}const pG=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),gG=pe.inputHandler.of((t,e,n,r)=>{if((pG?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&wi(Vn(r,0))==1||e!=i.from||n!=i.to)return!1;let a=xG(t.state,r);return a?(t.dispatch(a),!0):!1}),yG=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=hR(t,t.selection.main.head).brackets||gf.brackets,i=null,a=t.changeByRange(l=>{if(l.empty){let o=bG(t.doc,l.head);for(let u of r)if(u==o&&Eg(t.doc,l.head)==fR(Vn(u,0)))return{changes:{from:l.head-u.length,to:l.head+u.length},range:oe.cursor(l.head-u.length)}}return{range:i=l}});return i||e(t.update(a,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},vG=[{key:"Backspace",run:yG}];function xG(t,e){let n=hR(t,t.selection.main.head),r=n.brackets||gf.brackets;for(let i of r){let a=fR(Vn(i,0));if(e==i)return a==i?CG(t,i,r.indexOf(i+i+i)>-1,n):wG(t,i,a,n.before||gf.before);if(e==a&&dR(t,t.selection.main.from))return SG(t,i,a)}return null}function dR(t,e){let n=!1;return t.field(uR).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function Eg(t,e){let n=t.sliceString(e,e+2);return n.slice(0,wi(Vn(n,0)))}function bG(t,e){let n=t.sliceString(e-2,e);return wi(Vn(n,0))==n.length?n:n.slice(1)}function wG(t,e,n,r){let i=null,a=t.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:n,from:l.to}],effects:fl.of(l.to+e.length),range:oe.range(l.anchor+e.length,l.head+e.length)};let o=Eg(t.doc,l.head);return!o||/\s/.test(o)||r.indexOf(o)>-1?{changes:{insert:e+n,from:l.head},effects:fl.of(l.head+e.length),range:oe.cursor(l.head+e.length)}:{range:i=l}});return i?null:t.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function SG(t,e,n){let r=null,i=t.changeByRange(a=>a.empty&&Eg(t.doc,a.head)==n?{changes:{from:a.head,to:a.head+n.length,insert:n},range:oe.cursor(a.head+n.length)}:r={range:a});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function CG(t,e,n,r){let i=r.stringPrefixes||gf.stringPrefixes,a=null,l=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:e,from:o.to}],effects:fl.of(o.to+e.length),range:oe.range(o.anchor+e.length,o.head+e.length)};let u=o.head,h=Eg(t.doc,u),d;if(h==e){if(NE(t,u))return{changes:{insert:e+e,from:u},effects:fl.of(u+e.length),range:oe.cursor(u+e.length)};if(dR(t,u)){let y=n&&t.sliceDoc(u,u+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:u,to:u+y.length,insert:y},range:oe.cursor(u+y.length)}}}else{if(n&&t.sliceDoc(u-2*e.length,u)==e+e&&(d=EE(t,u-2*e.length,i))>-1&&NE(t,d))return{changes:{insert:e+e+e+e,from:u},effects:fl.of(u+e.length),range:oe.cursor(u+e.length)};if(t.charCategorizer(u)(h)!=gt.Word&&EE(t,u,i)>-1&&!OG(t,u,e,i))return{changes:{insert:e+e,from:u},effects:fl.of(u+e.length),range:oe.cursor(u+e.length)}}return{range:a=o}});return a?null:t.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function NE(t,e){let n=Jt(t).resolveInner(e+1);return n.parent&&n.from==e}function OG(t,e,n,r){let i=Jt(t).resolveInner(e,-1),a=r.reduce((l,o)=>Math.max(l,o.length),0);for(let l=0;l<5;l++){let o=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+a)),u=o.indexOf(n);if(!u||u>-1&&r.indexOf(o.slice(0,u))>-1){let d=i.firstChild;for(;d&&d.from==i.from&&d.to-d.from>n.length+u;){if(t.sliceDoc(d.to-n.length,d.to)==n)return!1;d=d.firstChild}return!0}let h=i.to==e&&i.parent;if(!h)break;i=h}return!1}function EE(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=gt.Word)return e;for(let i of n){let a=e-i.length;if(t.sliceDoc(a,e)==i&&r(t.sliceDoc(a-1,a))!=gt.Word)return a}return-1}function kG(t={}){return[hG,Fn,Qt.of(t),uG,jG,dG]}const mR=[{key:"Ctrl-Space",run:mx},{mac:"Alt-`",run:mx},{mac:"Alt-i",run:mx},{key:"Escape",run:sG},{key:"ArrowDown",run:Zd(!0)},{key:"ArrowUp",run:Zd(!1)},{key:"PageDown",run:Zd(!0,"page")},{key:"PageUp",run:Zd(!1,"page")},{key:"Enter",run:aG}],jG=Pl.highest(bg.computeN([Qt],t=>t.facet(Qt).defaultKeymap?[mR]:[]));class TE{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class ol{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=r.facet(yf).markerFilter;i&&(e=i(e,r));let a=e.slice().sort((v,b)=>v.from-b.from||v.to-b.to),l=new ha,o=[],u=0,h=r.doc.iter(),d=0,m=r.doc.length;for(let v=0;;){let b=v==a.length?null:a[v];if(!b&&!o.length)break;let O,C;if(o.length)O=u,C=o.reduce((j,M)=>Math.min(j,M.to),b&&b.from>O?b.from:1e8);else{if(O=b.from,O>m)break;C=b.to,o.push(b),v++}for(;v<a.length;){let j=a[v];if(j.from==O&&(j.to>j.from||j.to==O))o.push(j),v++,C=Math.min(j.to,C);else{C=Math.min(j.from,C);break}}C=Math.min(C,m);let k=!1;if(o.some(j=>j.from==O&&(j.to==C||C==m))&&(k=O==C,!k&&C-O<10)){let j=O-(d+h.value.length);j>0&&(h.next(j),d=O);for(let M=O;;){if(M>=C){k=!0;break}if(!h.lineBreak&&d+h.value.length>M)break;M=d+h.value.length,d+=h.value.length,h.next()}}let N=IG(o);if(k)l.add(O,O,ke.widget({widget:new RG(N),diagnostics:o.slice()}));else{let j=o.reduce((M,D)=>D.markClass?M+" "+D.markClass:M,"");l.add(O,C,ke.mark({class:"cm-lintRange cm-lintRange-"+N+j,diagnostics:o.slice(),inclusiveEnd:o.some(M=>M.to>C)}))}if(u=C,u==m)break;for(let j=0;j<o.length;j++)o[j].to<=u&&o.splice(j--,1)}let y=l.finish();return new ol(y,n,Os(y))}}function Os(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,a,{spec:l})=>{if(!(e&&l.diagnostics.indexOf(e)<0))if(!r)r=new TE(i,a,e||l.diagnostics[0]);else{if(l.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new TE(r.from,a,r.diagnostic)}}),r}function AG(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(yf).hideOn(t,n,r);if(i!=null)return i;let a=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(l=>l.is(pR))||t.changes.touchesRange(a.from,Math.max(a.to,r)))}function NG(t,e){return t.field(gr,!1)?e:e.concat(Me.appendConfig.of(UG))}const pR=Me.define(),GS=Me.define(),gR=Me.define(),gr=bn.define({create(){return new ol(ke.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let a=e.changes.mapPos(t.selected.from,1);r=Os(n,t.selected.diagnostic,a)||Os(n,null,a)}!n.size&&i&&e.state.facet(yf).autoPanel&&(i=null),t=new ol(n,i,r)}for(let n of e.effects)if(n.is(pR)){let r=e.state.facet(yf).autoPanel?n.value.length?vf.open:null:t.panel;t=ol.init(n.value,r,e.state)}else n.is(GS)?t=new ol(t.diagnostics,n.value?vf.open:null,t.selected):n.is(gR)&&(t=new ol(t.diagnostics,t.panel,n.value));return t},provide:t=>[uf.from(t,e=>e.panel),pe.decorations.from(t,e=>e.diagnostics)]}),EG=ke.mark({class:"cm-lintRange cm-lintRange-active"});function TG(t,e,n){let{diagnostics:r}=t.state.field(gr),i,a=-1,l=-1;r.between(e-(n<0?1:0),e+(n>0?1:0),(u,h,{spec:d})=>{if(e>=u&&e<=h&&(u==h||(e>u||n>0)&&(e<h||n<0)))return i=d.diagnostics,a=u,l=h,!1});let o=t.state.facet(yf).tooltipFilter;return i&&o&&(i=o(i,t.state)),i?{pos:a,end:l,above:t.state.doc.lineAt(a).to<l,create(){return{dom:MG(t,i)}}}:null}function MG(t,e){return nt("ul",{class:"cm-tooltip-lint"},e.map(n=>vR(t,n,!1)))}const DG=t=>{let e=t.state.field(gr,!1);(!e||!e.panel)&&t.dispatch({effects:NG(t.state,[GS.of(!0)])});let n=MS(t,vf.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},ME=t=>{let e=t.state.field(gr,!1);return!e||!e.panel?!1:(t.dispatch({effects:GS.of(!1)}),!0)},PG=t=>{let e=t.state.field(gr,!1);if(!e)return!1;let n=t.state.selection.main,r=Os(e.diagnostics,null,n.to+1);return!r&&(r=Os(e.diagnostics,null,0),!r||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},_G=[{key:"Mod-Shift-m",run:DG,preventDefault:!0},{key:"F8",run:PG}],yf=ye.define({combine(t){return{sources:t.map(e=>e.source).filter(e=>e!=null),...Li(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:DE,tooltipFilter:DE,needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n,hideOn:(e,n)=>e?n?(r,i,a)=>e(r,i,a)||n(r,i,a):e:n,autoPanel:(e,n)=>e||n})}}});function DE(t,e){return t?e?(n,r)=>e(t(n,r),r):t:e}function yR(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(a=>a.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function vR(t,e,n){var r;let i=n?yR(e.actions):[];return nt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},nt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((a,l)=>{let o=!1,u=v=>{if(v.preventDefault(),o)return;o=!0;let b=Os(t.state.field(gr).diagnostics,e);b&&a.apply(t,b.from,b.to)},{name:h}=a,d=i[l]?h.indexOf(i[l]):-1,m=d<0?h:[h.slice(0,d),nt("u",h.slice(d,d+1)),h.slice(d+1)],y=a.markClass?" "+a.markClass:"";return nt("button",{type:"button",class:"cm-diagnosticAction"+y,onclick:u,onmousedown:u,"aria-label":` Action: ${h}${d<0?"":` (access key "${i[l]})"`}.`},m)}),e.source&&nt("div",{class:"cm-diagnosticSource"},e.source))}class RG extends Bi{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return nt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class PE{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=vR(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class vf{constructor(e){this.view=e,this.items=[];let n=i=>{if(!(i.ctrlKey||i.altKey||i.metaKey)){if(i.keyCode==27)ME(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:a}=this.items[this.selectedIndex],l=yR(a.actions);for(let o=0;o<l.length;o++)if(l[o].toUpperCase().charCodeAt(0)==i.keyCode){let u=Os(this.view.state.field(gr).diagnostics,a);u&&a.actions[o].apply(e,u.from,u.to)}}else return;i.preventDefault()}},r=i=>{for(let a=0;a<this.items.length;a++)this.items[a].dom.contains(i.target)&&this.moveSelection(a)};this.list=nt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=nt("div",{class:"cm-panel-lint"},this.list,nt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>ME(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(gr).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(gr),r=0,i=!1,a=null,l=new Set;for(e.between(0,this.view.state.doc.length,(o,u,{spec:h})=>{for(let d of h.diagnostics){if(l.has(d))continue;l.add(d);let m=-1,y;for(let v=r;v<this.items.length;v++)if(this.items[v].diagnostic==d){m=v;break}m<0?(y=new PE(this.view,d),this.items.splice(r,0,y),i=!0):(y=this.items[m],m>r&&(this.items.splice(r,m-r),i=!0)),n&&y.diagnostic==n.diagnostic?y.dom.hasAttribute("aria-selected")||(y.dom.setAttribute("aria-selected","true"),a=y):y.dom.hasAttribute("aria-selected")&&y.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new PE(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:()=>({sel:a.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:u})=>{let h=u.height/this.list.offsetHeight;o.top<u.top?this.list.scrollTop-=(u.top-o.top)/h:o.bottom>u.bottom&&(this.list.scrollTop+=(o.bottom-u.bottom)/h)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(gr),r=Os(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:gR.of(r)})}static open(e){return new vf(e)}}function LG(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Jd(t){return LG(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const BG=pe.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Jd("#d11")},".cm-lintRange-warning":{backgroundImage:Jd("orange")},".cm-lintRange-info":{backgroundImage:Jd("#999")},".cm-lintRange-hint":{backgroundImage:Jd("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function zG(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function IG(t){let e="hint",n=1;for(let r of t){let i=zG(r.severity);i>n&&(n=i,e=r.severity)}return e}const UG=[gr,pe.decorations.compute([gr],t=>{let{selected:e,panel:n}=t.field(gr);return!e||!n||e.from==e.to?ke.none:ke.set([EG.range(e.from,e.to)])}),EV(TG,{hideOn:AG}),BG];var _E=function(e){e===void 0&&(e={});var{crosshairCursor:n=!1}=e,r=[];e.closeBracketsKeymap!==!1&&(r=r.concat(vG)),e.defaultKeymap!==!1&&(r=r.concat(uK)),e.searchKeymap!==!1&&(r=r.concat(BK)),e.historyKeymap!==!1&&(r=r.concat(yW)),e.foldKeymap!==!1&&(r=r.concat(MF)),e.completionKeymap!==!1&&(r=r.concat(mR)),e.lintKeymap!==!1&&(r=r.concat(_G));var i=[];return e.lineNumbers!==!1&&i.push(qV()),e.highlightActiveLineGutter!==!1&&i.push(FV()),e.highlightSpecialChars!==!1&&i.push(iV()),e.history!==!1&&i.push(oW()),e.foldGutter!==!1&&i.push(RF()),e.drawSelection!==!1&&i.push(K$()),e.dropCursor!==!1&&i.push(Z$()),e.allowMultipleSelections!==!1&&i.push(qe.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(SF()),e.syntaxHighlighting!==!1&&i.push(h_(IF,{fallback:!0})),e.bracketMatching!==!1&&i.push(WF()),e.closeBrackets!==!1&&i.push(mG()),e.autocompletion!==!1&&i.push(kG()),e.rectangularSelection!==!1&&i.push(vV()),n!==!1&&i.push(wV()),e.highlightActiveLine!==!1&&i.push(uV()),e.highlightSelectionMatches!==!1&&i.push(gK()),e.tabSize&&typeof e.tabSize=="number"&&i.push(Sg.of(" ".repeat(e.tabSize))),i.concat([bg.of(r.flat())]).filter(Boolean)};const HG="#e5c07b",RE="#e06c75",qG="#56b6c2",$G="#ffffff",Am="#abb2bf",rw="#7d8799",VG="#61afef",FG="#98c379",LE="#d19a66",WG="#c678dd",KG="#21252b",BE="#2c313a",zE="#282c34",gx="#353a42",GG="#3E4451",IE="#528bff",YG=pe.theme({"&":{color:Am,backgroundColor:zE},".cm-content":{caretColor:IE},".cm-cursor, .cm-dropCursor":{borderLeftColor:IE},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:GG},".cm-panels":{backgroundColor:KG,color:Am},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:zE,color:rw,border:"none"},".cm-activeLineGutter":{backgroundColor:BE},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:gx},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:gx,borderBottomColor:gx},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:BE,color:Am}}},{dark:!0}),QG=Gf.define([{tag:Z.keyword,color:WG},{tag:[Z.name,Z.deleted,Z.character,Z.propertyName,Z.macroName],color:RE},{tag:[Z.function(Z.variableName),Z.labelName],color:VG},{tag:[Z.color,Z.constant(Z.name),Z.standard(Z.name)],color:LE},{tag:[Z.definition(Z.name),Z.separator],color:Am},{tag:[Z.typeName,Z.className,Z.number,Z.changed,Z.annotation,Z.modifier,Z.self,Z.namespace],color:HG},{tag:[Z.operator,Z.operatorKeyword,Z.url,Z.escape,Z.regexp,Z.link,Z.special(Z.string)],color:qG},{tag:[Z.meta,Z.comment],color:rw},{tag:Z.strong,fontWeight:"bold"},{tag:Z.emphasis,fontStyle:"italic"},{tag:Z.strikethrough,textDecoration:"line-through"},{tag:Z.link,color:rw,textDecoration:"underline"},{tag:Z.heading,fontWeight:"bold",color:RE},{tag:[Z.atom,Z.bool,Z.special(Z.variableName)],color:LE},{tag:[Z.processingInstruction,Z.string,Z.inserted],color:FG},{tag:Z.invalid,color:$G}]),XG=[YG,h_(QG)];var ZG=pe.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),JG=function(e){e===void 0&&(e={});var{indentWithTab:n=!0,editable:r=!0,readOnly:i=!1,theme:a="light",placeholder:l="",basicSetup:o=!0}=e,u=[];switch(n&&u.unshift(bg.of([fK])),o&&(typeof o=="boolean"?u.unshift(_E()):u.unshift(_E(o))),l&&u.unshift(mV(l)),a){case"light":u.push(ZG);break;case"dark":u.push(XG);break;case"none":break;default:u.push(a);break}return r===!1&&u.push(pe.editable.of(!1)),i&&u.push(qe.readOnly.of(!0)),[...u]},eY=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)});class tY{constructor(e,n){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=n,this.timeoutMS=n,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(n=>{try{n()}catch(r){console.error("TimeoutLatch callback error:",r)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class UE{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var yx=null,nY=()=>typeof window>"u"?new UE:(yx||(yx=new UE),yx),HE=Ri.define(),rY=200,iY=[];function aY(t){var{value:e,selection:n,onChange:r,onStatistics:i,onCreateEditor:a,onUpdate:l,extensions:o=iY,autoFocus:u,theme:h="light",height:d=null,minHeight:m=null,maxHeight:y=null,width:v=null,minWidth:b=null,maxWidth:O=null,placeholder:C="",editable:k=!0,readOnly:N=!1,indentWithTab:j=!0,basicSetup:M=!0,root:D,initialState:T}=t,[E,_]=S.useState(),[R,H]=S.useState(),[B,z]=S.useState(),ie=S.useState(()=>({current:null}))[0],ne=S.useState(()=>({current:null}))[0],I=pe.theme({"&":{height:d,minHeight:m,maxHeight:y,width:v,minWidth:b,maxWidth:O},"& .cm-scroller":{height:"100% !important"}}),q=pe.updateListener.of(W=>{if(W.docChanged&&typeof r=="function"&&!W.transactions.some(Y=>Y.annotation(HE))){ie.current?ie.current.reset():(ie.current=new tY(()=>{if(ne.current){var Y=ne.current;ne.current=null,Y()}ie.current=null},rY),nY().add(ie.current));var ce=W.state.doc,L=ce.toString();r(L,W)}i&&i(eY(W))}),V=JG({theme:h,editable:k,readOnly:N,placeholder:C,indentWithTab:j,basicSetup:M}),te=[q,I,...V];return l&&typeof l=="function"&&te.push(pe.updateListener.of(l)),te=te.concat(o),S.useLayoutEffect(()=>{if(E&&!B){var W={doc:e,selection:n,extensions:te},ce=T?qe.fromJSON(T.json,W,T.fields):qe.create(W);if(z(ce),!R){var L=new pe({state:ce,parent:E,root:D});H(L),a&&a(L,ce)}}return()=>{R&&(z(void 0),H(void 0))}},[E,B]),S.useEffect(()=>{t.container&&_(t.container)},[t.container]),S.useEffect(()=>()=>{R&&(R.destroy(),H(void 0)),ie.current&&(ie.current.cancel(),ie.current=null)},[R]),S.useEffect(()=>{u&&R&&R.focus()},[u,R]),S.useEffect(()=>{R&&R.dispatch({effects:Me.reconfigure.of(te)})},[h,o,d,m,y,v,b,O,C,k,N,j,M,r,l]),S.useEffect(()=>{if(e!==void 0){var W=R?R.state.doc.toString():"";if(R&&e!==W){var ce=ie.current&&!ie.current.isDone,L=()=>{R&&e!==R.state.doc.toString()&&R.dispatch({changes:{from:0,to:R.state.doc.toString().length,insert:e||""},annotations:[HE.of(!0)]})};ce?ne.current=L:L()}}},[e,R]),{state:B,setState:z,view:R,setView:H,container:E,setContainer:_}}var sY=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],YS=S.forwardRef((t,e)=>{var{className:n,value:r="",selection:i,extensions:a=[],onChange:l,onStatistics:o,onCreateEditor:u,onUpdate:h,autoFocus:d,theme:m="light",height:y,minHeight:v,maxHeight:b,width:O,minWidth:C,maxWidth:k,basicSetup:N,placeholder:j,indentWithTab:M,editable:D,readOnly:T,root:E,initialState:_}=t,R=PH(t,sY),H=S.useRef(null),{state:B,view:z,container:ie,setContainer:ne}=aY({root:E,value:r,autoFocus:d,theme:m,height:y,minHeight:v,maxHeight:b,width:O,minWidth:C,maxWidth:k,basicSetup:N,placeholder:j,indentWithTab:M,editable:D,readOnly:T,selection:i,onChange:l,onStatistics:o,onCreateEditor:u,onUpdate:h,extensions:a,initialState:_});S.useImperativeHandle(e,()=>({editor:H.current,state:B,view:z}),[H,ie,B,z]);var I=S.useCallback(V=>{H.current=V,ne(V)},[ne]);if(typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var q=typeof m=="string"?"cm-theme-"+m:"cm-theme";return g.jsx("div",u1({ref:I,className:""+q+(n?" "+n:"")},R))});YS.displayName="CodeMirror";var qE={};class op{constructor(e,n,r,i,a,l,o,u,h,d=0,m){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=a,this.score=l,this.buffer=o,this.bufferBase=u,this.curContext=h,this.lookAhead=d,this.parent=m}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new op(e,[],n,r,r,0,[],0,i?new $E(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:a}=this.p,l=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),o=a.dynamicPrecedence(i);if(o&&(this.score+=o),r==0){this.pushState(a.getGoto(this.state,i,!0),this.reducePos),i<a.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,l?8:4,!0),this.reduceContext(i,this.reducePos);return}let u=this.stack.length-(r-1)*3-(e&262144?6:0),h=u?this.stack[u-2]:this.p.ranges[0].from,d=this.reducePos-h;d>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(h==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=d):this.p.lastBigReductionSize<d&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=h,this.p.lastBigReductionSize=d));let m=u?this.stack[u-1]:0,y=this.bufferBase+this.buffer.length-m;if(i<a.minRepeatTerm||e&131072){let v=a.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,h,v,y+4,!0)}if(e&262144)this.state=this.stack[u];else{let v=this.stack[u-3];this.state=a.getGoto(v,i,!0)}for(;this.stack.length>u;)this.stack.pop();this.reduceContext(i,h)}storeNode(e,n,r,i=4,a=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let l=this,o=this.buffer.length;if(o==0&&l.parent&&(o=l.bufferBase-l.parent.bufferBase,l=l.parent),o>0&&l.buffer[o-4]==0&&l.buffer[o-1]>-1){if(n==r)return;if(l.buffer[o-2]>=n){l.buffer[o-2]=r;return}}}if(!a||this.pos==r)this.buffer.push(e,n,r,i);else{let l=this.buffer.length;if(l>0&&(this.buffer[l-4]!=0||this.buffer[l-1]<0)){let o=!1;for(let u=l;u>0&&this.buffer[u-2]>r;u-=4)if(this.buffer[u-1]>=0){o=!0;break}if(o)for(;l>0&&this.buffer[l-2]>r;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,i>4&&(i-=4)}this.buffer[l]=e,this.buffer[l+1]=n,this.buffer[l+2]=r,this.buffer[l+3]=i}}shift(e,n,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let a=e,{parser:l}=this.p;this.pos=i;let o=l.stateFlag(a,1);!o&&(i>r||n<=l.maxNode)&&(this.reducePos=i),this.pushState(a,o?r:Math.min(r,this.reducePos)),this.shiftContext(n,r),n<=l.maxNode&&this.buffer.push(n,r,i,4)}else this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4)}apply(e,n,r,i){e&65536?this.reduce(e):this.shift(e,n,r,i)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new op(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new lY(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if((r&65536)==0)return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let a=0,l;a<n.length;a+=2)(l=n[a+1])!=this.state&&this.p.parser.hasAction(l,e)&&i.push(n[a],l);if(this.stack.length<120)for(let a=0;i.length<8&&a<n.length;a+=2){let l=n[a+1];i.some((o,u)=>u&1&&o==l)||i.push(n[a],l)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let a=n[i+1];if(a==this.state)continue;let l=this.split();l.pushState(a,this.pos),l.storeNode(0,l.pos,l.pos,4,!0),l.shiftContext(n[i],this.pos),l.reducePos=this.pos,l.score-=200,r.push(l)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if((n&65536)==0)return!1;if(!e.validAction(this.state,n)){let r=n>>19,i=n&65535,a=this.stack.length-r*3;if(a<0||e.getGoto(this.stack[a],i,!1)<0){let l=this.findForcedReduction();if(l==null)return!1;n=l}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(i,a)=>{if(!n.includes(i))return n.push(i),e.allActions(i,l=>{if(!(l&393216))if(l&65536){let o=(l>>19)-a;if(o>1){let u=l&65535,h=this.stack.length-o*3;if(h>=0&&e.getGoto(this.stack[h],u,!1)>=0)return o<<19|65536|u}}else{let o=r(l,a+1);if(o!=null)return o}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new $E(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class $E{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class lY{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class cp{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new cp(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new cp(this.stack,this.pos,this.index)}}function em(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let a=0;for(;;){let l=t.charCodeAt(r++),o=!1;if(l==126){a=65535;break}l>=92&&l--,l>=34&&l--;let u=l-32;if(u>=46&&(u-=46,o=!0),a+=u,o)break;a*=46}n?n[i++]=a:n=new e(a)}return n}class Nm{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const VE=new Nm;class oY{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=VE,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,a=this.pos+e;for(;a<r.from;){if(!i)return null;let l=this.ranges[--i];a-=r.from-l.to,r=l}for(;n<0?a>r.to:a>=r.to;){if(i==this.ranges.length-1)return null;let l=this.ranges[++i];a+=l.from-r.to,r=l}return a}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let a=this.resolveOffset(e,1);if(a==null)return-1;if(r=a,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let l=this.rangeIndex,o=this.range;for(;o.to<=r;)o=this.ranges[++l];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=VE,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class qo{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;uY(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}qo.prototype.contextual=qo.prototype.fallback=qo.prototype.extend=!1;qo.prototype.fallback=qo.prototype.extend=!1;class cY{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function uY(t,e,n,r,i,a){let l=0,o=1<<r,{dialect:u}=n.p.parser;e:for(;(o&t[l])!=0;){let h=t[l+1];for(let v=l+3;v<h;v+=2)if((t[v+1]&o)>0){let b=t[v];if(u.allows(b)&&(e.token.value==-1||e.token.value==b||fY(b,e.token.value,i,a))){e.acceptToken(b);break}}let d=e.next,m=0,y=t[l+2];if(e.next<0&&y>m&&t[h+y*3-3]==65535){l=t[h+y*3-1];continue e}for(;m<y;){let v=m+y>>1,b=h+v+(v<<1),O=t[b],C=t[b+1]||65536;if(d<O)y=v;else if(d>=C)m=v+1;else{l=t[b+2],e.advance();continue e}}break}}function FE(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function fY(t,e,n,r){let i=FE(n,r,e);return i<0||FE(n,r,t)<i}const hr=typeof process<"u"&&qE&&/\bparse\b/.test(qE.LOG);let vx=null;function WE(t,e,n){let r=t.cursor(kt.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class hY{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?WE(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?WE(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let a=r.children[i],l=this.start[n]+r.positions[i];if(l>e)return this.nextStart=l,null;if(a instanceof Et){if(l==e){if(l<this.safeFrom)return null;let o=l+a.length;if(o<=this.safeTo){let u=a.prop(Re.lookAhead);if(!u||o+u<this.fragment.to)return a}}this.index[n]++,l+a.length>=Math.max(this.safeFrom,e)&&(this.trees.push(a),this.start.push(l),this.index.push(0))}else this.index[n]++,this.nextStart=l+a.length}}}class dY{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new Nm)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:a}=i,l=i.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,u=0;for(let h=0;h<a.length;h++){if((1<<h&l)==0)continue;let d=a[h],m=this.tokens[h];if(!(r&&!d.fallback)&&((d.contextual||m.start!=e.pos||m.mask!=l||m.context!=o)&&(this.updateCachedToken(m,d,e),m.mask=l,m.context=o),m.lookAhead>m.end+25&&(u=Math.max(m.lookAhead,u)),m.value!=0)){let y=n;if(m.extended>-1&&(n=this.addActions(e,m.extended,m.end,n)),n=this.addActions(e,m.value,m.end,n),!d.extend&&(r=m,n>y))break}}for(;this.actions.length>n;)this.actions.pop();return u&&e.setLookAhead(u),!r&&e.pos==this.stream.end&&(r=new Nm,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new Nm,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:a}=r.p;for(let l=0;l<a.specialized.length;l++)if(a.specialized[l]==e.value){let o=a.specializers[l](this.stream.read(e.start,e.end),r);if(o>=0&&r.p.parser.dialect.allows(o>>1)){(o&1)==0?e.value=o>>1:e.extended=o>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let a=0;a<i;a+=3)if(this.actions[a]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:a}=e,{parser:l}=e.p,{data:o}=l;for(let u=0;u<2;u++)for(let h=l.stateSlot(a,u?2:1);;h+=3){if(o[h]==65535)if(o[h+1]==1)h=ra(o,h+2);else{i==0&&o[h+1]==2&&(i=this.putAction(ra(o,h+2),n,r,i));break}o[h]==n&&(i=this.putAction(ra(o,h+1),n,r,i))}return i}}class mY{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new oY(n,i),this.tokens=new dY(e,this.stream),this.topTerm=e.top[1];let{from:a}=i[0];this.stacks=[op.start(this,e.top[0],a)],this.fragments=r.length&&this.stream.end-a>e.bufferLength*4?new hY(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,a;if(this.bigReductionCount>300&&e.length==1){let[l]=e;for(;l.forceReduce()&&l.stack.length&&l.stack[l.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let l=0;l<e.length;l++){let o=e[l];for(;;){if(this.tokens.mainToken=null,o.pos>n)r.push(o);else{if(this.advanceStack(o,r,e))continue;{i||(i=[],a=[]),i.push(o);let u=this.tokens.getMainToken(o);a.push(u.value,u.end)}}break}}if(!r.length){let l=i&&gY(i);if(l)return hr&&console.log("Finish with "+this.stackID(l)),this.stackToTree(l);if(this.parser.strict)throw hr&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let l=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,a,r);if(l)return hr&&console.log("Force-finish "+this.stackID(l)),this.stackToTree(l.forceAll())}if(this.recovering){let l=this.recovering==1?1:this.recovering*3;if(r.length>l)for(r.sort((o,u)=>u.score-o.score);r.length>l;)r.pop();r.some(o=>o.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let l=0;l<r.length-1;l++){let o=r[l];for(let u=l+1;u<r.length;u++){let h=r[u];if(o.sameState(h)||o.buffer.length>500&&h.buffer.length>500)if((o.score-h.score||o.buffer.length-h.buffer.length)>0)r.splice(u--,1);else{r.splice(l--,1);continue e}}}r.length>12&&(r.sort((l,o)=>o.score-l.score),r.splice(12,r.length-12))}this.minStackPos=r[0].pos;for(let l=1;l<r.length;l++)r[l].pos<this.minStackPos&&(this.minStackPos=r[l].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:a}=this,l=hr?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let h=e.curContext&&e.curContext.tracker.strict,d=h?e.curContext.hash:0;for(let m=this.fragments.nodeAt(i);m;){let y=this.parser.nodeSet.types[m.type.id]==m.type?a.getGoto(e.state,m.type.id):-1;if(y>-1&&m.length&&(!h||(m.prop(Re.contextHash)||0)==d))return e.useNode(m,y),hr&&console.log(l+this.stackID(e)+` (via reuse of ${a.getName(m.type.id)})`),!0;if(!(m instanceof Et)||m.children.length==0||m.positions[0]>0)break;let v=m.children[0];if(v instanceof Et&&m.positions[0]==0)m=v;else break}}let o=a.stateSlot(e.state,4);if(o>0)return e.reduce(o),hr&&console.log(l+this.stackID(e)+` (via always-reduce ${a.getName(o&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let u=this.tokens.getActions(e);for(let h=0;h<u.length;){let d=u[h++],m=u[h++],y=u[h++],v=h==u.length||!r,b=v?e:e.split(),O=this.tokens.mainToken;if(b.apply(d,m,O?O.start:b.pos,y),hr&&console.log(l+this.stackID(b)+` (via ${(d&65536)==0?"shift":`reduce of ${a.getName(d&65535)}`} for ${a.getName(m)} @ ${i}${b==e?"":", split"})`),v)return!0;b.pos>i?n.push(b):r.push(b)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return KE(e,n),!0}}runRecovery(e,n,r){let i=null,a=!1;for(let l=0;l<e.length;l++){let o=e[l],u=n[l<<1],h=n[(l<<1)+1],d=hr?this.stackID(o)+" -> ":"";if(o.deadEnd&&(a||(a=!0,o.restart(),hr&&console.log(d+this.stackID(o)+" (restarted)"),this.advanceFully(o,r))))continue;let m=o.split(),y=d;for(let v=0;v<10&&m.forceReduce()&&(hr&&console.log(y+this.stackID(m)+" (via force-reduce)"),!this.advanceFully(m,r));v++)hr&&(y=this.stackID(m)+" -> ");for(let v of o.recoverByInsert(u))hr&&console.log(d+this.stackID(v)+" (via recover-insert)"),this.advanceFully(v,r);this.stream.end>o.pos?(h==o.pos&&(h++,u=0),o.recoverByDelete(u,h),hr&&console.log(d+this.stackID(o)+` (via recover-delete ${this.parser.getName(u)})`),KE(o,r)):(!i||i.score<m.score)&&(i=m)}return i}stackToTree(e){return e.close(),Et.build({buffer:cp.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(vx||(vx=new WeakMap)).get(e);return n||vx.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function KE(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class pY{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}class up extends Q3{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let o=0;o<e.repeatNodeCount;o++)n.push("");let r=Object.keys(e.topRules).map(o=>e.topRules[o][1]),i=[];for(let o=0;o<n.length;o++)i.push([]);function a(o,u,h){i[o].push([u,u.deserialize(String(h))])}if(e.nodeProps)for(let o of e.nodeProps){let u=o[0];typeof u=="string"&&(u=Re[u]);for(let h=1;h<o.length;){let d=o[h++];if(d>=0)a(d,u,o[h++]);else{let m=o[h+-d];for(let y=-d;y>0;y--)a(o[h++],u,m);h++}}}this.nodeSet=new DS(n.map((o,u)=>Zn.define({name:u>=this.minRepeatTerm?void 0:o,id:u,props:i[u],top:r.indexOf(u)>-1,error:u==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(u)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=W3;let l=em(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(GE),this.states=em(e.states,Uint32Array),this.data=em(e.stateData),this.goto=em(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(o=>typeof o=="number"?new qo(l,o):o),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new mY(this,e,n,r);for(let a of this.wrappers)i=a(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let a=i[n+1];;){let l=i[a++],o=l&1,u=i[a++];if(o&&r)return u;for(let h=a+(l>>1);a<h;a++)if(i[a]==e)return u;if(o)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let a=this.stateSlot(e,i?2:1),l;;a+=3){if((l=r[a])==65535)if(r[a+1]==1)l=r[a=ra(r,a+2)];else{if(r[a+1]==2)return ra(r,a+2);break}if(l==n||l==0)return ra(r,a+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),i=r?n(r):void 0;for(let a=this.stateSlot(e,1);i==null;a+=3){if(this.data[a]==65535)if(this.data[a+1]==1)a=ra(this.data,a+2);else break;i=n(ra(this.data,a+1))}return i}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=ra(this.data,r+2);else break;if((this.data[r+2]&1)==0){let i=this.data[r+1];n.some((a,l)=>l&1&&a==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(up.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(a=>a.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let a=e.specializers.find(o=>o.from==r.external);if(!a)return r;let l=Object.assign(Object.assign({},r),{external:a.to});return n.specializers[i]=GE(l),l})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let a of e.split(" ")){let l=n.indexOf(a);l>=0&&(r[l]=!0)}let i=null;for(let a=0;a<n.length;a++)if(!r[a])for(let l=this.dialects[n[a]],o;(o=this.data[l++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[o]=1;return new pY(e,r,i)}static deserialize(e){return new up(e)}}function ra(t,e){return t[e]|t[e+1]<<16}function gY(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function GE(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const yY=36,YE=1,vY=2,wo=3,xx=4,xY=5,bY=6,wY=7,SY=8,CY=9,OY=10,kY=11,jY=12,AY=13,NY=14,EY=15,TY=16,MY=17,QE=18,DY=19,xR=20,bR=21,XE=22,PY=23,_Y=24;function iw(t){return t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57}function RY(t){return t>=48&&t<=57||t>=97&&t<=102||t>=65&&t<=70}function nl(t,e,n){for(let r=!1;;){if(t.next<0)return;if(t.next==e&&!r){t.advance();return}r=n&&!r&&t.next==92,t.advance()}}function LY(t,e){e:for(;;){if(t.next<0)return;if(t.next==36){t.advance();for(let n=0;n<e.length;n++){if(t.next!=e.charCodeAt(n))continue e;t.advance()}if(t.next==36){t.advance();return}}else t.advance()}}function BY(t,e){let n="[{<(".indexOf(String.fromCharCode(e)),r=n<0?e:"]}>)".charCodeAt(n);for(;;){if(t.next<0)return;if(t.next==r&&t.peek(1)==39){t.advance(2);return}t.advance()}}function aw(t,e){for(;!(t.next!=95&&!iw(t.next));)e!=null&&(e+=String.fromCharCode(t.next)),t.advance();return e}function zY(t){if(t.next==39||t.next==34||t.next==96){let e=t.next;t.advance(),nl(t,e,!1)}else aw(t)}function ZE(t,e){for(;t.next==48||t.next==49;)t.advance();e&&t.next==e&&t.advance()}function JE(t,e){for(;;){if(t.next==46){if(e)break;e=!0}else if(t.next<48||t.next>57)break;t.advance()}if(t.next==69||t.next==101)for(t.advance(),(t.next==43||t.next==45)&&t.advance();t.next>=48&&t.next<=57;)t.advance()}function eT(t){for(;!(t.next<0||t.next==10);)t.advance()}function Js(t,e){for(let n=0;n<e.length;n++)if(e.charCodeAt(n)==t)return!0;return!1}const bx=` 	\r
`;function wR(t,e,n){let r=Object.create(null);r.true=r.false=xY,r.null=r.unknown=bY;for(let i of t.split(" "))i&&(r[i]=xR);for(let i of e.split(" "))i&&(r[i]=bR);for(let i of(n||"").split(" "))i&&(r[i]=_Y);return r}const IY="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",UY="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",sw={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',caseInsensitiveIdentifiers:!1,words:wR(UY,IY)};function HY(t,e,n,r){let i={};for(let a in sw)i[a]=(t.hasOwnProperty(a)?t:sw)[a];return e&&(i.words=wR(e,n||"",r)),i}function SR(t){return new cY(e=>{var n;let{next:r}=e;if(e.advance(),Js(r,bx)){for(;Js(e.next,bx);)e.advance();e.acceptToken(yY)}else if(r==36&&t.doubleDollarQuotedStrings){let i=aw(e,"");e.next==36&&(e.advance(),LY(e,i),e.acceptToken(wo))}else if(r==39||r==34&&t.doubleQuotedStrings)nl(e,r,t.backslashEscapes),e.acceptToken(wo);else if(r==35&&t.hashComments||r==47&&e.next==47&&t.slashComments)eT(e),e.acceptToken(YE);else if(r==45&&e.next==45&&(!t.spaceAfterDashes||e.peek(1)==32))eT(e),e.acceptToken(YE);else if(r==47&&e.next==42){e.advance();for(let i=1;;){let a=e.next;if(e.next<0)break;if(e.advance(),a==42&&e.next==47){if(i--,e.advance(),!i)break}else a==47&&e.next==42&&(i++,e.advance())}e.acceptToken(vY)}else if((r==101||r==69)&&e.next==39)e.advance(),nl(e,39,!0),e.acceptToken(wo);else if((r==110||r==78)&&e.next==39&&t.charSetCasts)e.advance(),nl(e,39,t.backslashEscapes),e.acceptToken(wo);else if(r==95&&t.charSetCasts)for(let i=0;;i++){if(e.next==39&&i>1){e.advance(),nl(e,39,t.backslashEscapes),e.acceptToken(wo);break}if(!iw(e.next))break;e.advance()}else if(t.plsqlQuotingMechanism&&(r==113||r==81)&&e.next==39&&e.peek(1)>0&&!Js(e.peek(1),bx)){let i=e.peek(1);e.advance(2),BY(e,i),e.acceptToken(wo)}else if(Js(r,t.identifierQuotes)){const i=r==91?93:r;nl(e,i,!1),e.acceptToken(DY)}else if(r==40)e.acceptToken(wY);else if(r==41)e.acceptToken(SY);else if(r==123)e.acceptToken(CY);else if(r==125)e.acceptToken(OY);else if(r==91)e.acceptToken(kY);else if(r==93)e.acceptToken(jY);else if(r==59)e.acceptToken(AY);else if(t.unquotedBitLiterals&&r==48&&e.next==98)e.advance(),ZE(e),e.acceptToken(XE);else if((r==98||r==66)&&(e.next==39||e.next==34)){const i=e.next;e.advance(),t.treatBitsAsBytes?(nl(e,i,t.backslashEscapes),e.acceptToken(PY)):(ZE(e,i),e.acceptToken(XE))}else if(r==48&&(e.next==120||e.next==88)||(r==120||r==88)&&e.next==39){let i=e.next==39;for(e.advance();RY(e.next);)e.advance();i&&e.next==39&&e.advance(),e.acceptToken(xx)}else if(r==46&&e.next>=48&&e.next<=57)JE(e,!0),e.acceptToken(xx);else if(r==46)e.acceptToken(NY);else if(r>=48&&r<=57)JE(e,!1),e.acceptToken(xx);else if(Js(r,t.operatorChars)){for(;Js(e.next,t.operatorChars);)e.advance();e.acceptToken(EY)}else if(Js(r,t.specialVar))e.next==r&&e.advance(),zY(e),e.acceptToken(MY);else if(r==58||r==44)e.acceptToken(TY);else if(iw(r)){let i=aw(e,String.fromCharCode(r));e.acceptToken(e.next==46||e.peek(-i.length-1)==46?QE:(n=t.words[i.toLowerCase()])!==null&&n!==void 0?n:QE)}})}const CR=SR(sw),qY=up.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:" LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,CR],topRules:{Script:[0,25]},tokenPrec:0});function lw(t){let e=t.cursor().moveTo(t.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function xf(t,e){let n=t.sliceString(e.from,e.to),r=/^([`'"\[])(.*)([`'"\]])$/.exec(n);return r?r[2]:n}function fp(t){return t&&(t.name=="Identifier"||t.name=="QuotedIdentifier")}function $Y(t,e){if(e.name=="CompositeIdentifier"){let n=[];for(let r=e.firstChild;r;r=r.nextSibling)fp(r)&&n.push(xf(t,r));return n}return[xf(t,e)]}function tT(t,e){for(let n=[];;){if(!e||e.name!=".")return n;let r=lw(e);if(!fp(r))return n;n.unshift(xf(t,r)),e=lw(r)}}function VY(t,e){let n=Jt(t).resolveInner(e,-1),r=WY(t.doc,n);return n.name=="Identifier"||n.name=="QuotedIdentifier"||n.name=="Keyword"?{from:n.from,quoted:n.name=="QuotedIdentifier"?t.doc.sliceString(n.from,n.from+1):null,parents:tT(t.doc,lw(n)),aliases:r}:n.name=="."?{from:e,quoted:null,parents:tT(t.doc,n),aliases:r}:{from:e,quoted:null,parents:[],empty:!0,aliases:r}}const FY=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function WY(t,e){let n;for(let i=e;!n;i=i.parent){if(!i)return null;i.name=="Statement"&&(n=i)}let r=null;for(let i=n.firstChild,a=!1,l=null;i;i=i.nextSibling){let o=i.name=="Keyword"?t.sliceString(i.from,i.to).toLowerCase():null,u=null;if(!a)a=o=="from";else if(o=="as"&&l&&fp(i.nextSibling))u=xf(t,i.nextSibling);else{if(o&&FY.has(o))break;l&&fp(i)&&(u=xf(t,i))}u&&(r||(r=Object.create(null)),r[u]=$Y(t,l)),l=/Identifier$/.test(i.name)?i:null}return r}function KY(t,e,n){return n.map(r=>({...r,label:r.label[0]==t?r.label:t+r.label+e,apply:void 0}))}const GY=/^\w*$/,YY=/^[`'"\[]?\w*[`'"\]]?$/;function nT(t){return t.self&&typeof t.self.label=="string"}class QS{constructor(e,n){this.idQuote=e,this.idCaseInsensitive=n,this.list=[],this.children=void 0}child(e){let n=this.children||(this.children=Object.create(null)),r=n[e];return r||(e&&!this.list.some(i=>i.label==e)&&this.list.push(rT(e,"type",this.idQuote,this.idCaseInsensitive)),n[e]=new QS(this.idQuote,this.idCaseInsensitive))}maybeChild(e){return this.children?this.children[e]:null}addCompletion(e){let n=this.list.findIndex(r=>r.label==e.label);n>-1?this.list[n]=e:this.list.push(e)}addCompletions(e){for(let n of e)this.addCompletion(typeof n=="string"?rT(n,"property",this.idQuote,this.idCaseInsensitive):n)}addNamespace(e){Array.isArray(e)?this.addCompletions(e):nT(e)?this.addNamespace(e.children):this.addNamespaceObject(e)}addNamespaceObject(e){for(let n of Object.keys(e)){let r=e[n],i=null,a=n.replace(/\\?\./g,o=>o=="."?"\0":o).split("\0"),l=this;nT(r)&&(i=r.self,r=r.children);for(let o=0;o<a.length;o++)i&&o==a.length-1&&l.addCompletion(i),l=l.child(a[o].replace(/\\\./g,"."));l.addNamespace(r)}}}function rT(t,e,n,r){return new RegExp("^[a-z_][a-z_\\d]*$",r?"i":"").test(t)?{label:t,type:e}:{label:t,type:e,apply:n+t+OR(n)}}function OR(t){return t==="["?"]":t}function QY(t,e,n,r,i,a){var l;let o=((l=a?.spec.identifierQuotes)===null||l===void 0?void 0:l[0])||'"',u=new QS(o,!!a?.spec.caseInsensitiveIdentifiers),h=i?u.child(i):null;return u.addNamespace(t),e&&(h||u).addCompletions(e),n&&u.addCompletions(n),h&&u.addCompletions(h.list),r&&u.addCompletions((h||u).child(r).list),d=>{let{parents:m,from:y,quoted:v,empty:b,aliases:O}=VY(d.state,d.pos);if(b&&!d.explicit)return null;O&&m.length==1&&(m=O[m[0]]||m);let C=u;for(let N of m){for(;!C.children||!C.children[N];)if(C==u&&h)C=h;else if(C==h&&r)C=C.child(r);else return null;let j=C.maybeChild(N);if(!j)return null;C=j}let k=C.list;if(C==u&&O&&(k=k.concat(Object.keys(O).map(N=>({label:N,type:"constant"})))),v){let N=v[0],j=OR(N),M=d.state.sliceDoc(d.pos,d.pos+1)==j;return{from:y,to:M?d.pos+1:void 0,options:KY(N,j,k),validFor:YY}}else return{from:y,options:k,validFor:GY}}}function XY(t){return t==bR?"type":t==xR?"keyword":"variable"}function ZY(t,e,n){let r=Object.keys(t).map(i=>n(e?i.toUpperCase():i,XY(t[i])));return qK(["QuotedIdentifier","String","LineComment","BlockComment","."],aR(r))}let JY=qY.configure({props:[t_.add({Statement:bF()}),r_.add({Statement(t,e){return{from:Math.min(t.from+100,e.doc.lineAt(t.from).to),to:t.to}},BlockComment(t){return{from:t.from+2,to:t.to-2}}}),X3({Keyword:Z.keyword,Type:Z.typeName,Builtin:Z.standard(Z.name),Bits:Z.number,Bytes:Z.string,Bool:Z.bool,Null:Z.null,Number:Z.number,String:Z.string,Identifier:Z.name,QuotedIdentifier:Z.special(Z.string),SpecialVar:Z.special(Z.name),LineComment:Z.lineComment,BlockComment:Z.blockComment,Operator:Z.operator,"Semi Punctuation":Z.punctuation,"( )":Z.paren,"{ }":Z.brace,"[ ]":Z.squareBracket})]});class hp{constructor(e,n,r){this.dialect=e,this.language=n,this.spec=r}get extension(){return this.language.extension}configureLanguage(e,n){return new hp(this.dialect,this.language.configure(e,n),this.spec)}static define(e){let n=HY(e,e.keywords,e.types,e.builtin),r=Ym.define({name:"sql",parser:JY.configure({tokenizers:[{from:CR,to:SR(n)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new hp(n,r,e)}}function eQ(t,e){return{label:t,type:e,boost:-1}}function tQ(t,e=!1,n){return ZY(t.dialect.words,e,n||eQ)}function nQ(t){return t.schema?QY(t.schema,t.tables,t.schemas,t.defaultTable,t.defaultSchema,t.dialect||XS):()=>null}function rQ(t){return t.schema?(t.dialect||XS).language.data.of({autocomplete:nQ(t)}):[]}function iQ(t={}){let e=t.dialect||XS;return new fF(e.language,[rQ(t),e.language.data.of({autocomplete:tQ(e,t.upperCaseKeywords,t.keywordCompletion)})])}const XS=hp.define({});function kR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=kR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function rt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=kR(t))&&(r&&(r+=" "),r+=e);return r}var aQ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ZS(t){if(typeof t!="string")return!1;var e=aQ;return e.includes(t)}var sQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],lQ=new Set(sQ);function jR(t){return typeof t!="string"?!1:lQ.has(t)}function AR(t){return typeof t=="string"&&t.startsWith("data-")}function Ti(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(jR(n)||AR(n))&&(e[n]=t[n]);return e}function Tg(t){if(t==null)return null;if(S.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Ti(e)}return typeof t=="object"&&!Array.isArray(t)?Ti(t):null}function _n(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(jR(n)||AR(n)||ZS(n))&&(e[n]=t[n]);return e}function oQ(t){return t==null?null:S.isValidElement(t)?_n(t.props):typeof t=="object"&&!Array.isArray(t)?_n(t):null}var cQ=["children","width","height","viewBox","className","style","title","desc"];function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(null,arguments)}function uQ(t,e){if(t==null)return{};var n,r,i=fQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var JS=S.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:o,title:u,desc:h}=t,d=uQ(t,cQ),m=a||{width:r,height:i,x:0,y:0},y=rt("recharts-surface",l);return S.createElement("svg",ow({},_n(d),{className:y,width:r,height:i,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),S.createElement("title",null,u),S.createElement("desc",null,h),n)}),hQ=["children","className"];function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cw.apply(null,arguments)}function dQ(t,e){if(t==null)return{};var n,r,i=mQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ks=S.forwardRef((t,e)=>{var{children:n,className:r}=t,i=dQ(t,hQ),a=rt("recharts-layer",r);return S.createElement("g",cw({className:a},_n(i),{ref:e}),n)}),NR=S.createContext(null),pQ=()=>S.useContext(NR);function ct(t){return function(){return t}}const ER=Math.cos,dp=Math.sin,li=Math.sqrt,mp=Math.PI,Mg=2*mp,uw=Math.PI,fw=2*uw,rl=1e-6,gQ=fw-rl;function TR(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function yQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return TR;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class vQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?TR:yQ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,o=this._y1,u=r-e,h=i-n,d=l-e,m=o-n,y=d*d+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>rl)if(!(Math.abs(m*u-h*d)>rl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-l,b=i-o,O=u*u+h*h,C=v*v+b*b,k=Math.sqrt(O),N=Math.sqrt(y),j=a*Math.tan((uw-Math.acos((O+y-C)/(2*k*N)))/2),M=j/N,D=j/k;Math.abs(M-1)>rl&&this._append`L${e+M*d},${n+M*m}`,this._append`A${a},${a},0,0,${+(m*v>d*b)},${this._x1=e+D*u},${this._y1=n+D*h}`}}arc(e,n,r,i,a,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),u=r*Math.sin(i),h=e+o,d=n+u,m=1^l,y=l?i-a:a-i;this._x1===null?this._append`M${h},${d}`:(Math.abs(this._x1-h)>rl||Math.abs(this._y1-d)>rl)&&this._append`L${h},${d}`,r&&(y<0&&(y=y%fw+fw),y>gQ?this._append`A${r},${r},0,1,${m},${e-o},${n-u}A${r},${r},0,1,${m},${this._x1=h},${this._y1=d}`:y>rl&&this._append`A${r},${r},0,${+(y>=uw)},${m},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function e2(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new vQ(e)}function t2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function MR(t){this._context=t}MR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Dg(t){return new MR(t)}function DR(t){return t[0]}function PR(t){return t[1]}function _R(t,e){var n=ct(!0),r=null,i=Dg,a=null,l=e2(o);t=typeof t=="function"?t:t===void 0?DR:ct(t),e=typeof e=="function"?e:e===void 0?PR:ct(e);function o(u){var h,d=(u=t2(u)).length,m,y=!1,v;for(r==null&&(a=i(v=l())),h=0;h<=d;++h)!(h<d&&n(m=u[h],h,u))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(m,h,u),+e(m,h,u));if(v)return a=null,v+""||null}return o.x=function(u){return arguments.length?(t=typeof u=="function"?u:ct(+u),o):t},o.y=function(u){return arguments.length?(e=typeof u=="function"?u:ct(+u),o):e},o.defined=function(u){return arguments.length?(n=typeof u=="function"?u:ct(!!u),o):n},o.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),o):i},o.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),o):r},o}function tm(t,e,n){var r=null,i=ct(!0),a=null,l=Dg,o=null,u=e2(h);t=typeof t=="function"?t:t===void 0?DR:ct(+t),e=typeof e=="function"?e:ct(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?PR:ct(+n);function h(m){var y,v,b,O=(m=t2(m)).length,C,k=!1,N,j=new Array(O),M=new Array(O);for(a==null&&(o=l(N=u())),y=0;y<=O;++y){if(!(y<O&&i(C=m[y],y,m))===k)if(k=!k)v=y,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=y-1;b>=v;--b)o.point(j[b],M[b]);o.lineEnd(),o.areaEnd()}k&&(j[y]=+t(C,y,m),M[y]=+e(C,y,m),o.point(r?+r(C,y,m):j[y],n?+n(C,y,m):M[y]))}if(N)return o=null,N+""||null}function d(){return _R().defined(i).curve(l).context(a)}return h.x=function(m){return arguments.length?(t=typeof m=="function"?m:ct(+m),r=null,h):t},h.x0=function(m){return arguments.length?(t=typeof m=="function"?m:ct(+m),h):t},h.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:ct(+m),h):r},h.y=function(m){return arguments.length?(e=typeof m=="function"?m:ct(+m),n=null,h):e},h.y0=function(m){return arguments.length?(e=typeof m=="function"?m:ct(+m),h):e},h.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:ct(+m),h):n},h.lineX0=h.lineY0=function(){return d().x(t).y(e)},h.lineY1=function(){return d().x(t).y(n)},h.lineX1=function(){return d().x(r).y(e)},h.defined=function(m){return arguments.length?(i=typeof m=="function"?m:ct(!!m),h):i},h.curve=function(m){return arguments.length?(l=m,a!=null&&(o=l(a)),h):l},h.context=function(m){return arguments.length?(m==null?a=o=null:o=l(a=m),h):a},h}class RR{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function xQ(t){return new RR(t,!0)}function bQ(t){return new RR(t,!1)}const n2={draw(t,e){const n=li(e/mp);t.moveTo(n,0),t.arc(0,0,n,0,Mg)}},wQ={draw(t,e){const n=li(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},LR=li(1/3),SQ=LR*2,CQ={draw(t,e){const n=li(e/SQ),r=n*LR;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},OQ={draw(t,e){const n=li(e),r=-n/2;t.rect(r,r,n,n)}},kQ=.8908130915292852,BR=dp(mp/10)/dp(7*mp/10),jQ=dp(Mg/10)*BR,AQ=-ER(Mg/10)*BR,NQ={draw(t,e){const n=li(e*kQ),r=jQ*n,i=AQ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const l=Mg*a/5,o=ER(l),u=dp(l);t.lineTo(u*n,-o*n),t.lineTo(o*r-u*i,u*r+o*i)}t.closePath()}},wx=li(3),EQ={draw(t,e){const n=-li(e/(wx*3));t.moveTo(0,n*2),t.lineTo(-wx*n,-n),t.lineTo(wx*n,-n),t.closePath()}},Tr=-.5,Mr=li(3)/2,hw=1/li(12),TQ=(hw/2+1)*3,MQ={draw(t,e){const n=li(e/TQ),r=n/2,i=n*hw,a=r,l=n*hw+n,o=-a,u=l;t.moveTo(r,i),t.lineTo(a,l),t.lineTo(o,u),t.lineTo(Tr*r-Mr*i,Mr*r+Tr*i),t.lineTo(Tr*a-Mr*l,Mr*a+Tr*l),t.lineTo(Tr*o-Mr*u,Mr*o+Tr*u),t.lineTo(Tr*r+Mr*i,Tr*i-Mr*r),t.lineTo(Tr*a+Mr*l,Tr*l-Mr*a),t.lineTo(Tr*o+Mr*u,Tr*u-Mr*o),t.closePath()}};function DQ(t,e){let n=null,r=e2(i);t=typeof t=="function"?t:ct(t||n2),e=typeof e=="function"?e:ct(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ct(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ct(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function pp(){}function gp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function zR(t){this._context=t}zR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function PQ(t){return new zR(t)}function IR(t){this._context=t}IR.prototype={areaStart:pp,areaEnd:pp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:gp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _Q(t){return new IR(t)}function UR(t){this._context=t}UR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:gp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function RQ(t){return new UR(t)}function HR(t){this._context=t}HR.prototype={areaStart:pp,areaEnd:pp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function LQ(t){return new HR(t)}function iT(t){return t<0?-1:1}function aT(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),o=(a*i+l*r)/(r+i);return(iT(a)+iT(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(o))||0}function sT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Sx(t,e,n){var r=t._x0,i=t._y0,a=t._x1,l=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,l-o*n,a,l)}function yp(t){this._context=t}yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Sx(this,this._t0,sT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Sx(this,sT(this,n=aT(this,t,e)),n);break;default:Sx(this,this._t0,n=aT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function qR(t){this._context=new $R(t)}(qR.prototype=Object.create(yp.prototype)).point=function(t,e){yp.prototype.point.call(this,e,t)};function $R(t){this._context=t}$R.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function BQ(t){return new yp(t)}function zQ(t){return new qR(t)}function VR(t){this._context=t}VR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=lT(t),i=lT(e),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function lT(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function IQ(t){return new VR(t)}function Pg(t,e){this._context=t,this._t=e}Pg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function UQ(t){return new Pg(t,.5)}function HQ(t){return new Pg(t,0)}function qQ(t){return new Pg(t,1)}function kl(t,e){if((l=t.length)>1)for(var n=1,r,i,a=t[e[0]],l,o=a.length;n<l;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function dw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function $Q(t,e){return t[e]}function VQ(t){const e=[];return e.key=t,e}function FQ(){var t=ct([]),e=dw,n=kl,r=$Q;function i(a){var l=Array.from(t.apply(this,arguments),VQ),o,u=l.length,h=-1,d;for(const m of a)for(o=0,++h;o<u;++o)(l[o][h]=[0,+r(m,l[o].key,h,a)]).data=m;for(o=0,d=t2(e(l));o<u;++o)l[d[o]].index=o;return n(l,d),l}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ct(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ct(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?dw:typeof a=="function"?a:ct(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??kl,i):n},i}function WQ(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}kl(t,e)}}function KQ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var l=0,o=0;l<i;++l)o+=t[l][n][1]||0;r[n][1]+=r[n][0]=-o/2}kl(t,e)}}function GQ(t,e){if(!(!((l=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var o=0,u=0,h=0;o<l;++o){for(var d=t[e[o]],m=d[r][1]||0,y=d[r-1][1]||0,v=(m-y)/2,b=0;b<o;++b){var O=t[e[b]],C=O[r][1]||0,k=O[r-1][1]||0;v+=C-k}u+=m,h+=v*m}i[r-1][1]+=i[r-1][0]=n,u&&(n-=h/u)}i[r-1][1]+=i[r-1][0]=n,kl(t,e)}}var Cx={},Ox={},oT;function YQ(){return oT||(oT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Ox)),Ox}var kx={},cT;function FR(){return cT||(cT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(kx)),kx}var jx={},uT;function r2(){return uT||(uT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(jx)),jx}var Ax={},Nx={},fT;function QQ(){return fT||(fT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Nx)),Nx}var hT;function i2(){return hT||(hT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QQ(),n=r2();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],l=i.length;if(l===0)return a;let o=0,u="",h="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<l;){const m=i[o];h?m==="\\"&&o+1<l?(o++,u+=i[o]):m===h?h="":u+=m:d?m==='"'||m==="'"?h=m:m==="]"?(d=!1,a.push(u),u=""):u+=m:m==="["?(d=!0,u&&(a.push(u),u="")):m==="."?u&&(a.push(u),u=""):u+=m,o++}return u&&a.push(u),a}t.toPath=r})(Ax)),Ax}var dT;function a2(){return dT||(dT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YQ(),n=FR(),r=r2(),i=i2();function a(o,u,h){if(o==null)return h;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return h;const d=o[u];return d===void 0?n.isDeepKey(u)?a(o,i.toPath(u),h):h:d}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const d=o[u];return d===void 0?h:d}default:{if(Array.isArray(u))return l(o,u,h);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return h;const d=o[u];return d===void 0?h:d}}}function l(o,u,h){if(u.length===0)return h;let d=o;for(let m=0;m<u.length;m++){if(d==null||e.isUnsafeProperty(u[m]))return h;d=d[u[m]]}return d===void 0?h:d}t.get=a})(Cx)),Cx}var Ex,mT;function XQ(){return mT||(mT=1,Ex=a2().get),Ex}var ZQ=XQ();const _g=_i(ZQ);var JQ=4;function fs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:JQ,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Ot(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,a,l)=>{var o=n[l-1];return typeof o=="string"?i+o+a:o!==void 0?i+fs(o)+a:i+a},"")}var zr=t=>t===0?0:t>0?1:-1,pa=t=>typeof t=="number"&&t!=+t,jl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ce=t=>(typeof t=="number"||t instanceof Number)&&!pa(t),Mi=t=>Ce(t)||typeof t=="string",eX=0,bf=t=>{var e=++eX;return"".concat(t||"").concat(e)},js=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(e)&&typeof e!="string")return r;var a;if(jl(e)){if(n==null)return r;var l=e.indexOf("%");a=n*parseFloat(e.slice(0,l))/100}else a=+e;return pa(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},WR=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Kn(t,e,n){return Ce(t)&&Ce(e)?fs(t+n*(e-t)):e}function KR(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):_g(r,e))===n)}var xn=t=>t===null||typeof t>"u",Xf=t=>xn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Qn(t){return t!=null}function hc(){}var tX=["type","size","sizeType"];function mw(){return mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mw.apply(null,arguments)}function pT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pT(Object(n),!0).forEach(function(r){nX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nX(t,e,n){return(e=rX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rX(t){var e=iX(t,"string");return typeof e=="symbol"?e:e+""}function iX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aX(t,e){if(t==null)return{};var n,r,i=sX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var GR={symbolCircle:n2,symbolCross:wQ,symbolDiamond:CQ,symbolSquare:OQ,symbolStar:NQ,symbolTriangle:EQ,symbolWye:MQ},lX=Math.PI/180,oX=t=>{var e="symbol".concat(Xf(t));return GR[e]||n2},cX=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*lX;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},uX=(t,e)=>{GR["symbol".concat(Xf(t))]=e},s2=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=aX(t,tX),a=gT(gT({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var o=()=>{var y=oX(l),v=DQ().type(y).size(cX(n,r,l)),b=v();if(b!==null)return b},{className:u,cx:h,cy:d}=a,m=_n(a);return Ce(h)&&Ce(d)&&Ce(n)?S.createElement("path",mw({},m,{className:rt("recharts-symbols",u),transform:"translate(".concat(h,", ").concat(d,")"),d:o()})):null};s2.registerSymbol=uX;var YR=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,l2=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(S.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{ZS(i)&&(r[i]=(a=>n[i](n,a)))}),r},fX=(t,e,n)=>r=>(t(e,n,r),null),QR=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];ZS(i)&&typeof a=="function"&&(r||(r={}),r[i]=fX(a,e,n))}),r};function yT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yT(Object(n),!0).forEach(function(r){dX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dX(t,e,n){return(e=mX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mX(t){var e=pX(t,"string");return typeof e=="symbol"?e:e+""}function pX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function An(t,e){var n=hX({},t),r=e,i=Object.keys(e),a=i.reduce((l,o)=>(l[o]===void 0&&r[o]!==void 0&&(l[o]=r[o]),l),n);return a}function vp(){return vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vp.apply(null,arguments)}function vT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vT(Object(n),!0).forEach(function(r){yX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yX(t,e,n){return(e=vX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vX(t){var e=xX(t,"string");return typeof e=="symbol"?e:e+""}function xX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pr=32,bX={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function wX(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Pr/2,a=Pr/6,l=Pr/3,o=e.inactive?r:e.color,u=n??e.type;if(u==="none")return null;if(u==="plainline"){var h;return S.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(h=e.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:i,x2:Pr,y2:i,className:"recharts-legend-icon"})}if(u==="line")return S.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Pr,"M").concat(2*l,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(u==="rect")return S.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Pr/8,"h").concat(Pr,"v").concat(Pr*3/4,"h").concat(-Pr,"z"),className:"recharts-legend-icon"});if(S.isValidElement(e.legendIcon)){var d=gX({},e);return delete d.legendIcon,S.cloneElement(e.legendIcon,d)}return S.createElement(s2,{fill:o,cx:i,cy:i,size:Pr,sizeType:"diameter",type:u})}function SX(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:l}=t,o={x:0,y:0,width:Pr,height:Pr},u={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,m)=>{var y=d.formatter||i,v=rt({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:d.inactive});if(d.type==="none")return null;var b=d.inactive?a:d.color,O=y?y(d.value,d,m):d.value;return S.createElement("li",vp({className:v,style:u,key:"legend-item-".concat(m)},QR(t,d,m)),S.createElement(JS,{width:n,height:n,viewBox:o,style:h,"aria-label":"".concat(O," legend icon")},S.createElement(wX,{data:d,iconType:l,inactiveColor:a})),S.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},O))})}var CX=t=>{var e=An(t,bX),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return S.createElement("ul",{className:"recharts-default-legend",style:a},S.createElement(SX,vp({},e,{payload:n})))},Tx={},Mx={},xT;function OX(){return xT||(xT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const l=n[a],o=r(l,a,n);i.has(o)||i.set(o,l)}return Array.from(i.values())}t.uniqBy=e})(Mx)),Mx}var Dx={},bT;function kX(){return bT||(bT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(Dx)),Dx}var Px={},wT;function XR(){return wT||(wT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Px)),Px}var _x={},Rx={},Lx={},ST;function jX(){return ST||(ST=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Lx)),Lx}var CT;function o2(){return CT||(CT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jX();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Rx)),Rx}var Bx={},OT;function AX(){return OT||(OT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Bx)),Bx}var kT;function NX(){return kT||(kT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o2(),n=AX();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(_x)),_x}var zx={},Ix={},jT;function EX(){return jT||(jT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a2();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Ix)),Ix}var Ux={},Hx={},qx={},$x={},AT;function ZR(){return AT||(AT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})($x)),$x}var Vx={},NT;function JR(){return NT||(NT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Vx)),Vx}var Fx={},ET;function eL(){return ET||(ET=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(Fx)),Fx}var TT;function TX(){return TT||(TT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZR(),n=JR(),r=eL();function i(d,m,y){return typeof y!="function"?i(d,m,()=>{}):a(d,m,function v(b,O,C,k,N,j){const M=y(b,O,C,k,N,j);return M!==void 0?!!M:a(b,O,v,j)},new Map)}function a(d,m,y,v){if(m===d)return!0;switch(typeof m){case"object":return l(d,m,y,v);case"function":return Object.keys(m).length>0?a(d,{...m},y,v):r.isEqualsSameValueZero(d,m);default:return e.isObject(d)?typeof m=="string"?m==="":!0:r.isEqualsSameValueZero(d,m)}}function l(d,m,y,v){if(m==null)return!0;if(Array.isArray(m))return u(d,m,y,v);if(m instanceof Map)return o(d,m,y,v);if(m instanceof Set)return h(d,m,y,v);const b=Object.keys(m);if(d==null||n.isPrimitive(d))return b.length===0;if(b.length===0)return!0;if(v?.has(m))return v.get(m)===d;v?.set(m,d);try{for(let O=0;O<b.length;O++){const C=b[O];if(!n.isPrimitive(d)&&!(C in d)||m[C]===void 0&&d[C]!==void 0||m[C]===null&&d[C]!==null||!y(d[C],m[C],C,d,m,v))return!1}return!0}finally{v?.delete(m)}}function o(d,m,y,v){if(m.size===0)return!0;if(!(d instanceof Map))return!1;for(const[b,O]of m.entries()){const C=d.get(b);if(y(C,O,b,d,m,v)===!1)return!1}return!0}function u(d,m,y,v){if(m.length===0)return!0;if(!Array.isArray(d))return!1;const b=new Set;for(let O=0;O<m.length;O++){const C=m[O];let k=!1;for(let N=0;N<d.length;N++){if(b.has(N))continue;const j=d[N];let M=!1;if(y(j,C,O,d,m,v)&&(M=!0),M){b.add(N),k=!0;break}}if(!k)return!1}return!0}function h(d,m,y,v){return m.size===0?!0:d instanceof Set?u([...d],[...m],y,v):!1}t.isMatchWith=i,t.isSetMatch=h})(qx)),qx}var MT;function tL(){return MT||(MT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TX();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Hx)),Hx}var Wx={},Kx={},Gx={},DT;function MX(){return DT||(DT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Gx)),Gx}var Yx={},PT;function c2(){return PT||(PT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Yx)),Yx}var Qx={},_T;function nL(){return _T||(_T=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",o="[object Date]",u="[object Map]",h="[object Set]",d="[object Array]",m="[object Function]",y="[object ArrayBuffer]",v="[object Object]",b="[object Error]",O="[object DataView]",C="[object Uint8Array]",k="[object Uint8ClampedArray]",N="[object Uint16Array]",j="[object Uint32Array]",M="[object BigUint64Array]",D="[object Int8Array]",T="[object Int16Array]",E="[object Int32Array]",_="[object BigInt64Array]",R="[object Float32Array]",H="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=y,t.arrayTag=d,t.bigInt64ArrayTag=_,t.bigUint64ArrayTag=M,t.booleanTag=i,t.dataViewTag=O,t.dateTag=o,t.errorTag=b,t.float32ArrayTag=R,t.float64ArrayTag=H,t.functionTag=m,t.int16ArrayTag=T,t.int32ArrayTag=E,t.int8ArrayTag=D,t.mapTag=u,t.numberTag=r,t.objectTag=v,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=N,t.uint32ArrayTag=j,t.uint8ArrayTag=C,t.uint8ClampedArrayTag=k})(Qx)),Qx}var Xx={},RT;function DX(){return RT||(RT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Xx)),Xx}var LT;function rL(){return LT||(LT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MX(),n=c2(),r=nL(),i=JR(),a=DX();function l(d,m){return o(d,void 0,d,new Map,m)}function o(d,m,y,v=new Map,b=void 0){const O=b?.(d,m,y,v);if(O!==void 0)return O;if(i.isPrimitive(d))return d;if(v.has(d))return v.get(d);if(Array.isArray(d)){const C=new Array(d.length);v.set(d,C);for(let k=0;k<d.length;k++)C[k]=o(d[k],k,y,v,b);return Object.hasOwn(d,"index")&&(C.index=d.index),Object.hasOwn(d,"input")&&(C.input=d.input),C}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const C=new RegExp(d.source,d.flags);return C.lastIndex=d.lastIndex,C}if(d instanceof Map){const C=new Map;v.set(d,C);for(const[k,N]of d)C.set(k,o(N,k,y,v,b));return C}if(d instanceof Set){const C=new Set;v.set(d,C);for(const k of d)C.add(o(k,void 0,y,v,b));return C}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const C=new(Object.getPrototypeOf(d)).constructor(d.length);v.set(d,C);for(let k=0;k<d.length;k++)C[k]=o(d[k],k,y,v,b);return C}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const C=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return v.set(d,C),u(C,d,y,v,b),C}if(typeof File<"u"&&d instanceof File){const C=new File([d],d.name,{type:d.type});return v.set(d,C),u(C,d,y,v,b),C}if(typeof Blob<"u"&&d instanceof Blob){const C=new Blob([d],{type:d.type});return v.set(d,C),u(C,d,y,v,b),C}if(d instanceof Error){const C=new d.constructor;return v.set(d,C),C.message=d.message,C.name=d.name,C.stack=d.stack,C.cause=d.cause,u(C,d,y,v,b),C}if(d instanceof Boolean){const C=new Boolean(d.valueOf());return v.set(d,C),u(C,d,y,v,b),C}if(d instanceof Number){const C=new Number(d.valueOf());return v.set(d,C),u(C,d,y,v,b),C}if(d instanceof String){const C=new String(d.valueOf());return v.set(d,C),u(C,d,y,v,b),C}if(typeof d=="object"&&h(d)){const C=Object.create(Object.getPrototypeOf(d));return v.set(d,C),u(C,d,y,v,b),C}return d}function u(d,m,y=d,v,b){const O=[...Object.keys(m),...e.getSymbols(m)];for(let C=0;C<O.length;C++){const k=O[C],N=Object.getOwnPropertyDescriptor(d,k);(N==null||N.writable)&&(d[k]=o(m[k],k,y,v,b))}}function h(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=o,t.copyProperties=u})(Kx)),Kx}var BT;function PX(){return BT||(BT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rL();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Wx)),Wx}var zT;function _X(){return zT||(zT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tL(),n=PX();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(Ux)),Ux}var Zx={},Jx={},eb={},IT;function RX(){return IT||(IT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rL(),n=c2(),r=nL();function i(a,l){return e.cloneDeepWith(a,(o,u,h,d)=>{const m=l?.(o,u,h,d);if(m!==void 0)return m;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const y={};return d.set(a,y),e.copyProperties(y,a,h,d),y}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const y=new a.constructor(a?.valueOf());return e.copyProperties(y,a),y}case r.argumentsTag:{const y={};return e.copyProperties(y,a),y.length=a.length,y[Symbol.iterator]=a[Symbol.iterator],y}default:return}}})}t.cloneDeepWith=i})(eb)),eb}var UT;function LX(){return UT||(UT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RX();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Jx)),Jx}var tb={},nb={},HT;function iL(){return HT||(HT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(nb)),nb}var rb={},qT;function BX(){return qT||(qT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c2();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(rb)),rb}var $T;function zX(){return $T||($T=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FR(),n=iL(),r=BX(),i=i2();function a(l,o){let u;if(Array.isArray(o)?u=o:typeof o=="string"&&e.isDeepKey(o)&&l?.[o]==null?u=i.toPath(o):u=[o],u.length===0)return!1;let h=l;for(let d=0;d<u.length;d++){const m=u[d];if((h==null||!Object.hasOwn(h,m))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(m)&&m<h.length))return!1;h=h[m]}return!0}t.has=a})(tb)),tb}var VT;function IX(){return VT||(VT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tL(),n=r2(),r=LX(),i=a2(),a=zX();function l(o,u){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return u=r.cloneDeep(u),function(h){const d=i.get(h,o);return d===void 0?a.has(h,o):u===void 0?d===void 0:e.isMatch(d,u)}}t.matchesProperty=l})(Zx)),Zx}var FT;function UX(){return FT||(FT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XR(),n=EX(),r=_X(),i=IX();function a(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=a})(zx)),zx}var WT;function HX(){return WT||(WT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OX(),n=kX(),r=XR(),i=NX(),a=UX();function l(o,u=r.identity){return i.isArrayLikeObject(o)?e.uniqBy(Array.from(o),n.ary(a.iteratee(u),1)):[]}t.uniqBy=l})(Tx)),Tx}var ib,KT;function qX(){return KT||(KT=1,ib=HX().uniqBy),ib}var $X=qX();const GT=_i($X);function aL(t,e,n){return e===!0?GT(t,n):typeof e=="function"?GT(t,e):t}var ab={exports:{}},sb={},lb={exports:{}},ob={};var YT;function VX(){if(YT)return ob;YT=1;var t=ac();function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function o(m,y){var v=y(),b=r({inst:{value:v,getSnapshot:y}}),O=b[0].inst,C=b[1];return a(function(){O.value=v,O.getSnapshot=y,u(O)&&C({inst:O})},[m,v,y]),i(function(){return u(O)&&C({inst:O}),m(function(){u(O)&&C({inst:O})})},[m]),l(v),v}function u(m){var y=m.getSnapshot;m=m.value;try{var v=y();return!n(m,v)}catch{return!0}}function h(m,y){return y()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:o;return ob.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,ob}var QT;function FX(){return QT||(QT=1,lb.exports=VX()),lb.exports}var XT;function WX(){if(XT)return sb;XT=1;var t=ac(),e=FX();function n(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,o=t.useMemo,u=t.useDebugValue;return sb.useSyncExternalStoreWithSelector=function(h,d,m,y,v){var b=a(null);if(b.current===null){var O={hasValue:!1,value:null};b.current=O}else O=b.current;b=o(function(){function k(T){if(!N){if(N=!0,j=T,T=y(T),v!==void 0&&O.hasValue){var E=O.value;if(v(E,T))return M=E}return M=T}if(E=M,r(j,T))return E;var _=y(T);return v!==void 0&&v(E,_)?(j=T,E):(j=T,M=_)}var N=!1,j,M,D=m===void 0?null:m;return[function(){return k(d())},D===null?void 0:function(){return k(D())}]},[d,m,y,v]);var C=i(h,b[0],b[1]);return l(function(){O.hasValue=!0,O.value=C},[C]),u(C),C},sb}var ZT;function KX(){return ZT||(ZT=1,ab.exports=WX()),ab.exports}var GX=KX(),u2=S.createContext(null),YX=t=>t,Bt=()=>{var t=S.useContext(u2);return t?t.store.dispatch:YX},Em=()=>{},QX=()=>Em,XX=(t,e)=>t===e;function je(t){var e=S.useContext(u2),n=S.useMemo(()=>e?r=>{if(r!=null)return t(r)}:Em,[e,t]);return GX.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:QX,e?e.store.getState:Em,e?e.store.getState:Em,n,XX)}function ZX(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function JX(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function eZ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var JT=t=>Array.isArray(t)?t:[t];function tZ(t){const e=Array.isArray(t[0])?t[0]:t;return eZ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function nZ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var rZ=class{constructor(t){this.value=t}deref(){return this.value}},iZ=typeof WeakRef<"u"?WeakRef:rZ,aZ=0,eM=1;function nm(){return{s:aZ,v:void 0,o:null,p:null}}function sL(t,e={}){let n=nm();const{resultEqualityCheck:r}=e;let i,a=0;function l(){let o=n;const{length:u}=arguments;for(let m=0,y=u;m<y;m++){const v=arguments[m];if(typeof v=="function"||typeof v=="object"&&v!==null){let b=o.o;b===null&&(o.o=b=new WeakMap);const O=b.get(v);O===void 0?(o=nm(),b.set(v,o)):o=O}else{let b=o.p;b===null&&(o.p=b=new Map);const O=b.get(v);O===void 0?(o=nm(),b.set(v,o)):o=O}}const h=o;let d;if(o.s===eM)d=o.v;else if(d=t.apply(null,arguments),a++,r){const m=i?.deref?.()??i;m!=null&&r(m,d)&&(d=m,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new iZ(d):d}return h.s=eM,h.v=d,d}return l.clearCache=()=>{n=nm(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function sZ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,l=0,o,u={},h=i.pop();typeof h=="object"&&(u=h,h=i.pop()),ZX(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const d={...n,...u},{memoize:m,memoizeOptions:y=[],argsMemoize:v=sL,argsMemoizeOptions:b=[]}=d,O=JT(y),C=JT(b),k=tZ(i),N=m(function(){return a++,h.apply(null,arguments)},...O),j=v(function(){l++;const D=nZ(k,arguments);return o=N.apply(null,D),o},...C);return Object.assign(j,{resultFunc:h,memoizedResultFunc:N,dependencies:k,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:m,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var ee=sZ(sL),lZ=Object.assign((t,e=ee)=>{JX(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((l,o,u)=>(l[n[u]]=o,l),{}))},{withTypes:()=>lZ}),cb={},ub={},fb={},tM;function oZ(){return tM||(tM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=e(r),o=e(i);if(l===o&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-l:l-o}return 0};t.compareValues=n})(fb)),fb}var hb={},db={},nM;function lL(){return nM||(nM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(db)),db}var rM;function cZ(){return rM||(rM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lL(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}t.isKey=i})(hb)),hb}var iM;function uZ(){return iM||(iM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oZ(),n=cZ(),r=i2();function i(a,l,o,u){if(a==null)return[];o=u?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(v=>String(v));const h=(v,b)=>{let O=v;for(let C=0;C<b.length&&O!=null;++C)O=O[b[C]];return O},d=(v,b)=>b==null||v==null?b:typeof v=="object"&&"key"in v?Object.hasOwn(b,v.key)?b[v.key]:h(b,v.path):typeof v=="function"?v(b):Array.isArray(v)?h(b,v):typeof b=="object"?b[v]:b,m=l.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return a.map(v=>({original:v,criteria:m.map(b=>d(b,v))})).slice().sort((v,b)=>{for(let O=0;O<m.length;O++){const C=e.compareValues(v.criteria[O],b.criteria[O],o[O]);if(C!==0)return C}return 0}).map(v=>v.original)}t.orderBy=i})(ub)),ub}var mb={},aM;function fZ(){return aM||(aM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),l=(o,u)=>{for(let h=0;h<o.length;h++){const d=o[h];Array.isArray(d)&&u<a?l(d,u+1):i.push(d)}};return l(n,0),i}t.flatten=e})(mb)),mb}var pb={},sM;function oL(){return sM||(sM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iL(),n=o2(),r=ZR(),i=eL();function a(l,o,u){return r.isObject(u)&&(typeof o=="number"&&n.isArrayLike(u)&&e.isIndex(o)&&o<u.length||typeof o=="string"&&o in u)?i.isEqualsSameValueZero(u[o],l):!1}t.isIterateeCall=a})(pb)),pb}var lM;function hZ(){return lM||(lM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uZ(),n=fZ(),r=oL();function i(a,...l){const o=l.length;return o>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:o>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(a,n.flatten(l),["asc"])}t.sortBy=i})(cb)),cb}var gb,oM;function dZ(){return oM||(oM=1,gb=hZ().sortBy),gb}var mZ=dZ();const Rg=_i(mZ);var cL=t=>t.legend.settings,pZ=t=>t.legend.size,gZ=t=>t.legend.payload,yZ=ee([gZ,cL],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Rg(r,n):r});function vZ(){return je(yZ)}var rm=1;function uL(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=S.useState({height:0,left:0,top:0,width:0}),r=S.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-e.height)>rm||Math.abs(l.left-e.left)>rm||Math.abs(l.top-e.top)>rm||Math.abs(l.width-e.width)>rm)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function fn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var xZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",cM=xZ,yb=()=>Math.random().toString(36).substring(7).split("").join("."),bZ={INIT:`@@redux/INIT${yb()}`,REPLACE:`@@redux/REPLACE${yb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${yb()}`},xp=bZ;function f2(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function fL(t,e,n){if(typeof t!="function")throw new Error(fn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(fn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(fn(1));return n(fL)(t,e)}let r=t,i=e,a=new Map,l=a,o=0,u=!1;function h(){l===a&&(l=new Map,a.forEach((C,k)=>{l.set(k,C)}))}function d(){if(u)throw new Error(fn(3));return i}function m(C){if(typeof C!="function")throw new Error(fn(4));if(u)throw new Error(fn(5));let k=!0;h();const N=o++;return l.set(N,C),function(){if(k){if(u)throw new Error(fn(6));k=!1,h(),l.delete(N),a=null}}}function y(C){if(!f2(C))throw new Error(fn(7));if(typeof C.type>"u")throw new Error(fn(8));if(typeof C.type!="string")throw new Error(fn(17));if(u)throw new Error(fn(9));try{u=!0,i=r(i,C)}finally{u=!1}return(a=l).forEach(N=>{N()}),C}function v(C){if(typeof C!="function")throw new Error(fn(10));r=C,y({type:xp.REPLACE})}function b(){const C=m;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(fn(11));function N(){const M=k;M.next&&M.next(d())}return N(),{unsubscribe:C(N)}},[cM](){return this}}}return y({type:xp.INIT}),{dispatch:y,subscribe:m,getState:d,replaceReducer:v,[cM]:b}}function wZ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:xp.INIT})>"u")throw new Error(fn(12));if(typeof n(void 0,{type:xp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fn(13))})}function hL(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const l=e[a];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{wZ(n)}catch(a){i=a}return function(l={},o){if(i)throw i;let u=!1;const h={};for(let d=0;d<r.length;d++){const m=r[d],y=n[m],v=l[m],b=y(v,o);if(typeof b>"u")throw o&&o.type,new Error(fn(14));h[m]=b,u=u||b!==v}return u=u||r.length!==Object.keys(l).length,u?h:l}}function bp(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function SZ(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(fn(15))};const l={getState:i.getState,dispatch:(u,...h)=>a(u,...h)},o=t.map(u=>u(l));return a=bp(...o)(i.dispatch),{...i,dispatch:a}}}function dL(t){return f2(t)&&"type"in t&&typeof t.type=="string"}var mL=Symbol.for("immer-nothing"),uM=Symbol.for("immer-draftable"),Rn=Symbol.for("immer-state");function Qr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var yr=Object,Jo=yr.getPrototypeOf,wp="constructor",Lg="prototype",pw="configurable",Sp="enumerable",Tm="writable",wf="value",ga=t=>!!t&&!!t[Rn];function ii(t){return t?pL(t)||zg(t)||!!t[uM]||!!t[wp]?.[uM]||Ig(t)||Ug(t):!1}var CZ=yr[Lg][wp].toString(),fM=new WeakMap;function pL(t){if(!t||!h2(t))return!1;const e=Jo(t);if(e===null||e===yr[Lg])return!0;const n=yr.hasOwnProperty.call(e,wp)&&e[wp];if(n===Object)return!0;if(!No(n))return!1;let r=fM.get(n);return r===void 0&&(r=Function.toString.call(n),fM.set(n,r)),r===CZ}function Bg(t,e,n=!0){Zf(t)===0?(n?Reflect.ownKeys(t):yr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Zf(t){const e=t[Rn];return e?e.type_:zg(t)?1:Ig(t)?2:Ug(t)?3:0}var hM=(t,e,n=Zf(t))=>n===2?t.has(e):yr[Lg].hasOwnProperty.call(t,e),gw=(t,e,n=Zf(t))=>n===2?t.get(e):t[e],Cp=(t,e,n,r=Zf(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function OZ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var zg=Array.isArray,Ig=t=>t instanceof Map,Ug=t=>t instanceof Set,h2=t=>typeof t=="object",No=t=>typeof t=="function",vb=t=>typeof t=="boolean";function kZ(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var ia=t=>t.copy_||t.base_,d2=t=>t.modified_?t.copy_:t.base_;function yw(t,e){if(Ig(t))return new Map(t);if(Ug(t))return new Set(t);if(zg(t))return Array[Lg].slice.call(t);const n=pL(t);if(e===!0||e==="class_only"&&!n){const r=yr.getOwnPropertyDescriptors(t);delete r[Rn];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],o=r[l];o[Tm]===!1&&(o[Tm]=!0,o[pw]=!0),(o.get||o.set)&&(r[l]={[pw]:!0,[Tm]:!0,[Sp]:o[Sp],[wf]:t[l]})}return yr.create(Jo(t),r)}else{const r=Jo(t);if(r!==null&&n)return{...t};const i=yr.create(r);return yr.assign(i,t)}}function m2(t,e=!1){return Hg(t)||ga(t)||!ii(t)||(Zf(t)>1&&yr.defineProperties(t,{set:im,add:im,clear:im,delete:im}),yr.freeze(t),e&&Bg(t,(n,r)=>{m2(r,!0)},!1)),t}function jZ(){Qr(2)}var im={[wf]:jZ};function Hg(t){return t===null||!h2(t)?!0:yr.isFrozen(t)}var Op="MapSet",vw="Patches",dM="ArrayMethods",gL={};function Al(t){const e=gL[t];return e||Qr(0,t),e}var mM=t=>!!gL[t],Sf,yL=()=>Sf,AZ=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:mM(Op)?Al(Op):void 0,arrayMethodsPlugin_:mM(dM)?Al(dM):void 0});function pM(t,e){e&&(t.patchPlugin_=Al(vw),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function xw(t){bw(t),t.drafts_.forEach(NZ),t.drafts_=null}function bw(t){t===Sf&&(Sf=t.parent_)}var gM=t=>Sf=AZ(Sf,t);function NZ(t){const e=t[Rn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function yM(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Rn].modified_&&(xw(e),Qr(4)),ii(t)&&(t=vM(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Rn].base_,t,e)}else t=vM(e,n);return EZ(e,t,!0),xw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==mL?t:void 0}function vM(t,e){if(Hg(e))return e;const n=e[Rn];if(!n)return kp(e,t.handledSet_,t);if(!qg(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);bL(n,t)}return n.copy_}function EZ(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&m2(e,n)}function vL(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var qg=(t,e)=>t.scope_===e,TZ=[];function xL(t,e,n,r){const i=ia(t),a=t.type_;if(r!==void 0&&gw(i,r,a)===e){Cp(i,r,n,a);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;Bg(i,(u,h)=>{if(ga(h)){const d=o.get(h)||[];d.push(u),o.set(h,d)}})}const l=t.draftLocations_.get(e)??TZ;for(const o of l)Cp(i,o,n,a)}function MZ(t,e,n){t.callbacks_.push(function(i){const a=e;if(!a||!qg(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const l=d2(a);xL(t,a.draft_??a,l,n),bL(a,i)})}function bL(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}vL(t)}}function DZ(t,e,n){const{scope_:r}=t;if(ga(n)){const i=n[Rn];qg(i,r)&&i.callbacks_.push(function(){Mm(t);const l=d2(i);xL(t,n,l,e)})}else ii(n)&&t.callbacks_.push(function(){const a=ia(t);t.type_===3?a.has(n)&&kp(n,r.handledSet_,r):gw(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&kp(gw(t.copy_,e,t.type_),r.handledSet_,r)})}function kp(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ga(t)||e.has(t)||!ii(t)||Hg(t)||(e.add(t),Bg(t,(r,i)=>{if(ga(i)){const a=i[Rn];if(qg(a,n)){const l=d2(a);Cp(t,r,l,t.type_),vL(a)}}else ii(i)&&kp(i,e,n)})),t}function PZ(t,e){const n=zg(t),r={type_:n?1:0,scope_:e?e.scope_:yL(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=jp;n&&(i=[r],a=Cf);const{revoke:l,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=l,[o,r]}var jp={get(t,e){if(e===Rn)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=ia(t);if(!hM(i,e,t.type_))return _Z(t,i,e);const a=i[e];if(t.finalized_||!ii(a)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&kZ(e))return a;if(a===xb(t.base_,e)){Mm(t);const l=t.type_===1?+e:e,o=Sw(t.scope_,a,t,l);return t.copy_[l]=o}return a},has(t,e){return e in ia(t)},ownKeys(t){return Reflect.ownKeys(ia(t))},set(t,e,n){const r=wL(ia(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=xb(ia(t),e),a=i?.[Rn];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(OZ(n,i)&&(n!==void 0||hM(t.base_,e,t.type_)))return!0;Mm(t),ww(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),DZ(t,e,n)),!0},deleteProperty(t,e){return Mm(t),xb(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),ww(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ia(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Tm]:!0,[pw]:t.type_!==1||e!=="length",[Sp]:r[Sp],[wf]:n[e]}},defineProperty(){Qr(11)},getPrototypeOf(t){return Jo(t.base_)},setPrototypeOf(){Qr(12)}},Cf={};for(let t in jp){let e=jp[t];Cf[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Cf.deleteProperty=function(t,e){return Cf.set.call(this,t,e,void 0)};Cf.set=function(t,e,n){return jp.set.call(this,t[0],e,n,t[0])};function xb(t,e){const n=t[Rn];return(n?ia(n):t)[e]}function _Z(t,e,n){const r=wL(e,n);return r?wf in r?r[wf]:r.get?.call(t.draft_):void 0}function wL(t,e){if(!(e in t))return;let n=Jo(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Jo(n)}}function ww(t){t.modified_||(t.modified_=!0,t.parent_&&ww(t.parent_))}function Mm(t){t.copy_||(t.assigned_=new Map,t.copy_=yw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var RZ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(No(n)&&!No(r)){const l=r;r=n;const o=this;return function(h=l,...d){return o.produce(h,m=>r.call(this,m,...d))}}No(r)||Qr(6),i!==void 0&&!No(i)&&Qr(7);let a;if(ii(n)){const l=gM(this),o=Sw(l,n,void 0);let u=!0;try{a=r(o),u=!1}finally{u?xw(l):bw(l)}return pM(l,i),yM(a,l)}else if(!n||!h2(n)){if(a=r(n),a===void 0&&(a=n),a===mL&&(a=void 0),this.autoFreeze_&&m2(a,!0),i){const l=[],o=[];Al(vw).generateReplacementPatches_(n,a,{patches_:l,inversePatches_:o}),i(l,o)}return a}else Qr(1,n)},this.produceWithPatches=(n,r)=>{if(No(n))return(o,...u)=>this.produceWithPatches(o,h=>n(h,...u));let i,a;return[this.produce(n,r,(o,u)=>{i=o,a=u}),i,a]},vb(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),vb(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),vb(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ii(e)||Qr(8),ga(e)&&(e=ni(e));const n=gM(this),r=Sw(n,e,void 0);return r[Rn].isManual_=!0,bw(n),r}finishDraft(e,n){const r=e&&e[Rn];(!r||!r.isManual_)&&Qr(9);const{scope_:i}=r;return pM(i,n),yM(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Al(vw).applyPatches_;return ga(e)?i(e,n):this.produce(e,a=>i(a,n))}};function Sw(t,e,n,r){const[i,a]=Ig(e)?Al(Op).proxyMap_(e,n):Ug(e)?Al(Op).proxySet_(e,n):PZ(e,n);return(n?.scope_??yL()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?MZ(n,a,r):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:h}=u;a.modified_&&h&&h.generatePatches_(a,[],u)}),i}function ni(t){return ga(t)||Qr(10,t),SL(t)}function SL(t){if(!ii(t)||Hg(t))return t;const e=t[Rn];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=yw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=yw(t,!0);return Bg(n,(i,a)=>{Cp(n,i,SL(a))},r),e&&(e.finalized_=!1),n}var LZ=new RZ,CL=LZ.produce;function OL(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var BZ=OL(),zZ=OL,IZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?bp:bp.apply(null,arguments)};function qr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(vr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>dL(r)&&r.type===t,n}var kL=class Uu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Uu.prototype)}static get[Symbol.species](){return Uu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Uu(...e[0].concat(this)):new Uu(...e.concat(this))}};function xM(t){return ii(t)?CL(t,()=>{}):t}function am(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function UZ(t){return typeof t=="boolean"}var HZ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let l=new kL;return n&&(UZ(n)?l.push(BZ):l.push(zZ(n.extraArgument))),l},jL="RTK_autoBatch",pt=()=>t=>({payload:t,meta:{[jL]:!0}}),bM=t=>e=>{setTimeout(e,t)},AL=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,l=!1;const o=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:bM(10):t.type==="callback"?t.queueNotification:bM(t.timeout),h=()=>{l=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const m=()=>i&&d(),y=r.subscribe(m);return o.add(d),()=>{y(),o.delete(d)}},dispatch(d){try{return i=!d?.meta?.[jL],a=!i,a&&(l||(l=!0,u(h))),r.dispatch(d)}finally{i=!0}}})},qZ=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new kL(t);return r&&i.push(AL(typeof r=="object"?r:void 0)),i};function $Z(t){const e=HZ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(f2(n))o=hL(n);else throw new Error(vr(1));let u;typeof r=="function"?u=r(e):u=e();let h=bp;i&&(h=IZ({trace:!1,...typeof i=="object"&&i}));const d=SZ(...u),m=qZ(d);let y=typeof l=="function"?l(m):m();const v=h(...y);return fL(o,a,v)}function NL(t){const e={},n=[];let r;const i={addCase(a,l){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(vr(28));if(o in e)throw new Error(vr(29));return e[o]=l,i},addAsyncThunk(a,l){return l.pending&&(e[a.pending.type]=l.pending),l.rejected&&(e[a.rejected.type]=l.rejected),l.fulfilled&&(e[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function VZ(t){return typeof t=="function"}function FZ(t,e){let[n,r,i]=NL(e),a;if(VZ(t))a=()=>xM(t());else{const o=xM(t);a=()=>o}function l(o=a(),u){let h=[n[u.type],...r.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return h.filter(d=>!!d).length===0&&(h=[i]),h.reduce((d,m)=>{if(m)if(ga(d)){const v=m(d,u);return v===void 0?d:v}else{if(ii(d))return CL(d,y=>m(y,u));{const y=m(d,u);if(y===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return d},o)}return l.getInitialState=a,l}var WZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",KZ=(t=21)=>{let e="",n=t;for(;n--;)e+=WZ[Math.random()*64|0];return e},GZ=Symbol.for("rtk-slice-createasyncthunk");function YZ(t,e){return`${t}/${e}`}function QZ({creators:t}={}){const e=t?.asyncThunk?.[GZ];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(vr(11));const l=(typeof r.reducers=="function"?r.reducers(ZZ()):r.reducers)||{},o=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(j,M){const D=typeof j=="string"?j:j.type;if(!D)throw new Error(vr(12));if(D in u.sliceCaseReducersByType)throw new Error(vr(13));return u.sliceCaseReducersByType[D]=M,h},addMatcher(j,M){return u.sliceMatchers.push({matcher:j,reducer:M}),h},exposeAction(j,M){return u.actionCreators[j]=M,h},exposeCaseReducer(j,M){return u.sliceCaseReducersByName[j]=M,h}};o.forEach(j=>{const M=l[j],D={reducerName:j,type:YZ(i,j),createNotation:typeof r.reducers=="function"};eJ(M)?nJ(D,M,h,e):JZ(D,M,h)});function d(){const[j={},M=[],D=void 0]=typeof r.extraReducers=="function"?NL(r.extraReducers):[r.extraReducers],T={...j,...u.sliceCaseReducersByType};return FZ(r.initialState,E=>{for(let _ in T)E.addCase(_,T[_]);for(let _ of u.sliceMatchers)E.addMatcher(_.matcher,_.reducer);for(let _ of M)E.addMatcher(_.matcher,_.reducer);D&&E.addDefaultCase(D)})}const m=j=>j,y=new Map,v=new WeakMap;let b;function O(j,M){return b||(b=d()),b(j,M)}function C(){return b||(b=d()),b.getInitialState()}function k(j,M=!1){function D(E){let _=E[j];return typeof _>"u"&&M&&(_=am(v,D,C)),_}function T(E=m){const _=am(y,M,()=>new WeakMap);return am(_,E,()=>{const R={};for(const[H,B]of Object.entries(r.selectors??{}))R[H]=XZ(B,E,()=>am(v,E,C),M);return R})}return{reducerPath:j,getSelectors:T,get selectors(){return T(D)},selectSlice:D}}const N={name:i,reducer:O,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:C,...k(a),injectInto(j,{reducerPath:M,...D}={}){const T=M??a;return j.inject({reducerPath:T,reducer:O},D),{...N,...k(T,!0)}}};return N}}function XZ(t,e,n,r){function i(a,...l){let o=e(a);return typeof o>"u"&&r&&(o=n()),t(o,...l)}return i.unwrapped=t,i}var Jn=QZ();function ZZ(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function JZ({type:t,reducerName:e,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!tJ(r))throw new Error(vr(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,l?qr(t,l):qr(t))}function eJ(t){return t._reducerDefinitionType==="asyncThunk"}function tJ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function nJ({type:t,reducerName:e},n,r,i){if(!i)throw new Error(vr(18));const{payloadCreator:a,fulfilled:l,pending:o,rejected:u,settled:h,options:d}=n,m=i(t,a,d);r.exposeAction(e,m),l&&r.addCase(m.fulfilled,l),o&&r.addCase(m.pending,o),u&&r.addCase(m.rejected,u),h&&r.addMatcher(m.settled,h),r.exposeCaseReducer(e,{fulfilled:l||sm,pending:o||sm,rejected:u||sm,settled:h||sm})}function sm(){}var rJ="task",EL="listener",TL="completed",p2="cancelled",iJ=`task-${p2}`,aJ=`task-${TL}`,Cw=`${EL}-${p2}`,sJ=`${EL}-${TL}`,$g=class{constructor(t){this.code=t,this.message=`${rJ} ${p2} (reason: ${t})`}name="TaskAbortError";message},g2=(t,e)=>{if(typeof t!="function")throw new TypeError(vr(32))},Ap=()=>{},ML=(t,e=Ap)=>(t.catch(e),t),DL=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),vl=t=>{if(t.aborted)throw new $g(t.reason)};function PL(t,e){let n=Ap;return new Promise((r,i)=>{const a=()=>i(new $g(t.reason));if(t.aborted){a();return}n=DL(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Ap})}var lJ=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof $g?"cancelled":"rejected",error:n}}finally{e?.()}},Np=t=>e=>ML(PL(t,e).then(n=>(vl(t),n))),_L=t=>{const e=Np(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:$o}=Object,wM={},Vg="listenerMiddleware",oJ=(t,e)=>{const n=r=>DL(t,()=>r.abort(t.reason));return(r,i)=>{g2(r);const a=new AbortController;n(a);const l=lJ(async()=>{vl(t),vl(a.signal);const o=await r({pause:Np(a.signal),delay:_L(a.signal),signal:a.signal});return vl(a.signal),o},()=>a.abort(aJ));return i?.autoJoin&&e.push(l.catch(Ap)),{result:Np(t)(l),cancel(){a.abort(iJ)}}}},cJ=(t,e)=>{const n=async(r,i)=>{vl(e);let a=()=>{};const o=[new Promise((u,h)=>{let d=t({predicate:r,effect:(m,y)=>{y.unsubscribe(),u([m,y.getState(),y.getOriginalState()])}});a=()=>{d(),h()}})];i!=null&&o.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await PL(e,Promise.race(o));return vl(e),u}finally{a()}};return(r,i)=>ML(n(r,i))},RL=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=qr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(vr(21));return g2(a),{predicate:i,type:e,effect:a}},LL=$o(t=>{const{type:e,predicate:n,effect:r}=RL(t);return{id:KZ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(vr(22))}}},{withTypes:()=>LL}),SM=(t,e)=>{const{type:n,effect:r,predicate:i}=RL(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Ow=t=>{t.pending.forEach(e=>{e.abort(Cw)})},uJ=(t,e)=>()=>{for(const n of e.keys())Ow(n);t.clear()},CM=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},BL=$o(qr(`${Vg}/add`),{withTypes:()=>BL}),fJ=qr(`${Vg}/removeAll`),zL=$o(qr(`${Vg}/remove`),{withTypes:()=>zL}),hJ=(...t)=>{console.error(`${Vg}/error`,...t)},Jf=(t={})=>{const e=new Map,n=new Map,r=v=>{const b=n.get(v)??0;n.set(v,b+1)},i=v=>{const b=n.get(v)??1;b===1?n.delete(v):n.set(v,b-1)},{extra:a,onError:l=hJ}=t;g2(l);const o=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),b=>{v.unsubscribe(),b?.cancelActive&&Ow(v)}),u=v=>{const b=SM(e,v)??LL(v);return o(b)};$o(u,{withTypes:()=>u});const h=v=>{const b=SM(e,v);return b&&(b.unsubscribe(),v.cancelActive&&Ow(b)),!!b};$o(h,{withTypes:()=>h});const d=async(v,b,O,C)=>{const k=new AbortController,N=cJ(u,k.signal),j=[];try{v.pending.add(k),r(v),await Promise.resolve(v.effect(b,$o({},O,{getOriginalState:C,condition:(M,D)=>N(M,D).then(Boolean),take:N,delay:_L(k.signal),pause:Np(k.signal),extra:a,signal:k.signal,fork:oJ(k.signal,j),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((M,D,T)=>{M!==k&&(M.abort(Cw),T.delete(M))})},cancel:()=>{k.abort(Cw),v.pending.delete(k)},throwIfCancelled:()=>{vl(k.signal)}})))}catch(M){M instanceof $g||CM(l,M,{raisedBy:"effect"})}finally{await Promise.all(j),k.abort(sJ),i(v),v.pending.delete(k)}},m=uJ(e,n);return{middleware:v=>b=>O=>{if(!dL(O))return b(O);if(BL.match(O))return u(O.payload);if(fJ.match(O)){m();return}if(zL.match(O))return h(O.payload);let C=v.getState();const k=()=>{if(C===wM)throw new Error(vr(23));return C};let N;try{if(N=b(O),e.size>0){const j=v.getState(),M=Array.from(e.values());for(const D of M){let T=!1;try{T=D.predicate(O,j,C)}catch(E){T=!1,CM(l,E,{raisedBy:"predicate"})}T&&d(D,O,v,k)}}}finally{C=wM}return N},startListening:u,stopListening:h,clearListeners:m}};function vr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var dJ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},IL=Jn({name:"chartLayout",initialState:dJ,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:mJ,setLayout:pJ,setChartSize:gJ,setScale:yJ}=IL.actions,vJ=IL.reducer;function UL(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function We(t){return Number.isFinite(t)}function Di(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function OM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Po(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(n),!0).forEach(function(r){xJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xJ(t,e,n){return(e=bJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bJ(t){var e=wJ(t,"string");return typeof e=="symbol"?e:e+""}function wJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vn(t,e,n){return xn(t)||xn(e)?n:Mi(e)?_g(t,e,n):typeof e=="function"?e(t):n}var SJ=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:o}=e;if((o==="vertical"||o==="horizontal"&&l==="middle")&&a!=="center"&&Ce(t[a]))return Po(Po({},t),{},{[a]:t[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&l!=="middle"&&Ce(t[l]))return Po(Po({},t),{},{[l]:t[l]+(i||0)})}return t},Ca=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",HL=(t,e,n,r)=>{if(r)return t.map(o=>o.coordinate);var i,a,l=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||l.push(e),a||l.push(n),l},qL=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:l,realScaleType:o,isCategorical:u,categoricalDomain:h,tickCount:d,ticks:m,niceTicks:y,axisType:v}=t;if(!l)return null;var b=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,O=i==="category"&&l.bandwidth?l.bandwidth()/b:0;if(O=v==="angleAxis"&&a&&a.length>=2?zr(a[0]-a[1])*2*O:O,m||y){var C=(m||y||[]).map((k,N)=>{var j=r?r.indexOf(k):k,M=l.map(j);return We(M)?{coordinate:M+O,value:k,offset:O,index:N}:null}).filter(Qn);return C}return u&&h?h.map((k,N)=>{var j=l.map(k);return We(j)?{coordinate:j+O,value:k,index:N,offset:O}:null}).filter(Qn):l.ticks&&d!=null?l.ticks(d).map((k,N)=>{var j=l.map(k);return We(j)?{coordinate:j+O,value:k,index:N,offset:O}:null}).filter(Qn):l.domain().map((k,N)=>{var j=l.map(k);return We(j)?{coordinate:j+O,value:r?r[k]:k,index:N,offset:O}:null}).filter(Qn)},CJ=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,l=0,o=0;o<n;++o){var u=t[o],h=u?.[i];if(h!=null){var d=h[1],m=h[0],y=pa(d)?m:d;y>=0?(h[0]=a,a+=y,h[1]=a):(h[0]=l,l+=y,h[1]=l)}}}},OJ=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,l=0;l<n;++l){var o=t[l],u=o?.[i];if(u!=null){var h=pa(u[1])?u[0]:u[1];h>=0?(u[0]=a,a+=h,u[1]=a):(u[0]=0,u[1]=0)}}}},kJ={sign:CJ,expand:WQ,none:kl,silhouette:KQ,wiggle:GQ,positive:OJ},jJ=(t,e,n)=>{var r,i=(r=kJ[n])!==null&&r!==void 0?r:kl,a=FQ().keys(e).value((o,u)=>Number(vn(o,u,0))).order(dw).offset(i),l=a(t);return l.forEach((o,u)=>{o.forEach((h,d)=>{var m=vn(t[d],e[u],0);Array.isArray(m)&&m.length===2&&Ce(m[0])&&Ce(m[1])&&(h[0]=m[0],h[1]=m[1])})}),l};function kM(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!xn(i[e.dataKey])){var o=KR(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n!=null&&n[a]?n[a].coordinate+r/2:null}var u=vn(i,xn(l)?e.dataKey:l),h=e.scale.map(u);return Ce(h)?h:null}var AJ=t=>{var e=t.flat(2).filter(Ce);return[Math.min(...e),Math.max(...e)]},NJ=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],EJ=(t,e,n)=>{if(t!=null)return NJ(Object.keys(t).reduce((r,i)=>{var a=t[i];if(!a)return r;var{stackedData:l}=a,o=l.reduce((u,h)=>{var d=UL(h,e,n),m=AJ(d);return!We(m[0])||!We(m[1])?u:[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},jM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ep=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Rg(e,d=>d.coordinate),a=1/0,l=1,o=i.length;l<o;l++){var u=i[l],h=i[l-1];a=Math.min((u?.coordinate||0)-(h?.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function NM(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Po(Po({},e),{},{dataKey:n,payload:r,value:i,name:a})}function $L(t,e){if(t)return String(t);if(typeof e=="string")return e}var TJ=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},MJ=(t,e)=>e==="centric"?t.angle:t.radius,Oa=t=>t.layout.width,ka=t=>t.layout.height,DJ=t=>t.layout.scale,VL=t=>t.layout.margin,Fg=ee(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Wg=ee(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),PJ="data-recharts-item-index",_J="data-recharts-item-id",eh=60;function EM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(n),!0).forEach(function(r){RJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RJ(t,e,n){return(e=LJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LJ(t){var e=BJ(t,"string");return typeof e=="symbol"?e:e+""}function BJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zJ=t=>t.brush.height;function IJ(t){var e=Wg(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:eh;return n+i}return n},0)}function UJ(t){var e=Wg(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:eh;return n+i}return n},0)}function HJ(t){var e=Fg(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function qJ(t){var e=Fg(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var wn=ee([Oa,ka,VL,zJ,IJ,UJ,HJ,qJ,cL,pZ],(t,e,n,r,i,a,l,o,u,h)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},m={top:(n.top||0)+l,bottom:(n.bottom||0)+o},y=lm(lm({},m),d),v=y.bottom;y.bottom+=r,y=SJ(y,u,h);var b=t-y.left-y.right,O=e-y.top-y.bottom;return lm(lm({brushBottom:v},y),{},{width:Math.max(b,0),height:Math.max(O,0)})}),$J=ee(wn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),FL=ee(Oa,ka,(t,e)=>({x:0,y:0,width:t,height:e})),VJ=S.createContext(null),er=()=>S.useContext(VJ)!=null,Kg=t=>t.brush,Gg=ee([Kg,wn,VL],(t,e,n)=>({height:t.height,x:Ce(t.x)?t.x:e.left,y:Ce(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ce(t.width)?t.width:e.width})),bb={},wb={},Sb={},TM;function FJ(){return TM||(TM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let l,o=null;const u=a!=null&&a.includes("leading"),h=a==null||a.includes("trailing"),d=()=>{o!==null&&(n.apply(l,o),l=void 0,o=null)},m=()=>{h&&d(),O()};let y=null;const v=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,m()},r)},b=()=>{y!==null&&(clearTimeout(y),y=null)},O=()=>{b(),l=void 0,o=null},C=()=>{d()},k=function(...N){if(i?.aborted)return;l=this,o=N;const j=y==null;v(),u&&j&&d()};return k.schedule=v,k.cancel=O,k.flush=C,i?.addEventListener("abort",O,{once:!0}),k}t.debounce=e})(Sb)),Sb}var MM;function WJ(){return MM||(MM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FJ();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:o=!0,maxWait:u}=a,h=Array(2);l&&(h[0]="leading"),o&&(h[1]="trailing");let d,m=null;const y=e.debounce(function(...O){d=r.apply(this,O),m=null},i,{edges:h}),v=function(...O){return u!=null&&(m===null&&(m=Date.now()),Date.now()-m>=u)?(d=r.apply(this,O),m=Date.now(),y.cancel(),y.schedule(),d):(y.apply(this,O),d)},b=()=>(y.flush(),d);return v.cancel=y.cancel,v.flush=b,v}t.debounce=n})(wb)),wb}var DM;function KJ(){return DM||(DM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WJ();function n(r,i=0,a={}){const{leading:l=!0,trailing:o=!0}=a;return e.debounce(r,i,{leading:l,maxWait:i,trailing:o})}t.throttle=n})(bb)),bb}var Cb,PM;function GJ(){return PM||(PM=1,Cb=KJ().throttle),Cb}var YJ=GJ();const QJ=_i(YJ);var Tp=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},ji={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},WL=(t,e,n)=>{var{width:r=ji.width,height:i=ji.height,aspect:a,maxHeight:l}=n,o=jl(r)?t:Number(r),u=jl(i)?e:Number(i);return a&&a>0&&(o?u=o/a:u&&(o=u*a),l&&u!=null&&u>l&&(u=l)),{calculatedWidth:o,calculatedHeight:u}},XJ={width:0,height:0,overflow:"visible"},ZJ={width:0,overflowX:"visible"},JJ={height:0,overflowY:"visible"},eee={},tee=t=>{var{width:e,height:n}=t,r=jl(e),i=jl(n);return r&&i?XJ:r?ZJ:i?JJ:eee};function nee(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i=ji.width,a=ji.height):i===void 0?i=r&&r>0?void 0:ji.width:a===void 0&&(a=r&&r>0?void 0:ji.height),{width:i,height:a}}function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kw.apply(null,arguments)}function _M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(n),!0).forEach(function(r){ree(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ree(t,e,n){return(e=iee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iee(t){var e=aee(t,"string");return typeof e=="symbol"?e:e+""}function aee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KL=S.createContext(ji.initialDimension);function see(t){return Di(t.width)&&Di(t.height)}function GL(t){var{children:e,width:n,height:r}=t,i=S.useMemo(()=>({width:n,height:r}),[n,r]);return see(i)?S.createElement(KL.Provider,{value:i},e):null}var y2=()=>S.useContext(KL),lee=S.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=ji.initialDimension,width:i,height:a,minWidth:l=ji.minWidth,minHeight:o,maxHeight:u,children:h,debounce:d=ji.debounce,id:m,className:y,onResize:v,style:b={}}=t,O=S.useRef(null),C=S.useRef();C.current=v,S.useImperativeHandle(e,()=>O.current);var[k,N]=S.useState({containerWidth:r.width,containerHeight:r.height}),j=S.useCallback((_,R)=>{N(H=>{var B=Math.round(_),z=Math.round(R);return H.containerWidth===B&&H.containerHeight===z?H:{containerWidth:B,containerHeight:z}})},[]);S.useEffect(()=>{if(O.current==null||typeof ResizeObserver>"u")return hc;var _=z=>{var ie,ne=z[0];if(ne!=null){var{width:I,height:q}=ne.contentRect;j(I,q),(ie=C.current)===null||ie===void 0||ie.call(C,I,q)}};d>0&&(_=QJ(_,d,{trailing:!0,leading:!1}));var R=new ResizeObserver(_),{width:H,height:B}=O.current.getBoundingClientRect();return j(H,B),R.observe(O.current),()=>{R.disconnect()}},[j,d]);var{containerWidth:M,containerHeight:D}=k;Tp(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:T,calculatedHeight:E}=WL(M,D,{width:i,height:a,aspect:n,maxHeight:u});return Tp(T!=null&&T>0||E!=null&&E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,E,i,a,l,o,n),S.createElement("div",{id:m?"".concat(m):void 0,className:rt("recharts-responsive-container",y),style:RM(RM({},b),{},{width:i,height:a,minWidth:l,minHeight:o,maxHeight:u}),ref:O},S.createElement("div",{style:tee({width:i,height:a})},S.createElement(GL,{width:T,height:E},h)))}),Mp=S.forwardRef((t,e)=>{var n=y2();if(Di(n.width)&&Di(n.height))return t.children;var{width:r,height:i}=nee({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:l}=WL(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ce(a)&&Ce(l)?S.createElement(GL,{width:a,height:l},t.children):S.createElement(lee,kw({},t,{width:r,height:i,ref:e}))});function v2(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Yg=()=>{var t,e=er(),n=je($J),r=je(Gg),i=(t=je(Kg))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},oee={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},YL=()=>{var t;return(t=je(wn))!==null&&t!==void 0?t:oee},x2=()=>je(Oa),b2=()=>je(ka),cee=()=>je(t=>t.layout.margin),xt=t=>t.layout.layoutType,dc=()=>je(xt),QL=()=>{var t=dc();if(t==="horizontal"||t==="vertical")return t},XL=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},uee=()=>{var t=dc();return t!==void 0},th=t=>{var e=Bt(),n=er(),{width:r,height:i}=t,a=y2(),l=r,o=i;return a&&(l=a.width>0?a.width:r,o=a.height>0?a.height:i),S.useEffect(()=>{!n&&Di(l)&&Di(o)&&e(gJ({width:l,height:o}))},[e,n,l,o]),null},ZL=Symbol.for("immer-nothing"),LM=Symbol.for("immer-draftable"),xr=Symbol.for("immer-state");function Xr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Of=Object.getPrototypeOf;function ec(t){return!!t&&!!t[xr]}function Nl(t){return t?JL(t)||Array.isArray(t)||!!t[LM]||!!t.constructor?.[LM]||nh(t)||Xg(t):!1}var fee=Object.prototype.constructor.toString(),BM=new WeakMap;function JL(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=BM.get(n);return r===void 0&&(r=Function.toString.call(n),BM.set(n,r)),r===fee}function Dp(t,e,n=!0){Qg(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Qg(t){const e=t[xr];return e?e.type_:Array.isArray(t)?1:nh(t)?2:Xg(t)?3:0}function jw(t,e){return Qg(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function e8(t,e,n){const r=Qg(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function hee(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function nh(t){return t instanceof Map}function Xg(t){return t instanceof Set}function il(t){return t.copy_||t.base_}function Aw(t,e){if(nh(t))return new Map(t);if(Xg(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=JL(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[xr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],o=r[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[l]})}return Object.create(Of(t),r)}else{const r=Of(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function w2(t,e=!1){return Zg(t)||ec(t)||!Nl(t)||(Qg(t)>1&&Object.defineProperties(t,{set:om,add:om,clear:om,delete:om}),Object.freeze(t),e&&Object.values(t).forEach(n=>w2(n,!0))),t}function dee(){Xr(2)}var om={value:dee};function Zg(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var mee={};function El(t){const e=mee[t];return e||Xr(0,t),e}var kf;function t8(){return kf}function pee(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function zM(t,e){e&&(El("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Nw(t){Ew(t),t.drafts_.forEach(gee),t.drafts_=null}function Ew(t){t===kf&&(kf=t.parent_)}function IM(t){return kf=pee(kf,t)}function gee(t){const e=t[xr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function UM(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[xr].modified_&&(Nw(e),Xr(4)),Nl(t)&&(t=Pp(e,t),e.parent_||_p(e,t)),e.patches_&&El("Patches").generateReplacementPatches_(n[xr].base_,t,e.patches_,e.inversePatches_)):t=Pp(e,n,[]),Nw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==ZL?t:void 0}function Pp(t,e,n){if(Zg(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[xr];if(!i)return Dp(e,(a,l)=>HM(t,i,e,a,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return _p(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,o=!1;i.type_===3&&(l=new Set(a),a.clear(),o=!0),Dp(l,(u,h)=>HM(t,i,a,u,h,n,o),r),_p(t,a,!1),n&&t.patches_&&El("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function HM(t,e,n,r,i,a,l){if(i==null||typeof i!="object"&&!l)return;const o=Zg(i);if(!(o&&!l)){if(ec(i)){const u=a&&e&&e.type_!==3&&!jw(e.assigned_,r)?a.concat(r):void 0,h=Pp(t,i,u);if(e8(n,r,h),ec(h))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Nl(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;Pp(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(nh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&_p(t,i)}}}function _p(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&w2(e,n)}function yee(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:t8(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=S2;n&&(i=[r],a=jf);const{revoke:l,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=l,o}var S2={get(t,e){if(e===xr)return t;const n=il(t);if(!jw(n,e))return vee(t,n,e);const r=n[e];return t.finalized_||!Nl(r)?r:r===Ob(t.base_,e)?(kb(t),t.copy_[e]=Mw(r,t)):r},has(t,e){return e in il(t)},ownKeys(t){return Reflect.ownKeys(il(t))},set(t,e,n){const r=n8(il(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Ob(il(t),e),a=i?.[xr];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(hee(n,i)&&(n!==void 0||jw(t.base_,e)))return!0;kb(t),Tw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Ob(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,kb(t),Tw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=il(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Xr(11)},getPrototypeOf(t){return Of(t.base_)},setPrototypeOf(){Xr(12)}},jf={};Dp(S2,(t,e)=>{jf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});jf.deleteProperty=function(t,e){return jf.set.call(this,t,e,void 0)};jf.set=function(t,e,n){return S2.set.call(this,t[0],e,n,t[0])};function Ob(t,e){const n=t[xr];return(n?il(n):t)[e]}function vee(t,e,n){const r=n8(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function n8(t,e){if(!(e in t))return;let n=Of(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Of(n)}}function Tw(t){t.modified_||(t.modified_=!0,t.parent_&&Tw(t.parent_))}function kb(t){t.copy_||(t.copy_=Aw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var xee=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const l=this;return function(u=a,...h){return l.produce(u,d=>n.call(this,d,...h))}}typeof n!="function"&&Xr(6),r!==void 0&&typeof r!="function"&&Xr(7);let i;if(Nl(e)){const a=IM(this),l=Mw(e,void 0);let o=!0;try{i=n(l),o=!1}finally{o?Nw(a):Ew(a)}return zM(a,r),UM(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===ZL&&(i=void 0),this.autoFreeze_&&w2(i,!0),r){const a=[],l=[];El("Patches").generateReplacementPatches_(e,i,a,l),r(a,l)}return i}else Xr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...o)=>this.produceWithPatches(l,u=>e(u,...o));let r,i;return[this.produce(e,n,(l,o)=>{r=l,i=o}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Nl(t)||Xr(8),ec(t)&&(t=bee(t));const e=IM(this),n=Mw(t,void 0);return n[xr].isManual_=!0,Ew(e),n}finishDraft(t,e){const n=t&&t[xr];(!n||!n.isManual_)&&Xr(9);const{scope_:r}=n;return zM(r,e),UM(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=El("Patches").applyPatches_;return ec(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Mw(t,e){const n=nh(t)?El("MapSet").proxyMap_(t,e):Xg(t)?El("MapSet").proxySet_(t,e):yee(t,e);return(e?e.scope_:t8()).drafts_.push(n),n}function bee(t){return ec(t)||Xr(10,t),r8(t)}function r8(t){if(!Nl(t)||Zg(t))return t;const e=t[xr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Aw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Aw(t,!0);return Dp(n,(i,a)=>{e8(n,i,r8(a))},r),e&&(e.finalized_=!1),n}var wee=new xee;wee.produce;var See={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},i8=Jn({name:"legend",initialState:See,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:pt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ni(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:pt()},removeLegendPayload:{reducer(t,e){var n=ni(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:pt()}}}),{setLegendSize:qM,setLegendSettings:Cee,addLegendPayload:Oee,replaceLegendPayload:kee,removeLegendPayload:jee}=i8.actions,Aee=i8.reducer,Nee=["contextPayload"];function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dw.apply(null,arguments)}function $M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(n),!0).forEach(function(r){Eee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eee(t,e,n){return(e=Tee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tee(t){var e=Mee(t,"string");return typeof e=="symbol"?e:e+""}function Mee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dee(t,e){if(t==null)return{};var n,r,i=Pee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _ee(t){return t.value}function Ree(t){var{contextPayload:e}=t,n=Dee(t,Nee),r=aL(e,t.payloadUniqBy,_ee),i=tc(tc({},n),{},{payload:r});return S.isValidElement(t.content)?S.cloneElement(t.content,i):typeof t.content=="function"?S.createElement(t.content,i):S.createElement(CX,i)}function Lee(t,e,n,r,i,a){var{layout:l,align:o,verticalAlign:u}=e,h,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&l==="vertical"?h={left:((r||0)-a.width)/2}:h=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(u==="middle"?d={top:((i||0)-a.height)/2}:d=u==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),tc(tc({},h),d)}function Bee(t){var e=Bt();return S.useEffect(()=>{e(Cee(t))},[e,t]),null}function zee(t){var e=Bt();return S.useEffect(()=>(e(qM(t)),()=>{e(qM({width:0,height:0}))}),[e,t]),null}function Iee(t,e,n,r){return t==="vertical"&&e!=null?{height:e}:t==="horizontal"?{width:n||r}:null}var Uee={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function C2(t){var e=An(t,Uee),n=vZ(),r=pQ(),i=cee(),{width:a,height:l,wrapperStyle:o,portal:u}=e,[h,d]=uL([n]),m=x2(),y=b2();if(m==null||y==null)return null;var v=m-(i?.left||0)-(i?.right||0),b=Iee(e.layout,l,a,v),O=u?o:tc(tc({position:"absolute",width:b?.width||a||"auto",height:b?.height||l||"auto"},Lee(o,e,i,m,y,h)),o),C=u??r;if(C==null||n==null)return null;var k=S.createElement("div",{className:"recharts-legend-wrapper",style:O,ref:d},S.createElement(Bee,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!u&&S.createElement(zee,{width:h.width,height:h.height}),S.createElement(Ree,Dw({},e,b,{margin:i,chartWidth:m,chartHeight:y,contextPayload:n})));return lS.createPortal(k,C)}C2.displayName="Legend";function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pw.apply(null,arguments)}function VM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ku(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(n),!0).forEach(function(r){Hee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hee(t,e,n){return(e=qee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qee(t){var e=$ee(t,"string");return typeof e=="symbol"?e:e+""}function $ee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vee(t){return Array.isArray(t)&&Mi(t[0])&&Mi(t[1])?t.join(" ~ "):t}var So={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Fee=t=>{var{separator:e=So.separator,contentStyle:n,itemStyle:r,labelStyle:i=So.labelStyle,payload:a,formatter:l,itemSorter:o,wrapperClassName:u,labelClassName:h,label:d,labelFormatter:m,accessibilityLayer:y=So.accessibilityLayer}=t,v=()=>{if(a&&a.length){var D={padding:0,margin:0},T=(o?Rg(a,o):a).map((E,_)=>{if(E.type==="none")return null;var R=E.formatter||l||Vee,{value:H,name:B}=E,z=H,ie=B;if(R){var ne=R(H,B,E,_,a);if(Array.isArray(ne))[z,ie]=ne;else if(ne!=null)z=ne;else return null}var I=ku(ku({},So.itemStyle),{},{color:E.color||So.itemStyle.color},r);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:I},Mi(ie)?S.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,Mi(ie)?S.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,S.createElement("span",{className:"recharts-tooltip-item-value"},z),S.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:D},T)}return null},b=ku(ku({},So.contentStyle),n),O=ku({margin:0},i),C=!xn(d),k=C?d:"",N=rt("recharts-default-tooltip",u),j=rt("recharts-tooltip-label",h);C&&m&&a!==void 0&&a!==null&&(k=m(d,a));var M=y?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",Pw({className:N,style:b},M),S.createElement("p",{className:j,style:O},S.isValidElement(k)?k:"".concat(k)),v())},ju="recharts-tooltip-wrapper",Wee={visibility:"hidden"};function Kee(t){var{coordinate:e,translateX:n,translateY:r}=t;return rt(ju,{["".concat(ju,"-right")]:Ce(n)&&e&&Ce(e.x)&&n>=e.x,["".concat(ju,"-left")]:Ce(n)&&e&&Ce(e.x)&&n<e.x,["".concat(ju,"-bottom")]:Ce(r)&&e&&Ce(e.y)&&r>=e.y,["".concat(ju,"-top")]:Ce(r)&&e&&Ce(e.y)&&r<e.y})}function FM(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:a,reverseDirection:l,tooltipDimension:o,viewBox:u,viewBoxDimension:h}=t;if(a&&Ce(a[r]))return a[r];var d=n[r]-o-(i>0?i:0),m=n[r]+i;if(e[r])return l[r]?d:m;var y=u[r];if(y==null)return 0;if(l[r]){var v=d,b=y;return v<b?Math.max(m,y):Math.max(d,y)}if(h==null)return 0;var O=m+o,C=y+h;return O>C?Math.max(d,y):Math.max(m,y)}function Gee(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Yee(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:a,reverseDirection:l,tooltipBox:o,useTranslate3d:u,viewBox:h}=t,d,m,y;return o.height>0&&o.width>0&&n?(m=FM({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:a,reverseDirection:l,tooltipDimension:o.width,viewBox:h,viewBoxDimension:h.width}),y=FM({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:a,reverseDirection:l,tooltipDimension:o.height,viewBox:h,viewBoxDimension:h.height}),d=Gee({translateX:m,translateY:y,useTranslate3d:u})):d=Wee,{cssProperties:d,cssClasses:Kee({translateX:m,translateY:y,coordinate:n})}}function WM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(n),!0).forEach(function(r){_w(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _w(t,e,n){return(e=Qee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qee(t){var e=Xee(t,"string");return typeof e=="symbol"?e:e+""}function Xee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Zee extends S.PureComponent{constructor(){super(...arguments),_w(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_w(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:l,hasPayload:o,isAnimationActive:u,offset:h,position:d,reverseDirection:m,useTranslate3d:y,viewBox:v,wrapperStyle:b,lastBoundingBox:O,innerRef:C,hasPortalFromProps:k}=this.props,N=typeof h=="number"?h:h.x,j=typeof h=="number"?h:h.y,{cssClasses:M,cssProperties:D}=Yee({allowEscapeViewBox:n,coordinate:l,offsetLeft:N,offsetTop:j,position:d,reverseDirection:m,tooltipBox:{height:O.height,width:O.width},useTranslate3d:y,viewBox:v}),T=k?{}:cm(cm({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),E=cm(cm({},T),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},b);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:E,ref:C},a)}}var a8=()=>{var t;return(t=je(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Rw(){return Rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rw.apply(null,arguments)}function KM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(n),!0).forEach(function(r){Jee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jee(t,e,n){return(e=ete(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ete(t){var e=tte(t,"string");return typeof e=="symbol"?e:e+""}function tte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YM={curveBasisClosed:_Q,curveBasisOpen:RQ,curveBasis:PQ,curveBumpX:xQ,curveBumpY:bQ,curveLinearClosed:LQ,curveLinear:Dg,curveMonotoneX:BQ,curveMonotoneY:zQ,curveNatural:IQ,curveStep:UQ,curveStepAfter:qQ,curveStepBefore:HQ},Rp=t=>We(t.x)&&We(t.y),QM=t=>t.base!=null&&Rp(t.base)&&Rp(t),Au=t=>t.x,Nu=t=>t.y,nte=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Xf(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=YM["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return YM[n]||Dg},XM={connectNulls:!1,type:"linear"},rte=t=>{var{type:e=XM.type,points:n=[],baseLine:r,layout:i,connectNulls:a=XM.connectNulls}=t,l=nte(e,i),o=a?n.filter(Rp):n;if(Array.isArray(r)){var u,h=n.map((b,O)=>GM(GM({},b),{},{base:r[O]}));i==="vertical"?u=tm().y(Nu).x1(Au).x0(b=>b.base.x):u=tm().x(Au).y1(Nu).y0(b=>b.base.y);var d=u.defined(QM).curve(l),m=a?h.filter(QM):h;return d(m)}var y;i==="vertical"&&Ce(r)?y=tm().y(Nu).x1(Au).x0(r):Ce(r)?y=tm().x(Au).y1(Nu).y0(r):y=_R().x(Au).y(Nu);var v=y.defined(Rp).curve(l);return v(o)},s8=t=>{var{className:e,points:n,path:r,pathRef:i}=t,a=dc();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},o=n&&n.length?rte(l):r;return S.createElement("path",Rw({},Ti(t),l2(t),{className:rt("recharts-curve",e),d:o===null?void 0:o,ref:i}))},ite=["x","y","top","left","width","height","className"];function Lw(){return Lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lw.apply(null,arguments)}function ZM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ate(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(n),!0).forEach(function(r){ste(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ste(t,e,n){return(e=lte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lte(t){var e=ote(t,"string");return typeof e=="symbol"?e:e+""}function ote(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cte(t,e){if(t==null)return{};var n,r,i=ute(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ute(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fte=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),hte=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:l=0,className:o}=t,u=cte(t,ite),h=ate({x:e,y:n,top:r,left:i,width:a,height:l},u);return!Ce(e)||!Ce(n)||!Ce(a)||!Ce(l)||!Ce(r)||!Ce(i)?null:S.createElement("path",Lw({},_n(h),{className:rt("recharts-cross",o),d:fte(e,n,a,l,r,i)}))};function dte(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function JM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(n),!0).forEach(function(r){mte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mte(t,e,n){return(e=pte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pte(t){var e=gte(t,"string");return typeof e=="symbol"?e:e+""}function gte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yte=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),l8=(t,e,n)=>t.map(r=>"".concat(yte(r)," ").concat(e,"ms ").concat(n)).join(","),vte=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Af=(t,e)=>Object.keys(e).reduce((n,r)=>eD(eD({},n),{},{[r]:t(r,e[r])}),{});function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){xte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xte(t,e,n){return(e=bte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bte(t){var e=wte(t,"string");return typeof e=="symbol"?e:e+""}function wte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lp=(t,e,n)=>t+(e-t)*n,Bw=t=>{var{from:e,to:n}=t;return e!==n},o8=(t,e,n)=>{var r=Af((i,a)=>{if(Bw(a)){var[l,o]=t(a.from,a.to,a.velocity);return It(It({},a),{},{from:l,velocity:o})}return a},e);return n<1?Af((i,a)=>Bw(a)&&r[i]!=null?It(It({},a),{},{velocity:Lp(a.velocity,r[i].velocity,n),from:Lp(a.from,r[i].from,n)}):a,e):o8(t,r,n-1)};function Ste(t,e,n,r,i,a){var l,o=r.reduce((y,v)=>It(It({},y),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),u=()=>Af((y,v)=>v.from,o),h=()=>!Object.values(o).filter(Bw).length,d=null,m=y=>{l||(l=y);var v=y-l,b=v/n.dt;o=o8(n,o,b),i(It(It(It({},t),e),u())),l=y,h()||(d=a.setTimeout(m))};return()=>(d=a.setTimeout(m),()=>{var y;(y=d)===null||y===void 0||y()})}function Cte(t,e,n,r,i,a,l){var o=null,u=i.reduce((m,y)=>{var v=t[y],b=e[y];return v==null||b==null?m:It(It({},m),{},{[y]:[v,b]})},{}),h,d=m=>{h||(h=m);var y=(m-h)/r,v=Af((O,C)=>Lp(...C,n(y)),u);if(a(It(It(It({},t),e),v)),y<1)o=l.setTimeout(d);else{var b=Af((O,C)=>Lp(...C,n(1)),u);a(It(It(It({},t),e),b))}};return()=>(o=l.setTimeout(d),()=>{var m;(m=o)===null||m===void 0||m()})}const Ote=(t,e,n,r,i,a)=>{var l=vte(t,e);return n==null?()=>(i(It(It({},t),e)),()=>{}):n.isStepper===!0?Ste(t,e,n,l,i,a):Cte(t,e,n,r,l,i,a)};var Bp=1e-4,c8=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],u8=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),nD=(t,e)=>n=>{var r=c8(t,e);return u8(r,n)},kte=(t,e)=>n=>{var r=c8(t,e),i=[...r.map((a,l)=>a*l).slice(1),0];return u8(i,n)},jte=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},Ate=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=jte(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},Nte=(t,e,n,r)=>{var i=nD(t,n),a=nD(e,r),l=kte(t,n),o=h=>h>1?1:h<0?0:h,u=h=>{for(var d=h>1?1:h,m=d,y=0;y<8;++y){var v=i(m)-d,b=l(m);if(Math.abs(v-d)<Bp||b<Bp)return a(m);m=o(m-v/b)}return a(m)};return u.isStepper=!1,u},rD=function(){return Nte(...Ate(...arguments))},Ete=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(l,o,u)=>{var h=-(l-o)*n,d=u*r,m=u+(h-d)*i/1e3,y=u*i/1e3+l;return Math.abs(y-o)<Bp&&Math.abs(m)<Bp?[o,0]:[y,m]};return a.isStepper=!0,a.dt=i,a},Tte=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return rD(t);case"spring":return Ete();default:if(t.split("(")[0]==="cubic-bezier")return rD(t)}return typeof t=="function"?t:null};function Mte(t){var e,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var o=l,[u,...h]=o;if(typeof u=="number"){i=t.setTimeout(a.bind(null,h),u);return}a(u),i=t.setTimeout(a.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class Dte{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Pte(){return Mte(new Dte)}var _te=S.createContext(Pte);function Rte(t,e){var n=S.useContext(_te);return S.useMemo(()=>e??n(t),[t,e,n])}var Lte=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Jg={isSsr:Lte()},Bte={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},iD={t:0},jb={t:1};function O2(t){var e=An(t,Bte),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:o,onAnimationStart:u,children:h}=e,d=n==="auto"?!Jg.isSsr:n,m=Rte(e.animationId,e.animationManager),[y,v]=S.useState(d?iD:jb),b=S.useRef(null);return S.useEffect(()=>{d||v(jb)},[d]),S.useEffect(()=>{if(!d||!r)return hc;var O=Ote(iD,jb,Tte(a),i,v,m.getTimeoutController()),C=()=>{b.current=O()};return m.start([u,l,C,i,o]),()=>{m.stop(),b.current&&b.current(),o()}},[d,r,i,a,l,u,o,m]),h(y.t)}function k2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=S.useRef(bf(e)),r=S.useRef(t);return r.current!==t&&(n.current=bf(e),r.current=t),n.current}var zte=["radius"],Ite=["radius"],aD,sD,lD,oD,cD,uD,fD,hD,dD,mD;function pD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(n),!0).forEach(function(r){Ute(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ute(t,e,n){return(e=Hte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hte(t){var e=qte(t,"string");return typeof e=="symbol"?e:e+""}function qte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zp(){return zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zp.apply(null,arguments)}function yD(t,e){if(t==null)return{};var n,r,i=$te(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $te(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function pi(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var vD=(t,e,n,r,i)=>{var a=fs(n),l=fs(r),o=Math.min(Math.abs(a)/2,Math.abs(l)/2),u=l>=0?1:-1,h=a>=0?1:-1,d=l>=0&&a>=0||l<0&&a<0?1:0,m;if(o>0&&Array.isArray(i)){for(var y=[0,0,0,0],v=0,b=4;v<b;v++){var O,C=(O=i[v])!==null&&O!==void 0?O:0;y[v]=C>o?o:C}m=Ot(aD||(aD=pi(["M",",",""])),t,e+u*y[0]),y[0]>0&&(m+=Ot(sD||(sD=pi(["A ",",",",0,0,",",",",",""])),y[0],y[0],d,t+h*y[0],e)),m+=Ot(lD||(lD=pi(["L ",",",""])),t+n-h*y[1],e),y[1]>0&&(m+=Ot(oD||(oD=pi(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],d,t+n,e+u*y[1])),m+=Ot(cD||(cD=pi(["L ",",",""])),t+n,e+r-u*y[2]),y[2]>0&&(m+=Ot(uD||(uD=pi(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],d,t+n-h*y[2],e+r)),m+=Ot(fD||(fD=pi(["L ",",",""])),t+h*y[3],e+r),y[3]>0&&(m+=Ot(hD||(hD=pi(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],d,t,e+r-u*y[3])),m+="Z"}else if(o>0&&i===+i&&i>0){var k=Math.min(o,i);m=Ot(dD||(dD=pi(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+u*k,k,k,d,t+h*k,e,t+n-h*k,e,k,k,d,t+n,e+u*k,t+n,e+r-u*k,k,k,d,t+n-h*k,e+r,t+h*k,e+r,k,k,d,t,e+r-u*k)}else m=Ot(mD||(mD=pi(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return m},xD={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},f8=t=>{var e=An(t,xD),n=S.useRef(null),[r,i]=S.useState(-1);S.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var V=n.current.getTotalLength();V&&i(V)}catch{}},[]);var{x:a,y:l,width:o,height:u,radius:h,className:d}=e,{animationEasing:m,animationDuration:y,animationBegin:v,isAnimationActive:b,isUpdateAnimationActive:O}=e,C=S.useRef(o),k=S.useRef(u),N=S.useRef(a),j=S.useRef(l),M=S.useMemo(()=>({x:a,y:l,width:o,height:u,radius:h}),[a,l,o,u,h]),D=k2(M,"rectangle-");if(a!==+a||l!==+l||o!==+o||u!==+u||o===0||u===0)return null;var T=rt("recharts-rectangle",d);if(!O){var E=_n(e),{radius:_}=E,R=yD(E,zte);return S.createElement("path",zp({},R,{x:fs(a),y:fs(l),width:fs(o),height:fs(u),radius:typeof h=="number"?h:void 0,className:T,d:vD(a,l,o,u,h)}))}var H=C.current,B=k.current,z=N.current,ie=j.current,ne="0px ".concat(r===-1?1:r,"px"),I="".concat(r,"px 0px"),q=l8(["strokeDasharray"],y,typeof m=="string"?m:xD.animationEasing);return S.createElement(O2,{animationId:D,key:D,canBegin:r>0,duration:y,easing:m,isActive:O,begin:v},V=>{var te=Kn(H,o,V),W=Kn(B,u,V),ce=Kn(z,a,V),L=Kn(ie,l,V);n.current&&(C.current=te,k.current=W,N.current=ce,j.current=L);var Y;b?V>0?Y={transition:q,strokeDasharray:I}:Y={strokeDasharray:ne}:Y={strokeDasharray:I};var ue=_n(e),{radius:X}=ue,de=yD(ue,Ite);return S.createElement("path",zp({},de,{radius:typeof h=="number"?h:void 0,className:T,d:vD(ce,L,te,W,h),ref:n,style:gD(gD({},Y),e.style)}))})};function bD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bD(Object(n),!0).forEach(function(r){Vte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vte(t,e,n){return(e=Fte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fte(t){var e=Wte(t,"string");return typeof e=="symbol"?e:e+""}function Wte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ip=Math.PI/180,Kte=t=>t*180/Math.PI,gn=(t,e,n,r)=>({x:t+Math.cos(-Ip*r)*n,y:e+Math.sin(-Ip*r)*n}),Gte=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Yte=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},Qte=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,l=Yte({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var o=(n-i)/l,u=Math.acos(o);return r>a&&(u=2*Math.PI-u),{radius:l,angle:Kte(u),angleInRadian:u}},Xte=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},Zte=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return t+l*360},Jte=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=Qte({x:n,y:r},e),{innerRadius:l,outerRadius:o}=e;if(i<l||i>o||i===0)return null;var{startAngle:u,endAngle:h}=Xte(e),d=a,m;if(u<=h){for(;d>h;)d-=360;for(;d<u;)d+=360;m=d>=u&&d<=h}else{for(;d>u;)d-=360;for(;d<h;)d+=360;m=d>=h&&d<=u}return m?wD(wD({},e),{},{radius:i,angle:Zte(d,e)}):null};function h8(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,l=gn(e,n,r,i),o=gn(e,n,r,a);return{points:[l,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}var SD,CD,OD,kD,jD,AD,ND;function zw(){return zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zw.apply(null,arguments)}function hl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var ene=(t,e)=>{var n=zr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},um=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:o,cornerIsExternal:u}=t,h=o*(l?1:-1)+r,d=Math.asin(o/h)/Ip,m=u?i:i+a*d,y=gn(e,n,h,m),v=gn(e,n,r,m),b=u?i-a*d:i,O=gn(e,n,h*Math.cos(d*Ip),b);return{center:y,circleTangency:v,lineTangency:O,theta:d}},d8=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=t,o=ene(a,l),u=a+o,h=gn(e,n,i,a),d=gn(e,n,i,u),m=Ot(SD||(SD=hl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(o)>180),+(a>u),d.x,d.y);if(r>0){var y=gn(e,n,r,a),v=gn(e,n,r,u);m+=Ot(CD||(CD=hl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),v.x,v.y,r,r,+(Math.abs(o)>180),+(a<=u),y.x,y.y)}else m+=Ot(OD||(OD=hl(["L ",","," Z"])),e,n);return m},tne=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:o,startAngle:u,endAngle:h}=t,d=zr(h-u),{circleTangency:m,lineTangency:y,theta:v}=um({cx:e,cy:n,radius:i,angle:u,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:b,lineTangency:O,theta:C}=um({cx:e,cy:n,radius:i,angle:h,sign:-d,cornerRadius:a,cornerIsExternal:o}),k=o?Math.abs(u-h):Math.abs(u-h)-v-C;if(k<0)return l?Ot(kD||(kD=hl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,a,a,a*2,a,a,-a*2):d8({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:h});var N=Ot(jD||(jD=hl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,a,a,+(d<0),m.x,m.y,i,i,+(k>180),+(d<0),b.x,b.y,a,a,+(d<0),O.x,O.y);if(r>0){var{circleTangency:j,lineTangency:M,theta:D}=um({cx:e,cy:n,radius:r,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:T,lineTangency:E,theta:_}=um({cx:e,cy:n,radius:r,angle:h,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),R=o?Math.abs(u-h):Math.abs(u-h)-D-_;if(R<0&&a===0)return"".concat(N,"L").concat(e,",").concat(n,"Z");N+=Ot(AD||(AD=hl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),E.x,E.y,a,a,+(d<0),T.x,T.y,r,r,+(R>180),+(d>0),j.x,j.y,a,a,+(d<0),M.x,M.y)}else N+=Ot(ND||(ND=hl(["L",",","Z"])),e,n);return N},nne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},m8=t=>{var e=An(t,nne),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:u,startAngle:h,endAngle:d,className:m}=e;if(a<i||h===d)return null;var y=rt("recharts-sector",m),v=a-i,b=js(l,v,0,!0),O;return b>0&&Math.abs(h-d)<360?O=tne({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(b,v/2),forceCornerRadius:o,cornerIsExternal:u,startAngle:h,endAngle:d}):O=d8({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:h,endAngle:d}),S.createElement("path",zw({},_n(e),{className:y,d:O}))};function rne(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(YR(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:l,angle:o}=e,u=gn(r,i,a,o),h=gn(r,i,l,o);return[{x:u.x,y:u.y},{x:h.x,y:h.y}]}return h8(e)}}var Ab={},Nb={},Eb={},ED;function ine(){return ED||(ED=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lL();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Eb)),Eb}var TD;function ane(){return TD||(TD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ine();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Nb)),Nb}var MD;function sne(){return MD||(MD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oL(),n=ane();function r(i,a,l){l&&typeof l!="number"&&e.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const o=Math.max(Math.ceil((a-i)/(l||1)),0),u=new Array(o);for(let h=0;h<o;h++)u[h]=i,i+=l;return u}t.range=r})(Ab)),Ab}var Tb,DD;function lne(){return DD||(DD=1,Tb=sne().range),Tb}var one=lne();const p8=_i(one);function ps(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function j2(t){let e,n,r;t.length!==2?(e=ps,n=(o,u)=>ps(t(o),u),r=(o,u)=>t(o)-u):(e=t===ps||t===cne?t:une,n=t,r=t);function i(o,u,h=0,d=o.length){if(h<d){if(e(u,u)!==0)return d;do{const m=h+d>>>1;n(o[m],u)<0?h=m+1:d=m}while(h<d)}return h}function a(o,u,h=0,d=o.length){if(h<d){if(e(u,u)!==0)return d;do{const m=h+d>>>1;n(o[m],u)<=0?h=m+1:d=m}while(h<d)}return h}function l(o,u,h=0,d=o.length){const m=i(o,u,h,d-1);return m>h&&r(o[m-1],u)>-r(o[m],u)?m-1:m}return{left:i,center:l,right:a}}function une(){return 0}function g8(t){return t===null?NaN:+t}function*fne(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const hne=j2(ps),rh=hne.right;j2(g8).center;class PD extends Map{constructor(e,n=pne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(_D(this,e))}has(e){return super.has(_D(this,e))}set(e,n){return super.set(dne(this,e),n)}delete(e){return super.delete(mne(this,e))}}function _D({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function dne({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function mne({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function pne(t){return t!==null&&typeof t=="object"?t.valueOf():t}function gne(t=ps){if(t===ps)return y8;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function y8(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const yne=Math.sqrt(50),vne=Math.sqrt(10),xne=Math.sqrt(2);function Up(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=yne?10:a>=vne?5:a>=xne?2:1;let o,u,h;return i<0?(h=Math.pow(10,-i)/l,o=Math.round(t*h),u=Math.round(e*h),o/h<t&&++o,u/h>e&&--u,h=-h):(h=Math.pow(10,i)*l,o=Math.round(t/h),u=Math.round(e/h),o*h<t&&++o,u*h>e&&--u),u<o&&.5<=n&&n<2?Up(t,e,n*2):[o,u,h]}function Iw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,l]=r?Up(e,t,n):Up(t,e,n);if(!(a>=i))return[];const o=a-i+1,u=new Array(o);if(r)if(l<0)for(let h=0;h<o;++h)u[h]=(a-h)/-l;else for(let h=0;h<o;++h)u[h]=(a-h)*l;else if(l<0)for(let h=0;h<o;++h)u[h]=(i+h)/-l;else for(let h=0;h<o;++h)u[h]=(i+h)*l;return u}function Uw(t,e,n){return e=+e,t=+t,n=+n,Up(t,e,n)[2]}function Hw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Uw(e,t,n):Uw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function RD(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function LD(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function v8(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?y8:gne(i);r>n;){if(r-n>600){const u=r-n+1,h=e-n+1,d=Math.log(u),m=.5*Math.exp(2*d/3),y=.5*Math.sqrt(d*m*(u-m)/u)*(h-u/2<0?-1:1),v=Math.max(n,Math.floor(e-h*m/u+y)),b=Math.min(r,Math.floor(e+(u-h)*m/u+y));v8(t,e,v,b,i)}const a=t[e];let l=n,o=r;for(Eu(t,n,e),i(t[r],a)>0&&Eu(t,n,r);l<o;){for(Eu(t,l,o),++l,--o;i(t[l],a)<0;)++l;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?Eu(t,n,o):(++o,Eu(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Eu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function bne(t,e,n){if(t=Float64Array.from(fne(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return LD(t);if(e>=1)return RD(t);var r,i=(r-1)*e,a=Math.floor(i),l=RD(v8(t,a).subarray(0,a+1)),o=LD(t.subarray(a+1));return l+(o-l)*(i-a)}}function wne(t,e,n=g8){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),l=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return l+(o-l)*(i-a)}}function Sne(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Fr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ja(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const qw=Symbol("implicit");function A2(){var t=new PD,e=[],n=[],r=qw;function i(a){let l=t.get(a);if(l===void 0){if(r!==qw)return r;t.set(a,l=e.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new PD;for(const l of a)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return A2(e,n).unknown(r)},Fr.apply(i,arguments),i}function N2(){var t=A2().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,l,o=!1,u=0,h=0,d=.5;delete t.unknown;function m(){var y=e().length,v=i<r,b=v?i:r,O=v?r:i;a=(O-b)/Math.max(1,y-u+h*2),o&&(a=Math.floor(a)),b+=(O-b-a*(y-u))*d,l=a*(1-u),o&&(b=Math.round(b),l=Math.round(l));var C=Sne(y).map(function(k){return b+a*k});return n(v?C.reverse():C)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,o=!0,m()},t.bandwidth=function(){return l},t.step=function(){return a},t.round=function(y){return arguments.length?(o=!!y,m()):o},t.padding=function(y){return arguments.length?(u=Math.min(1,h=+y),m()):u},t.paddingInner=function(y){return arguments.length?(u=Math.min(1,y),m()):u},t.paddingOuter=function(y){return arguments.length?(h=+y,m()):h},t.align=function(y){return arguments.length?(d=Math.max(0,Math.min(1,y)),m()):d},t.copy=function(){return N2(e(),[r,i]).round(o).paddingInner(u).paddingOuter(h).align(d)},Fr.apply(m(),arguments)}function x8(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return x8(e())},t}function Cne(){return x8(N2.apply(null,arguments).paddingInner(1))}function E2(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function b8(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ih(){}var Nf=.7,Hp=1/Nf,Vo="\\s*([+-]?\\d+)\\s*",Ef="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",One=/^#([0-9a-f]{3,8})$/,kne=new RegExp(`^rgb\\(${Vo},${Vo},${Vo}\\)$`),jne=new RegExp(`^rgb\\(${Ei},${Ei},${Ei}\\)$`),Ane=new RegExp(`^rgba\\(${Vo},${Vo},${Vo},${Ef}\\)$`),Nne=new RegExp(`^rgba\\(${Ei},${Ei},${Ei},${Ef}\\)$`),Ene=new RegExp(`^hsl\\(${Ef},${Ei},${Ei}\\)$`),Tne=new RegExp(`^hsla\\(${Ef},${Ei},${Ei},${Ef}\\)$`),BD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};E2(ih,Tf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:zD,formatHex:zD,formatHex8:Mne,formatHsl:Dne,formatRgb:ID,toString:ID});function zD(){return this.rgb().formatHex()}function Mne(){return this.rgb().formatHex8()}function Dne(){return w8(this).formatHsl()}function ID(){return this.rgb().formatRgb()}function Tf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=One.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?UD(e):n===3?new Xn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?fm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?fm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=kne.exec(t))?new Xn(e[1],e[2],e[3],1):(e=jne.exec(t))?new Xn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ane.exec(t))?fm(e[1],e[2],e[3],e[4]):(e=Nne.exec(t))?fm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ene.exec(t))?$D(e[1],e[2]/100,e[3]/100,1):(e=Tne.exec(t))?$D(e[1],e[2]/100,e[3]/100,e[4]):BD.hasOwnProperty(t)?UD(BD[t]):t==="transparent"?new Xn(NaN,NaN,NaN,0):null}function UD(t){return new Xn(t>>16&255,t>>8&255,t&255,1)}function fm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Xn(t,e,n,r)}function Pne(t){return t instanceof ih||(t=Tf(t)),t?(t=t.rgb(),new Xn(t.r,t.g,t.b,t.opacity)):new Xn}function $w(t,e,n,r){return arguments.length===1?Pne(t):new Xn(t,e,n,r??1)}function Xn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}E2(Xn,$w,b8(ih,{brighter(t){return t=t==null?Hp:Math.pow(Hp,t),new Xn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Nf:Math.pow(Nf,t),new Xn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Xn(xl(this.r),xl(this.g),xl(this.b),qp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:HD,formatHex:HD,formatHex8:_ne,formatRgb:qD,toString:qD}));function HD(){return`#${dl(this.r)}${dl(this.g)}${dl(this.b)}`}function _ne(){return`#${dl(this.r)}${dl(this.g)}${dl(this.b)}${dl((isNaN(this.opacity)?1:this.opacity)*255)}`}function qD(){const t=qp(this.opacity);return`${t===1?"rgb(":"rgba("}${xl(this.r)}, ${xl(this.g)}, ${xl(this.b)}${t===1?")":`, ${t})`}`}function qp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function xl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function dl(t){return t=xl(t),(t<16?"0":"")+t.toString(16)}function $D(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Zr(t,e,n,r)}function w8(t){if(t instanceof Zr)return new Zr(t.h,t.s,t.l,t.opacity);if(t instanceof ih||(t=Tf(t)),!t)return new Zr;if(t instanceof Zr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),l=NaN,o=a-i,u=(a+i)/2;return o?(e===a?l=(n-r)/o+(n<r)*6:n===a?l=(r-e)/o+2:l=(e-n)/o+4,o/=u<.5?a+i:2-a-i,l*=60):o=u>0&&u<1?0:l,new Zr(l,o,u,t.opacity)}function Rne(t,e,n,r){return arguments.length===1?w8(t):new Zr(t,e,n,r??1)}function Zr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}E2(Zr,Rne,b8(ih,{brighter(t){return t=t==null?Hp:Math.pow(Hp,t),new Zr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Nf:Math.pow(Nf,t),new Zr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Xn(Mb(t>=240?t-240:t+120,i,r),Mb(t,i,r),Mb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Zr(VD(this.h),hm(this.s),hm(this.l),qp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qp(this.opacity);return`${t===1?"hsl(":"hsla("}${VD(this.h)}, ${hm(this.s)*100}%, ${hm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function VD(t){return t=(t||0)%360,t<0?t+360:t}function hm(t){return Math.max(0,Math.min(1,t||0))}function Mb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const T2=t=>()=>t;function Lne(t,e){return function(n){return t+n*e}}function Bne(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function zne(t){return(t=+t)==1?S8:function(e,n){return n-e?Bne(e,n,t):T2(isNaN(e)?n:e)}}function S8(t,e){var n=e-t;return n?Lne(t,n):T2(isNaN(t)?e:t)}const FD=(function t(e){var n=zne(e);function r(i,a){var l=n((i=$w(i)).r,(a=$w(a)).r),o=n(i.g,a.g),u=n(i.b,a.b),h=S8(i.opacity,a.opacity);return function(d){return i.r=l(d),i.g=o(d),i.b=u(d),i.opacity=h(d),i+""}}return r.gamma=t,r})(1);function Ine(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Une(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Hne(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=mc(t[l],e[l]);for(;l<n;++l)a[l]=e[l];return function(o){for(l=0;l<r;++l)a[l]=i[l](o);return a}}function qne(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function $p(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function $ne(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=mc(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Vw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Db=new RegExp(Vw.source,"g");function Vne(t){return function(){return t}}function Fne(t){return function(e){return t(e)+""}}function Wne(t,e){var n=Vw.lastIndex=Db.lastIndex=0,r,i,a,l=-1,o=[],u=[];for(t=t+"",e=e+"";(r=Vw.exec(t))&&(i=Db.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[l]?o[l]+=a:o[++l]=a),(r=r[0])===(i=i[0])?o[l]?o[l]+=i:o[++l]=i:(o[++l]=null,u.push({i:l,x:$p(r,i)})),n=Db.lastIndex;return n<e.length&&(a=e.slice(n),o[l]?o[l]+=a:o[++l]=a),o.length<2?u[0]?Fne(u[0].x):Vne(e):(e=u.length,function(h){for(var d=0,m;d<e;++d)o[(m=u[d]).i]=m.x(h);return o.join("")})}function mc(t,e){var n=typeof e,r;return e==null||n==="boolean"?T2(e):(n==="number"?$p:n==="string"?(r=Tf(e))?(e=r,FD):Wne:e instanceof Tf?FD:e instanceof Date?qne:Une(e)?Ine:Array.isArray(e)?Hne:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?$ne:$p)(t,e)}function M2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Kne(t,e){e===void 0&&(e=t,t=mc);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(l){var o=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[o](l-o)}}function Gne(t){return function(){return t}}function Vp(t){return+t}var WD=[0,1];function Mn(t){return t}function Fw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Gne(isNaN(e)?NaN:.5)}function Yne(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Qne(t,e,n){var r=t[0],i=t[1],a=e[0],l=e[1];return i<r?(r=Fw(i,r),a=n(l,a)):(r=Fw(r,i),a=n(a,l)),function(o){return a(r(o))}}function Xne(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=Fw(t[l],t[l+1]),a[l]=n(e[l],e[l+1]);return function(o){var u=rh(t,o,1,r)-1;return a[u](i[u](o))}}function ah(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function e0(){var t=WD,e=WD,n=mc,r,i,a,l=Mn,o,u,h;function d(){var y=Math.min(t.length,e.length);return l!==Mn&&(l=Yne(t[0],t[y-1])),o=y>2?Xne:Qne,u=h=null,m}function m(y){return y==null||isNaN(y=+y)?a:(u||(u=o(t.map(r),e,n)))(r(l(y)))}return m.invert=function(y){return l(i((h||(h=o(e,t.map(r),$p)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,Vp),d()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),d()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),n=M2,d()},m.clamp=function(y){return arguments.length?(l=y?!0:Mn,d()):l!==Mn},m.interpolate=function(y){return arguments.length?(n=y,d()):n},m.unknown=function(y){return arguments.length?(a=y,m):a},function(y,v){return r=y,i=v,d()}}function D2(){return e0()(Mn,Mn)}function Zne(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Fp(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function nc(t){return t=Fp(Math.abs(t)),t?t[1]:NaN}function Jne(t,e){return function(n,r){for(var i=n.length,a=[],l=0,o=t[0],u=0;i>0&&o>0&&(u+o+1>r&&(o=Math.max(1,r-u)),a.push(n.substring(i-=o,i+o)),!((u+=o+1)>r));)o=t[l=(l+1)%t.length];return a.reverse().join(e)}}function ere(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var tre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mf(t){if(!(e=tre.exec(t)))throw new Error("invalid format: "+t);var e;return new P2({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Mf.prototype=P2.prototype;function P2(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}P2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nre(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Wp;function rre(t,e){var n=Fp(t,e);if(!n)return Wp=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(Wp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Fp(t,Math.max(0,e+a-1))[0]}function KD(t,e){var n=Fp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const GD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Zne,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>KD(t*100,e),r:KD,s:rre,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function YD(t){return t}var QD=Array.prototype.map,XD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ire(t){var e=t.grouping===void 0||t.thousands===void 0?YD:Jne(QD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?YD:ere(QD.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function h(m,y){m=Mf(m);var v=m.fill,b=m.align,O=m.sign,C=m.symbol,k=m.zero,N=m.width,j=m.comma,M=m.precision,D=m.trim,T=m.type;T==="n"?(j=!0,T="g"):GD[T]||(M===void 0&&(M=12),D=!0,T="g"),(k||v==="0"&&b==="=")&&(k=!0,v="0",b="=");var E=(y&&y.prefix!==void 0?y.prefix:"")+(C==="$"?n:C==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():""),_=(C==="$"?r:/[%p]/.test(T)?l:"")+(y&&y.suffix!==void 0?y.suffix:""),R=GD[T],H=/[defgprs%]/.test(T);M=M===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function B(z){var ie=E,ne=_,I,q,V;if(T==="c")ne=R(z)+ne,z="";else{z=+z;var te=z<0||1/z<0;if(z=isNaN(z)?u:R(Math.abs(z),M),D&&(z=nre(z)),te&&+z==0&&O!=="+"&&(te=!1),ie=(te?O==="("?O:o:O==="-"||O==="("?"":O)+ie,ne=(T==="s"&&!isNaN(z)&&Wp!==void 0?XD[8+Wp/3]:"")+ne+(te&&O==="("?")":""),H){for(I=-1,q=z.length;++I<q;)if(V=z.charCodeAt(I),48>V||V>57){ne=(V===46?i+z.slice(I+1):z.slice(I))+ne,z=z.slice(0,I);break}}}j&&!k&&(z=e(z,1/0));var W=ie.length+z.length+ne.length,ce=W<N?new Array(N-W+1).join(v):"";switch(j&&k&&(z=e(ce+z,ce.length?N-ne.length:1/0),ce=""),b){case"<":z=ie+z+ne+ce;break;case"=":z=ie+ce+z+ne;break;case"^":z=ce.slice(0,W=ce.length>>1)+ie+z+ne+ce.slice(W);break;default:z=ce+ie+z+ne;break}return a(z)}return B.toString=function(){return m+""},B}function d(m,y){var v=Math.max(-8,Math.min(8,Math.floor(nc(y)/3)))*3,b=Math.pow(10,-v),O=h((m=Mf(m),m.type="f",m),{suffix:XD[8+v/3]});return function(C){return O(b*C)}}return{format:h,formatPrefix:d}}var dm,_2,C8;are({thousands:",",grouping:[3],currency:["$",""]});function are(t){return dm=ire(t),_2=dm.format,C8=dm.formatPrefix,dm}function sre(t){return Math.max(0,-nc(Math.abs(t)))}function lre(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nc(e)/3)))*3-nc(Math.abs(t)))}function ore(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,nc(e)-nc(t))+1}function O8(t,e,n,r){var i=Hw(t,e,n),a;switch(r=Mf(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=lre(i,l))&&(r.precision=a),C8(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=ore(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=sre(i))&&(r.precision=a-(r.type==="%")*2);break}}return _2(r)}function Ts(t){var e=t.domain;return t.ticks=function(n){var r=e();return Iw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return O8(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,l=r[i],o=r[a],u,h,d=10;for(o<l&&(h=l,l=o,o=h,h=i,i=a,a=h);d-- >0;){if(h=Uw(l,o,n),h===u)return r[i]=l,r[a]=o,e(r);if(h>0)l=Math.floor(l/h)*h,o=Math.ceil(o/h)*h;else if(h<0)l=Math.ceil(l*h)/h,o=Math.floor(o*h)/h;else break;u=h}return t},t}function k8(){var t=D2();return t.copy=function(){return ah(t,k8())},Fr.apply(t,arguments),Ts(t)}function j8(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Vp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return j8(t).unknown(e)},t=arguments.length?Array.from(t,Vp):[0,1],Ts(n)}function A8(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),t[n]=e.floor(i),t[r]=e.ceil(a),t}function ZD(t){return Math.log(t)}function JD(t){return Math.exp(t)}function cre(t){return-Math.log(-t)}function ure(t){return-Math.exp(-t)}function fre(t){return isFinite(t)?+("1e"+t):t<0?0:t}function hre(t){return t===10?fre:t===Math.E?Math.exp:e=>Math.pow(t,e)}function dre(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function e4(t){return(e,n)=>-t(-e,n)}function R2(t){const e=t(ZD,JD),n=e.domain;let r=10,i,a;function l(){return i=dre(r),a=hre(r),n()[0]<0?(i=e4(i),a=e4(a),t(cre,ure)):t(ZD,JD),e}return e.base=function(o){return arguments.length?(r=+o,l()):r},e.domain=function(o){return arguments.length?(n(o),l()):n()},e.ticks=o=>{const u=n();let h=u[0],d=u[u.length-1];const m=d<h;m&&([h,d]=[d,h]);let y=i(h),v=i(d),b,O;const C=o==null?10:+o;let k=[];if(!(r%1)&&v-y<C){if(y=Math.floor(y),v=Math.ceil(v),h>0){for(;y<=v;++y)for(b=1;b<r;++b)if(O=y<0?b/a(-y):b*a(y),!(O<h)){if(O>d)break;k.push(O)}}else for(;y<=v;++y)for(b=r-1;b>=1;--b)if(O=y>0?b/a(-y):b*a(y),!(O<h)){if(O>d)break;k.push(O)}k.length*2<C&&(k=Iw(h,d,C))}else k=Iw(y,v,Math.min(v-y,C)).map(a);return m?k.reverse():k},e.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Mf(u)).precision==null&&(u.trim=!0),u=_2(u)),o===1/0)return u;const h=Math.max(1,r*o/e.ticks().length);return d=>{let m=d/a(Math.round(i(d)));return m*r<r-.5&&(m*=r),m<=h?u(d):""}},e.nice=()=>n(A8(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function N8(){const t=R2(e0()).domain([1,10]);return t.copy=()=>ah(t,N8()).base(t.base()),Fr.apply(t,arguments),t}function t4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function n4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function L2(t){var e=1,n=t(t4(e),n4(e));return n.constant=function(r){return arguments.length?t(t4(e=+r),n4(e)):e},Ts(n)}function E8(){var t=L2(e0());return t.copy=function(){return ah(t,E8()).constant(t.constant())},Fr.apply(t,arguments)}function r4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function mre(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function pre(t){return t<0?-t*t:t*t}function B2(t){var e=t(Mn,Mn),n=1;function r(){return n===1?t(Mn,Mn):n===.5?t(mre,pre):t(r4(n),r4(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ts(e)}function z2(){var t=B2(e0());return t.copy=function(){return ah(t,z2()).exponent(t.exponent())},Fr.apply(t,arguments),t}function gre(){return z2.apply(null,arguments).exponent(.5)}function i4(t){return Math.sign(t)*t*t}function yre(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function T8(){var t=D2(),e=[0,1],n=!1,r;function i(a){var l=yre(t(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return t.invert(i4(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Vp)).map(i4)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return T8(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Fr.apply(i,arguments),Ts(i)}function M8(){var t=[],e=[],n=[],r;function i(){var l=0,o=Math.max(1,e.length);for(n=new Array(o-1);++l<o;)n[l-1]=wne(t,l/o);return a}function a(l){return l==null||isNaN(l=+l)?r:e[rh(n,l)]}return a.invertExtent=function(l){var o=e.indexOf(l);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let o of l)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(ps),i()},a.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return M8().domain(t).range(e).unknown(r)},Fr.apply(a,arguments)}function D8(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function l(u){return u!=null&&u<=u?i[rh(r,u,0,n)]:a}function o(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return l}return l.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,o()):[t,e]},l.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,o()):i.slice()},l.invertExtent=function(u){var h=i.indexOf(u);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(u){return arguments.length&&(a=u),l},l.thresholds=function(){return r.slice()},l.copy=function(){return D8().domain([t,e]).range(i).unknown(a)},Fr.apply(Ts(l),arguments)}function P8(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[rh(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var l=e.indexOf(a);return[t[l-1],t[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return P8().domain(t).range(e).unknown(n)},Fr.apply(i,arguments)}const Pb=new Date,_b=new Date;function qt(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const l=i(a),o=i.ceil(a);return a-l<o-a?l:o},i.offset=(a,l)=>(e(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,o)=>{const u=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<l)||!(o>0))return u;let h;do u.push(h=new Date(+a)),e(a,o),t(a);while(h<a&&a<l);return u},i.filter=a=>qt(l=>{if(l>=l)for(;t(l),!a(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;e(l,-1),!a(l););else for(;--o>=0;)for(;e(l,1),!a(l););}),n&&(i.count=(a,l)=>(Pb.setTime(+a),_b.setTime(+l),t(Pb),t(_b),Math.floor(n(Pb,_b))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const Kp=qt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Kp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?qt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Kp);Kp.range;const la=1e3,Ir=la*60,oa=Ir*60,ya=oa*24,I2=ya*7,a4=ya*30,Rb=ya*365,ml=qt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*la)},(t,e)=>(e-t)/la,t=>t.getUTCSeconds());ml.range;const U2=qt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*la)},(t,e)=>{t.setTime(+t+e*Ir)},(t,e)=>(e-t)/Ir,t=>t.getMinutes());U2.range;const H2=qt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ir)},(t,e)=>(e-t)/Ir,t=>t.getUTCMinutes());H2.range;const q2=qt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*la-t.getMinutes()*Ir)},(t,e)=>{t.setTime(+t+e*oa)},(t,e)=>(e-t)/oa,t=>t.getHours());q2.range;const $2=qt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*oa)},(t,e)=>(e-t)/oa,t=>t.getUTCHours());$2.range;const sh=qt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ir)/ya,t=>t.getDate()-1);sh.range;const t0=qt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ya,t=>t.getUTCDate()-1);t0.range;const _8=qt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ya,t=>Math.floor(t/ya));_8.range;function _l(t){return qt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ir)/I2)}const n0=_l(0),Gp=_l(1),vre=_l(2),xre=_l(3),rc=_l(4),bre=_l(5),wre=_l(6);n0.range;Gp.range;vre.range;xre.range;rc.range;bre.range;wre.range;function Rl(t){return qt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/I2)}const r0=Rl(0),Yp=Rl(1),Sre=Rl(2),Cre=Rl(3),ic=Rl(4),Ore=Rl(5),kre=Rl(6);r0.range;Yp.range;Sre.range;Cre.range;ic.range;Ore.range;kre.range;const V2=qt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());V2.range;const F2=qt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());F2.range;const va=qt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());va.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});va.range;const xa=qt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());xa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});xa.range;function R8(t,e,n,r,i,a){const l=[[ml,1,la],[ml,5,5*la],[ml,15,15*la],[ml,30,30*la],[a,1,Ir],[a,5,5*Ir],[a,15,15*Ir],[a,30,30*Ir],[i,1,oa],[i,3,3*oa],[i,6,6*oa],[i,12,12*oa],[r,1,ya],[r,2,2*ya],[n,1,I2],[e,1,a4],[e,3,3*a4],[t,1,Rb]];function o(h,d,m){const y=d<h;y&&([h,d]=[d,h]);const v=m&&typeof m.range=="function"?m:u(h,d,m),b=v?v.range(h,+d+1):[];return y?b.reverse():b}function u(h,d,m){const y=Math.abs(d-h)/m,v=j2(([,,C])=>C).right(l,y);if(v===l.length)return t.every(Hw(h/Rb,d/Rb,m));if(v===0)return Kp.every(Math.max(Hw(h,d,m),1));const[b,O]=l[y/l[v-1][2]<l[v][2]/y?v-1:v];return b.every(O)}return[o,u]}const[jre,Are]=R8(xa,F2,r0,_8,$2,H2),[Nre,Ere]=R8(va,V2,n0,sh,q2,U2);function Lb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Bb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Tu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Tre(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,l=t.shortDays,o=t.months,u=t.shortMonths,h=Mu(i),d=Du(i),m=Mu(a),y=Du(a),v=Mu(l),b=Du(l),O=Mu(o),C=Du(o),k=Mu(u),N=Du(u),j={a:V,A:te,b:W,B:ce,c:null,d:f4,e:f4,f:Jre,g:cie,G:fie,H:Qre,I:Xre,j:Zre,L:L8,m:eie,M:tie,p:L,q:Y,Q:m4,s:p4,S:nie,u:rie,U:iie,V:aie,w:sie,W:lie,x:null,X:null,y:oie,Y:uie,Z:hie,"%":d4},M={a:ue,A:X,b:de,B:he,c:null,d:h4,e:h4,f:gie,g:jie,G:Nie,H:die,I:mie,j:pie,L:z8,m:yie,M:vie,p:ve,q:ot,Q:m4,s:p4,S:xie,u:bie,U:wie,V:Sie,w:Cie,W:Oie,x:null,X:null,y:kie,Y:Aie,Z:Eie,"%":d4},D={a:H,A:B,b:z,B:ie,c:ne,d:c4,e:c4,f:Wre,g:o4,G:l4,H:u4,I:u4,j:qre,L:Fre,m:Hre,M:$re,p:R,q:Ure,Q:Gre,s:Yre,S:Vre,u:Rre,U:Lre,V:Bre,w:_re,W:zre,x:I,X:q,y:o4,Y:l4,Z:Ire,"%":Kre};j.x=T(n,j),j.X=T(r,j),j.c=T(e,j),M.x=T(n,M),M.X=T(r,M),M.c=T(e,M);function T(ae,Ee){return function(_e){var fe=[],bt=-1,$e=0,rn=ae.length,an,zi,Cc;for(_e instanceof Date||(_e=new Date(+_e));++bt<rn;)ae.charCodeAt(bt)===37&&(fe.push(ae.slice($e,bt)),(zi=s4[an=ae.charAt(++bt)])!=null?an=ae.charAt(++bt):zi=an==="e"?" ":"0",(Cc=Ee[an])&&(an=Cc(_e,zi)),fe.push(an),$e=bt+1);return fe.push(ae.slice($e,bt)),fe.join("")}}function E(ae,Ee){return function(_e){var fe=Tu(1900,void 0,1),bt=_(fe,ae,_e+="",0),$e,rn;if(bt!=_e.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(Ee&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?($e=Bb(Tu(fe.y,0,1)),rn=$e.getUTCDay(),$e=rn>4||rn===0?Yp.ceil($e):Yp($e),$e=t0.offset($e,(fe.V-1)*7),fe.y=$e.getUTCFullYear(),fe.m=$e.getUTCMonth(),fe.d=$e.getUTCDate()+(fe.w+6)%7):($e=Lb(Tu(fe.y,0,1)),rn=$e.getDay(),$e=rn>4||rn===0?Gp.ceil($e):Gp($e),$e=sh.offset($e,(fe.V-1)*7),fe.y=$e.getFullYear(),fe.m=$e.getMonth(),fe.d=$e.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),rn="Z"in fe?Bb(Tu(fe.y,0,1)).getUTCDay():Lb(Tu(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(rn+5)%7:fe.w+fe.U*7-(rn+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,Bb(fe)):Lb(fe)}}function _(ae,Ee,_e,fe){for(var bt=0,$e=Ee.length,rn=_e.length,an,zi;bt<$e;){if(fe>=rn)return-1;if(an=Ee.charCodeAt(bt++),an===37){if(an=Ee.charAt(bt++),zi=D[an in s4?Ee.charAt(bt++):an],!zi||(fe=zi(ae,_e,fe))<0)return-1}else if(an!=_e.charCodeAt(fe++))return-1}return fe}function R(ae,Ee,_e){var fe=h.exec(Ee.slice(_e));return fe?(ae.p=d.get(fe[0].toLowerCase()),_e+fe[0].length):-1}function H(ae,Ee,_e){var fe=v.exec(Ee.slice(_e));return fe?(ae.w=b.get(fe[0].toLowerCase()),_e+fe[0].length):-1}function B(ae,Ee,_e){var fe=m.exec(Ee.slice(_e));return fe?(ae.w=y.get(fe[0].toLowerCase()),_e+fe[0].length):-1}function z(ae,Ee,_e){var fe=k.exec(Ee.slice(_e));return fe?(ae.m=N.get(fe[0].toLowerCase()),_e+fe[0].length):-1}function ie(ae,Ee,_e){var fe=O.exec(Ee.slice(_e));return fe?(ae.m=C.get(fe[0].toLowerCase()),_e+fe[0].length):-1}function ne(ae,Ee,_e){return _(ae,e,Ee,_e)}function I(ae,Ee,_e){return _(ae,n,Ee,_e)}function q(ae,Ee,_e){return _(ae,r,Ee,_e)}function V(ae){return l[ae.getDay()]}function te(ae){return a[ae.getDay()]}function W(ae){return u[ae.getMonth()]}function ce(ae){return o[ae.getMonth()]}function L(ae){return i[+(ae.getHours()>=12)]}function Y(ae){return 1+~~(ae.getMonth()/3)}function ue(ae){return l[ae.getUTCDay()]}function X(ae){return a[ae.getUTCDay()]}function de(ae){return u[ae.getUTCMonth()]}function he(ae){return o[ae.getUTCMonth()]}function ve(ae){return i[+(ae.getUTCHours()>=12)]}function ot(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Ee=T(ae+="",j);return Ee.toString=function(){return ae},Ee},parse:function(ae){var Ee=E(ae+="",!1);return Ee.toString=function(){return ae},Ee},utcFormat:function(ae){var Ee=T(ae+="",M);return Ee.toString=function(){return ae},Ee},utcParse:function(ae){var Ee=E(ae+="",!0);return Ee.toString=function(){return ae},Ee}}}var s4={"-":"",_:" ",0:"0"},en=/^\s*\d+/,Mre=/^%/,Dre=/[\\^$*+?|[\]().{}]/g;function Ke(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Pre(t){return t.replace(Dre,"\\$&")}function Mu(t){return new RegExp("^(?:"+t.map(Pre).join("|")+")","i")}function Du(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function _re(t,e,n){var r=en.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Rre(t,e,n){var r=en.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Lre(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Bre(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function zre(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function l4(t,e,n){var r=en.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function o4(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ire(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ure(t,e,n){var r=en.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Hre(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function c4(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function qre(t,e,n){var r=en.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function u4(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function $re(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Vre(t,e,n){var r=en.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Fre(t,e,n){var r=en.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Wre(t,e,n){var r=en.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Kre(t,e,n){var r=Mre.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Gre(t,e,n){var r=en.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Yre(t,e,n){var r=en.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function f4(t,e){return Ke(t.getDate(),e,2)}function Qre(t,e){return Ke(t.getHours(),e,2)}function Xre(t,e){return Ke(t.getHours()%12||12,e,2)}function Zre(t,e){return Ke(1+sh.count(va(t),t),e,3)}function L8(t,e){return Ke(t.getMilliseconds(),e,3)}function Jre(t,e){return L8(t,e)+"000"}function eie(t,e){return Ke(t.getMonth()+1,e,2)}function tie(t,e){return Ke(t.getMinutes(),e,2)}function nie(t,e){return Ke(t.getSeconds(),e,2)}function rie(t){var e=t.getDay();return e===0?7:e}function iie(t,e){return Ke(n0.count(va(t)-1,t),e,2)}function B8(t){var e=t.getDay();return e>=4||e===0?rc(t):rc.ceil(t)}function aie(t,e){return t=B8(t),Ke(rc.count(va(t),t)+(va(t).getDay()===4),e,2)}function sie(t){return t.getDay()}function lie(t,e){return Ke(Gp.count(va(t)-1,t),e,2)}function oie(t,e){return Ke(t.getFullYear()%100,e,2)}function cie(t,e){return t=B8(t),Ke(t.getFullYear()%100,e,2)}function uie(t,e){return Ke(t.getFullYear()%1e4,e,4)}function fie(t,e){var n=t.getDay();return t=n>=4||n===0?rc(t):rc.ceil(t),Ke(t.getFullYear()%1e4,e,4)}function hie(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ke(e/60|0,"0",2)+Ke(e%60,"0",2)}function h4(t,e){return Ke(t.getUTCDate(),e,2)}function die(t,e){return Ke(t.getUTCHours(),e,2)}function mie(t,e){return Ke(t.getUTCHours()%12||12,e,2)}function pie(t,e){return Ke(1+t0.count(xa(t),t),e,3)}function z8(t,e){return Ke(t.getUTCMilliseconds(),e,3)}function gie(t,e){return z8(t,e)+"000"}function yie(t,e){return Ke(t.getUTCMonth()+1,e,2)}function vie(t,e){return Ke(t.getUTCMinutes(),e,2)}function xie(t,e){return Ke(t.getUTCSeconds(),e,2)}function bie(t){var e=t.getUTCDay();return e===0?7:e}function wie(t,e){return Ke(r0.count(xa(t)-1,t),e,2)}function I8(t){var e=t.getUTCDay();return e>=4||e===0?ic(t):ic.ceil(t)}function Sie(t,e){return t=I8(t),Ke(ic.count(xa(t),t)+(xa(t).getUTCDay()===4),e,2)}function Cie(t){return t.getUTCDay()}function Oie(t,e){return Ke(Yp.count(xa(t)-1,t),e,2)}function kie(t,e){return Ke(t.getUTCFullYear()%100,e,2)}function jie(t,e){return t=I8(t),Ke(t.getUTCFullYear()%100,e,2)}function Aie(t,e){return Ke(t.getUTCFullYear()%1e4,e,4)}function Nie(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ic(t):ic.ceil(t),Ke(t.getUTCFullYear()%1e4,e,4)}function Eie(){return"+0000"}function d4(){return"%"}function m4(t){return+t}function p4(t){return Math.floor(+t/1e3)}var Co,U8,H8;Tie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Tie(t){return Co=Tre(t),U8=Co.format,Co.parse,H8=Co.utcFormat,Co.utcParse,Co}function Mie(t){return new Date(t)}function Die(t){return t instanceof Date?+t:+new Date(+t)}function W2(t,e,n,r,i,a,l,o,u,h){var d=D2(),m=d.invert,y=d.domain,v=h(".%L"),b=h(":%S"),O=h("%I:%M"),C=h("%I %p"),k=h("%a %d"),N=h("%b %d"),j=h("%B"),M=h("%Y");function D(T){return(u(T)<T?v:o(T)<T?b:l(T)<T?O:a(T)<T?C:r(T)<T?i(T)<T?k:N:n(T)<T?j:M)(T)}return d.invert=function(T){return new Date(m(T))},d.domain=function(T){return arguments.length?y(Array.from(T,Die)):y().map(Mie)},d.ticks=function(T){var E=y();return t(E[0],E[E.length-1],T??10)},d.tickFormat=function(T,E){return E==null?D:h(E)},d.nice=function(T){var E=y();return(!T||typeof T.range!="function")&&(T=e(E[0],E[E.length-1],T??10)),T?y(A8(E,T)):d},d.copy=function(){return ah(d,W2(t,e,n,r,i,a,l,o,u,h))},d}function Pie(){return Fr.apply(W2(Nre,Ere,va,V2,n0,sh,q2,U2,ml,U8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _ie(){return Fr.apply(W2(jre,Are,xa,F2,r0,t0,$2,H2,ml,H8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function i0(){var t=0,e=1,n,r,i,a,l=Mn,o=!1,u;function h(m){return m==null||isNaN(m=+m)?u:l(i===0?.5:(m=(a(m)-n)*i,o?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e]=m,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(m){return arguments.length?(o=!!m,h):o},h.interpolator=function(m){return arguments.length?(l=m,h):l};function d(m){return function(y){var v,b;return arguments.length?([v,b]=y,l=m(v,b),h):[l(0),l(1)]}}return h.range=d(mc),h.rangeRound=d(M2),h.unknown=function(m){return arguments.length?(u=m,h):u},function(m){return a=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),h}}function Ms(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function q8(){var t=Ts(i0()(Mn));return t.copy=function(){return Ms(t,q8())},ja.apply(t,arguments)}function $8(){var t=R2(i0()).domain([1,10]);return t.copy=function(){return Ms(t,$8()).base(t.base())},ja.apply(t,arguments)}function V8(){var t=L2(i0());return t.copy=function(){return Ms(t,V8()).constant(t.constant())},ja.apply(t,arguments)}function K2(){var t=B2(i0());return t.copy=function(){return Ms(t,K2()).exponent(t.exponent())},ja.apply(t,arguments)}function Rie(){return K2.apply(null,arguments).exponent(.5)}function F8(){var t=[],e=Mn;function n(r){if(r!=null&&!isNaN(r=+r))return e((rh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ps),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>bne(t,a/r))},n.copy=function(){return F8(e).domain(t)},ja.apply(n,arguments)}function a0(){var t=0,e=.5,n=1,r=1,i,a,l,o,u,h=Mn,d,m=!1,y;function v(O){return isNaN(O=+O)?y:(O=.5+((O=+d(O))-a)*(r*O<r*a?o:u),h(m?Math.max(0,Math.min(1,O)):O))}v.domain=function(O){return arguments.length?([t,e,n]=O,i=d(t=+t),a=d(e=+e),l=d(n=+n),o=i===a?0:.5/(a-i),u=a===l?0:.5/(l-a),r=a<i?-1:1,v):[t,e,n]},v.clamp=function(O){return arguments.length?(m=!!O,v):m},v.interpolator=function(O){return arguments.length?(h=O,v):h};function b(O){return function(C){var k,N,j;return arguments.length?([k,N,j]=C,h=Kne(O,[k,N,j]),v):[h(0),h(.5),h(1)]}}return v.range=b(mc),v.rangeRound=b(M2),v.unknown=function(O){return arguments.length?(y=O,v):y},function(O){return d=O,i=O(t),a=O(e),l=O(n),o=i===a?0:.5/(a-i),u=a===l?0:.5/(l-a),r=a<i?-1:1,v}}function W8(){var t=Ts(a0()(Mn));return t.copy=function(){return Ms(t,W8())},ja.apply(t,arguments)}function K8(){var t=R2(a0()).domain([.1,1,10]);return t.copy=function(){return Ms(t,K8()).base(t.base())},ja.apply(t,arguments)}function G8(){var t=L2(a0());return t.copy=function(){return Ms(t,G8()).constant(t.constant())},ja.apply(t,arguments)}function G2(){var t=B2(a0());return t.copy=function(){return Ms(t,G2()).exponent(t.exponent())},ja.apply(t,arguments)}function Lie(){return G2.apply(null,arguments).exponent(.5)}const Hu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:N2,scaleDiverging:W8,scaleDivergingLog:K8,scaleDivergingPow:G2,scaleDivergingSqrt:Lie,scaleDivergingSymlog:G8,scaleIdentity:j8,scaleImplicit:qw,scaleLinear:k8,scaleLog:N8,scaleOrdinal:A2,scalePoint:Cne,scalePow:z2,scaleQuantile:M8,scaleQuantize:D8,scaleRadial:T8,scaleSequential:q8,scaleSequentialLog:$8,scaleSequentialPow:K2,scaleSequentialQuantile:F8,scaleSequentialSqrt:Rie,scaleSequentialSymlog:V8,scaleSqrt:gre,scaleSymlog:E8,scaleThreshold:P8,scaleTime:Pie,scaleUtc:_ie,tickFormat:O8},Symbol.toStringTag,{value:"Module"}));var Ds=t=>t.chartData,Bie=ee([Ds],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Y2=(t,e,n,r)=>r?Bie(t):Ds(t);function ba(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(We(e)&&We(n))return!0}return!1}function g4(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Y8(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(We(n))i=n;else if(typeof n=="function")return;if(We(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(ba(l))return l}}function zie(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(ba(r))return g4(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,l,o;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Ce(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&jM.test(i)){var u=jM.exec(i);if(u==null||u[1]==null||e==null)l=void 0;else{var h=+u[1];l=e[0]-h}}else l=e?.[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(Ce(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e?.[1]))}catch{}else if(typeof a=="string"&&AM.test(a)){var d=AM.exec(a);if(d==null||d[1]==null||e==null)o=void 0;else{var m=+d[1];o=e[1]+m}}else o=e?.[1];var y=[l,o];if(ba(y))return e==null?y:g4(y,e,n)}}}var pc=1e9,Iie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},X2,yt=!0,$r="[DecimalError] ",bl=$r+"Invalid argument: ",Q2=$r+"Exponent out of range: ",gc=Math.floor,al=Math.pow,Uie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pr,Yt=1e7,dt=7,Q8=9007199254740991,Qp=gc(Q8/dt),xe={};xe.absoluteValue=xe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};xe.comparedTo=xe.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*dt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};xe.dividedBy=xe.div=function(t){return ca(this,new this.constructor(t))};xe.dividedToIntegerBy=xe.idiv=function(t){var e=this,n=e.constructor;return lt(ca(e,new n(t),0,1),n.precision)};xe.equals=xe.eq=function(t){return!this.cmp(t)};xe.exponent=function(){return Lt(this)};xe.greaterThan=xe.gt=function(t){return this.cmp(t)>0};xe.greaterThanOrEqualTo=xe.gte=function(t){return this.cmp(t)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(t){return this.cmp(t)<0};xe.lessThanOrEqualTo=xe.lte=function(t){return this.cmp(t)<1};xe.logarithm=xe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(pr))throw Error($r+"NaN");if(n.s<1)throw Error($r+(n.s?"NaN":"-Infinity"));return n.eq(pr)?new r(0):(yt=!1,e=ca(Df(n,a),Df(t,a),a),yt=!0,lt(e,i))};xe.minus=xe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?J8(e,t):X8(e,(t.s=-t.s,t))};xe.modulo=xe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error($r+"NaN");return n.s?(yt=!1,e=ca(n,t,0,1).times(t),yt=!0,n.minus(e)):lt(new r(n),i)};xe.naturalExponential=xe.exp=function(){return Z8(this)};xe.naturalLogarithm=xe.ln=function(){return Df(this)};xe.negated=xe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};xe.plus=xe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?X8(e,t):J8(e,(t.s=-t.s,t))};xe.precision=xe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(bl+t);if(e=Lt(i)+1,r=i.d.length-1,n=r*dt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};xe.squareRoot=xe.sqrt=function(){var t,e,n,r,i,a,l,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error($r+"NaN")}for(t=Lt(o),yt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Ai(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=gc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=l=n+3;;)if(a=r,r=a.plus(ca(o,a,l+2)).times(.5),Ai(a.d).slice(0,l)===(e=Ai(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(lt(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;l+=4}return yt=!0,lt(r,n)};xe.times=xe.mul=function(t){var e,n,r,i,a,l,o,u,h,d=this,m=d.constructor,y=d.d,v=(t=new m(t)).d;if(!d.s||!t.s)return new m(0);for(t.s*=d.s,n=d.e+t.e,u=y.length,h=v.length,u<h&&(a=y,y=v,v=a,l=u,u=h,h=l),a=[],l=u+h,r=l;r--;)a.push(0);for(r=h;--r>=0;){for(e=0,i=u+r;i>r;)o=a[i]+v[r]*y[i-r-1]+e,a[i--]=o%Yt|0,e=o/Yt|0;a[i]=(a[i]+e)%Yt|0}for(;!a[--l];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,yt?lt(t,m.precision):t};xe.toDecimalPlaces=xe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Pi(t,0,pc),e===void 0?e=r.rounding:Pi(e,0,8),lt(n,t+Lt(n)+1,e))};xe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Tl(r,!0):(Pi(t,0,pc),e===void 0?e=i.rounding:Pi(e,0,8),r=lt(new i(r),t+1,e),n=Tl(r,!0,t+1)),n};xe.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Tl(i):(Pi(t,0,pc),e===void 0?e=a.rounding:Pi(e,0,8),r=lt(new a(i),t+Lt(i)+1,e),n=Tl(r.abs(),!1,t+Lt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};xe.toInteger=xe.toint=function(){var t=this,e=t.constructor;return lt(new e(t),Lt(t)+1,e.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(t){var e,n,r,i,a,l,o=this,u=o.constructor,h=12,d=+(t=new u(t));if(!t.s)return new u(pr);if(o=new u(o),!o.s){if(t.s<1)throw Error($r+"Infinity");return o}if(o.eq(pr))return o;if(r=u.precision,t.eq(pr))return lt(o,r);if(e=t.e,n=t.d.length-1,l=e>=n,a=o.s,l){if((n=d<0?-d:d)<=Q8){for(i=new u(pr),e=Math.ceil(r/dt+4),yt=!1;n%2&&(i=i.times(o),v4(i.d,e)),n=gc(n/2),n!==0;)o=o.times(o),v4(o.d,e);return yt=!0,t.s<0?new u(pr).div(i):lt(i,r)}}else if(a<0)throw Error($r+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,yt=!1,i=t.times(Df(o,r+h)),yt=!0,i=Z8(i),i.s=a,i};xe.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Lt(i),r=Tl(i,n<=a.toExpNeg||n>=a.toExpPos)):(Pi(t,1,pc),e===void 0?e=a.rounding:Pi(e,0,8),i=lt(new a(i),t,e),n=Lt(i),r=Tl(i,t<=n||n<=a.toExpNeg,t)),r};xe.toSignificantDigits=xe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Pi(t,1,pc),e===void 0?e=r.rounding:Pi(e,0,8)),lt(new r(n),t,e)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Lt(t),n=t.constructor;return Tl(t,e<=n.toExpNeg||e>=n.toExpPos)};function X8(t,e){var n,r,i,a,l,o,u,h,d=t.constructor,m=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),yt?lt(e,m):e;if(u=t.d,h=e.d,l=t.e,i=e.e,u=u.slice(),a=l-i,a){for(a<0?(r=u,a=-a,o=h.length):(r=h,i=l,o=u.length),l=Math.ceil(m/dt),o=l>o?l+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=u.length,a=h.length,o-a<0&&(a=o,r=h,h=u,u=r),n=0;a;)n=(u[--a]=u[a]+h[a]+n)/Yt|0,u[a]%=Yt;for(n&&(u.unshift(n),++i),o=u.length;u[--o]==0;)u.pop();return e.d=u,e.e=i,yt?lt(e,m):e}function Pi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(bl+t)}function Ai(t){var e,n,r,i=t.length-1,a="",l=t[0];if(i>0){for(a+=l,e=1;e<i;e++)r=t[e]+"",n=dt-r.length,n&&(a+=is(n)),a+=r;l=t[e],r=l+"",n=dt-r.length,n&&(a+=is(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var ca=(function(){function t(r,i){var a,l=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+l,r[o]=a%Yt|0,l=a/Yt|0;return l&&r.unshift(l),r}function e(r,i,a,l){var o,u;if(a!=l)u=a>l?1:-1;else for(o=u=0;o<a;o++)if(r[o]!=i[o]){u=r[o]>i[o]?1:-1;break}return u}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*Yt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var o,u,h,d,m,y,v,b,O,C,k,N,j,M,D,T,E,_,R=r.constructor,H=r.s==i.s?1:-1,B=r.d,z=i.d;if(!r.s)return new R(r);if(!i.s)throw Error($r+"Division by zero");for(u=r.e-i.e,E=z.length,D=B.length,v=new R(H),b=v.d=[],h=0;z[h]==(B[h]||0);)++h;if(z[h]>(B[h]||0)&&--u,a==null?N=a=R.precision:l?N=a+(Lt(r)-Lt(i))+1:N=a,N<0)return new R(0);if(N=N/dt+2|0,h=0,E==1)for(d=0,z=z[0],N++;(h<D||d)&&N--;h++)j=d*Yt+(B[h]||0),b[h]=j/z|0,d=j%z|0;else{for(d=Yt/(z[0]+1)|0,d>1&&(z=t(z,d),B=t(B,d),E=z.length,D=B.length),M=E,O=B.slice(0,E),C=O.length;C<E;)O[C++]=0;_=z.slice(),_.unshift(0),T=z[0],z[1]>=Yt/2&&++T;do d=0,o=e(z,O,E,C),o<0?(k=O[0],E!=C&&(k=k*Yt+(O[1]||0)),d=k/T|0,d>1?(d>=Yt&&(d=Yt-1),m=t(z,d),y=m.length,C=O.length,o=e(m,O,y,C),o==1&&(d--,n(m,E<y?_:z,y))):(d==0&&(o=d=1),m=z.slice()),y=m.length,y<C&&m.unshift(0),n(O,m,C),o==-1&&(C=O.length,o=e(z,O,E,C),o<1&&(d++,n(O,E<C?_:z,C))),C=O.length):o===0&&(d++,O=[0]),b[h++]=d,o&&O[0]?O[C++]=B[M]||0:(O=[B[M]],C=1);while((M++<D||O[0]!==void 0)&&N--)}return b[0]||b.shift(),v.e=u,lt(v,l?a+Lt(v)+1:a)}})();function Z8(t,e){var n,r,i,a,l,o,u=0,h=0,d=t.constructor,m=d.precision;if(Lt(t)>16)throw Error(Q2+Lt(t));if(!t.s)return new d(pr);for(yt=!1,o=m,l=new d(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(al(2,h))/Math.LN10*2+5|0,o+=r,n=i=a=new d(pr),d.precision=o;;){if(i=lt(i.times(t),o),n=n.times(++u),l=a.plus(ca(i,n,o)),Ai(l.d).slice(0,o)===Ai(a.d).slice(0,o)){for(;h--;)a=lt(a.times(a),o);return d.precision=m,e==null?(yt=!0,lt(a,m)):a}a=l}}function Lt(t){for(var e=t.e*dt,n=t.d[0];n>=10;n/=10)e++;return e}function zb(t,e,n){if(e>t.LN10.sd())throw yt=!0,n&&(t.precision=n),Error($r+"LN10 precision limit exceeded");return lt(new t(t.LN10),e)}function is(t){for(var e="";t--;)e+="0";return e}function Df(t,e){var n,r,i,a,l,o,u,h,d,m=1,y=10,v=t,b=v.d,O=v.constructor,C=O.precision;if(v.s<1)throw Error($r+(v.s?"NaN":"-Infinity"));if(v.eq(pr))return new O(0);if(e==null?(yt=!1,h=C):h=e,v.eq(10))return e==null&&(yt=!0),zb(O,h);if(h+=y,O.precision=h,n=Ai(b),r=n.charAt(0),a=Lt(v),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=Ai(v.d),r=n.charAt(0),m++;a=Lt(v),r>1?(v=new O("0."+n),a++):v=new O(r+"."+n.slice(1))}else return u=zb(O,h+2,C).times(a+""),v=Df(new O(r+"."+n.slice(1)),h-y).plus(u),O.precision=C,e==null?(yt=!0,lt(v,C)):v;for(o=l=v=ca(v.minus(pr),v.plus(pr),h),d=lt(v.times(v),h),i=3;;){if(l=lt(l.times(d),h),u=o.plus(ca(l,new O(i),h)),Ai(u.d).slice(0,h)===Ai(o.d).slice(0,h))return o=o.times(2),a!==0&&(o=o.plus(zb(O,h+2,C).times(a+""))),o=ca(o,new O(m),h),O.precision=C,e==null?(yt=!0,lt(o,C)):o;o=u,i+=2}}function y4(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=gc(n/dt),t.d=[],r=(n+1)%dt,n<0&&(r+=dt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=dt;r<i;)t.d.push(+e.slice(r,r+=dt));e=e.slice(r),r=dt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),yt&&(t.e>Qp||t.e<-Qp))throw Error(Q2+n)}else t.s=0,t.e=0,t.d=[0];return t}function lt(t,e,n){var r,i,a,l,o,u,h,d,m=t.d;for(l=1,a=m[0];a>=10;a/=10)l++;if(r=e-l,r<0)r+=dt,i=e,h=m[d=0];else{if(d=Math.ceil((r+1)/dt),a=m.length,d>=a)return t;for(h=a=m[d],l=1;a>=10;a/=10)l++;r%=dt,i=r-dt+l}if(n!==void 0&&(a=al(10,l-i-1),o=h/a%10|0,u=e<0||m[d+1]!==void 0||h%a,u=n<4?(o||u)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||u||n==6&&(r>0?i>0?h/al(10,l-i):0:m[d-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return u?(a=Lt(t),m.length=1,e=e-a-1,m[0]=al(10,(dt-e%dt)%dt),t.e=gc(-e/dt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=d,a=1,d--):(m.length=d+1,a=al(10,dt-r),m[d]=i>0?(h/al(10,l-i)%al(10,i)|0)*a:0),u)for(;;)if(d==0){(m[0]+=a)==Yt&&(m[0]=1,++t.e);break}else{if(m[d]+=a,m[d]!=Yt)break;m[d--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(yt&&(t.e>Qp||t.e<-Qp))throw Error(Q2+Lt(t));return t}function J8(t,e){var n,r,i,a,l,o,u,h,d,m,y=t.constructor,v=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),yt?lt(e,v):e;if(u=t.d,m=e.d,r=e.e,h=t.e,u=u.slice(),l=h-r,l){for(d=l<0,d?(n=u,l=-l,o=m.length):(n=m,r=h,o=u.length),i=Math.max(Math.ceil(v/dt),o)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=u.length,o=m.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(u[i]!=m[i]){d=u[i]<m[i];break}l=0}for(d&&(n=u,u=m,m=n,e.s=-e.s),o=u.length,i=m.length-o;i>0;--i)u[o++]=0;for(i=m.length;i>l;){if(u[--i]<m[i]){for(a=i;a&&u[--a]===0;)u[a]=Yt-1;--u[a],u[i]+=Yt}u[i]-=m[i]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,yt?lt(e,v):e):new y(0)}function Tl(t,e,n){var r,i=Lt(t),a=Ai(t.d),l=a.length;return e?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+is(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+is(-i-1)+a,n&&(r=n-l)>0&&(a+=is(r))):i>=l?(a+=is(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+is(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=is(r))),t.s<0?"-"+a:a}function v4(t,e){if(t.length>e)return t.length=e,!0}function e6(t){var e,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(bl+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return y4(l,a.toString())}else if(typeof a!="string")throw Error(bl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,Uie.test(a))y4(l,a);else throw Error(bl+a)}if(i.prototype=xe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e6,i.config=i.set=Hie,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Hie(t){if(!t||typeof t!="object")throw Error($r+"Object expected");var e,n,r,i=["precision",1,pc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(gc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(bl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(bl+n+": "+r);return this}var X2=e6(Iie);pr=new X2(1);const Ze=X2;function t6(t){var e;return t===0?e=1:e=Math.floor(new Ze(t).abs().log(10).toNumber())+1,e}function n6(t,e,n){for(var r=new Ze(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var r6=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},i6=(t,e,n)=>{if(t.lte(0))return new Ze(0);var r=t6(t.toNumber()),i=new Ze(10).pow(r),a=t.div(i),l=r!==1?.05:.1,o=new Ze(Math.ceil(a.div(l).toNumber())).add(n).mul(l),u=o.mul(i);return e?new Ze(u.toNumber()):new Ze(Math.ceil(u.toNumber()))},qie=(t,e,n)=>{var r=new Ze(1),i=new Ze(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Ze(10).pow(t6(t)-1),i=new Ze(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ze(Math.floor(t)))}else t===0?i=new Ze(Math.floor((e-1)/2)):n||(i=new Ze(Math.floor(t)));for(var l=Math.floor((e-1)/2),o=[],u=0;u<e;u++)o.push(i.add(new Ze(u-l).mul(r)).toNumber());return o},a6=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ze(0),tickMin:new Ze(0),tickMax:new Ze(0)};var l=i6(new Ze(n).sub(e).div(r-1),i,a),o;e<=0&&n>=0?o=new Ze(0):(o=new Ze(e).add(n).div(2),o=o.sub(new Ze(o).mod(l)));var u=Math.ceil(o.sub(e).div(l).toNumber()),h=Math.ceil(new Ze(n).sub(o).div(l).toNumber()),d=u+h+1;return d>r?a6(e,n,r,i,a+1):(d<r&&(h=n>0?h+(r-d):h,u=n>0?u:u+(r-d)),{step:l,tickMin:o.sub(new Ze(u).mul(l)),tickMax:o.add(new Ze(h).mul(l))})},$ie=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[o,u]=r6([n,r]);if(o===-1/0||u===1/0){var h=u===1/0?[o,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),u];return n>r?h.reverse():h}if(o===u)return qie(o,i,a);var{step:d,tickMin:m,tickMax:y}=a6(o,u,l,a,0),v=n6(m,y.add(new Ze(.1).mul(d)),d);return n>r?v.reverse():v},Vie=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,o]=r6([r,i]);if(l===-1/0||o===1/0)return[r,i];if(l===o)return[l];var u=Math.max(n,2),h=i6(new Ze(o).sub(l).div(u-1),a,0),d=[...n6(new Ze(l),new Ze(o),h),o];return a===!1&&(d=d.map(m=>Math.round(m))),r>i?d.reverse():d},Fie=t=>t.rootProps.barCategoryGap,s0=t=>t.rootProps.stackOffset,s6=t=>t.rootProps.reverseStackOrder,Z2=t=>t.options.chartName,J2=t=>t.rootProps.syncId,l6=t=>t.rootProps.syncMethod,eC=t=>t.options.eventEmitter,Dn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},el={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},gi={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},l0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function o0(t,e,n){if(n!=="auto")return n;if(t!=null)return Ca(t,e)?"category":"number"}function x4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x4(Object(n),!0).forEach(function(r){Wie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wie(t,e,n){return(e=Kie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kie(t){var e=Gie(t,"string");return typeof e=="symbol"?e:e+""}function Gie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b4={allowDataOverflow:el.allowDataOverflow,allowDecimals:el.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:el.angleAxisId,includeHidden:!1,name:void 0,reversed:el.reversed,scale:el.scale,tick:el.tick,tickCount:void 0,ticks:void 0,type:el.type,unit:void 0},w4={allowDataOverflow:gi.allowDataOverflow,allowDecimals:gi.allowDecimals,allowDuplicatedCategory:gi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gi.radiusAxisId,includeHidden:gi.includeHidden,name:void 0,reversed:gi.reversed,scale:gi.scale,tick:gi.tick,tickCount:gi.tickCount,ticks:void 0,type:gi.type,unit:void 0},Yie=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},tC=ee([Yie,XL],(t,e)=>{var n;if(t!=null)return t;var r=(n=o0(e,"angleAxis",b4.type))!==null&&n!==void 0?n:"category";return Xp(Xp({},b4),{},{type:r})}),Qie=(t,e)=>t.polarAxis.radiusAxis[e],nC=ee([Qie,XL],(t,e)=>{var n;if(t!=null)return t;var r=(n=o0(e,"radiusAxis",w4.type))!==null&&n!==void 0?n:"category";return Xp(Xp({},w4),{},{type:r})}),c0=t=>t.polarOptions,rC=ee([Oa,ka,wn],Gte),o6=ee([c0,rC],(t,e)=>{if(t!=null)return js(t.innerRadius,e,0)}),c6=ee([c0,rC],(t,e)=>{if(t!=null)return js(t.outerRadius,e,e*.8)}),Xie=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},u6=ee([c0],Xie);ee([tC,u6],l0);var f6=ee([rC,o6,c6],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ee([nC,f6],l0);var h6=ee([xt,c0,o6,c6,Oa,ka],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:o,startAngle:u,endAngle:h}=e;return{cx:js(l,i,i/2),cy:js(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:h,clockWise:!1}}}),tn=(t,e)=>e,u0=(t,e,n)=>n;function d6(t){return t?.id}function m6(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,l=new Map;return t.forEach(o=>{var u,h=(u=o.data)!==null&&u!==void 0?u:r;if(!(h==null||h.length===0)){var d=d6(o);h.forEach((m,y)=>{var v=a==null||i?y:String(vn(m,a,null)),b=vn(m,o.dataKey,0),O;l.has(v)?O=l.get(v):O={},Object.assign(O,{[d]:b}),l.set(v,O)})}}),Array.from(l.values())}function iC(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var f0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function h0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Zie(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var nn=t=>{var e=xt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},yc=t=>t.tooltip.settings.axisId;function Jie(t){if(t in Hu)return Hu[t]();var e="scale".concat(Xf(t));if(e in Hu)return Hu[e]()}function S4(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(a){function l(){return a.apply(this,arguments)}return l.toString=function(){return a.toString()},l})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var l=i[0],o=i[1];return l<=o?a>=l&&a<=o:a>=o&&a<=l},bandwidth:n?()=>n.call(t):void 0,ticks:e?a=>e.call(t,a):void 0,map:(a,l)=>{var o=t(a);if(o!=null){if(t.bandwidth&&l!==null&&l!==void 0&&l.position){var u=t.bandwidth();switch(l.position){case"middle":o+=u/2;break;case"end":o+=u;break}}return o}}}}function C4(t,e,n){if(typeof t=="function")return S4(t.copy().domain(e).range(n));if(t!=null){var r=Jie(t);if(r!=null)return r.domain(e).range(n),S4(r)}}var eae=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!ba(e)){for(var n,r,i=0;i<e.length;i++){var a=e[i];We(a)&&((n===void 0||a<n)&&(n=a),(r===void 0||a>r)&&(r=a))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function O4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O4(Object(n),!0).forEach(function(r){tae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tae(t,e,n){return(e=nae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nae(t){var e=rae(t,"string");return typeof e=="symbol"?e:e+""}function rae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ww=[0,"auto"],Kt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},p6=(t,e)=>t.cartesianAxis.xAxis[e],Aa=(t,e)=>{var n=p6(t,e);return n??Kt},Gt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ww,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:eh},g6=(t,e)=>t.cartesianAxis.yAxis[e],Na=(t,e)=>{var n=g6(t,e);return n??Gt},iae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},aC=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??iae},Ln=(t,e,n)=>{switch(e){case"xAxis":return Aa(t,n);case"yAxis":return Na(t,n);case"zAxis":return aC(t,n);case"angleAxis":return tC(t,n);case"radiusAxis":return nC(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},aae=(t,e,n)=>{switch(e){case"xAxis":return Aa(t,n);case"yAxis":return Na(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},lh=(t,e,n)=>{switch(e){case"xAxis":return Aa(t,n);case"yAxis":return Na(t,n);case"angleAxis":return tC(t,n);case"radiusAxis":return nC(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},y6=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function v6(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var x6=t=>t.graphicalItems.cartesianItems,sae=ee([tn,u0],v6),b6=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),oh=ee([x6,Ln,sae],b6,{memoizeOptions:{resultEqualityCheck:h0}}),w6=ee([oh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(iC)),S6=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),lae=ee([oh],S6),C6=t=>t.map(e=>e.data).filter(Boolean).flat(1),oae=ee([oh],C6,{memoizeOptions:{resultEqualityCheck:h0}}),O6=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},sC=ee([oae,Y2],O6),k6=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:vn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:vn(i,r)}))):t.map(r=>({value:r})),d0=ee([sC,Ln,oh],k6);function j6(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Dm(t){if(Mi(t)||t instanceof Date){var e=Number(t);if(We(e))return e}}function k4(t){if(Array.isArray(t)){var e=[Dm(t[0]),Dm(t[1])];return ba(e)?e:void 0}var n=Dm(t);if(n!=null)return[n,n]}function wa(t){return t.map(Dm).filter(Qn)}function cae(t,e,n){return!n||typeof e!="number"||pa(e)?[]:n.length?wa(n.flatMap(r=>{var i=vn(t,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!We(a)||!We(l)))return[e-a,e+l]})):[]}var $t=t=>{var e=nn(t),n=yc(t);return lh(t,e,n)},ch=ee([$t],t=>t?.dataKey),uae=ee([w6,Y2,$t],m6),A6=(t,e,n,r)=>{var i={},a=e.reduce((l,o)=>{if(o.stackId==null)return l;var u=l[o.stackId];return u==null&&(u=[]),u.push(o),l[o.stackId]=u,l},i);return Object.fromEntries(Object.entries(a).map(l=>{var[o,u]=l,h=r?[...u].reverse():u,d=h.map(d6);return[o,{stackedData:jJ(t,d,n),graphicalItems:h}]}))},fae=ee([uae,w6,s0,s6],A6),N6=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var l=EJ(t,i,a);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},hae=ee([Ln],t=>t.allowDataOverflow),lC=t=>{var e;if(t==null||!("domain"in t))return Ww;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=wa(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Ww},E6=ee([Ln],lC),T6=ee([E6,hae],Y8),dae=ee([fae,Ds,tn,T6],N6,{memoizeOptions:{resultEqualityCheck:f0}}),oC=t=>t.errorBars,mae=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>j6(n,r)),Jp=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),o=Math.max(...a);return[l,o]}},M6=(t,e,n,r,i)=>{var a,l;if(n.length>0&&t.forEach(o=>{n.forEach(u=>{var h,d,m=(h=r[u.id])===null||h===void 0?void 0:h.filter(k=>j6(i,k)),y=vn(o,(d=e.dataKey)!==null&&d!==void 0?d:u.dataKey),v=cae(o,y,m);if(v.length>=2){var b=Math.min(...v),O=Math.max(...v);(a==null||b<a)&&(a=b),(l==null||O>l)&&(l=O)}var C=k4(y);C!=null&&(a=a==null?C[0]:Math.min(a,C[0]),l=l==null?C[1]:Math.max(l,C[1]))})}),e?.dataKey!=null&&t.forEach(o=>{var u=k4(vn(o,e.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),l=l==null?u[1]:Math.max(l,u[1]))}),We(a)&&We(l))return[a,l]},pae=ee([sC,Ln,lae,oC,tn],M6,{memoizeOptions:{resultEqualityCheck:f0}});function gae(t){var{value:e}=t;if(Mi(e)||e instanceof Date)return e}var yae=(t,e,n)=>{var r=t.map(gae).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&WR(r))?p8(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},D6=t=>t.referenceElements.dots,vc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),vae=ee([D6,tn,u0],vc),P6=t=>t.referenceElements.areas,xae=ee([P6,tn,u0],vc),_6=t=>t.referenceElements.lines,bae=ee([_6,tn,u0],vc),R6=(t,e)=>{if(t!=null){var n=wa(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},wae=ee(vae,tn,R6),L6=(t,e)=>{if(t!=null){var n=wa(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Sae=ee([xae,tn],L6);function Cae(t){var e;if(t.x!=null)return wa([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:wa(n)}function Oae(t){var e;if(t.y!=null)return wa([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:wa(n)}var B6=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Cae(r):Oae(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},kae=ee([bae,tn],B6),jae=ee(wae,kae,Sae,(t,e,n)=>Jp(t,n,e)),z6=(t,e,n,r,i,a,l,o)=>{if(n!=null)return n;var u=l==="vertical"&&o==="xAxis"||l==="horizontal"&&o==="yAxis",h=u?Jp(r,a,i):Jp(a,i);return zie(e,h,t.allowDataOverflow)},Aae=ee([Ln,E6,T6,dae,pae,jae,xt,tn],z6,{memoizeOptions:{resultEqualityCheck:f0}}),Nae=[0,1],I6=(t,e,n,r,i,a,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:o,type:u}=t,h=Ca(e,a);if(h&&o==null){var d;return p8(0,(d=n?.length)!==null&&d!==void 0?d:0)}return u==="category"?yae(r,t,h):i==="expand"?Nae:l}},cC=ee([Ln,xt,sC,d0,s0,tn,Aae],I6);function Eae(t){return t in Hu}var U6=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var a="scale".concat(Xf(r));return Eae(a)?a:"point"}}},xc=ee([Ln,y6,Z2],U6);function uC(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?C4(t.scale,n,r):C4(e,n,r)}var H6=(t,e,n)=>{var r=lC(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ba(t))return $ie(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ba(t))return Vie(t,e.tickCount,e.allowDecimals)}},fC=ee([cC,lh,xc],H6),q6=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&ba(e)&&Array.isArray(n)&&n.length>0){var i,a,l=e[0],o=(i=n[0])!==null&&i!==void 0?i:0,u=e[1],h=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(l,o),Math.max(u,h)]}return e},Tae=ee([Ln,cC,fC,tn],q6),Mae=ee(d0,Ln,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(wa(t.map(m=>m.value))).sort((m,y)=>m-y),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var l=a-i;if(l===0)return 1/0;for(var o=0;o<r.length-1;o++){var u=r[o],h=r[o+1];if(!(u==null||h==null)){var d=h-u;n=Math.min(n,d)}}return n/l}}),$6=ee(Mae,xt,Fie,wn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!We(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var l=js(n,t*a),o=t*a/2;return o-l-(o-l)/a*l}return 0}),Dae=(t,e,n)=>{var r=Aa(t,e);return r==null||typeof r.padding!="string"?0:$6(t,"xAxis",e,n,r.padding)},Pae=(t,e,n)=>{var r=Na(t,e);return r==null||typeof r.padding!="string"?0:$6(t,"yAxis",e,n,r.padding)},_ae=ee(Aa,Dae,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Rae=ee(Na,Pae,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Lae=ee([wn,_ae,Gg,Kg,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),Bae=ee([wn,xt,Rae,Gg,Kg,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),uh=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Lae(t,n,r);case"yAxis":return Bae(t,n,r);case"zAxis":return(i=aC(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return u6(t);case"radiusAxis":return f6(t,n);default:return}},V6=ee([Ln,uh],l0),zae=ee([xc,Tae],eae),m0=ee([Ln,xc,zae,V6],uC);ee([oh,oC,tn],mae);function F6(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var p0=(t,e)=>e,g0=(t,e,n)=>n,Iae=ee(Fg,p0,g0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(F6)),Uae=ee(Wg,p0,g0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(F6)),W6=(t,e)=>({width:t.width,height:e.height}),Hae=(t,e)=>{var n=typeof e.width=="number"?e.width:eh;return{width:n,height:t.height}},qae=ee(wn,Aa,W6),$ae=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Vae=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Fae=ee(ka,wn,Iae,p0,g0,(t,e,n,r,i)=>{var a={},l;return n.forEach(o=>{var u=W6(e,o);l==null&&(l=$ae(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;a[o.id]=l-Number(h)*u.height,l+=(h?-1:1)*u.height}),a}),Wae=ee(Oa,wn,Uae,p0,g0,(t,e,n,r,i)=>{var a={},l;return n.forEach(o=>{var u=Hae(e,o);l==null&&(l=Vae(e,r,t));var h=r==="left"&&!i||r==="right"&&i;a[o.id]=l-Number(h)*u.width,l+=(h?-1:1)*u.width}),a}),Kae=(t,e)=>{var n=Aa(t,e);if(n!=null)return Fae(t,n.orientation,n.mirror)},Gae=ee([wn,Aa,Kae,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Yae=(t,e)=>{var n=Na(t,e);if(n!=null)return Wae(t,n.orientation,n.mirror)},Qae=ee([wn,Na,Yae,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),Xae=ee(wn,Na,(t,e)=>{var n=typeof e.width=="number"?e.width:eh;return{width:n,height:t.height}}),K6=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,o=Ca(t,r),u=e.map(h=>h.value);if(l&&o&&a==="category"&&i&&WR(u))return u}},hC=ee([xt,d0,Ln,tn],K6),G6=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=Ca(t,r);if(l&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},dC=ee([xt,d0,lh,tn],G6),j4=ee([xt,aae,xc,m0,hC,dC,uh,fC,tn],(t,e,n,r,i,a,l,o,u)=>{if(e!=null){var h=Ca(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:h,niceTicks:o,range:l,realScaleType:n,scale:r}}}),Zae=(t,e,n,r,i,a,l,o,u)=>{if(!(e==null||r==null)){var h=Ca(t,u),{type:d,ticks:m,tickCount:y}=e,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,b=d==="category"&&r.bandwidth?r.bandwidth()/v:0;b=u==="angleAxis"&&a!=null&&a.length>=2?zr(a[0]-a[1])*2*b:b;var O=m||i;return O?O.map((C,k)=>{var N=l?l.indexOf(C):C,j=r.map(N);return We(j)?{index:k,coordinate:j+b,value:C,offset:b}:null}).filter(Qn):h&&o?o.map((C,k)=>{var N=r.map(C);return We(N)?{coordinate:N+b,value:C,index:k,offset:b}:null}).filter(Qn):r.ticks?r.ticks(y).map((C,k)=>{var N=r.map(C);return We(N)?{coordinate:N+b,value:C,index:k,offset:b}:null}).filter(Qn):r.domain().map((C,k)=>{var N=r.map(C);return We(N)?{coordinate:N+b,value:l?l[C]:C,index:k,offset:b}:null}).filter(Qn)}},Y6=ee([xt,lh,xc,m0,fC,uh,hC,dC,tn],Zae),Jae=(t,e,n,r,i,a,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=Ca(t,l),{tickCount:u}=e,h=0;return h=l==="angleAxis"&&r?.length>=2?zr(r[0]-r[1])*2*h:h,o&&a?a.map((d,m)=>{var y=n.map(d);return We(y)?{coordinate:y+h,value:d,index:m,offset:h}:null}).filter(Qn):n.ticks?n.ticks(u).map((d,m)=>{var y=n.map(d);return We(y)?{coordinate:y+h,value:d,index:m,offset:h}:null}).filter(Qn):n.domain().map((d,m)=>{var y=n.map(d);return We(y)?{coordinate:y+h,value:i?i[d]:d,index:m,offset:h}:null}).filter(Qn)}},Q6=ee([xt,lh,m0,uh,hC,dC,tn],Jae),X6=ee(Ln,m0,(t,e)=>{if(!(t==null||e==null))return Zp(Zp({},t),{},{scale:e})}),ese=ee([Ln,xc,cC,V6],uC);ee((t,e,n)=>aC(t,n),ese,(t,e)=>{if(!(t==null||e==null))return Zp(Zp({},t),{},{scale:e})});var tse=ee([xt,Fg,Wg],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Z6=t=>t.options.defaultTooltipEventType,J6=t=>t.options.validateTooltipEventTypes;function eB(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function mC(t,e){var n=Z6(t),r=J6(t);return eB(e,n,r)}function nse(t){return je(e=>mC(e,t))}var tB=(t,e)=>{var n,r=Number(e);if(!(pa(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},rse=t=>t.tooltip.settings,ls={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},ise={itemInteraction:{click:ls,hover:ls},axisInteraction:{click:ls,hover:ls},keyboardInteraction:ls,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},nB=Jn({name:"tooltip",initialState:ise,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:pt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ni(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:pt()},removeTooltipEntrySettings:{reducer(t,e){var n=ni(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:pt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:ase,replaceTooltipEntrySettings:sse,removeTooltipEntrySettings:lse,setTooltipSettingsState:ose,setActiveMouseOverItemIndex:cse,mouseLeaveItem:Jme,mouseLeaveChart:rB,setActiveClickItemIndex:epe,setMouseOverAxisIndex:iB,setMouseClickAxisIndex:use,setSyncInteraction:Kw,setKeyboardInteraction:Gw}=nB.actions,fse=nB.reducer;function A4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A4(Object(n),!0).forEach(function(r){hse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hse(t,e,n){return(e=dse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dse(t){var e=mse(t,"string");return typeof e=="symbol"?e:e+""}function mse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pse(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function gse(t){return t.index!=null}var aB=(t,e,n,r)=>{if(e==null)return ls;var i=pse(t,e,n);if(i==null)return ls;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(gse(i)){if(a)return mm(mm({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return mm(mm({},ls),{},{coordinate:i.coordinate})};function yse(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function vse(t,e){var n=yse(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),l=Math.max(r,i);return n>=a&&n<=l}function xse(t,e,n){if(n==null||e==null)return!0;var r=vn(t,e);return r==null||!ba(n)?!0:vse(r,n)}var pC=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var a=Number(i);if(!We(a))return i;var l=0,o=1/0;e.length>0&&(o=e.length-1);var u=Math.max(l,Math.min(a,o)),h=e[u];return h==null||xse(h,n,r)?String(u):null},sB=(t,e,n,r,i,a,l)=>{if(a!=null){var o=l[0],u=o?.getPosition(a);if(u!=null)return u;var h=i?.[Number(a)];if(h)return n==="horizontal"?{x:h.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:h.coordinate}}},lB=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(l=>{var o;return((o=l.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},oB=t=>t.options.tooltipPayloadSearcher,bc=t=>t.tooltip;function N4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N4(Object(n),!0).forEach(function(r){bse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bse(t,e,n){return(e=wse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wse(t){var e=Sse(t,"string");return typeof e=="symbol"?e:e+""}function Sse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cse(t,e){return t??e}var cB=(t,e,n,r,i,a,l)=>{if(!(e==null||a==null)){var{chartData:o,computedData:u,dataStartIndex:h,dataEndIndex:d}=n,m=[];return t.reduce((y,v)=>{var b,{dataDefinedOnItem:O,settings:C}=v,k=Cse(O,o),N=Array.isArray(k)?UL(k,h,d):k,j=(b=C?.dataKey)!==null&&b!==void 0?b:r,M=C?.nameKey,D;if(r&&Array.isArray(N)&&!Array.isArray(N[0])&&l==="axis"?D=KR(N,r,i):D=a(N,e,u,M),Array.isArray(D))D.forEach(E=>{var _=E4(E4({},C),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});y.push(NM({tooltipEntrySettings:_,dataKey:E.dataKey,payload:E.payload,value:vn(E.payload,E.dataKey),name:E.name}))});else{var T;y.push(NM({tooltipEntrySettings:C,dataKey:j,payload:D,value:vn(D,j),name:(T=vn(D,M))!==null&&T!==void 0?T:C?.name}))}return y},m)}},gC=ee([$t,y6,Z2],U6),Ose=ee([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),kse=ee([nn,yc],v6),wc=ee([Ose,$t,kse],b6,{memoizeOptions:{resultEqualityCheck:h0}}),jse=ee([wc],t=>t.filter(iC)),Ase=ee([wc],C6,{memoizeOptions:{resultEqualityCheck:h0}}),Sc=ee([Ase,Ds],O6),Nse=ee([jse,Ds,$t],m6),yC=ee([Sc,$t,wc],k6),uB=ee([$t],lC),Ese=ee([$t],t=>t.allowDataOverflow),fB=ee([uB,Ese],Y8),Tse=ee([wc],t=>t.filter(iC)),Mse=ee([Nse,Tse,s0,s6],A6),Dse=ee([Mse,Ds,nn,fB],N6),Pse=ee([wc],S6),_se=ee([Sc,$t,Pse,oC,nn],M6,{memoizeOptions:{resultEqualityCheck:f0}}),Rse=ee([D6,nn,yc],vc),Lse=ee([Rse,nn],R6),Bse=ee([P6,nn,yc],vc),zse=ee([Bse,nn],L6),Ise=ee([_6,nn,yc],vc),Use=ee([Ise,nn],B6),Hse=ee([Lse,Use,zse],Jp),qse=ee([$t,uB,fB,Dse,_se,Hse,xt,nn],z6),fh=ee([$t,xt,Sc,yC,s0,nn,qse],I6),$se=ee([fh,$t,gC],H6),Vse=ee([$t,fh,$se,nn],q6),hB=t=>{var e=nn(t),n=yc(t),r=!1;return uh(t,e,n,r)},dB=ee([$t,hB],l0),mB=ee([$t,gC,Vse,dB],uC),Fse=ee([xt,yC,$t,nn],K6),Wse=ee([xt,yC,$t,nn],G6),Kse=(t,e,n,r,i,a,l,o)=>{if(e){var{type:u}=e,h=Ca(t,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=u==="category"&&r.bandwidth?r.bandwidth()/d:0;return m=o==="angleAxis"&&i!=null&&i?.length>=2?zr(i[0]-i[1])*2*m:m,h&&l?l.map((y,v)=>{var b=r.map(y);return We(b)?{coordinate:b+m,value:y,index:v,offset:m}:null}).filter(Qn):r.domain().map((y,v)=>{var b=r.map(y);return We(b)?{coordinate:b+m,value:a?a[y]:y,index:v,offset:m}:null}).filter(Qn)}}},Ea=ee([xt,$t,gC,mB,hB,Fse,Wse,nn],Kse),vC=ee([Z6,J6,rse],(t,e,n)=>eB(n.shared,t,e)),pB=t=>t.tooltip.settings.trigger,xC=t=>t.tooltip.settings.defaultIndex,hh=ee([bc,vC,pB,xC],aB),Pf=ee([hh,Sc,ch,fh],pC),gB=ee([Ea,Pf],tB),Gse=ee([hh],t=>{if(t)return t.dataKey});ee([hh],t=>{if(t)return t.graphicalItemId});var yB=ee([bc,vC,pB,xC],lB),Yse=ee([Oa,ka,xt,wn,Ea,xC,yB],sB),Qse=ee([hh,Yse],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Xse=ee([hh],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),Zse=ee([yB,Pf,Ds,ch,gB,oB,vC],cB),Jse=ee([Zse],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function T4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T4(Object(n),!0).forEach(function(r){ele(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ele(t,e,n){return(e=tle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tle(t){var e=nle(t,"string");return typeof e=="symbol"?e:e+""}function nle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rle=()=>je($t),ile=()=>{var t=rle(),e=je(Ea),n=je(mB);return Ep(!t||!n?void 0:M4(M4({},t),{},{scale:n}),e)};function D4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D4(Object(n),!0).forEach(function(r){ale(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ale(t,e,n){return(e=sle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sle(t){var e=lle(t,"string");return typeof e=="symbol"?e:e+""}function lle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ole=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},cle=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:l}=r;return Oo(Oo(Oo({},r),gn(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var o=i.coordinate,{angle:u}=r;return Oo(Oo(Oo({},r),gn(r.cx,r.cy,o,u)),{},{angle:u,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function ule(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var vB=(t,e,n,r,i)=>{var a,l=(a=e?.length)!==null&&a!==void 0?a:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<l;o++){var u,h,d,m,y,v=o>0?(u=n[o-1])===null||u===void 0?void 0:u.coordinate:(h=n[l-1])===null||h===void 0?void 0:h.coordinate,b=(d=n[o])===null||d===void 0?void 0:d.coordinate,O=o>=l-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(y=n[o+1])===null||y===void 0?void 0:y.coordinate,C=void 0;if(!(v==null||b==null||O==null))if(zr(b-v)!==zr(O-b)){var k=[];if(zr(O-b)===zr(i[1]-i[0])){C=O;var N=b+i[1]-i[0];k[0]=Math.min(N,(N+v)/2),k[1]=Math.max(N,(N+v)/2)}else{C=v;var j=O+i[1]-i[0];k[0]=Math.min(b,(j+b)/2),k[1]=Math.max(b,(j+b)/2)}var M=[Math.min(b,(C+b)/2),Math.max(b,(C+b)/2)];if(t>M[0]&&t<=M[1]||t>=k[0]&&t<=k[1]){var D;return(D=n[o])===null||D===void 0?void 0:D.index}}else{var T=Math.min(v,O),E=Math.max(v,O);if(t>(T+b)/2&&t<=(E+b)/2){var _;return(_=n[o])===null||_===void 0?void 0:_.index}}}else if(e)for(var R=0;R<l;R++){var H=e[R];if(H!=null){var B=e[R+1],z=e[R-1];if(R===0&&B!=null&&t<=(H.coordinate+B.coordinate)/2||R===l-1&&z!=null&&t>(H.coordinate+z.coordinate)/2||R>0&&R<l-1&&z!=null&&B!=null&&t>(H.coordinate+z.coordinate)/2&&t<=(H.coordinate+B.coordinate)/2)return H.index}}return-1},fle=()=>je(Z2),bC=(t,e)=>e,xB=(t,e,n)=>n,wC=(t,e,n,r)=>r,hle=ee(Ea,t=>Rg(t,e=>e.coordinate)),SC=ee([bc,bC,xB,wC],aB),CC=ee([SC,Sc,ch,fh],pC),dle=(t,e,n)=>{if(e!=null){var r=bc(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},bB=ee([bc,bC,xB,wC],lB),eg=ee([Oa,ka,xt,wn,Ea,wC,bB],sB),mle=ee([SC,eg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),wB=ee([Ea,CC],tB),ple=ee([bB,CC,Ds,ch,wB,oB,bC],cB),gle=ee([SC,CC],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),yle=(t,e,n,r,i,a,l)=>{if(!(!t||!n||!r||!i)&&ule(t,l)){var o=TJ(t,e),u=vB(o,a,i,n,r),h=ole(e,i,u,t);return{activeIndex:String(u),activeCoordinate:h}}},vle=(t,e,n,r,i,a,l)=>{if(!(!t||!r||!i||!a||!n)){var o=Jte(t,n);if(o){var u=MJ(o,e),h=vB(u,l,a,r,i),d=cle(e,a,h,o);return{activeIndex:String(h),activeCoordinate:d}}}},xle=(t,e,n,r,i,a,l,o)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?yle(t,e,r,i,a,l,o):vle(t,e,n,r,i,a,l)},ble=ee(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),wle=ee(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Dn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Zie}});function P4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P4(Object(n),!0).forEach(function(r){Sle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sle(t,e,n){return(e=Cle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cle(t){var e=Ole(t,"string");return typeof e=="symbol"?e:e+""}function Ole(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kle={},jle={zIndexMap:Object.values(Dn).reduce((t,e)=>_4(_4({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),kle)},Ale=new Set(Object.values(Dn));function Nle(t){return Ale.has(t)}var SB=Jn({name:"zIndex",initialState:jle,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:pt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Nle(n)&&delete t.zIndexMap[n])},prepare:pt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:pt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:pt()}}}),{registerZIndexPortal:Ele,unregisterZIndexPortal:Tle,registerZIndexPortalElement:Mle,unregisterZIndexPortalElement:Dle}=SB.actions,Ple=SB.reducer;function Ta(t){var{zIndex:e,children:n}=t,r=uee(),i=r&&e!==void 0&&e!==0,a=er(),l=Bt();S.useLayoutEffect(()=>i?(l(Ele({zIndex:e})),()=>{l(Tle({zIndex:e}))}):hc,[l,e,i]);var o=je(u=>ble(u,e,a));return i?o?lS.createPortal(n,o):null:n}function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yw.apply(null,arguments)}function R4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R4(Object(n),!0).forEach(function(r){_le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _le(t,e,n){return(e=Rle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rle(t){var e=Lle(t,"string");return typeof e=="symbol"?e:e+""}function Lle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ble(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return S.isValidElement(e)?S.cloneElement(e,r):S.createElement(n,r)}function zle(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:l,layout:o,cursor:u,tooltipEventType:h,chartName:d}=t,m=n,y=r,v=i;if(!u||!m||d!=="ScatterChart"&&h!=="axis")return null;var b,O,C;if(d==="ScatterChart")b=m,O=hte,C=Dn.cursorLine;else if(d==="BarChart")b=dte(o,m,a,l),O=f8,C=Dn.cursorRectangle;else if(o==="radial"&&YR(m)){var{cx:k,cy:N,radius:j,startAngle:M,endAngle:D}=h8(m);b={cx:k,cy:N,startAngle:M,endAngle:D,innerRadius:j,outerRadius:j},O=m8,C=Dn.cursorLine}else b={points:rne(o,m,a)},O=s8,C=Dn.cursorLine;var T=typeof u=="object"&&"className"in u?u.className:void 0,E=pm(pm(pm(pm({stroke:"#ccc",pointerEvents:"none"},a),b),Tg(u)),{},{payload:y,payloadIndex:v,className:rt("recharts-tooltip-cursor",T)});return S.createElement(Ta,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:C},S.createElement(Ble,{cursor:u,cursorComp:O,cursorProps:E}))}function Ile(t){var e=ile(),n=YL(),r=dc(),i=fle();return e==null||n==null||r==null||i==null?null:S.createElement(zle,Yw({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var CB=S.createContext(null),Ule=()=>S.useContext(CB),Ib={exports:{}},L4;function Hle(){return L4||(L4=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,h,d){this.fn=u,this.context=h,this.once=d||!1}function a(u,h,d,m,y){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new i(d,m||u,y),b=n?n+h:h;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],v]:u._events[b].push(v):(u._events[b]=v,u._eventsCount++),u}function l(u,h){--u._eventsCount===0?u._events=new r:delete u._events[h]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var h=[],d,m;if(this._eventsCount===0)return h;for(m in d=this._events)e.call(d,m)&&h.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(d)):h},o.prototype.listeners=function(h){var d=n?n+h:h,m=this._events[d];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,v=m.length,b=new Array(v);y<v;y++)b[y]=m[y].fn;return b},o.prototype.listenerCount=function(h){var d=n?n+h:h,m=this._events[d];return m?m.fn?1:m.length:0},o.prototype.emit=function(h,d,m,y,v,b){var O=n?n+h:h;if(!this._events[O])return!1;var C=this._events[O],k=arguments.length,N,j;if(C.fn){switch(C.once&&this.removeListener(h,C.fn,void 0,!0),k){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,d),!0;case 3:return C.fn.call(C.context,d,m),!0;case 4:return C.fn.call(C.context,d,m,y),!0;case 5:return C.fn.call(C.context,d,m,y,v),!0;case 6:return C.fn.call(C.context,d,m,y,v,b),!0}for(j=1,N=new Array(k-1);j<k;j++)N[j-1]=arguments[j];C.fn.apply(C.context,N)}else{var M=C.length,D;for(j=0;j<M;j++)switch(C[j].once&&this.removeListener(h,C[j].fn,void 0,!0),k){case 1:C[j].fn.call(C[j].context);break;case 2:C[j].fn.call(C[j].context,d);break;case 3:C[j].fn.call(C[j].context,d,m);break;case 4:C[j].fn.call(C[j].context,d,m,y);break;default:if(!N)for(D=1,N=new Array(k-1);D<k;D++)N[D-1]=arguments[D];C[j].fn.apply(C[j].context,N)}}return!0},o.prototype.on=function(h,d,m){return a(this,h,d,m,!1)},o.prototype.once=function(h,d,m){return a(this,h,d,m,!0)},o.prototype.removeListener=function(h,d,m,y){var v=n?n+h:h;if(!this._events[v])return this;if(!d)return l(this,v),this;var b=this._events[v];if(b.fn)b.fn===d&&(!y||b.once)&&(!m||b.context===m)&&l(this,v);else{for(var O=0,C=[],k=b.length;O<k;O++)(b[O].fn!==d||y&&!b[O].once||m&&b[O].context!==m)&&C.push(b[O]);C.length?this._events[v]=C.length===1?C[0]:C:l(this,v)}return this},o.prototype.removeAllListeners=function(h){var d;return h?(d=n?n+h:h,this._events[d]&&l(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(Ib)),Ib.exports}var qle=Hle();const $le=_i(qle);var _f=new $le,Qw="recharts.syncEvent.tooltip",B4="recharts.syncEvent.brush",Vle=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!pa(n))return t[n]}},Fle={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},OB=Jn({name:"options",initialState:Fle,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Wle=OB.reducer,{createEventEmitter:Kle}=OB.actions;function Gle(t){return t.tooltip.syncInteraction}var Yle={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},kB=Jn({name:"chartData",initialState:Yle,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:z4,setDataStartEndIndexes:Qle,setComputedData:tpe}=kB.actions,Xle=kB.reducer,Zle=["x","y"];function I4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ko(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I4(Object(n),!0).forEach(function(r){Jle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jle(t,e,n){return(e=eoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eoe(t){var e=toe(t,"string");return typeof e=="symbol"?e:e+""}function toe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function noe(t,e){if(t==null)return{};var n,r,i=roe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function roe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ioe(){var t=je(J2),e=je(eC),n=Bt(),r=je(l6),i=je(Ea),a=dc(),l=Yg(),o=je(u=>u.rootProps.className);S.useEffect(()=>{if(t==null)return hc;var u=(h,d,m)=>{if(e!==m&&t===h){if(r==="index"){var y;if(l&&d!==null&&d!==void 0&&(y=d.payload)!==null&&y!==void 0&&y.coordinate&&d.payload.sourceViewBox){var v=d.payload.coordinate,{x:b,y:O}=v,C=noe(v,Zle),{x:k,y:N,width:j,height:M}=d.payload.sourceViewBox,D=ko(ko({},C),{},{x:l.x+(j?(b-k)/j:0)*l.width,y:l.y+(M?(O-N)/M:0)*l.height});n(ko(ko({},d),{},{payload:ko(ko({},d.payload),{},{coordinate:D})}))}else n(d);return}if(i!=null){var T;if(typeof r=="function"){var E={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},_=r(i,E);T=i[_]}else r==="value"&&(T=i.find(q=>String(q.value)===d.payload.label));var{coordinate:R}=d.payload;if(T==null||d.payload.active===!1||R==null||l==null){n(Kw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:H,y:B}=R,z=Math.min(H,l.x+l.width),ie=Math.min(B,l.y+l.height),ne={x:a==="horizontal"?T.coordinate:z,y:a==="horizontal"?ie:T.coordinate},I=Kw({active:d.payload.active,coordinate:ne,dataKey:d.payload.dataKey,index:String(T.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(I)}}};return _f.on(Qw,u),()=>{_f.off(Qw,u)}},[o,n,e,t,r,i,a,l])}function aoe(){var t=je(J2),e=je(eC),n=Bt();S.useEffect(()=>{if(t==null)return hc;var r=(i,a,l)=>{e!==l&&t===i&&n(Qle(a))};return _f.on(B4,r),()=>{_f.off(B4,r)}},[n,e,t])}function soe(){var t=Bt();S.useEffect(()=>{t(Kle())},[t]),ioe(),aoe()}function loe(t,e,n,r,i,a){var l=je(v=>dle(v,t,e)),o=je(eC),u=je(J2),h=je(l6),d=je(Gle),m=d?.active,y=Yg();S.useEffect(()=>{if(!m&&u!=null&&o!=null){var v=Kw({active:a,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});_f.emit(Qw,u,v,o)}},[m,n,l,i,r,o,u,h,a,y])}function U4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U4(Object(n),!0).forEach(function(r){ooe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ooe(t,e,n){return(e=coe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function coe(t){var e=uoe(t,"string");return typeof e=="symbol"?e:e+""}function uoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function foe(t){return t.dataKey}function hoe(t,e){return S.isValidElement(t)?S.cloneElement(t,e):typeof t=="function"?S.createElement(t,e):S.createElement(Fee,e)}var q4=[],doe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function tg(t){var e,n,r=An(t,doe),{active:i,allowEscapeViewBox:a,animationDuration:l,animationEasing:o,content:u,filterNull:h,isAnimationActive:d,offset:m,payloadUniqBy:y,position:v,reverseDirection:b,useTranslate3d:O,wrapperStyle:C,cursor:k,shared:N,trigger:j,defaultIndex:M,portal:D,axisId:T}=r,E=Bt(),_=typeof M=="number"?String(M):M;S.useEffect(()=>{E(ose({shared:N,trigger:j,axisId:T,active:i,defaultIndex:_}))},[E,N,j,T,i,_]);var R=Yg(),H=a8(),B=nse(N),{activeIndex:z,isActive:ie}=(e=je(ve=>gle(ve,B,j,_)))!==null&&e!==void 0?e:{},ne=je(ve=>ple(ve,B,j,_)),I=je(ve=>wB(ve,B,j,_)),q=je(ve=>mle(ve,B,j,_)),V=ne,te=Ule(),W=(n=i??ie)!==null&&n!==void 0?n:!1,[ce,L]=uL([V,W]),Y=B==="axis"?I:void 0;loe(B,j,q,Y,z,W);var ue=D??te;if(ue==null||R==null||B==null)return null;var X=V??q4;W||(X=q4),h&&X.length&&(X=aL(X.filter(ve=>ve.value!=null&&(ve.hide!==!0||r.includeHidden)),y,foe));var de=X.length>0,he=S.createElement(Zee,{allowEscapeViewBox:a,animationDuration:l,animationEasing:o,isAnimationActive:d,active:W,coordinate:q,hasPayload:de,offset:m,position:v,reverseDirection:b,useTranslate3d:O,viewBox:R,wrapperStyle:C,lastBoundingBox:ce,innerRef:L,hasPortalFromProps:!!D},hoe(u,H4(H4({},r),{},{payload:X,label:Y,active:W,activeIndex:z,coordinate:q,accessibilityLayer:H})));return S.createElement(S.Fragment,null,lS.createPortal(he,ue),W&&S.createElement(Ile,{cursor:k,tooltipEventType:B,coordinate:q,payload:X,index:z}))}function moe(t,e,n){return(e=poe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function poe(t){var e=goe(t,"string");return typeof e=="symbol"?e:e+""}function goe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class yoe{constructor(e){moe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function $4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function voe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$4(Object(n),!0).forEach(function(r){xoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xoe(t,e,n){return(e=boe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function boe(t){var e=woe(t,"string");return typeof e=="symbol"?e:e+""}function woe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Soe={cacheSize:2e3,enableCache:!0},jB=voe({},Soe),V4=new yoe(jB.cacheSize),Coe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},F4="recharts_measurement_span";function Ooe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",l=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(o)}var W4=(t,e)=>{try{var n=document.getElementById(F4);n||(n=document.createElement("span"),n.setAttribute("id",F4),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Coe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Xu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Jg.isSsr)return{width:0,height:0};if(!jB.enableCache)return W4(e,n);var r=Ooe(e,n),i=V4.get(r);if(i)return i;var a=W4(e,n);return V4.set(r,a),a},AB;function koe(t,e,n){return(e=joe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function joe(t){var e=Aoe(t,"string");return typeof e=="symbol"?e:e+""}function Aoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,G4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Noe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Eoe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Toe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Moe=["cm","mm","pt","pc","in","Q","px"];function Doe(t){return Moe.includes(t)}var _o="NaN";function Poe(t,e){return t*Toe[e]}class dn{static parse(e){var n,[,r,i]=(n=Eoe.exec(e))!==null&&n!==void 0?n:[];return r==null?dn.NaN:new dn(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,pa(e)&&(this.unit=""),n!==""&&!Noe.test(n)&&(this.num=NaN,this.unit=""),Doe(n)&&(this.num=Poe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new dn(NaN,""):new dn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new dn(NaN,""):new dn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new dn(NaN,""):new dn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new dn(NaN,""):new dn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return pa(this.num)}}AB=dn;koe(dn,"NaN",new AB(NaN,""));function NB(t){if(t==null||t.includes(_o))return _o;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=K4.exec(e))!==null&&n!==void 0?n:[],l=dn.parse(r??""),o=dn.parse(a??""),u=i==="*"?l.multiply(o):l.divide(o);if(u.isNaN())return _o;e=e.replace(K4,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,d,m,y]=(h=G4.exec(e))!==null&&h!==void 0?h:[],v=dn.parse(d??""),b=dn.parse(y??""),O=m==="+"?v.add(b):v.subtract(b);if(O.isNaN())return _o;e=e.replace(G4,O.toString())}return e}var Y4=/\(([^()]*)\)/;function _oe(t){for(var e=t,n;(n=Y4.exec(e))!=null;){var[,r]=n;e=e.replace(Y4,NB(r))}return e}function Roe(t){var e=t.replace(/\s+/g,"");return e=_oe(e),e=NB(e),e}function Loe(t){try{return Roe(t)}catch{return _o}}function Ub(t){var e=Loe(t.slice(5,-1));return e===_o?"":e}var Boe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],zoe=["dx","dy","angle","className","breakAll"];function Xw(){return Xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xw.apply(null,arguments)}function Q4(t,e){if(t==null)return{};var n,r,i=Ioe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ioe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var EB=/[ \f\n\r\t\v\u2028\u2029]+/,TB=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];xn(e)||(n?i=e.toString().split(""):i=e.toString().split(EB));var a=i.map(o=>({word:o,width:Xu(o,r).width})),l=n?0:Xu("",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}};function Uoe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var MB=(t,e,n,r)=>t.reduce((i,a)=>{var{word:l,width:o}=a,u=i[i.length-1];if(u&&o!=null&&(e==null||r||u.width+o+n<Number(e)))u.words.push(l),u.width+=o+n;else{var h={words:[l],width:o};i.push(h)}return i},[]),DB=t=>t.reduce((e,n)=>e.width>n.width?e:n),Hoe="",X4=(t,e,n,r,i,a,l,o)=>{var u=t.slice(0,e),h=TB({breakAll:n,style:r,children:u+Hoe});if(!h)return[!1,[]];var d=MB(h.wordsWithComputedWidth,a,l,o),m=d.length>i||DB(d).width>Number(a);return[m,d]},qoe=(t,e,n,r,i)=>{var{maxLines:a,children:l,style:o,breakAll:u}=t,h=Ce(a),d=String(l),m=MB(e,r,n,i);if(!h||i)return m;var y=m.length>a||DB(m).width>Number(r);if(!y)return m;for(var v=0,b=d.length-1,O=0,C;v<=b&&O<=d.length-1;){var k=Math.floor((v+b)/2),N=k-1,[j,M]=X4(d,N,u,o,a,r,n,i),[D]=X4(d,k,u,o,a,r,n,i);if(!j&&!D&&(v=k+1),j&&D&&(b=k-1),!j&&D){C=M;break}O++}return C||m},Z4=t=>{var e=xn(t)?[]:t.toString().split(EB);return[{words:e,width:void 0}]},$oe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=t;if((e||n)&&!Jg.isSsr){var o,u,h=TB({breakAll:a,children:r,style:i});if(h){var{wordsWithComputedWidth:d,spaceWidth:m}=h;o=d,u=m}else return Z4(r);return qoe({breakAll:a,children:r,maxLines:l,style:i},o,u,e,!!n)}return Z4(r)},PB="#808080",Voe={angle:0,breakAll:!1,capHeight:"0.71em",fill:PB,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},OC=S.forwardRef((t,e)=>{var n=An(t,Voe),{x:r,y:i,lineHeight:a,capHeight:l,fill:o,scaleToFit:u,textAnchor:h,verticalAnchor:d}=n,m=Q4(n,Boe),y=S.useMemo(()=>$oe({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:u,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,u,m.style,m.width]),{dx:v,dy:b,angle:O,className:C,breakAll:k}=m,N=Q4(m,zoe);if(!Mi(r)||!Mi(i)||y.length===0)return null;var j=Number(r)+(Ce(v)?v:0),M=Number(i)+(Ce(b)?b:0);if(!We(j)||!We(M))return null;var D;switch(d){case"start":D=Ub("calc(".concat(l,")"));break;case"middle":D=Ub("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:D=Ub("calc(".concat(y.length-1," * -").concat(a,")"));break}var T=[],E=y[0];if(u&&E!=null){var _=E.width,{width:R}=m;T.push("scale(".concat(Ce(R)&&Ce(_)?R/_:1,")"))}return O&&T.push("rotate(".concat(O,", ").concat(j,", ").concat(M,")")),T.length&&(N.transform=T.join(" ")),S.createElement("text",Xw({},_n(N),{ref:e,x:j,y:M,className:rt("recharts-text",C),textAnchor:h,fill:o.includes("url")?PB:o}),y.map((H,B)=>{var z=H.words.join(k?"":" ");return S.createElement("tspan",{x:j,dy:B===0?D:a,key:"".concat(z,"-").concat(B)},z)}))});OC.displayName="Text";function J4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J4(Object(n),!0).forEach(function(r){Foe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Foe(t,e,n){return(e=Woe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Woe(t){var e=Koe(t,"string");return typeof e=="symbol"?e:e+""}function Koe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Goe=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:a,y:l,height:o,upperWidth:u,lowerWidth:h}=v2(e),d=a,m=a+(u-h)/2,y=(d+m)/2,v=(u+h)/2,b=d+u/2,O=o>=0?1:-1,C=O*r,k=O>0?"end":"start",N=O>0?"start":"end",j=u>=0?1:-1,M=j*r,D=j>0?"end":"start",T=j>0?"start":"end",E=i;if(n==="top"){var _={x:d+u/2,y:l-C,horizontalAnchor:"middle",verticalAnchor:k};return E&&(_.height=Math.max(l-E.y,0),_.width=u),_}if(n==="bottom"){var R={x:m+h/2,y:l+o+C,horizontalAnchor:"middle",verticalAnchor:N};return E&&(R.height=Math.max(E.y+E.height-(l+o),0),R.width=h),R}if(n==="left"){var H={x:y-M,y:l+o/2,horizontalAnchor:D,verticalAnchor:"middle"};return E&&(H.width=Math.max(H.x-E.x,0),H.height=o),H}if(n==="right"){var B={x:y+v+M,y:l+o/2,horizontalAnchor:T,verticalAnchor:"middle"};return E&&(B.width=Math.max(E.x+E.width-B.x,0),B.height=o),B}var z=E?{width:v,height:o}:{};return n==="insideLeft"?yi({x:y+M,y:l+o/2,horizontalAnchor:T,verticalAnchor:"middle"},z):n==="insideRight"?yi({x:y+v-M,y:l+o/2,horizontalAnchor:D,verticalAnchor:"middle"},z):n==="insideTop"?yi({x:d+u/2,y:l+C,horizontalAnchor:"middle",verticalAnchor:N},z):n==="insideBottom"?yi({x:m+h/2,y:l+o-C,horizontalAnchor:"middle",verticalAnchor:k},z):n==="insideTopLeft"?yi({x:d+M,y:l+C,horizontalAnchor:T,verticalAnchor:N},z):n==="insideTopRight"?yi({x:d+u-M,y:l+C,horizontalAnchor:D,verticalAnchor:N},z):n==="insideBottomLeft"?yi({x:m+M,y:l+o-C,horizontalAnchor:T,verticalAnchor:k},z):n==="insideBottomRight"?yi({x:m+h-M,y:l+o-C,horizontalAnchor:D,verticalAnchor:k},z):n&&typeof n=="object"&&(Ce(n.x)||jl(n.x))&&(Ce(n.y)||jl(n.y))?yi({x:a+js(n.x,v),y:l+js(n.y,o),horizontalAnchor:"end",verticalAnchor:"end"},z):yi({x:b,y:l+o/2,horizontalAnchor:"middle",verticalAnchor:"middle"},z)},Yoe=["labelRef"],Qoe=["content"];function e5(t,e){if(t==null)return{};var n,r,i=Xoe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function t5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t5(Object(n),!0).forEach(function(r){Zoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zoe(t,e,n){return(e=Joe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Joe(t){var e=ece(t,"string");return typeof e=="symbol"?e:e+""}function ece(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sa(){return sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sa.apply(null,arguments)}var _B=S.createContext(null),tce=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:l,children:o}=t,u=S.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:l}),[e,n,r,i,a,l]);return S.createElement(_B.Provider,{value:u},o)},RB=()=>{var t=S.useContext(_B),e=Yg();return t||(e?v2(e):void 0)},nce=S.createContext(null),rce=()=>{var t=S.useContext(nce),e=je(h6);return t||e},ice=t=>{var{value:e,formatter:n}=t,r=xn(t.children)?e:t.children;return typeof n=="function"?n(r):r},kC=t=>t!=null&&typeof t=="function",ace=(t,e)=>{var n=zr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},sce=(t,e,n,r,i)=>{var{offset:a,className:l}=t,{cx:o,cy:u,innerRadius:h,outerRadius:d,startAngle:m,endAngle:y,clockWise:v}=i,b=(h+d)/2,O=ace(m,y),C=O>=0?1:-1,k,N;switch(e){case"insideStart":k=m+C*a,N=v;break;case"insideEnd":k=y-C*a,N=!v;break;case"end":k=y+C*a,N=v;break;default:throw new Error("Unsupported position ".concat(e))}N=O<=0?N:!N;var j=gn(o,u,b,k),M=gn(o,u,b,k+(N?1:-1)*359),D="M".concat(j.x,",").concat(j.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(N?0:1,`,
    `).concat(M.x,",").concat(M.y),T=xn(t.id)?bf("recharts-radial-line-"):t.id;return S.createElement("text",sa({},r,{dominantBaseline:"central",className:rt("recharts-radial-bar-label",l)}),S.createElement("defs",null,S.createElement("path",{id:T,d:D})),S.createElement("textPath",{xlinkHref:"#".concat(T)},n))},lce=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:o,endAngle:u}=t,h=(o+u)/2;if(n==="outside"){var{x:d,y:m}=gn(r,i,l+e,h);return{x:d,y:m,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+l)/2,{x:v,y:b}=gn(r,i,y,h);return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},Pm=t=>t!=null&&"cx"in t&&Ce(t.cx),oce={angle:0,offset:5,zIndex:Dn.label,position:"middle",textBreakAll:!1};function cce(t){if(!Pm(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function as(t){var e=An(t,oce),{viewBox:n,parentViewBox:r,position:i,value:a,children:l,content:o,className:u="",textBreakAll:h,labelRef:d}=e,m=rce(),y=RB(),v=i==="center"?y:m??y,b,O,C;n==null?b=v:Pm(n)?b=n:b=v2(n);var k=cce(b);if(!b||xn(a)&&xn(l)&&!S.isValidElement(o)&&typeof o!="function")return null;var N=qu(qu({},e),{},{viewBox:b});if(S.isValidElement(o)){var{labelRef:j}=N,M=e5(N,Yoe);return S.cloneElement(o,M)}if(typeof o=="function"){var{content:D}=N,T=e5(N,Qoe);if(O=S.createElement(o,T),S.isValidElement(O))return O}else O=ice(e);var E=_n(e);if(Pm(b)){if(i==="insideStart"||i==="insideEnd"||i==="end")return sce(e,i,O,E,b);C=lce(b,e.offset,e.position)}else{if(!k)return null;var _=Goe({viewBox:k,position:i,offset:e.offset,parentViewBox:Pm(r)?void 0:r});C=qu(qu({x:_.x,y:_.y,textAnchor:_.horizontalAnchor,verticalAnchor:_.verticalAnchor},_.width!==void 0?{width:_.width}:{}),_.height!==void 0?{height:_.height}:{})}return S.createElement(Ta,{zIndex:e.zIndex},S.createElement(OC,sa({ref:d,className:rt("recharts-label",u)},E,C,{textAnchor:Uoe(E.textAnchor)?E.textAnchor:C.textAnchor,breakAll:h}),O))}as.displayName="Label";var uce=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?S.createElement(as,sa({key:"label-implicit"},r)):Mi(t)?S.createElement(as,sa({key:"label-implicit",value:t},r)):S.isValidElement(t)?t.type===as?S.cloneElement(t,qu({key:"label-implicit"},r)):S.createElement(as,sa({key:"label-implicit",content:t},r)):kC(t)?S.createElement(as,sa({key:"label-implicit",content:t},r)):t&&typeof t=="object"?S.createElement(as,sa({},t,{key:"label-implicit"},r)):null};function fce(t){var{label:e,labelRef:n}=t,r=RB();return uce(e,r,n)||null}var Hb={},qb={},n5;function hce(){return n5||(n5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(qb)),qb}var $b={},r5;function dce(){return r5||(r5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})($b)),$b}var i5;function mce(){return i5||(i5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hce(),n=dce(),r=o2();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(Hb)),Hb}var Vb,a5;function pce(){return a5||(a5=1,Vb=mce().last),Vb}var gce=pce();const yce=_i(gce);var vce=["valueAccessor"],xce=["dataKey","clockWise","id","textBreakAll","zIndex"];function ng(){return ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ng.apply(null,arguments)}function s5(t,e){if(t==null)return{};var n,r,i=bce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wce=t=>Array.isArray(t.value)?yce(t.value):t.value,LB=S.createContext(void 0),Sce=LB.Provider,BB=S.createContext(void 0);BB.Provider;function Cce(){return S.useContext(LB)}function Oce(){return S.useContext(BB)}function _m(t){var{valueAccessor:e=wce}=t,n=s5(t,vce),{dataKey:r,clockWise:i,id:a,textBreakAll:l,zIndex:o}=n,u=s5(n,xce),h=Cce(),d=Oce(),m=h||d;return!m||!m.length?null:S.createElement(Ta,{zIndex:o??Dn.label},S.createElement(ks,{className:"recharts-label-list"},m.map((y,v)=>{var b,O=xn(r)?e(y,v):vn(y.payload,r),C=xn(a)?{}:{id:"".concat(a,"-").concat(v)};return S.createElement(as,ng({key:"label-".concat(v)},_n(y),u,C,{fill:(b=n.fill)!==null&&b!==void 0?b:y.fill,parentViewBox:y.parentViewBox,value:O,textBreakAll:l,viewBox:y.viewBox,index:v,zIndex:0}))})))}_m.displayName="LabelList";function kce(t){var{label:e}=t;return e?e===!0?S.createElement(_m,{key:"labelList-implicit"}):S.isValidElement(e)||kC(e)?S.createElement(_m,{key:"labelList-implicit",content:e}):typeof e=="object"?S.createElement(_m,ng({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(null,arguments)}var zB=t=>{var{cx:e,cy:n,r,className:i}=t,a=rt("recharts-dot",i);return Ce(e)&&Ce(n)&&Ce(r)?S.createElement("circle",Zw({},Ti(t),l2(t),{className:a,cx:e,cy:n,r})):null},jce={radiusAxis:{},angleAxis:{}},IB=Jn({name:"polarAxis",initialState:jce,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:npe,removeRadiusAxis:rpe,addAngleAxis:ipe,removeAngleAxis:ape}=IB.actions,Ace=IB.reducer;function Nce(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var UB=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Fb={},l5;function Ece(){return l5||(l5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(Fb)),Fb}var Wb,o5;function Tce(){return o5||(o5=1,Wb=Ece().isPlainObject),Wb}var Mce=Tce();const Dce=_i(Mce);var c5,u5,f5,h5,d5;function m5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m5(Object(n),!0).forEach(function(r){Pce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pce(t,e,n){return(e=_ce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ce(t){var e=Rce(t,"string");return typeof e=="symbol"?e:e+""}function Rce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rg(){return rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rg.apply(null,arguments)}function Pu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var g5=(t,e,n,r,i)=>{var a=n-r,l;return l=Ot(c5||(c5=Pu(["M ",",",""])),t,e),l+=Ot(u5||(u5=Pu(["L ",",",""])),t+n,e),l+=Ot(f5||(f5=Pu(["L ",",",""])),t+n-a/2,e+i),l+=Ot(h5||(h5=Pu(["L ",",",""])),t+n-a/2-r,e+i),l+=Ot(d5||(d5=Pu(["L ",","," Z"])),t,e),l},Lce={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bce=t=>{var e=An(t,Lce),{x:n,y:r,upperWidth:i,lowerWidth:a,height:l,className:o}=e,{animationEasing:u,animationDuration:h,animationBegin:d,isUpdateAnimationActive:m}=e,y=S.useRef(null),[v,b]=S.useState(-1),O=S.useRef(i),C=S.useRef(a),k=S.useRef(l),N=S.useRef(n),j=S.useRef(r),M=k2(t,"trapezoid-");if(S.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var ne=y.current.getTotalLength();ne&&b(ne)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var D=rt("recharts-trapezoid",o);if(!m)return S.createElement("g",null,S.createElement("path",rg({},_n(e),{className:D,d:g5(n,r,i,a,l)})));var T=O.current,E=C.current,_=k.current,R=N.current,H=j.current,B="0px ".concat(v===-1?1:v,"px"),z="".concat(v,"px 0px"),ie=l8(["strokeDasharray"],h,u);return S.createElement(O2,{animationId:M,key:M,canBegin:v>0,duration:h,easing:u,isActive:m,begin:d},ne=>{var I=Kn(T,i,ne),q=Kn(E,a,ne),V=Kn(_,l,ne),te=Kn(R,n,ne),W=Kn(H,r,ne);y.current&&(O.current=I,C.current=q,k.current=V,N.current=te,j.current=W);var ce=ne>0?{transition:ie,strokeDasharray:z}:{strokeDasharray:B};return S.createElement("path",rg({},_n(e),{className:D,d:g5(te,W,I,q,V),ref:y,style:p5(p5({},ce),e.style)}))})},zce=["option","shapeType","activeClassName"];function Ice(t,e){if(t==null)return{};var n,r,i=Uce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Uce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function y5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ig(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y5(Object(n),!0).forEach(function(r){Hce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hce(t,e,n){return(e=qce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qce(t){var e=$ce(t,"string");return typeof e=="symbol"?e:e+""}function $ce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vce(t,e){return ig(ig({},e),t)}function Fce(t,e){return t==="symbols"}function v5(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return S.createElement(f8,n);case"trapezoid":return S.createElement(Bce,n);case"sector":return S.createElement(m8,n);case"symbols":if(Fce(e))return S.createElement(s2,n);break;case"curve":return S.createElement(s8,n);default:return null}}function Wce(t){return S.isValidElement(t)?t.props:t}function Kce(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=Ice(t,zce),a;if(S.isValidElement(e))a=S.cloneElement(e,ig(ig({},i),Wce(e)));else if(typeof e=="function")a=e(i,i.index);else if(Dce(e)&&typeof e!="boolean"){var l=Vce(e,i);a=S.createElement(v5,{shapeType:n,elementProps:l})}else{var o=i;a=S.createElement(v5,{shapeType:n,elementProps:o})}return i.isActive?S.createElement(ks,{className:r},a):a}function Gce(t){var{tooltipEntrySettings:e}=t,n=Bt(),r=er(),i=S.useRef(null);return S.useLayoutEffect(()=>{r||(i.current===null?n(ase(e)):i.current!==e&&n(sse({prev:i.current,next:e})),i.current=e)},[e,n,r]),S.useLayoutEffect(()=>()=>{i.current&&(n(lse(i.current)),i.current=null)},[n]),null}function Yce(t){var{legendPayload:e}=t,n=Bt(),r=er(),i=S.useRef(null);return S.useLayoutEffect(()=>{r||(i.current===null?n(Oee(e)):i.current!==e&&n(kee({prev:i.current,next:e})),i.current=e)},[n,r,e]),S.useLayoutEffect(()=>()=>{i.current&&(n(jee(i.current)),i.current=null)},[n]),null}var Kb,Qce=()=>{var[t]=S.useState(()=>bf("uid-"));return t},Xce=(Kb=tP.useId)!==null&&Kb!==void 0?Kb:Qce;function Zce(t,e){var n=Xce();return e||(t?"".concat(t,"-").concat(n):n)}var Jce=S.createContext(void 0),eue=t=>{var{id:e,type:n,children:r}=t,i=Zce("recharts-".concat(n),e);return S.createElement(Jce.Provider,{value:i},r(i))},tue={cartesianItems:[],polarItems:[]},HB=Jn({name:"graphicalItems",initialState:tue,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:pt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ni(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:pt()},removeCartesianGraphicalItem:{reducer(t,e){var n=ni(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:pt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:pt()},removePolarGraphicalItem:{reducer(t,e){var n=ni(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:pt()}}}),{addCartesianGraphicalItem:nue,replaceCartesianGraphicalItem:rue,removeCartesianGraphicalItem:iue,addPolarGraphicalItem:spe,removePolarGraphicalItem:lpe}=HB.actions,aue=HB.reducer,sue=t=>{var e=Bt(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?e(nue(t)):n.current!==t&&e(rue({prev:n.current,next:t})),n.current=t},[e,t]),S.useLayoutEffect(()=>()=>{n.current&&(e(iue(n.current)),n.current=null)},[e]),null},lue=S.memo(sue),oue=["points"];function x5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x5(Object(n),!0).forEach(function(r){cue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cue(t,e,n){return(e=uue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uue(t){var e=fue(t,"string");return typeof e=="symbol"?e:e+""}function fue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ag(){return ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ag.apply(null,arguments)}function hue(t,e){if(t==null)return{};var n,r,i=due(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function due(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mue(t){var{option:e,dotProps:n,className:r}=t;if(S.isValidElement(e))return S.cloneElement(e,n);if(typeof e=="function")return e(n);var i=rt(r,typeof e!="boolean"?e.className:""),a=n??{},{points:l}=a,o=hue(a,oue);return S.createElement(zB,ag({},o,{className:i}))}function pue(t,e){return t==null?!1:e?!0:t.length===1}function gue(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:l,needClip:o,clipPathId:u,zIndex:h=Dn.scatter}=t;if(!pue(e,n))return null;var d=UB(n),m=oQ(n),y=e.map((b,O)=>{var C,k,N=Gb(Gb(Gb({r:3},l),m),{},{index:O,cx:(C=b.x)!==null&&C!==void 0?C:void 0,cy:(k=b.y)!==null&&k!==void 0?k:void 0,dataKey:a,value:b.value,payload:b.payload,points:e});return S.createElement(mue,{key:"dot-".concat(O),option:n,dotProps:N,className:i})}),v={};return o&&u!=null&&(v.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(u,")")),S.createElement(Ta,{zIndex:h},S.createElement(ks,ag({className:r},v),y))}function b5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b5(Object(n),!0).forEach(function(r){yue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yue(t,e,n){return(e=vue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vue(t){var e=xue(t,"string");return typeof e=="symbol"?e:e+""}function xue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bue={xAxis:{},yAxis:{},zAxis:{}},qB=Jn({name:"cartesianAxis",initialState:bue,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:pt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:pt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:pt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:pt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:pt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:pt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:pt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:pt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:pt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a,l=i.widthHistory||[];if(l.length===3&&l[0]===l[2]&&r===l[1]&&r!==i.width&&Math.abs(r-((a=l[0])!==null&&a!==void 0?a:0))<=1)return;var o=[...l,r].slice(-3);t.yAxis[n]=w5(w5({},i),{},{width:r,widthHistory:o})}}}}),{addXAxis:wue,replaceXAxis:Sue,removeXAxis:Cue,addYAxis:Oue,replaceYAxis:kue,removeYAxis:jue,addZAxis:ope,replaceZAxis:cpe,removeZAxis:upe,updateYAxisWidth:Aue}=qB.actions,Nue=qB.reducer,Eue=ee([wn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Tue=ee([Eue,Oa,ka],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),jC=()=>je(Tue),Mue=()=>je(Jse);function S5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S5(Object(n),!0).forEach(function(r){Due(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Due(t,e,n){return(e=Pue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pue(t){var e=_ue(t,"string");return typeof e=="symbol"?e:e+""}function _ue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rue=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:l}=t;if(i===!1||e.x==null||e.y==null)return null;var o={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=Yb(Yb(Yb({},o),Tg(i)),l2(i)),h;return S.isValidElement(i)?h=S.cloneElement(i,u):typeof i=="function"?h=i(u):h=S.createElement(zB,u),S.createElement(ks,{className:"recharts-active-dot",clipPath:l},h)};function Lue(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:l=Dn.activeDot}=t,o=je(Pf),u=Mue();if(e==null||u==null)return null;var h=e.find(d=>u.includes(d.payload));return xn(h)?null:S.createElement(Ta,{zIndex:l},S.createElement(Rue,{point:h,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var Bue=t=>{var{chartData:e}=t,n=Bt(),r=er();return S.useEffect(()=>r?()=>{}:(n(z4(e)),()=>{n(z4(void 0))}),[e,n,r]),null},C5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},$B=Jn({name:"brush",initialState:C5,reducers:{setBrushSettings(t,e){return e.payload==null?C5:e.payload}}}),{setBrushSettings:fpe}=$B.actions,zue=$B.reducer;function Iue(t){return(t%180+180)%180}var Uue=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Iue(i),l=a*Math.PI/180,o=Math.atan(r/n),u=l>o&&l<Math.PI-o?r/Math.sin(l):n/Math.cos(l);return Math.abs(u)},Hue={dots:[],areas:[],lines:[]},VB=Jn({name:"referenceElements",initialState:Hue,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ni(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ni(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ni(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:hpe,removeDot:dpe,addArea:mpe,removeArea:ppe,addLine:gpe,removeLine:ype}=VB.actions,que=VB.reducer,$ue=S.createContext(void 0),Vue=t=>{var{children:e}=t,[n]=S.useState("".concat(bf("recharts"),"-clip")),r=jC();if(r==null)return null;var{x:i,y:a,width:l,height:o}=r;return S.createElement($ue.Provider,{value:n},S.createElement("defs",null,S.createElement("clipPath",{id:n},S.createElement("rect",{x:i,y:a,height:o,width:l}))),e)};function FB(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Fue(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Uue(r,n)}function Wue(t,e,n){var r=n==="width",{x:i,y:a,width:l,height:o}=t;return e===1?{start:r?i:a,end:r?i+l:a+o}:{start:r?i+l:a+o,end:r?i:a}}function Rf(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Kue(t,e){return FB(t,e+1)}function Gue(t,e,n,r,i){for(var a=(r||[]).slice(),{start:l,end:o}=e,u=0,h=1,d=l,m=function(){var b=r?.[u];if(b===void 0)return{v:FB(r,h)};var O=u,C,k=()=>(C===void 0&&(C=n(b,O)),C),N=b.coordinate,j=u===0||Rf(t,N,k,d,o);j||(u=0,d=l,h+=1),j&&(d=N+t*(k()/2+i),u+=h)},y;h<=a.length;)if(y=m(),y)return y.v;return[]}function Yue(t,e,n,r,i){var a=(r||[]).slice(),l=a.length;if(l===0)return[];for(var{start:o,end:u}=e,h=1;h<=l;h++){for(var d=(l-1)%h,m=o,y=!0,v=function(){var M=r[O];if(M==null)return 0;var D=O,T,E=()=>(T===void 0&&(T=n(M,D)),T),_=M.coordinate,R=O===d||Rf(t,_,E,m,u);if(!R)return y=!1,1;R&&(m=_+t*(E()/2+i))},b,O=d;O<l&&(b=v(),!(b!==0&&b===1));O+=h);if(y){for(var C=[],k=d;k<l;k+=h){var N=r[k];N!=null&&C.push(N)}return C}}return[]}function O5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O5(Object(n),!0).forEach(function(r){Que(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Que(t,e,n){return(e=Xue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xue(t){var e=Zue(t,"string");return typeof e=="symbol"?e:e+""}function Zue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jue(t,e,n,r,i){for(var a=(r||[]).slice(),l=a.length,{start:o}=e,{end:u}=e,h=function(y){var v=a[y];if(v==null)return 1;var b=v,O,C=()=>(O===void 0&&(O=n(v,y)),O);if(y===l-1){var k=t*(b.coordinate+t*C()/2-u);a[y]=b=Cn(Cn({},b),{},{tickCoord:k>0?b.coordinate-k*t:b.coordinate})}else a[y]=b=Cn(Cn({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var N=Rf(t,b.tickCoord,C,o,u);N&&(u=b.tickCoord-t*(C()/2+i),a[y]=Cn(Cn({},b),{},{isShow:!0}))}},d=l-1;d>=0;d--)h(d);return a}function efe(t,e,n,r,i,a){var l=(r||[]).slice(),o=l.length,{start:u,end:h}=e;if(a){var d=r[o-1];if(d!=null){var m=n(d,o-1),y=t*(d.coordinate+t*m/2-h);if(l[o-1]=d=Cn(Cn({},d),{},{tickCoord:y>0?d.coordinate-y*t:d.coordinate}),d.tickCoord!=null){var v=Rf(t,d.tickCoord,()=>m,u,h);v&&(h=d.tickCoord-t*(m/2+i),l[o-1]=Cn(Cn({},d),{},{isShow:!0}))}}}for(var b=a?o-1:o,O=function(N){var j=l[N];if(j==null)return 1;var M=j,D,T=()=>(D===void 0&&(D=n(j,N)),D);if(N===0){var E=t*(M.coordinate-t*T()/2-u);l[N]=M=Cn(Cn({},M),{},{tickCoord:E<0?M.coordinate-E*t:M.coordinate})}else l[N]=M=Cn(Cn({},M),{},{tickCoord:M.coordinate});if(M.tickCoord!=null){var _=Rf(t,M.tickCoord,T,u,h);_&&(u=M.tickCoord+t*(T()/2+i),l[N]=Cn(Cn({},M),{},{isShow:!0}))}},C=0;C<b;C++)O(C);return l}function AC(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:l,orientation:o,interval:u,tickFormatter:h,unit:d,angle:m}=t;if(!i||!i.length||!r)return[];if(Ce(u)||Jg.isSsr){var y;return(y=Kue(i,Ce(u)?u:0))!==null&&y!==void 0?y:[]}var v=[],b=o==="top"||o==="bottom"?"width":"height",O=d&&b==="width"?Xu(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},C=(D,T)=>{var E=typeof h=="function"?h(D.value,T):D.value;return b==="width"?Fue(Xu(E,{fontSize:e,letterSpacing:n}),O,m):Xu(E,{fontSize:e,letterSpacing:n})[b]},k=i[0],N=i[1],j=i.length>=2&&k!=null&&N!=null?zr(N.coordinate-k.coordinate):1,M=Wue(a,j,b);return u==="equidistantPreserveStart"?Gue(j,M,C,i,l):u==="equidistantPreserveEnd"?Yue(j,M,C,i,l):(u==="preserveStart"||u==="preserveStartEnd"?v=efe(j,M,C,i,l,u==="preserveStartEnd"):v=Jue(j,M,C,i,l),v.filter(D=>D.isShow))}var tfe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,l=0;if(e){Array.from(e).forEach(d=>{if(d){var m=d.getBoundingClientRect();m.width>l&&(l=m.width)}});var o=n?n.getBoundingClientRect().width:0,u=i+a,h=l+u+o+(n?r:0);return Math.round(h)}return 0},nfe=["axisLine","width","height","className","hide","ticks","axisType"];function rfe(t,e){if(t==null)return{};var n,r,i=ife(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ife(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ml.apply(null,arguments)}function k5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k5(Object(n),!0).forEach(function(r){afe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function afe(t,e,n){return(e=sfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sfe(t){var e=lfe(t,"string");return typeof e=="symbol"?e:e+""}function lfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ua={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Dn.axis};function ofe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:l,axisLine:o,otherSvgProps:u}=t;if(!o)return null;var h=Ct(Ct(Ct({},u),Ti(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!l||a==="bottom"&&l);h=Ct(Ct({},h),{},{x1:e,y1:n+d*i,x2:e+r,y2:n+d*i})}else{var m=+(a==="left"&&!l||a==="right"&&l);h=Ct(Ct({},h),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return S.createElement("line",Ml({},h,{className:rt("recharts-cartesian-axis-line",_g(o,"className"))}))}function cfe(t,e,n,r,i,a,l,o,u){var h,d,m,y,v,b,O=o?-1:1,C=t.tickSize||l,k=Ce(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":h=d=t.coordinate,y=n+ +!o*i,m=y-O*C,b=m-O*u,v=k;break;case"left":m=y=t.coordinate,d=e+ +!o*r,h=d-O*C,v=h-O*u,b=k;break;case"right":m=y=t.coordinate,d=e+ +o*r,h=d+O*C,v=h+O*u,b=k;break;default:h=d=t.coordinate,y=n+ +o*i,m=y+O*C,b=m+O*u,v=k;break}return{line:{x1:h,y1:m,x2:d,y2:y},tick:{x:v,y:b}}}function ufe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function ffe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function hfe(t){var{option:e,tickProps:n,value:r}=t,i,a=rt(n.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(e))i=S.cloneElement(e,Ct(Ct({},n),{},{className:a}));else if(typeof e=="function")i=e(Ct(Ct({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=rt(l,Nce(e))),i=S.createElement(OC,Ml({},n,{className:l}),r)}return i}var dfe=S.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:l,unit:o,padding:u,tickTextProps:h,orientation:d,mirror:m,x:y,y:v,width:b,height:O,tickSize:C,tickMargin:k,fontSize:N,letterSpacing:j,getTicksConfig:M,events:D,axisType:T}=t,E=AC(Ct(Ct({},M),{},{ticks:n}),N,j),_=ufe(d,m),R=ffe(d,m),H=Ti(M),B=Tg(r),z={};typeof i=="object"&&(z=i);var ie=Ct(Ct({},H),{},{fill:"none"},z),ne=E.map(V=>Ct({entry:V},cfe(V,y,v,b,O,d,C,m,k))),I=ne.map(V=>{var{entry:te,line:W}=V;return S.createElement(ks,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(te.value,"-").concat(te.coordinate,"-").concat(te.tickCoord)},i&&S.createElement("line",Ml({},ie,W,{className:rt("recharts-cartesian-axis-tick-line",_g(i,"className"))})))}),q=ne.map((V,te)=>{var W,ce,{entry:L,tick:Y}=V,ue=Ct(Ct(Ct(Ct({verticalAnchor:R},H),{},{textAnchor:_,stroke:"none",fill:a},Y),{},{index:te,payload:L,visibleTicksCount:E.length,tickFormatter:l,padding:u},h),{},{angle:(W=(ce=h?.angle)!==null&&ce!==void 0?ce:H.angle)!==null&&W!==void 0?W:0}),X=Ct(Ct({},ue),B);return S.createElement(ks,Ml({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},QR(D,L,te)),r&&S.createElement(hfe,{option:r,tickProps:X,value:"".concat(typeof l=="function"?l(L.value,te):L.value).concat(o||"")}))});return S.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(T,"-ticks")},q.length>0&&S.createElement(Ta,{zIndex:Dn.label},S.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(T,"-tick-labels"),ref:e},q)),I.length>0&&S.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(T,"-tick-lines")},I))}),mfe=S.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:l,ticks:o,axisType:u}=t,h=rfe(t,nfe),[d,m]=S.useState(""),[y,v]=S.useState(""),b=S.useRef(null);S.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var C;return tfe({ticks:b.current,label:(C=t.labelRef)===null||C===void 0?void 0:C.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var O=S.useCallback(C=>{if(C){var k=C.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=k;var N=k[0];if(N){var j=window.getComputedStyle(N),M=j.fontSize,D=j.letterSpacing;(M!==d||D!==y)&&(m(M),v(D))}}},[d,y]);return l||r!=null&&r<=0||i!=null&&i<=0?null:S.createElement(Ta,{zIndex:t.zIndex},S.createElement(ks,{className:rt("recharts-cartesian-axis",a)},S.createElement(ofe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Ti(t)}),S.createElement(dfe,{ref:O,axisType:u,events:h,fontSize:d,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),S.createElement(tce,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},S.createElement(fce,{label:t.label,labelRef:t.labelRef}),t.children)))}),NC=S.forwardRef((t,e)=>{var n=An(t,ua);return S.createElement(mfe,Ml({},n,{ref:e}))});NC.displayName="CartesianAxis";var pfe=["x1","y1","x2","y2","key"],gfe=["offset"],yfe=["xAxisId","yAxisId"],vfe=["xAxisId","yAxisId"];function j5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j5(Object(n),!0).forEach(function(r){xfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xfe(t,e,n){return(e=bfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bfe(t){var e=wfe(t,"string");return typeof e=="symbol"?e:e+""}function wfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pl(){return pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pl.apply(null,arguments)}function sg(t,e){if(t==null)return{};var n,r,i=Sfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Cfe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:l,ry:o}=t;return S.createElement("rect",{x:r,y:i,ry:o,width:a,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function WB(t){var{option:e,lineItemProps:n}=t,r;if(S.isValidElement(e))r=S.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:l,x2:o,y2:u,key:h}=n,d=sg(n,pfe),m=(i=Ti(d))!==null&&i!==void 0?i:{},{offset:y}=m,v=sg(m,gfe);r=S.createElement("line",pl({},v,{x1:a,y1:l,x2:o,y2:u,fill:"none",key:h}))}return r}function Ofe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,o=sg(t,yfe),u=i.map((h,d)=>{var m=kn(kn({},o),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(d),index:d});return S.createElement(WB,{key:"line-".concat(d),option:r,lineItemProps:m})});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function kfe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,o=sg(t,vfe),u=i.map((h,d)=>{var m=kn(kn({},o),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(d),index:d});return S.createElement(WB,{option:r,lineItemProps:m,key:"line-".concat(d)})});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function jfe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:l,horizontalPoints:o,horizontal:u=!0}=t;if(!u||!e||!e.length||o==null)return null;var h=o.map(m=>Math.round(m+i-i)).sort((m,y)=>m-y);i!==h[0]&&h.unshift(0);var d=h.map((m,y)=>{var v=h[y+1],b=v==null,O=b?i+l-m:v-m;if(O<=0)return null;var C=y%e.length;return S.createElement("rect",{key:"react-".concat(y),y:m,x:r,height:O,width:a,stroke:"none",fill:e[C],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Afe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:l,height:o,verticalPoints:u}=t;if(!e||!n||!n.length)return null;var h=u.map(m=>Math.round(m+i-i)).sort((m,y)=>m-y);i!==h[0]&&h.unshift(0);var d=h.map((m,y)=>{var v=h[y+1],b=v==null,O=b?i+l-m:v-m;if(O<=0)return null;var C=y%n.length;return S.createElement("rect",{key:"react-".concat(y),x:m,y:a,width:O,height:o,stroke:"none",fill:n[C],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Nfe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return HL(AC(kn(kn(kn({},ua),n),{},{ticks:qL(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},Efe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return HL(AC(kn(kn(kn({},ua),n),{},{ticks:qL(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},Tfe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Dn.grid};function Lf(t){var e=x2(),n=b2(),r=YL(),i=kn(kn({},An(t,Tfe)),{},{x:Ce(t.x)?t.x:r.left,y:Ce(t.y)?t.y:r.top,width:Ce(t.width)?t.width:r.width,height:Ce(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:l,x:o,y:u,width:h,height:d,syncWithTicks:m,horizontalValues:y,verticalValues:v}=i,b=er(),O=je(R=>j4(R,"xAxis",a,b)),C=je(R=>j4(R,"yAxis",l,b));if(!Di(h)||!Di(d)||!Ce(o)||!Ce(u))return null;var k=i.verticalCoordinatesGenerator||Nfe,N=i.horizontalCoordinatesGenerator||Efe,{horizontalPoints:j,verticalPoints:M}=i;if((!j||!j.length)&&typeof N=="function"){var D=y&&y.length,T=N({yAxis:C?kn(kn({},C),{},{ticks:D?y:C.ticks}):void 0,width:e??h,height:n??d,offset:r},D?!0:m);Tp(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(j=T)}if((!M||!M.length)&&typeof k=="function"){var E=v&&v.length,_=k({xAxis:O?kn(kn({},O),{},{ticks:E?v:O.ticks}):void 0,width:e??h,height:n??d,offset:r},E?!0:m);Tp(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(M=_)}return S.createElement(Ta,{zIndex:i.zIndex},S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(Cfe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),S.createElement(jfe,pl({},i,{horizontalPoints:j})),S.createElement(Afe,pl({},i,{verticalPoints:M})),S.createElement(Ofe,pl({},i,{offset:r,horizontalPoints:j,xAxis:O,yAxis:C})),S.createElement(kfe,pl({},i,{offset:r,verticalPoints:M,xAxis:O,yAxis:C}))))}Lf.displayName="CartesianGrid";var Mfe={},KB=Jn({name:"errorBars",initialState:Mfe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:vpe,replaceErrorBar:xpe,removeErrorBar:bpe}=KB.actions,Dfe=KB.reducer,Pfe=["children"];function _fe(t,e){if(t==null)return{};var n,r,i=Rfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Lfe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Bfe=S.createContext(Lfe);function zfe(t){var{children:e}=t,n=_fe(t,Pfe);return S.createElement(Bfe.Provider,{value:n},e)}function GB(t,e){var n,r,i=je(h=>Aa(h,t)),a=je(h=>Na(h,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Kt.allowDataOverflow,o=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Gt.allowDataOverflow,u=l||o;return{needClip:u,needClipX:l,needClipY:o}}function Ife(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=jC(),{needClipX:a,needClipY:l,needClip:o}=GB(e,n);if(!o||!i)return null;var{x:u,y:h,width:d,height:m}=i;return S.createElement("clipPath",{id:"clipPath-".concat(r)},S.createElement("rect",{x:a?u:u-d/2,y:l?h:h-m/2,width:a?d:d*2,height:l?m:m*2}))}var YB=(t,e,n,r)=>X6(t,"xAxis",e,r),QB=(t,e,n,r)=>Q6(t,"xAxis",e,r),XB=(t,e,n,r)=>X6(t,"yAxis",n,r),ZB=(t,e,n,r)=>Q6(t,"yAxis",n,r),Ufe=ee([xt,YB,XB,QB,ZB],(t,e,n,r,i)=>Ca(t,"xAxis")?Ep(e,r,!1):Ep(n,i,!1)),Hfe=(t,e,n,r,i)=>i;function qfe(t){return t.type==="line"}var $fe=ee([x6,Hfe],(t,e)=>t.filter(qfe).find(n=>n.id===e)),Vfe=ee([xt,YB,XB,QB,ZB,$fe,Ufe,Y2],(t,e,n,r,i,a,l,o)=>{var{chartData:u,dataStartIndex:h,dataEndIndex:d}=o;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:m,data:y}=a,v;if(y!=null&&y.length>0?v=y:v=u?.slice(h,d+1),v!=null)return Mhe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:l,displayedData:v})}});function Ffe(t){var e=Tg(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,l=Number(i),o=Number(a);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(o)||o<0)&&(o=r),{r:l,strokeWidth:o}}return{r:n,strokeWidth:r}}var Qb={exports:{}},Xb={};var A5;function Wfe(){if(A5)return Xb;A5=1;var t=ac();function e(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,o=t.useDebugValue;return Xb.useSyncExternalStoreWithSelector=function(u,h,d,m,y){var v=i(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=l(function(){function C(D){if(!k){if(k=!0,N=D,D=m(D),y!==void 0&&b.hasValue){var T=b.value;if(y(T,D))return j=T}return j=D}if(T=j,n(N,D))return T;var E=m(D);return y!==void 0&&y(T,E)?(N=D,T):(N=D,j=E)}var k=!1,N,j,M=d===void 0?null:d;return[function(){return C(h())},M===null?void 0:function(){return C(M())}]},[h,d,m,y]);var O=r(u,v[0],v[1]);return a(function(){b.hasValue=!0,b.value=O},[O]),o(O),O},Xb}var N5;function Kfe(){return N5||(N5=1,Qb.exports=Wfe()),Qb.exports}Kfe();function Gfe(t){t()}function Yfe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Gfe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var E5={notify(){},get:()=>[]};function Qfe(t,e){let n,r=E5,i=0,a=!1;function l(O){d();const C=r.subscribe(O);let k=!1;return()=>{k||(k=!0,C(),m())}}function o(){r.notify()}function u(){b.onStateChange&&b.onStateChange()}function h(){return a}function d(){i++,n||(n=t.subscribe(u),r=Yfe())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=E5)}function y(){a||(a=!0,d())}function v(){a&&(a=!1,m())}const b={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:h,trySubscribe:y,tryUnsubscribe:v,getListeners:()=>r};return b}var Xfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zfe=Xfe(),Jfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ehe=Jfe(),the=()=>Zfe||ehe?S.useLayoutEffect:S.useEffect,nhe=the();function T5(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function rhe(t,e){if(T5(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!T5(t[n[i]],e[n[i]]))return!1;return!0}var ihe=Symbol.for("react-redux-context"),ahe=typeof globalThis<"u"?globalThis:{};function she(){if(!S.createContext)return{};const t=ahe[ihe]??=new Map;let e=t.get(S.createContext);return e||(e=S.createContext(null),t.set(S.createContext,e)),e}var lhe=she();function ohe(t){const{children:e,context:n,serverState:r,store:i}=t,a=S.useMemo(()=>{const u=Qfe(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),l=S.useMemo(()=>i.getState(),[i]);nhe(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,l]);const o=n||lhe;return S.createElement(o.Provider,{value:a},e)}var che=ohe,uhe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function fhe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function EC(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(uhe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!rhe(t[r],e[r]))return!1}else if(!fhe(t[r],e[r]))return!1;return!0}var hhe=["id"],dhe=["type","layout","connectNulls","needClip","shape"],mhe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Bf(){return Bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bf.apply(null,arguments)}function M5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M5(Object(n),!0).forEach(function(r){phe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function phe(t,e,n){return(e=ghe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ghe(t){var e=yhe(t,"string");return typeof e=="symbol"?e:e+""}function yhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TC(t,e){if(t==null)return{};var n,r,i=vhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xhe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:$L(n,e),payload:t}]},bhe=S.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:o,unit:u,tooltipType:h,id:d}=t,m={dataDefinedOnItem:n,getPosition:hc,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:$L(l,e),hide:o,type:h,color:r,unit:u,graphicalItemId:d}};return S.createElement(Gce,{tooltipEntrySettings:m})}),JB=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function whe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var She=(t,e,n)=>{var r=n.reduce((v,b)=>v+b);if(!r)return JB(e,t);for(var i=Math.floor(t/r),a=t%r,l=e-t,o=[],u=0,h=0;u<n.length;h+=(d=n[u])!==null&&d!==void 0?d:0,++u){var d,m=n[u];if(m!=null&&h+m>a){o=[...n.slice(0,u),a-h];break}}var y=o.length%2===0?[0,l]:[l];return[...whe(n,i),...o,...y].map(v=>"".concat(v,"px")).join(", ")};function Che(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:l}=r,{id:o}=r,u=TC(r,hhe),h=Ti(u);return S.createElement(gue,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:h,needClip:l,clipPathId:e})}function Ohe(t){var{showLabels:e,children:n,points:r}=t,i=S.useMemo(()=>r?.map(a=>{var l,o,u={x:(l=a.x)!==null&&l!==void 0?l:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return xi(xi({},u),{},{value:a.value,payload:a.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return S.createElement(Sce,{value:e?i:void 0},n)}function D5(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:l,layout:o,connectNulls:u,needClip:h,shape:d}=a,m=TC(a,dhe),y=xi(xi({},_n(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:o,connectNulls:u,strokeDasharray:i??a.strokeDasharray});return S.createElement(S.Fragment,null,r?.length>1&&S.createElement(Kce,Bf({shapeType:"curve",option:d},y,{pathRef:n})),S.createElement(Che,{points:r,clipPathId:e,props:a}))}function khe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function jhe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:l,strokeDasharray:o,isAnimationActive:u,animationBegin:h,animationDuration:d,animationEasing:m,animateNewValues:y,width:v,height:b,onAnimationEnd:O,onAnimationStart:C}=n,k=i.current,N=k2(l,"recharts-line-"),j=S.useRef(N),[M,D]=S.useState(!1),T=!M,E=S.useCallback(()=>{typeof O=="function"&&O(),D(!1)},[O]),_=S.useCallback(()=>{typeof C=="function"&&C(),D(!0)},[C]),R=khe(r.current),H=S.useRef(0);j.current!==N&&(H.current=a.current,j.current=N);var B=H.current;return S.createElement(Ohe,{points:l,showLabels:T},n.children,S.createElement(O2,{animationId:N,begin:h,duration:d,isActive:u,easing:m,onAnimationEnd:E,onAnimationStart:_,key:N},z=>{var ie=Kn(B,R+B,z),ne=Math.min(ie,R),I;if(u)if(o){var q="".concat(o).split(/[,\s]+/gim).map(W=>parseFloat(W));I=She(ne,R,q)}else I=JB(R,ne);else I=o==null?void 0:String(o);if(z>0&&R>0&&(i.current=l,a.current=Math.max(a.current,ne)),k){var V=k.length/l.length,te=z===1?l:l.map((W,ce)=>{var L=Math.floor(ce*V);if(k[L]){var Y=k[L];return xi(xi({},W),{},{x:Kn(Y.x,W.x,z),y:Kn(Y.y,W.y,z)})}return y?xi(xi({},W),{},{x:Kn(v*2,W.x,z),y:Kn(b/2,W.y,z)}):xi(xi({},W),{},{x:W.x,y:W.y})});return i.current=te,S.createElement(D5,{props:n,points:te,clipPathId:e,pathRef:r,strokeDasharray:I})}return S.createElement(D5,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:I})}),S.createElement(kce,{label:n.label}))}function Ahe(t){var{clipPathId:e,props:n}=t,r=S.useRef(null),i=S.useRef(0),a=S.useRef(null);return S.createElement(jhe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Nhe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:vn(t.payload,e)}};class Ehe extends S.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:l,top:o,left:u,width:h,height:d,id:m,needClip:y,zIndex:v}=this.props;if(e)return null;var b=rt("recharts-line",i),O=m,{r:C,strokeWidth:k}=Ffe(n),N=UB(n),j=C*2+k,M=y?"url(#clipPath-".concat(N?"":"dots-").concat(O,")"):void 0;return S.createElement(Ta,{zIndex:v},S.createElement(ks,{className:b},y&&S.createElement("defs",null,S.createElement(Ife,{clipPathId:O,xAxisId:a,yAxisId:l}),!N&&S.createElement("clipPath",{id:"clipPath-dots-".concat(O)},S.createElement("rect",{x:u-j/2,y:o-j/2,width:h+j,height:d+j}))),S.createElement(zfe,{xAxisId:a,yAxisId:l,data:r,dataPointFormatter:Nhe,errorBarOffset:0},S.createElement(Ahe,{props:this.props,clipPathId:O}))),S.createElement(Lue,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:M}))}}var ez={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Dn.line,type:"linear"};function The(t){var e=An(t,ez),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:o,dot:u,hide:h,isAnimationActive:d,label:m,legendType:y,xAxisId:v,yAxisId:b,id:O}=e,C=TC(e,mhe),{needClip:k}=GB(v,b),N=jC(),j=dc(),M=er(),D=je(H=>Vfe(H,v,b,M,O));if(j!=="horizontal"&&j!=="vertical"||D==null||N==null)return null;var{height:T,width:E,x:_,y:R}=N;return S.createElement(Ehe,Bf({},C,{id:O,connectNulls:o,dot:u,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,isAnimationActive:d,hide:h,label:m,legendType:y,xAxisId:v,yAxisId:b,points:D,layout:j,height:T,width:E,left:_,top:R,needClip:k}))}function Mhe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:l,bandSize:o,displayedData:u}=t;return u.map((h,d)=>{var m=vn(h,l);if(e==="horizontal"){var y=kM({axis:n,ticks:i,bandSize:o,entry:h,index:d}),v=xn(m)?null:r.scale.map(m);return{x:y,y:v??null,value:m,payload:h}}var b=xn(m)?null:n.scale.map(m),O=kM({axis:r,ticks:a,bandSize:o,entry:h,index:d});return b==null||O==null?null:{x:b,y:O,value:m,payload:h}}).filter(Boolean)}function Dhe(t){var e=An(t,ez),n=er();return S.createElement(eue,{id:e.id,type:"line"},r=>S.createElement(S.Fragment,null,S.createElement(Yce,{legendPayload:xhe(e)}),S.createElement(bhe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),S.createElement(lue,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),S.createElement(The,Bf({},e,{id:r}))))}var zf=S.memo(Dhe,EC);zf.displayName="Line";var Phe=["domain","range"],_he=["domain","range"];function P5(t,e){if(t==null)return{};var n,r,i=Rhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _5(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function tz(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=P5(t,Phe),{domain:a,range:l}=e,o=P5(e,_he);return!_5(n,a)||!_5(r,l)?!1:EC(i,o)}var Lhe=["type"],Bhe=["dangerouslySetInnerHTML","ticks","scale"],zhe=["id","scale"];function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jw.apply(null,arguments)}function R5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R5(Object(n),!0).forEach(function(r){Ihe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ihe(t,e,n){return(e=Uhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uhe(t){var e=Hhe(t,"string");return typeof e=="symbol"?e:e+""}function Hhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eS(t,e){if(t==null)return{};var n,r,i=qhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $he(t){var e=Bt(),n=S.useRef(null),r=QL(),{type:i}=t,a=eS(t,Lhe),l=o0(r,"xAxis",i),o=S.useMemo(()=>{if(l!=null)return L5(L5({},a),{},{type:l})},[a,l]);return S.useLayoutEffect(()=>{o!=null&&(n.current===null?e(wue(o)):n.current!==o&&e(Sue({prev:n.current,next:o})),n.current=o)},[o,e]),S.useLayoutEffect(()=>()=>{n.current&&(e(Cue(n.current)),n.current=null)},[e]),null}var Vhe=t=>{var{xAxisId:e,className:n}=t,r=je(FL),i=er(),a="xAxis",l=je(k=>Y6(k,a,e,i)),o=je(k=>qae(k,e)),u=je(k=>Gae(k,e)),h=je(k=>p6(k,e));if(o==null||u==null||h==null)return null;var{dangerouslySetInnerHTML:d,ticks:m,scale:y}=t,v=eS(t,Bhe),{id:b,scale:O}=h,C=eS(h,zhe);return S.createElement(NC,Jw({},v,C,{x:u.x,y:u.y,width:o.width,height:o.height,className:rt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},Fhe={allowDataOverflow:Kt.allowDataOverflow,allowDecimals:Kt.allowDecimals,allowDuplicatedCategory:Kt.allowDuplicatedCategory,angle:Kt.angle,axisLine:ua.axisLine,height:Kt.height,hide:!1,includeHidden:Kt.includeHidden,interval:Kt.interval,label:!1,minTickGap:Kt.minTickGap,mirror:Kt.mirror,orientation:Kt.orientation,padding:Kt.padding,reversed:Kt.reversed,scale:Kt.scale,tick:Kt.tick,tickCount:Kt.tickCount,tickLine:ua.tickLine,tickSize:ua.tickSize,type:Kt.type,xAxisId:0},Whe=t=>{var e=An(t,Fhe);return S.createElement(S.Fragment,null,S.createElement($he,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),S.createElement(Vhe,e))},If=S.memo(Whe,tz);If.displayName="XAxis";var Khe=["type"],Ghe=["dangerouslySetInnerHTML","ticks","scale"],Yhe=["id","scale"];function tS(){return tS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tS.apply(null,arguments)}function B5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B5(Object(n),!0).forEach(function(r){Qhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qhe(t,e,n){return(e=Xhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xhe(t){var e=Zhe(t,"string");return typeof e=="symbol"?e:e+""}function Zhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nS(t,e){if(t==null)return{};var n,r,i=Jhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ede(t){var e=Bt(),n=S.useRef(null),r=QL(),{type:i}=t,a=nS(t,Khe),l=o0(r,"yAxis",i),o=S.useMemo(()=>{if(l!=null)return z5(z5({},a),{},{type:l})},[l,a]);return S.useLayoutEffect(()=>{o!=null&&(n.current===null?e(Oue(o)):n.current!==o&&e(kue({prev:n.current,next:o})),n.current=o)},[o,e]),S.useLayoutEffect(()=>()=>{n.current&&(e(jue(n.current)),n.current=null)},[e]),null}function tde(t){var{yAxisId:e,className:n,width:r,label:i}=t,a=S.useRef(null),l=S.useRef(null),o=je(FL),u=er(),h=Bt(),d="yAxis",m=je(T=>Xae(T,e)),y=je(T=>Qae(T,e)),v=je(T=>Y6(T,d,e,u)),b=je(T=>g6(T,e));if(S.useLayoutEffect(()=>{if(!(r!=="auto"||!m||kC(i)||S.isValidElement(i)||b==null)){var T=a.current;if(T){var E=T.getCalculatedWidth();Math.round(m.width)!==Math.round(E)&&h(Aue({id:e,width:E}))}}},[v,m,h,i,e,r,b]),m==null||y==null||b==null)return null;var{dangerouslySetInnerHTML:O,ticks:C,scale:k}=t,N=nS(t,Ghe),{id:j,scale:M}=b,D=nS(b,Yhe);return S.createElement(NC,tS({},N,D,{ref:a,labelRef:l,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:rt("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:v,axisType:d}))}var nde={allowDataOverflow:Gt.allowDataOverflow,allowDecimals:Gt.allowDecimals,allowDuplicatedCategory:Gt.allowDuplicatedCategory,angle:Gt.angle,axisLine:ua.axisLine,hide:!1,includeHidden:Gt.includeHidden,interval:Gt.interval,label:!1,minTickGap:Gt.minTickGap,mirror:Gt.mirror,orientation:Gt.orientation,padding:Gt.padding,reversed:Gt.reversed,scale:Gt.scale,tick:Gt.tick,tickCount:Gt.tickCount,tickLine:ua.tickLine,tickSize:ua.tickSize,type:Gt.type,width:Gt.width,yAxisId:0},rde=t=>{var e=An(t,nde);return S.createElement(S.Fragment,null,S.createElement(ede,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),S.createElement(tde,e))},Uf=S.memo(rde,tz);Uf.displayName="YAxis";var ide=(t,e)=>e,MC=ee([ide,xt,h6,nn,dB,Ea,hle,wn],xle),DC=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},nz=qr("mouseClick"),rz=Jf();rz.startListening({actionCreator:nz,effect:(t,e)=>{var n=t.payload,r=MC(e.getState(),DC(n));r?.activeIndex!=null&&e.dispatch(use({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var rS=qr("mouseMove"),iz=Jf(),gm=null;iz.startListening({actionCreator:rS,effect:(t,e)=>{var n=t.payload;gm!==null&&cancelAnimationFrame(gm);var r=DC(n);gm=requestAnimationFrame(()=>{var i=e.getState(),a=mC(i,i.tooltip.settings.shared);if(a==="axis"){var l=MC(i,r);l?.activeIndex!=null?e.dispatch(iB({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(rB())}gm=null})}});function ade(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var I5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},az=Jn({name:"rootProps",initialState:I5,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:I5.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),sde=az.reducer,{updateOptions:lde}=az.actions,ode=null,cde={updatePolarOptions:(t,e)=>e.payload},sz=Jn({name:"polarOptions",initialState:ode,reducers:cde}),{updatePolarOptions:wpe}=sz.actions,ude=sz.reducer,lz=qr("keyDown"),oz=qr("focus"),PC=Jf();PC.startListening({actionCreator:lz,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=pC(i,Sc(n),ch(n),fh(n)),o=l==null?-1:Number(l);if(!(!Number.isFinite(o)||o<0)){var u=Ea(n);if(a==="Enter"){var h=eg(n,"axis","hover",String(i.index));e.dispatch(Gw({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var d=tse(n),m=d==="left-to-right"?1:-1,y=a==="ArrowRight"?1:-1,v=o+y*m;if(!(u==null||v>=u.length||v<0)){var b=eg(n,"axis","hover",String(v));e.dispatch(Gw({active:!0,activeIndex:v.toString(),activeCoordinate:b}))}}}}}});PC.startListening({actionCreator:oz,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=eg(n,"axis","hover",String(a));e.dispatch(Gw({active:!0,activeIndex:a,activeCoordinate:l}))}}}});var Dr=qr("externalEvent"),cz=Jf(),Zb=new Map;cz.startListening({actionCreator:Dr,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=Zb.get(i);a!==void 0&&cancelAnimationFrame(a);var l=requestAnimationFrame(()=>{try{var o=e.getState(),u={activeCoordinate:Qse(o),activeDataKey:Gse(o),activeIndex:Pf(o),activeLabel:gB(o),activeTooltipIndex:Pf(o),isTooltipActive:Xse(o)};n(u,r)}finally{Zb.delete(i)}});Zb.set(i,l)}}});var fde=ee([bc],t=>t.tooltipItemPayloads),hde=ee([fde,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(a=>a.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),uz=qr("touchMove"),fz=Jf();fz.startListening({actionCreator:uz,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=mC(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var l=MC(r,DC({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch(iB({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var o,u=n.touches[0];if(document.elementFromPoint==null||u==null)return;var h=document.elementFromPoint(u.clientX,u.clientY);if(!h||!h.getAttribute)return;var d=h.getAttribute(PJ),m=(o=h.getAttribute(_J))!==null&&o!==void 0?o:void 0,y=wc(r).find(O=>O.id===m);if(d==null||y==null||m==null)return;var{dataKey:v}=y,b=hde(r,d,m);e.dispatch(cse({activeDataKey:v,activeIndex:d,activeCoordinate:b,activeGraphicalItemId:m}))}}}});var dde=hL({brush:zue,cartesianAxis:Nue,chartData:Xle,errorBars:Dfe,graphicalItems:aue,layout:vJ,legend:Aee,options:Wle,polarAxis:Ace,polarOptions:ude,referenceElements:que,rootProps:sde,tooltip:fse,zIndex:Ple}),mde=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return $Z({reducer:dde,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([rz.middleware,iz.middleware,PC.middleware,cz.middleware,fz.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(AL({type:"raf"}))},devTools:{serialize:{replacer:ade},name:"recharts-".concat(n)}})};function pde(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=er(),a=S.useRef(null);if(i)return n;a.current==null&&(a.current=mde(e,r));var l=u2;return S.createElement(che,{context:l,store:a.current},n)}function gde(t){var{layout:e,margin:n}=t,r=Bt(),i=er();return S.useEffect(()=>{i||(r(pJ(e)),r(mJ(n)))},[r,i,e,n]),null}var yde=S.memo(gde,EC);function vde(t){var e=Bt();return S.useEffect(()=>{e(lde(t))},[e,t]),null}function U5(t){var{zIndex:e,isPanorama:n}=t,r=S.useRef(null),i=Bt();return S.useLayoutEffect(()=>(r.current&&i(Mle({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Dle({zIndex:e,isPanorama:n}))}),[i,e,n]),S.createElement("g",{tabIndex:-1,ref:r})}function H5(t){var{children:e,isPanorama:n}=t,r=je(wle);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),a=r.filter(l=>l>0);return S.createElement(S.Fragment,null,i.map(l=>S.createElement(U5,{key:l,zIndex:l,isPanorama:n})),e,a.map(l=>S.createElement(U5,{key:l,zIndex:l,isPanorama:n})))}var xde=["children"];function bde(t,e){if(t==null)return{};var n,r,i=wde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lg(){return lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lg.apply(null,arguments)}var Sde={width:"100%",height:"100%",display:"block"},Cde=S.forwardRef((t,e)=>{var n=x2(),r=b2(),i=a8();if(!Di(n)||!Di(r))return null;var{children:a,otherAttributes:l,title:o,desc:u}=t,h,d;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?d=l.role:d=i?"application":void 0),S.createElement(JS,lg({},l,{title:o,desc:u,role:d,tabIndex:h,width:n,height:r,style:Sde,ref:e}),a)}),Ode=t=>{var{children:e}=t,n=je(Gg);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return S.createElement(JS,{width:r,height:i,x:l,y:a},e)},q5=S.forwardRef((t,e)=>{var{children:n}=t,r=bde(t,xde),i=er();return i?S.createElement(Ode,null,S.createElement(H5,{isPanorama:!0},n)):S.createElement(Cde,lg({ref:e},r),S.createElement(H5,{isPanorama:!1},n))});function kde(){var t=Bt(),[e,n]=S.useState(null),r=je(DJ);return S.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;We(a)&&a!==r&&t(yJ(a))}},[e,t,r]),n}function $5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$5(Object(n),!0).forEach(function(r){Ade(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ade(t,e,n){return(e=Nde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nde(t){var e=Ede(t,"string");return typeof e=="symbol"?e:e+""}function Ede(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gs(){return gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gs.apply(null,arguments)}var Tde=()=>(soe(),null);function og(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Mde=S.forwardRef((t,e)=>{var n,r,i=S.useRef(null),[a,l]=S.useState({containerWidth:og((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:og((r=t.style)===null||r===void 0?void 0:r.height)}),o=S.useCallback((h,d)=>{l(m=>{var y=Math.round(h),v=Math.round(d);return m.containerWidth===y&&m.containerHeight===v?m:{containerWidth:y,containerHeight:v}})},[]),u=S.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:d,height:m}=h.getBoundingClientRect();o(d,m);var y=b=>{var O=b[0];if(O!=null){var{width:C,height:k}=O.contentRect;o(C,k)}},v=new ResizeObserver(y);v.observe(h),i.current=v}},[e,o]);return S.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[o]),S.createElement(S.Fragment,null,S.createElement(th,{width:a.containerWidth,height:a.containerHeight}),S.createElement("div",gs({ref:u},t)))}),Dde=S.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=S.useState({containerWidth:og(n),containerHeight:og(r)}),l=S.useCallback((u,h)=>{a(d=>{var m=Math.round(u),y=Math.round(h);return d.containerWidth===m&&d.containerHeight===y?d:{containerWidth:m,containerHeight:y}})},[]),o=S.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:h,height:d}=u.getBoundingClientRect();l(h,d)}},[e,l]);return S.createElement(S.Fragment,null,S.createElement(th,{width:i.containerWidth,height:i.containerHeight}),S.createElement("div",gs({ref:o},t)))}),Pde=S.forwardRef((t,e)=>{var{width:n,height:r}=t;return S.createElement(S.Fragment,null,S.createElement(th,{width:n,height:r}),S.createElement("div",gs({ref:e},t)))}),_de=S.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?S.createElement(Dde,gs({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?S.createElement(Pde,gs({},t,{width:n,height:r,ref:e})):S.createElement(S.Fragment,null,S.createElement(th,{width:n,height:r}),S.createElement("div",gs({ref:e},t)))});function Rde(t){return t?Mde:_de}var Lde=S.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:o,onMouseDown:u,onMouseEnter:h,onMouseLeave:d,onMouseMove:m,onMouseUp:y,onTouchEnd:v,onTouchMove:b,onTouchStart:O,style:C,width:k,responsive:N,dispatchTouchEvents:j=!0}=t,M=S.useRef(null),D=Bt(),[T,E]=S.useState(null),[_,R]=S.useState(null),H=kde(),B=y2(),z=B?.width>0?B.width:k,ie=B?.height>0?B.height:i,ne=S.useCallback(ae=>{H(ae),typeof e=="function"&&e(ae),E(ae),R(ae),ae!=null&&(M.current=ae)},[H,e,E,R]),I=S.useCallback(ae=>{D(nz(ae)),D(Dr({handler:a,reactEvent:ae}))},[D,a]),q=S.useCallback(ae=>{D(rS(ae)),D(Dr({handler:h,reactEvent:ae}))},[D,h]),V=S.useCallback(ae=>{D(rB()),D(Dr({handler:d,reactEvent:ae}))},[D,d]),te=S.useCallback(ae=>{D(rS(ae)),D(Dr({handler:m,reactEvent:ae}))},[D,m]),W=S.useCallback(()=>{D(oz())},[D]),ce=S.useCallback(ae=>{D(lz(ae.key))},[D]),L=S.useCallback(ae=>{D(Dr({handler:l,reactEvent:ae}))},[D,l]),Y=S.useCallback(ae=>{D(Dr({handler:o,reactEvent:ae}))},[D,o]),ue=S.useCallback(ae=>{D(Dr({handler:u,reactEvent:ae}))},[D,u]),X=S.useCallback(ae=>{D(Dr({handler:y,reactEvent:ae}))},[D,y]),de=S.useCallback(ae=>{D(Dr({handler:O,reactEvent:ae}))},[D,O]),he=S.useCallback(ae=>{j&&D(uz(ae)),D(Dr({handler:b,reactEvent:ae}))},[D,j,b]),ve=S.useCallback(ae=>{D(Dr({handler:v,reactEvent:ae}))},[D,v]),ot=Rde(N);return S.createElement(CB.Provider,{value:T},S.createElement(NR.Provider,{value:_},S.createElement(ot,{width:z??C?.width,height:ie??C?.height,className:rt("recharts-wrapper",r),style:jde({position:"relative",cursor:"default",width:z,height:ie},C),onClick:I,onContextMenu:L,onDoubleClick:Y,onFocus:W,onKeyDown:ce,onMouseDown:ue,onMouseEnter:q,onMouseLeave:V,onMouseMove:te,onMouseUp:X,onTouchEnd:ve,onTouchMove:he,onTouchStart:de,ref:ne},S.createElement(Tde,null),n)))}),Bde=["width","height","responsive","children","className","style","compact","title","desc"];function zde(t,e){if(t==null)return{};var n,r,i=Ide(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ide(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ude=S.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:l,style:o,compact:u,title:h,desc:d}=t,m=zde(t,Bde),y=Ti(m);return u?S.createElement(S.Fragment,null,S.createElement(th,{width:n,height:r}),S.createElement(q5,{otherAttributes:y,title:h,desc:d},a)):S.createElement(Lde,{className:l,style:o,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},S.createElement(q5,{otherAttributes:y,title:h,desc:d,ref:e},S.createElement(Vue,null,a)))});function iS(){return iS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iS.apply(null,arguments)}var Hde={top:5,right:5,bottom:5,left:5},qde={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Hde,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},$de=S.forwardRef(function(e,n){var r,i=An(e.categoricalChartProps,qde),{chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,categoricalChartProps:h}=e,d={chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,eventEmitter:void 0};return S.createElement(pde,{preloadedState:{options:d},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:a},S.createElement(Bue,{chartData:h.data}),S.createElement(yde,{layout:i.layout,margin:i.margin}),S.createElement(vde,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),S.createElement(Ude,iS({},i,{ref:n})))}),Vde=["axis"],cg=S.forwardRef((t,e)=>S.createElement($de,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Vde,tooltipPayloadSearcher:Vle,categoricalChartProps:t,ref:e}));const hz="tidedb_query_history",dz="tidedb_last_db",Fde=30,V5=["#3b82f6","#8b5cf6","#ec4899","#f59e0b","#22c55e","#06b6d4"],Wde=[{value:"",label:"Default"},{value:"rfc3339",label:"RFC3339"},{value:"ns",label:"ns"},{value:"us",label:"us"},{value:"ms",label:"ms"},{value:"s",label:"s"}];function Kde(t,e){if(t==null)return"";const n=String(t);if(typeof t=="string"&&/^\d{4}-\d{2}-\d{2}T/.test(t)){const l=new Date(t);return isNaN(l.getTime())?n:l.toLocaleString()}const r=Number(t);if(isNaN(r))return n;let i;switch(e){case"ns":i=r/1e6;break;case"us":i=r/1e3;break;case"ms":i=r;break;case"s":i=r*1e3;break;default:r>1e15?i=r/1e6:r>1e12?i=r/1e3:r>1e10?i=r:i=r*1e3;break}const a=new Date(i);return isNaN(a.getTime())?n:a.toLocaleString()}const Gde=["SELECT","FROM","WHERE","GROUP BY","ORDER BY","LIMIT","OFFSET","INTO","SHOW","CREATE","DROP","ALTER","GRANT","REVOKE","SET","AND","OR","AS","ON","BY","FILL","SLIMIT","SOFFSET","WITH","KEY","IN","NOT","ASC","DESC","DISTINCT","MEAN","SUM","COUNT","MIN","MAX","FIRST","LAST","STDDEV","MEDIAN","PERCENTILE","DERIVATIVE","NON_NEGATIVE_DERIVATIVE","DIFFERENCE","MOVING_AVERAGE","CUMULATIVE_SUM","HOLT_WINTERS","ELAPSED","TIME","NOW","NULL","TRUE","FALSE"],Yde={float:"text-blue-400",integer:"text-green-400",string:"text-amber-400",boolean:"text-purple-400"};function mz(){try{return JSON.parse(localStorage.getItem(hz)||"[]")}catch{return[]}}function Qde(t){try{localStorage.setItem(hz,JSON.stringify(t.slice(0,Fde)))}catch{}}function Xde(t){const e=mz().filter(n=>n!==t);e.unshift(t),Qde(e)}function Zde(){return localStorage.getItem(dz)||""}function Jb(t){try{localStorage.setItem(dz,t)}catch{}}function Jde(t){return t<1e3?`${t}ms`:`${(t/1e3).toFixed(2)}s`}function eme(t){let e=t;const n=[...Gde].sort((r,i)=>i.length-r.length);for(const r of n){const i=r.replace(/\s+/g,"\\s+");e=e.replace(new RegExp(`\\b${i}\\b`,"gi"),r)}return e}function tme(t){const e=[];for(const n of t?.results??[])if(!n.error)for(const r of n.series??[]){const i=(r.values??[]).map(a=>{const l={};return r.columns.forEach((o,u)=>{l[o]=a[u]}),l});e.push({name:r.name,tags:r.tags??{},columns:r.columns,rows:i})}return e}function pz(t,e,n){const r=new Blob([t],{type:n}),i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)}function nme(t){const e=[];for(const n of t){t.length>1&&e.push(`# ${n.name}${Object.keys(n.tags).length?" "+JSON.stringify(n.tags):""}`),e.push(n.columns.join(","));for(const r of n.rows)e.push(n.columns.map(i=>{const a=r[i];if(a==null)return"";const l=String(a);return l.includes(",")||l.includes('"')||l.includes(`
`)?`"${l.replace(/"/g,'""')}"`:l}).join(","));e.push("")}pz(e.join(`
`),"query_results.csv","text/csv")}function rme(t){const e=t.map(n=>({name:n.name,tags:n.tags,columns:n.columns,values:n.rows}));pz(JSON.stringify(e,null,2),"query_results.json","application/json")}function aS(t){const e=Object.entries(t);return e.length===0?"":"{"+e.map(([n,r])=>`${n}=${r}`).join(",")+"}"}function ime({onInsert:t}){const[e,n]=S.useState([]),[r,i]=S.useState(new Set),[a,l]=S.useState({}),[o,u]=S.useState(new Set),[h,d]=S.useState(""),[m,y]=S.useState({});S.useEffect(()=>{we.getDatabases().then(n).catch(()=>{})},[]);const v=S.useCallback(async(j,M,D,T,E,_)=>{if(i(R=>{const H=new Set(R);return H.has(j)?H.delete(j):H.add(j),H}),!a[j]){u(R=>new Set(R).add(j));try{if(M==="database"&&D){const H=(await we.getRetentionPolicies(D)).map(B=>({type:"rp",name:B.name,dbName:D}));l(B=>({...B,[j]:H}))}else if(M==="rp"&&D){const H=(await we.getMeasurements(D)).map(B=>({type:"measurement",name:B,dbName:D,rpName:_}));l(B=>({...B,[j]:H}))}else if(M==="measurement"&&D&&E){const[R,H]=await Promise.all([we.getFieldKeys(D,E),we.getTagKeys(D,E)]),B=R.map(ne=>({type:"field",name:ne.key,fieldType:ne.type,dbName:D,measurementName:E})),z=H.map(ne=>({type:"tag",name:ne,dbName:D,measurementName:E})),ie=[{type:"fields-header",name:"Fields",children:B},{type:"tags-header",name:"Tags",children:z}];l(ne=>({...ne,[j]:ie}))}}catch{}finally{u(R=>{const H=new Set(R);return H.delete(j),H})}}},[a]),b=()=>{const j=[],M=D=>{const T=`db:${D}`,E=r.has(T);if(j.push({type:"database",name:D,dbName:D,depth:0,id:T,expanded:E}),!E)return;const _=a[T]??[];for(const R of _){const H=`rp:${D}:${R.name}`,B=r.has(H);if(j.push({...R,depth:1,id:H,expanded:B}),!B)continue;const z=a[H]??[];for(const ie of z){const ne=`meas:${D}:${ie.name}`,I=r.has(ne);if(j.push({...ie,depth:2,id:ne,expanded:I}),!I)continue;const q=a[ne]??[];for(const V of q){const te=`group:${D}:${ie.name}:${V.name}`,W=r.has(te);if(j.push({...V,depth:3,id:te,expanded:W}),!!W)for(const ce of V.children??[]){const L=`leaf:${D}:${ie.name}:${V.name}:${ce.name}`;j.push({...ce,depth:4,id:L})}}}}};for(const D of e)M(D);return j},O=h.trim()?b().filter(j=>j.name.toLowerCase().includes(h.toLowerCase())):b(),C=j=>{if(j.type==="database")v(j.id,"database",j.dbName,void 0,void 0,j.name);else if(j.type==="rp")v(j.id,"rp",j.dbName,j.name,void 0,j.name);else if(j.type==="measurement")v(j.id,"measurement",j.dbName,j.rpName,j.name,j.name),t(`FROM "${j.name}"`);else if(j.type==="fields-header"||j.type==="tags-header")i(M=>{const D=new Set(M);return D.has(j.id)?D.delete(j.id):D.add(j.id),D});else if(j.type==="field")t(`"${j.name}"`);else if(j.type==="tag"){t(`"${j.name}"`);const M=`tv:${j.dbName}:${j.measurementName}:${j.name}`;m[M]?y(D=>{const T={...D};return delete T[M],T}):j.dbName&&j.measurementName&&(u(D=>new Set(D).add(M)),we.getTagValues(j.dbName,j.measurementName,j.name).then(D=>y(T=>({...T,[M]:D}))).catch(()=>{}).finally(()=>u(D=>{const T=new Set(D);return T.delete(M),T})))}},k=j=>{const M=o.has(j.id);return["database","rp","measurement","fields-header","tags-header"].includes(j.type)?M?g.jsxs("svg",{className:"w-4 h-4 animate-spin text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):j.expanded?g.jsx(Ns,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}):g.jsx(qf,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}):g.jsx("span",{className:"w-4 h-4 inline-block"})},N=j=>{const M=j.type==="field"&&j.fieldType?Yde[j.fieldType]??"text-gray-300":"text-gray-300";return g.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[g.jsx("span",{className:`truncate text-sm ${M}`,children:j.name}),j.type==="field"&&j.fieldType&&g.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-1",children:j.fieldType})]})};return g.jsxs("div",{className:"flex flex-col h-full bg-gray-900",children:[g.jsxs("div",{className:"px-3 py-2 border-b border-gray-700",children:[g.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Schema Explorer"}),g.jsxs("div",{className:"relative",children:[g.jsx(oc,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-gray-500"}),g.jsx("input",{type:"text",value:h,onChange:j=>d(j.target.value),placeholder:"Filter...",className:"w-full bg-gray-800 text-gray-300 text-xs pl-7 pr-2 py-1.5 rounded border border-gray-700 focus:outline-none focus:border-blue-500 placeholder-gray-600"})]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto py-1",children:[O.length===0&&e.length===0&&g.jsx("div",{className:"text-xs text-gray-500 px-3 py-4 text-center",children:"Loading databases..."}),O.length===0&&e.length>0&&h&&g.jsxs("div",{className:"text-xs text-gray-500 px-3 py-4 text-center",children:['No results for "',h,'"']}),O.map(j=>{const M=j.type==="tag"?`tv:${j.dbName}:${j.measurementName}:${j.name}`:"",D=M&&o.has(M),T=M?m[M]:void 0;return g.jsxs("div",{children:[g.jsxs("div",{style:{paddingLeft:`${j.depth*16+8}px`},className:"flex items-center gap-1.5 py-0.5 pr-2 cursor-pointer hover:bg-gray-800 transition-colors duration-150 group select-none",onClick:()=>C(j),children:[g.jsx("span",{className:"flex-shrink-0",children:k(j)}),N(j),D&&g.jsxs("svg",{className:"w-3 h-3 animate-spin text-gray-500 ml-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]})]}),T&&T.length>0&&g.jsx("div",{style:{paddingLeft:`${(j.depth+1)*16+8}px`},className:"py-0.5",children:g.jsxs("div",{className:"flex flex-wrap gap-1 py-1",children:[T.slice(0,50).map(E=>g.jsx("span",{onClick:()=>t(`'${E}'`),className:"inline-block px-1.5 py-0.5 text-[10px] bg-gray-800 border border-gray-700 rounded text-cyan-300 cursor-pointer hover:bg-gray-700 font-mono truncate max-w-[120px]",title:E,children:E},E)),T.length>50&&g.jsxs("span",{className:"text-[10px] text-gray-500",children:["+",T.length-50," more"]})]})})]},j.id)})]})]})}function ame({series:t,humanTime:e,epochUnit:n=""}){const[r,i]=S.useState(null),[a,l]=S.useState("asc");if(t.length===0)return g.jsx("div",{className:"text-gray-500 text-sm text-center py-8",children:"No results"});const o=u=>{r===u?l(h=>h==="asc"?"desc":"asc"):(i(u),l("asc"))};return g.jsx("div",{className:"flex flex-col gap-4 h-full overflow-y-auto",children:t.map((u,h)=>{const d=u.name+aS(u.tags);let m=[...u.rows];return r&&u.columns.includes(r)&&m.sort((y,v)=>{const b=y[r],O=v[r];if(b==null)return 1;if(O==null)return-1;const C=b<O?-1:b>O?1:0;return a==="asc"?C:-C}),g.jsxs("div",{className:"flex flex-col min-w-0",children:[t.length>1&&g.jsx("div",{className:"text-xs font-medium text-blue-400 px-1 mb-1",children:d}),g.jsx("div",{className:"overflow-x-auto rounded border border-gray-700",children:g.jsxs("table",{className:"min-w-full text-xs bg-gray-800",children:[g.jsx("thead",{children:g.jsx("tr",{className:"border-b border-gray-700",children:u.columns.map(y=>g.jsx("th",{onClick:()=>o(y),className:"px-3 py-2 text-left font-semibold text-gray-400 cursor-pointer hover:text-gray-200 hover:bg-gray-750 select-none whitespace-nowrap transition-colors duration-150",children:g.jsxs("span",{className:"flex items-center gap-1",children:[y,r===y&&g.jsx("span",{className:"text-blue-400",children:a==="asc"?"":""})]})},y))})}),g.jsx("tbody",{children:m.map((y,v)=>g.jsx("tr",{className:"border-b border-gray-700/50 hover:bg-gray-700/30 transition-colors duration-150",children:u.columns.map(b=>{const O=y[b],C=/^time$/i.test(b);let k;if(O==null)k=g.jsx("span",{className:"text-gray-600 italic",children:"null"});else if(e&&C){const N=Kde(O,n);k=g.jsx("span",{title:String(O),children:N})}else k=String(O);return g.jsx("td",{className:"px-3 py-1.5 text-gray-300 whitespace-nowrap font-mono",children:k},b)})},v))})]})}),g.jsxs("div",{className:"text-xs text-gray-500 mt-1 px-1",children:[m.length," row",m.length!==1?"s":""]})]},h)})})}function sme({series:t}){if(t.length===0)return g.jsx("div",{className:"text-gray-500 text-sm text-center py-8",children:"No results"});const e=t[0],n=e.columns.find(u=>u==="time")??null,r=e.columns.filter(u=>u!=="time"&&u!=="name");if(!n)return g.jsx("div",{className:"text-gray-500 text-sm text-center py-8",children:"Chart requires a 'time' column in the results."});const i=new Map;t.forEach(u=>{const h=aS(u.tags);u.rows.forEach(d=>{const m=String(d[n]);i.has(m)||i.set(m,{time:m});const y=i.get(m);r.forEach(v=>{const b=t.length>1?`${u.name}${h||""}.${v}`:v,O=d[v];O!=null&&(y[b]=typeof O=="number"?O:parseFloat(O))})})});const a=Array.from(i.values()).sort((u,h)=>u.time<h.time?-1:u.time>h.time?1:0),l=[];t.forEach(u=>{const h=aS(u.tags);r.forEach(d=>{const m=t.length>1?`${u.name}${h||""}.${d}`:d;l.includes(m)||l.push(m)})});const o=u=>{try{const h=new Date(u);if(!isNaN(h.getTime()))return h.toLocaleTimeString()}catch{}return u};return g.jsx("div",{className:"w-full h-full min-h-0",children:g.jsx(Mp,{width:"100%",height:"100%",children:g.jsxs(cg,{data:a,margin:{top:8,right:24,left:0,bottom:8},children:[g.jsx(Lf,{strokeDasharray:"3 3",stroke:"#374151"}),g.jsx(If,{dataKey:"time",tickFormatter:o,tick:{fill:"#9ca3af",fontSize:11},axisLine:{stroke:"#4b5563"},tickLine:{stroke:"#4b5563"}}),g.jsx(Uf,{tick:{fill:"#9ca3af",fontSize:11},axisLine:{stroke:"#4b5563"},tickLine:{stroke:"#4b5563"},width:60}),g.jsx(tg,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"6px"},labelStyle:{color:"#9ca3af",fontSize:11},itemStyle:{color:"#d1d5db",fontSize:12},formatter:u=>[typeof u=="number"?u.toLocaleString():u]}),g.jsx(C2,{wrapperStyle:{fontSize:12,color:"#9ca3af",paddingTop:"8px"}}),l.map((u,h)=>g.jsx(zf,{type:"monotone",dataKey:u,stroke:V5[h%V5.length],dot:!1,strokeWidth:2,connectNulls:!1},u))]})})})}function lme({onSelect:t}){const[e,n]=S.useState(!1),[r,i]=S.useState([]),a=S.useRef(null),l=()=>i(mz());return S.useEffect(()=>{if(!e)return;l();const o=u=>{a.current&&!a.current.contains(u.target)&&n(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[e]),g.jsxs("div",{className:"relative",ref:a,children:[g.jsxs("button",{onClick:()=>n(o=>!o),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded border border-gray-600 transition-colors duration-150",children:[g.jsx(ef,{className:"w-3.5 h-3.5"}),"History",g.jsx(Ns,{className:"w-3 h-3 text-gray-500"})]}),e&&g.jsx("div",{className:"absolute right-0 top-full mt-1 w-96 bg-gray-800 border border-gray-600 rounded shadow-2xl z-50 max-h-80 overflow-y-auto",children:r.length===0?g.jsx("div",{className:"text-gray-500 text-xs text-center py-4",children:"No query history"}):r.map((o,u)=>g.jsx("div",{onClick:()=>{t(o),n(!1)},className:"px-3 py-2 text-xs text-gray-300 hover:bg-gray-700 cursor-pointer truncate border-b border-gray-700 last:border-0 font-mono transition-colors duration-150",title:o,children:o},u))})]})}function ome(){const[t,e]=S.useState([]),[n,r]=S.useState(Zde()),[i,a]=S.useState([]),[l,o]=S.useState(""),[u,h]=S.useState("rfc3339"),[d,m]=S.useState('SELECT * FROM "measurement" LIMIT 100'),[y,v]=S.useState(null),[b,O]=S.useState(!1),[C,k]=S.useState("table"),[N,j]=S.useState(!0),[M,D]=S.useState(0);S.useEffect(()=>{const B=()=>{D(z=>z+1),v(null),r(""),a([]),o(""),we.getDatabases().then(z=>{e(z),z.length>0&&(r(z[0]),Jb(z[0]))}).catch(()=>{e([])})};return window.addEventListener("tidedb-connection-change",B),()=>window.removeEventListener("tidedb-connection-change",B)},[]),S.useEffect(()=>{we.getDatabases().then(B=>{e(B),!n&&B.length>0&&(r(B[0]),Jb(B[0]))}).catch(()=>{})},[]),S.useEffect(()=>{if(!n){a([]),o("");return}Jb(n),we.getRetentionPolicies(n).then(B=>{a(B);const z=B.find(ie=>ie.default);o(z?.name??B[0]?.name??"")}).catch(()=>{a([]),o("")})},[n]);const T=S.useCallback(async()=>{if(!d.trim()||b)return;O(!0);const B=performance.now();try{Xde(d.trim());const z=await we.query(d.trim(),n||void 0,u||void 0),ie=Math.round(performance.now()-B),ne=z.results?.[0]?.error,I=tme(z);v({series:I,duration:ie,error:ne})}catch(z){const ie=Math.round(performance.now()-B);v({series:[],duration:ie,error:z?.message??"Unknown error"})}finally{O(!1)}},[d,n,u,b]),E=()=>{m(B=>eme(B))},_=S.useCallback(B=>{m(z=>{const ie=z.trimEnd(),ne=ie.length>0?" ":"";return ie+ne+B})},[]),R=B=>{B.key==="Enter"&&(B.ctrlKey||B.metaKey)&&(B.preventDefault(),T())},H=y?.series.reduce((B,z)=>B+z.rows.length,0)??0;return g.jsxs("div",{className:"flex flex-col h-full bg-gray-950 text-gray-100",children:[g.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-gray-900 border-b border-gray-700 flex-shrink-0",children:[g.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Query Explorer"}),g.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[g.jsx("label",{className:"text-xs text-gray-500",children:"Database"}),g.jsxs("select",{value:n,onChange:B=>r(B.target.value),className:"bg-gray-800 border border-gray-600 text-gray-200 text-xs rounded px-2 py-1 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:[g.jsx("option",{value:"",children:" select "}),t.map(B=>g.jsx("option",{value:B,children:B},B))]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-xs text-gray-500",children:"RP"}),g.jsxs("select",{value:l,onChange:B=>o(B.target.value),className:"bg-gray-800 border border-gray-600 text-gray-200 text-xs rounded px-2 py-1 focus:outline-none focus:border-blue-500 transition-colors duration-150",disabled:i.length===0,children:[g.jsx("option",{value:"",children:" default "}),i.map(B=>g.jsxs("option",{value:B.name,children:[B.name,B.default?" (default)":""]},B.name))]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-xs text-gray-500",children:"Epoch"}),g.jsx("select",{value:u,onChange:B=>h(B.target.value),className:"bg-gray-800 border border-gray-600 text-gray-200 text-xs rounded px-2 py-1 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:Wde.map(B=>g.jsx("option",{value:B.value,children:B.label},B.value))})]})]}),g.jsxs("div",{className:"flex flex-1 min-h-0 overflow-hidden",children:[g.jsx("div",{className:"flex-shrink-0 border-r border-gray-700 overflow-hidden flex flex-col",style:{width:"250px"},children:g.jsx(ime,{onInsert:_},M)}),g.jsxs("div",{className:"flex flex-col flex-1 min-w-0 overflow-hidden",children:[g.jsxs("div",{className:"flex-shrink-0 border-b border-gray-700 flex flex-col",style:{height:"200px"},children:[g.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 bg-gray-900 border-b border-gray-700",children:[g.jsx("span",{className:"text-xs text-gray-500",children:"InfluxQL    Ctrl+Enter to run"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:E,className:"px-2.5 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded border border-gray-600 transition-colors duration-150",children:"Format"}),g.jsx(lme,{onSelect:m}),g.jsxs("button",{onClick:()=>{const B=d.trim();B&&!B.toUpperCase().startsWith("EXPLAIN")&&m("EXPLAIN "+B),T()},disabled:b,title:"Explain query plan",className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs bg-amber-700 hover:bg-amber-600 disabled:bg-amber-900 disabled:text-amber-400 text-white rounded transition-colors duration-150",children:[g.jsx(CH,{className:"w-3.5 h-3.5"}),"Explain"]}),g.jsxs("button",{onClick:T,disabled:b,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold bg-blue-600 hover:bg-blue-700 disabled:bg-blue-900 disabled:text-blue-400 text-white rounded transition-colors duration-150",children:[g.jsx(l1,{className:"w-3.5 h-3.5"}),b?"Running":"Run"]})]})]}),g.jsx("div",{className:"flex-1 overflow-hidden",onKeyDown:R,children:g.jsx(YS,{value:d,onChange:m,extensions:[iQ()],theme:"dark",height:"150px",style:{height:"150px",fontSize:"13px",backgroundColor:"#1f2937"},basicSetup:{lineNumbers:!0,highlightActiveLineGutter:!0,highlightActiveLine:!0,bracketMatching:!0,autocompletion:!0,indentOnInput:!0}})})]}),g.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[g.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 bg-gray-900 border-b border-gray-700 flex-shrink-0",children:[g.jsxs("button",{onClick:()=>k("table"),className:`flex items-center gap-1.5 px-3 py-1 text-xs rounded transition-colors duration-150 ${C==="table"?"bg-gray-700 text-gray-100":"text-gray-400 hover:text-gray-200 hover:bg-gray-800"}`,children:[g.jsx(yP,{className:"w-3.5 h-3.5"}),"Table"]}),g.jsxs("button",{onClick:()=>k("chart"),className:`flex items-center gap-1.5 px-3 py-1 text-xs rounded transition-colors duration-150 ${C==="chart"?"bg-gray-700 text-gray-100":"text-gray-400 hover:text-gray-200 hover:bg-gray-800"}`,children:[g.jsx(Ro,{className:"w-3.5 h-3.5"}),"Chart"]}),y&&!y.error&&g.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[g.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer select-none",title:"Toggle between raw epoch and readable timestamps",children:[g.jsx(ef,{className:"w-3 h-3 text-gray-500"}),g.jsx("span",{className:"text-xs text-gray-500",children:"Readable time"}),g.jsx("button",{type:"button",role:"switch","aria-checked":N,onClick:()=>j(B=>!B),className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors duration-200 ${N?"bg-blue-600":"bg-gray-600"}`,children:g.jsx("span",{className:`inline-block h-3 w-3 rounded-full bg-white transition-transform duration-200 ${N?"translate-x-3.5":"translate-x-0.5"}`})})]}),g.jsx("span",{className:"text-xs text-gray-600",children:"|"}),g.jsxs("span",{className:"text-xs text-gray-500",children:[H," row",H!==1?"s":""]}),g.jsxs("button",{onClick:()=>nme(y.series),title:"Download CSV",className:"flex items-center gap-1 px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded border border-gray-600 transition-colors duration-150",children:[g.jsx(s1,{className:"w-3 h-3"})," CSV"]}),g.jsxs("button",{onClick:()=>rme(y.series),title:"Download JSON",className:"flex items-center gap-1 px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded border border-gray-600 transition-colors duration-150",children:[g.jsx(UU,{className:"w-3 h-3"})," JSON"]})]})]}),g.jsxs("div",{className:"flex-1 overflow-hidden min-h-0 bg-gray-950 p-3",children:[!y&&g.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-2 text-gray-600",children:[g.jsx(l1,{className:"w-8 h-8 opacity-30"}),g.jsx("span",{className:"text-sm",children:"Run a query to see results"})]}),y&&y.error&&g.jsx("div",{className:"bg-red-950/50 border border-red-700 rounded p-3 text-red-300 text-sm font-mono",children:y.error}),y&&!y.error&&g.jsxs("div",{className:"h-full overflow-hidden",children:[C==="table"&&g.jsx(ame,{series:y.series,humanTime:N,epochUnit:u}),C==="chart"&&g.jsx(sme,{series:y.series})]})]}),g.jsxs("div",{className:"flex-shrink-0 flex items-center gap-3 px-3 py-1 bg-gray-900 border-t border-gray-700 text-xs text-gray-500",children:[b&&g.jsxs("span",{className:"flex items-center gap-1.5 text-blue-400",children:[g.jsxs("svg",{className:"w-3 h-3 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Executing"]}),y&&!b&&g.jsxs(g.Fragment,{children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(ef,{className:"w-3 h-3"}),Jde(y.duration)]}),!y.error&&g.jsxs("span",{children:[H," row",H!==1?"s":""," returned"]}),y.error&&g.jsx("span",{className:"text-red-400",children:"Query failed"})]}),!y&&!b&&g.jsx("span",{children:"Ready"})]})]})]})]})]})}function Hf({title:t,message:e,confirmLabel:n="Confirm",onConfirm:r,onCancel:i,danger:a=!0,requireTypedConfirmation:l}){const[o,u]=S.useState(""),h=!l||o===l;return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-100 mb-2",children:t}),g.jsx("p",{className:"text-sm text-gray-400 mb-4",children:e}),l&&g.jsxs("div",{className:"mb-4",children:[g.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Type ",g.jsx("span",{className:"font-mono text-red-400 font-semibold",children:l})," to confirm:"]}),g.jsx("input",{type:"text",value:o,onChange:d=>u(d.target.value),autoFocus:!0,placeholder:l,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-600 focus:outline-none focus:border-red-500 transition-colors duration-150 font-mono"})]}),g.jsxs("div",{className:"flex justify-end gap-3",children:[g.jsx("button",{onClick:i,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150",children:"Cancel"}),g.jsx("button",{onClick:r,disabled:!h,className:`px-4 py-2 text-sm font-semibold text-white rounded-md transition-colors duration-150 disabled:opacity-40 disabled:cursor-not-allowed ${a?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:n})]})]})})}function cme({message:t,onDismiss:e}){return g.jsxs("div",{className:"flex items-start justify-between bg-red-950/60 border border-red-700 rounded-md px-4 py-3 mb-4 text-sm text-red-300",children:[g.jsx("span",{className:"font-mono break-all",children:t}),g.jsx("button",{onClick:e,className:"ml-4 flex-shrink-0 text-red-400 hover:text-red-200 transition-colors duration-150",children:""})]})}function ume({message:t,onDismiss:e}){return g.jsxs("div",{className:"flex items-start justify-between bg-green-950/60 border border-green-700 rounded-md px-4 py-3 mb-4 text-sm text-green-300",children:[g.jsx("span",{children:t}),g.jsx("button",{onClick:e,className:"ml-4 flex-shrink-0 text-green-400 hover:text-green-200 transition-colors duration-150",children:""})]})}function fme({onClose:t,onCreated:e}){const[n,r]=S.useState(""),[i,a]=S.useState("30d"),[l,o]=S.useState(!1),[u,h]=S.useState(""),d=async()=>{const m=n.trim();if(!m){h("Database name is required.");return}o(!0),h("");try{const y=i.trim()||"INF";await we.query(`CREATE DATABASE "${m}" WITH DURATION ${y}`),e(),t()}catch(y){h(y?.message??"Failed to create database.")}finally{o(!1)}};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[g.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[g.jsx(ti,{className:"w-5 h-5 text-blue-400"}),"Create Database"]}),u&&g.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono",children:u}),g.jsxs("div",{className:"flex flex-col gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Database Name"}),g.jsx("input",{type:"text",value:n,onChange:m=>r(m.target.value),placeholder:"my_database",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Default RP Duration",g.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(e.g. 30d, 1h, INF)"})]}),g.jsx("input",{type:"text",value:i,onChange:m=>a(m.target.value),placeholder:"30d",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[g.jsx("button",{onClick:t,disabled:l,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),g.jsxs("button",{onClick:d,disabled:l,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 flex items-center gap-2",children:[l&&g.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Create Database"]})]})]})})}function hme({database:t,onClose:e,onCreated:n}){const[r,i]=S.useState(""),[a,l]=S.useState("30d"),[o,u]=S.useState(""),[h,d]=S.useState("1"),[m,y]=S.useState(!1),[v,b]=S.useState(!1),[O,C]=S.useState(""),k=async()=>{const N=r.trim();if(!N){C("Retention policy name is required.");return}const j=a.trim();if(!j){C("Duration is required.");return}b(!0),C("");try{let M=`CREATE RETENTION POLICY "${N}" ON "${t}" DURATION ${j} REPLICATION ${h||"1"}`;o.trim()&&(M+=` SHARD DURATION ${o.trim()}`),m&&(M+=" DEFAULT"),await we.query(M),n(),e()}catch(M){C(M?.message??"Failed to create retention policy.")}finally{b(!1)}};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[g.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-1 flex items-center gap-2",children:[g.jsx(fa,{className:"w-5 h-5 text-blue-400"}),"Create Retention Policy"]}),g.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["on database ",g.jsx("span",{className:"text-blue-400 font-mono",children:t})]}),O&&g.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono",children:O}),g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Policy Name"}),g.jsx("input",{type:"text",value:r,onChange:N=>i(N.target.value),placeholder:"my_policy",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Duration",g.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(e.g. 7d, 30d, INF)"})]}),g.jsx("input",{type:"text",value:a,onChange:N=>l(N.target.value),placeholder:"30d",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Shard Group Duration",g.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(optional, e.g. 1d)"})]}),g.jsx("input",{type:"text",value:o,onChange:N=>u(N.target.value),placeholder:"auto",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Replication Factor"}),g.jsx("input",{type:"number",min:"1",value:h,onChange:N=>d(N.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[g.jsx("input",{type:"checkbox",checked:m,onChange:N=>y(N.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500 focus:ring-offset-gray-800"}),g.jsx("span",{className:"text-sm text-gray-300",children:"Set as default retention policy"})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[g.jsx("button",{onClick:e,disabled:v,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),g.jsxs("button",{onClick:k,disabled:v,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 flex items-center gap-2",children:[v&&g.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Create Policy"]})]})]})})}function dme({database:t,rp:e,onClose:n,onAltered:r}){const[i,a]=S.useState(e.duration||""),[l,o]=S.useState(e.shardGroupDuration||""),[u,h]=S.useState(String(e.replicaN??1)),[d,m]=S.useState(e.default),[y,v]=S.useState(!1),[b,O]=S.useState(""),C=async()=>{v(!0),O("");try{let k=`ALTER RETENTION POLICY "${e.name}" ON "${t}"`;i.trim()&&(k+=` DURATION ${i.trim()}`),k+=` REPLICATION ${u||"1"}`,l.trim()&&(k+=` SHARD DURATION ${l.trim()}`),d&&(k+=" DEFAULT"),await we.query(k),r(),n()}catch(k){O(k?.message??"Failed to alter retention policy.")}finally{v(!1)}};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[g.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-1 flex items-center gap-2",children:[g.jsx(hS,{className:"w-5 h-5 text-blue-400"}),"Alter Retention Policy"]}),g.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:[g.jsx("span",{className:"text-blue-400 font-mono",children:e.name})," on ",g.jsx("span",{className:"text-blue-400 font-mono",children:t})]}),b&&g.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono",children:b}),g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Duration ",g.jsx("span",{className:"text-xs text-gray-500",children:"(e.g. 7d, 30d, INF)"})]}),g.jsx("input",{type:"text",value:i,onChange:k=>a(k.target.value),placeholder:"30d",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Shard Group Duration ",g.jsx("span",{className:"text-xs text-gray-500",children:"(optional)"})]}),g.jsx("input",{type:"text",value:l,onChange:k=>o(k.target.value),placeholder:"auto",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Replication Factor"}),g.jsx("input",{type:"number",min:"1",value:u,onChange:k=>h(k.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[g.jsx("input",{type:"checkbox",checked:d,onChange:k=>m(k.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500 focus:ring-offset-gray-800"}),g.jsx("span",{className:"text-sm text-gray-300",children:"Set as default retention policy"})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[g.jsx("button",{onClick:n,disabled:y,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),g.jsxs("button",{onClick:C,disabled:y,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 flex items-center gap-2",children:[y&&g.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Alter Policy"]})]})]})})}function mme({onError:t,onSuccess:e}){const[n,r]=S.useState([]),[i,a]=S.useState(!0),[l,o]=S.useState(!1),[u,h]=S.useState(null),[d,m]=S.useState(null),[y,v]=S.useState(null),[b,O]=S.useState(null),C=S.useCallback(async()=>{a(!0);try{const E=await we.getDatabases();r(_=>{const R=new Map(_.map(H=>[H.name,H]));return E.map(H=>R.get(H)??{name:H,expanded:!1,retentionPolicies:null,seriesCardinality:null,loadingRPs:!1,loadingCardinality:!1})})}catch(E){t(E?.message??"Failed to load databases.")}finally{a(!1)}},[t]);S.useEffect(()=>{C()},[C]);const k=S.useCallback(async E=>{r(R=>R.map(H=>H.name!==E?H:{...H,expanded:!H.expanded}));const _=n.find(R=>R.name===E);if(!(!_||_.retentionPolicies!==null)){r(R=>R.map(H=>H.name===E?{...H,loadingRPs:!0,loadingCardinality:!0}:H));try{const[R,H]=await Promise.all([we.getRetentionPolicies(E),we.getSeriesCardinality(E)]),B=R.map(z=>({name:z.name,duration:z.duration,shardGroupDuration:z.shardGroupDuration,replicaN:z.replicaN,default:z.default}));r(z=>z.map(ie=>ie.name===E?{...ie,retentionPolicies:B,seriesCardinality:H,loadingRPs:!1,loadingCardinality:!1}:ie))}catch(R){r(H=>H.map(B=>B.name===E?{...B,loadingRPs:!1,loadingCardinality:!1}:B)),t(R?.message??`Failed to load details for ${E}.`)}}},[n,t]),N=async E=>{h(null);try{await we.query(`DROP DATABASE "${E}"`),e(`Database "${E}" dropped successfully.`),C()}catch(_){t(_?.message??`Failed to drop database "${E}".`)}},j=E=>{r(_=>_.map(R=>R.name===E?{...R,retentionPolicies:null,seriesCardinality:null}:R))},M=E=>{j(E),e(`Retention policy created on "${E}".`)},D=async(E,_)=>{O(null);try{await we.query(`DROP RETENTION POLICY "${_}" ON "${E}"`),j(E),e(`Retention policy "${_}" dropped from "${E}".`),r(R=>R.map(H=>H.name===E?{...H,expanded:!1}:H)),setTimeout(()=>k(E),100)}catch(R){t(R?.message??`Failed to drop retention policy "${_}".`)}},T=E=>{j(E),e(`Retention policy altered on "${E}".`),r(_=>_.map(R=>R.name===E?{...R,expanded:!1}:R)),setTimeout(()=>k(E),100)};return g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[g.jsx(ti,{className:"w-5 h-5 text-blue-400"}),"Databases"]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:C,disabled:i,title:"Refresh",className:"p-2 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-gray-200 rounded-md border border-gray-700 transition-colors duration-150 disabled:opacity-50",children:g.jsx(Zt,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),g.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150",children:[g.jsx(fa,{className:"w-4 h-4"}),"Create Database"]})]})]}),i&&n.length===0?g.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[g.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading databases..."]}):n.length===0?g.jsxs("div",{className:"text-center py-16 text-gray-500",children:[g.jsx(ti,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),g.jsx("p",{className:"text-sm",children:"No databases found."})]}):g.jsx("div",{className:"flex flex-col gap-2",children:n.map(E=>g.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[g.jsxs("button",{onClick:()=>k(E.name),className:"flex items-center gap-2 text-left group",children:[g.jsx("span",{className:`text-gray-400 transition-transform duration-150 ${E.expanded?"rotate-90":"rotate-0"}`,children:""}),g.jsx(ti,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),g.jsx("span",{className:"text-sm font-medium text-gray-100 group-hover:text-white transition-colors duration-150 font-mono",children:E.name})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{onClick:()=>m(E.name),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-md border border-gray-600 transition-colors duration-150",children:[g.jsx(fa,{className:"w-3.5 h-3.5"}),"Create RP"]}),g.jsxs("button",{onClick:()=>h(E.name),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors duration-150",children:[g.jsx(ys,{className:"w-3.5 h-3.5"}),"Drop"]})]})]}),E.expanded&&g.jsx("div",{className:"border-t border-gray-700 px-4 py-3",children:E.loadingRPs?g.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm py-2",children:[g.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading details..."]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[g.jsx("span",{className:"text-xs text-gray-500",children:"Series Cardinality:"}),g.jsx("span",{className:"text-xs font-mono text-blue-300",children:E.seriesCardinality!==null?E.seriesCardinality.toLocaleString():"N/A"})]}),g.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Retention Policies"}),E.retentionPolicies&&E.retentionPolicies.length>0?g.jsx("div",{className:"rounded border border-gray-700 overflow-hidden",children:g.jsxs("table",{className:"min-w-full text-xs",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[g.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Name"}),g.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Duration"}),g.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Shard Group Duration"}),g.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Replication"}),g.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Default"}),g.jsx("th",{className:"px-3 py-2 text-right font-semibold text-gray-400 whitespace-nowrap",children:"Actions"})]})}),g.jsx("tbody",{children:E.retentionPolicies.map(_=>g.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[g.jsx("td",{className:"px-3 py-2 font-mono text-gray-200",children:_.name}),g.jsx("td",{className:"px-3 py-2 text-gray-300",children:_.duration||"INF"}),g.jsx("td",{className:"px-3 py-2 text-gray-300",children:_.shardGroupDuration||"auto"}),g.jsx("td",{className:"px-3 py-2 text-gray-300",children:_.replicaN}),g.jsx("td",{className:"px-3 py-2",children:_.default?g.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-semibold bg-blue-900/60 text-blue-300 border border-blue-700",children:"default"}):g.jsx("span",{className:"text-gray-600",children:""})}),g.jsx("td",{className:"px-3 py-2 text-right",children:g.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[g.jsx("button",{onClick:()=>v({db:E.name,rp:_}),title:"Edit",className:"p-1.5 text-gray-400 hover:text-blue-300 hover:bg-gray-700 rounded transition-colors duration-150",children:g.jsx(hS,{className:"w-3.5 h-3.5"})}),g.jsx("button",{onClick:()=>O({db:E.name,rpName:_.name}),title:"Drop",className:"p-1.5 text-gray-400 hover:text-red-300 hover:bg-gray-700 rounded transition-colors duration-150",children:g.jsx(ys,{className:"w-3.5 h-3.5"})})]})})]},_.name))})]})}):g.jsx("p",{className:"text-sm text-gray-500",children:"No retention policies found."})]})})]},E.name))}),l&&g.jsx(fme,{onClose:()=>o(!1),onCreated:()=>{e("Database created successfully."),C()}}),u&&g.jsx(Hf,{title:"Drop Database",message:`Are you sure you want to drop the database "${u}"? This action is irreversible and all data will be permanently deleted.`,confirmLabel:"Drop Database",requireTypedConfirmation:u,onConfirm:()=>N(u),onCancel:()=>h(null)}),d&&g.jsx(hme,{database:d,onClose:()=>m(null),onCreated:()=>M(d)}),y&&g.jsx(dme,{database:y.db,rp:y.rp,onClose:()=>v(null),onAltered:()=>T(y.db)}),b&&g.jsx(Hf,{title:"Drop Retention Policy",message:`Are you sure you want to drop the retention policy "${b.rpName}" on database "${b.db}"? All data in this policy will be permanently deleted.`,confirmLabel:"Drop RP",requireTypedConfirmation:b.rpName,onConfirm:()=>D(b.db,b.rpName),onCancel:()=>O(null)})]})}function pme({databases:t,onClose:e,onCreated:n}){const[r,i]=S.useState(""),[a,l]=S.useState(t[0]??""),[o,u]=S.useState(""),[h,d]=S.useState(""),[m,y]=S.useState(""),[v,b]=S.useState(!1),[O,C]=S.useState(""),k=async()=>{const N=r.trim();if(!N){C("Continuous query name is required.");return}if(!a){C("Database is required.");return}const j=m.trim();if(!j){C("SELECT query is required.");return}b(!0),C("");try{let M="";const D=o.trim(),T=h.trim();(D||T)&&(M=" RESAMPLE",D&&(M+=` EVERY ${D}`),T&&(M+=` FOR ${T}`));const E=`CREATE CONTINUOUS QUERY "${N}" ON "${a}"${M} BEGIN ${j} END`;await we.query(E),n(),e()}catch(M){C(M?.message??"Failed to create continuous query.")}finally{b(!1)}};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-lg mx-4 p-6",children:[g.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[g.jsx(Zt,{className:"w-5 h-5 text-blue-400"}),"Create Continuous Query"]}),O&&g.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono break-all",children:O}),g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"CQ Name"}),g.jsx("input",{type:"text",value:r,onChange:N=>i(N.target.value),placeholder:"my_cq",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Database"}),g.jsx("select",{value:a,onChange:N=>l(N.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:t.map(N=>g.jsx("option",{value:N,children:N},N))})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Resample Every",g.jsx("span",{className:"ml-1 text-xs text-gray-500",children:"(optional)"})]}),g.jsx("input",{type:"text",value:o,onChange:N=>u(N.target.value),placeholder:"e.g. 1h",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Resample For",g.jsx("span",{className:"ml-1 text-xs text-gray-500",children:"(optional)"})]}),g.jsx("input",{type:"text",value:h,onChange:N=>d(N.target.value),placeholder:"e.g. 2h",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["SELECT Query",g.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(the full SELECT ... INTO ... FROM ... GROUP BY time(...) statement)"})]}),g.jsx("textarea",{value:m,onChange:N=>y(N.target.value),placeholder:'SELECT mean("value") INTO "downsampled"."autogen"."cpu" FROM "cpu" GROUP BY time(1h)',rows:4,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150 font-mono resize-y"})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[g.jsx("button",{onClick:e,disabled:v,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),g.jsxs("button",{onClick:k,disabled:v,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 flex items-center gap-2",children:[v&&g.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Create CQ"]})]})]})})}function gme({onError:t,onSuccess:e}){const[n,r]=S.useState([]),[i,a]=S.useState(!0),[l,o]=S.useState(!1),[u,h]=S.useState([]),[d,m]=S.useState(null),y=S.useCallback(async()=>{try{const C=await we.getDatabases();h(C)}catch{}},[]),v=S.useCallback(async()=>{a(!0);try{const k=(await we.getContinuousQueries()).map(N=>{const j=N.columns?.indexOf("name")??0,M=N.columns?.indexOf("query")??1,D=(N.values??[]).map(T=>({name:T[j],query:T[M]}));return{database:N.name,queries:D}});r(k)}catch(C){t(C?.message??"Failed to load continuous queries.")}finally{a(!1)}},[t]);S.useEffect(()=>{v(),y()},[v,y]);const b=async(C,k)=>{m(null);try{await we.query(`DROP CONTINUOUS QUERY "${C}" ON "${k}"`),e(`Continuous query "${C}" dropped from "${k}".`),v()}catch(N){t(N?.message??`Failed to drop continuous query "${C}".`)}},O=n.reduce((C,k)=>C+k.queries.length,0);return g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[g.jsx(Zt,{className:"w-5 h-5 text-blue-400"}),"Continuous Queries",!i&&g.jsxs("span",{className:"ml-1 text-xs font-normal text-gray-500",children:["(",O," total)"]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:v,disabled:i,title:"Refresh",className:"p-2 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-gray-200 rounded-md border border-gray-700 transition-colors duration-150 disabled:opacity-50",children:g.jsx(Zt,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),g.jsxs("button",{onClick:()=>{y(),o(!0)},className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150",children:[g.jsx(fa,{className:"w-4 h-4"}),"Create CQ"]})]})]}),i?g.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[g.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading continuous queries..."]}):n.length===0||O===0?g.jsxs("div",{className:"text-center py-16 text-gray-500",children:[g.jsx(Zt,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),g.jsx("p",{className:"text-sm",children:"No continuous queries found."})]}):g.jsx("div",{className:"flex flex-col gap-4",children:n.filter(C=>C.queries.length>0).map(C=>g.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[g.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 border-b border-gray-700 bg-gray-800",children:[g.jsx(ti,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),g.jsx("span",{className:"text-sm font-semibold text-gray-200 font-mono",children:C.database}),g.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",C.queries.length," ",C.queries.length===1?"query":"queries",")"]})]}),g.jsxs("table",{className:"min-w-full text-xs",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[g.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-400 w-40",children:"Name"}),g.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-400",children:"Query"}),g.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-400 w-24",children:"Actions"})]})}),g.jsx("tbody",{children:C.queries.map(k=>g.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[g.jsx("td",{className:"px-4 py-2.5 font-mono text-blue-300 align-top whitespace-nowrap",children:k.name}),g.jsx("td",{className:"px-4 py-2.5 text-gray-300 font-mono break-all align-top",children:g.jsx("span",{className:"whitespace-pre-wrap text-xs leading-relaxed",children:k.query})}),g.jsx("td",{className:"px-4 py-2.5 text-right align-top",children:g.jsxs("button",{onClick:()=>m({name:k.name,db:C.database}),className:"flex items-center gap-1 px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors duration-150 ml-auto",children:[g.jsx(ys,{className:"w-3 h-3"}),"Drop"]})})]},k.name))})]})]},C.database))}),d&&g.jsx(Hf,{title:"Drop Continuous Query",message:`Are you sure you want to drop the continuous query "${d.name}" on database "${d.db}"?`,confirmLabel:"Drop CQ",onConfirm:()=>b(d.name,d.db),onCancel:()=>m(null)}),l&&g.jsx(pme,{databases:u,onClose:()=>o(!1),onCreated:()=>{e("Continuous query created successfully."),v()}})]})}function yme({onCreated:t,onError:e,onSuccess:n}){const[r,i]=S.useState(""),[a,l]=S.useState(""),[o,u]=S.useState(!1),[h,d]=S.useState(!1),m=async()=>{const y=r.trim();if(!y){e("Username is required.");return}if(!a){e("Password is required.");return}d(!0);try{await we.query(`CREATE USER "${y}" WITH PASSWORD '${a}'`),o&&await we.query(`GRANT ALL PRIVILEGES TO "${y}"`),n(`User "${y}" created successfully.`),i(""),l(""),u(!1),t()}catch(v){e(v?.message??"Failed to create user.")}finally{d(!1)}};return g.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4 mb-6",children:[g.jsxs("h3",{className:"text-sm font-semibold text-gray-300 mb-3 flex items-center gap-2",children:[g.jsx(fa,{className:"w-4 h-4 text-blue-400"}),"Create User"]}),g.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[g.jsxs("div",{className:"flex-1 min-w-36",children:[g.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Username"}),g.jsx("input",{type:"text",value:r,onChange:y=>i(y.target.value),placeholder:"username",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),g.jsxs("div",{className:"flex-1 min-w-36",children:[g.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Password"}),g.jsx("input",{type:"password",value:a,onChange:y=>l(y.target.value),placeholder:"password",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),g.jsx("div",{className:"flex items-center gap-2 pb-0.5",children:g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[g.jsx("input",{type:"checkbox",checked:o,onChange:y=>u(y.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500 focus:ring-offset-gray-800"}),g.jsxs("span",{className:"text-sm text-gray-300 flex items-center gap-1",children:[g.jsx(Wo,{className:"w-3.5 h-3.5 text-amber-400"}),"Admin"]})]})}),g.jsxs("button",{onClick:m,disabled:h,className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[h?g.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):g.jsx(fa,{className:"w-4 h-4"}),"Create User"]})]})]})}function vme({username:t,onClose:e,onSuccess:n,onError:r}){const[i,a]=S.useState(""),[l,o]=S.useState(""),[u,h]=S.useState(!1),d=async()=>{if(!i){r("Password is required.");return}if(i!==l){r("Passwords do not match.");return}h(!0);try{await we.query(`SET PASSWORD FOR "${t}" = '${i}'`),n(`Password changed for "${t}".`),e()}catch(m){r(m?.message??"Failed to change password.")}finally{h(!1)}};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-sm mx-4 p-6",children:[g.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[g.jsx(gP,{className:"w-5 h-5 text-blue-400"}),"Change Password"]}),g.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["for user ",g.jsx("span",{className:"text-blue-400 font-mono",children:t})]}),g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsx("input",{type:"password",value:i,onChange:m=>a(m.target.value),placeholder:"New password",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"}),g.jsx("input",{type:"password",value:l,onChange:m=>o(m.target.value),placeholder:"Confirm password",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),g.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[g.jsx("button",{onClick:e,disabled:u,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),g.jsx("button",{onClick:d,disabled:u||!i||i!==l,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:"Change Password"})]})]})})}function xme({username:t,databases:e,onClose:n,onSuccess:r,onError:i}){const[a,l]=S.useState(e[0]??""),[o,u]=S.useState("ALL"),[h,d]=S.useState(!1),m=async()=>{if(!a){i("Database is required.");return}d(!0);try{await we.query(`GRANT ${o} ON "${a}" TO "${t}"`),r(`Granted ${o} on "${a}" to "${t}".`),n()}catch(y){i(y?.message??"Failed to grant privilege.")}finally{d(!1)}};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-sm mx-4 p-6",children:[g.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[g.jsx(Wo,{className:"w-5 h-5 text-blue-400"}),"Grant Privilege"]}),g.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["to user ",g.jsx("span",{className:"text-blue-400 font-mono",children:t})]}),g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Database"}),g.jsx("select",{value:a,onChange:y=>l(y.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:e.map(y=>g.jsx("option",{value:y,children:y},y))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Privilege"}),g.jsxs("select",{value:o,onChange:y=>u(y.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:[g.jsx("option",{value:"ALL",children:"ALL PRIVILEGES"}),g.jsx("option",{value:"READ",children:"READ"}),g.jsx("option",{value:"WRITE",children:"WRITE"})]})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[g.jsx("button",{onClick:n,disabled:h,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),g.jsx("button",{onClick:m,disabled:h,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:"Grant"})]})]})})}function bme({onError:t,onSuccess:e}){const[n,r]=S.useState([]),[i,a]=S.useState(!0),[l,o]=S.useState(null),[u,h]=S.useState(null),[d,m]=S.useState(null),[y,v]=S.useState([]),[b,O]=S.useState(null),[C,k]=S.useState({}),[N,j]=S.useState(null),M=S.useCallback(async()=>{a(!0);try{const R=await we.getUsers();r(Array.isArray(R)?R:[])}catch(R){t(R?.message??"Failed to load users.")}finally{a(!1)}},[t]),D=S.useCallback(async()=>{try{v(await we.getDatabases())}catch{}},[]);S.useEffect(()=>{M(),D()},[M,D]);const T=async R=>{o(null);try{await we.query(`DROP USER "${R}"`),e(`User "${R}" dropped successfully.`),M()}catch(H){t(H?.message??`Failed to drop user "${R}".`)}},E=async R=>{if(b===R){O(null);return}if(O(R),!C[R]){j(R);try{const H=await we.getUserGrants(R);k(B=>({...B,[R]:H}))}catch(H){t(H?.message??`Failed to load grants for "${R}".`)}finally{j(null)}}},_=async(R,H,B)=>{try{await we.query(`REVOKE ${B} ON "${H}" FROM "${R}"`),e(`Revoked ${B} on "${H}" from "${R}".`);const z=await we.getUserGrants(R);k(ie=>({...ie,[R]:z}))}catch(z){t(z?.message??"Failed to revoke privilege.")}};return g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[g.jsx(JA,{className:"w-5 h-5 text-blue-400"}),"Users"]}),g.jsx("button",{onClick:M,disabled:i,title:"Refresh",className:"p-2 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-gray-200 rounded-md border border-gray-700 transition-colors duration-150 disabled:opacity-50",children:g.jsx(Zt,{className:`w-4 h-4 ${i?"animate-spin":""}`})})]}),g.jsx(yme,{onCreated:M,onError:t,onSuccess:e}),i?g.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[g.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading users..."]}):n.length===0?g.jsxs("div",{className:"text-center py-12 text-gray-500",children:[g.jsx(JA,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),g.jsx("p",{className:"text-sm",children:"No users found."})]}):g.jsx("div",{className:"flex flex-col gap-2",children:n.map(R=>g.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"font-mono text-gray-100 text-sm",children:R.user}),R.admin?g.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-semibold bg-amber-900/60 text-amber-300 border border-amber-700",children:[g.jsx(Wo,{className:"w-3 h-3"})," Admin"]}):g.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-semibold bg-gray-700 text-gray-400 border border-gray-600",children:"User"})]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsxs("button",{onClick:()=>E(R.user),title:"View Grants",className:"flex items-center gap-1 px-2.5 py-1.5 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-md border border-gray-600 transition-colors duration-150",children:[g.jsx(zU,{className:"w-3.5 h-3.5"}),"Grants",b===R.user?g.jsx(fS,{className:"w-3 h-3"}):g.jsx(Ns,{className:"w-3 h-3"})]}),g.jsxs("button",{onClick:()=>h(R.user),title:"Change Password",className:"flex items-center gap-1 px-2.5 py-1.5 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-md border border-gray-600 transition-colors duration-150",children:[g.jsx(gP,{className:"w-3.5 h-3.5"}),"Password"]}),g.jsxs("button",{onClick:()=>{D(),m(R.user)},title:"Grant Privilege",className:"flex items-center gap-1 px-2.5 py-1.5 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150",children:[g.jsx(Wo,{className:"w-3.5 h-3.5"}),"Grant"]}),g.jsxs("button",{onClick:()=>o(R.user),className:"flex items-center gap-1 px-2.5 py-1.5 text-xs bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors duration-150",children:[g.jsx(ys,{className:"w-3.5 h-3.5"}),"Drop"]})]})]}),b===R.user&&g.jsxs("div",{className:"border-t border-gray-700 px-4 py-3 bg-gray-850",children:[g.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Database Grants"}),N===R.user?g.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-xs py-2",children:[g.jsxs("svg",{className:"w-3 h-3 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading grants..."]}):(C[R.user]??[]).length===0?g.jsx("p",{className:"text-xs text-gray-500",children:"No database-specific grants."}):g.jsx("div",{className:"rounded border border-gray-700 overflow-hidden",children:g.jsxs("table",{className:"min-w-full text-xs",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[g.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400",children:"Database"}),g.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400",children:"Privilege"}),g.jsx("th",{className:"px-3 py-2 text-right font-semibold text-gray-400",children:"Actions"})]})}),g.jsx("tbody",{children:(C[R.user]??[]).map((H,B)=>g.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[g.jsx("td",{className:"px-3 py-2 font-mono text-blue-300",children:H.database}),g.jsx("td",{className:"px-3 py-2 text-gray-300",children:H.privilege}),g.jsx("td",{className:"px-3 py-2 text-right",children:g.jsx("button",{onClick:()=>_(R.user,H.database,H.privilege),className:"px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white rounded transition-colors duration-150",children:"Revoke"})})]},B))})]})})]})]},R.user))}),l&&g.jsx(Hf,{title:"Drop User",message:`Are you sure you want to drop the user "${l}"? This action cannot be undone.`,confirmLabel:"Drop User",onConfirm:()=>T(l),onCancel:()=>o(null)}),u&&g.jsx(vme,{username:u,onClose:()=>h(null),onSuccess:e,onError:t}),d&&g.jsx(xme,{username:d,databases:y,onClose:()=>{m(null)},onSuccess:R=>{e(R),b===d&&we.getUserGrants(d).then(H=>k(B=>({...B,[d]:H}))).catch(()=>{})},onError:t})]})}function wme({onError:t}){const[e,n]=S.useState([]),[r,i]=S.useState(!1),[a,l]=S.useState(!1),o=async()=>{i(!0),l(!1);try{const v=await we.getDatabases();let b={};try{const C=await we.getShardGroups();for(const k of C){const N=k.database||k.Database,j=k.end_time||k["end time"]||k.expiry_time;if(N&&j){const M=new Date(j);!isNaN(M.getTime())&&(!b[N]||M>b[N])&&(b[N]=M)}}}catch{}const O=await Promise.all(v.map(async C=>{let k=0,N=[],j=0;try{k=await we.getSeriesCardinality(C)}catch{}try{N=await we.getMeasurements(C)}catch{}try{j=(await we.getRetentionPolicies(C)).length}catch{}let M=null;const D=N.slice(0,5);for(const _ of D)try{const H=(await we.query(`SELECT * FROM "${_}" ORDER BY time DESC LIMIT 1`,C,"rfc3339")).results?.[0]?.series?.[0];if(H&&H.values?.[0]){const B=H.columns.indexOf("time"),z=B>=0?String(H.values[0][B]):null;z&&(!M||z>M)&&(M=z)}}catch{}const T=b[C]||null;let E=null;return T&&(E=Math.max(0,Math.floor((Date.now()-T.getTime())/(1e3*60*60*24)))),{name:C,seriesCardinality:k,measurementCount:N.length,rpCount:j,latestShardEnd:T,staleDays:E,lastDataAt:M}}));O.sort((C,k)=>k.seriesCardinality-C.seriesCardinality),n(O),l(!0)}catch(v){t(v?.message??"Analysis failed.")}finally{i(!1)}},u=v=>v.staleDays===null?"":v.staleDays===0?"Today":v.staleDays===1?"1 day ago":`${v.staleDays}d ago`,h=7,d=e.reduce((v,b)=>v+b.seriesCardinality,0),m=e.reduce((v,b)=>v+b.measurementCount,0),y=e.filter(v=>v.staleDays!==null&&v.staleDays>h).length;return g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[g.jsx(Ro,{className:"w-5 h-5 text-blue-400"}),"Usage Insights"]}),g.jsxs("button",{onClick:o,disabled:r,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[r?g.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):g.jsx(Ro,{className:"w-4 h-4"}),r?"Analyzing...":a?"Re-analyze":"Analyze Usage"]})]}),!a&&!r&&g.jsxs("div",{className:"text-center py-16 text-gray-500",children:[g.jsx(Ro,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),g.jsx("p",{className:"text-sm",children:'Click "Analyze Usage" to scan all databases.'}),g.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Queries each database for series cardinality, measurements, and shard groups."})]}),r&&g.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[g.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Analyzing databases... this may take a moment."]}),a&&!r&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 mb-6",children:[g.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 px-4 py-3",children:[g.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Databases"}),g.jsx("div",{className:"text-lg font-bold text-gray-100",children:e.length})]}),g.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 px-4 py-3",children:[g.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Total Series"}),g.jsx("div",{className:"text-lg font-bold text-gray-100",children:d.toLocaleString()})]}),g.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 px-4 py-3",children:[g.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Total Measurements"}),g.jsx("div",{className:"text-lg font-bold text-gray-100",children:m.toLocaleString()})]}),g.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 px-4 py-3",children:[g.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["Stale (",">","7d)"]}),g.jsx("div",{className:`text-lg font-bold ${y>0?"text-amber-400":"text-green-400"}`,children:y})]})]}),e.length===0?g.jsxs("div",{className:"text-center py-12 text-gray-500",children:[g.jsx(ti,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),g.jsx("p",{className:"text-sm",children:"No databases found."})]}):g.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:g.jsxs("table",{className:"min-w-full text-sm",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[g.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400",children:"Database"}),g.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"Series"}),g.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"Measurements"}),g.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"RPs"}),g.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"Latest Shard"}),g.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"Last Data At"}),g.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-400",children:"Status"})]})}),g.jsx("tbody",{children:e.map(v=>{const b=v.staleDays!==null&&v.staleDays>h,O=v.name==="_internal";return g.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[g.jsxs("td",{className:"px-4 py-3 font-mono text-gray-100",children:[v.name,O&&g.jsx("span",{className:"ml-2 text-[10px] text-gray-500 font-sans",children:"(system)"})]}),g.jsx("td",{className:"px-4 py-3 text-right font-mono text-gray-300",children:v.seriesCardinality.toLocaleString()}),g.jsx("td",{className:"px-4 py-3 text-right font-mono text-gray-300",children:v.measurementCount.toLocaleString()}),g.jsx("td",{className:"px-4 py-3 text-right font-mono text-gray-300",children:v.rpCount}),g.jsx("td",{className:"px-4 py-3 text-right text-gray-400 text-xs",children:u(v)}),g.jsx("td",{className:"px-4 py-3 text-right text-xs font-mono",children:v.lastDataAt?g.jsx("span",{className:"text-gray-300",title:v.lastDataAt,children:(()=>{try{const C=new Date(v.lastDataAt);if(!isNaN(C.getTime()))return C.toLocaleString()}catch{}return v.lastDataAt})()}):g.jsx("span",{className:"text-gray-600",children:""})}),g.jsx("td",{className:"px-4 py-3 text-center",children:b&&!O?g.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-semibold bg-amber-900/60 text-amber-300 border border-amber-700",children:[g.jsx(vH,{className:"w-3 h-3"}),"Stale"]}):v.staleDays!==null?g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-green-900/40 text-green-400 border border-green-800",children:"Active"}):g.jsx("span",{className:"text-gray-600 text-xs",children:""})})]},v.name)})})]})})]})]})}function Sme({onError:t,onSuccess:e}){const[n,r]=S.useState([]),[i,a]=S.useState(!0),[l,o]=S.useState(!1),[u,h]=S.useState([]),[d,m]=S.useState(null),[y,v]=S.useState(""),[b,O]=S.useState(""),[C,k]=S.useState(""),[N,j]=S.useState("ANY"),[M,D]=S.useState(""),[T,E]=S.useState(!1),[_,R]=S.useState(""),H=S.useCallback(async()=>{a(!0);try{const I=await we.getSubscriptions();r(I)}catch(I){t(I?.message??"Failed to load subscriptions.")}finally{a(!1)}},[t]),B=S.useCallback(async()=>{try{h(await we.getDatabases())}catch{}},[]);S.useEffect(()=>{H(),B()},[H,B]);const z=async(I,q,V)=>{m(null);try{await we.query(`DROP SUBSCRIPTION "${I}" ON "${q}"."${V}"`),e(`Subscription "${I}" dropped.`),H()}catch(te){t(te?.message??`Failed to drop subscription "${I}".`)}},ie=async()=>{if(!C.trim()){R("Subscription name is required.");return}if(!y){R("Database is required.");return}if(!b.trim()){R("Retention policy is required.");return}if(!M.trim()){R("At least one destination is required.");return}E(!0),R("");try{const I=M.split(",").map(q=>`'${q.trim()}'`).join(", ");await we.query(`CREATE SUBSCRIPTION "${C.trim()}" ON "${y}"."${b.trim()}" DESTINATIONS ${N} ${I}`),e("Subscription created successfully."),o(!1),k(""),O(""),D(""),H()}catch(I){R(I?.message??"Failed to create subscription.")}finally{E(!1)}},ne=n.reduce((I,q)=>I+(q.values?.length??0),0);return g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[g.jsx(Iv,{className:"w-5 h-5 text-blue-400"}),"Subscriptions",!i&&g.jsxs("span",{className:"ml-1 text-xs font-normal text-gray-500",children:["(",ne," total)"]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:H,disabled:i,title:"Refresh",className:"p-2 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-gray-200 rounded-md border border-gray-700 transition-colors duration-150 disabled:opacity-50",children:g.jsx(Zt,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),g.jsxs("button",{onClick:()=>{B(),o(!0)},className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150",children:[g.jsx(fa,{className:"w-4 h-4"})," Create Subscription"]})]})]}),i?g.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[g.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading subscriptions..."]}):ne===0?g.jsxs("div",{className:"text-center py-16 text-gray-500",children:[g.jsx(Iv,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),g.jsx("p",{className:"text-sm",children:"No subscriptions found."})]}):g.jsx("div",{className:"flex flex-col gap-4",children:n.filter(I=>I.values?.length>0).map(I=>g.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[g.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 border-b border-gray-700 bg-gray-800",children:[g.jsx(ti,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),g.jsx("span",{className:"text-sm font-semibold text-gray-200 font-mono",children:I.name})]}),g.jsxs("table",{className:"min-w-full text-xs",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[(I.columns??[]).map(q=>g.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-400",children:q},q)),g.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-400 w-24",children:"Actions"})]})}),g.jsx("tbody",{children:(I.values??[]).map((q,V)=>{const te=(I.columns??[]).indexOf("name"),W=(I.columns??[]).indexOf("retention_policy");return g.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[q.map((ce,L)=>g.jsx("td",{className:"px-4 py-2.5 text-gray-300 font-mono break-all",children:String(ce??"")},L)),g.jsx("td",{className:"px-4 py-2.5 text-right",children:g.jsx("button",{onClick:()=>m({name:q[te]??"",db:I.name,rp:q[W]??""}),className:"px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white rounded transition-colors duration-150",children:"Drop"})})]},V)})})]})]},I.name))}),d&&g.jsx(Hf,{title:"Drop Subscription",message:`Drop subscription "${d.name}" on "${d.db}"."${d.rp}"?`,confirmLabel:"Drop",onConfirm:()=>z(d.name,d.db,d.rp),onCancel:()=>m(null)}),l&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[g.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[g.jsx(Iv,{className:"w-5 h-5 text-blue-400"})," Create Subscription"]}),_&&g.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono",children:_}),g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Subscription Name"}),g.jsx("input",{type:"text",value:C,onChange:I=>k(I.target.value),placeholder:"my_subscription",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Database"}),g.jsxs("select",{value:y,onChange:I=>v(I.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:[g.jsx("option",{value:"",children:"Select database"}),u.map(I=>g.jsx("option",{value:I,children:I},I))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Retention Policy"}),g.jsx("input",{type:"text",value:b,onChange:I=>O(I.target.value),placeholder:"autogen",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Mode"}),g.jsxs("select",{value:N,onChange:I=>j(I.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:[g.jsx("option",{value:"ANY",children:"ANY"}),g.jsx("option",{value:"ALL",children:"ALL"})]})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Destinations ",g.jsx("span",{className:"text-xs text-gray-500",children:"(comma-separated URIs)"})]}),g.jsx("input",{type:"text",value:M,onChange:I=>D(I.target.value),placeholder:"udp://host1:9090, udp://host2:9090",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[g.jsx("button",{onClick:()=>o(!1),disabled:T,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),g.jsx("button",{onClick:ie,disabled:T,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:"Create"})]})]})})]})}function Cme({onError:t}){const[e,n]=S.useState([]),[r,i]=S.useState([]),[a,l]=S.useState({}),[o,u]=S.useState(!1),[h,d]=S.useState(!1),m=async()=>{u(!0);try{const[b,O]=await Promise.all([we.getUsers(),we.getDatabases()]);n(Array.isArray(b)?b:[]),i(O);const C={};await Promise.all((b??[]).map(async k=>{try{const N=await we.getUserGrants(k.user),j={};for(const M of N)j[M.database]=M.privilege;C[k.user]=j}catch{C[k.user]={}}})),l(C),d(!0)}catch(b){t(b?.message??"Failed to load privilege matrix.")}finally{u(!1)}},y=b=>!b||b==="NO PRIVILEGES"?"text-gray-600":b==="ALL PRIVILEGES"?"text-green-400":b==="READ"?"text-blue-400":b==="WRITE"?"text-amber-400":"text-gray-300",v=b=>!b||b==="NO PRIVILEGES"?"-":b==="ALL PRIVILEGES"?"ALL":b;return g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[g.jsx(Wo,{className:"w-5 h-5 text-blue-400"}),"Privilege Matrix"]}),g.jsxs("button",{onClick:m,disabled:o,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[o?g.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):g.jsx(Zt,{className:"w-4 h-4"}),o?"Loading...":h?"Refresh":"Load Matrix"]})]}),!h&&!o&&g.jsxs("div",{className:"text-center py-16 text-gray-500",children:[g.jsx(Wo,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),g.jsx("p",{className:"text-sm",children:'Click "Load Matrix" to view the per-database privilege grid.'}),g.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Shows SHOW GRANTS for each user across all databases."})]}),o&&g.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[g.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading privilege matrix..."]}),h&&!o&&g.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-x-auto",children:g.jsxs("table",{className:"min-w-full text-xs",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[g.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 sticky left-0 bg-gray-800 z-10",children:"User"}),g.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-400",children:"Admin"}),r.map(b=>g.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-400 font-mono whitespace-nowrap",children:b},b))]})}),g.jsx("tbody",{children:e.map(b=>g.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[g.jsx("td",{className:"px-4 py-3 font-mono text-gray-100 sticky left-0 bg-gray-800",children:b.user}),g.jsx("td",{className:"px-4 py-3 text-center",children:b.admin?g.jsx("span",{className:"text-amber-400 font-semibold",children:"Yes"}):g.jsx("span",{className:"text-gray-600",children:"No"})}),r.map(O=>{const C=a[b.user]?.[O]??"";return g.jsx("td",{className:`px-4 py-3 text-center font-semibold ${y(C)}`,children:v(C)},O)})]},b.user))})]})})]})}const Ome=[{id:"databases",label:"Databases & RPs"},{id:"continuous_queries",label:"Continuous Queries"},{id:"users",label:"Users"},{id:"subscriptions",label:"Subscriptions"},{id:"privileges",label:"Privileges"},{id:"insights",label:"Usage Insights"}];function kme(){const[t,e]=S.useState("databases"),[n,r]=S.useState(""),[i,a]=S.useState(""),[l,o]=S.useState(0);S.useEffect(()=>{const d=()=>{o(m=>m+1),r(""),a("")};return window.addEventListener("tidedb-connection-change",d),()=>window.removeEventListener("tidedb-connection-change",d)},[]);const u=S.useCallback(d=>{r(d),a("")},[]),h=S.useCallback(d=>{a(d),r("")},[]);return g.jsxs("div",{className:"min-h-full bg-gray-950 text-gray-100",children:[g.jsxs("div",{className:"border-b border-gray-800 px-6 py-4",children:[g.jsxs("h1",{className:"text-xl font-bold text-gray-100 flex items-center gap-2",children:[g.jsx(ti,{className:"w-6 h-6 text-blue-400"}),"Database Administration"]}),g.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Manage databases, retention policies, continuous queries, and users."})]}),g.jsx("div",{className:"flex items-center gap-1 px-6 pt-4 pb-0",children:Ome.map(d=>g.jsx("button",{onClick:()=>{e(d.id),r(""),a("")},className:`px-4 py-2 text-sm font-medium rounded-t-md transition-colors duration-150 ${t===d.id?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-gray-200 hover:bg-gray-700"}`,children:d.label},d.id))}),g.jsxs("div",{className:"px-6 py-5",children:[n&&g.jsx(cme,{message:n,onDismiss:()=>r("")}),i&&g.jsx(ume,{message:i,onDismiss:()=>a("")}),t==="databases"&&g.jsx(mme,{onError:u,onSuccess:h},l),t==="continuous_queries"&&g.jsx(gme,{onError:u,onSuccess:h},l),t==="users"&&g.jsx(bme,{onError:u,onSuccess:h},l),t==="subscriptions"&&g.jsx(Sme,{onError:u,onSuccess:h},l),t==="privileges"&&g.jsx(Cme,{onError:u},l),t==="insights"&&g.jsx(wme,{onError:u},l)]})]})}const jme=[{value:"ns",label:"ns  Nanoseconds"},{value:"us",label:"us  Microseconds"},{value:"ms",label:"ms  Milliseconds"},{value:"s",label:"s   Seconds"}],Ame=`Enter line protocol data here...
cpu,host=server01 usage_idle=98.2 1622505600000000000`;function e1(t){return t.split(`
`).filter(e=>e.trim().length>0&&!e.trim().startsWith("#")).length}function sS(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const a=t[i];r?a==='"'&&t[i+1]==='"'?(n+='"',i++):a==='"'?r=!1:n+=a:a==='"'?r=!0:a===","?(e.push(n),n=""):n+=a}return e.push(n),e}function F5(t,e,n,r){const i=t.split(`
`).filter(o=>o.trim().length>0);if(i.length<2)return"";const a=sS(i[0]).map(o=>o.trim()),l=[];for(let o=1;o<i.length;o++){const u=sS(i[o]);if(u.length!==a.length)continue;let h="";const d=[];let m="";if(a.forEach((v,b)=>{const O=u[b]?.trim()??"";if(O)if(v===r){const C=Number(O);if(!isNaN(C))m=String(C);else{const k=new Date(O);isNaN(k.getTime())||(m=String(k.getTime()*1e6))}}else if(n.has(v)){const C=O.replace(/ /g,"\\ ").replace(/,/g,"\\,").replace(/=/g,"\\=");h+=`,${v}=${C}`}else{const C=Number(O);!isNaN(C)&&O!==""?d.push(`${v}=${O}`):O==="true"||O==="false"||O==="TRUE"||O==="FALSE"?d.push(`${v}=${O.toLowerCase()}`):d.push(`${v}="${O.replace(/"/g,'\\"')}"`)}}),d.length===0)continue;let y=e+h+" "+d.join(",");m&&(y+=" "+m),l.push(y)}return l.join(`
`)}function Nme({onConvert:t}){const[e,n]=S.useState(""),[r,i]=S.useState([]),[a,l]=S.useState(""),[o,u]=S.useState(new Set),[h,d]=S.useState(""),[m,y]=S.useState(""),v=S.useRef(null),b=S.useCallback(j=>{const M=j.split(`
`)[0]??"",D=sS(M).map(E=>E.trim()).filter(Boolean);i(D);const T=D.find(E=>/^(time|timestamp|date|datetime)$/i.test(E));T&&d(T)},[]),O=j=>{const M=j.target.files?.[0];if(!M)return;const D=new FileReader;D.onload=T=>{const E=T.target?.result;typeof E=="string"&&(n(E),b(E))},D.readAsText(M),j.target.value=""},C=j=>{u(M=>{const D=new Set(M);return D.has(j)?D.delete(j):D.add(j),D})},k=()=>{if(!a.trim()||!e)return;const j=F5(e,a.trim(),o,h);y(j)},N=()=>{if(!a.trim()||!e)return;const j=F5(e,a.trim(),o,h);t(j)};return g.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4 mt-6",children:[g.jsxs("h3",{className:"text-sm font-semibold text-gray-200 mb-3 flex items-center gap-2",children:[g.jsx(VU,{className:"w-4 h-4 text-blue-400"}),"CSV Import"]}),g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("button",{onClick:()=>v.current?.click(),className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 text-gray-200 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[g.jsx(xP,{className:"w-4 h-4"})," Upload CSV"]}),g.jsx("input",{ref:v,type:"file",accept:".csv",className:"hidden",onChange:O}),e&&g.jsxs("span",{className:"text-xs text-gray-400",children:[e.split(`
`).length-1," rows detected"]})]}),r.length>0&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Measurement Name"}),g.jsx("input",{type:"text",value:a,onChange:j=>l(j.target.value),placeholder:"my_measurement",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150 max-w-xs"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Timestamp Column"}),g.jsxs("select",{value:h,onChange:j=>d(j.target.value),className:"bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150 max-w-xs",children:[g.jsx("option",{value:"",children:"(none  auto timestamp)"}),r.map(j=>g.jsx("option",{value:j,children:j},j))]})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-xs font-medium text-gray-400 mb-2",children:["Tag Columns ",g.jsx("span",{className:"text-gray-500",children:"(click to toggle, unselected = field)"})]}),g.jsx("div",{className:"flex flex-wrap gap-2",children:r.filter(j=>j!==h).map(j=>g.jsx("button",{onClick:()=>C(j),className:`px-2.5 py-1 text-xs rounded-md border transition-colors duration-150 font-mono ${o.has(j)?"bg-blue-600 border-blue-500 text-white":"bg-gray-700 border-gray-600 text-gray-300 hover:bg-gray-600"}`,children:j},j))})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:k,disabled:!a.trim(),className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 text-gray-200 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:"Preview"}),g.jsxs("button",{onClick:N,disabled:!a.trim(),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[g.jsx(lU,{className:"w-4 h-4"})," Convert to Line Protocol"]})]}),m&&g.jsx("div",{className:"bg-gray-900 rounded-md border border-gray-700 p-3 max-h-48 overflow-y-auto",children:g.jsxs("pre",{className:"text-xs text-gray-300 font-mono whitespace-pre-wrap",children:[m.split(`
`).slice(0,20).join(`
`),m.split(`
`).length>20?`
... (${m.split(`
`).length-20} more lines)`:""]})})]})]})]})}function Eme(){const[t,e]=S.useState([]),[n,r]=S.useState(""),[i,a]=S.useState([]),[l,o]=S.useState(""),[u,h]=S.useState("ns"),[d,m]=S.useState(""),[y,v]=S.useState({kind:"idle"}),[b,O]=S.useState(!1),C=S.useRef(null),k=S.useCallback(()=>{we.getDatabases().then(E=>{e(E),E.length>0?r(E[0]):(r(""),a([]),o(""))}).catch(()=>{e([])})},[]);S.useEffect(()=>{k()},[k]),S.useEffect(()=>{const E=()=>{k(),v({kind:"idle"})};return window.addEventListener("tidedb-connection-change",E),()=>window.removeEventListener("tidedb-connection-change",E)},[k]),S.useEffect(()=>{if(!n){a([]),o("");return}we.getRetentionPolicies(n).then(E=>{a(E);const _=E.find(R=>R.default);o(_?.name??E[0]?.name??"")}).catch(()=>{a([]),o("")})},[n]);const N=async()=>{const E=d.trim();if(!(!n||!E)){O(!0),v({kind:"loading"});try{await we.write(n,E,u,l||void 0);const _=e1(E);v({kind:"success",points:_})}catch(_){v({kind:"error",message:_?.message??"Unknown error"})}finally{O(!1)}}},j=()=>{C.current?.click()},M=E=>{const _=E.target.files?.[0];if(!_)return;const R=new FileReader;R.onload=H=>{const B=H.target?.result;typeof B=="string"&&(m(B),v({kind:"idle"}))},R.readAsText(_),E.target.value=""},D=()=>{m(""),v({kind:"idle"})},T=!!n&&d.trim().length>0;return g.jsxs("div",{className:"flex flex-col h-full bg-gray-950 text-gray-100 overflow-y-auto",children:[g.jsx("div",{className:"flex items-center gap-3 px-4 py-2 bg-gray-900 border-b border-gray-700 flex-shrink-0",children:g.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Write Data"})}),g.jsx("div",{className:"flex-1 p-6",children:g.jsxs("div",{className:"max-w-4xl mx-auto bg-gray-800 rounded-lg border border-gray-700 p-6 flex flex-col gap-6",children:[g.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[g.jsxs("div",{className:"flex flex-col gap-1.5",children:[g.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Database"}),g.jsxs("select",{value:n,onChange:E=>{r(E.target.value),v({kind:"idle"})},className:"bg-gray-700 border border-gray-600 text-gray-100 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors duration-150 min-w-[160px]",children:[g.jsx("option",{value:"",children:" select database "}),t.map(E=>g.jsx("option",{value:E,children:E},E))]})]}),g.jsxs("div",{className:"flex flex-col gap-1.5",children:[g.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Retention Policy"}),g.jsxs("select",{value:l,onChange:E=>o(E.target.value),disabled:i.length===0,className:"bg-gray-700 border border-gray-600 text-gray-100 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors duration-150 min-w-[160px] disabled:opacity-50 disabled:cursor-not-allowed",children:[g.jsx("option",{value:"",children:" default "}),i.map(E=>g.jsxs("option",{value:E.name,children:[E.name,E.default?" (default)":""]},E.name))]})]}),g.jsxs("div",{className:"flex flex-col gap-1.5",children:[g.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Precision"}),g.jsx("select",{value:u,onChange:E=>h(E.target.value),className:"bg-gray-700 border border-gray-600 text-gray-100 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors duration-150 min-w-[180px]",children:jme.map(E=>g.jsx("option",{value:E.value,children:E.label},E.value))})]})]}),g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Line Protocol Data"}),g.jsxs("span",{className:"text-xs text-gray-500",children:[e1(d)," line",e1(d)!==1?"s":""]})]}),g.jsx("div",{className:"rounded-md overflow-hidden border border-gray-600",children:g.jsx(YS,{value:d,onChange:E=>{m(E),(y.kind==="success"||y.kind==="error")&&v({kind:"idle"})},placeholder:Ame,theme:"dark",height:"300px",style:{height:"300px",fontSize:"13px",backgroundColor:"#1f2937"},basicSetup:{lineNumbers:!0,highlightActiveLineGutter:!0,highlightActiveLine:!0,bracketMatching:!1,autocompletion:!1,indentOnInput:!1}})})]}),g.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[g.jsxs("button",{onClick:N,disabled:!T||b,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-900 disabled:text-blue-400 disabled:cursor-not-allowed text-white px-4 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[g.jsx(fH,{className:"w-4 h-4"}),"Write Data"]}),g.jsxs("button",{onClick:j,disabled:b,className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-gray-200 px-4 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[g.jsx(xP,{className:"w-4 h-4"}),"Upload File"]}),g.jsx("input",{ref:C,type:"file",accept:".txt,.lp",className:"hidden",onChange:M}),g.jsxs("button",{onClick:D,disabled:b,className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-gray-200 px-4 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[g.jsx(ys,{className:"w-4 h-4"}),"Clear"]})]}),y.kind!=="idle"&&g.jsxs("div",{className:"flex items-start gap-3 rounded-md px-4 py-3 text-sm border",style:y.kind==="loading"?{backgroundColor:"rgba(55,65,81,0.5)",borderColor:"#4b5563",color:"#d1d5db"}:y.kind==="success"?{backgroundColor:"rgba(5,46,22,0.6)",borderColor:"#15803d",color:"#86efac"}:{backgroundColor:"rgba(69,10,10,0.6)",borderColor:"#b91c1c",color:"#fca5a5"},children:[y.kind==="loading"&&g.jsxs(g.Fragment,{children:[g.jsxs("svg",{className:"w-5 h-5 animate-spin flex-shrink-0 mt-0.5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),g.jsx("span",{children:"Writing data..."})]}),y.kind==="success"&&g.jsxs(g.Fragment,{children:[g.jsx(bU,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),g.jsxs("span",{children:[y.points," point",y.points!==1?"s":""," written successfully"]})]}),y.kind==="error"&&g.jsxs(g.Fragment,{children:[g.jsx(pP,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),g.jsx("span",{className:"break-all font-mono text-xs",children:y.message})]})]}),g.jsx(Nme,{onConvert:E=>{m(E),v({kind:"idle"})}})]})})]})}function W5(t){return t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}function t1(t){if(!t)return"";try{return new Date(t).toLocaleString()}catch{return t}}function Tme(t){const e={};if(!t?.results)return e;for(const n of t.results)if(n.series)for(const r of n.series){const i=(r.name??"").toLowerCase();if(i==="system"){const a=r.columns??[],l=r.values??[];if(l.length===0)continue;const o=l[0],u=h=>{const d=a.indexOf(h);return d>=0?String(o[d]??""):""};e.uptime=u("uptime")||u("upTime")||u("currentTime"),e.pid=u("PID")||u("pid")}if(i==="runtime"){const a=r.columns??[],l=r.values??[];if(l.length===0)continue;const o=l[0],u=h=>{const d=a.indexOf(h);return d>=0?String(o[d]??""):""};e.goVersion=u("version")||u("GOOS"),e.os=u("GOOS"),e.arch=u("GOARCH")}if(i==="build"){const a=r.columns??[],l=r.values??[];if(l.length===0)continue;const o=l[0],u=h=>{const d=a.indexOf(h);return d>=0?String(o[d]??""):""};e.version=u("Version")||u("version"),e.goVersion||(e.goVersion=u("GoVersion")||u("goVersion")),e.os||(e.os=u("OS")||u("os")),e.arch||(e.arch=u("Arch")||u("arch"))}}return e}function K5(t,e,n){if(!t?.results)return 0;for(const r of t.results)if(r.series)for(const i of r.series){if((i.name??"").toLowerCase()!==e.toLowerCase())continue;const l=i.columns??[],o=i.values??[],u=l.indexOf(n);if(!(u<0)&&o.length>0)return Number(o[0][u])||0}return 0}function Mme({message:t,onDismiss:e}){return g.jsxs("div",{className:"flex items-start justify-between bg-red-950/60 border border-red-700 rounded-md px-4 py-3 mb-4 text-sm text-red-300",children:[g.jsx("span",{className:"font-mono break-all",children:t}),g.jsx("button",{onClick:e,className:"ml-4 flex-shrink-0 text-red-400 hover:text-red-200 transition-colors duration-150",children:""})]})}function _u({icon:t,label:e,value:n}){return g.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4 flex flex-col gap-2",children:[g.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs font-semibold uppercase tracking-wider",children:[t,e]}),g.jsx("div",{className:"text-gray-100 text-sm font-mono break-all leading-relaxed",children:n||g.jsx("span",{className:"text-gray-600 italic",children:""})})]})}function G5({active:t,payload:e,label:n}){return!t||!e?.length?null:g.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-xs shadow-lg",children:[g.jsx("p",{className:"text-gray-400 mb-1",children:n}),e.map(r=>g.jsxs("p",{style:{color:r.color},children:[r.name,": ",g.jsx("span",{className:"font-mono font-semibold",children:r.value.toLocaleString()})]},r.dataKey))]})}function Ru({icon:t,title:e,subtitle:n}){return g.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[g.jsx("span",{className:"text-blue-400",children:t}),g.jsx("h2",{className:"text-base font-semibold text-gray-200",children:e}),n&&g.jsx("span",{className:"text-xs text-gray-500",children:n})]})}function Y5(t){const e=[];if(!t?.results)return e;for(const n of t.results)for(const r of n.series??[])e.push({name:r.name??"Unknown",columns:r.columns??[],values:r.values??[]});return e}function Q5({section:t}){const[e,n]=S.useState(!1);return g.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[g.jsxs("button",{onClick:()=>n(r=>!r),className:"flex items-center justify-between w-full px-4 py-3 text-left hover:bg-gray-750 transition-colors duration-150",children:[g.jsx("span",{className:"text-sm font-semibold text-gray-200",children:t.name}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"text-xs text-gray-500",children:[t.columns.length," fields"]}),e?g.jsx(fS,{className:"w-4 h-4 text-gray-400"}):g.jsx(Ns,{className:"w-4 h-4 text-gray-400"})]})]}),e&&t.values.length>0&&g.jsxs("div",{className:"border-t border-gray-700 px-4 py-3",children:[g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:t.columns.map((r,i)=>g.jsxs("div",{className:"flex items-start gap-2",children:[g.jsxs("span",{className:"text-xs text-gray-500 min-w-[120px] font-mono",children:[r,":"]}),g.jsx("span",{className:"text-xs text-gray-200 font-mono break-all",children:String(t.values[0][i]??"")})]},r))}),t.values.length>1&&g.jsx("div",{className:"mt-3 border-t border-gray-700 pt-3",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full text-xs",children:[g.jsx("thead",{children:g.jsx("tr",{className:"border-b border-gray-700",children:t.columns.map(r=>g.jsx("th",{className:"px-2 py-1 text-left font-semibold text-gray-400 whitespace-nowrap",children:r},r))})}),g.jsx("tbody",{children:t.values.map((r,i)=>g.jsx("tr",{className:"border-b border-gray-700 last:border-0",children:r.map((a,l)=>g.jsx("td",{className:"px-2 py-1 text-gray-300 font-mono whitespace-nowrap",children:String(a??"")},l))},i))})]})})})]})]})}function Dme(){const[t,e]=S.useState({}),[n,r]=S.useState(!0),[i,a]=S.useState([]),[l,o]=S.useState([]),[u,h]=S.useState(null),[d,m]=S.useState([]),[y,v]=S.useState(!0),[b,O]=S.useState(0),C=25,[k,N]=S.useState(null),[j,M]=S.useState(""),[D,T]=S.useState([]),[E,_]=S.useState([]),[R,H]=S.useState(!1),[B,z]=S.useState(!1),[ie,ne]=S.useState(!1),I=S.useRef(null),q=S.useCallback(async()=>{r(!0);try{const X=await we.getDiagnostics(),de=Tme(X);try{const he=await we.ping();he.version&&he.version!=="unknown"&&(de.version=he.version)}catch{}e(de)}catch(X){M(X?.message??"Failed to load diagnostics.")}finally{r(!1)}},[]),V=S.useCallback(async()=>{try{const X=await we.getStats(),de=K5(X,"httpd","pointsWrittenOK"),he=K5(X,"httpd","queryReq"),ve=I.current,ot=ve?Math.max(0,de-ve.pointsWritten):0,ae=ve?Math.max(0,he-ve.queriesExecuted):0;I.current={pointsWritten:de,queriesExecuted:he};const Ee=new Date,_e={time:W5(Ee),pointsWritten:ot,queriesExecuted:ae};a(fe=>{const bt=[...fe,_e];return bt.length>60?bt.slice(bt.length-60):bt}),N(Ee)}catch(X){M(X?.message??"Failed to load stats.")}},[]),te=S.useCallback(async()=>{try{const de=(await we.getRunningQueries()).map(he=>({qid:he.qid??he.id??"",database:he.database??he.db??"",query:he.query??"",duration:he.duration??""}));o(de)}catch(X){M(X?.message??"Failed to load running queries.")}},[]),W=S.useCallback(async()=>{v(!0);try{const de=(await we.getShardGroups()).map(he=>({id:he.id??he.shardGroupID??"",database:he.database??he.db??"",retentionPolicy:he.retentionPolicy??he.rp??he.retention_policy??"",startTime:he.startTime??he.start_time??he.start??"",endTime:he.endTime??he.end_time??he.end??"",expiryTime:he.expiryTime??he.expiry_time??he.expiry??""}));m(de)}catch(X){M(X?.message??"Failed to load shard groups.")}finally{v(!1)}},[]),ce=async X=>{h(X);try{await we.killQuery(Number(X)),await te()}catch(de){M(de?.message??`Failed to kill query ${X}.`)}finally{h(null)}},L=S.useCallback(async()=>{H(!0);try{const X=await we.getDiagnostics();T(Y5(X))}catch(X){M(X?.message??"Failed to load diagnostics.")}finally{H(!1)}},[]),Y=S.useCallback(async()=>{z(!0);try{const X=await we.getStats();_(Y5(X))}catch(X){M(X?.message??"Failed to load stats.")}finally{z(!1)}},[]),ue=async()=>{ne(!0);try{const X=await we.backup(),de=URL.createObjectURL(X),he=document.createElement("a");he.href=de,he.download=`tidedb-backup-${new Date().toISOString().replace(/[:.]/g,"-")}.tar.gz`,document.body.appendChild(he),he.click(),document.body.removeChild(he),URL.revokeObjectURL(de)}catch(X){M(X?.message??"Backup failed.")}finally{ne(!1)}};return S.useEffect(()=>{q(),W()},[q,W]),S.useEffect(()=>{const X=()=>{I.current=null,a([]),T([]),_([]),M(""),q(),W()};return window.addEventListener("tidedb-connection-change",X),()=>window.removeEventListener("tidedb-connection-change",X)},[q,W]),S.useEffect(()=>{V(),te();const X=setInterval(()=>{V(),te()},5e3);return()=>clearInterval(X)},[V,te]),g.jsxs("div",{className:"min-h-full bg-gray-950 text-gray-100",children:[g.jsxs("div",{className:"border-b border-gray-800 px-6 py-4 flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-xl font-bold text-gray-100 flex items-center gap-2",children:[g.jsx(sl,{className:"w-6 h-6 text-blue-400"}),"System Health"]}),g.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Live diagnostics, performance metrics, and active queries."})]}),g.jsx("div",{className:"flex items-center gap-3",children:k&&g.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1.5",children:[g.jsx(Zt,{className:"w-3 h-3"}),"Last updated: ",W5(k)]})})]}),g.jsxs("div",{className:"px-6 py-5 flex flex-col gap-8",children:[j&&g.jsx(Mme,{message:j,onDismiss:()=>M("")}),g.jsxs("section",{children:[g.jsx(Ru,{icon:g.jsx(o1,{className:"w-5 h-5"}),title:"Server Information"}),n?g.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm py-4",children:[g.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading server info..."]}):g.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[g.jsx(_u,{icon:g.jsx(sl,{className:"w-3.5 h-3.5"}),label:"Version",value:t.version&&t.version!=="unknown"?t.version:""}),g.jsx(_u,{icon:g.jsx(ef,{className:"w-3.5 h-3.5"}),label:"Uptime",value:t.uptime??""}),g.jsx(_u,{icon:g.jsx(TU,{className:"w-3.5 h-3.5"}),label:"Go Version",value:t.goVersion??""}),g.jsx(_u,{icon:g.jsx(o1,{className:"w-3.5 h-3.5"}),label:"OS / Arch",value:t.os&&t.arch?`${t.os} / ${t.arch}`:t.os??t.arch??""}),g.jsx(_u,{icon:g.jsx(xm,{className:"w-3.5 h-3.5"}),label:"PID",value:t.pid??""})]})]}),g.jsxs("section",{children:[g.jsx(Ru,{icon:g.jsx(sl,{className:"w-5 h-5"}),title:"Performance Metrics",subtitle:"(auto-refresh every 5s, last 60 samples)"}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[g.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"Points Written / interval"}),i.length===0?g.jsx("div",{className:"flex items-center justify-center h-40 text-gray-600 text-sm",children:"Collecting data..."}):g.jsx(Mp,{width:"100%",height:180,children:g.jsxs(cg,{data:i,margin:{top:4,right:8,left:0,bottom:0},children:[g.jsx(Lf,{strokeDasharray:"3 3",stroke:"#374151"}),g.jsx(If,{dataKey:"time",tick:{fill:"#9ca3af",fontSize:10},tickLine:!1,axisLine:{stroke:"#374151"},interval:"preserveStartEnd"}),g.jsx(Uf,{tick:{fill:"#9ca3af",fontSize:10},tickLine:!1,axisLine:!1,width:40}),g.jsx(tg,{content:g.jsx(G5,{})}),g.jsx(zf,{type:"monotone",dataKey:"pointsWritten",name:"Points Written",stroke:"#3b82f6",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"#3b82f6"}})]})})]}),g.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[g.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"Queries Executed / interval"}),i.length===0?g.jsx("div",{className:"flex items-center justify-center h-40 text-gray-600 text-sm",children:"Collecting data..."}):g.jsx(Mp,{width:"100%",height:180,children:g.jsxs(cg,{data:i,margin:{top:4,right:8,left:0,bottom:0},children:[g.jsx(Lf,{strokeDasharray:"3 3",stroke:"#374151"}),g.jsx(If,{dataKey:"time",tick:{fill:"#9ca3af",fontSize:10},tickLine:!1,axisLine:{stroke:"#374151"},interval:"preserveStartEnd"}),g.jsx(Uf,{tick:{fill:"#9ca3af",fontSize:10},tickLine:!1,axisLine:!1,width:40}),g.jsx(tg,{content:g.jsx(G5,{})}),g.jsx(zf,{type:"monotone",dataKey:"queriesExecuted",name:"Queries Executed",stroke:"#22c55e",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"#22c55e"}})]})})]})]})]}),g.jsxs("section",{children:[g.jsx(Ru,{icon:g.jsx(sl,{className:"w-5 h-5"}),title:"Active Queries",subtitle:"(auto-refresh every 5s)"}),g.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:l.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-600",children:[g.jsx(sl,{className:"w-8 h-8 mb-3 opacity-30"}),g.jsx("p",{className:"text-sm",children:"No active queries."})]}):g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full text-sm",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[g.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap w-20",children:"Query ID"}),g.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap w-36",children:"Database"}),g.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400",children:"Query"}),g.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap w-32",children:"Duration"}),g.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400 whitespace-nowrap w-24",children:"Actions"})]})}),g.jsx("tbody",{children:l.map(X=>g.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[g.jsx("td",{className:"px-4 py-3 font-mono text-gray-300 text-xs",children:String(X.qid)}),g.jsx("td",{className:"px-4 py-3 font-mono text-blue-300 text-xs whitespace-nowrap",children:X.database||g.jsx("span",{className:"text-gray-600",children:""})}),g.jsx("td",{className:"px-4 py-3 font-mono text-gray-200 text-xs break-all max-w-xs",children:g.jsx("span",{className:"whitespace-pre-wrap leading-relaxed",children:X.query})}),g.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs font-mono whitespace-nowrap",children:X.duration||g.jsx("span",{className:"text-gray-600",children:""})}),g.jsx("td",{className:"px-4 py-3 text-right",children:g.jsxs("button",{onClick:()=>ce(X.qid),disabled:u===X.qid,className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 whitespace-nowrap",children:[u===X.qid?g.jsxs("svg",{className:"w-3 h-3 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):g.jsx(pP,{className:"w-3 h-3"}),"Kill"]})})]},X.qid))})]})})})]}),g.jsxs("section",{children:[g.jsx(Ru,{icon:g.jsx(xm,{className:"w-5 h-5"}),title:"Shard Groups"}),g.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:y?g.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm px-4 py-6",children:[g.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading shard groups..."]}):d.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-600",children:[g.jsx(xm,{className:"w-8 h-8 mb-3 opacity-30"}),g.jsx("p",{className:"text-sm",children:"No shard groups found."})]}):(()=>{const X=Math.ceil(d.length/C),de=Math.min(b,X-1),he=d.slice(de*C,(de+1)*C);return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full text-sm",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[g.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap w-16",children:"ID"}),g.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Database"}),g.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Retention Policy"}),g.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Start Time"}),g.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"End Time"}),g.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Expiry Time"})]})}),g.jsx("tbody",{children:he.map((ve,ot)=>g.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[g.jsx("td",{className:"px-4 py-3 font-mono text-gray-300 text-xs",children:String(ve.id)}),g.jsx("td",{className:"px-4 py-3 font-mono text-blue-300 text-xs whitespace-nowrap",children:ve.database||g.jsx("span",{className:"text-gray-600",children:""})}),g.jsx("td",{className:"px-4 py-3 font-mono text-gray-300 text-xs whitespace-nowrap",children:ve.retentionPolicy||g.jsx("span",{className:"text-gray-600",children:""})}),g.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs whitespace-nowrap",children:t1(ve.startTime)}),g.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs whitespace-nowrap",children:t1(ve.endTime)}),g.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs whitespace-nowrap",children:t1(ve.expiryTime)})]},`${ve.id}-${ot}`))})]})}),X>1&&g.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-gray-700",children:[g.jsxs("span",{className:"text-xs text-gray-500",children:[d.length.toLocaleString()," shard groups  page ",de+1," of ",X]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("button",{onClick:()=>O(0),disabled:de===0,className:"px-2 py-1 text-xs text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:"First"}),g.jsx("button",{onClick:()=>O(ve=>Math.max(0,ve-1)),disabled:de===0,className:"p-1 text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:g.jsx(gU,{size:14})}),g.jsx("button",{onClick:()=>O(ve=>Math.min(X-1,ve+1)),disabled:de>=X-1,className:"p-1 text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:g.jsx(qf,{size:14})}),g.jsx("button",{onClick:()=>O(X-1),disabled:de>=X-1,className:"px-2 py-1 text-xs text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:"Last"})]})]})]})})()})]}),g.jsxs("section",{children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-blue-400",children:g.jsx(WU,{className:"w-5 h-5"})}),g.jsx("h2",{className:"text-base font-semibold text-gray-200",children:"SHOW DIAGNOSTICS"}),g.jsx("span",{className:"text-xs text-gray-500",children:"(all sections)"})]}),g.jsxs("button",{onClick:L,disabled:R,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[R?g.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):g.jsx(Zt,{className:"w-4 h-4"}),D.length>0?"Refresh":"Load"]})]}),D.length===0&&!R&&g.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:'Click "Load" to view all diagnostic sections.'}),R&&g.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[g.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading diagnostics..."]}),D.length>0&&!R&&g.jsx("div",{className:"flex flex-col gap-2",children:D.map(X=>g.jsx(Q5,{section:X},X.name))})]}),g.jsxs("section",{children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-blue-400",children:g.jsx(Ro,{className:"w-5 h-5"})}),g.jsx("h2",{className:"text-base font-semibold text-gray-200",children:"SHOW STATS"}),g.jsx("span",{className:"text-xs text-gray-500",children:"(all modules)"})]}),g.jsxs("button",{onClick:Y,disabled:B,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[B?g.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):g.jsx(Zt,{className:"w-4 h-4"}),E.length>0?"Refresh":"Load"]})]}),E.length===0&&!B&&g.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:'Click "Load" to view all stats modules.'}),B&&g.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[g.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading stats..."]}),E.length>0&&!B&&g.jsx("div",{className:"flex flex-col gap-2",children:E.map((X,de)=>g.jsx(Q5,{section:X},`${X.name}-${de}`))})]}),g.jsxs("section",{children:[g.jsx(Ru,{icon:g.jsx(s1,{className:"w-5 h-5"}),title:"Backup"}),g.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[g.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Download a portable backup snapshot via the debug endpoint. This creates a tar.gz archive of the current data."}),g.jsxs("button",{onClick:ue,disabled:ie,className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[ie?g.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):g.jsx(s1,{className:"w-4 h-4"}),ie?"Downloading...":"Download Backup"]})]})]})]})]})}const Pme="timeseriesui_connections",_me="timeseriesui_active_connection";function X5(){try{const t=localStorage.getItem(_me)||localStorage.getItem("tidedb-active-connection");if(!t)return null;const e=localStorage.getItem(Pme)||localStorage.getItem("tidedb-connections");return JSON.parse(e||"[]").find(r=>r.id===t)||null}catch{return null}}function Ps(){const[t,e]=S.useState(X5);S.useEffect(()=>{const r=()=>e(X5());return window.addEventListener("tidedb-connection-change",r),()=>window.removeEventListener("tidedb-connection-change",r)},[]);const n=t?.username?{username:t.username,password:t.password||""}:void 0;return{connection:t,auth:n}}class Rme{proxyBase="/proxy/prometheus/";amProxyBase="/proxy/alertmanager/";buildURL(e,n,r,i){const a=new URLSearchParams;if(a.set("target",e),a.set("path",n),r)for(const[l,o]of Object.entries(r))o!==void 0&&o!==""&&a.set(l,o);return(i||this.proxyBase)+"?"+a.toString()}async doFetch(e,n,r){const i=await fetch(e,{...n,headers:{Accept:"application/json",...r,...n?.headers||{}}});if(!i.ok){const a=await i.text();throw new Error(`Request failed (${i.status}): ${a}`)}return i.json()}async instantQuery(e,n,r,i){const a={query:n};r&&(a.time=r);const l=this.buildURL(e,"/api/v1/query",a);return this.doFetch(l,void 0,this.authHeaders(i))}async rangeQuery(e,n,r,i,a,l){const o={query:n,start:r,end:i,step:a},u=this.buildURL(e,"/api/v1/query_range",o);return this.doFetch(u,void 0,this.authHeaders(l))}async getLabels(e,n){const r=this.buildURL(e,"/api/v1/labels");return this.doFetch(r,void 0,this.authHeaders(n))}async getLabelValues(e,n,r){const i=this.buildURL(e,`/api/v1/label/${encodeURIComponent(n)}/values`);return this.doFetch(i,void 0,this.authHeaders(r))}async getMetadata(e,n,r,i){const a={};r&&(a.metric=r),i&&(a.limit=String(i));const l=this.buildURL(e,"/api/v1/metadata",a);return this.doFetch(l,void 0,this.authHeaders(n))}async getSeries(e,n,r){const i=new URLSearchParams;i.set("target",e),i.set("path","/api/v1/series");for(const l of n)i.append("match[]",l);const a=this.proxyBase+"?"+i.toString();return this.doFetch(a,void 0,this.authHeaders(r))}async getTargets(e,n,r){const i={};n&&(i.state=n);const a=this.buildURL(e,"/api/v1/targets",i);return this.doFetch(a,void 0,this.authHeaders(r))}async getRules(e,n,r){const i={};n&&(i.type=n);const a=this.buildURL(e,"/api/v1/rules",i);return this.doFetch(a,void 0,this.authHeaders(r))}async getAlerts(e,n){const r=this.buildURL(e,"/api/v1/alerts");return this.doFetch(r,void 0,this.authHeaders(n))}async getBuildInfo(e,n){const r=this.buildURL(e,"/api/v1/status/buildinfo");return this.doFetch(r,void 0,this.authHeaders(n))}async getRuntimeInfo(e,n){const r=this.buildURL(e,"/api/v1/status/runtimeinfo");return this.doFetch(r,void 0,this.authHeaders(n))}async getTSDBStatus(e,n){const r=this.buildURL(e,"/api/v1/status/tsdb");return this.doFetch(r,void 0,this.authHeaders(n))}async getFlags(e,n){const r=this.buildURL(e,"/api/v1/status/flags");return this.doFetch(r,void 0,this.authHeaders(n))}async getConfig(e,n){const r=this.buildURL(e,"/api/v1/status/config");return this.doFetch(r,void 0,this.authHeaders(n))}async getAMAlerts(e,n){const r=this.buildURL(e,"/api/v2/alerts",void 0,this.amProxyBase);return this.doFetch(r,void 0,this.authHeaders(n))}async getAMSilences(e,n){const r=this.buildURL(e,"/api/v2/silences",void 0,this.amProxyBase);return this.doFetch(r,void 0,this.authHeaders(n))}async createAMSilence(e,n,r){const i=this.buildURL(e,"/api/v2/silences",void 0,this.amProxyBase);return this.doFetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},this.authHeaders(r))}async deleteAMSilence(e,n,r){const i=this.buildURL(e,`/api/v2/silence/${n}`,void 0,this.amProxyBase);await fetch(i,{method:"DELETE",headers:this.authHeaders(r)})}async getAMStatus(e,n){const r=this.buildURL(e,"/api/v2/status",void 0,this.amProxyBase);return this.doFetch(r,void 0,this.authHeaders(n))}async testConnection(e,n){try{return(await this.getBuildInfo(e,n)).status==="success"}catch{return!1}}async testAlertmanager(e,n){try{return await this.getAMStatus(e,n),!0}catch{return!1}}authHeaders(e){const n={};return e?.username&&(n["X-Proxy-Username"]=e.username),e?.password&&(n["X-Proxy-Password"]=e.password),n}}const pn=new Rme,ym=["#3b82f6","#ef4444","#22c55e","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#f97316","#14b8a6","#a855f7","#6366f1","#84cc16","#e11d48","#0ea5e9","#d946ef"],Z5=[{label:"15m",seconds:900},{label:"1h",seconds:3600},{label:"3h",seconds:10800},{label:"6h",seconds:21600},{label:"12h",seconds:43200},{label:"1d",seconds:86400},{label:"7d",seconds:604800}];function vm(t){const e=t.__name__||"",n=Object.entries(t).filter(([r])=>r!=="__name__").map(([r,i])=>`${r}="${i}"`).join(", ");return n?`${e}{${n}}`:e}function Lme(t){return t<=3600?"15s":t<=21600?"60s":t<=86400?"300s":"600s"}function Bme(){const{connection:t,auth:e}=Ps(),[n,r]=S.useState("up"),[i,a]=S.useState(1),[l,o]=S.useState(null),[u,h]=S.useState([]),[d,m]=S.useState([]),[y,v]=S.useState(!1),[b,O]=S.useState(null),[C,k]=S.useState(null),[N,j]=S.useState("chart"),[M,D]=S.useState(""),[T,E]=S.useState([]),[_,R]=S.useState(""),[H,B]=S.useState(!1),[z,ie]=S.useState(()=>{try{return JSON.parse(localStorage.getItem("tsui_prom_history")||"[]")}catch{return[]}}),ne=S.useRef(null);S.useEffect(()=>{!t||t.type!=="prometheus"||pn.getLabelValues(t.url,"__name__",e).then(W=>{W.status==="success"&&E(W.data||[])}).catch(()=>{})},[t,e]);const I=S.useCallback(async()=>{if(!t||!n.trim())return;v(!0),O(null);const W=Date.now();try{const ce=Z5[i],L=Math.floor(Date.now()/1e3),Y=(L-ce.seconds).toString(),ue=L.toString(),X=Lme(ce.seconds),de=await pn.rangeQuery(t.url,n.trim(),Y,ue,X,e);if(k(Date.now()-W),D(JSON.stringify(de,null,2)),de.status==="error"){O(de.error||"Query failed");return}if(o(de.data.resultType),de.data.resultType==="matrix")h(de.data.result),m([]);else{const he=await pn.instantQuery(t.url,n.trim(),void 0,e);D(JSON.stringify(he,null,2)),he.data.resultType==="vector"&&(m(he.data.result),h([]),o("vector"))}ie(he=>{const ve=he.filter(ae=>ae!==n.trim()),ot=[n.trim(),...ve].slice(0,30);return localStorage.setItem("tsui_prom_history",JSON.stringify(ot)),ot})}catch(ce){O(ce.message),k(Date.now()-W)}finally{v(!1)}},[t,n,i,e]),q=W=>{(W.ctrlKey||W.metaKey)&&W.key==="Enter"&&(W.preventDefault(),I())},V=(()=>{if(l!=="matrix"||u.length===0)return[];const W=new Set;return u.forEach(L=>L.values.forEach(([Y])=>W.add(Y))),Array.from(W).sort().map(L=>{const Y={time:L*1e3};return u.forEach((ue,X)=>{const de=ue.values.find(([he])=>he===L);Y[`series_${X}`]=de?parseFloat(de[1]):null}),Y})})(),te=_?T.filter(W=>W.toLowerCase().includes(_.toLowerCase())).slice(0,50):T.slice(0,50);return!t||t.type!=="prometheus"?g.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:g.jsx("p",{children:"Select a Prometheus connection to start querying."})}):g.jsxs("div",{className:"flex h-full",children:[g.jsx("div",{className:`${H?"w-64":"w-0"} flex-shrink-0 border-r border-gray-800 overflow-hidden transition-all`,children:g.jsxs("div",{className:"p-3 space-y-2 h-full flex flex-col",children:[g.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase",children:"Metrics"}),g.jsx("input",{type:"text",placeholder:"Search metrics...",value:_,onChange:W=>R(W.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"}),g.jsxs("div",{className:"flex-1 overflow-y-auto space-y-0.5",children:[te.map(W=>g.jsx("button",{onClick:()=>r(W),className:"block w-full text-left px-2 py-1 text-xs text-gray-300 hover:bg-gray-800 rounded truncate",title:W,children:W},W)),T.length===0&&g.jsx("p",{className:"text-xs text-gray-600 px-2 py-4",children:"No metrics loaded"})]})]})}),g.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[g.jsxs("div",{className:"p-4 border-b border-gray-800 space-y-3",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>B(W=>!W),className:"px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-400 hover:text-white text-xs",title:"Toggle metrics panel",children:H?"Hide":"Metrics"}),g.jsx("textarea",{ref:ne,value:n,onChange:W=>r(W.target.value),onKeyDown:q,rows:2,placeholder:"Enter PromQL query... (Ctrl+Enter to execute)",className:"flex-1 px-3 py-2 rounded bg-gray-800 border border-gray-700 text-gray-100 text-sm font-mono placeholder-gray-500 focus:outline-none focus:border-blue-500 resize-none"}),g.jsxs("button",{onClick:I,disabled:y||!n.trim(),className:"px-4 py-2 rounded bg-blue-600 hover:bg-blue-500 text-white text-sm font-medium transition-colors disabled:opacity-40 flex items-center gap-1.5",children:[g.jsx(l1,{size:14}),y?"Running...":"Execute"]})]}),g.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(ef,{size:12,className:"text-gray-500"}),g.jsx("span",{className:"text-xs text-gray-500",children:"Range:"}),Z5.map((W,ce)=>g.jsx("button",{onClick:()=>a(ce),className:`px-2 py-0.5 rounded text-xs ${ce===i?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:W.label},W.label))]}),g.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[g.jsx("button",{onClick:()=>j("chart"),className:`p-1.5 rounded ${N==="chart"?"bg-gray-700 text-white":"text-gray-500 hover:text-white"}`,title:"Chart",children:g.jsx(Ro,{size:14})}),g.jsx("button",{onClick:()=>j("table"),className:`p-1.5 rounded ${N==="table"?"bg-gray-700 text-white":"text-gray-500 hover:text-white"}`,title:"Table",children:g.jsx(yP,{size:14})}),g.jsx("button",{onClick:()=>j("json"),className:`p-1.5 rounded ${N==="json"?"bg-gray-700 text-white":"text-gray-500 hover:text-white"}`,title:"Raw JSON",children:g.jsx(jU,{size:14})})]}),C!==null&&g.jsxs("span",{className:"text-xs text-gray-500",children:[C,"ms"]})]}),z.length>0&&g.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[g.jsx("span",{className:"text-xs text-gray-500",children:"History:"}),z.slice(0,8).map((W,ce)=>g.jsx("button",{onClick:()=>r(W),className:"px-2 py-0.5 rounded bg-gray-800 text-gray-400 text-xs hover:text-white truncate max-w-48",children:W},ce)),g.jsx("button",{onClick:()=>{ie([]),localStorage.removeItem("tsui_prom_history")},className:"p-1 text-gray-600 hover:text-red-400",title:"Clear history",children:g.jsx(ys,{size:10})})]})]}),b&&g.jsx("div",{className:"mx-4 mt-3 p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:b}),g.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[N==="chart"&&l==="matrix"&&V.length>0&&g.jsxs("div",{className:"h-[400px]",children:[g.jsx(Mp,{width:"100%",height:"100%",children:g.jsxs(cg,{data:V,children:[g.jsx(Lf,{strokeDasharray:"3 3",stroke:"#374151"}),g.jsx(If,{dataKey:"time",type:"number",domain:["dataMin","dataMax"],tickFormatter:W=>new Date(W).toLocaleTimeString(),stroke:"#6b7280",fontSize:11}),g.jsx(Uf,{stroke:"#6b7280",fontSize:11}),g.jsx(tg,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:6},labelFormatter:W=>new Date(W).toLocaleString(),formatter:W=>[typeof W=="number"?W.toFixed(4):W]}),g.jsx(C2,{formatter:W=>{const ce=parseInt(W.replace("series_",""));return u[ce]?vm(u[ce].metric):W},wrapperStyle:{fontSize:11}}),u.slice(0,15).map((W,ce)=>g.jsx(zf,{type:"monotone",dataKey:`series_${ce}`,stroke:ym[ce%ym.length],dot:!1,strokeWidth:1.5,connectNulls:!1},ce))]})}),u.length>15&&g.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Showing 15 of ",u.length," series on chart. Switch to table view for all."]})]}),N==="table"&&l==="matrix"&&u.length>0&&g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-xs",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"border-b border-gray-800",children:[g.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Series"}),g.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Last Value"}),g.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Points"})]})}),g.jsx("tbody",{children:u.map((W,ce)=>g.jsxs("tr",{className:"border-b border-gray-800/50 hover:bg-gray-900",children:[g.jsxs("td",{className:"p-2 font-mono text-gray-300 max-w-md truncate",title:vm(W.metric),children:[g.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-2",style:{backgroundColor:ym[ce%ym.length]}}),vm(W.metric)]}),g.jsx("td",{className:"p-2 text-gray-200",children:W.values.length>0?W.values[W.values.length-1][1]:"-"}),g.jsx("td",{className:"p-2 text-gray-400",children:W.values.length})]},ce))})]})}),N==="table"&&l==="vector"&&d.length>0&&g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-xs",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"border-b border-gray-800",children:[g.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Metric"}),g.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Value"}),g.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Timestamp"})]})}),g.jsx("tbody",{children:d.map((W,ce)=>g.jsxs("tr",{className:"border-b border-gray-800/50 hover:bg-gray-900",children:[g.jsx("td",{className:"p-2 font-mono text-gray-300 max-w-md truncate",children:vm(W.metric)}),g.jsx("td",{className:"p-2 text-gray-200",children:W.value[1]}),g.jsx("td",{className:"p-2 text-gray-400",children:new Date(W.value[0]*1e3).toLocaleString()})]},ce))})]})}),N==="json"&&M&&g.jsx("pre",{className:"bg-gray-900 rounded p-4 text-xs text-gray-300 font-mono overflow-auto whitespace-pre-wrap border border-gray-800",children:M}),!b&&!y&&!M&&g.jsx("div",{className:"flex items-center justify-center h-full text-gray-600 text-sm",children:"Enter a PromQL query and press Execute or Ctrl+Enter"})]})]})]})}function zme(){const{connection:t,auth:e}=Ps(),[n,r]=S.useState([]),[i,a]=S.useState(!1),[l,o]=S.useState(null),[u,h]=S.useState(""),[d,m]=S.useState("all"),[y,v]=S.useState(new Set),[b,O]=S.useState(0),C=S.useCallback(async()=>{if(!(!t||t.type!=="prometheus")){a(!0),o(null);try{const T=await pn.getTargets(t.url,"any",e);if(T.status!=="success")throw new Error("Failed to fetch targets");const E=T.data.activeTargets||[],_=new Map;E.forEach(H=>{const B=H.scrapePool||H.labels?.job||"unknown";_.has(B)||_.set(B,[]),_.get(B).push(H)});const R=Array.from(_.entries()).map(([H,B])=>({job:H,targets:B,upCount:B.filter(z=>z.health==="up").length,downCount:B.filter(z=>z.health!=="up").length})).sort((H,B)=>H.job.localeCompare(B.job));r(R),v(new Set(R.map(H=>H.job)))}catch(T){o(T.message)}finally{a(!1)}}},[t,e]);S.useEffect(()=>{C()},[C]),S.useEffect(()=>{if(b<=0)return;const T=setInterval(C,b*1e3);return()=>clearInterval(T)},[b,C]);const k=T=>{v(E=>{const _=new Set(E);return _.has(T)?_.delete(T):_.add(T),_})},N=n.reduce((T,E)=>T+E.upCount,0),j=n.reduce((T,E)=>T+E.downCount,0),M=n.reduce((T,E)=>T+E.targets.length,0),D=n.map(T=>({...T,targets:T.targets.filter(E=>!(d==="up"&&E.health!=="up"||d==="down"&&E.health==="up"||u&&!E.scrapeUrl.toLowerCase().includes(u.toLowerCase())&&!T.job.toLowerCase().includes(u.toLowerCase())))})).filter(T=>T.targets.length>0);return!t||t.type!=="prometheus"?g.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:g.jsx("p",{children:"Select a Prometheus connection."})}):g.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h1",{className:"text-lg font-semibold text-white",children:"Scrape Targets"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{value:b,onChange:T=>O(Number(T.target.value)),className:"px-2 py-1 rounded bg-gray-800 border border-gray-700 text-gray-300 text-xs",children:[g.jsx("option",{value:0,children:"Auto-refresh: Off"}),g.jsx("option",{value:5,children:"5s"}),g.jsx("option",{value:10,children:"10s"}),g.jsx("option",{value:30,children:"30s"})]}),g.jsx("button",{onClick:C,disabled:i,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:g.jsx(Zt,{size:14,className:i?"animate-spin":""})})]})]}),g.jsxs("div",{className:"flex gap-4 text-sm",children:[g.jsxs("span",{className:"text-gray-400",children:[M," total"]}),g.jsxs("span",{className:"text-green-400",children:[N," up"]}),j>0&&g.jsxs("span",{className:"text-red-400",children:[j," down"]})]}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("div",{className:"relative flex-1 max-w-xs",children:[g.jsx(oc,{size:14,className:"absolute left-2.5 top-2 text-gray-500"}),g.jsx("input",{type:"text",placeholder:"Filter targets...",value:u,onChange:T=>h(T.target.value),className:"w-full pl-8 pr-3 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),g.jsx("div",{className:"flex gap-1",children:["all","up","down"].map(T=>g.jsx("button",{onClick:()=>m(T),className:`px-3 py-1 rounded text-xs capitalize ${d===T?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:T},T))})]}),l&&g.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:l}),g.jsx("div",{className:"space-y-3",children:D.map(T=>g.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[g.jsxs("button",{onClick:()=>k(T.job),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-900 hover:bg-gray-800/70 transition-colors text-left",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[y.has(T.job)?g.jsx(Ns,{size:14,className:"text-gray-500"}):g.jsx(qf,{size:14,className:"text-gray-500"}),g.jsx("span",{className:"text-sm font-medium text-white",children:T.job}),g.jsxs("span",{className:"text-xs text-gray-500",children:["(",T.targets.length,")"]})]}),g.jsxs("div",{className:"flex gap-2 text-xs",children:[g.jsxs("span",{className:"text-green-400",children:[T.upCount," up"]}),T.downCount>0&&g.jsxs("span",{className:"text-red-400",children:[T.downCount," down"]})]})]}),y.has(T.job)&&g.jsx("div",{className:"divide-y divide-gray-800/50",children:T.targets.map((E,_)=>g.jsxs("div",{className:"px-4 py-2.5 flex items-center gap-3 text-xs hover:bg-gray-900/50",children:[g.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${E.health==="up"?"bg-green-500":"bg-red-500"}`}),g.jsx("span",{className:"font-mono text-gray-300 flex-1 truncate",children:E.scrapeUrl}),g.jsxs("span",{className:"text-gray-500",children:[(E.lastScrapeDuration*1e3).toFixed(0),"ms"]}),g.jsx("span",{className:"text-gray-500",children:new Date(E.lastScrape).toLocaleTimeString()}),E.lastError&&g.jsx("span",{className:"text-red-400 truncate max-w-xs",title:E.lastError,children:E.lastError})]},_))})]},T.job))}),!i&&D.length===0&&!l&&g.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:"No targets found"})]})}const Ime={firing:"bg-red-500",pending:"bg-yellow-500",inactive:"bg-gray-600"},Ume={firing:"text-red-400",pending:"text-yellow-400",inactive:"text-gray-500"};function Hme(){const{connection:t,auth:e}=Ps(),[n,r]=S.useState([]),[i,a]=S.useState(!1),[l,o]=S.useState(null),[u,h]=S.useState("all"),[d,m]=S.useState(!1),[y,v]=S.useState(""),[b,O]=S.useState(new Set),C=S.useCallback(async()=>{if(!(!t||t.type!=="prometheus")){a(!0),o(null);try{const _=await pn.getRules(t.url,void 0,e);if(_.status!=="success")throw new Error("Failed to fetch rules");r(_.data.groups||[]),O(new Set((_.data.groups||[]).map(R=>R.name)))}catch(_){o(_.message)}finally{a(!1)}}},[t,e]);S.useEffect(()=>{C()},[C]);const k=_=>{O(R=>{const H=new Set(R);return H.has(_)?H.delete(_):H.add(_),H})},j=n.flatMap(_=>_.rules).filter(_=>_.type==="alerting"),M=j.filter(_=>_.state==="firing").length,D=j.filter(_=>_.state==="pending").length,T=j.filter(_=>_.state==="inactive").length,E=_=>!(!d&&_.type==="recording"||_.type==="alerting"&&u!=="all"&&_.state!==u||y&&!_.name.toLowerCase().includes(y.toLowerCase()));return!t||t.type!=="prometheus"?g.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:g.jsx("p",{children:"Select a Prometheus connection."})}):g.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h1",{className:"text-lg font-semibold text-white",children:"Alert Rules"}),g.jsx("button",{onClick:C,disabled:i,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:g.jsx(Zt,{size:14,className:i?"animate-spin":""})})]}),g.jsxs("div",{className:"flex gap-4 text-sm",children:[g.jsxs("span",{className:"text-gray-400",children:[j.length," rules"]}),M>0&&g.jsxs("span",{className:"text-red-400",children:[M," firing"]}),D>0&&g.jsxs("span",{className:"text-yellow-400",children:[D," pending"]}),g.jsxs("span",{className:"text-gray-500",children:[T," inactive"]})]}),g.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[g.jsxs("div",{className:"relative flex-1 max-w-xs",children:[g.jsx(oc,{size:14,className:"absolute left-2.5 top-2 text-gray-500"}),g.jsx("input",{type:"text",placeholder:"Search rules...",value:y,onChange:_=>v(_.target.value),className:"w-full pl-8 pr-3 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),g.jsx("div",{className:"flex gap-1",children:["all","firing","pending","inactive"].map(_=>g.jsx("button",{onClick:()=>h(_),className:`px-3 py-1 rounded text-xs capitalize ${u===_?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:_},_))}),g.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-gray-400",children:[g.jsx("input",{type:"checkbox",checked:d,onChange:_=>m(_.target.checked),className:"rounded border-gray-600"}),"Recording Rules"]})]}),l&&g.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:l}),g.jsx("div",{className:"space-y-3",children:n.map(_=>{const R=_.rules.filter(E);return R.length===0?null:g.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[g.jsxs("button",{onClick:()=>k(_.name),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-900 hover:bg-gray-800/70 transition-colors text-left",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[b.has(_.name)?g.jsx(Ns,{size:14,className:"text-gray-500"}):g.jsx(qf,{size:14,className:"text-gray-500"}),g.jsx("span",{className:"text-sm font-medium text-white",children:_.name}),g.jsx("span",{className:"text-xs text-gray-500",children:_.file})]}),g.jsxs("span",{className:"text-xs text-gray-500",children:[R.length," rules"]})]}),b.has(_.name)&&g.jsx("div",{className:"divide-y divide-gray-800/50",children:R.map((H,B)=>g.jsxs("div",{className:"px-4 py-3 space-y-1.5 hover:bg-gray-900/50",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[H.state&&g.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${Ime[H.state]||"bg-gray-600"}`}),g.jsx("span",{className:`text-xs font-semibold uppercase ${Ume[H.state||""]||"text-gray-500"}`,children:H.state||H.type}),g.jsx("span",{className:"text-sm font-medium text-white",children:H.name}),H.duration!==void 0&&H.duration>0&&g.jsxs("span",{className:"text-xs text-gray-500",children:["for ",H.duration,"s"]}),H.labels?.severity&&g.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${H.labels.severity==="critical"?"bg-red-900/50 text-red-400":H.labels.severity==="warning"?"bg-yellow-900/50 text-yellow-400":"bg-gray-800 text-gray-400"}`,children:H.labels.severity})]}),g.jsx("pre",{className:"text-xs text-gray-400 font-mono bg-gray-900/50 rounded px-2 py-1 overflow-x-auto",children:H.query}),H.annotations?.summary&&g.jsx("p",{className:"text-xs text-gray-500",children:H.annotations.summary}),H.alerts&&H.alerts.length>0&&g.jsxs("div",{className:"pl-4 mt-1 space-y-1",children:[g.jsxs("span",{className:"text-xs text-gray-500",children:["Firing instances (",H.alerts.length,"):"]}),H.alerts.slice(0,5).map((z,ie)=>g.jsxs("div",{className:"text-xs text-gray-400 font-mono pl-2 border-l border-gray-700",children:[Object.entries(z.labels).filter(([ne])=>ne!=="alertname").map(([ne,I])=>`${ne}="${I}"`).join(", ")," ","= ",z.value,g.jsxs("span",{className:"text-gray-600 ml-2",children:["since ",new Date(z.activeAt).toLocaleString()]})]},ie)),H.alerts.length>5&&g.jsxs("p",{className:"text-xs text-gray-600 pl-2",children:["...and ",H.alerts.length-5," more"]})]})]},B))})]},_.name)})})]})}function qme(){const{connection:t,auth:e}=Ps(),[n,r]=S.useState("alerts"),[i,a]=S.useState([]),[l,o]=S.useState([]),[u,h]=S.useState(null),[d,m]=S.useState(!1),[y,v]=S.useState(null),[b,O]=S.useState(!1),[C,k]=S.useState(""),[N,j]=S.useState(""),[M,D]=S.useState(!1),[T,E]=S.useState("2h"),[_,R]=S.useState(""),[H]=S.useState("timeseriesui"),B=t?.alertmanagerUrl,z=S.useCallback(async()=>{if(B){m(!0),v(null);try{const[I,q,V]=await Promise.allSettled([pn.getAMAlerts(B,e),pn.getAMSilences(B,e),pn.getAMStatus(B,e)]);I.status==="fulfilled"&&a(I.value||[]),q.status==="fulfilled"&&o((q.value||[]).filter(te=>te.status.state!=="expired")),V.status==="fulfilled"&&h(V.value)}catch(I){v(I.message)}finally{m(!1)}}},[B,e]);S.useEffect(()=>{z()},[z]);const ie=async()=>{if(!(!B||!C.trim()))try{const I=new Date,q=$me(T),V=new Date(I.getTime()+q);await pn.createAMSilence(B,{matchers:[{name:C,value:N,isRegex:M,isEqual:!0}],startsAt:I.toISOString(),endsAt:V.toISOString(),createdBy:H,comment:_||"Created by TimeseriesUI"},e),O(!1),k(""),j(""),R(""),z()}catch(I){v(I.message)}},ne=async I=>{if(B)try{await pn.deleteAMSilence(B,I,e),z()}catch(q){v(q.message)}};return!t||t.type!=="prometheus"?g.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:g.jsx("p",{children:"Select a Prometheus connection."})}):B?g.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h1",{className:"text-lg font-semibold text-white",children:"Alertmanager"}),g.jsx("button",{onClick:z,disabled:d,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:g.jsx(Zt,{size:14,className:d?"animate-spin":""})})]}),g.jsx("div",{className:"flex gap-1 border-b border-gray-800 pb-1",children:["alerts","silences","status"].map(I=>g.jsxs("button",{onClick:()=>r(I),className:`px-4 py-2 rounded-t text-sm capitalize ${n===I?"bg-gray-800 text-white border-b-2 border-blue-500":"text-gray-400 hover:text-white"}`,children:[I,I==="alerts"&&i.length>0&&g.jsx("span",{className:"ml-1.5 px-1.5 py-0.5 rounded-full bg-red-600 text-white text-[10px]",children:i.length})]},I))}),y&&g.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:y}),n==="alerts"&&g.jsxs("div",{className:"space-y-2",children:[i.length===0&&!d&&g.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No firing alerts"}),i.map((I,q)=>g.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-2 hover:bg-gray-900/50",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${I.labels.severity==="critical"?"bg-red-900/50 text-red-400":I.labels.severity==="warning"?"bg-yellow-900/50 text-yellow-400":"bg-gray-800 text-gray-400"}`,children:I.labels.severity||"info"}),g.jsx("span",{className:"text-sm font-medium text-white",children:I.labels.alertname}),g.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${I.status.state==="active"?"bg-red-900/30 text-red-400":I.status.state==="suppressed"?"bg-yellow-900/30 text-yellow-400":"bg-gray-800 text-gray-400"}`,children:I.status.state})]}),g.jsx("div",{className:"text-xs text-gray-400 font-mono",children:Object.entries(I.labels).filter(([V])=>V!=="alertname"&&V!=="severity").map(([V,te])=>g.jsxs("span",{className:"mr-2",children:[V,'="',te,'"']},V))}),I.annotations?.description&&g.jsx("p",{className:"text-xs text-gray-500",children:I.annotations.description}),g.jsxs("div",{className:"text-xs text-gray-600",children:["Started: ",new Date(I.startsAt).toLocaleString(),I.status.silencedBy.length>0&&g.jsx("span",{className:"ml-2 text-yellow-500",children:"Silenced"})]})]},q))]}),n==="silences"&&g.jsxs("div",{className:"space-y-3",children:[g.jsxs("button",{onClick:()=>O(I=>!I),className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium transition-colors",children:[g.jsx(fa,{size:12}),"New Silence"]}),b&&g.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-3 bg-gray-900",children:[g.jsx("h3",{className:"text-sm font-medium text-white",children:"Create Silence"}),g.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[g.jsx("input",{type:"text",placeholder:"Label name (e.g. alertname)",value:C,onChange:I=>k(I.target.value),className:"px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"}),g.jsx("input",{type:"text",placeholder:"Value (e.g. HighCPU)",value:N,onChange:I=>j(I.target.value),className:"px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),g.jsxs("div",{className:"flex gap-3 items-center",children:[g.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-400",children:[g.jsx("input",{type:"checkbox",checked:M,onChange:I=>D(I.target.checked)}),"Regex"]}),g.jsxs("select",{value:T,onChange:I=>E(I.target.value),className:"px-2 py-1 rounded bg-gray-800 border border-gray-700 text-gray-300 text-xs",children:[g.jsx("option",{value:"30m",children:"30 minutes"}),g.jsx("option",{value:"1h",children:"1 hour"}),g.jsx("option",{value:"2h",children:"2 hours"}),g.jsx("option",{value:"6h",children:"6 hours"}),g.jsx("option",{value:"24h",children:"24 hours"}),g.jsx("option",{value:"7d",children:"7 days"})]})]}),g.jsx("input",{type:"text",placeholder:"Comment",value:_,onChange:I=>R(I.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:ie,className:"px-3 py-1.5 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium",children:"Create"}),g.jsx("button",{onClick:()=>O(!1),className:"px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-gray-300 text-xs",children:"Cancel"})]})]}),l.length===0&&!d&&g.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No active silences"}),l.map(I=>g.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-2",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${I.status.state==="active"?"bg-yellow-900/30 text-yellow-400":"bg-gray-800 text-gray-400"}`,children:I.status.state}),g.jsxs("span",{className:"text-xs text-gray-400",children:["by ",I.createdBy]})]}),g.jsx("button",{onClick:()=>ne(I.id),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",title:"Expire silence",children:g.jsx(ys,{size:12})})]}),g.jsx("div",{className:"text-xs font-mono text-gray-300",children:I.matchers.map((q,V)=>g.jsxs("span",{className:"mr-2",children:[q.name,q.isRegex?"=~":"=",'"',q.value,'"']},V))}),I.comment&&g.jsx("p",{className:"text-xs text-gray-500",children:I.comment}),g.jsxs("div",{className:"text-xs text-gray-600",children:["Until: ",new Date(I.endsAt).toLocaleString()]})]},I.id))]}),n==="status"&&u&&g.jsx("div",{className:"space-y-3",children:g.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[g.jsx("h3",{className:"text-sm font-medium text-white mb-2",children:"Cluster Status"}),g.jsx("pre",{className:"text-xs text-gray-300 font-mono whitespace-pre-wrap",children:JSON.stringify(u,null,2)})]})})]}):g.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:g.jsx("p",{children:"No Alertmanager URL configured for this connection. Edit the connection to add one."})})}function $me(t){const e=t.match(/^(\d+)(m|h|d)$/);if(!e)return 36e5;const n=parseInt(e[1]);switch(e[2]){case"m":return n*60*1e3;case"h":return n*3600*1e3;case"d":return n*86400*1e3;default:return 36e5}}function Vme(){const{connection:t,auth:e}=Ps(),[n,r]=S.useState(null),[i,a]=S.useState(null),[l,o]=S.useState(null),[u,h]=S.useState(null),[d,m]=S.useState(!1),[y,v]=S.useState(null),b=S.useCallback(async()=>{if(!(!t||t.type!=="prometheus")){m(!0),v(null);try{const[k,N,j,M]=await Promise.allSettled([pn.getTSDBStatus(t.url,e),pn.getBuildInfo(t.url,e),pn.getRuntimeInfo(t.url,e),pn.getFlags(t.url,e)]);k.status==="fulfilled"&&k.value.status==="success"&&r(k.value.data),N.status==="fulfilled"&&N.value.status==="success"&&a(N.value.data),j.status==="fulfilled"&&j.value.status==="success"&&o(j.value.data),M.status==="fulfilled"&&M.value.status==="success"&&h(M.value.data)}catch(k){v(k.message)}finally{m(!1)}}},[t,e]);S.useEffect(()=>{b()},[b]);const O=k=>k.toLocaleString(),C=k=>k?new Date(k).toLocaleString():"-";return!t||t.type!=="prometheus"?g.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:g.jsx("p",{children:"Select a Prometheus connection."})}):g.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h1",{className:"text-lg font-semibold text-white",children:"TSDB Status & Health"}),g.jsx("button",{onClick:b,disabled:d,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:g.jsx(Zt,{size:14,className:d?"animate-spin":""})})]}),y&&g.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:y}),i&&g.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[g.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Build Info"}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[g.jsx(dr,{label:"Version",value:i.version}),g.jsx(dr,{label:"Go Version",value:i.goVersion}),g.jsx(dr,{label:"Branch",value:i.branch}),g.jsx(dr,{label:"Build Date",value:i.buildDate})]})]}),l&&g.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[g.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Runtime"}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[g.jsx(dr,{label:"Start Time",value:new Date(l.startTime).toLocaleString()}),g.jsx(dr,{label:"Goroutines",value:String(l.goroutineCount)}),g.jsx(dr,{label:"GOMAXPROCS",value:String(l.GOMAXPROCS)}),g.jsx(dr,{label:"Storage Retention",value:l.storageRetention})]})]}),n&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[g.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"TSDB Head Block"}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[g.jsx(dr,{label:"Head Series",value:O(n.headStats.numSeries)}),g.jsx(dr,{label:"Head Chunks",value:O(n.headStats.chunkCount)}),g.jsx(dr,{label:"Label Pairs",value:O(n.headStats.numLabelPairs)}),g.jsx(dr,{label:"Min Time",value:C(n.headStats.minTime)}),g.jsx(dr,{label:"Max Time",value:C(n.headStats.maxTime)})]})]}),n.seriesCountByMetricName&&n.seriesCountByMetricName.length>0&&g.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[g.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Top Cardinality Metrics"}),g.jsxs("table",{className:"w-full text-xs",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"border-b border-gray-800",children:[g.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Metric Name"}),g.jsx("th",{className:"text-right p-2 text-gray-400 font-medium",children:"Series Count"})]})}),g.jsx("tbody",{children:n.seriesCountByMetricName.slice(0,10).map((k,N)=>g.jsxs("tr",{className:"border-b border-gray-800/50",children:[g.jsx("td",{className:"p-2 font-mono text-gray-300",children:k.name}),g.jsx("td",{className:"p-2 text-right text-gray-200",children:O(k.value)})]},N))})]})]}),n.seriesCountByLabelValuePair&&n.seriesCountByLabelValuePair.length>0&&g.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[g.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Top Cardinality Label Pairs"}),g.jsxs("table",{className:"w-full text-xs",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"border-b border-gray-800",children:[g.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Label Pair"}),g.jsx("th",{className:"text-right p-2 text-gray-400 font-medium",children:"Series Count"})]})}),g.jsx("tbody",{children:n.seriesCountByLabelValuePair.slice(0,10).map((k,N)=>g.jsxs("tr",{className:"border-b border-gray-800/50",children:[g.jsx("td",{className:"p-2 font-mono text-gray-300",children:k.name}),g.jsx("td",{className:"p-2 text-right text-gray-200",children:O(k.value)})]},N))})]})]})]}),u&&g.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[g.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Runtime Flags"}),g.jsx("div",{className:"space-y-1 max-h-80 overflow-y-auto",children:Object.entries(u).sort(([k],[N])=>k.localeCompare(N)).map(([k,N])=>g.jsxs("div",{className:"flex justify-between gap-4 text-xs py-1 border-b border-gray-800/30",children:[g.jsx("span",{className:"font-mono text-gray-400",children:k}),g.jsx("span",{className:"font-mono text-gray-200 text-right truncate max-w-xs",title:N,children:N||'""'})]},k))})]})]})}function dr({label:t,value:e}){return g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-wider",children:t}),g.jsx("p",{className:"text-sm text-gray-200 font-medium truncate",title:e,children:e})]})}const J5={counter:"bg-blue-900/50 text-blue-400",gauge:"bg-green-900/50 text-green-400",histogram:"bg-purple-900/50 text-purple-400",summary:"bg-yellow-900/50 text-yellow-400",unknown:"bg-gray-800 text-gray-400",untyped:"bg-gray-800 text-gray-400"};function Fme(){const{connection:t,auth:e}=Ps(),n=hg(),[r,i]=S.useState([]),[a,l]=S.useState(!1),[o,u]=S.useState(null),[h,d]=S.useState(""),[m,y]=S.useState("all"),v=S.useCallback(async()=>{if(!(!t||t.type!=="prometheus")){l(!0),u(null);try{const k=await pn.getMetadata(t.url,e);if(k.status!=="success")throw new Error("Failed to fetch metadata");const N=[];for(const[j,M]of Object.entries(k.data)){const D=M[0];N.push({name:j,type:D?.type||"unknown",help:D?.help||"",unit:D?.unit||""})}N.sort((j,M)=>j.name.localeCompare(M.name)),i(N)}catch(k){u(k.message)}finally{l(!1)}}},[t,e]);S.useEffect(()=>{v()},[v]);const b=["all",...new Set(r.map(k=>k.type))],O=r.filter(k=>!(m!=="all"&&k.type!==m||h&&!k.name.toLowerCase().includes(h.toLowerCase())&&!k.help.toLowerCase().includes(h.toLowerCase()))),C=k=>{n("/prometheus/query"),sessionStorage.setItem("tsui_prom_query_prefill",k)};return!t||t.type!=="prometheus"?g.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:g.jsx("p",{children:"Select a Prometheus connection."})}):g.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h1",{className:"text-lg font-semibold text-white",children:"Metric Explorer"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"text-xs text-gray-500",children:[O.length," of ",r.length," metrics"]}),g.jsx("button",{onClick:v,disabled:a,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:g.jsx(Zt,{size:14,className:a?"animate-spin":""})})]})]}),g.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[g.jsxs("div",{className:"relative flex-1 max-w-sm",children:[g.jsx(oc,{size:14,className:"absolute left-2.5 top-2 text-gray-500"}),g.jsx("input",{type:"text",placeholder:"Search metrics...",value:h,onChange:k=>d(k.target.value),className:"w-full pl-8 pr-3 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),g.jsx("div",{className:"flex gap-1",children:b.map(k=>g.jsx("button",{onClick:()=>y(k),className:`px-3 py-1 rounded text-xs capitalize ${m===k?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:k},k))})]}),o&&g.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:o}),g.jsxs("div",{className:"space-y-2",children:[O.slice(0,200).map(k=>g.jsxs("div",{className:"rounded-lg border border-gray-800 p-3 hover:bg-gray-900/50 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:"font-mono text-sm text-gray-200 font-medium",children:k.name}),g.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${J5[k.type]||J5.unknown}`,children:k.type}),k.unit&&g.jsxs("span",{className:"text-[10px] text-gray-500",children:["(",k.unit,")"]})]}),k.help&&g.jsx("p",{className:"text-xs text-gray-500 mb-2",children:k.help}),g.jsxs("button",{onClick:()=>C(k.name),className:"flex items-center gap-1 text-xs text-blue-400 hover:text-blue-300 transition-colors",children:[g.jsx(LU,{size:10}),"Query"]})]},k.name)),O.length>200&&g.jsxs("p",{className:"text-xs text-gray-500 text-center py-2",children:["Showing 200 of ",O.length," metrics. Use search to narrow results."]})]}),!a&&O.length===0&&!o&&g.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:"No metrics found"})]})}function Wme(){const{connection:t,auth:e}=Ps(),[n,r]=S.useState(""),[i,a]=S.useState(!1),[l,o]=S.useState(null),[u,h]=S.useState(!1),[d,m]=S.useState(""),y=S.useCallback(async()=>{if(!(!t||t.type!=="prometheus")){a(!0),o(null);try{const C=await pn.getConfig(t.url,e);if(C.status!=="success")throw new Error("Failed to fetch config");r(C.data.yaml||"")}catch(C){o(C.message)}finally{a(!1)}}},[t,e]);S.useEffect(()=>{y()},[y]);const v=async()=>{await navigator.clipboard.writeText(n),h(!0),setTimeout(()=>h(!1),2e3)},b=n.split(`
`),O=d?b.map((C,k)=>({line:C,num:k+1,match:C.toLowerCase().includes(d.toLowerCase())})):b.map((C,k)=>({line:C,num:k+1,match:!1}));return!t||t.type!=="prometheus"?g.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:g.jsx("p",{children:"Select a Prometheus connection."})}):g.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h1",{className:"text-lg font-semibold text-white",children:"Running Config"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{onClick:v,disabled:!n,className:"flex items-center gap-1 px-3 py-1.5 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 text-xs transition-colors",children:[u?g.jsx(mP,{size:12,className:"text-green-400"}):g.jsx(NU,{size:12}),u?"Copied":"Copy"]}),g.jsx("button",{onClick:y,disabled:i,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:g.jsx(Zt,{size:14,className:i?"animate-spin":""})})]})]}),l&&g.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:l}),g.jsxs("div",{className:"relative max-w-xs",children:[g.jsx(oc,{size:14,className:"absolute left-2.5 top-2 text-gray-500"}),g.jsx("input",{type:"text",placeholder:"Search in config...",value:d,onChange:C=>m(C.target.value),className:"w-full pl-8 pr-3 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),n&&g.jsx("div",{className:"rounded-lg border border-gray-800 overflow-auto max-h-[calc(100vh-250px)]",children:g.jsx("pre",{className:"p-4 text-xs font-mono leading-relaxed",children:O.map(C=>g.jsxs("div",{className:`flex ${C.match?"bg-yellow-900/20":""}`,children:[g.jsx("span",{className:"text-gray-600 select-none w-10 text-right pr-3 flex-shrink-0",children:C.num}),g.jsx("span",{className:"text-gray-300 whitespace-pre",children:C.line})]},C.num))})}),!n&&!i&&!l&&g.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:"No config loaded"})]})}function Kme(){const{connection:t,auth:e}=Ps(),[n,r]=S.useState([]),[i,a]=S.useState(!1),[l,o]=S.useState(null),[u,h]=S.useState(""),[d,m]=S.useState(new Set),[y,v]=S.useState(!1),b=S.useCallback(async()=>{if(!(!t||t.type!=="prometheus")){a(!0),o(null);try{const j=await pn.getTargets(t.url,"any",e);if(j.status!=="success")throw new Error("Failed to fetch targets");const M=j.data.activeTargets||[],D=j.data.droppedTargets||[],T=new Map;M.forEach(_=>{const R=_.scrapePool||_.labels?.job||"unknown";T.has(R)||T.set(R,{job:R,activeTargets:[],droppedTargets:[]}),T.get(R).activeTargets.push(_)}),D.forEach(_=>{const R=_.discoveredLabels?.__job_name__||_.discoveredLabels?.job||"dropped";T.has(R)||T.set(R,{job:R,activeTargets:[],droppedTargets:[]}),T.get(R).droppedTargets.push(_)});const E=Array.from(T.values()).sort((_,R)=>_.job.localeCompare(R.job));r(E),m(new Set(E.map(_=>_.job)))}catch(j){o(j.message)}finally{a(!1)}}},[t,e]);S.useEffect(()=>{b()},[b]);const O=j=>{m(M=>{const D=new Set(M);return D.has(j)?D.delete(j):D.add(j),D})},C=n.reduce((j,M)=>j+M.activeTargets.length,0),k=n.reduce((j,M)=>j+M.droppedTargets.length,0),N=u?n.filter(j=>j.job.toLowerCase().includes(u.toLowerCase())||j.activeTargets.some(M=>M.scrapeUrl.toLowerCase().includes(u.toLowerCase()))):n;return!t||t.type!=="prometheus"?g.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:g.jsx("p",{children:"Select a Prometheus connection."})}):g.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h1",{className:"text-lg font-semibold text-white",children:"Service Discovery"}),g.jsx("button",{onClick:b,disabled:i,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:g.jsx(Zt,{size:14,className:i?"animate-spin":""})})]}),g.jsxs("div",{className:"flex gap-4 text-sm",children:[g.jsxs("span",{className:"text-gray-400",children:[C," active targets"]}),g.jsxs("span",{className:"text-gray-500",children:[k," dropped"]})]}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("div",{className:"relative flex-1 max-w-xs",children:[g.jsx(oc,{size:14,className:"absolute left-2.5 top-2 text-gray-500"}),g.jsx("input",{type:"text",placeholder:"Search jobs or targets...",value:u,onChange:j=>h(j.target.value),className:"w-full pl-8 pr-3 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),g.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-gray-400",children:[g.jsx("input",{type:"checkbox",checked:y,onChange:j=>v(j.target.checked),className:"rounded border-gray-600"}),"Show Dropped"]})]}),l&&g.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:l}),g.jsx("div",{className:"space-y-3",children:N.map(j=>g.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[g.jsx("button",{onClick:()=>O(j.job),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-900 hover:bg-gray-800/70 transition-colors text-left",children:g.jsxs("div",{className:"flex items-center gap-2",children:[d.has(j.job)?g.jsx(Ns,{size:14,className:"text-gray-500"}):g.jsx(qf,{size:14,className:"text-gray-500"}),g.jsx("span",{className:"text-sm font-medium text-white",children:j.job}),g.jsxs("span",{className:"text-xs text-gray-500",children:[j.activeTargets.length," active",j.droppedTargets.length>0&&`, ${j.droppedTargets.length} dropped`]})]})}),d.has(j.job)&&g.jsxs("div",{className:"divide-y divide-gray-800/50",children:[j.activeTargets.map((M,D)=>g.jsxs("div",{className:"px-4 py-3 space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${M.health==="up"?"bg-green-500":"bg-red-500"}`}),g.jsx("span",{className:"font-mono text-xs text-gray-300",children:M.scrapeUrl})]}),g.jsxs("div",{className:"pl-4 grid grid-cols-2 gap-x-6 gap-y-1",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-[10px] text-gray-500 uppercase block",children:"Discovered Labels"}),g.jsx("div",{className:"text-xs font-mono text-gray-400 space-y-0.5",children:Object.entries(M.discoveredLabels||{}).map(([T,E])=>g.jsxs("div",{children:[g.jsxs("span",{className:"text-gray-500",children:[T,"="]}),'"',E,'"']},T))})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-[10px] text-gray-500 uppercase block",children:"Target Labels"}),g.jsx("div",{className:"text-xs font-mono text-gray-400 space-y-0.5",children:Object.entries(M.labels||{}).map(([T,E])=>g.jsxs("div",{children:[g.jsxs("span",{className:"text-gray-500",children:[T,"="]}),'"',E,'"']},T))})]})]})]},D)),y&&j.droppedTargets.map((M,D)=>g.jsxs("div",{className:"px-4 py-3 opacity-60",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:"w-2 h-2 rounded-full flex-shrink-0 bg-gray-600"}),g.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"DROPPED"})]}),g.jsx("div",{className:"pl-4 text-xs font-mono text-gray-500 space-y-0.5",children:Object.entries(M.discoveredLabels||{}).map(([T,E])=>g.jsxs("div",{children:[g.jsxs("span",{className:"text-gray-600",children:[T,"="]}),'"',E,'"']},T))})]},`dropped-${D}`))]})]},j.job))}),!i&&N.length===0&&!l&&g.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:"No targets found"})]})}function Gme(){return g.jsx(DH,{children:g.jsxs(z9,{children:[g.jsx(Wt,{path:"/",element:g.jsx(vu,{to:"/influxdb/query",replace:!0})}),g.jsx(Wt,{path:"/explore",element:g.jsx(vu,{to:"/influxdb/query",replace:!0})}),g.jsx(Wt,{path:"/admin",element:g.jsx(vu,{to:"/influxdb/admin",replace:!0})}),g.jsx(Wt,{path:"/write",element:g.jsx(vu,{to:"/influxdb/write",replace:!0})}),g.jsx(Wt,{path:"/health",element:g.jsx(vu,{to:"/influxdb/health",replace:!0})}),g.jsx(Wt,{path:"/influxdb/query",element:g.jsx(ome,{})}),g.jsx(Wt,{path:"/influxdb/admin",element:g.jsx(kme,{})}),g.jsx(Wt,{path:"/influxdb/write",element:g.jsx(Eme,{})}),g.jsx(Wt,{path:"/influxdb/health",element:g.jsx(Dme,{})}),g.jsx(Wt,{path:"/prometheus/query",element:g.jsx(Bme,{})}),g.jsx(Wt,{path:"/prometheus/targets",element:g.jsx(zme,{})}),g.jsx(Wt,{path:"/prometheus/alerts",element:g.jsx(Hme,{})}),g.jsx(Wt,{path:"/prometheus/alertmanager",element:g.jsx(qme,{})}),g.jsx(Wt,{path:"/prometheus/tsdb",element:g.jsx(Vme,{})}),g.jsx(Wt,{path:"/prometheus/metrics",element:g.jsx(Fme,{})}),g.jsx(Wt,{path:"/prometheus/config",element:g.jsx(Wme,{})}),g.jsx(Wt,{path:"/prometheus/service-discovery",element:g.jsx(Kme,{})})]})})}G7.createRoot(document.getElementById("root")).render(g.jsx(eP.StrictMode,{children:g.jsx(W9,{basename:"/ui",children:g.jsx(Gme,{})})}));
